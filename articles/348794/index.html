<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hyperapp + Parcel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this post, we will look at two new tools from the world of front-end development. Both are designed with simplicity and ease of use. The first tool...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hyperapp + Parcel</h1><div class="post__text post__text-html js-mediator-article">  In this post, we will look at two new tools from the world of front-end development.  Both are designed with simplicity and ease of use.  The first tool is a very small Hyperapp front-end framework, and the second is Parcel bandler.  Together they can be the best choice for writing lightweight applications in early 2018. <br><br>  I usually use React &amp; Webpack to develop interactive web applications.  But often the bootstrapping of a new project using this stack takes too much time and looks cumbersome.  Using React in the case when I need a simple and not large interactive widget with search and display prices, looks like overkill. <br><br><h3>  Hyperapp </h3><br>  The main feature of Hyperapp is its size, only 1kb.  React &amp; Redux users will feel right at home, they are very similar with Hyperapp. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/6p/mb/s_/6pmbs_n6lxxgplndn5aupmi87rq.jpeg" alt="image"></div><blockquote>  Hyperapp is like a tiny version of React Rick </blockquote><a name="habracut"></a>  Hyperapp uses the Virtual DOM system to compute DOM updates, and also pursues the same abstraction of components and elements over HTML, which allows using JSX.  The key difference is that the components do not have a state - there is only one global state for the entire application and all components are represented as stateless. <br><br>  Hyperapp's state management is inspired by the Elm approach, which inspired Redux in its time. <br>  The concept of an imbueble state and action games that return a new state is very similar to the one used in Redux.  However, there are no reduders in Hyperapp, there are only actions that take arguments and return a new state (asynchronous actions that return promises are also present). <br><br><h3>  Parcel </h3><br>  Parcel is a new kind of front-end bandler, a kind of faster and pre-configured webpack.  I'm a fan of webpacks, but like any other, I can see that the configuration of webpacks is rather cumbersome. <br><br>  Parcel out of the box provides HOC (hot module replacement) and code-splitting.  To my surprise, after importing the .sass file, after running the parcel server devs, it automatically installed node-sass depending on and compiled a CSS file for me!  It is also worth noting that parcel is unrealistically fast. <br><br><h3>  And so, how do I use these two tools? </h3><br>  We will write an application using Hyperapp &amp; Parcel - very simple, it will simply display basic user information using the Github API. <br><br>  <a href="https://github.com/daftcode/hyperapp-parcel-app">Link to ready-made solution</a> <br><br>  Let's start by creating a new directory and installing the necessary dependencies: <br><br><pre><code class="bash hljs">mkdir hyperparcel &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-variable"><span class="hljs-variable">$_</span></span> &amp;&amp; npm init -y &amp;&amp; npm i hyperapp parcel-bundler babel-plugin-transform-react-jsx babel-preset-env</code> </pre> <br>  Along with the main tools that interests us, we installed babel presets for trapping code under the old environments. <br><blockquote>  $ _ means "argument of the last command" </blockquote><br>  Now let's add the index.html and index.js files: <br>  index.html <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./index.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  index.js <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'hello parcel'</span></span>)</code> </pre> <br>  So let's add the launch scripts for the server and build devs to package.json: <br><br><pre> <code class="hljs sql">... "<span class="hljs-keyword"><span class="hljs-keyword">start</span></span><span class="hljs-string"><span class="hljs-string">": "</span></span>parcel index.html<span class="hljs-string"><span class="hljs-string">", "</span></span><span class="hljs-keyword"><span class="hljs-keyword">build</span></span><span class="hljs-string"><span class="hljs-string">": "</span></span>parcel <span class="hljs-keyword"><span class="hljs-keyword">build</span></span> index.html <span class="hljs-comment"><span class="hljs-comment">--public-url ./" ...</span></span></code> </pre><br>  Run the virgin $ npm start server at localhost: 1234 in the browser, our page will be available and in the console you can see the result of console.log from index.js. <br><br>  Ok, now the hyperapp app.  For simplicity, we will use ES6 and JSX - using the babel compiler.  Fortunately, it is in Parcel by default and all we need to do is specify the env preset and JSX compilation under Hyperapp.  (Instead of React.createElement, the function h should be called). <br><br>  Create a .babelrc file in the project root: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"presets"</span></span>: [<span class="hljs-string"><span class="hljs-string">"env"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"plugins"</span></span>: [ [ <span class="hljs-string"><span class="hljs-string">"transform-react-jsx"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">"pragma"</span></span>: <span class="hljs-string"><span class="hljs-string">"h"</span></span> } ] ] }</code> </pre> <br>  At this point, we have finished setting up our environment and can begin to write the application.  Let's start with a simple Hyperapp view: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { h, app } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hyperapp'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> view = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;div&gt; hello hyperapp &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt; app({}, {}, view, document.body)</span></span></code> </pre> <br>  Since Parcel uses hot reloads, you will immediately see the result. <br>  The code is very simple and does not require any deep knowledge of Hyperapp. <br><br>  We import the necessary from Hyperapp, create a view function that is responsible for displaying the content and renders it all in the body of the page using the app function. <br><br>  Now let's do a Github user info.  First of all, we need some state in order to store user input and data obtained from the API.  (As mentioned at the beginning, the component in Hyperapp does not have its own website). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = { <span class="hljs-attr"><span class="hljs-attr">username</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">userData</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }</code> </pre> <br>  We also need a way to change this state.  Changes to the state in Hyperapp are similar to how it is done in Elm and Redux and are represented as functions that take a state with an action and return a new state: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> nameChangeAction = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) =&gt;</span></span> (state, actions) =&gt; ({...state, name})</code> </pre> <br>  In our case, the actions will look like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actions = { <span class="hljs-attr"><span class="hljs-attr">updateUsername</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">username</span></span></span><span class="hljs-function">) =&gt;</span></span> (state, actions) =&gt; { getUserData(username).then(actions.setUserData) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { username } }, <span class="hljs-attr"><span class="hljs-attr">setUserData</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">userData</span></span></span><span class="hljs-function"> =&gt;</span></span> state =&gt; ({ userData }) }</code> </pre> <br>  As you can see the updateUsername is asynchronous and uses another action to change the state. <br><br>  Of course, we will need the getUserData function.  We will use the Github API to retrieve information from a Github account whose nickname the user entered. <br><br>  In order not to pull the API on each character, we will use debounce. <br><br><pre> <code class="bash hljs">npm i debounce-promise babel-preset-es2015</code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getUserDataFn = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">username</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fetch(<span class="hljs-string"><span class="hljs-string">`https://api.github.com/users/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${username}</span></span></span><span class="hljs-string">`</span></span>) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> res.json()) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getUserData = debounce(getUserDataFn, <span class="hljs-number"><span class="hljs-number">700</span></span>)</code> </pre> <br>  Create a style file ( <a href="">you can take a copy</a> ) .sass and import it into index.js <br><br>  And also update the view: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> view = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, actions</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;main&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Search github users:</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;input type=<span class="hljs-string"><span class="hljs-string">'text'</span></span> className=<span class="hljs-string"><span class="hljs-string">'searchInput'</span></span> value={state.username} oninput={e =&gt; actions.updateUsername(e.target.value)} /&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span> &lt;div className=<span class="hljs-string"><span class="hljs-string">'userCard'</span></span>&gt; {state.userData ? ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">img</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'userCard__img'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{state.userData.avatar_url}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'userCard__name'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{state.userData.name}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'userCard__location'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{state.userData.location}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ) : ( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> search 'em</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> )} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/main&gt; app(state, actions, view, document.body)</span></span></code> </pre> <br>  That's all!  Our little application is ready. <br><br><h3>  Finally </h3><br>  Hyperapp and Parcel are a great example of how developer tools are evolving.  There are many ideas and approaches for creating front-end applications with a rich interactive interface.  Some of them quickly adapt to new realities and needs, and some of them will be left behind in this wondrous world of Javascript development.  React &amp; Redux is a very popular choice among developers and their key features are used in Hyperapp.  Webpack, in turn, influenced the world of bandlers and set new standards that Parcel is more than satisfying and who knows, maybe in the future it will take the lead.  Evolution is also the reason why we should not try to use the same set of tools to solve each new problem. </div><p>Source: <a href="https://habr.com/ru/post/348794/">https://habr.com/ru/post/348794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../348772/index.html">Kivy is a small fruit with a great future.</a></li>
<li><a href="../348774/index.html">LaTeX: Package Conflict Options</a></li>
<li><a href="../348784/index.html">How I moved to the EU: legalization, language, housing and work</a></li>
<li><a href="../348786/index.html">Creating an atmospheric Victorian city from modules</a></li>
<li><a href="../348792/index.html">Bloomberg: how Ilon Mask‚Äôs sale of flame throwers will change start-up financing</a></li>
<li><a href="../348796/index.html">Interview. Content Marketing for a Startup: Attracting First Customers and Optimizing Costs</a></li>
<li><a href="../348798/index.html">How to manage infrastructure in hundreds of servers and avoid problems: 5 tips from King Servers engineers</a></li>
<li><a href="../348800/index.html">Telegram bot to remove spam</a></li>
<li><a href="../348804/index.html">How I promoted my game for free through YouTube</a></li>
<li><a href="../348808/index.html">What's inside of HR? (Anatomy will not)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>