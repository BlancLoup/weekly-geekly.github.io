<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Flutter - a new look at cross-platform development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In August 2018, Flutter became the most requested cross-platform technology on Stack Overflow. 






 In our blog, Artem Zaitsev and Yevgeny Saturov ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Flutter - a new look at cross-platform development</h1><div class="post__text post__text-html js-mediator-article"><p>  <strong>In August 2018, Flutter became the most requested cross-platform technology on Stack Overflow.</strong> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c0e/eb8/453/c0eeb84536d4a276ccf02d1fab866f3c.jpg" alt="image"><br></p><br><p>  In our blog, <strong>Artem Zaitsev</strong> and <strong>Yevgeny Saturov</strong> from <a href="https://surfstudio.ru/"><strong>Surf</strong></a> , a certified agency of <strong>Google</strong> , will tell you why and how it happened: </p><br><p>  Cross-platform solutions have long attracted those who want to quickly and inexpensively launch the MVP product simultaneously under several platforms.  The reason is simple - a single code base.  It is easier to maintain: artifacts are centralized, there is no duplication of logic and revisions of the same bugs for each of the platforms.  And the people for its support and creation require less - there is no need to contain two native developers. </p><a name="habracut"></a><br><p>  Existing frameworks are either complex or not very productive due to the nuances of the technical implementation, or are full of bugs.  With their help, people tend to quickly start the minimum functionality, and eventually doom themselves to rewriting the project in the long term. </p><br><p>  The final release of Google‚Äôs mobile development framework <strong>Flutter</strong> , which has become the most requested cross-platform technology on Stack Overflow, is expected very soon.  I emphasize that it is designed specifically for mobile applications and covers two platforms: Android and iOS.  Currently presented <a href="https://flutter.io/">Release Preview 2</a> version.  New projects on <strong>Flutter</strong> fall into a special <a href="https://flutter.io/showcase/">collection</a> , the purpose of which is to show the capabilities of the framework.  Now the framework is actively updated with components and architectural add-ins thanks to the developer community (for example, the implementation of Redux). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/64b/bb3/dc8/64bbb3dc8e369d9defb1b3aac7c206cc.jpg"></p><br><h2>  Why do you need to believe in Flutter? </h2><br><h3>  Great for fast development. </h3><br><p>  You do not have to get out of the familiar Android Studio.  With the help of a plugin, it perfectly adapts to the development of <strong>Flutter</strong> applications. </p><br><p>  Hot Reload is a killer feature that allows you to instantly transfer all changes from the code to a running emulator or a connected device. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6d8/b83/e4e/6d8b83e4e063dbccf279adfe2b66dd1d.gif"></p><br><h3>  Simplicity and expressiveness of layout. </h3><br><p>  If you have ever developed applications for Android, I am sure that layout is not something that you enjoyed. </p><br><p>  <strong>Flutter</strong> is different.  First, no XML files with layout - widgets are created and configured directly in the code (something like Anko Layouts).  Widget is used instead of View. </p><br><pre><code class="plaintext hljs">new Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Padding( padding: EdgeInsets.all(16.0), child: Text( '$_name', ), ), //...</code> </pre> <br><p>  This is the code for the <strong>Flutter</strong> project.  At first, a huge number of brackets are scary, but such ‚Äútrees‚Äù are pretty obvious.  <strong>Flutter</strong> promotes the composition: from ready-made widgets, you can create a new one, like from a designer.  Almost any component has a <em>child</em> or <em>children</em> property that accepts another element or an array of elements, respectively.  Everything is simple and clear.  Make a beautiful user interface quickly enough. </p><br><p>  Secondly, right from the start, the creators of the platform offer developers a <a href="https://flutter.io/widgets/">catalog of</a> ready-made widgets.  It contains two sets of elements, Material Components and Cupertino, which look native for each of the platforms.  In addition, cross-platform widgets are available.  Their appearance and behavior are identical on iOS and on Android devices. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f9e/31a/611/f9e31a6110ad50567cc69420dedc8489.png"></p><br><h3>  Jet framework </h3><br><p>  Create a beautiful and pleasant UI in a short time, you can not only thanks to a large number of ready-made widgets, but also the language in which you have to write.  <a href="https://www.dartlang.org/">Dart</a> vaguely reminiscent of Java, JavaScript, C #.  It is expressive and perfectly tailored to the needs of the framework, although, after Kotlin, some artistic syntax overkill can introduce into a light stupor. </p><br><p>  <strong>Flutter is</strong> compiled into native code for each of the platforms.  ‚ÄúUnder the hood,‚Äù he uses Skia as a graphics engine. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ccf/e68/2c7/ccfe682c7711e28775b59d6e5e85bec2.png"></p><br><p>  A key feature of the system architecture is that all widgets, as well as components responsible for rendering widgets on the canvas, are part of the application, not the platform.  It is the absence of the need to switch the context and the use of "bridges" gives a performance boost, which contributes to the achievement of the cherished indicator of 60 FPS when drawing UI. </p><br><h3>  All the power of the platform is still in your hands. </h3><br><p>  Why refuse a ton of useful code that has been created in the community of mobile developers for a decade?  All libraries available in native SDK applications and platform APIs can be used for <strong>Flutter</strong> applications. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/232/671/4a3/2326714a314e40d563bb7594bbbe7c06.png"></p><br><h2>  Setting up the environment </h2><br><p>  Getting started with <strong>Flutter</strong> is easy. </p><br><p>  When developing, official documentation recommends using Android Studio, IntelliJ or VSCode with the appropriate plug-ins, but any text editor will do. </p><br><h3>  Step one </h3><br><p>  Download the <strong>Flutter</strong> SDK archive from the <a href="https://flutter.io/get-started/install/">official site</a> under your own OS.  Unpack to the desired directory and run the <code>flutter doctor</code> command.  This command will check if everything necessary is installed, as well as the presence of plug-ins for installed IDEs (for example, if Android Studio is installed, the utility will check the plug-ins for it). </p><br><h3>  Step two </h3><br><p>  If everything went smoothly, you can start creating the first project.  If errors are found, the doctor will tell you how to solve them. </p><br><h3>  Step Three </h3><br><p>  To use <strong>Flutter</strong> in Android Studio, you must install two plugins: <strong>Flutter</strong> and <strong>Dart</strong> .  You can install them in the standard way by opening the settings and selecting the necessary plugins in the search. </p><br><p>  Details on setting the environment written in the <a href="https://flutter.io/get-started/install/">official documentation</a> . </p><br><h2>  Dart </h2><br><pre> <code class="plaintext hljs">import 'package:flutter/material.dart'; void main() =&gt; runApp(MyApp());</code> </pre><br><p>  The first thing that catches the eye when seeing <strong>Flutter</strong> applications is an unusual code.  In the world of Android development, Java is used, and more recently, Kotlin. </p><br><p>  Now in the same row with them is <a href="https://www.dartlang.org/guides/language">Dart</a> .  Google is positioning it as an alternative to JavaScript with strong typing, high performance and flexibility. </p><br><p>  Dart syntax is easy to learn, though not as beautiful as Kotlin.  Perhaps this is a matter of taste and habit. </p><br><h2>  Project creation </h2><br><p>  You can create a project by running the flutter create name command in the console or using the IDE (in Android Studio ‚Üí New Flutter Project). </p><br><h3>  Application structure </h3><br><p>  After creating the project you will see the following structure.  There are four packages in the root directory of the application - lib, ios, android and test. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c84/587/b1b/c84587b1ba1bf0cda65135f085a6dfb2.png"></p><br><p>  The first is the framework directory.  There are all the dart-files and the main application code.  Despite the fact that <strong>Flutter is</strong> compiled into native code, for each of the platforms you have to write some native interactions.  In addition, you can embed <strong>Flutter</strong> into an existing application.  For native code, two packages are provided - ios / android, in which it is possible to write in the language familiar to a specific platform - Obj-C / Swift or Java / Kotlin.  In the test package you will find tests. </p><br><p>  There is a <em>pubspec.yaml</em> configuration file in the root directory - libraries are connected there, etc.  If we talk about the analogy, for <strong>Flutter</strong> it is like build.gradle (it also exists, but in the native Android part). </p><br><p>  The lib package can be broken down into additional packages - there is already a matter of taste and desire to use this or that architecture.  By the way, to create an application on <strong>Flutter</strong> , various techniques are used, which can be found <a href="https://github.com/brianegan/flutter_architecture_samples/blob/master/example/">here</a> . </p><br><p>  Your project will immediately have a main.dart file containing the code with an example.  The application has a single entry point - the main method.  He is responsible for creating the root widget. </p><br><h3>  Everything is a Widget </h3><br><p>  Everything that you see (or do not see) on the screen, everything with which the interaction occurs and the application itself is widgets.  Any user interface entity is a widget.  Text field, indent or gesture detector - widgets.  The application is built from them, as a constructor. </p><br><p>  According to the official website, ‚Äúeach widget is an immutable description of a part of the user interface‚Äù. </p><br><p>  For example, let's build an application with this screen: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0fa/0c9/18c/0fa0c918ceaab3394a3d254101977a5d.jpg"><img src="https://habrastorage.org/getpro/habr/post_images/e94/384/36e/e9438436e25250d2665cc064426a2442.jpg"></p><br><p>  Here are the following widgets: </p><br><ul><li>  attachment </li><li>  screen </li><li>  Appbar </li><li>  text </li><li>  button with loader </li></ul><br><p>  Some of them are implemented in the framework, some must be made up of finished parts. </p><br><p>  Widgets come in two types: <code>Stateless</code> and <code>Stateful</code> .  The former are static (for example, text), the latter support state changes (for example, the screen). </p><br><h4>  Stateless </h4><br><p>  An example of such a widget in an application might be MyApp.  This is the root of the application.  Inside we will place all that is required for rendering using the build method. </p><br><pre> <code class="plaintext hljs">class MyApp extends StatelessWidget { // This widget is the root of your application. @override Widget build(BuildContext context) { return new MaterialApp( title: 'Flutter Demo', theme: new ThemeData( primarySwatch: Colors.blue, ), home: Scaffold( appBar: new AppBar( title: new Text("Flutter Random Name"), ), body: new MyHomePage(), ), ); } }</code> </pre> <br><p>  Any static widget is a descendant of the <code>StatelessWidget</code> class.  You just need to override the build method, and in it build the necessary element.  <strong>Flutter</strong> promotes the composition.  To create a new item, do not extend the existing one. </p><br><p>  In the example, this widget is built from <code>MaterialApp</code> (the root of the application based on the components from MaterialDesign), inside which <code>Scaffold</code> lies - this is the screen. </p><br><p>  <code>MyHomePage</code> is also a widget that <code>AppBar</code> screen body, excluding <code>AppBar</code> .  In this case, it has a state.  We will talk about it below. </p><br><p>  The interface is built by passing the class constructor to the appropriate field with initialization of the arguments.  Dart supports optional parameters of methods, thanks to this, flexibility in creating UI is achieved. </p><br><p>  Note: the word <code>new</code> in Dart, starting with the second version, is optional. </p><br><p>  Such a layout of widgets can get a static screen of the application.  And the developer‚Äôs imagination is unlimited at all. </p><br><h4>  Statefull </h4><br><p>  State widgets support redrawing when their state changes ( <code>State</code> ).  To make such a widget, it is necessary to inherit from <code>StatefullWidget</code> and create a class-successor <code>State&lt;T&gt;</code> , which is the state of the widget and is responsible for what the user sees on the screen of the smartphone. </p><br><p>  Changing the state of the widget occurs through a call to the <code>setState() {}</code> method.  Inside you can, for example, set a different background color for the button, and the framework itself will determine the minimum necessary redrawing of the UI. </p><br><p>  In my case, the main page <code>MyHomePage</code> will be a widget with a state.  It stores <code>_name</code> - the name that will be displayed in the text block, and the loading flag <code>_isLoading</code> (responsible for how the <code>LoadingButton</code> internal widget is <code>LoadingButton</code> ; an example of managing the state through the parent). </p><br><pre> <code class="plaintext hljs">class _MyHomePageState extends State&lt;MyHomePage&gt; { String _name = ""; bool _isLoading = false; @override Widget build(BuildContext context) =&gt; Center( child: new Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Padding( padding: EdgeInsets.all(16.0), child: Text( '$_name', ), ), LoadingButton( isLoading: _isLoading, action: _generateName, ) ], ), ); }</code> </pre> <br><p>  The button has a callback, <code>action</code> , where the <code>_generateName()</code> method is <code>_generateName()</code> .  I note that in Dart there are no access modifiers, such as <code>private</code> and <code>public</code> .  But if it is necessary to make something private inside the module, the name must begin with the prefix ‚Äú_‚Äù. </p><br><p>  The <code>_generateName</code> method <code>_generateName</code> asynchronous.  It is responsible for loading the name, changes the <code>isLoading</code> flag, and sets the <code>name</code> value, which causes the button and text to be redrawn. </p><br><pre> <code class="plaintext hljs">final snack = SnackBar(content: Text("Handle error!")); _generateName() async { toggleLoading(); try { //   await // Json setName(map["name"]); toggleLoading(); } catch (e) { setName("oops!"); Scaffold.of(context).showSnackBar(snack); toggleLoading(); } } void toggleLoading() { setState(() { _isLoading = !_isLoading; }); }</code> </pre> <br><p>  To change the state, you must call <code>setState() {}</code> .  Without this call, the widget will simply not be redrawn. </p><br><p>  The loader implementation was pretty straightforward.  At the time of redrawing, either the text or the indicator is substituted into the button. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f78/aa3/fd5/f78aa3fd52cb8168a1d95740e932a484.jpg"></p><br><p>  The implementation takes only a few lines. </p><br><pre> <code class="plaintext hljs">_buildButtonChild() { if (isLoading) { return Transform.scale( scale: 0.5, child: CircularProgressIndicator(), ); } else { return Text("Click for name"); } }</code> </pre> <br><p>  <code>Transform.scale</code> needed to reduce the size. </p><br><p>  Asynchronous interaction in <strong>Flutter</strong> , in fact, as in Dart, is based on <code>async-await</code> .  More details can be found <a href="https://www.dartlang.org/tutorials/language/futures">here</a> , <a href="https://flutter.io/cookbook/networking/fetch-data/">here</a> and <a href="https://medium.com/%40takahirom/how-to-write-flutter-asynchronous-processing-22f845204f30">here</a> . </p><br><h2>  Where to begin? </h2><br><p>  Today, when new materials on <strong>Flutter</strong> come out almost daily, there is no shortage of good courses to help make friends with this technology. </p><br><p>  A good example of a basic course on <strong>Flutter</strong> is a course on <a href="https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905">Udacity</a> .  Lessons are divided into two chapters, thoughtful passage of each of which will take 3-4 hours. </p><br><p>  If the courses are not your option, start immersing yourself in technology through the study of the sources of existing projects.  The <a href="https://github.com/Solido/awesome-flutter">awesome-flutter</a> repository contains many such projects, and still boasts a very generous selection of ready-made libraries, solutions, samples and other materials for learning and inspiration. </p><br><h2>  Conclusion </h2><br><p>  According to the results of a deeper immersion in the topic, we have no trace of the former skepticism.  <strong>Flutter</strong> does not look like an experiment, but rather shows the direction in which a significant part of the mobile development industry will move in the coming years.  Some of the bold concepts that underlie <strong>Flutter</strong> bring new ideas and opportunities to the development.  The quick, almost intuitive creation of the user interface makes prototyping and UX experiments easier than ever and accessible to everyone.  In what area <strong>Flutter</strong> will find its application - time will tell. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/426701/">https://habr.com/ru/post/426701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../426687/index.html">Production of the case for the robot with a limited budget. Vacuum forming</a></li>
<li><a href="../426689/index.html">Responsible for someone else's bazaar: what social networks say about CRM</a></li>
<li><a href="../426691/index.html">Programmer at the hospital</a></li>
<li><a href="../426693/index.html">Navigation service robot on the golf course. Construction and obstacle avoidance</a></li>
<li><a href="../426697/index.html">Working with devices on LibUsb from under Android</a></li>
<li><a href="../426703/index.html">What was interesting on DataVizDay in Minsk</a></li>
<li><a href="../426705/index.html">Hyperledger Fabric Smart Contract Development and Testing</a></li>
<li><a href="../426707/index.html">Matching system How we invented the bicycle</a></li>
<li><a href="../426709/index.html">JavaScript timers: all you need to know</a></li>
<li><a href="../426713/index.html">Intel Xeon W-3175X: 28 cores for home</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>