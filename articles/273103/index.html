<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to auto-sync data while editing Kendo Grid cells</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We want to share with all the translation of our recent article from Codeproject.com: ‚ÄúHow to make data auto-synchronization while editing Kendo Grid ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to auto-sync data while editing Kendo Grid cells</h1><div class="post__text post__text-html js-mediator-article">  We want to share with all the translation of our recent article from Codeproject.com: <b>‚ÄúHow to make data auto-synchronization while editing Kendo Grid cells‚Äù</b> . <br><br>  Kendo Grid uses a DataSource in which the autoSync property can be set to true.  In this case, after editing the cell, it automatically updates the data in the database.  But at the same time there is a big inconvenience: after we have edited one cell and click into another, Kendo Grid seems to open the editor in a new cell.  But at this very moment there is an auto-sync (the Grid updates the data), and the editor disappears.  You have to click twice in the second cell to make Kendo Grid edit it. <br><br>  It would be desirable that when editing cells in the auto-synchronization mode, the behavior of Kendo Grid was similar to the generally accepted one, so that when you click on an edited cell, you can immediately edit it and not have to double-click it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For this you need to do a lot. <br><a name="habracut"></a><br>  1. Before initializing the Grid-a, you need to set the event handling: <br><br><pre><code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mouseDown = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.onmousedown = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ mouseDown = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.onmouseup = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ mouseDown = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br>  2. Then get 2 variables: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> saved = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> saved2 = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre> <br>  saved is set when saving data to the DataSource, and saved2 is after synchronizing data with the remote database. <br><br>  3. Set event handlers for edit and save in the Grid: <br><br><pre> <code class="hljs javascript">edit: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (saved) { saved = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = e.sender; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> col = e.container.context.cellIndex; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> row = e.container.context.parentNode.rowIndex; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resetEditor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!saved2) setTimeout(resetEditor,<span class="hljs-number"><span class="hljs-number">100</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ saved2 = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cell = $(grid.tbody).find(<span class="hljs-string"><span class="hljs-string">"tr:eq("</span></span> +row+ <span class="hljs-string"><span class="hljs-string">") td:eq("</span></span> + col + <span class="hljs-string"><span class="hljs-string">")"</span></span>); grid.editCell(cell) grid.table.focus(); } }; resetEditor(); } }, <span class="hljs-attr"><span class="hljs-attr">save</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ saved = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; saved2 = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = e.sender; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sync2db</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(mouseDown) setTimeout(sync2db,<span class="hljs-number"><span class="hljs-number">50</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ grid.dataSource.sync().then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ saved2 = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }); },<span class="hljs-number"><span class="hljs-number">10</span></span>) } }; sync2db(); },</code> </pre> <br>  Kendo Grid triggers an edit event only after the mousesup system event.  If synchronization occurs before this point, then event edit will be lost and the Grid will not put the editor in a new cell.  Therefore, during the save event, we call the sync2db function, which, by timer, postpones synchronization until the event mouseup occurs. <br><br>  But all this is not enough.  After synchronization, the editor will still be lost (Kendo Grid behaves this way).  Therefore, the edit handler remembers the cell being edited and, after synchronization, again puts it into edit mode.  For this, the edit handler calls the resetEditor function, which waits for the timer when the saved2 variable is set after synchronization, and then re-puts the saved cell into edit mode.  It doesn't look very simple, but it works great. </div><p>Source: <a href="https://habr.com/ru/post/273103/">https://habr.com/ru/post/273103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273087/index.html">The button bar in the elevator: the door, do not rush to close</a></li>
<li><a href="../273089/index.html">Selenium for Python. Chapter 5. Expectations</a></li>
<li><a href="../273093/index.html">How to replace a domain controller and not break the current infrastructure</a></li>
<li><a href="../273095/index.html">Content filtering: why and how to do it</a></li>
<li><a href="../273101/index.html">Moscow Python Meetup ‚Ññ31</a></li>
<li><a href="../273107/index.html">OpenSource.Mail.Ru: open projects of our employees</a></li>
<li><a href="../273109/index.html">Mix colors correctly or optimize AlphaBlend</a></li>
<li><a href="../273111/index.html">Checking Microsoft Code Contracts</a></li>
<li><a href="../273113/index.html">Using Google Analytics in games</a></li>
<li><a href="../273115/index.html">Selenium for Python. Chapter 6. Page Objects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>