<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Practice of using XOR in programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will talk about the bit operation XOR (exclusive OR) and give the most interesting examples of its use in JAVA. 

 So, XOR is an ope...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Practice of using XOR in programming</h1><div class="post__text post__text-html js-mediator-article">  In this article I will talk about the bit operation XOR (exclusive OR) and give the most interesting examples of its use in JAVA. <br><br>  So, XOR is an operation that takes the value "true" only if only one of the arguments has the value "true." <br><br><img src="https://habrastorage.org/storage2/9af/1de/e09/9af1dee09d4d36ff0b15bdb4aae19e3b.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  XOR has the following properties: <br><br>  <i>a XOR 0 = a</i> <i><br></i>  <i>a XOR a = 0</i> <i><br></i>  <i>a XOR b = b XOR a</i> <i><br></i>  <i>(a XOR b) XOR b = a</i> <br><br>  In the JAVA language (as well as in C, C ++, C #, Ruby, PHP, JavaScript) the operation is denoted by the symbol ‚Äú^‚Äù. <br><br><h4>  Exchange of variable values ‚Äã‚Äãwithout using an additional variable </h4><br>  Using the XOR operation, you can implement the exchange of values ‚Äã‚Äãof the same type variables without using an additional variable: <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">5</span></span>, y = <span class="hljs-number"><span class="hljs-number">7</span></span>; x = x^y; <span class="hljs-comment"><span class="hljs-comment">// x == 2 y = x^y; // y == 5 x = x^y; // x == 7</span></span></code> </pre> <br>  or in a shorter record: <br><pre> <code class="java hljs"> y ^= (x ^= y); x ^= y;</code> </pre><br><br>  Thus, you can, for example, implement the reverse of a text line: <br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reverseWithXOR</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String string)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>[] array = string.toCharArray(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.length; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> half = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) Math.floor(array.length / <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; half; i++) { array[i] ^= array[length - i - <span class="hljs-number"><span class="hljs-number">1</span></span>]; array[length - i - <span class="hljs-number"><span class="hljs-number">1</span></span>] ^= array[i]; array[i] ^= array[length - i - <span class="hljs-number"><span class="hljs-number">1</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String.valueOf(array); }</code> </pre><br><br><img src="http://habrastorage.org/storage2/dc5/cbd/5e7/dc5cbd5e7b8d19e4c15a6b48f118480a.png"><br><br>  It should be noted, however, that such a code does not provide a gain in speed as compared with a code using a temporary variable. <br><br><h4>  Encryption </h4><br>  Encryption based on XOR operations uses the property: <br>  <i>(a XOR k) XOR k = a</i> <br>  where <i>k</i> - acts as a key <br><br>  A simple implementation of string encryption: <br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] encode(String pText, String pKey) { <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] txt = pText.getBytes(); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] key = pKey.getBytes(); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[pText.length()]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; txt.length; i++) { res[i] = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (txt[i] ^ key[i % key.length]); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }</code> </pre><br><br>  and decrypt: <br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] pText, String pKey)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[pText.length]; <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] key = pKey.getBytes(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; pText.length; i++) { res[i] = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (pText[i] ^ key[i % key.length]); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(res); }</code> </pre><br><br>  Let's try to encrypt the line ‚ÄúEat these soft French buns, and drink tea.‚Äù And as a key, take the word ‚Äúhabr‚Äù: <br><br><img src="http://habrastorage.org/storage2/6c7/cc5/8dc/6c7cc58dc6b43307dad4a24a76ae0bfd.png"><br><br>  The bottleneck of such encryption is that knowing a part of the ciphertext you can easily restore the key and, accordingly, decrypt the entire text.  Therefore, in its pure form, it is rarely used in practice, although it is used as part of more complex encryption algorithms. <br>  Interestingly, at one time this algorithm was used by Microsoft to encrypt the contents of documents in Office 95. <br><br><h4>  XORShift random number generator </h4><br>  In 2003, <a href="http://en.wikipedia.org/wiki/George_Marsaglia">George Marsaglia</a> introduced the world to a fast algorithm for generating random numbers using XOR - <a href="http://en.wikipedia.org/wiki/Xorshift">XORShift</a> . <br><br>  One of its possible razlizatsy: <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">XORShift</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> rnd; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">XORShift</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rnd)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd = rnd; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRandom</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd ^= (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd &lt;&lt; <span class="hljs-number"><span class="hljs-number">21</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd ^= (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">35</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd ^= (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd &lt;&lt; <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rnd; } }</code> </pre><br><br>  Here the ‚Äúmagic‚Äù numbers 21, 35 and 4 are selected to generate the best sequence (the full period is 2 <sup>64</sup> -1). <br>  After initializing the generator with the number 1111111111, we get the following sequence for the first 10 numbers: <br><br>  39462749392662495 <br>  4596835458788324745 <br>  -7932128052244037525 <br>  -2502212788642280052 <br>  3288035714308340525 <br>  -8561046377475020727 <br>  -812160615072319265 <br>  -3869866974339671508 <br>  -7329504029400927428 <br>  3890915262874757420 <br><br>  In conclusion, please those who have other beautiful examples of XOR, not included in the article, tell us about them. </div><p>Source: <a href="https://habr.com/ru/post/183462/">https://habr.com/ru/post/183462/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183448/index.html">Three tasks for programmers who do not need math</a></li>
<li><a href="../183452/index.html">The director filed a lawsuit for the right to use the song "Happy Birthday" without licensing fees</a></li>
<li><a href="../183454/index.html">Return by value and const variables in C ++ 11</a></li>
<li><a href="../183458/index.html">Mobile Web Development: HTML5 Android App</a></li>
<li><a href="../183460/index.html">Amazon has a section on selling 3D printers.</a></li>
<li><a href="../183466/index.html">Wall mounted aircraft, jumping glider and quadrocopter on the ceiling</a></li>
<li><a href="../183468/index.html">Forwarding a video card in KVM from under ubuntu</a></li>
<li><a href="../183470/index.html">Lock audio records Vkontakte. Restore playlist</a></li>
<li><a href="../183474/index.html">RF Government Decree No. 539, or Wi-Fi Legalize</a></li>
<li><a href="../183476/index.html">Currently, the memory effect is also found in lithium-ion batteries.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>