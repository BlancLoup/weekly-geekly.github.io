<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>African experiment Bitrix24</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ÄúAh, in Africa the rivers are so wide! 
 and in Africa the mountains are so high! ‚Äù 

 These lines take us back to our distant childhood and remind us...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>African experiment Bitrix24</h1><div class="post__text post__text-html js-mediator-article"><img src="https://lh3.googleusercontent.com/pA27n-nfrV_lc9xzTt69HMfDCG078P2jWocszTWkrQLiRppqPtVJfH5_fDCG7rhO2j15l5JfRX3PTJBBwfIt9dfMwcikR8zbyy8HcYFzPWIPBk_37WX_JwVSA1YHUHOCAUBKA1g-T_PdN8IIApksanSJADbGXh7T5MJUxpsr5qoX3Z-o5pKejy1F6vaXy89yGwND7yUdApDpeVp1eBDb-6T0gglGkBAagE67_eizr5tAdYZlD_xBWBHpZBRMJjV_X2LepKdzo8UIrZY41uY_3ZWPJiLXO3yPrfwx193a6PxIxUqCjdbMn5JSDUUj3BLJ8aFkhF-W1K3JpAl6TjjmpdM5a6_71Cefyl5sxJreVn4J10OxhSKXGNWvlug0nt50k_NceNL-iSf5uQZkZ63x59CN6TehyZq9o6A-3GXo-z28a4zMTfR1WIEofrOcPQDV_qZB4kdHJGuffmNMuDs8ngv1NZ-yp1Cah8qFRmvmfWdW6yTkEbUyHXBE9sgdJs139r2J5AmHeYQXSHvcNLirxiIY7Tvr63yXBJvvJFiThs7daHr99dIwOpWHPHr7MTbo=w1366-h623"><br><br><h2>  ‚ÄúAh, in Africa the rivers are so wide! <br>  and in Africa the mountains are so high! ‚Äù <br></h2><br>  These lines take us back to our distant childhood and remind us of the adventures of Little Red Riding Hood from the fairy tale of the same name.  But today we‚Äôll talk not about the artistic part of this work, but about how we implemented <b>Bitrix24</b> into one large company in the <b>Republic of South Africa.</b> <a name="habracut"></a><br><br>  We started with identifying customer needs - before us, they had 3 companies providing CRM systems integration services, but, as we understood, 1 company - just installed a box version for them on their server, 2 - did something there, but I did not finish it, but the third company simply did not understand what the customer wants. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>The customer</b> is a large consulting company working in the field of assistance with the receivables of the population.  60 people work in their <b>call center</b> , and the whole team is about 150 people.  The company, although relatively small, but they help to gain financial independence for hundreds of thousands of South Africans. <br><br>  Basically, the company works on ‚Äú <b>cold</b> ‚Äù calls, and for this they used to use a lot of different software.  Let's start in order.  The list of <b>leads</b> was loaded into Bitrix24, the calls came from another service, and as a result, the manager had to send the same lists several times to and from.  As a result, the call center manager, on average, spent 3 minutes on adding and changing information in all systems for only one lead, that is, the <b><i>manager's efficiency was low.</i></b> <br><br>  Having looked at how Bitrix24 arranged them, namely on the server part, we decided to reinstall it, having previously removed the <b>backup</b> .  We carried out this action in the late evening, due to the difference in time zones.  After removing the backup, we began our work. <br><br>  Bitrix24 was installed on the provider's server, which means that the customer would have to constantly refer to it in order to increase the amount of memory and change other various characteristics.  To address these issues, we installed Bitrix24 on a server within the company, and, as recommended by the developers, installed it on the <b>CentOS 7</b> platform. <br><br>  Deployed, watched, checked, tested and voila - no one noticed the substitution! <br><br>  The efficiency of the system was at a good level, so we started urgent business.  Since this is a large <b>call-center</b> , it was necessary to solve the issue with telephony.  Increasing employee <b>efficiency</b> is an important aspect that concerns every leader of any organization.  For telephony in Bitrix24, we decided to use <b>Asterisk</b> with the <b>FreePBX</b> control panel. <br><br>  In order not to be mistaken with the version of Asterisk we need, we decided to install it from the source codes; we chose the thirteenth version, since it was the freshest on the market at the time of installation;  so, for starters, we installed the necessary dependencies for building Asterisk. <br><br>  We installed on <b>Centos 7</b> , and here <br><br><h4>  Installation instructions for this software: <br></h4><br>  <b><i>1 - Install system updates.</i></b> <b><br></b> <br>  For the system to work correctly, you need to log in as root and update the system.  This is done through the following command: <br><br><pre><code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">root@centos-7 ~</span></span>]<span class="hljs-meta"><span class="hljs-meta"># yum update</span></span></code> </pre> <br>  <b><i>2 - Next, you need to install the required packages.</i></b> <b><br></b> <br>  After updating the system, you need to install the necessary packages and dependencies, through the command: <br><br><pre> <code class="hljs pgsql">[root@centos<span class="hljs-number"><span class="hljs-number">-7</span></span> ~]# yum install gcc gcc-c++ php-<span class="hljs-type"><span class="hljs-type">xml</span></span> php php-mysql php-pear php-mbstring mariadb-devel mariadb-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> mariadb sqlite-devel lynx bison gmime-devel psmisc tftp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> httpd make ncurses-devel libtermcap-devel sendmail sendmail-cf caching-nameserver sox newt-devel libxml2-devel libtiff-devel audiofile-devel gtk2-devel <span class="hljs-type"><span class="hljs-type">uuid</span></span>-devel libtool libuuid-devel subversion kernel-devel kernel-devel-$(uname -r) git subversion kernel-devel php-process crontabs cronie cronie-anacron wget vim</code> </pre><br><img src="https://lh3.googleusercontent.com/M4nruznhIQl8khIXRunxBvAbbmQHDqLh8oCFf6lrcKooPtPDLPyBvu7KGfZDRZmu9HPsGDPshvN7fU-Bn1HgUbcrRHiATg_Z5zgybBvmtjyzLri2qW2B2JZ8vYELx10b3ACkd--vo-4h675hRDevjyECddiXWMw9DVrlse9Xe6h3NoY-nto_QuCwjiS0TWnSyzhHZQbedx4PkqZGG5CxwJ9rm10Qmd-kKD5ZTMBsPQvm-xp4hRGsKUsEQa7guYTo_PQ83bsin5GqlVMI9sN-ozEEOHwio09M5rtPDfebJmJrxu1TzfUETeOnyUT6U3dcrKnG2cC0f6Aw5o50ooJX2aFgty6i4Mjj6eSINPckKvtbGrdjD1YZz8tl0WwSdhMqvPeuhNPV8Ksy-8HMhfwx0jzUkgHqqlAyus3MUC7mClAtbybseaEI_XYnwOZPazJcAeLv0vXqkeQYkVRsEwPVpeECPSUm_lMKzh0EvQwBl2seGDL-NtiHhRnYDAYWNBJv1so4IqKlAEdKSxfx6GYzYVBkPxcpR1lLt-IIXNa4ZbmUIeLTPlnYtswbsEpJG-mp1F8=w1366-h672" alt="Package installation"><br><br>  You need to check the packages, and if these are the ones that are needed, click on 'Y', and continue the action.  On average, the download takes about 125-130 MB, depending on what has been installed previously.  If everything was done correctly, then a list of installed packages, updates and dependencies will appear. <br><br>  <b><i>3 - Customize MariaDB</i></b> <b><br></b> <br>  MariaDB is needed here without fail - without it, work with databases will be complicated several times. <br><br>  To install it, you need to run the following command: <br><br><pre> <code class="hljs sql">sudo yum <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> mariadb-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span></code> </pre><br>  Next, run the daemon <br><br><pre> <code class="hljs pgsql">sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> mariadb</code> </pre><br>  Customize: <br><br><pre> <code class="hljs ruby">[root@centos-<span class="hljs-number"><span class="hljs-number">7</span></span> ~]<span class="hljs-comment"><span class="hljs-comment"># systemctl enable mariadb [root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@centos</span></span></span><span class="hljs-comment">-7 ~]# systemctl start mariadb [root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@centos</span></span></span><span class="hljs-comment">-7 ~]# systemctl status mariadb</span></span></code> </pre> <br>  After that, you need: <br><br>  <b><i>4 - Install libjansson</i></b> <b><br></b> <br>  Download: <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">root@centos-7 ~</span></span>]<span class="hljs-meta"><span class="hljs-meta"># wget http://www.digip.org/jansson/releases/jansson-2.7.tar.gz</span></span></code> </pre><br>  Unpack: <br><br><pre> <code class="hljs css"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[root@centos-7 ~]</span></span># <span class="hljs-selector-tag"><span class="hljs-selector-tag">tar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-zxvf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jansson-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.7</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tar</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.gz</span></span></code> </pre><br>  Configuring: <br><br><pre> <code class="hljs ruby">[root@centos-<span class="hljs-number"><span class="hljs-number">7</span></span> ~]<span class="hljs-comment"><span class="hljs-comment"># cd jansson-2.7 [root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@centos</span></span></span><span class="hljs-comment">-7 ~]# ./configure --prefix=/usr</span></span></code> </pre> <br><img src="https://lh3.googleusercontent.com/8qFx8wHR-xOmVA0S9chcFG_bBCYONWdX0Z4F_bFQ3rKPSOWcUVBzuRuq5MBw1jZr3J76hyOiKr3EKnUZ24mBu4G1IMEiTX4z4cQ5so-lHug7UHvsifBH6Rh7MS_t574WBSbIO8KgjhtRg3itobJWTdXDeIC1XstxJ7l03N3j-pTc3FsmoatulLRY36jUXMsv-ptpK3sUsX7m-5ojFibfym8oSaEAh4GLHTtJXrgm8wGP-Bbn_ctQIpeidC4RXZ1xpjcfjzPd7sfffpnW9oNscNYav_cMJNjop__iSWM4vOlppu2YtXUSwK3Y0pBur-qApE1--qZgsRVs_AhK6K1JDb3SLQ0nC3sEhpzshVhzeNLmrLHwbElOr0HmXBCv_pUkmNhlP15F2zA6z894Ns3g0XfmkEmTgxxU8NPN1X7n7dwDnNW8q-EFJQKgWBGWp4xxDbFVSYHyKiu-OwHEuM3ZqbuWAJAPgRtlJRDk20s7FauV50nSelOc9knMy1dpPLUkEo2BG10b4siLmK5oBPiDa7K4zzlHFYjXRFNXYXry2K02O-UY80hsKkRhJHD93tGw=w1366-h672" alt="Configuring"><br><br>  And compile the customized package: <br><br><pre> <code class="hljs ruby">[root@centos-<span class="hljs-number"><span class="hljs-number">7</span></span> jansson-<span class="hljs-number"><span class="hljs-number">2.7</span></span>]<span class="hljs-comment"><span class="hljs-comment"># make clean [root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@centos</span></span></span><span class="hljs-comment">-7 jansson-2.7]# make &amp; make install [root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@centos</span></span></span><span class="hljs-comment">-7 jansson-2.7]# ldconfig</span></span></code> </pre> <br>  <b><i>Next, we installed Asterisk and set up the FreePBX control panel.</i></b> <b><br></b> <br>  We installed it from the source code, namely: <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">root@centos-7 ~</span></span>]<span class="hljs-meta"><span class="hljs-meta"># wget http://downloads.asterisk.org/pub/telephony/asterisk/asterisk-13.5.0.tar.gz</span></span></code> </pre><br><img src="https://lh3.googleusercontent.com/2OWXCMIUKtn7zAgCmy7uAa0UyZazbzktzAThorflj_g-q5BACZkszbpCMwiik9kgQ-0hGAJkpUtv3Wji7Gd7h6GzO0yyM9etz7HboFq1C36g42o2z82EDFgAm4bFYs6B3OGe0yFT_ixeGIaU6itGYHvXJ8AIsxE7N44NsTRCFvY9vHJ5Yl3NB6GryMp8fPbz74dxaTicCuhiIbLVd5-6XBCP3E3nKPQyvKKGgPIIwhZQHIevQVPBUHR0AaFcOQHBDQUVWiniI-DyeIploJuUq_qcIKidpeMxy_E2vE7yepdwfcMu_ZpqG139_BOWrp6yaF9-hfB_SEoD91jazl3nB2XFnECeJYlWDY1DWqBQATO6E25NEnhIRoqjjeLYrEF-iwlDgYhlbYLRSSVqwzT4TW6eRyhYo5nB4QQYZ1tcyTtb90UuFAir8dk55dl6Q8k5KOEaYAz-cy6tosksUhs2QIEFl177lWZxnZefi_Pb92pH_3xNUTL0AEGnioUM7xDzyBc8sSum4YSAe7KCHVYjXmqbTQYUvRvHCkK3GYnuxmtlMXffH_Ba2MPYev3NBfSpITo=w1366-h258" alt="Installation from source codes"><br><br>  After unpacking the archive, you need to configure it before building by going to the appropriate folder: <br><br><pre> <code class="hljs ruby">[root@centos-<span class="hljs-number"><span class="hljs-number">7</span></span> ~]<span class="hljs-comment"><span class="hljs-comment"># tar -zxvf asterisk-13.5.0.tar.gz [root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@centos</span></span></span><span class="hljs-comment">-7 ~]# cd asterisk-13.5.0 [root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@centos</span></span></span><span class="hljs-comment">-7 asterisk-13.5.0]# ./configure --libdir=/usr/lib64</span></span></code> </pre> <br><img src="https://lh3.googleusercontent.com/Tyb6HXuWj5teh1h5wSSGT16FcrNJC2d4-BTtSpwyNmWnz9_oCj1Hf2WLm3Gmu4BGencrJO0xTVMLbqK0fbMmocXW_5XYs3VF_kQr32ZJVl1fOP3WdNkQxVWsoXlR_oSwYOFS5i7xmDCzaKn9UAQZ3RRkGFT7UWWioIh8UM1Bwft-RRIXS3a-bRXvSxAH-IdNVUAQcbiPMuZbLhsfAIVIZUn1vQamW6pUrUU18x4Lfcbq3dzdMJLtz-NdudsLAiKwtGxgyVZZvjlYbhzakU9f6VQuiIGntpw3NYxT4EZwjhIOs2iyL0pHWmKzyyRbPceHuWL0r_YzcKS0G4KgVBzJktJjkBbzZR5kXGeqF0A3hZJX8bfAAjcdijo4Knp6ooXtY90i8zlOU8ewTKiMVTqfe0mo5GHasRrSs2Unbo_tpWoqfPguxqo4Omhsuf47HshMjpiVNvTtYARvCN8gs9w3y5PKaSJdgSTq-27O1gFMzXs-9pbURrbeqhMNwo2WBOGJpwoBbUYgKu5YpaZLHDU_KsgAPMG66RjYmrsO-7bD5rFfe54LhGlMTFwrNAGQGQ81ngY=w1366-h258" alt="image"><br><br>  When properly performing this operation, we will see the Asterisk logo in ASCII Art style: <br><img src="https://lh3.googleusercontent.com/rov79XoUBpSQ_8SB6rjJTomu6_axz5cLb7eIhkbDPgps81i8a6zYgmSx0k6H0kLvhbSg3lLhjqE74YCmtgYu2xEsb94WOGHVEcmdO9x0ZYwaPRk33W3TeqT_zKcBH7Isgz6LyTjOc44aUq38Un_xL6fsyO2gBQ98XK14giQpI5vLOktE6NlhmrjlgxunUSow6RlgxsWi0OUQQWFaUXeEt6lKK_6MjhR7ngeew9i5N9XjWSXpkoiv_ntmmW6qzgU1TQE2u6GwXjNk0xXjlAwlr4BGvD_zGk8SowXx-yWHVRl6I1GRBkv7LfI83yXue6BUpqtsecfEE4ZalHXMcIgfvPzXhlMJbljQN7HnmfJYb9fRXzvYvnUvTrXFlI9lBUn1PVCxM3ywMjIYWWVp28PdJl3AHQMUjVFxNNfxmSWe3AYljoImqq0re4nMgpRKBeZaTUP3oZ0ScMUo-V1LGEgYpR5NdPbZpocrQvmp9DI3SW-VtDUuenrhkdIDNAyNF2RBhbRJJYwl9Va1spV4fm7KevJWBcS5GJfDG5OJJiBhs3oYUJALSpwfBSlNzudnvyxQ=w1366-h623&quot;" alt="Asterisk ASCII Art Logo"><br><br>  Further, a very important point: Asterisk itself can work, and works quite well, but it is inconvenient in terms of management, so we connected several modules. <br><br>  <b><i>1 - Settings menu</i></b> <b><br></b> <br>  To get into it, you need to run the following command: <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">root@centos-7 asterisk-13.5.0</span></span>]<span class="hljs-meta"><span class="hljs-meta"># make menuselect</span></span></code> </pre><br>  In principle, some modules are already connected, but we can choose from them that are suitable for each individual case. <br><br>  Next you had to configure <b>IVR</b> for our customer.  It must be said that the customer approached this issue very seriously - he prescribed the text for each menu item himself, rented a <b>recording studio</b> , and asked them to make high-quality tracks, in general, he was confused, and well done! <br><br>  Here‚Äôs how we plugged in the .mp3 support module.  To do this, you must select " <b>format_mp3</b> " <br><img src="https://lh3.googleusercontent.com/K8wfC0-Zxf2tChVh2KL1acIIQqaOOFN4_wFOZW5Xv8cKNEvqX4q2B49Chxe0qS1xXCVxeaFna1x7BVuQ43ohIA0O22QtZGeo00ReE2pT7bRRPUnSVUnXMFgHMkhH0N86yyCJAMmGtgR_vMQavo9gvAOoK8O5Db7keSI7jcSsRJ_zHxz8Br5M7FusP3nLjx8JwaS7rWhFePvJincwSSRcLSIbOal3xrQ77gg2taz8Rhq6S3DE8zNLNWdXYnvneyRrlJAoCEHvsR0qcu5FTRZ2zBWHBhwku6VPJAnaTra4YbeSe-msc9ElHIoe6ddXGzdApCLgIPybiv7tlTpDS5vHpWPpig3f7wPdgJ30ewtP9LRJhOwIVZvgC1uoZ7FYi-hA5S5_8-7oTBOAvtO-_g0R2ePzHzHinALLxeEhUEKLq7L0uigPtjSqA4OaXCVurlwEOyHD3nEkWOc1h-SnnfkxE_0fF18Ld7oaB-TQ-UVY_92Q4sAo9gYLOdpXqYMgYi1Vs8Qd8k1z1jdJ-qThaGIydYyMfjSTN6SoROicBFcHoiyN2APE29ahMceLKy3OxtBrgpY=w1366-h672" alt="This is how we plugged in the .mp3 support module."><br><br>  Then go to the section <b>Core Sound Packages</b> and mark the audio packages we need. <br><br>  We set up the voice control well, and we were delighted with the result. <br><br>  <b><i>After that we installed FreePBX.</i></b> <b><br></b> <br>  To do this, you need to slightly modify <b>Apache.</b> <br><br><pre> <code class="hljs coffeescript">sed -i <span class="hljs-string"><span class="hljs-string">'s/\(^upload_max_filesize = \).*/\120M/'</span></span> <span class="hljs-regexp"><span class="hljs-regexp">/etc/php.ini sed -i 's/</span></span>^\(User\|Group\).*<span class="hljs-regexp"><span class="hljs-regexp">/\1 asterisk/</span></span><span class="hljs-string"><span class="hljs-string">' /etc/httpd/conf/httpd.conf sed -i '</span></span>s<span class="hljs-regexp"><span class="hljs-regexp">/AllowOverride None/AllowOverride All/</span></span><span class="hljs-string"><span class="hljs-string">' /etc/httpd/conf/httpd.conf systemctl restart httpd.service</span></span></code> </pre> <br>  Download and run <br><br><pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/src wget http://mirror.freepbx.org/modules/packages/freepbx/freepbx-<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-latest.tgz tar xfz freepbx-<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-latest.tgz rm -f freepbx-<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-latest.tgz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> freepbx ./start_asterisk <span class="hljs-built_in"><span class="hljs-built_in">start</span></span> ./install -n</code> </pre> <br>  And you're done! <br><br>  <i>However, for experienced system administrators - this is not a difficult job.</i> <i><br></i> <br>  In theory, almost all of us have done, but now one of the main questions remains - the connection of the operator.  <b>2 telephony providers</b> were provided, and both needed to be connected.  The name was decided not to sound, so as not to make hidden advertising.  We connected the telephony operator via <b>SIP</b> and set up the interaction between Asterisk and Bitrix24. <br><br>  Connecting 2 SIP trunks does not seem to be a very difficult task, but sometimes there are problems - I‚Äôll tell you how to do this.  When connecting, in the web interface, in the <b>Trunks</b> section of FreePBX, operators are added with the data they provide.  Usually these are: login, password and server address.  Add this data and you have 2, 3, or even 10 trunks in your <b>PBX</b> . <br><br>  By the way, for quick exchange of information and good communication, we recommend that you install Bitrix24 and Asterisk on one server - in any case, it is safer and faster. <br><br>  And if you, like us, decide to connect a SIP, then do not forget that to work telephony in Bitrix24, you need to buy a license for a SIP connector, and this, in turn, is a monthly payment. <br><br>  As always, there should always be a spoon of tar in a barrel of honey.  And there were 3 spoons. <br><br>  <i>And the first is for the full-fledged operation of the widget telephony in Bitrix24 in separate browsers (for example, <b>Chrome</b> ), you must use the <b>HTTPS protocol</b> on the Bitrix24 portal, otherwise the browser will not give permission to use the microphone and headphones.</i>  <i>As a result, calls will not work.</i> <i><br></i> <br>  The task is - there is a solution.  Yes, many can now say that Bitriks24 always works in <b>HTTPS</b> , but not here - for the boxed version, you need to install an <b>SSL certificate</b> , which we did.  Rechecked, and it all worked! <br><br>  Everything began to work, the process started and we noticed a very interesting feature - the time to work with the <b>CRM</b> card decreased significantly, since the manager no longer had to switch between different programs.  Sometimes, it wasn‚Äôt spent at all, compensating for the talk time with the lead.  Well, we can say that the <b>efficiency of the</b> manager has grown significantly! <br><br>  But not everything is so smooth.  And here it is - the second fly in the ointment. <br><br>  The work went well, but the <b>SIP connector</b> module (which is used to integrate telephony) worked without buying a license, and, subsequently, telephony stopped working.  We warned you had to buy a license in advance.  So here is another tip of ours: <br><br>  <b>- you need to purchase a license immediately after testing, otherwise it may take time to find a problem with a non-working telephony.</b> <b><br></b> <br>  As time went on, the project earned well and nothing foreshadowed trouble.  Everyone was happy (at least the customer) in the hot sun of Africa and the cries of elephants in the safari park.  But it was the calm before the storm. <br><br>  The customer decided to change the provider himself without telling us anything.  The customer is always right, but not in this case.  There was a flurry of screaming for help!  Does not work!!! <br><br>  Began to look for the cause.  We sinned on Bitrix24, then on Asterisk, and later on the server itself - we conducted a full diagnosis of the equipment.  But nothing helped.  You know, I like peculiar system administrators in the companies themselves - we don‚Äôt want to shed a shadow on the quality of their knowledge and experience, but if you want to change something in the system, then everyone who tuned it should know about this, ‚Äúfinished ‚ÄùAnd worked on it.  We were not informed about the change of provider.  Moreover, the failure occurred a day after the incident - of course, there was a conflict of parameters.  The search for the cause and its clarification took a decent amount of working hours of our employees.  And the customer to the last was <b>Zoya Kosmodemyanskaya</b> and did not want us to talk about the true causes of the problem. <br><br>  So, it turned out that some SIP telephony providers use a binding to the <b>ip-address of the</b> connection.  Therefore, when transferring the telephony server to another server, there may be a problem in the absence of <b>SIP trunk</b> registration.  And here is another one of our advice - specify information about such a restriction in advance at the telecom operator. <br><br><h4>  Now, as for the <b>Bitrix</b> platform itself. <br></h4><br>  And here's another bonus using Bitrix24.  Everyone knows that Bitrix24 is a large set of tools for doing business.  At the very beginning, users worked only with CRM modules, tasks, projects and groups.  But, after some time, users became more and more, and from the working space of Bitrix24 it turned into a functioning corporate internal social network! <br><br>  Recently, requests regarding the speed of Bitrix24 have become frequent.  They used a <b>Dell PowerEdge T20 raid array</b> with standard configurations.  We checked performance - in principle, the speed of data processing was part of the minimum requirements for this software, but these are only numbers.  In fact, the speed of the entire system has decreased.  Began to look for a solution. <br><br>  Looking at how they started using <b>Bitrix24</b> , we were, frankly, a little surprised - if you look at <b>Buzz</b> , you will notice that it has turned into a <b>Facebook</b> tape - there are many interesting pictures, funny stories, posts, and so on.  Chat, both general and personal, began to resemble <b>Telegram</b> , <b>WhatsApp</b> or <b>Facebook Messenger</b> - a lot of messages on completely different topics.  The same applies to calls inside Bitriks24 - people began to call each other not using the services of an ordinary mobile or landline phone. <br><br>  All this, of course, was reflected in the speed of data processing, since the boxed version of the <b>Bitrix24-Enterprise</b> was used here.  When viewing the data on the health and analytics of the site, we noticed that the number of SQL queries increased by <b>70%</b> , the speed of writing <b>SQL</b> data remained the same.  They used 2 <b>HDDs</b> of 1 TB per 7200 rpm, 16 GB of RAM and <b>Xeon 3.0</b> .  Since  The processor is used good, we did not touch it.  Bitrix24 requires 8GB of RAM, and Asterisk requires 2, and therefore, it was not necessary to increase the RAM in principle.  Moreover, only one parameter was lame - the speed of database recording. <br><br>  After watching a bunch of different videos about the servers, they came to the conclusion that you need to add 1 <b>SSD</b> for 250 GB in test mode.  This <b>SSD</b> kept in itself the system, <b>Bitrix24</b> and <b>Asterisk</b> , and we left all the files that were uploaded by users and Asterisk files on the <b>HDD</b> .  The result - the write speed increased, respectively, all systems began to work even better.  For this reason, we recommend that you install the system files on the <b>SSD</b> right away - yes, it will be more expensive, but your nerves, it seems to me, are much more important than the hours spent waiting for the system to work.  And this concerns not only Bitrix24, or Asterisk - this concerns any software that can be installed on the server. <br><br>  During the transfer of information, we conducted a small test of <b>HDD</b> and <b>SSD</b> , and here is a table with the results: <br><br><img src="https://lh3.googleusercontent.com/me-2AKFutD95d_2o8u_7mtJJKDAlrJmTRH0f_6oc9BoOtmGj9sRLFP98EDCenAZHbcgF1DmxeVWncaNud8eEyUI3ZSWa1V5ZDSTdVwgb2jC271Tnk10oek5mC_c1fJfd6BOxrrQpraOIhCEHyFwJXVvfeUCvpJlEqXvMUjk6kg-8Fg90pg_IiAKgiyyceWvG-DPhC7VJetCEriNBShjk4-bmg0shegE3KoAc1HfCQgRCzLTmUvA9p7QB_KX4_7XcwsMVcLFk2-iuAW8baRV2s54cdXpdRem1dIfmDlDMaghsPI1YVvieTT8VZR4TNWZkwVungy19al9Q8spCXr5uAlW_vi62EY9xTTL0IzXPQrl4Ekuwm6IorUAv-CiPDTJjOm8PKrflnHxdewu2r2eILLLUlRf_hdcYN9vlXtu5A6JZDT5eN-idUnZQvSEo_dijKvq3WVnIaLsBBKQk58oF16DksCIl4833jCn1mzV2gG3Zc0CrL6YhTFc1lDkefXS-BQYAvb7dTguhCh7yepK_YiDEYlLOZLQE2m70ldrTy3H-O1KeOFH8X5qiccCR-48hTmU=w1366-h672" alt="Table with SSD and HDD test results"><br><br>  The data was encouraging, and we replaced everything.  And really - the system worked like a clock!  Now, our South African friends do not have any problems with Bitrix24 and Asterisk <br><br><h2>  And now the main advice - do not be afraid to go to Africa for a walk - crocodiles are not as scary as they are described. <br></h2></div><p>Source: <a href="https://habr.com/ru/post/341616/">https://habr.com/ru/post/341616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341602/index.html">Modern Android development on Kotlin. Part 1</a></li>
<li><a href="../341606/index.html">Console assistants to work with Kubernetes via kubectl</a></li>
<li><a href="../341608/index.html">Long road in the dunes, or how the ESF engineering subculture changed</a></li>
<li><a href="../341612/index.html">Kaspersky Industrial CTF 2017: seven hours to cut down a plant</a></li>
<li><a href="../341614/index.html">Yii 2.0.13</a></li>
<li><a href="../341620/index.html">Event digest for HR specialists in the IT field for November 2017</a></li>
<li><a href="../341622/index.html">Future with proxy</a></li>
<li><a href="../341626/index.html">Knowledge base of web development</a></li>
<li><a href="../341628/index.html">Developer Path, Part 4: Towards a Dream</a></li>
<li><a href="../341630/index.html">ARKit, Flutter, Core ML, animations and more at MBLTdev 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>