<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Splash! - development of the game for Windows Phone 7. Part I</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How fast and easy can you create a full-fledged game for a modern phone running Windows Phone 7? What is needed for this? And what obstacles are waiti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Splash! - development of the game for Windows Phone 7. Part I</h1><div class="post__text post__text-html js-mediator-article">  How fast and easy can you create a full-fledged game for a modern phone running Windows Phone 7?  What is needed for this?  And what obstacles are waiting for the developer on this path? <br><br>  We will try to answer all these questions in the process of creating a small game.  And so that everything is real - it will be not just an example, but a full-fledged application that we will send to the Windows Phone Marketplace. <br><br>  Thus, in this article we will look at the full cycle of creating a game - from the emergence of an idea, to the publication of a game in the Marketplace, without losing a single detail of this process. <br><a name="habracut"></a><br><h4>  Idea of ‚Äã‚Äãthe game </h4><br>  We will not clone other games, but we will invent something new, interesting and colorful - especially for a phone with an accelerometer and a touch screen. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The user has access to one ball (white) on the playing field.  The movements of this ball can be controlled with an accelerometer by tilting the phone in different directions, as if the ball is rolling in a rectangular box. <br><br>  Colored balls appear on the field and strive for a white ball to color it. <br>  The user can destroy the colored balls by clicking on them with their fingers.  When you click on them, the balls turn into color blots (blots then gradually disappear).  Instead of destroyed balls, new ones constantly appear.  For each destroyed ball a certain amount of points is given (depending on the level). <br><br>  The level is replaced by a set of points.  With each level, the speed and number of colored balls increases.  The number of levels is not limited. <br><br>  The goal of the player is to score as many points as possible. <br><br>  To force the player to use the accelerometer (and not just crush the balls with his fingers), add a special ball (black) to the game, which cannot be crushed until it turns into a color one after some time. <br><br>  To implement this game will be enough 2D-graphics.  In addition, you will need to play sounds and interact with the accelerometer and touch screen. <br><br><h4>  Development environment </h4><br>  To create applications for Windows Phone 7, we need very little: Visual C # 2010 Express and Windows Phone Developer Tools.  Both products are completely free. <br>  Go to the Microsoft website, download and install these tools: <a href="http://www.microsoft.com/express/Downloads/">http://www.microsoft.com/express/Downloads</a> .  Windows Phone Developer Tools does not want to be installed on Windows XP, but if you want, you can do this: <a href="http://www.brucebarrera.com/how-to-install-windows-phone-7-developer-tools-on-windows-xp">http://www.brucebarrera.com/how-to-install-windows-phone-7-developer-tools-on-windows-xp</a> .  But the phone emulator most likely will not start on Windows XP, so it‚Äôs better to install Windows 7 anyway. <br><br>  If you already have Visual Studio 2010, it is better to put Windows Phone Developer Tools on it, since Visual C # 2010 Express is noticeably inferior to the studio in terms of convenience. <br><br><h4>  Choice of technology: XNA vs Silverlight </h4><br> <a href="http://msdn.microsoft.com/en-us/aa937791"><img src="https://habrastorage.org/storage/habraeffect/c8/b5/c8b5e43b4d14b44e7bd842c188d48667.png"></a>  vs <a href="http://silverlight.net/"><img src="https://habrastorage.org/storage/habraeffect/97/62/9762f462a0601a567c1f8fc46b707d3a.png"></a> <br><br>  After installing Windows Phone Developer Tools, we have the opportunity to create new types of projects in our studio: Windows Phone Application and Windows Phone Game. <br><br>  Which one is better for us? <br><br>  The first project is an application on Silverlight for Windows Phone 7. Accordingly, almost all classes available in regular Silverlight are available in it.  There is XAML and controls, designer is available in the studio, etc. <br><br>  The second project is an application on XNA 4.0.  It already has no controls, but there is a game loop and access to fast hardware graphics features. <br><br>  Judging by the name and description of the technology, we need exactly XNA.  But maybe Silverlight is also good for writing games?  However, the simplest test with Silverlight for Windows Phone immediately detects the limitation of this technology - a hundred of simultaneously moving small pictures put the phone into a slide show.  We try to do the same on XNA - everything works quickly, even with a lot more pictures. <br><br>  So we will make the game on XNA.  It is a pity that there are no controls there - but so far, it seems, they are not particularly needed. <br><br><h4>  Meet XNA </h4><br>  Create a Windows Phone Game project in the studio.  He appears immediately with the game class: <br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game1</span></span> : <span class="hljs-title"><span class="hljs-title">Microsoft</span></span>.<span class="hljs-title"><span class="hljs-title">Xna</span></span>.<span class="hljs-title"><span class="hljs-title">Framework</span></span>.<span class="hljs-title"><span class="hljs-title">Game</span></span></code> </pre>  Immediately determine how the user will keep the phone during the game.  We assume that it will be more convenient to hold the phone in one hand (by tilting the phone and controlling the white ball), and with the other hand - click on the colored balls, turning them into blots.  So, we need a portrait mode of the game.  Here we set it up in the game constructor: <pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Game1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { graphics = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GraphicsDeviceManager(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); Content.RootDirectory = <span class="hljs-string"><span class="hljs-string">"Content"</span></span>; graphics.SupportedOrientations = DisplayOrientation.Portrait; graphics.PreferredBackBufferWidth = <span class="hljs-number"><span class="hljs-number">480</span></span>; graphics.PreferredBackBufferHeight = <span class="hljs-number"><span class="hljs-number">800</span></span>; graphics.IsFullScreen = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre><br>  Further, in this class, two functions are of the greatest interest to us: Update and Draw. <pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTime gameTime</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Allows the game to exit if (GamePad.GetState(PlayerIndex.One).Buttons.Back == ButtonState.Pressed) this.Exit(); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Add your update logic here base.Update(gameTime); } protected override void Draw(GameTime gameTime) { GraphicsDevice.Clear(Color.CornflowerBlue); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Add your drawing code here base.Draw(gameTime); }</span></span></code> </pre><br>  The first function is designed to handle game logic.  In it, we will produce data about the actions of the user (from the accelerometer and touch screen) and the calculation of new positions of all game objects. <br><br>  The second function is intended solely for drawing game objects on the screen. <br>  It should be noted that the total execution time of these two functions should not exceed one iteration of the game cycle.  On the phone it is about 33 milliseconds, since the frequency of the game cycle is 30 frames per second.  If the execution time of the functions exceeds this value, the game will slow down, skip frames and, even worse, skip user actions. <br><br>  That is, it turns out that the game is actually a real-time application.  But how will it respond to the actions of the Garbage Collector?  It is best to avoid his sudden intervention, so that we will carefully work with objects and not create them in thousands at each iteration.  In general, we don‚Äôt need to create them often - after all, we will have relatively long-lived objects of the game world, and we will use structures or references to already existing objects as function parameters.  And in this situation, the Garbage Collector can not stop us. <br><br>  Let's try to compile and run the application.  On some computers, it displays a message that XNA cannot be started in the emulator.  In this case, you can make a project Windows Game and attach files there (Add As Link) from our project Windows Phone Game.  That is, the same XNA code will work both for the phone and for Windows (and for the XBOX 360 too). <br>  Finally, a window filled with purple appears - the result of the GraphicsDevice.Clear function (Color.CornflowerBlue). <br><br>  In the class of the game is already present object class SpriteBatch.  Actually, this object is all that we need when drawing.  It contains all the necessary methods for working with 2D graphics and text. <br><br>  But so far we lack something very important - game content. <br><br><h4>  Content </h4><br>  Gaming content is the various resources that are necessary for the game: textures (pictures with which we will draw), fonts (we will need to display text) and sounds. <br><br>  Together with the Windows Phone Game project, another project is immediately created, the title of which contains the word Content.  In this project we need to add files with pictures and sounds. <br>  In addition, in the same project, you must specify all the fonts that we will use to display the text. <br><br>  Downloading content in the program is very simple - using the Content.Load (assetName) function.  The Content property is available in the game class.  As assetName, you must pass the name of the resource that we added the project with content.  As a rule, this is just a filename without an extension.  As T you need to specify the type of content that we need: Texture2D, SpriteFont or SoundEffect. <br><br>  Downloading content is not a very fast operation, so we‚Äôll act very simply - we‚Äôll download all the content immediately when the game starts and we will use it as needed. <br><br>  Now all the preparations have been completed, and you can start making the game.  This process will be described in more detail in the second part.  <a href="http://habrahabr.ru/company/enterra/blog/113285/">Link to the second part</a> </div><p>Source: <a href="https://habr.com/ru/post/113009/">https://habr.com/ru/post/113009/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113001/index.html">We are trying to make a PDF book from a web comic with Haskell using the example of xkcd</a></li>
<li><a href="../113002/index.html">Chrome ranked more than 10% of the browser market</a></li>
<li><a href="../113003/index.html">Brains and Motors</a></li>
<li><a href="../113004/index.html">Networking - what happens behind the scenes?</a></li>
<li><a href="../113008/index.html">Avaya IP Office for Dummies. The conference</a></li>
<li><a href="../113010/index.html">Windows Azure CDN launched in Moscow</a></li>
<li><a href="../113011/index.html">Can HTML5 and Flash get along?</a></li>
<li><a href="../113013/index.html">Wheretheladies.at - find your love</a></li>
<li><a href="../113015/index.html">What to feed AI (end)</a></li>
<li><a href="../113016/index.html">Fon. Results of 2010</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>