<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to combine two Wi-Fi networks, or the operation of the router in the repeater and repeater bridge modes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 

 In my house there is no possibility to connect the Internet. If you hang out a Wi-Fi adapter outside the window, you can catch several ne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to combine two Wi-Fi networks, or the operation of the router in the repeater and repeater bridge modes</h1><div class="post__text post__text-html js-mediator-article">  Good day. <br><br>  In my house there is no possibility to connect the Internet.  If you hang out a Wi-Fi adapter outside the window, you can catch several networks of cafes with free internet.  However, I want the Internet to be all over the apartment.  It is possible to make a repeater from a Wi-Fi router, but then the home network is open to others.  As a result of the Internet research and discussions at the forum, a solution was found to take the Internet from an open wireless network and distribute it in a closed network with encryption. <br><br><a name="habracut"></a><br>  It all started with the purchase of the legendary ASUS WL500g Premium second edition (V2). <br>  First, I installed Oleg's firmware from enthusiasts.  I decided to try connecting my wi-fi adapter to the router (good 2 usb on it).  Discussion on the <a href="http://wl500g.info/">Olegovskoy firmware forum</a> prompted the idea that it is possible to use the OpenWRT firmware in which there is a possibility of adding virtual adapters.  That is, we connect the physical wireless adapter to an open network with the Internet (let's call it CafeAP) and distribute this Internet in a closed home network (HomeAP).  I began to dig, and came across a message that in DD-WRT you can just do it.  Fine.  With the choice of firmware, I now decide to install. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is a rather trivial task and its solution is quite accessible described <a href="http://www.dd-wrt.com/wiki/index.php/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BF%25D1%2580%25D0%25BE%25D1%2588%25D0%25B8%25D0%25B2%25D0%25BA%25D0%25B0_WL-500W_%25D0%25BD%25D0%25B0_DD-WRT_%25D0%25B2_%25D0%25BA%25D0%25B0%25D1%2580%25D1%2582%25D0%25B8%25D0%25BD%25D0%25BA%25D0%25B0%25D1%2585!_:)">here</a> , so I will not waste characters. <br>  Only in no case do not put the SP1 firmware - it does not support what we need. <br>  I installed DD-WRT v24-sp2 (08/07/10) mega (the benefit of 8mb flash memory is allowed; those who have less flash memory on the router will have to put standart less).  Then began digging on DD-WRT WIKI.  She is very rich, but ... only if you are capable of reading English.  Russian wiki is still almost useless. <br><br><h4>  Repeater or take the Internet from the cafe's Wi-Fi network </h4><br>  Algorithm of actions after installing the firmware such (my router speaks English, so the instructions are on it). <br>  1. Make <u>30/30/30</u> <br>  2. Connect the cable to the router (you can without a wire, for which there is an open wireless network called dd-wrt).  Go to it by typing in the browser 192.168.1.1.  You will be asked to change your username and password - do it. <br>  In the tab <u>Wireless -&gt; Basic Settings</u> : <br>  - Wireless mode: set the ‚ÄúRepeater‚Äù mode <br>  - Wireless Network mode: set the same as on CafeAP.  Although perhaps not necessarily I left mixed mode (mixed) and everything works fine <br>  - Wireless Network Name (SSID): the SSID of the network to which we connect (in my case, this is ‚ÄúCafeAP‚Äù) <br>  Save by clicking <u>Save</u> . <br>  Add virtual adapter by clicking <u>Add</u> button <br>  - Enter a name other than the network to which you are connecting (in my case HomeAP) <br>  <u>Save</u> <br>  (It is advised to apply changes by clicking Apply Settings, after filling out each page, and not after you have filled out everything). <br>  3. <u>Wireless -&gt; Wireless Security:</u> <br>  <u>Physical Interface wl0:</u> <br>  Here you will need to enter the network security settings.  If you connect to an open cafe network, you do not need to change anything.  If to an encrypted network, then you will need to select the encryption algorithm that it uses, and enter the password <br>  <u>Save</u> <br>  <u>Virtual Interface wl0.1:</u> <br>  And this is your network (HomeAP).  I chose WPA2 Personal, tkip + aes and entered a password <br>  Note: The instructions say that if there is encryption on both networks, and on both are different, it may not work.  Try to make the same encryption settings in this case. <br>  <u>Save</u> <br>  4. <u>Setup</u> tab <u>-&gt; Basic Setup:</u> <br>  <u>Network Setup:</u> <br>  Here you need to specify the subnet settings of our router. <br>  For example: if the subnet of the access point to which we connect (CafeAP) is 192.168.1.x, then the router's address should be 192.168.2.1 (I set 192.168.77.1) <br>  <u>Save</u> <br>  5. <u>Security</u> tab <u>:</u> <br>  Uncheck all the checkboxes in the ‚ÄúBlock WAN Request‚Äù section (excluding Filter Multicast), and then turn off the SPI firewall (I‚Äôm paranoid - I didn‚Äôt turn it off. Everything seems to work.) <br>  <u>Save</u> <br>  6. <u>Administration</u> tab <u>:</u> <br>  Change what you see fit.  I for example made that the statistics page for unauthorized users was not shown (Enable info site is changed to disable) <br>  Click <u>Apply Settings</u> <br>  Then <u>reboot router</u> <br><br>  Now, if everything is specified correctly, the router will acquire a WAN IP (see the right in the corner; it should be different from 0.0.0.0), and you will have access to the Internet. <br><br>  If you want to connect to another network, you can go to the Status -&gt; Wireless tab.  At the very bottom you need to find the Site Survey button.  A window will open in which you can see the list of networks.  Button Refresh - update the list.  Choose the one you like and click Join.  The router will say that it has successfully connected to the selected network and will transfer us to the Wireless tab.  You will need to change the settings as you did in paragraphs 2-3, click Apply Settings and you are connected to another network. <br><br><h4>  Repeater Bridge or connect to a friend's network </h4><br>  Instructions with Repeater will work if we connect to untrusted networks.  And if we want to connect, for example, to a friend‚Äôs network (FriendAP), then we need to use the Repeater Bridge mode. <br><img src="https://habrastorage.org/getpro/habr/post_images/5b1/41f/336/5b141f3364c7ad31b15fe3ea582e09a0.jpg" alt="image"><br>  At the same time, we will have full access to a friend‚Äôs network resources (including printers), and he will have access to our resources. <br>  For this we need to do the following <br>  1. Restore <u>Factory Defaults</u> (Administration -&gt; Factory Defaults) on your router <br>  2. Make a router <u>30-30-30</u> <br>  3. <u>Connect to the router</u> via a wired or wireless network and go to it. <br>  <u>Wireless</u> tab <u>-&gt; Basic Settings tab</u> <br>  <u>Physical Interface Section</u> <br>  - Wireless Mode: Repeater Bridge <br>  - Wireless Network Mode: leave mixed or set like a FriendAP router <br>  - Wireless Network Name (SSID): same as friend's network - FriendAP <br>  - Wireless SSID Broadcast: Enable <br>  - Network Configuration: Bridged <br>  <u>Save</u> <br>  <u>Virtual Interfaces Section</u> <br>  - Add <br>  - Wireless Network Name (SSID): SSID is different from FriendAP (HomeAP) <br>  - Wireless SSID Broadcast: if you set Disable then the network will be hidden <br>  - AP Isolation: Disable <br>  - Network Configuration: Bridged <br>  <u>Save</u> <br>  4. <u>Wireless</u> tab <u>-&gt; Wireless Security tab</u> <br>  <u>Physical Interface Section</u> <br>  - Security Mode: Same as FriendAP (they say that DD-WRT works in this mode only if on FriendAP wep or WPA2AES) <br>  - WPA Algorithms: the same as FriendAP <br>  - WPA Shared Key: same as FriendAP <br>  - Key Renewal Interval (in seconds): leave it as it is <br>  <u>Virtual Interfaces Section</u> <br>  - Security Mode: best WPA2 <br>  - WPA Algorithms: I installed tkip + aes <br>  - WPA Shared Key: make up a password <br>  - Key Renewal Interval (in seconds): leave it as it is <br>  <u>Save</u> <br>  5. <u>Setup</u> tab <u>-&gt; Basic Setup tab</u> <br>  - Connection Type: Disabled <br>  - Change the STP checkbox to Disabled (If you leave Enabled, this can create problems with the connection) <br>  - IP Address: 192.168.1.2 (In case the FriendAP router has IP 192.168.1.1) <br>  - Mask: 255.255.255.0 (In case this is the FriendAP network mask) <br>  - Gateway: 192.168.1.1 (In case the FriendAP router has IP 192.168.1.1) <br>  - DHCP Server: Disable <br>  - Local DNS: 192.168.1.1 (In case the FriendAP router has IP 192.168.1.1) <br>  - Assign WAN Port to Switch: If you want to use the WAN port as a normal LAN - tick <br>  <u>Save</u> <br>  - If you apply changes, go back to the router at the new address <a href="http://192.168.1.2/">192.168.1.2</a> <br>  6. <u>Setup -&gt; Advanced Routing tab</u> <br>  - Change operating mode to ‚ÄúRouter‚Äù <br>  <u>Save</u> <br>  7. <u>Services</u> <br>  - Disable Dnsmasq service <br>  <u>Save</u> <br>  8. <u>Security -&gt; Firewall tab</u> <br>  - Uncheck the checkboxes everywhere except Filter Multicast <br>  - Disable SPI firewall <br>  <u>Apply changes and reboot the router</u> (Administration -&gt; Reboot router) <br><br>  After these steps, you should have access to the FriendAP network as if you were directly connected to it. <br><br><h4>  References: </h4><br>  <a href="http://wl500g.info/">wl500g.info</a> <br>  <a href="http://www.dd-wrt.com/wiki/index.php/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BF%25D1%2580%25D0%25BE%25D1%2588%25D0%25B8%25D0%25B2%25D0%25BA%25D0%25B0_WL-500W_%25D0%25BD%25D0%25B0_DD-WRT_%25D0%25B2_%25D0%25BA%25D0%25B0%25D1%2580%25D1%2582%25D0%25B8%25D0%25BD%25D0%25BA%25D0%25B0%25D1%2585!_:)">Flashing_WL-500W_a_DD-WRT_in_pictures</a> <br>  <a href="http://www.dd-wrt.com/wiki/index.php/Repeater">Repeater</a> <br>  <a href="http://www.dd-wrt.com/wiki/index.php/Repeater_Bridge">Repeater Bridge</a> </div><p>Source: <a href="https://habr.com/ru/post/136418/">https://habr.com/ru/post/136418/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136413/index.html">Australia creates its own cyber security service</a></li>
<li><a href="../136414/index.html">IBM has established atomic limits for magnetic memory density</a></li>
<li><a href="../136415/index.html">Unusually-economical use of 1C: Enterprise 8 on Asp.Net-hosting</a></li>
<li><a href="../136416/index.html">Broadcom has developed a chipset with NFC and GLONASS support for low-cost mobile devices</a></li>
<li><a href="../136417/index.html">Why SOPA is Useless</a></li>
<li><a href="../136419/index.html">The rise of geo-sociality in games</a></li>
<li><a href="../136420/index.html">To touch or to obey others?</a></li>
<li><a href="../136423/index.html">How to run the operating system script from Oracle or Not quite the traditional way to backup</a></li>
<li><a href="../136424/index.html">Simpliste: roll up sleeves</a></li>
<li><a href="../136425/index.html">Hey google you what</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>