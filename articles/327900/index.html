<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automate non-automated, or about Xamarin in real projects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we asked one of the pioneers of Xamarin in Russia, Vyacheslav Chernikov, to tell in more detail about his report ‚ÄúThe benefits of DevOps and Xam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automate non-automated, or about Xamarin in real projects</h1><div class="post__text post__text-html js-mediator-article">  Today we asked one of the pioneers of Xamarin in Russia, Vyacheslav Chernikov, to tell in more detail about his report ‚ÄúThe benefits of DevOps and Xamarin.Forms for developing business applications‚Äù, which was held during the Developer Day 2017 conference. He also mentioned why his company cultivates an approach to software development, when the product becomes not an artifact, but a working process for creating and developing a product. <br><br><img src="https://habrastorage.org/files/778/d82/850/778d828501f142bc9c569a4ae1ad79ea.jpg"><br><a name="habracut"></a><br>  <i>Further, the story will be on behalf of the author.</i> <br><br><p>  In April 2017 in the wonderful city of Ivanovo, in which there are many beautiful girls, <u><a href="http://akvelon-ivanovo.ru/">Akvelon</a></u> organized <u><a href="https://vk.com/devday2017">Developer Day 2017 ‚ÄúCross-platform development of mobile applications‚Äù</a></u> , where we had a chance to talk about how DevOps and Xamarin.Forms allow us to simplify and speed up the release of mobile business products. </p><br><p>  The conference was held at the Ivanovo State Energy University and gathered a full assembly hall of both experienced developers and students.  Our colleagues from Notissimus and Akvelon told about interesting things, showed in action a bunch of Xamarin + Azure, as well as the possibilities of ReactNative and Electron.js.  The event turned out great and special thanks to the wonderful girls from Akvelon for organizing! </p><br><img src="https://habrastorage.org/files/0a1/47b/17a/0a147b17a0f249c0a87defb1e7f3c788.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  In an experimental format, we have prepared for you a transcript of the speech.  In this article you will find an abbreviated version.  <a href="http://medium.com/binwell/f7243dc6396a">Full version in our blog on Medium</a> . </p><br><img src="https://habrastorage.org/files/89f/bb3/004/89fbb300464f4a88b3e60355f1572966.png"><br><br><p>  In my report, I will cover the entire process of developing applications on Xamarin.Forms, and not just the features of the framework, which is just a tool in the hands of the development team.  Separately, we will look at how and why DevOps practices are needed in modern mobile application development. </p><br><img src="https://habrastorage.org/files/df8/5a6/94a/df85a694abde463f99b1675aa2aaea9b.png"><br><br><p>  At Binwell, we develop customized mobile and cloud applications.  We focus on the .NET stack and Microsoft tools.  We carry out the development of a full cycle and proceed from the fact that the product of our work is not an artifact (build or publication), but a process of product development taking into account the business requirements of our customers. </p><br><p>  Since 2008 I have been engaged in cross-platform development of mobile applications.  Wrote for Qt, mobile web, native, Xamarin.  He participated in more than 40 mobile projects based on various technological stacks. </p><br><img src="https://habrastorage.org/files/293/dec/b2b/293decb2bb4e41b2a0db2da137afba04.png"><br><br><p>  With the advent of the global network, the process of information exchange has greatly accelerated, which in turn led to the transformation of business processes in companies.  The speed at which consumers deliver value is becoming critical.  The time it takes for releases with new functionality is usually called the Time-To-Market and this parameter becomes very important for many businesses. </p><br><p>  I also want to highlight the importance of mobile apps.  You, for certain, heard that recently by the number of devices Android bypassed Windows.  You need more applications and they will be needed quickly.  In this case, both ready-made and custom products of varying complexity will be needed. </p><br><img src="https://habrastorage.org/files/266/663/e24/266663e248b0483e8a5711efb13394f7.png"><br><br><p>  I want to start with Xamarin.Forms (for which Microsoft stands now), as one of the most promising mobile application development frameworks, which is gaining increasing popularity and sharing the philosophy of reducing the Time-To-Market parameter. </p><br><img src="https://habrastorage.org/files/054/798/4fb/0547984fb7af4903970ff732d39ad1df.png"><br><br><p>  Everything leads to the fact that for the development of business applications in the future 4 technology stacks will be mainly used: iOS + Swift, Android + Java, Xamarin and ReactNative.  Each of the stacks has its pros and cons, which must be weighed before the start of the project. </p><br><p>  But the key parameter actually is not just the possibilities of one or another stack, but the presence of competencies and an experienced team that can take into account all the features and offer a solution in difficult situations.  We, as techies, usually go off the stack, arrange holivars, although business thinks in the logic of risks, budgets and deadlines. </p><br><img src="https://habrastorage.org/files/e19/580/63c/e1958063cf2743a7b5d52e60ab6529bc.png"><br><br><p>  Speaking of Xamarin, it is worth noting right away that this is primarily the name of the company that was recently bought by Microsoft.  But the company currently has three key products: Xamarin Classic (Xamarin.iOS and Xamarin.Android), Xamarin.Forms and Xamarin Test Cloud. </p><br><p>  What is now called Xamarin Classic was originally MonoTouch and MonoDroid.  Just in case, I‚Äôll clarify that Xamarin creates fully native mobile apps.  Yes, there is a minimum overhead due to the conversion of calls and basic data structures, but they are minimal and are compensated for on real projects by acceleration in other places.  Classic Xamarin is close in capabilities to development in Swift and Java. </p><br><p>  Ever since the early versions of MonoTouch and MonoDroid, enthusiasts have attempted to logically continue what was started and propose solutions that were similar to the current Xamarin.Forms.  But the solutions were often raw and limited, so before Xamarin.Forms you still had to implement the interface separately for each platform. </p><br><img src="https://habrastorage.org/files/63d/e29/300/63de293002844a0fb9660dde26575767.png"><br><br><p>  After the classic Xamarin matured and assembled a decent army of developers, Xamarin.Forms was released, which solves a kind of ‚Äúlast mile‚Äù task, providing a single API for working with the user interface with minimal involvement of features of each of the target platforms.  At the same time, the interface itself remains completely native.  That is, in fact, XF is a virtualization of the user interface and a set of additional subsystems like support for the XAML markup language, the common event bus, and the dependency service. </p><br><p>  Currently, Xamarin.Forms officially supports iOS, Android, Windows, and Tizen OS previews.  Soon they will add support for macOS, plus there is a project on porting XF to WPF. </p><br><img src="https://habrastorage.org/files/1dc/83d/55f/1dc83d55f2eb4457b75eba1a5d5b7361.png"><br><br><p>  In order to better understand how XF works, let's consider a simple button.  One of the basic mechanisms are renderers, thanks to which when displaying the Xamarin.Forms button, the native control is actually added to the screen, and the properties of the XF buttons are dynamically thrown into the properties of the native button on each platform. </p><br><img src="https://habrastorage.org/files/acb/b1e/63d/acbb1e63dd2640eaa4df853ce5744496.png"><br><br><p>  When creating applications on Xamarin.Forms, it is worth paying attention to the user interface performance, so the best practices and component base are very helpful in development. </p><br><img src="https://habrastorage.org/files/9f5/838/404/9f583840412544bf949cef2bb219675e.png"><br><br><p>  Architecture occupies a key place in real business projects, since applications need not only to be written, but also developed further.  The more problems with architecture, the more difficult will be the further development of the project.  In our practice, we use a multi-layered architecture, where each module is isolated from each other and can be moved to a separate subproject. </p><br><blockquote><p>  DAL - data abstraction level. </p><br><p>  BL - the level of business logic. </p><br><p>  UI - user interface level. </p></blockquote><br><img src="https://habrastorage.org/files/ec0/b50/6e6/ec0b506e6f9d485cbb8eedb299a650bb.png"><br><br><p>  The framework itself, or the stack, is just a tool, but its features must be taken into account from the very first steps of the project.  Xamarin.Forms in this case is not an exception, therefore we will consider the development process entirely later. </p><br><img src="https://habrastorage.org/files/b6c/042/1ea/b6c0421ea2e04fb8b574bd680dd2d6a0.png"><br><br><p>  There are various types of software development processes, among which Waterfalls and Iterative / Spiral have become most popular due to their simplicity.  Our company currently uses a hybrid approach, when in the early stages detailed specifications of the project requirements are carried out and the balance between informativeness and formalism (the number of letters in the TK) is maintained. </p><br><p>  <b>The first step</b> is to make a list of Feature Points and general application requirements. </p><br><p>  Mobile business applications are primarily an interface for interacting with an external business process, so the <b>second step is</b> designing a user interface at the screen level (UX prototype, User Experience), when only rectangles, icons and text are used.  This allows you to determine the necessary navigation model (for example, lower tabs or sidebar) and split the functionality and data on the screens and blocks.  In our practice, we use the <u><a href="https://proto.io/">Proto.io</a></u> service, which at the same time allows us to receive an interactive prototype right on the phone.  The main thing - as simple as possible, without design.  Based on the UX-prototype, we make a map of transitions and states, which we will talk about later.  And already on the basis of this map we formalize the user scripts used in testing. </p><br><p>  After coordination with the client, we draw up a unified Private Specification (ƒåTZ), including an extended description of the functionality, diagrams and descriptions of the screens, as well as a transition map. </p><br><p>  Based on the UX prototype, we are preparing the design specifications for each of the screens.  After that, the cutting, the necessary icon fonts are already prepared and the specifications and design styles are described. </p><br><p>  Further development itself begins, which we will not detail, although there too there are certain regularities and parallelization.  At the exit of each development cycle, assemblies appear that go into test (= internal beta testing) or actual operation (= publication and real users), during which events are collected, bugs are generated, crashes are analyzed and product development recommendations are prepared.  All this forms a new pool of tasks and so on throughout the product life cycle. </p><br><p>  Please note that our process has no ending, since all products live and develop. </p><br><p> Thus, the product of our work is not artifacts (assemblies, publications), but the workflow for the formation of new versions of applications and services.  Here's the last loop just fits perfectly on DevOps. </p><br><img src="https://habrastorage.org/files/cb6/2a2/3f4/cb62a23f4bfc460590f9902cc6d9318e.png"><br><br><p>  If you were engaged in the development of user interfaces for sites or applications, then you have seen the approach when all screens are printed almost in full size and the interrelations between them are shown with arrows.  This is a design-from approach.  It only works well if you have less than 10 screens.  However, business applications are usually much more complicated and have up to 100 screens (there are more, but this is rather the exception).  Therefore, in our work we came to the approach shown in the diagram, when only the names and key states of the screens, as well as transitions between them, are indicated. </p><br><p>  Now we can smoothly go over to the description of the Mobile DevOps practices. </p><br><img src="https://habrastorage.org/files/e3c/d40/559/e3cd405591b24d939bb5153ec01922c9.png"><br><br><p>  By itself, DevOps is not just a set of tools, but a culture and approach to software development, when the product becomes not an artifact, but a working process for creating and developing a product.  Mobile DevOps is no exception.  And since we have moved into the era of Mobile First, DevOps should also be mobile here.  We <u><a href="https://habrahabr.ru/company/microsoft/blog/325184/">wrote</a></u> about this <u><a href="https://habrahabr.ru/company/microsoft/blog/325184/">in</a></u> more detail <u><a href="https://habrahabr.ru/company/microsoft/blog/325184/">in an article for Hacker Magazine # 217</a></u> . </p><br><img src="https://habrastorage.org/files/7bb/2a7/ecc/7bb2a7ecce254c0881c90163b15f54f9.png"><br><br><p>  Let me remind you that the main task of DevOps is to accelerate the production cycle of products (or their new versions) due to reasonable automation and continuous monitoring (= receiving feedback).  This is critical for reducing the Time-To-Market setting and introducing flexible work practices. </p><br><p>  The figure shows a simplified scheme of the product release cycle.  Separately, it is worth noting that of the entire development process it is reasonable to automate.  Obviously, it is not yet possible to automate the coding process adequately, since this is a very difficult task requiring complex knowledge and skills.  But the assembly, monitoring and even testing (with reservations) is very easy to automate, so the market is now experiencing a real boom of such services. </p><br><p>  Of the above works, the most interesting is the testing process.  And if with unit tests everything is clear for a long time and any development or build environment can do them, then testing the user interface is more complicated. </p><br><img src="https://habrastorage.org/files/889/658/61f/88965861fb7e448892e7558668ff7023.png"><br><br><p>  What are automated UI tests, experienced developers and testers probably know. </p><br><p>  In order for testing to have controlled and controlled targets, the described user scenarios (Use Cases) easily fall on special scripts, instead of which testers previously had to stick their hands into the application to look for errors on a BIG device park.  Automation can significantly reduce such checks. </p><br><p>  Immediately it should be said that automation does not cancel manual testing, but simply reduces its volume. </p><br><p>  So, what does automated UI testing provide?  The ability to verify that the required group of scenarios will work correctly on the required fleet of devices and supported versions of operating systems from different manufacturers.  For example, an application might work well on Android 6.0, but fall on Android 5.0 or 4.1.  Or on any particular device model.  Such errors will be immediately revealed during automated testing. </p><br><p>  Another very important thing is to check the design on different screen sizes and operating system versions.  Nothing should be clipped or floated.  All cloud device farms take screenshots of each step for each device, so you will be the first to know about such problems with layout. </p><br><p>  So, what tools for DevOps will suit mobile application developers? </p><br><img src="https://habrastorage.org/files/e27/7dd/e48/e277dde4813b420c88b6ae52fa142c07.png"><br><br><p>  If everything is clear with the repository for the code, then many developers can try to build the build system on their lap.  If you need adventures, you have a shaman tambourine, a beard and a sweater - this is your way.  The rest can be recommended ready-made solutions.  One of the best and most inexpensive build tools at the moment is Bitrise, which supports all the popular mobile development stacks, including Xamarin and ReactNative. </p><br><p>  For automated UI testing, there are already about a dozen different farms, including services from Amazon and Google.  However, Xamarin Test Cloud is one of the most functional and convenient.  Therefore, we recommend using it. </p><br><p>  If the UI tests were successful, then the application can be passed to manual testing.  To do this, it can be downloaded to the HockeyApp service, which also collects statistics and crashes when applications are running. </p><br><p>  Now the cycle is closed and there is an understanding about the quality of the product.  It is worth adding that Microsoft not so long ago presented its integrated DevOps pipeline based on the Xamarin Test Cloud and HockeyApp called <u>Visual Studio Mobile Center</u> .  It is still in the Preview stage and has significant limitations, but it is quite suitable for dating.  We talked about him in <u><a href="https://xakep.ru/2017/03/29/mobile-devops-vsmc/">Hacker # 218</a></u> . </p><br><p>  Summarizing, we give a few numbers. </p><br><img src="https://habrastorage.org/files/57a/033/4c6/57a0334c60c84935b5cf6091bc63a3c4.png"><br><br><p>  The slide shows the average figures for our projects based on Xamarin.Forms using the described DevOps pipeline.  These are typical numbers from the start of the project to the release of the first version: </p><br><ul><li><p>  85% of the total code does not include simple renders at the ‚Äúforward an extra field‚Äù level (for example, a frame) in the standard UI control. </p></li><li><p>  100+ different smartphones (bundled model + OS version), mainly on Android.  For example, in the Xamarin Test Cloud, this indicator has a maximum of about 2500 (constantly growing), just devices are duplicated many times. </p></li><li><p>  300+ builds - a day can be done in several builds so that testers can drive applications by hand or using UI tests. </p></li></ul><br><p>  In general, the described approach not only saves time, but also significantly simplifies the development process, eliminates the routine, and leaves only the coding to the developers. </p><br><p>  PS Ask your questions in the comments! </p><br><br><h3>  about the author </h3><br><img src="https://habrastorage.org/files/f70/e9c/e7a/f70e9ce7a2bd45a98e19652a08b15e26.JPG" align="left" width="120">  Vyacheslav Chernikov - head of development at <a href="http://www.binwell.com/">Binwell</a> .  In the past, he was one of the Nokia Champion and Qt Certified Specialists, currently he is the Xamarin and Azure platform specialist.  He came to the sphere of mobile in 2005, since 2008 he has been developing mobile applications: he started with Symbian, Maemo, Meego, Windows Mobile, then switched to iOS, Android and Windows Phone.  Articles Vyacheslav you can also read the <a href="https://medium.com/binwell/public/home">blog on Medium</a> . <br><br>  <b>Other articles by the author:</b> <br><ul><li>  <a href="https://habrahabr.ru/company/microsoft/blog/332970">OAuth Authorization for Xamarin Applications</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/329908/">Deploy mobile software with Microsoft devops pipeline</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/325184/">DevOps in the service of man</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/310704/">Convenient REST for Xamarin Applications</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/281897/">Quickly create MVP (minimum viable product) based on Microsoft Azure and Xamarin.Forms</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/303630/">Preparing Xamarin.Forms: Setting Up the Environment and First Steps</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/304678/">Increase work efficiency in Xamarin.Forms</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/307890/">Working with screen states in Xamarin.Forms</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/321454/">Connecting Facebook SDK for Xamarin.Forms</a> </li><li>  <a href="https://habrahabr.ru/company/microsoft/blog/323296/">We connect VKontakte SDK for Xamarin.Forms</a> </li></ul><br><br><hr><br>  On May 20, a unique event for Xamarin developers will take place in St. Petersburg - the <b>first Xamarin Dev Days in Russia</b> .  It is focused on strengthening the Xamarin community, gaining practical skills and training, so it is perfect for novice mobile device developers.  These skills will help to create, test and connect native applications for iOS, Android and Windows.  <a href="https://ti.to/xamarin/dev-days-stpetersburg-2017">Join now</a> , the event is designed for only 50 people. </div><p>Source: <a href="https://habr.com/ru/post/327900/">https://habr.com/ru/post/327900/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327890/index.html">Ruby on Rails agreement. Part 1</a></li>
<li><a href="../327892/index.html">Email is personal data?</a></li>
<li><a href="../327894/index.html">Implementing a NetFlow sensor on an FPGA + CPU - flexibly and quickly</a></li>
<li><a href="../327896/index.html">Bash scripts, part 9: regular expressions</a></li>
<li><a href="../327898/index.html">Six programming paradigms that change your view of code</a></li>
<li><a href="../327904/index.html">Twitter: intercepting the management of views and thoughts</a></li>
<li><a href="../327908/index.html">Acronis Backup 12.5 (now and) Advanced: long-awaited release</a></li>
<li><a href="../327910/index.html">Functional security, part 7 of 7. Methods of ensuring information and functional security</a></li>
<li><a href="../327912/index.html">RMarkdown, R and ggplot</a></li>
<li><a href="../327913/index.html">Typing a technical interview</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>