<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mobile application in Python with kivy / buildozer. Lecture in Yandex</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not the fact that you need to write a serious application in Python. But to quickly assemble a working service in order to ‚Äúsell‚Äù it to a customer ‚Äî w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mobile application in Python with kivy / buildozer. Lecture in Yandex</h1><div class="post__text post__text-html js-mediator-article">  Not the fact that you need to write a serious application in Python.  But to quickly assemble a working service in order to ‚Äúsell‚Äù it to a customer ‚Äî why not?  Python is universal, and the experience of creating mobile software in this language can be useful.  Vladislav Shashkov from Sberbank talked about how to develop development using the kivy framework. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/UV581qsKC9I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Good day.  My name is Vladislav Shashkov, I work at Sberbank and in fact I am a product developer, not a developer.  This is exactly what my report can be interesting for, because it will graphically show that making a mobile application in Python is quite simple. <br><a name="habracut"></a><br>  Kivy is still ‚ÄúKivi‚Äù, because it is figuratively depicted on the covers of books in the form of fruit, and the pronunciation of ‚ÄúQiwi‚Äù will be closer in Russian.  The framework has been developing since 2011.  In fact, this is a graphical UI-library for creating cross-platform applications, not only on mobile platforms.  Its feature is KV, it is a markup language.  If you figuratively try to describe what the KV language is, it turns out that it would look like HTML if it were written in Python. <br><br>  We will also talk about the library KivyMD, which is a set of widgets in the style of Material Design.  KivyMD allows you to create a user-friendly Google interface with which you can work on user experience. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/wj/dg/xg/wjdgxgni15xqyfsx4uwwhbeiluc.jpeg"><br><br>  <a href="https://youtu.be/UV581qsKC9I%3Ft%3D1m31s">Here the video shows</a> how to scroll through all the widgets that are in the library.  As you can see, this is a fairly rich set of items.  These are bookmarks, buttons, progress bars and pop-ups.  In principle, there is everything you need to realize the client experience you need.  If you need to build an assembly on iOS, then it will look the same.  Same Material Design.  In principle, such an application can be published in the App Store, although it will be similar to Google. <br><br>  Kivy without KivyMD has a very austere design.  Its even customers do not show.  Similar to Ubunt simple buttons, simple dialogs that are not adapted for mobile experience, for mobile users.  And KivyMD great, everything is beautifully done. <br><br>  There is bad news.  Executable application packages are built by a special utility, buildozer.  And the bad news is that it is not easy to start using the first build with it.  Like, probably, with any open source software, in order for everything to work out, in order to finally reach the goal and get the APK, you need to go through a certain ‚Äúpath‚Äù without turning around. <br><br>  This slide describes in detail what you need to do, how to walk along the ‚Äúpath‚Äù and not to do too much.  Do not try to update the kivy itself or any other libraries in the image.  All that is needed is indicated on the slide, the rest will tighten itself and will work. <br><br>  Then talk a little about the structure of the project Kivy.  The slides contain QR codes where GitHub links are encoded so that you can read them now and directly trace the examples I‚Äôm going to talk about.  ( <a href="https://github.com/VladShashkov/kivy_HelloWorld">The first link</a> - Ed.) <br><br><img src="https://habrastorage.org/webt/x9/39/rg/x939rgjsfo93pcdamsinriiearo.jpeg"><br><br>  The screen shows the buildozer spec file, this is the project specification.  The most important thing is: there is a line that lists the requirements, that is, the libraries that are needed for the assembly, and you need to specify Kivy, KivyMD in it, there is an entry there, and it is also available on GitHub. <br><br>  The important section, it is commented out, concerns the Androids NDK, SDK, it is not necessary to touch it.  Default values ‚Äã‚Äãwill work. <br><br><img src="https://habrastorage.org/webt/fu/8c/c9/fu8cc9wh3jmvpdmy9xqr7uqek_u.jpeg"><br><br>  A little about UI and UX.  There are two concepts in the KV markup language: widgets and layouts.  Widgets - visible elements, buttons, input fields and the like.  Widgets receive events and can process them.  And layouts are objects that allow you to position widgets, there are several types of them to build widgets in a row or vice versa, somehow arbitrarily position.  In general, this approach is standard for visual UI, UX, and in other libraries, it is also used. <br><br><img src="https://habrastorage.org/webt/a7/uo/yj/a7uoyjzqinhiglbpc0xugetthzi.jpeg"><br><br>  Here is an example of the KV language ( <a href="https://github.com/VladShashkov/kivy_HelloWorld">link</a> - ed.).  As we can see, the libraries are first imported behind bars, then in angle brackets ... It is wrong to say ‚Äúroot‚Äù, just the initial layout to which the class will be associated in the code.  One to one names must match.  Thus, the markup is compared to the class in the code.  Further through the indents go the embedded widgets, inside the widgets, again indent go the property and events, they are in the same list.  Here is a sample code. <br><br><img src="https://habrastorage.org/webt/ie/dy/zl/iedyzltgrdg0wh-9nhb0syt5xqm.jpeg"><br><br>  At the top of the class is the layout class.  Next comes the application class, and below there are two lines for loading the markup constant, and running the application.  I know that the audience is probably not very familiar with mobile development, so I‚Äôll tell you about the next steps on what exactly needs to be done on the phone in order to launch and debug your APK. <br><br>  First of all, you need to enable the developer on the phone.  It is quite cleverly included.  Usually this is the secret sequence of pressing the menu items in the phone settings mode.  The presentation shows one of the most common sequences, but it may not work on your phone.  After completing this sequence of actions, a mode will appear for the developer, and you can already install the APK, debug, and continue to act. <br><br><img src="https://habrastorage.org/webt/h4/8r/xr/h48rxrlsett9qbqm2g3qqsahcls.jpeg"><br><br>  Buildozer runs in a virtual machine, the virtual machine needs to be updated so that it is fresher.  After that, integration with USB will appear, then you can connect the phone to the virtual machine. <br><br>  A sign that you have connected - the phone will ask permission to debug.  The project directory is created in the / BUILD folder.  To build a project, you need to run the buildozer android debug command in the project directory.  Installing the APK on the phone is performed by the utility from Android Studio, which is already in the image, with the adb install command. <br><br><img src="https://habrastorage.org/webt/kn/xo/gb/knxogbd-jn8dcnnrazw1ac0muam.jpeg"><br><br>  And the phrase success says that while everything is fine, the download is completed on the phone. <br><br><img src="https://habrastorage.org/webt/ly/-y/ux/ly-yuxy2vqzsgcinzj05dggzkey.jpeg"><br><br>  Debugging code is as follows.  It is necessary to start collecting debug information with the adb logcat command so that the collector works in parallel with the application.  After the first launch, your application ‚Äúwith a high probability‚Äù will fall, after which you can stop debugging and go read the log file. <br><br>  How to search for an error message?  By keyword python.  The most recent entry with the python keyword will usually tell you what went wrong. <br><br><img src="https://habrastorage.org/webt/lj/au/3u/ljau3u1rgyvxaodp2ot8rfvlhma.jpeg"><br><br>  About what can be done on the phone.  The mobile platform allows you to do not just buttons that go to the API, but work with a wide variety of gadget sensors.  To work with mobile peripherals there is a standard library plyer.  It is platform-independent, that is, everything that is written on it will be re-compiled from Android to iOS.  The slide lists all available options.  There both GPS, and battery, and camera ... But with a plyer camera, you can only take a static photo. <br><br><img src="https://habrastorage.org/webt/fj/bj/qq/fjbjqqcadspvlyfzdfzdour081g.jpeg"><br><br>  And the following example expands this opportunity.  <a href="https://github.com/VladShashkov/kivy_zbar">Link to GitHub</a> , an example that allows you to receive a video stream in an application.  I had a business problem to recognize the QR code from the image.  Also, this example can work with video recognition, augmented reality, etc. <br><br><img src="https://habrastorage.org/webt/ox/ln/tz/oxlntzmxhbetwqwcyejp6afwxwm.jpeg"><br><br>  Also, kivy has space for custom addons - Garden.  Anyone can make widgets and such.  A useful widget that I used is to work with maps.  It is active, you can scale, twist the map.  Here is an example of how to connect it.  There are many other widgets in the Garden. <br><br><img src="https://habrastorage.org/webt/mn/ti/yd/mntiydg_b3qqz2xtxvykvi2c42e.jpeg"><br><br>  When I was working on my project, I conducted a corridor testing with my colleagues in order to collect feedback on the use of the application.  And I received such wonderful objections as ‚ÄúI will not put the left APK‚Äù, ‚Äúmom does not allow‚Äù, ‚ÄúI just bought a phone‚Äù.  In order to continue testing customer experience in essence, I had to go the way of creating a mobile application to the end, namely, to make a release on Google Play.  It is described on the slide.  The main points are that it is necessary to tinker with the keys, and publication on Google Play is not free.  To register as a developer, you need to make $ 25.  And this is still very democratic, because Apple asks $ 99. <br><br><img src="https://habrastorage.org/webt/mn/af/4s/mnaf4shmjgejimyypviwify0jzo.jpeg"><br><br>  This slide contains a <a href="https://play.google.com/store/apps/details%3Fid%3Dru.pricemer.pricemer">link</a> to the sample application, you can see my project.  This is still an alpha prototype, so please do not judge strictly if the application will fall.  <a href="https://media.readthedocs.org/pdf/kivy/latest/kivy.pdf">The link</a> to the current documentation is fresh, it seems to me that it is good.  There is a community, a <a href="https://vk.com/kivy_ru">group of VKontakte</a> , its admin on Habr√© periodically publishes articles. </div><p>Source: <a href="https://habr.com/ru/post/354030/">https://habr.com/ru/post/354030/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354018/index.html">Google blocked by Roskomnadzor</a></li>
<li><a href="../354020/index.html">Solving the riddle of round numbers on the 2018 election chart</a></li>
<li><a href="../354024/index.html">The digest of interesting materials for the mobile developer # 250 (April 16 - April 22)</a></li>
<li><a href="../354026/index.html">Review of OpenDay JetBrains mitap</a></li>
<li><a href="../354028/index.html">Understand Implicits in Scala</a></li>
<li><a href="../354032/index.html">Fuzzy search in relational databases</a></li>
<li><a href="../354034/index.html">Reindexer site search is easy. Or how to make an "instant search" throughout the Habrahabr</a></li>
<li><a href="../354036/index.html">20 Eloquent ORM tricks</a></li>
<li><a href="../354038/index.html">Top VSCode Extensions That Speed ‚Äã‚ÄãUp Your JavaScript Development</a></li>
<li><a href="../354040/index.html">We apply the Deep Watershed Transform in the Kaggle Data Science Bowl 2018 competition.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>