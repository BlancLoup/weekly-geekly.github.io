<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Postulates Go</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Go has very simple rules in the game, but to become a master in it is not easy, you need to learn how to think with patterns, territories and other st...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Postulates Go</h1><div class="post__text post__text-html js-mediator-article">  Go has very simple rules in the game, but to become a master in it is not easy, you need to learn how to think with patterns, territories and other strategic concepts.  The Go language is not entirely randomly named like the name of this game.  In a speech at a recent San Francisco mitap, Rob Pike mentioned the book ‚ÄúPostulates of the Go‚Äù (Go Proverbs), which describe complex strategies with simple poetic phrases.  These postulates have a deeper meaning for those who are familiar with the game of Go, and may seem empty phrases to those who are not familiar.  And in this non-technical report, he proposed to invent ‚Äúpostulates‚Äù for the Go language in a similar way. <br><img src="https://habrastorage.org/files/b83/37e/b73/b8337eb73e144a368f5befa5695e3a13.png"><br>  Here are some of them: <br><ul><li>  Share memory by sharing. </li><li>  Concurrency is not parallelism. </li><li>  Channels orchestrate;  mutexes serialize. </li><li>  The bigger the interface, the weaker the abstraction. </li><li>  interface {} says nothing. </li><li>  Gofmt's style is not one's favorite, yet gofmt is everyone's favorite. </li><li>  A little copying is better than a little dependency. </li><li>  Cgo is not go. </li><li>  Clear is better than clever. </li><li>  Reflection is never clear. </li><li>  Errors are values. </li></ul><br><br>  This is somewhat similar to <a href="https://www.python.org/dev/peps/pep-0020/">Zen of Python</a> .  You may disagree with them, but these postulates reflect the idiomatic nature and approach in Go.  Let's take a closer look at each of them based on the report (video at the end of the post). <br><a name="habracut"></a><br><br>  <b>‚ÄúDo not communicate by sharing memory.</b>  <b>Share memory through communication. "</b> (Don't communicate by sharing memory, share memory by communicating) <br>  Everybody knows this postulate; it sounded more than once in <a href="https://www.youtube.com/watch%3Fv%3Df6kdp27TYZs">reports</a> and <a href="https://blog.golang.org/share-memory-by-communicating">posts</a> on competitive Go programming patterns.  This postulate is intended to give an understanding of the essence of the mechanism of the channels and gorutin - your functions do not share the same memory, they communicate safely by transferring data through the channels. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>‚ÄúCompetition is not parallelism‚Äù</b> (Concurrency is not parallelism) <br>  I'm not sure that the word concurrency translates into Russian any well, but the point is that parallelism is just parallel execution of the same code, and software that takes full advantage of multi-core functionality ‚Äî competitive software is competitiveness, that is, a way of structuring logic programs.  Beginners very often confuse these two concepts.  There is an excellent <a href="https://www.youtube.com/watch%3Fv%3DcN_DpYBzKso">performance Pike with the same name</a> , be sure to see who has not yet. <br><br>  <b>Channels are orchestrated, mutexes are serialized</b> (Channels orchestrate; mutexes serialize) <br>  A good postulate to the topic of the previous article ( <a href="http://habrahabr.ru/post/271789/">‚ÄúDancing with mutexes in Go‚Äù</a> ), about when to use mutexes, and when channels.  Mutexes simply serialize the execution of access to something, but the gorutines and channels give you the tool to create programs with a complex architecture and structure for exchanging data between parts of the program. <br><br>  <b>The larger the interface, the weaker the abstraction</b> (The bigger the interface, the weaker the abstraction) <br>  Beginners in Go, especially those who came with Java, often consider that interfaces must be large and contain many methods.  Also often they are confused by the implicit satisfaction of interfaces.  But the most important thing in interfaces is not this, but the culture around them, which is reflected in this postulate.  The smaller the interface, the more useful it is.  Pike jokes that the three most useful interfaces he wrote - io.Reader, io.Writer and interface {} - for three, on average, have 0.666 methods. <br><br>  Make the zero value useful. <br>  The point is that it is better to make the zero value of types useful without any constructors.  Of course, sometimes constructor functions are necessary, but if there is an opportunity to make a variable of your type working ‚Äúright out of the box‚Äù, this always benefits.  An example is the type <a href="https://golang.org/pkg/bytes/">bytes.Buffer</a> or <a href="https://golang.org/pkg/sync/">sync.Mytex</a> from the standard library.  An empty value is a buffer that is ready to use, although there are constructors like bytes.NewBuffer and bytes.NewBufferString (). <br><br>  <b>An empty interface does not say anything</b> (interface {} says nothing) <br>  This postulate suggests that interfaces - ‚Äúbehavioral types‚Äù - must mean something.  If you are creating an interface, it means something and serves a specific purpose.  The empty interface (interface {}) means nothing and does not mean anything.  There are situations when it needs to be used, but they are more often an exception - do not use interface {} for no reason.  Beginners often reuse empty interfaces, and a lot of questions on Stack Overflow are about them. <br><br>  <b>Gofmt style is not someone's preference, but gofmt everyone prefers</b> (Gofmt's style is not one's favorite, yet gofmt is everyone's favorite) <br>  Many novices, struggling with habits, complain that the code in Go is not formatted the way they like it.  Gofmt is a single style, it is not someone‚Äôs personal preference.  Even Grismieyer himself, the author of the go fmt utility, himself would have preferred a different formatting style.  But from the moment the format was approved and gofmt is used everywhere and always - just take it for granted.  Experienced programmers consider go fmt salvation, as it greatly simplifies working with someone else's code - hell with different formatting styles in other languages ‚Äã‚Äãis a thing of the past. <br>  It is noteworthy that new languages ‚Äã‚Äãadopt this approach (for example, <a href="https://github.com/rust-lang-nursery/rustfmt">rustfmt</a> ) - this is what Dave Cheney said in his <a href="https://www.youtube.com/watch%3Fv%3DulfriuZjGDk">speech,</a> <a href="http://dave.cheney.net/2015/11/15/the-legacy-of-go">‚ÄúHeritage Go‚Äù</a> - new languages ‚Äã‚Äãwill no longer be considered complete without a uniform formatting style and utility that provides it. <br><br>  <b>Slight copying is better than small dependence</b> (A little copying is better than a little dependency) <br>  This already applies to programming as a whole, but in Go it can be seen both in the standard library and in the culture as a whole.  In part, this echoes the well-known installation <a href="http://us3.campaign-archive2.com/%3Fu%3D1090565ccff48ac602d0a84b4%26id%3D92902a19e4%26e%3D6dbbf45b40">"Duplication is cheaper than a bad abstraction."</a>  Pike tells how in the early days of Google he was told that they were most concerned about code reuse.  If you can avoid writing one repetitive line, making the import - you need to do so.  According to Pike, Google still raids problems with the code because of this approach.  Very often, the functionality can be similar (before the first refactoring), or only a part of the dependency functional is necessary, and it is often more efficient to write 5 lines than to import 150kb dependencies.  As an example, the <a href="https://golang.org/pkg/strconv/">IsPrint</a> function from the <a href="https://golang.org/pkg/strconv/">strconv</a> package - it duplicates the unicode.IsPrint () functionality, while the tests verify that the functions work in the same way.  Summarizing - do not be afraid to copy the code, where it is justified. <br><br>  <b>Code with syscall calls must contain build tags</b> (Syscall must always be guarded by build tags) <br>  In the subject of the recently translated article <a href="http://habrahabr.ru/post/269943/">"How to write Go code that is easily portable</a> . <a href="http://habrahabr.ru/post/269943/">"</a>  Some complain about the syscall package in Go - you need to change it, it is not ported.  But syscalls are by definition platform-specific calls, so if you want to make high-quality cross-platform code, always add build tags to files that use syscall. <br><br>  <b>Cgo must also contain build tags</b> (Cgo must always be guarded by build tags) <br>  For the exact same reason - always add build tags when using cgo.  If you call C - no one knows what is actually happening there, it is almost certainly not portable. <br><br>  <b>Cgo is not Go</b> (Cgo is not go) <br>  Many people rejoice in how easy it is to use C code in Go.  Sometimes, of course, it is necessary, but Pike admits that he never used Cgo himself, and in the Go world there is a clear understanding of memory, stability, security, garbage collection ... and with Cgo it all goes to the firebox.  In 90% of cases on Google, when someone says ‚Äúmy program crashed, help me figure it out‚Äù - it turns out to be in Cgo. <br><br>  With unsafe package there are no guarantees (With the unsafe package there are no guarantees) <br>  It emphasizes that the code written using the <a href="https://golang.org/pkg/unsafe/">unsafe</a> package is also not portable, and guarantees of backward compatibility within Go 1 are not covered (this is written in the very first line of the package documentation).  So far, nothing has changed in it, but if you are going to use unsafe for some reason - be prepared that in future versions you will have to adjust to the changes. <br><br>  <b>Clear is better than clever</b> (Clear is better than clever) <br>  The postulate that in Go the clarity and readability of the code comes first.  And you should also strive to write clear and understandable code, instead of abstruse code.  Sooner or later your code will be read, improved and refactored by other programmers, and the clearer it will be, the easier and faster the result will be.  Go will be all the ways and forces you to help and facilitate this, the entire design of the language is imbued with this goal. <br><br>  <b>Reflection is never clear</b> (Reflection is never clear) <br>  <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D1%2582%25D1%2580%25D0%25B0%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">Reflection</a> (the ability of the program to change its own structure) in Go is implemented by the <a href="https://golang.org/pkg/reflect/">reflect</a> package, and people often try to use it out of place.  Reflection is a very, very powerful thing, but very difficult to understand, and in fact is needed by a very small number of people and tasks.  Pike says that he probably wrote the most code with reflection in Go, and still hates doing it.  And he believes that it is necessary to encourage people not to use reflection, since it, as a rule, is not needed as it seems to them. <br><br>  <b>Errors are values</b> (Errors are values) <br>  Another important postulate, which has been repeatedly <a href="http://habrahabr.ru/post/270027/">covered</a> in Habr√©, and to which, in particular, <a href="http://habrahabr.ru/post/269909/">an article</a> in the official blog Go is <a href="http://habrahabr.ru/post/269909/">devoted</a> .  Newbies often do not understand this and ask, ‚Äúwhy should I write these if err! = Nil everywhere‚Äù.  Yes, because you do not program, you rivet the code.  Many people think that if err! = Nil is such an alternative to try..catch ... is a special construction of the language for working with errors.  But it is not, you cannot program with try ... catch ... - this is a control construct.  With errors in Go, you can and should do what the program logic requires. <br><br>  <b>Don't just check for errors, handle them nicely</b> (Dont 'just check errors, handle them gracefully) <br>  It is very important not only to check the errors, but also to think about what to do with them so that the erroneous situation was handled correctly.  Perhaps you need to supplement the error with some information, perhaps remember to process later, something else.  A huge and very important part of programming is how you handle errors.  Do not just check and forward to the top, but think about how to properly handle this error.  This is true for all languages, but since in Go the errors are just values, it is easier to do and easier to implement beautiful and correct error handling in the code. <br><br>  <b>Think over</b> the architecture, name the components, document the details (Design the architecture, name the components, document the details) <br>  Here we are talking about the importance of proper naming of your code components, methods, functions and variables.  These names will then be in the code of users of your package.  And if the names are successful and clear, the design of the program will be more clear and simple to understand.  But, of course, there are always details that need to be explained - and now they need to be placed in the documentation. <br><br>  <b>Documentation - for users</b> (Documentation is for users) <br>  The fact that the documentation for the function should describe not what this function does, but for what it is needed.  This is a very important distinction that is often overlooked.  When writing documentation, look at it through the eyes of the user of your package. <br><br>  Well, and if you can come up with some more postulates that meet the criteria for brevity, poetry and conceptuality - feel free to offer. <br><br>  <a href="http://go-proverbs.github.io/">go-proverbs.github.io</a> <br><br>  Slides (not original, true): <a href="https://speakerdeck.com/ajstarks/go-proverbs">speakerdeck.com/ajstarks/go-proverbs</a> <br><br>  Video: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/PAAkCSZUG1c%3Ffeature%3Doembed&amp;xid=25657,15700002,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhieCtxsV2n-4ll61OtM7tiOIQZZw" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/272383/">https://habr.com/ru/post/272383/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../272367/index.html">Several "buns" for symfony 2 && Doctrine</a></li>
<li><a href="../272371/index.html">Hacker mathematician</a></li>
<li><a href="../272373/index.html">Use TSQL to play Sudoku</a></li>
<li><a href="../272375/index.html">Apple has released Swift source code</a></li>
<li><a href="../272381/index.html">Useful Snippets for Nginx Configs</a></li>
<li><a href="../272385/index.html">True Snowden</a></li>
<li><a href="../272387/index.html">Resources for designers and front-end developers</a></li>
<li><a href="../272389/index.html">Desktop JavaScript applications. Part 1</a></li>
<li><a href="../272391/index.html">The story of how I wrote OS in Minecraft</a></li>
<li><a href="../272393/index.html">Creating a ToDo application with Realm and Swift</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>