<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I did a social network in 2019</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will tell you how I did my social network project for the sphere of art havidea.ru from idea to release. I will tell about the techn...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I did a social network in 2019</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/l4/qn/c5/l4qnc5pspx1jmyo-fdvtinvd_qy.jpeg"></div><br>  In this article I will tell you how I did my social network project for the sphere of art <a href="http://havidea.ru/">havidea.ru</a> from idea to release.  I will tell about the technical part, about motivation and self-organization, what tools I use in the development process, about the problems in working with the field of art that I encountered almost immediately after launch.  The project survived the reincarnation, i.e.  There was the <i>first option</i> , which I abandoned and the final, the <i>second</i> , which went into release. <a name="habracut"></a><br><br>  I have been working in web development for a little over three years.  The project went up alone in the time free from the main work and the main goal was to <i>release the</i> product on time (6 months). <br><br><h3>  Inspiration, idea, research </h3><br>  As a teenager, I began to get involved in music, painting.  A little later, he caught fire with 3D graphics and even managed to earn the first penny on 3D models.  A couple of years later, I seriously took up photography and video filming, and during the same period I learned a future wife, an actress, during vocal lessons (and this was in my life, yes).  All this prompted to do some project to support the "fun" destinies of creative people.  Iii?  Social network?  Why not?  But this is heytat supposedly soc.  networks are dying.  Someone's dying, but I can do it, right?  And in general, if there is a reasonable idea and concept, why not translate it into a web page?  Going on a list of social networks, came across an interesting option - stage32.  In my opinion, this is the only serious overseas platform that has gathered a community involved in filmmaking.  I did not find any analogues in Russia at the time (beginning of 2017) (I was looking bad?).  Solved.  I will make my service based on the best images, practices and UX of already existing social services.  networks, but with a bias in the field of theater, film and art in general. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Ideology of the project </h3><br>  Non-commercial, without advertising, as useful as possible for the participants themselves.  Free, without surveillance, without metrics.  Protect user data. <br><br><h3>  The first version (2017) </h3><br>  Any project must begin with the formulation and answer to the questions: for whom?  For what?  What problem does it solve (goal)?  What are the alternatives?  What benefits can be offered?  After clear and concise answers, I make a list of the functionality of the future project.  Further, I am determined with the backbone: I remove all the desires and fantasies from the general list of functionality and leave only the most necessary things, without which the application will not function.  From the minimum functionality I select a stack.  Looking for examples of implementation.  At this stage there is already a general picture: what to do, what for and how.  I write down the whole process, comments and thoughts in a notebook in order not to re-decide what I had previously refused. <br><br>  I start designing a UI with a piece of paper and a pencil.  Any piece that is at hand, goes into business, until the thought ran away.  I decide on the pages and spend the second rough iteration already in electronic form (it is easier to change something): <br><br><div class="spoiler">  <b class="spoiler_title">Page outline image</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/im/ek/ns/imeknsdy5hekt9mqq7mkfmegxlo.jpeg" alt="image"><br></div></div><br>  Next, I work through sketches in detail.  For example, the very first version of the profile page: <br><br><div class="spoiler">  <b class="spoiler_title">Profile page image</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/s0/za/m8/s0zam8n3w3mnonxj6e0db36m3ja.jpeg" alt="image"><br></div></div><br>  Posts, comments, likes, an album with photos - all according to the classics.  From the new: <br>  advanced profile for actors, search by professions and skills. <br><br>  For layout layout used <a href="http://modulargrid.org/">modulargrid.org</a> : <br><br><div class="spoiler">  <b class="spoiler_title">Image of profile page with modular backing</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/si/w9/ow/siw9owp-aekihtay6quxux8fwlc.jpeg" alt="image"><br></div></div><br>  I experimented with 12, 15 column grids, but I stopped at 12. I want to note that the layout on the modular grid is ambiguous.  You may not always be able to enter information into blocks, because interfaces are a graphical display of data.  I proceed from the principles of Data-Driven design, i.e.  The main purpose of interfaces is to provide <i>data</i> and convenient options for interacting with them.  That is why designer! = Web designer.  Returning to the problem of the modular grid, I will say that it only helps in the initial arrangement of the blocks, and the final version must be affirmed with the help of a trained eye.  In addition, in any entity must be zest or deviation from the rules to add vitality. <br><br>  A couple of sketches of the main page: <br><br><div class="spoiler">  <b class="spoiler_title">Sketch of the main page 1</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/nh/pk/hf/nhpkhf1xjilwaelsno0qilsd2ou.jpeg" alt="image"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Sketch of the main page 2</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/xb/kl/e_/xbkle_micaxleie8daa7kzczmv4.jpeg" alt="image"><br></div></div><br>  Some solutions do not look very successful and are removed / corrected during layout.  At the design stage, one should give oneself freedom and not bring everything up to the ideal. <br><br>  Login page: <br><br><div class="spoiler">  <b class="spoiler_title">Login page image</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/z2/bh/5k/z2bh5ktk9cq8x4xxxal5y46xiao.jpeg" alt="image"><br></div></div><br>  After sketching the desktop version, I pay attention to mobile.  Is the graphic part ready?  Normas.  It's time to code. <br><br>  <b>Frontend <i>first</i> option.</b> <br><br>  As a background for the main page, I used the <a href="https://threejs.org/">Three.js</a> library to work with WebGL.  The triangles float freely and ‚Äúfollow‚Äù the mouse.  Looking ahead, I‚Äôve said that in reincarnation I refused Three.js and did it on css + png, because the library weighs ~ 570kb and it seemed wasteful to use it for one simple effect.  In development, I stick to installations: minimalism, performance, ease of support.  Since about 3/4 of social networks are used from mobile, priority was given to lightness and speed.  As a library of UI components, I took <b>Bootstrap 4</b> .  Without jquery, only css.  I tried the bootstrap-vue wrapper, but somehow it didn‚Äôt go down.  Non-valid html tags were striking and I wanted the freedom of customization.  As you might have guessed, the <b>Vue</b> framework.  I wanted to initially lay a good indexing search engines, so twirled <b>Nuxt</b> . <br><br>  <b>Backend <i>first</i> option.</b> <br><br>  <b>Laravel</b> .  For one-man projects vue + laravel = must have.  The speed of development, a large community, a bunch of ready-made packages.  <b>API-first</b> architecture (the backend is initially developed as an API). <br>  What is API without documentation?  <a href="https://github.com/apidoc/apidoc">ApiDoc is a</a> great thing that can generate documentation from PHPDoc.  Routing customized and rendered route files from a single api.php, i.e.  one file, one route.  For convenience and to generate documentation.  Inspiration scooped from <a href="https://github.com/apiato/apiato">Apiato</a> .  A good starter kit for the API, stuffed with different design patterns and original architectural <a href="https://github.com/Mahmoudz/Porto">Porto</a> , designed to break the application into modules, but in fact leading to the monolith.  Judging by the repository, the project was abandoned more than a year ago.  Most likely, due to the active distribution of microservice architecture. <br><br><h3>  Rest, pumping skills </h3><br>  It was 2018.  In the first version I managed to implement registration, authentication, profile page with editing, settings page.  There was little time in the evenings.  Then I just started the vue path, and ssr on nuxt was capricious.  As a result, after 4-5 months was blown away.  It was an ambitious project and didn‚Äôt have enough skill to lift it without falling down.  For 2018, I strongly pulled myself up as a full stack developer, mastered docker, and in the beginning of 2019 I started everything from scratch.  Well, almost from scratch. <br><br><h3>  The second option (2019), release </h3><br>  <b>Frontend <i>second</i> option.</b> <br><br>  I refused nuxt ssr - the layer from node.js requires additional attention, and I did not see any need for it specifically on this project.  Bootstrap replaced by <b>Quasar</b> - a full-fledged vue UI (and not only) framework (why I‚Äôve told you about it below).  Interfaces are completely redone, gone from the VC-style concept.  Now insta-style.  Added the ability to create three types of publications: photos, videos and text.  In the layout used 24 column grid.  Now the service looks like this: <br><br><div class="spoiler">  <b class="spoiler_title">The final version of the first screen</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dw/jq/5i/dwjq5i63fftfe_epupj7qqolg0o.jpeg" alt="image"><br></div></div><br>  Yes, you can make the top menu transparent.  But you need to be able to say no.  I finally drew the main page again.  Therefore, do not go into details before the full picture.  Sooner or later you will want to change everything and no matter how beautiful the decision was.  Of course, the site is fully adapted: <br><br><div class="spoiler">  <b class="spoiler_title">Mobile Profile Page</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/1n/v3/-r/1nv3-rae72v5hedykaogf43fsqw.jpeg" alt="image"><br></div></div><br>  About TypeScript.  I tried to implement it, but later I cut it out, because strong typing requires more time for the placement of types and interfaces.  I came to the conclusion that TS without strict mode does not make sense.  It is true - why typing without specifying types.  In strict mode, you have to describe everything and it is at least + 30% of the development time.  And if you have not approved the data exchange scheme with the backend, you will have to be constantly distracted by minor edits.  In some places, you will need to ignore compiler errors by adding the @ ts-ignore comment to the code just because you are not responsible for third-party code that does not fully support TS.  In addition, all the benefits of TS are revealed in complex logical calculations, i.e.  typing .vue files is somewhat redundant.  I will be glad to hear comments on this topic. <br><br>  When the front was 90% complete, I plowed up Browserstack and tested the application on Safari.  I do not regret the money spent, because I managed to fix a couple of simple but critical bugs.  Minute bombolaylo.  Safari, when will you start thinking about users and developers?  For years, do not fix bugs.  Especially sticky scrolling modalka.  I have not found a 100% working way for how to make Safari scroll content correctly in a modal window.  I would be glad if someone came across and tells you the solution. <br><br>  In addition to the main application, I also made a simple admin panel with my api: <br><br><div class="spoiler">  <b class="spoiler_title">Admin screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/o4/sx/gr/o4sxgrlz9n4xdlsnqaz91tok6iq.jpeg" alt="image"><br></div></div><br>  There is nothing remarkable in the admin.  Just UI coverage for some features, because of which too lazy to climb into the database and edit the data by hand. <br><br>  <b>Backend of the <i>second</i> option.</b> <br><br>  <b>Laravel</b> .  Mandatory validation of all incoming data, cors headers, additional security headers <a href="https://github.com/BePsvPT/secure-headers">secure headers</a> , following the <b>RESTful</b> specification (somehow try JSON-RPC), <a href="https://github.com/spatie/laravel-fractal">Fractal</a> to transform the output data to the front.  Try-catch of everything so that the user does not press the mouse, but gets a clear reason for the error.  Automatic dumps of both databases using <a href="https://github.com/spatie/db-dumper">db-dumper</a> .  I did not write any automated testing, for it is limited in time.  It is necessary to pump up and try <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D1%2587%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B7_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">TDD</a> , it may not turn out much to increase the development time or even reduce. <br><br>  Separately, I want to say that I avoid the use of abstractions in the initial stages of design, if <i>we</i> can <i>now</i> do without them.  Premature use of them leads to the complexity of the application module, which can never be used.  Solve problems as they are received.  Yes, it‚Äôs not easy to maintain a balance between architecture and deadlines, and this only comes with experience, but it‚Äôs better to spend time thinking through the database, and you can rewrite the application code at any time.  The most important resource we have is time.  It is better to release a non-perfect product and be the first than to catch up with competitors.  And they will. <br><br><h3>  Problem stagnation </h3><br>  The launch took place in late May.  I started advertising and almost immediately came across a similar service.  Yes, they essentially implemented the same idea.  2 years earlier.  It was necessary to better explore the market and monitor it constantly for new services.  But the problem is not even that.  In the process of discussions, reflections and just life experience, I came to the conclusion that the problem of employing people of art is much deeper and perhaps a specialized social network does not help.  This is a market problem of job shortages.  In which direction to develop the product, I do not know exactly.  Now the project is experiencing stagnation. <br><br><h3>  Under the hood </h3><br><div class="spoiler">  <b class="spoiler_title">Release Technology</b> <div class="spoiler_text"><ul><li>  <b>Vue</b> </li><li>  <a href="https://quasar.dev/"><b>Quasar</b></a> (UI library of vue components).  This is an awesome, easy, beautiful and minimalistic framework and, most importantly, mobile and desktop pixel perfect.  Yes, I tried vuetify 2 beta.  But as for me, vuetify is not suitable for mobile phones and, in general, its API and documentation are more complicated than those of Quasar.  Also, Quasar has a number of plug-ins and imported functions.  For example, work with dates, touch events, platform definition by user-agent, program dialogs (modals), work with DOM and scrolling: all this narrows the range of dependencies in package.json. </li><li>  <b>Laravel</b> </li><li>  <b>Docker / docker-compose</b> .  I will not describe docker-compose.yml, but I will give a few points: separation of containers by network.  I have two: web and app;  Standalone tools (Portainer, Traefik) in separate docker-compose so that the main application does not crash upon restarting. </li><li>  <b>Redis</b> .  Object storage with functional queues.  If the queues need something more powerful, try <a href="https://www.rabbitmq.com/">RabbitMQ</a> . </li><li>  <b>Mysql</b> </li><li>  <b>Mongodb</b> .  In Monge store publications, comments, media files, notifications - all the most voluminous data.  Monga is easier to scale than muscle. </li><li>  <b>Nginx</b> </li><li>  <a href="https://traefik.io/"><b>Traefik</b></a> .  Very friendly and easy to configure reverse-proxy for the docker environment (and not only).  Plus he gets ssl certificates let's encrypt.  I used to use <a href="https://certbot.eff.org/">Certbot</a> , but now I <a href="https://certbot.eff.org/">'m not worried</a> at all with additional dependencies. </li><li>  <a href="https://www.portainer.io/"><b>Portainer</b></a> .  I lift up the containers with my hands through docker-compose, but it‚Äôs very useful to have a visual interface by their state.  Logs from stdout / stderr fall there.  If the budget allows, then for the logs you can put some <a href="https://www.elastic.co/elk-stack">ELK</a> . </li><li>  <b>ElasticSearch</b> .  Thanks to Laravel to the community that there is a <a href="http://babenkoivan/scout-elasticsearch-driver">Scout driver</a> for ES (Scout itself updates the data in the elastic index databases).  By the way, do not forget to <a href="https://habr.com/ru/post/441028/">close the service with ext</a> .  One of the options to do this is to prescribe ports: "127.0.0.1:9200:9200" in the docker-container (note: for security, it is better not to use the standard 9200 port).  In elastica there are two indices: by profiles and by publications.  Tuned hunspell for Russian morphology. </li></ul><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Remarkable services</b> <div class="spoiler_text"><ul><li>  <b>AWS</b> Saas.  I wanted to put <a href="https://min.io/">Minio S3</a> , but it does not fit into the budget at all. </li><li>  <b>Mailgun</b>  Laravel out of the box has integration with this service.  Very convenient, with its own interface and (!) Queues. </li><li>  <b>Sentry</b> .io Saas.  You can put it as self-hosted.  Super handy and useful debugging tool.  Connect the front and back to it.  Customized releases.  All runtime errors are monitored and timely detected by, for example, email notifications.  Beauty. </li></ul><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Useful tools</b> <div class="spoiler_text"><ul><li>  <b>Trello</b> - comfortable kanban boards.  I have such a set: do, ready, testing, discussion, cancellation. </li><li>  <b>Browserstack</b> - testing on iOS, ‚Äúbeloved‚Äù Safari. </li><li>  <b>Gitlab</b> - repositories and ci / cd.  The CD itself didn‚Äôt set up - it didn‚Äôt raise its gitlab runner, and letting the gitlab runners connect over ssh is somehow dumb.  Devops are not my forte, besides.  As part of CI - build the front, push to the gitlab repository.  Variables are stored here in the section ci / cd -&gt; variables, which are forwarded during the build phase. </li></ul><br></div></div><br><h3>  Total </h3><br>  Despite the current situation with my views on the peculiarities of the art market, I do not regret a few hundred hours spent.  The process was fascinating, gave a bunch of experience and not only programmer.  I made the service the way I thought and was proud of the final implementation.  I was moved by the belief that I could help creative people.  This was the main motivation.  Maybe the original non-commercial approach put the project in a difficult position?  There is a (controversial) opinion that it is necessary to start either a business or nothing.  It is sad, but sometimes it is better to stop in time than to do what you do not believe.  If a new understanding comes in which direction to move, I will continue to develop.  I will be flattered by your opinions. </div><p>Source: <a href="https://habr.com/ru/post/458188/">https://habr.com/ru/post/458188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458176/index.html">Exaflops barrier will be overcome in 2021</a></li>
<li><a href="../458180/index.html">Failover Kea based DHCP server</a></li>
<li><a href="../458182/index.html">We read VKontakte via RSS</a></li>
<li><a href="../458184/index.html">Haxe and PHP: static typing, arrow functions, metaprogramming and much more</a></li>
<li><a href="../458186/index.html">WAL in PostgreSQL: 1. Buffer cache</a></li>
<li><a href="../458192/index.html">STM32 + PPP + GSM + LwIp + TLS 1.2</a></li>
<li><a href="../4582/index.html">Ru-Center: by the end of 2007 there will be 1 million domains in RuNet</a></li>
<li><a href="../458204/index.html">How to evaluate the performance of storage on Linux: benchmarking using open tools</a></li>
<li><a href="../458206/index.html">Sublime Text 3 for website layout. Customize the appearance and installation of plug-ins. Beginner's Guide</a></li>
<li><a href="../458208/index.html">Digital events in Moscow from July 01 to July 07</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>