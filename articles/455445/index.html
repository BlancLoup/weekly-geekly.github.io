<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Software implementation of class D amplifier</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Best-404-Error wonders whether it is possible to get a compilation result with a length of less than 512 bytes if the source is written in a high leve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Software implementation of class D amplifier</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/br/_u/vx/br_uvxg43wfsu749czxcs8_8yxy.jpeg"><br><br>  <a href="https://habr.com/ru/users/best-404-error/" class="user_link">Best-404-Error</a> wonders whether it is possible to get a compilation result with a length of less than 512 bytes if the source is written in a high level language.  You can, if you simplify the task assigned to the firmware. <br><br>  The software implementation of a class D amplifier allows changing its parameters (PWM frequency, duty cycle in rest mode) by changing the firmware. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Device hardware diagram: <br><br><img src="https://habrastorage.org/webt/ys/la/v_/yslav_x1qgnbizriw6ub80as9pk.png"><br><br>  The input signals pass through capacitors to cut off the DC component, and then through resistor dividers, adding to them a new DC component of about +0.55 V. At the same time, the capacitors and lower resistors of the dividers form an HPF that cut off frequencies below 28 Hz.  Experience has shown that it is better to increase the cut-off frequency of these filters, because small distortions still occur. <br><br>  The signals arrive at the first and third ADCs of the microcontroller.  The reference voltage of the ADC is chosen equal to 1.1 V. The division ratio of the clock frequency is 16, so the ADCs operate at a frequency of 500 kHz.  The interrupt handling routine cycles through the first and third ADCs.  One of the read values ‚Äã‚Äãis written to OCR1A, the second to OCR1B. <br><br>  Timer 1 is configured so that the unit at the PWM outputs appears when these values ‚Äã‚Äãcoincide, and zero ‚Äî when the timer is reset to zero.  After tuning, this part of the algorithm is performed in hardware, but at the same time as the signal amplitude, the PWM frequency changes relative to the initially specified one. <br><br>  If the duty cycle in the quiescent mode is selected to be 50 percent (better quality, but less economical), then low-pass filters are needed before the dynamic heads. <br><br>  Files: <a href="">source code in C ++</a> , the <a href="">result of the compilation of Atmel Studio 7.0</a> (it turned out 495 bytes), the <a href="">scheme in Eagle format</a> , the <a href="">board in it</a> , the <a href="">G-code for cutting through the board image</a> , <a href="">drilling it</a> , <a href="">cutting it to size</a> . <br><br>  The fee is one-sided: <br><br><img src="https://habrastorage.org/webt/4e/rx/pe/4erxpeohqiavhvlf6bolnjjvf_q.png"><br><br>  Dynamic heads are connected via standard dual H-bridge L293N: <br><br><img src="https://habrastorage.org/webt/av/eo/dk/aveodkwqp5q1hgjkr_kosb0zy7m.jpeg"><br><br>  Amplifier in action: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/oxtLfcPF988" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/455445/">https://habr.com/ru/post/455445/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455421/index.html">Decomposing a UICollectionViewCell</a></li>
<li><a href="../455425/index.html">Creating IPSec GRE tunnel between Mikrotik hEX S and Juniper SRX via USB Modem</a></li>
<li><a href="../45543/index.html">Methodology for working with clients. For beginner web studio managers</a></li>
<li><a href="../455439/index.html">The new algorithm, created by scientists, allows you to create almost perfect "talking heads" with real people.</a></li>
<li><a href="../455441/index.html">June 21, Moscow, Deworkacy - AnalyzeIT MeetUp # 2</a></li>
<li><a href="../455447/index.html">How to start learning web development in 2019 or HTML Academy VS Codecademy VS FreeCodeCamp</a></li>
<li><a href="../455449/index.html">Atomexpo-2019, part 3: Mothers for an atom</a></li>
<li><a href="../45545/index.html">Icons with big eyes</a></li>
<li><a href="../455453/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ368 (June 3 - 9, 2019)</a></li>
<li><a href="../455455/index.html">News from the world of OpenStreetMap ‚Ññ 463 (05.28.2019-03.06.2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>