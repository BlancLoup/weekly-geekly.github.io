<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MIMO spatial diversity: Alamouti, DET and other spatial diversity</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To transmit a message from a base station to a mobile device (and vice versa), an electromagnetic wave has to overcome a significant number of obstacl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MIMO spatial diversity: Alamouti, DET and other spatial diversity</h1><div class="post__text post__text-html js-mediator-article"><p>  To transmit a message from a base station to a mobile device (and vice versa), an electromagnetic wave has to overcome a significant number of obstacles: reflections, refractions, scattering, shading, Doppler frequency shifts, and so on.  First, it is accepted to call all these effects multiplicative (from the English. Multiplication - multiplication) - according to the mathematical model of such effects.  And, secondly, it can be collected under the general term <strong>fading</strong> . </p><br><p>  From standard to standard, from generation to generation, from technology to technology, scientists and engineers have struggled and are struggling with the problem of fading mitigation. </p><br><p>  And some solutions are widespread.  Let's say more: almost all of them, one way or another, are connected with the concept of <strong><em>diversity</em> (diversity)</strong> . </p><br><img src="https://habrastorage.org/getpro/habr/post_images/4eb/a6c/6fe/4eba6c6fee159e15772564f0e487859a.jpg" width="600"><a name="habracut"></a><br><blockquote>  <em><a href="https://www.etsy.com/listing/595340191/diversity-baby-jesus-the-cat-mug">Source of illustration</a> (no, this is not advertising, just a good combination of the desired term and a cat).</em> </blockquote><p>  An example of such solutions: </p><br><ol><li>  <a href="http://www.teletopix.org/gsm/slow-and-fast-frequency-hopping-in-gsm/">Frequency hopping</a> - against frequency selective fading; </li><li>  Channel estimation and equalization through GSM feedback to suppress changes in the time domain; </li><li>  <a href="https://www.tu-ilmenau.de/fileadmin/public/iks/files/lehre/UMTS/09_WCDMA_ws18_19.pdf">Spread Spectrum</a> (UMTS); </li><li>  Pilot signals (starting from UMTS) downstream (Down-link) and tracking (signal tracking) upstream (Up-link) - to suppress changes in the time domain; </li><li>  <a href="https://www.tu-ilmenau.de/fileadmin/public/iks/files/lehre/UMTS/11_LTE_Radio_ws18.pdf">OFDM</a> - LTE, against frequency selective fading; </li><li>  Temporal spacing ( <a href="https://github.com/kirlf/CSP/tree/master/FEC">robust coding</a> ); </li><li>  Polarization spacing (on the transmitter side) + Adders (combiners, on the receiver side); </li><li>  <strong>Spatial separation</strong> . </li></ol><br><p>  The last of the mentioned techniques we will consider today in the framework of another topic on <strong>MIMO</strong> . </p><br><h1 id="space-diversity-order-i-array-gain">  Space diversity order and array gain </h1><br><p>  The first. </p><br><p>  There is such a concept - the <u>order of spatial diversity</u> (space diversity order): if <a href="">the same information can be collected from different directions</a> , then the hope to restore it will increase correctly.  As an example of life, you can provide a collection of information about the same event from independent sources of informers.  In radio communication, we can increase this order, including by applying <strong>MISO</strong> , <strong>SIMO</strong> or <strong>MIMO</strong> . </p><br><p>  The theoretical limit of such diversity <img src="https://habrastorage.org/getpro/habr/post_images/75b/670/7ca/75b6707ca829505c8d455ca6ff0135fe.svg" alt="M_TM_R">  where <img src="https://habrastorage.org/getpro/habr/post_images/c14/60e/120/c1460e120c11fabd5046258431af459c.svg" alt="M_T">  - the number of transmit antennas, and <img src="https://habrastorage.org/getpro/habr/post_images/776/52c/87f/77652c87f97ec8ee5f4f3cd7324c6b26.svg" alt="M_R">  - the number of receiving antennas.  Remember this. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/f86/05b/ecc/f8605becce530348c9129b3d148f6879.png" alt="div" width="500" height="600"><br><p>  <em>Fig.1.</em>  <em>Channel stability caused by an increase in the order of spatial diversity.</em>  <em>At values</em> <em><img src="https://habrastorage.org/getpro/habr/post_images/a93/aea/512/a93aea51271fd8e5e191c74b00cd90b6.svg" alt="M_TM_R \ to \ infty"></em>  <em>the channel is completely stabilized and turns into a channel without fading (AWGN) [1, p.101]</em> . </p><br><p>  The second. </p><br><p>  Using <strong>SIMO</strong> , <strong>MIMO</strong> and even <strong>MISO</strong> (in the case of a known channel), you can get the so-called <u>array gain</u> .  This means that using multiple receiving antennas and / or correct energy distribution on the transmitting side allows you to increase the signal-to-noise ratio (SNR) - and thus reduce the number of errors. </p><br><p>  The orders of diversity and gain of the array for different configurations can be derived analytically [1, c.  86 - 100] and summarized in one table [1, p.  101] and for the case when the channel is unknown (CU - Channel Unknown), and for the case when the channel is known (CK - Channel Known) on the transmitter side. </p><br><div class="scrollable-table"><table><thead><tr><th>  Configuration </th><th>  Diversity order </th><th>  Array gain </th></tr></thead><tbody><tr><td>  SIMO (CU, Rx-MRC) </td><td><img src="https://habrastorage.org/getpro/habr/post_images/776/52c/87f/77652c87f97ec8ee5f4f3cd7324c6b26.svg" alt="M_R"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/776/52c/87f/77652c87f97ec8ee5f4f3cd7324c6b26.svg" alt="M_R"></td></tr><tr><td>  SIMO (CK, Rx-MRC) </td><td><img src="https://habrastorage.org/getpro/habr/post_images/776/52c/87f/77652c87f97ec8ee5f4f3cd7324c6b26.svg" alt="M_R"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/776/52c/87f/77652c87f97ec8ee5f4f3cd7324c6b26.svg" alt="M_R"></td></tr><tr><td>  MISO (CU, OSTBC) </td><td><img src="https://habrastorage.org/getpro/habr/post_images/c14/60e/120/c1460e120c11fabd5046258431af459c.svg" alt="M_T"></td><td>  one </td></tr><tr><td>  MISO (CK, Tx-MRC) </td><td><img src="https://habrastorage.org/getpro/habr/post_images/c14/60e/120/c1460e120c11fabd5046258431af459c.svg" alt="M_T"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/c14/60e/120/c1460e120c11fabd5046258431af459c.svg" alt="M_T"></td></tr><tr><td>  MIMO (CU, OSTBC) </td><td><img src="https://habrastorage.org/getpro/habr/post_images/75b/670/7ca/75b6707ca829505c8d455ca6ff0135fe.svg" alt="M_TM_R"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/776/52c/87f/77652c87f97ec8ee5f4f3cd7324c6b26.svg" alt="M_R"></td></tr><tr><td>  MIMO (CK, DET) </td><td><img src="https://habrastorage.org/getpro/habr/post_images/75b/670/7ca/75b6707ca829505c8d455ca6ff0135fe.svg" alt="M_TM_R"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/75b/670/7ca/75b6707ca829505c8d455ca6ff0135fe.svg" alt="M_TM_R"></td></tr></tbody></table></div><br><p>  Okay, albeit in broad strokes, but now we have at least some understanding of the theoretical aspects of the suppression of fading.  The next question is how to reach these theoretical limits?  What are the activation techniques for the considered winnings? </p><br><h1 id="reshenie-1-prostranstvenno-vremennye-kody">  Decision number 1.  Space Time Codes </h1><br><p>  One of the most popular classes of spatial diversity solutions is, perhaps, the space-time code class.  For example, I know the Alamouti method, familiar to many (block code example) [2, c.  40-46]: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/122/1ea/02d/1221ea02d0f299c22561919f63c24b82.png" alt="AlamF" width="300"><br><p>  Where <img src="https://habrastorage.org/getpro/habr/post_images/31a/250/d96/31a250d9654c78afad79239ee0b1739d.svg" alt="c_i">  at <img src="https://habrastorage.org/getpro/habr/post_images/64d/454/aab/64d454aab5c661d05b01e9fe6e4455d4.svg" alt="i = 1,2">  - these are some input characters, <img src="https://habrastorage.org/getpro/habr/post_images/277/cef/e3c/277cefe3cc3e4615befa959782bb9f5c.svg" alt="t_i">  at <img src="https://habrastorage.org/getpro/habr/post_images/64d/454/aab/64d454aab5c661d05b01e9fe6e4455d4.svg" alt="i = 1,2">  - These are time counts (time slots), and <img src="https://habrastorage.org/getpro/habr/post_images/84e/029/611/84e02961182e87b0f26784540be45fae.svg" alt="\ mathbf {s}">  - this is, in fact, the coding matrix. </p><br><p>  The Alamouti circuit is <strong>orthogonal</strong> [1, pp.93-95, 97-98] and, most importantly, <u>does not require</u> Channel State Information. </p><br><blockquote>  A mathematical description of the transmission of the Alamouti-encoded signal, as well as several examples of modeling this technique in MatLab can be found in <a href="https://nbviewer.jupyter.org/github/kirlf/CSP/blob/master/MIMO/Alamouti.ipynb">my repository</a> .  Interested welcome! </blockquote><p> However, as you can see, the Alamouti circuit is a case where we only have two transmit antennas ( <img src="https://habrastorage.org/getpro/habr/post_images/335/4f6/0e1/3354f60e1c52d1d44c00b822420bda7f.svg" alt="M_T = 2">  ). <br>  But do not lose heart ahead of time: other options are available, of course, they are just called a little differently.  For example, according to [3], the following coding schemes can be applied: </p><br><img alt="Tarokh" src="https://habrastorage.org/getpro/habr/post_images/25b/38c/c73/25b38cc73536da28cdf48a4ea425657f.png" width="300"><br><p>  <em>Fig.</em>  <em>2. Transmission schemes for cases</em> <em><img src="https://habrastorage.org/getpro/habr/post_images/163/2a2/50d/1632a250d12ac8f01c5f81382773de2f.svg" alt="M_T = 3"></em>  <em>and</em> <em><img src="https://habrastorage.org/getpro/habr/post_images/36e/7f8/4a3/36e7f84a35786fc9f3dbcacd8af3a847.svg" alt="M_T = 4"></em>  <em>[2].</em> </p><br><p>  And many other options: just to meet the conditions of orthogonality. </p><br><p>  For such codes, the same procedures for encoding and decoding are required as for the Alamouti code.  Therefore, they are usually united under the general term <strong>orthogonal space-time block codes</strong> (OSTBC - Ortogonal Space-Time Block Codes). </p><br><blockquote>  Much attention is paid to this class of codes in the <a href="https://www.mathworks.com/help/comm/examples/introduction-to-mimo-systems.html">‚ÄúIntroduction to MIMO Systems‚Äù</a> materials from MathWorks.  I strongly advise all interested to read! </blockquote><p>  What's the price? </p><br><p>  As can be seen from the transmission scheme, although we transmit characters in parallel, we spend several time slots on it.  Consequently, we are sacrificing bandwidth (at a minimum, losing it).  For the Alamouti scheme, such a compromise is symmetrical: we use 2 antennas and 2 time slots (as if using SISO in terms of throughput).  Other schemes may affect the transfer rate even more. </p><br><h1 id="reshenie-2-det-dominant-eigenmode-transmission">  Decision number 2.  DET: Dominant Eigenmode Transmission </h1><br><p>  Well, for the previous class of technician, knowledge about the channel was not important to us.  But what if we still have this knowledge?  Is there a more suitable technique in this case? </p><br><p>  In <a href="https://habr.com/ru/post/448570/">one of my previous articles,</a> we discussed that, having knowledge of the state of the channel, we can apply various signal processing methods to increase the throughput.  The same principle also works to improve noise immunity. </p><br><p>  Probably, many have heard about the <a href="http://luminouslogic.com/maximal-ratio-combining-example-in-matlab.htm">MRC</a> method and many know that this method is most appropriate for the <strong>SIMO</strong> case, when there is only one antenna at the transmission, but there are many at the reception, which means there is something to combine. </p><br><p>  But, probably, already a smaller number of readers encountered the MRC on the transmission side (Tx-MRC) [1, p.  95.96], and even less with <strong>DET</strong> technology (Dominant Eigenmode Transmission) [1, p.  98-100].  Fix it! </p><br><p>  To begin, consider the general case of the MIMO channel and the last of these methods - DET. </p><br><p>  What is the essence: </p><br><ul><li>  If the transmitter has a matrix <img src="https://habrastorage.org/getpro/habr/post_images/ed0/8c1/e77/ed08c1e77cfaf357d5e90e9e2ae918aa.svg" alt="\ mathbf {H}">  then it can be processed. </li><li>  For example, decompose it via <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B8%25D0%25BD%25D0%25B3%25D1%2583%25D0%25BB%25D1%258F%25D1%2580%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2580%25D0%25B0%25D0%25B7%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">SVD</a> : <img src="https://habrastorage.org/getpro/habr/post_images/6ff/853/036/6ff85303658476289e549faab615189d.svg" alt="\ mathbf {H} = \ mathbf {U} \ mathbf {\ Sigma} \ mathbf {V} ^ H">  , thus obtaining several matrices of a certain property. </li><li>  These properties can be used to optimize transmission, for example, by applying pre-coding. </li></ul><br><p>  We introduce some pre-coding vector: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb3/356/867/fb3356867fdfa21723d8713c35e73dc2.svg" alt="\ underset {M_T \ times1} {\ mathbf {w}} = \ sqrt {M_T} \ underset {M_T \ times1} {\ mathbf {v} _1}"></div><br><p>  Where <img src="https://habrastorage.org/getpro/habr/post_images/7e4/0de/c2a/7e40dec2a8cc56fc18e8d9896d75dd3a.svg" alt="\ mathbf {v} _1">  - this is the first (dominant, so to speak) matrix vector <img src="https://habrastorage.org/getpro/habr/post_images/623/005/a77/623005a778ee32ae5b0bebb3acfc09cc.svg" alt="\ mathbf {V}">  . </p><br><p>  Moreover, we can also record the post-processing vector: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/528/14c/f95/52814cf952869df9e56aed9b05c6451f.svg" alt="\ underset {M_R \ times1} {\ mathbf {g}} = \ underset {M_R \ times1} {\ mathbf {u} _1}"></div><br><p>  Where <img src="https://habrastorage.org/getpro/habr/post_images/ed4/ade/b22/ed4adeb22600604ae327b559a14f13b6.svg" alt="\ mathbf {u} _1">  Is the first matrix vector <img src="https://habrastorage.org/getpro/habr/post_images/9ba/12f/895/9ba12f8955bee5ba072e9cef3abf1aa0.svg" alt="\ mathbf {U}">  . </p><br><p>  Redefine the received signal model (see <a href="https://habr.com/ru/post/448570/">bandwidth topic</a> ): </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36d/927/add/36d927add48f72d9f870a252c9fb3094.svg" alt="{z} = \ underset {1 \ times M_R} {\ mathbf {g} ^ H} \ underset {M_R \ times 1} {\ mathbf {y}} = \ mathbf {g} ^ H \ sqrt {\ frac { E_s} {M_T}} \ mathbf {H} \ mathbf {w} s + \ mathbf {g} ^ H \ mathbf {n} = \ sqrt {E_s} \ mathbf {u} _1 ^ H \ mathbf {H} \ mathbf {v} _1 s + \ hat {\ mathbf {n}} = \ sqrt {E_s} \ sigma_ {max} s + \ hat {\ mathbf {n}}"></div><br><p>  Voila!  The magic of linear algebra singled out the most profitable among all paths of propagation and sent all the energy there.  In fact, we have a linear beamforming algorithm. </p><br><p>  The price of the considered approach is the same, as in the case of OSTBC, throughput limiting.  True, this is happening now especially in the spatial domain. </p><br><div class="spoiler">  <b class="spoiler_title">Why does the method contain in its name eigenvalues ‚Äã‚Äã(eigen values), if we talked only about singular values?</b> <div class="spoiler_text"><p>  Because the eigenvalues ‚Äã‚Äã(power of propagation paths - fading) can be directly derived from singular numbers (amplitudes of fading): </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/a89/feb/cefa89feb57191680e0b1db0ff142a3a.svg" alt="\ mathbf {R} _ {\ mathbf {HH} ^ H} = \ mathbf {HH} ^ H = \ mathbf {Q} \ mathbf {\ Lambda} \ mathbf {Q} ^ H = \ mathbf {Q} \ begin {bmatrix} \ lambda_ {max} &amp; &amp; &amp; &amp; \\ &amp;. &amp; &amp; &amp; \\ &amp; &amp;. &amp; &amp; \\ &amp; &amp; &amp;. &amp; \\ &amp; &amp; &amp; &amp; \ lambda_ {min} \\ \ end {bmatrix} \ mathbf {Q} ^ H"></div></div></div><br><p>  Well, with DET it is more or less clear - what about Tx-MRC? </p><br><p>  It's still easier with him - this is a special case of DET, and now we will prove it. </p><br><p>  For Tx-MRC, the following pre-coding vector has been proposed in the literature: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1d9/f9c/247/1d9f9c247b947310f39781e558fa1d79.svg" alt="\ mathbf {w} = \ sqrt {M_T} \ frac {\ mathbf {h} ^ H} {\ sqrt {|| \ mathbf {h} || ^ 2_F}}"></div><br><p>  We keep in mind that the square of the <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0_%25D0%25BC%25D0%25B0%25D1%2582%25D1%2580%25D0%25B8%25D1%2586%25D1%258B">Frobenius norm is</a> equal to the eigenvalue and, accordingly, to the square of the singular number <img src="https://habrastorage.org/getpro/habr/post_images/2c2/549/479/2c2549479444edff5ed2c96b062402a3.svg" alt="|| \ mathbf {h} || ^ 2_F = \ lambda_ {max} = \ sigma ^ 2_ {max}">  (in the case of SIMO and MISO). </p><br><p>  Then redefine the received signal model, only for the MISO case: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/257/39a/c38/25739ac382a6b7f34f3819cf55d5dd12.svg" alt="y = \ sqrt {\ frac {E_s} {M_T}} \ mathbf {h} \ mathbf {w} s + \ mathbf {n} = \ sqrt {\ frac {E_s} {M_T}} \ mathbf {h} \ sqrt {M_T} \ frac {\ mathbf {h} ^ H} {\ sqrt {|| \ mathbf {h} || ^ 2_F}} s + \ mathbf {n}} = \ frac {\ sqrt {E_s}} {\ sigma_ {max}} \ mathbf {h} \ mathbf {h} ^ H s + \ mathbf {n}} = \ frac {\ sqrt {E_s}} {\ sigma_ {max}} || \ mathbf {h } || _F ^ 2 s + \ mathbf {n}} = \ frac {\ sqrt {E_s}} {\ sigma_ {max}} \ lambda_ {max} s + \ mathbf {n}} = \ sqrt {E_s} \ sigma_ {max} s + \ mathbf {n}}"></div><br><p>  Q.E.D. </p><br><blockquote>  Notice, now we are not just talking about the diversity of signals on the transmitting side and combining them on the receiving side, as was the case with OSTBC.  Now we are talking about the optimal distribution of energy.  This means that the values ‚Äã‚Äãof <em>array gain</em> in this case are higher than those of OSTBC. </blockquote><p>  Now that all the words have been spoken, we will try to model our techniques. </p><br><h1 id="modelirovanie">  Modeling </h1><br><p>  Today I read a bit: for the <strong>OSTBC</strong> modeling, ready-made objects from <strong>Communication Toolbox</strong> (MatLab R2014a - which one was) were used: </p><br><ul><li>  <a href="https://www.mathworks.com/help/comm/ref/comm.ostbcencoder-system-object.html%3Fs_tid%3Ddoc_ta">comm.OSTBCEncoder</a> - Ortogonal Space-Time Block Codes Encoder; </li><li>  <a href="https://www.mathworks.com/help/comm/ref/comm.ostbccombiner-system-object.html">comm.OSTBCCombiner</a> - Ortogonal Space-Time Block Codes Combiner. </li></ul><br><p>  For modulation and demodulation (and BER counting), not objects, but <strong>functions</strong> were used.  Their analogues are in the Octave <a href="https://octave.sourceforge.io/communications/overview.html"><strong>communications</strong></a> package. </p><br><div class="spoiler">  <b class="spoiler_title">Source codes can be viewed here.</b> <div class="spoiler_text"><pre><code class="matlab hljs">clear all; close all; clc snapshots = <span class="hljs-number"><span class="hljs-number">100000</span></span>; EbNo = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>; M = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">% modulation order (BPSK) Mt = 2; % num. of Tx antennas Mr = [1; 2]; % num. of Rx antennas ostbcEnc = comm.OSTBCEncoder('NumTransmitAntennas', Mt); % for Alamouti ric_ber = zeros(length(EbNo), length(M), length(Mr)); sum_BER_alam = zeros(length(EbNo), length(M), length(Mr)); sum_BER_det = zeros(length(EbNo), length(M), length(Mr)); for mr = 1:length(Mr) ostbcComb = comm.OSTBCCombiner('NumTransmitAntennas', Mt, 'NumReceiveAntennas', Mr(mr)); H = zeros(Mr(mr), Mt, snapshots); alam_fad_msg = zeros(snapshots, Mr(mr)); for m = 1:length(M) ric_ber(:,m,mr) = berfading(EbNo, 'psk', M(m), Mr(mr)*Mt, 0); snr = EbNo+10*log10(log2(M(m))); % Signal-to-Noise Ratio message = randi([0, M(m)-1],100000,1); mod_msg = pskmod(message, M(m), 0, 'gray'); Es = mean(abs(mod_msg).^2); % symbol energy alam_msg = step(ostbcEnc, mod_msg); % OSTBC encoding % Channel h = (1/sqrt(2))*(randn(Mr(mr),Mt,snapshots/Mt)... + 1j*randn(Mr(mr),Mt, snapshots/Mt)); % Rayleigh flat fading % Channel is stable during to time-slots: H(:,:,1:2:end-1) = h; H(:,:,2:2:end) = h; pathGainself = permute(H,[3,2,1]); % Transmit through the channel (Alamouti): for q = 1:snapshots; alam_fad_msg(q,:) = (sqrt(Es/Mt)*H(:,:,q)*alam_msg(q,:).').'; end % DET: sigmas = zeros(length(mod_msg), 1); for hi = 1:length(mod_msg) [U, Sigma, Vh] = svd(H(:, :, hi)); sigmas(hi) = Sigma(1, 1); end det_fad_msg = mod_msg.*sigmas; No = Es./((10.^(EbNo./10))*log2(M(m))); % Noise spectrum density for c = 1:500 for jj = 1:length(EbNo) alam_noisy_msg = alam_fad_msg + ... sqrt(No(jj)/2)*(randn(size(alam_fad_msg)) + ... 1j*randn(size(alam_fad_msg))); % AWGN alam_decodeData = step(ostbcComb,alam_noisy_msg,pathGainself); %OSTBC combining alam_demod_msg = pskdemod(alam_decodeData, M(m), 0, 'gray'); % demodulation [number,alam_BER(c,jj)] = biterr(message, alam_demod_msg); % BER det_noisy_msg = det_fad_msg+ ... sqrt(No(jj)/2)*(randn(size(mod_msg)) + ... 1j*randn(size(mod_msg))); %AWGN det_decodeData = det_noisy_msg./sigmas; % Zero-Forcing equalization det_demod_msg = pskdemod(det_decodeData, M(m), 0, 'gray'); % demodulation [number,det_BER(c,jj)] = biterr(message, det_demod_msg); % BER end end sum_BER_alam(:,m, mr) = sum(alam_BER)./c; sum_BER_det(:,m, mr) = sum(det_BER)./c; end end figure(1) semilogy(EbNo, sum_BER_alam(:, 1, 1), 'b-o', ... EbNo, sum_BER_det(:,1,1), 'b-&gt;',... EbNo, ric_ber(:,1,1), 'b-',... EbNo, sum_BER_alam(:, 1, 2), 'r-o', ... EbNo, sum_BER_det(:,1,2), 'r-&gt;',... EbNo, ric_ber(:,1,2), 'r-',... 'LineWidth', 1.5) title('BPSK (Rayleigh flat fading)') legend('Alamouti (2x1)','Tx-MRC (2x1)','2-nd order diversity', ... 'Alamouti (2x2)','DET (2x2)','4-th order diversity') xlabel('EbNo (dB)') ylabel('BER') grid on</span></span></code> </pre> </div></div><br><p>  It should be something like this: </p><br><p><img src="https://habrastorage.org/webt/uc/b-/va/ucb-vayflauzlr9zfrv7w_hlmi4.png"></p><br><p>  <em>Fig.</em>  <em>3. Bit / Character Error Curves for Different Transmission Techniques (BPSK, Rayleigh Flat Fading Channel).</em>  <em>Compare with [1, p.</em>  <em>96, 100].</em> </p><br><p>  And now the question is: where is the curve of the theoretical second-order separation boundary? </p><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text"><p>  Everything is according to the table: this curve completely coincides with Alamouti 2x1.  In the case of MIMO, the array gain also comes into play, and therefore the curves are split. </p></div></div><br><p>  One way or another, DET (or Tx-MRC) is expectedly ahead of Alamouti in quality. </p><br><p>  Like this: knowledge is power! </p><br><h1 id="literatura">  Literature </h1><br><ol><li><p>  Paulraj, Arogyaswami, Rohit Nabar, and Dhananjay Gore.  Introduction to space-time wireless communications.  Cambridge university press, 2003. </p><br></li><li><p>  Bakulin M. G., Varukina L. A., Kreyndelin V. B. MIMO technology: Principles and Algorithms // M .: Hotline ‚Äì Telecom.  - 2014. - T. 244. </p><br></li><li><p>  Tarokh, V., Jafarkhani, H., &amp; Calderbank, AR (1999).  Space-time block codes from orthogonal designs.  IEEE Transactions on Information theory, 45 (5), 1456-1467. </p><br></li></ol><br><p>  <strong>PS</strong> </p><br><p>  I give my greetings to the faculty and student fraternity of my <a href="https://griat.kai.ru/communications-and-signal-processing">native specialty</a> ! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/452494/">https://habr.com/ru/post/452494/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452486/index.html">Consensus is a lie</a></li>
<li><a href="../452488/index.html">About Habr</a></li>
<li><a href="../45249/index.html">What to subscribe to?</a></li>
<li><a href="../452490/index.html">The principle of the VRRP protocol</a></li>
<li><a href="../452492/index.html">We disassemble the snake</a></li>
<li><a href="../452496/index.html">What else can you hear on the radio? Broadcasting on HF (DXing)</a></li>
<li><a href="../4525/index.html">Soundkey is open and tested on the "Rambler"</a></li>
<li><a href="../45250/index.html">Using different images on each monitor in Vista or XP</a></li>
<li><a href="../452502/index.html">The digest of interesting materials for the mobile developer # 298 (May 13 - 19)</a></li>
<li><a href="../452506/index.html">Opus about His Majesty Clay. Part three - polyurethane vs cosmic cold</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>