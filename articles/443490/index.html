<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why am I closing my work on Debian</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator: this text is a translation of an entry in Michael Stapelberg‚Äôs personal blog (Michael Stapelberg) of a prominent open source deve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why am I closing my work on Debian</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/mh/co/bw/mhcobw-0rkwthjz8rbkrgfqxb9y.jpeg"><br><br>  <i>From the translator: this text is a translation of an entry in Michael Stapelberg‚Äôs personal blog (Michael Stapelberg) of a prominent open source developer ( <a href="https://github.com/stapelberg">GitHub profile</a> ) who made a significant contribution to the development of Debian.</i> <br><br><hr><br>  This post was difficult to write from an emotional point of view, but I didn‚Äôt limit myself to ‚Äúa short letter, because I didn‚Äôt have time.‚Äù  Please, before reading this text, please note that I am writing it with the best intentions and do not set myself the goal of demotivating or downplaying the contribution of someone from the developers.  Rather, I want to explain why my level of frustration has exceeded all acceptable values. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Debian has been a part of my life for 10 years. <br><br>  A few weeks ago, at a Debian meeting in Zurich, I met with my old friends whom I had not seen for many years.  When I was riding my bike home, it dawned on me that all the topics we were discussing in one way or another came down to what we discussed with them last time.  We discussed the merits of systemd, which once again attracted the attention of participants in the open source community, touched upon the topic of processes in Debian.  The culmination was the discussion of democracy as such and the corresponding theoretical and practical errors.  But, in fact, this is a purely Swiss theme. <br><br>  This is not a review of the past mitap, I just want to explain what made me think about my current attitude towards Debian and whether it suits me. <br><br>  So, I made a decision that I should have taken a long time ago: I minimize my participation in the development of Debian. <br><a name="habracut"></a><br><h3>  What does it mean? </h3><br>  In the coming weeks, the following will happen: <br><br><ul><li>  I will pass important packets to a maintained command; </li><li>  remove myself from Uploaders packages that have other maintainers; </li><li>  Packages in which I was the only maintainer will become "orphans." </li></ul><br>  I will try to continue to support the <a href="http://manpages.debian.org/">manpages.debian.org</a> pages and the <a href="http://manpages.debian.org/">codesearch.debian.net</a> service, but I highly appreciate any help in this area. <br><br>  If you have any questions or any problems, consider that I am on indefinite leave.  I will try to take part in some administrative issues (for example, transfer of permissions) and tasks addressed to me personally, but only if it does not take a lot of time. <br><br><h3>  Why? </h3><br>  When I first joined the work on Debian, I was still studying, that is, I had a lot of free time.  Now, after five years of working full time, I learned a lot - both in terms of how and what works in large software development projects, and in terms of understanding my personal preferences in computer systems.  Now I am clearly aware of what I spend on that small part of my free time and what I have left at the end of the day. <br><br>  Each of the following sections will be devoted to things that hurt me as a developer.  This list is given in random order.  Some of these problems affect each other, for example, if the changes to the system were more qualitative, we would have a chance that the packages will be easier to handle by the machine. <br><br><h3>  Debian change process </h3><br>  For the past few years, my current team has been working on various reorganizations across the entire code base (affecting thousands of projects), so we received many valuable lessons on how to make these changes effectively.  It annoys me that Debian works in almost every way in almost every way.  I appreciate the fact that each project is different, but I think that many of the following items apply to all of Debian. <br><br>  In Debian, development of packages is channeled to the right path using a document called the ‚ÄúDebian Policy‚Äù or its software version <a href="https://ru.wikipedia.org/wiki/Lint">‚ÄúLintian‚Äù</a> . <br><br>  Despite the fact that lint is very convenient for receiving fast direct or local / autonomous feedback, it is even better not to require using such a tool at all.  For example, the C ++ command, which introduces a new security flag for all packages, should be able to make its work transparent for me ( <i>judging by the GitHub profile, the main language of Michael is Go, - approx. Lane</i> ). <br><br>  Instead, now all packages are made ‚Äúdirty‚Äù (orig. - lint-unclean): all maintainers should read what this new thing is, how it can break, whether it affects their work in general, and if so, how.  Then you need to manually run some tests and, finally, discard the changes.  All this - a lot of overhead and manually performed mechanical operations between packages. <br><br>  In the Debian model, the <b>decision to roll out new products</b> rests on the accompanying packages, and not on the developers.  At my main job, we found that it is more efficient to do the opposite: if a written change affects a significant part of users, then it is the developers who must make the decision about the need for its implementation.  This approach makes project development more efficient and reduces time and labor costs.  Of course, there are exceptions, for example, in large areas where language chips are used, which should be taken care of by the respective owner-curators, but what is important is that by default everything should be different than it is now. <br><br>  There are <b>no major changes</b> in Debian: it is programmatically difficult to work with fragmented packages and repositories (more on this in the section below).  The closest event to the default ‚Äúsending a change to a review‚Äù is the process of opening a bug report with a patch attached to it.  It seemed to me that the existing process of adopting bug fix was too complicated, and I started working on the merge bot, but only Guido showed interest in him and no one else ( <i>apparently, the author talks about <a href="https://github.com/agx">Guido agx Gunther</a> , another Debian developer, - Lane comment</i> . <br><br>  If expressed literary, the reaction to the fluff and, accordingly, receiving feedback are slow.  There are simply no deadlines.  Sometimes I get emails notifying me that the patch I sent several years ago (!!!) has finally failed.  This stretches weekly projects for many years, which for me is a powerful demotivator. <br><br>  It is curious to note, but the practice of online turtle activity is projected onto the offline culture, and I don‚Äôt want to discuss the advantages of systemd 10 years after I first heard about it. <br><br>  Finally, any changes can be blocked by those who disagree, who ultimately refuse to cooperate.  My canonical example of this is rsync.  The curator declined my patches, which add support for debhelper to the package, solely out of my own convictions. <br><br>  Providing such a degree of personal freedom to individual maintainers prevents all of us, the project participants, from raising the level of abstraction of the Debian build, which in turn complicates the development tools. <br><br>  What would it all look like in a perfect world? <br><br><ol><li>  As a project, we must strive for unification.  Indeed, unification does not exclude experiments; it simply changes the current compromise between simpler experiments and more complex automation; a compromise between more complex experiments and simpler automation. </li><li>  Our development culture should move away from the paradigm of ‚Äúthis package is my farm, how dare you touch it,‚Äù a common sense of ownership, in which any participant can easily make or check changes, even without involving specific facilitators. </li></ol><br>  To understand what successful large changes (patches) can look like, I recommend reading the presentation by my colleague Hiram Wright, <a href="https://www.youtube.com/watch%3Fv%3DTrC6ROeV4GI">‚ÄúLarge-scale Changes at Google: Lessons Learned from Five-Year Mass Migrations</a> . <a href="https://www.youtube.com/watch%3Fv%3DTrC6ROeV4GI">‚Äù</a> <br><br><h3>  Fragmented workflow and infrastructure </h3><br>  Debian usually prefers decentralized approaches rather than centralized ones.  For example, individual packages are stored in separate repositories, and each repository can use any SCM (usually git and svn) or not at all.  Plus, each repository can be placed on any site.  Of course, the contents of each repository also differs slightly from team to team, and even within the team. <br><br>  In practice, non-standard hosting options are rarely used, since they do not justify their cost, but often enough to cause great pain when trying to automate the process of making changes to packages.  And instead of using the GitLab API to create requests for merge, you need to develop a completely different, more complex system that works with periodically (or constantly!) Inaccessible repositories, abstracts differences in the delivered patches (error reports, merge requests , retrieval requests) and so on and so forth ... <br><br>  Radically different development processes are not just a waste of working time.  I participated in long conversations about the various git development processes during DebConf 13 and understood that similar discussions took place then. <br><br>  Personally, I can‚Äôt remember enough details about various development methodologies.  Every time I touch a package that does not work like mine, I get very upset because I have to re-learn aspects of its work. <br><br>  I noticed a similar workflow fragmentation in my own Go packaging team and tried to fix it by <a href="https://go-team.pages.debian.net/workflow-changes.html">making suggestions for changes to the workflow</a> , but could not implement them.  The lack of effective automation and the low rate of change in the toolkit, despite my willingness to waste their own time and energy, killed any motivation. <br><br><h3>  Legacy infrastructure: loading packages </h3><br>  When you want to make a package available in Debian, you upload GPG signed files via anonymous FTP.  There are several types of tasks (the queue daemon, unchecked, dinstall, and others) that run on a fixed schedule (for example, dinstall runs at 01:52 UTC, 07:52 UTC, 13:52 UTC, and 19:52 UTC). <br><br>  I calculated that depending on the time of day you can wait more than 7 hours (!!!) before your package is installed. <br><br>  But the worst thing for me is that the feedback is asynchronous with respect to the load.  I like to do something, get it over with and go on to the next task.  The current setup requires a long wait and, in fact, costly switching between tasks without good technical reasons.  You may notice that a few minutes do not matter much, but when all the time in a day I can spend on Debian is measured in minutes, it is of great importance for perceiving my own productivity and satisfaction with the work done. <br><br>  The last message I can find about the acceleration of this process is the <a href="https://lists.debian.org/debian-project/2008/12/msg00014.html">post of George Ganneff Jaspirt</a> from 2008. <br><br>  What would it all look like in a perfect world? <br><br><ol><li>  Anonymous FTP would be replaced by a web service that accepts my package and returns a formal decision about accepting or rejecting it in its response. </li><li>  For received packages there is a page that displays the status of the assembly and the time when the package will be available through a network of mirrors. </li><li>  Packages must be available within a few minutes after the build is completed. </li></ol><br><h3>  Outdated infrastructure: bugtracker </h3><br>  I'm afraid to interact with the Debian error tracker.  Debbugs is a piece of code straight from 1994 that is currently used only by Debian and the GNU project. <br><br>  Debbugs processes are based on the use of e-mail, that is, they are asynchronous and cumbersome.  Despite the fact that it runs on the fastest machines that we have on the Debian project (well, so I was told when this topic was last raised), its web interface loads extremely slowly. <br><br>  It is noteworthy that the web interface on bugs.debian.org is read-only.  Setting up a working email zone for <a href="https://manpages.debian.org/stretch/reportbug/reportbug.1.en.html">reportbug (1)</a> or manually working with attachments is a pretty serious challenge. <br><br>  For some reason I don‚Äôt understand, every interaction with debbugs leads to the creation of a <a href="https://twitter.com/zekjur/status/1027995569770442752">multitude of chains of letters</a> . <br><br>  Besides the technical implementation, I also can‚Äôt remember the different ways in which Debian uses generation pseudo-packages for errors and processes.  I need them too rarely so that I finally put it all in my head and remember exactly how they function and are used, but I occasionally come across them, so this variety is annoying. <br><br>  What would it all look like in a perfect world? <br><br><ol><li>  Debian will switch from a non-standard way of tracking errors to (any) already established. </li><li>  In Debian, automation of these processes appears.  The main interface should be more convenient (for example, a web form). </li></ol><br><h3>  Outdated Infrastructure: Email Archives </h3><br>  I‚Äôm confused by the fact that in 2019 we still don‚Äôt have a handy tool for viewing archived conversations in the mail.  As widely as in Debian, Email and conversations are not used anywhere else, so this is even somewhat ironic.  Using <a href="https://en.wikipedia.org/wiki/Gmane">Gmane</a> seemed to solve this problem, but its availability over the past few years was, to put it mildly, abrupt (now, at the time of writing this post, it does not work at all). <br><br>  I tried to create a multi-threaded archive, but our list-masters were not impressed and refused to support the project. <br><br><h3>  It‚Äôs hard for machines to work with Debian </h3><br>  Although it is obvious that you can programmatically work with Debian packages, this experience can hardly be called pleasant.  Everything seems slow and cumbersome.  I have selected three small examples to illustrate my position on this issue. <br><br>  <a href="https://github.com/Debian/debiman/">debiman</a> needs <a href="https://github.com/Debian/debiman/issues/12">help from piuparts</a> in analyzing the alternative mechanism of each package for displaying documentation pages, for example, <a href="https://manpages.debian.org/stretch/postgresql-client-9.6/psql.1.en.html">PSQL (1)</a> .  This was required, since the scripts modify the alternative database by invoking shell scripts.  But without actually installing the package, you won‚Äôt know what changes it makes. <br><br>  <a href="https://github.com/Debian/pk4">pk4</a> should maintain its own cache to search for package metadata based on its name.  Other tools analyze the apt database from scratch with every call.  The correct database format, or at least the binary exchange format, will be of great importance for this process. <br><br>  <a href="https://github.com/Debian/dcs/">Debian Code Search</a> wants to get new packages as quickly as possible.  Previously, the <a href="https://github.com/fedora-infra/fedmsg">fedmsg</a> instance was <a href="https://github.com/fedora-infra/fedmsg">used</a> , but it no longer exists.  It is not clear where to get new package notifications and where to get them from. <br><br><h3>  Difficult build stack </h3><br>  Here you can simply read my post <a href="https://michael.stapelberg.ch/posts/2016-11-25-build-tools/">"Debian package building tools"</a> .  I am really worried about the fact that the increase in the number of tools is not considered a problem. <br><br><h3>  Debian is a painful developer experience. </h3><br>  Most of the questions I have raised relate to the Debian development experience, but, as I recently described in my post <a href="https://michael.stapelberg.ch/posts/2019-02-15-debian-debugging-devex/">on Debian Debagging</a> , the experience gained <i>from</i> developing <i>using Debian</i> also leaves much to be desired. <br><br><h3>  I have more ideas </h3><br>  The article was quite voluminous, but I hope you got a rough idea of ‚Äã‚Äãmy motivation. <br><br>  Although I described a number of specific flaws above, the final nail in the coffin is the lack of a positive prognosis for the future.  I have other ideas that seem really convincing to me, but, based on how my previous projects were moving forward, I don‚Äôt think I can implement any of them within the Debian project. <br><br>  I intend to publish a few more posts about specific ways to improve operating systems on my blog.  So drop in. <br><br>  Finally, I hope that this post will inspire someone, ideally a group of people, to make the life of Debian developers better. </div><p>Source: <a href="https://habr.com/ru/post/443490/">https://habr.com/ru/post/443490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443480/index.html">PKCS # 11 cryptographic tokens: viewing and exporting certificates, checking their validity</a></li>
<li><a href="../443482/index.html">AIOps in practice - what can Huawei FabricInsight</a></li>
<li><a href="../443484/index.html">6 Nezhdanchikov from Julia</a></li>
<li><a href="../443486/index.html">ReLEx SMILE: How not to be mistaken in forecasts</a></li>
<li><a href="../443488/index.html">Functional components with React Hooks. How are they better?</a></li>
<li><a href="../443494/index.html">Hyde: How to get SaaS product to AppSumo - successes and some mistakes</a></li>
<li><a href="../443502/index.html">Why exactly 4 years ago NASA shot Atlas V rocket at the night sky of Cape Canaveral?</a></li>
<li><a href="../443504/index.html">The World Wide Web has turned thirty years old - what will happen to it next?</a></li>
<li><a href="../443506/index.html">Simple parser for youtube in google tables</a></li>
<li><a href="../443510/index.html">Laptop Compaq Armada 7700 - as the development of the line Compaq LTE</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>