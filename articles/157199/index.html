<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PDF generation on the server in Ruby</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Just over a month ago, I got a job as a layout designer at the start-up team of the Ruby-developers. So lucky that the team was very good and my desir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PDF generation on the server in Ruby</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/6cd/454/1ee/6cd4541eed7aa368150fcc78282a23b9.png" align="left">  Just over a month ago, I got a job as a layout designer at the start-up team of the Ruby-developers.  So lucky that the team was very good and my desire to learn coincided with their desire to get a good specialist. <br><br>  HTML layout in itself has some value and is not the only thing that a layout designer can load. <br><br>  On our site, the user makes a purchase and a confirmation email with an e-ticket is sent to him by mail.  in which the details of the order are indicated, and since everything must be good and bright in a good project, the designer drew a mockup for the receipt.  Well, I, as a coder, were instructed to implement this all in code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Generator Options for Ruby </h4><br>  According to the <a href="https://www.ruby-toolbox.com/categories/pdf_generation">Ruby Toolbox</a> site, there are two fundamental approaches to generating PDF files: <br><br><ul><li>  <a href="http://code.google.com/p/wkhtmltopdf/">wkhtmltopdf</a> and various wrappers on it </li><li>  <a href="https://github.com/prawnpdf/prawn">Prawn</a> </li></ul><br>  The first option involves generating the HTML page and converting it into PDF, while the second allows, in fact, to work with canvas and generate a document without additional layers. <br><br>  I chose the option using Prawn (mostly, of course, due to the fact that the previous version of the PDF file was generated in this way) even though I had to emerge from the world of HTML and CSS I was used to <br><br>  Those who are interested invite under habrakat. <br><a name="habracut"></a><br><h4>  Features of working with Prawn </h4><br>  I will not begin to tell how to connect this gem to the project and to configure it - on Habr√© there was already a similar <a href="http://habrahabr.ru/post/120388/">article</a> .  I will tell you about the features of the layout of documents using this heme. <br><br><h5>  Page settings </h5><br>  The first thing I came across was the paper format.  Default.  for a new document, Prawn uses Letter paper size. <br><br>  In addition, it is possible to specify margins margin, background image. <br><br>  It is also worth remembering that we are not working with pixels, but with typographic items. <br><br><pre><code class="ruby hljs">img = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{Prawn::DATADIR}</span></span></span><span class="hljs-string">/images/background.jpg"</span></span> Prawn::Document.generate(<span class="hljs-string"><span class="hljs-string">'hello.pdf'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:page_size</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"A4"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:margin</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:background</span></span> =&gt; img) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|pdf|</span></span> pdf.text <span class="hljs-string"><span class="hljs-string">'Hello World!'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  This code generates a document with the name hello.pdf on an A4 size sheet, with fields of 20 points, background image background.jpg and the text 'Hello World!' <br><br><h5>  Display text blocks </h5><br>  The generator supports two types of text output - <b>text</b> and <b>text_box</b> .  In the first case, a line of text is simply displayed in the place where the cursor is currently positioned.  In the second, a container with text is displayed, which can be sized using options <b>: width</b> and <b>: height</b> , wrapping through option <b>: overflow</b> (taking values <b>: expand</b> and <b>: shrink_to_fit</b> ) borders and, most importantly, absolute position through parameter <b>: at</b> . <br><br>  If in the code I gave earlier replace 'Hello World!'  on 'Hi, Habr!'  then we reasonably get the problem with the fonts. <br><br>  In our project we use the proprietary font Proxima Nova.  In order for the generator to know what type of font we want to use and what text styles we will work with, it is necessary to explicitly specify the fonts. <br><br><pre> <code class="ruby hljs"><span class="hljs-symbol"><span class="hljs-symbol">font_families:</span></span> { <span class="hljs-symbol"><span class="hljs-symbol">proxima:</span></span> { <span class="hljs-symbol"><span class="hljs-symbol">bold:</span></span> <span class="hljs-string"><span class="hljs-string">"assets/fonts/proximanova-bold-webfont.ttf"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">normal:</span></span> <span class="hljs-string"><span class="hljs-string">"assets/fonts/proximanova-reg-webfont.ttf"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">light:</span></span> <span class="hljs-string"><span class="hljs-string">"assets/fonts/ProximaNova-Light.ttf"</span></span> } } Prawn::Document.generate(<span class="hljs-string"><span class="hljs-string">'hello.pdf'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|pdf|</span></span> pdf.font_families.update(<span class="hljs-string"><span class="hljs-string">"Proxima Nova"</span></span> =&gt; @opts[<span class="hljs-symbol"><span class="hljs-symbol">:font_families</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">:proxima</span></span>]) pdf.font <span class="hljs-string"><span class="hljs-string">"Proxima Nova"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">size:</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">style:</span></span> bold pdf.text <span class="hljs-string"><span class="hljs-string">'Hello World!'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  This code will output the same text, 12 points in size using the font proximanova-bold-webfont.ttf. <br><br>  The font color is specified in the document attribute <b>fill_color</b> and can have a hexadecimal value. <br><br><pre> <code class="ruby hljs">fill_color = <span class="hljs-string"><span class="hljs-string">"ffffff"</span></span></code> </pre><br>  In addition, you can specify the line spacing through <b>default_leading</b> or by specifying the parameter <b>: leadig</b> directly in the text block.  Indents between paragraphs are given via <b>: indent_paragraphs</b> . <br><br>  When printing texts, a non-breaking space is often used.  And since we are not working with an HTML document, where you can simply specify the code &amp; nbsp;  then you have to go on tricks and substitute a special method: <b>Prawn :: Text :: NBSP</b> . <br><br>  Also prawn understands such parameters as <b>: kerning</b> and <b>: character_spacing</b> for kerning and letter spacing, respectively.  Kerning accepts either <b>true</b> or <b>false</b> , while <b>character_spacing</b> is specified in points. <br><br><pre> <code class="ruby hljs">default_leading <span class="hljs-number"><span class="hljs-number">5</span></span> text string, <span class="hljs-symbol"><span class="hljs-symbol">:kerning</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:character_spacing</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> move_down <span class="hljs-number"><span class="hljs-number">20</span></span> text string, <span class="hljs-symbol"><span class="hljs-symbol">:leading</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:indent_paragraphs</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">60</span></span> move_down <span class="hljs-number"><span class="hljs-number">20</span></span> text string + <span class="hljs-string"><span class="hljs-string">'</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{Prawn::Text::NBSP * </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">10</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">'</span></span> + string</code> </pre><br>  This code sets the line spacing to 5 points, displays a string with kerning and a letter spacing of 5 points, lowers the cursor by 20 points, displays a line with a line spacing of 10 points and a distance of 60 points between paragraphs.  Moves the cursor another 20 points and displays two lines separated by ten non-breaking spaces. <br><br>  Of the additional features when working with text, it is worth mentioning the possibility of text rotation through the parameter <b>: rotate</b> , which takes an angle in degrees as a value.  You can also use the optional parameter <b>: rotate_around</b> to specify the direction of rotation (default <b>: upper_left</b> ) and the possibility of line formatting in the spirit of HTML: <br><br><pre> <code class="ruby hljs">text <span class="hljs-string"><span class="hljs-string">" &lt;font size='18'&gt;&lt;/font&gt;  "</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;font name='Courier'&gt;  &lt;/font&gt;  font  "</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;font character_spacing='2'&gt; &lt;/font&gt;. "</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:inline_format</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  But since my task was not to print the book, but to display information about the order and the electronic ticket, I didn‚Äôt go into much detail with the text. <br><br><h5>  Positioning </h5><br>  In prawn, elements are positioned either relatively, starting from the top of the document by <b>moving the</b> cursor down through <b>move_down</b> , or absolutely.  It is with absolute positioning that the main difficulty arises, since it comes not from the upper left corner, as one might assume, but from the lower left, as if plotting.  It is this feature, as well as the fact that the units of measurement are points, and not the usual pixels, and gave me the most difficulty in layout. <br><br><pre> <code class="ruby hljs">text_box <span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:at</span></span>[<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>]</code> </pre><br>  This code will display the string 'test' at the bottom of the page, 10 points from the left margin of the page and 100 points from the bottom. <br><br><h5>  Graphic primitives </h5><br>  In the layout drawn by our designer there were quite a lot of graphic elements that we didn‚Äôt really want to embed with images.  For such cases, the generator provides the ability to work with graphic primitives - lines ( <b>horizontal_line</b> , <b>vertical_line</b> ), circles ( <b>fill_circle</b> and <b>stroke_circle</b> ) and polygons ( <b>fill_polygon</b> and <b>stroke_polygon</b> ) with and without fill. <br><br>  The fill color is used the same as the text color and is also set via <b>fill_color</b> , the color of the contour lines is also indicated by <b>stroke_color</b> .  In addition, you can specify the width of lines using the <b>line_width</b> parameter <br><br>  Here is an example of a function that draws a circle with a stroke, a center line and a triangle pointer. <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw_circle_part</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(colors, left, top, pdf)</span></span></span></span> pdf <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> fill_color colors[<span class="hljs-string"><span class="hljs-string">'circle_1'</span></span>] fill_polygon [left[<span class="hljs-string"><span class="hljs-string">'circles_left'</span></span>], top[<span class="hljs-string"><span class="hljs-string">'polygon_2_top'</span></span>]], [left[<span class="hljs-string"><span class="hljs-string">'line_1'</span></span>], top[<span class="hljs-string"><span class="hljs-string">'polygon_1_top'</span></span>]], [left[<span class="hljs-string"><span class="hljs-string">'line_2'</span></span>], top[<span class="hljs-string"><span class="hljs-string">'polygon_1_top'</span></span>]] fill_color colors[<span class="hljs-string"><span class="hljs-string">'circle_2'</span></span>] fill_circle [left[<span class="hljs-string"><span class="hljs-string">'circles_left'</span></span>], top[<span class="hljs-string"><span class="hljs-string">'circles_top'</span></span>]], <span class="hljs-number"><span class="hljs-number">28</span></span> stroke_color colors[<span class="hljs-string"><span class="hljs-string">'circle_3'</span></span>] line_width <span class="hljs-number"><span class="hljs-number">1.5</span></span> stroke_circle [left[<span class="hljs-string"><span class="hljs-string">'circles_left'</span></span>], top[<span class="hljs-string"><span class="hljs-string">'circles_top'</span></span>]], <span class="hljs-number"><span class="hljs-number">28</span></span> stroke_color colors[<span class="hljs-string"><span class="hljs-string">'circle_4'</span></span>] stroke <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> horizontal_line left[<span class="hljs-string"><span class="hljs-string">'line_1'</span></span>], left[<span class="hljs-string"><span class="hljs-string">'line_2'</span></span>], <span class="hljs-symbol"><span class="hljs-symbol">:at</span></span> =&gt; top[<span class="hljs-string"><span class="hljs-string">'circles_top'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> line_width <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  It can also be helpful to draw curves and arbitrary lines.  For this, the <b>stroke.line</b> and <b>stroke.curve</b> methods are used to draw lines and curves from one specified point to another, as well as <b>stroke.line_to</b> and <b>stroke.curve_to</b> for lines from the current cursor position to a point.  Moreover, for curves you can set the parameter <b>: bounds</b> , which indicates the points through which the curve will pass.  Moreover, the Bezier transform will be used for the construction. <br><br><pre> <code class="ruby hljs">stroke <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> line [<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>], [<span class="hljs-number"><span class="hljs-number">400</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>] curve [<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>], <span class="hljs-symbol"><span class="hljs-symbol">:bounds</span></span> =&gt; [[<span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>], [<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">390</span></span>]] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><h5>  Images </h5><br>  When working with images, you should be very careful about the size and remember that it is better to prepare an image 200% larger than the layout and then explicitly set the size in the prawn, allowing the generator to reduce the image than to give exactly the same as in the layout. <br><br>  From personal experience, when I inserted icons for blocks of order details and used images that were cut straight from the layout with original dimensions, I received blurred borders as if the image was not enlarged.  Empirically, I set the ideal ratio of the inserted image to the original as 2 to 1. Fortunately, all the objects in the layout were drawn as graphic primitives and there were no problems with size changes. <br><br>  The default image has the original size and is placed at the point where the cursor is positioned.  For absolute positioning the parameter is used <b>: at</b> .  Regarding the same image can be positioned through the parameter <b>: position</b> , which takes values <b>: left</b> <b>,: center,:</b> <b>right</b> or the number of points from the left border and the parameter <b>: vposition</b> , which takes values <b>: top</b> <b>,: center,:</b> <b>bottom</b> or indent from the lower border in points . <br><br>  The height and width of the image can be set via <b>: height</b> and <b>: width,</b> respectively.  However, if only one parameter is specified, the second one will be selected automatically with the proportions preserved.  Similarly, you can specify not the exact size but proportional change of the image through <b>: scale</b> . <br><br><pre> <code class="ruby hljs">image <span class="hljs-string"><span class="hljs-string">"assets/images/details.png"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:at</span></span> =&gt; [<span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">641</span></span>], <span class="hljs-symbol"><span class="hljs-symbol">:height</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">22</span></span> image <span class="hljs-string"><span class="hljs-string">"assets/images/prawn.png"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:scale</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:position</span></span> =&gt; <span class="hljs-symbol"><span class="hljs-symbol">:right</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:vposition</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre><br><h5>  Tables </h5><br>  It is almost impossible to impose a receipt without using tables.  To create tables prawn provides two methods: <b>table</b> and <b>make_table</b> .  Both methods create a table with the only difference that table calls the draw method immediately after creating the table, while make_table just returns the created table. <br>  The most convenient way to create a table is to pass an array of data to the method, where each internal array is a single row.  If you pass an object created by make_table in an array, a table will be created inside the table. <br>  Also in the table you can transfer hashes with keys: image for images and <b>: content</b> to insert formatted text. <br><br><pre> <code class="ruby hljs">cell_1 = make_cell(<span class="hljs-symbol"><span class="hljs-symbol">:content</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"this row content comes directly "</span></span>) cell_2 = make_cell(<span class="hljs-symbol"><span class="hljs-symbol">:content</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"from cell objects"</span></span>) two_dimensional_array = [ [<span class="hljs-string"><span class="hljs-string">"..."</span></span>], [<span class="hljs-string"><span class="hljs-string">"subtable from an array"</span></span>], [<span class="hljs-string"><span class="hljs-string">"..."</span></span>] ] my_table = make_table([ [<span class="hljs-string"><span class="hljs-string">"..."</span></span>], [<span class="hljs-string"><span class="hljs-string">"subtable from another table"</span></span>], [<span class="hljs-string"><span class="hljs-string">"..."</span></span>] ]) image_path = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{Prawn::DATADIR}</span></span></span><span class="hljs-string">/images/stef.jpg"</span></span> table([ [<span class="hljs-string"><span class="hljs-string">"just a regular row"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"blah blah blah"</span></span>], [cell_1, cell_2, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>], [<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, two_dimensional_array, <span class="hljs-string"><span class="hljs-string">""</span></span>], [<span class="hljs-string"><span class="hljs-string">"just another regular row"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>], [{<span class="hljs-symbol"><span class="hljs-symbol">:image</span></span> =&gt; image_path}, <span class="hljs-string"><span class="hljs-string">""</span></span>, my_table, <span class="hljs-string"><span class="hljs-string">""</span></span>]])</code> </pre><br>  This code will output the following table (example from the documentation): <br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/100/870/dfa/100870dfac97f079797f75f55c202e0f.png"></div><br>  For the table, you can specify the following options: <br><ul><li>  <b>: position</b> - by analogy with the image, with relative positioning, aligns the table either at the edges, or in the center, or indented from the left border of the document </li><li>  <b>: column_widths</b> - takes either an array with dimensions for each column, or an object in which the key is the column number, and the value is the width (for example {2 =&gt; 240}) </li><li>  <b>: width</b> - the width of the table.  By default, the table has a width of content. </li><li>  <b>: row_colors</b> - an array of colors for the rows.  If there are fewer colors in the array than the rows in the table, the colors will be taken from the array cyclically. </li></ul><br>  In addition, you can set the parameters for the cells: <br><ul><li>  <b>: padding</b> - by analogy with CSS, sets content indents from cell borders and, as in CSS, parameters go in order [upper indent, right indent, lower indent, left indent] </li><li>  <b>: borders</b> - an array of borders that will be set on the cell.  By default - all borders are visible. </li></ul><br>  This is not a complete list of table properties, but they are enough to become familiar with tables in prawn and to solve most applied problems. <br><br><h4>  Conclusion </h4><br>  According to the results of working with this generator, I can say the following - for my specific task, Prawn, even though the code that needs to be dialed for generation looks quite cumbersome, came up almost perfectly, since the receipt itself does not have a route in the project, and is generated from the JSON data set received from the backend. <br>  Personally, it was convenient for me to take repeating blocks of prawn-code into separate functions and just call them in the right places, use Ruby-code to parse the incoming data set, iterate over objects, which is quite problematic to do in HTML. <br><br>  An example of a document I got with data for two passengers on difficult routes can be downloaded here: <a href="http://estate.allvbg.ru/ElectronicTicket1364922665.pdf">Electronic ticket</a> <br><br>  However, if you just need to provide a pdf-version of an existing page, it is easier and more profitable to use <a href="https://github.com/pdfkit/pdfkit">PDFKit</a> , which can create PDF-files directly from the specified HTML-page. </div><p>Source: <a href="https://habr.com/ru/post/157199/">https://habr.com/ru/post/157199/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../157179/index.html">The local learning rate of neuron weights in the back-propagation error algorithm</a></li>
<li><a href="../157181/index.html">Curiosity made a self portrait</a></li>
<li><a href="../157187/index.html">Compatibility with habra editor for MODx Evo</a></li>
<li><a href="../157193/index.html">Independent developer makes a remake of Descent</a></li>
<li><a href="../157197/index.html">Simple automation of versioning and building a C / C ++ project in Ruby</a></li>
<li><a href="../157203/index.html">The digest of interesting news and materials from the world of PHP over the past two weeks, number 3 (10/20/2012 - 11/02/2012)</a></li>
<li><a href="../157205/index.html">The effectiveness of automatic application testing</a></li>
<li><a href="../157207/index.html">Ping-flooding attack using WinPcap</a></li>
<li><a href="../157211/index.html">Indication of the subscriber's status in the queue on the phone with BLF buttons</a></li>
<li><a href="../157217/index.html">The digest of interesting news and materials from the world of ayti for the last week ‚Ññ29 (October 27 - November 2, 2012)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>