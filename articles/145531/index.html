<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Firebird UI for Java</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 A year ago, it took to write a database in the course work. This did not cause much difficulty. I chose a topic, drew an ER-diagram, de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Firebird UI for Java</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  A year ago, it took to write a database in the course work.  This did not cause much difficulty.  I chose a topic, drew an ER-diagram, decided on the fields of the tables and started writing.  I did not choose a language for a long time, at that time I started working on Java in Eclipse.  Chose a DBMS, my choice fell on Firebird.  I added tables via IBExpert and was happy with everything as soon as I wrote a UI for a pair of tables, I realized that you can create the rest with copy-paste.  The code turned out terrible (OOP? I did not hear it, so it was possible to characterize it), but at that time everything pleased me.  A year has passed and by chance I had to revise my code.  It was a terrible thing with an incomprehensible structure. <br><br>  I decided to set several goals for myself: <br>  - simple addition of tables <br>  - finally apply OOP <br>  - apply design patterns (for training) <br><br>  Also now it is not clear why it is difficult for people at the institute to write simple databases (or laziness), in any case, I want to show the simplicity of writing the database and introduce the application to my vision (in my opinion very simple). <br><a name="habracut"></a><br><h4>  Beginning of work </h4><br>  For writing the database we need <br>  - Eclipse IDE for java developers <br>  - Firebird <br>  - Jaybird (JDBC driver, essentially a jar library) <br>  - IBExpert (for adding tables) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All this can be simply downloaded, so I‚Äôll skip the issue of setting up the environment.  In this article I implement the interface for one table, since  other tables can be easily added. <br><br><h4>  Code writing </h4><br>  We will have only one Ranks table with ID and RANK columns. <br><img src="https://habrastorage.org/storage2/282/4f2/76e/2824f276e621fbb6c2e352a0a6cd9087.jpg" alt="image"><br><br>  For writing the interface chose Swing. <br>  Interface duties will be such <br>  - Table selection <br>  - Output \ Update table <br>  - Add \ Delete \ Insert record <br>  As a result, we will have this interface <br><img src="https://habrastorage.org/storage2/e9a/25a/e64/e9a25ae64f733fd64b30020c929dd29b.jpg"><br>  The architecture of the application is as follows <br>  - main class with main (..) (Application) <br>  - connection to our database (DBHelper) <br>  - general model for any table (AbsTable, Tables) <br>  - base class for all tables (BaseFrame) and classes of tables of successors (RankFrame) <br>  - class creating components (Components) <br>  - helper class for strings, inspired by androids (Strings) <br><h5>  Writing model table </h5><br>  The type of our data is obviously ID - Integer and Rank - String.  The names of the columns are obvious. <br>  We enter this data into our class Tables.  All newly created tables also need to be described here, according to a given pattern. <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tables</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Class&lt;?&gt;[] RANKS_TYPE = { Integer.class, String.class }; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String[] RANKS_TABLE = { <span class="hljs-string"><span class="hljs-string">"ID"</span></span>, <span class="hljs-string"><span class="hljs-string">"Rank"</span></span> }; }</code> </pre> <br>  We also create the class AbsTable (inherited from AbstractTableModel), which implements the model for the data in the table, we need to redefine several methods of the base class.  The implementation is simple; it takes data from the Tables class to create a data matrix.  So you can model for tables in general form and avoid the useless copying of code for each table. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbsTable</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractTableModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;String&gt; mColumnNames; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;ArrayList&lt;Object&gt;&gt; mTableData; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Object&gt; mColumnTypes; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AbsTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt;[] types, String[] columns)</span></span></span><span class="hljs-function"> </span></span>{ mColumnTypes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;Object&gt;(types.length); mColumnNames = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(columns.length); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; columns.length; ++i) { mColumnTypes.add(i, types[i]); mColumnNames.add(columns[i]); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getColumnCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mColumnNames.size(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRowCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mTableData.size(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getValueAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> row, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> column)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mTableData.get(row).get(column); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getColumnName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> column)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mColumnNames.get(column); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCellEditable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> row, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> column)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setValueAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object obj, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> row, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> column)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Class&lt;?&gt; getColumnClass(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> col) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (Class&lt;?&gt;) mColumnTypes.get(col); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTableData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ArrayList&lt;ArrayList&lt;Object&gt;&gt; tableData)</span></span></span><span class="hljs-function"> </span></span>{ mTableData = tableData; } }</code> </pre> <br><h5>  DB connection </h5><br>  We have one connection, so the class is implemented using Singleton.  You can create a connection using the getInstance () method, which connects to the database with the specified login / password / path to the FDB file using the connect () method.  For our model, we will take the data using the getData (String sql) method.  Also, when we no longer need to close the connection, we need to close it, for this we use the release () method. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DBHelper</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Connection dbConnection; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> DBHelper sDBHelper ; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String DRIVER = <span class="hljs-string"><span class="hljs-string">"org.firebirdsql.jdbc.FBDriver"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String URL = <span class="hljs-string"><span class="hljs-string">"jdbc:firebirdsql:localhost/3050:C:\\DB\\DB.FDB"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String LOGIN = <span class="hljs-string"><span class="hljs-string">"SYSDBA"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String PASSWORD = <span class="hljs-string"><span class="hljs-string">"masterkey"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">synchronized</span></span></span><span class="hljs-function"> DBHelper </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sDBHelper == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { sDBHelper = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DBHelper (); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sDBHelper ; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DBHelper</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Class.forName(DRIVER); dbConnection = DriverManager.getConnection(URL, LOGIN, PASSWORD); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ClassNotFoundException ex) { ex.printStackTrace(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PreparedStatement </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPrepareStatement</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String sql)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dbConnection.prepareStatement(sql); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">synchronized</span></span> ArrayList&lt;ArrayList&lt;Object&gt;&gt; getData(String query) { ArrayList&lt;ArrayList&lt;Object&gt;&gt; dataVector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;ArrayList&lt;Object&gt;&gt;(); Statement st = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; ResultSet rs = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { st = dbConnection.createStatement(); rs = st.executeQuery(query); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> columns = rs.getMetaData().getColumnCount(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (rs.next()) { ArrayList&lt;Object&gt; nextRow = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;Object&gt;(columns); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= columns; i++) { nextRow.add(rs.getObject(i)); } dataVector.add(nextRow); } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rs != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { rs.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (st != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { st.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dataVector; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">release</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sDBHelper != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { sDBHelper = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dbConnection != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { dbConnection.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } } } }</code> </pre> <br><h5>  Component creation </h5><br>  We will need components such as JTable, JScrollPane, JComboBox, JLabel, JTextField, JButton.  The class is made in order to avoid the useless copying of the code for creating components when creating tables. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Components</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AbsTable </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createTableModel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt;[] types, String[] col, String sql)</span></span></span><span class="hljs-function"> </span></span>{ AbsTable table = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AbsTable(types, col); table.setTableData(DBHelper .getInstance().getData(sql)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> table; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JTable </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AbsTable model)</span></span></span><span class="hljs-function"> </span></span>{ JTable table = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JTable(model); table.getColumnModel().getColumn(<span class="hljs-number"><span class="hljs-number">0</span></span>).setMaxWidth(<span class="hljs-number"><span class="hljs-number">50</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> table; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JScrollPane </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createScroll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JTable table)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JScrollPane(table); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JComboBox&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createCombo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] items, ItemListener listener)</span></span></span><span class="hljs-function"> </span></span>{ JComboBox&lt;String&gt; combo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JComboBox&lt;String&gt;(items); combo.setEditable(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); combo.setSelectedIndex(-<span class="hljs-number"><span class="hljs-number">1</span></span>); combo.addItemListener(listener); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> combo; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JLabel </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createLabel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ JLabel label = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JLabel(name); label.setHorizontalTextPosition(JLabel.LEFT); label.setIconTextGap(<span class="hljs-number"><span class="hljs-number">5</span></span>); label.setForeground(Color.black); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> label; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JTextField </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createEdit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String text)</span></span></span><span class="hljs-function"> </span></span>{ JTextField tf= <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JTextField(text); tf.setEditable(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); tf.setForeground(Color.black); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tf; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JButton </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name, ActionListener listener)</span></span></span><span class="hljs-function"> </span></span>{ JButton button = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JButton(name); button.addActionListener(listener); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> button; } }</code> </pre><br><h5>  Displaying tables on a frame and a table interface </h5><br>  We have already determined that the duties of the interface are the output of a table, adding / updating / deleting / changing a table.  Therefore, let's create a base abstract class BaseFrame, inherited from JFrame. <br>  Proceeding from the responsibilities, all tables should be updated, ensure the addition / deletion / change of records, therefore the add (), delete (), save (), updateTable methods are made abstract for all tables.  Also in the base class there should be a link to the connection (this is our DBHelper). <br>  On the frame we will have <br>  - JTable table <br>  - JButton buttons add \ save \ delete record <br>  - JScrollPane for a large number of records <br>  All this is the same for all created tables, therefore it is located in the base class.  From the Components class we create buttons and assign them listeners (listeners) to actions.  We also extend the base class using the ListSelectionListener interface to catch click events on our table cells. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseFrame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFrame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ListSelectionListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JButton mDeleteBtn; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JButton mAddBtn; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JButton mSaveBtn; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JPanel mControlArea; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JPanel mEditArea; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JScrollPane mScroll; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JTable mTable; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> Container mContainer; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> AbsTable mTableModel; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> DBHelper sDBHelper ; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SIZE_X = <span class="hljs-number"><span class="hljs-number">300</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SIZE_Y = <span class="hljs-number"><span class="hljs-number">450</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BaseFrame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(name); sDBHelper = DBHelper .getInstance(); sBDHelper.connect(); mAddBtn = Components.createButton(Strings.ADD, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ActionListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent e)</span></span></span><span class="hljs-function"> </span></span>{ add(); } }); mDeleteBtn = Components.createButton(Strings.DELETE, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ActionListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent e)</span></span></span><span class="hljs-function"> </span></span>{ delete(); } }); mSaveBtn = Components.createButton(Strings.SAVE, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ActionListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent e)</span></span></span><span class="hljs-function"> </span></span>{ save(); } }); setSize(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dimension(SIZE_X, SIZE_Y)); setVisible(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Finally, create our table.  To edit it, you need 2 JTextField and 2 JLabel.  We create our components using the Component class.  Add components to the frame.  Next, you need to override the abstract methods of the base class to work with the database (adding / changing / deleting records).  Writing these methods will require a little knowledge of SQL.  Do not forget to update the table interface using the overridden updateTable method.  We also override the valueChanged (..) method to handle clicking on a cell. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RanksFrame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseFrame</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JLabel mIdLabel; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JLabel mRankLabel; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JTextField mIdEdit; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JTextField mRankEdit; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RanksFrame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(Strings.RANK); mContainer = getContentPane(); mTableModel = Components.createTableModel(Tables.RANKS_TYPE, Tables.RANKS_TABLE, <span class="hljs-string"><span class="hljs-string">"SELECT * FROM RANKS ORDER BY ID"</span></span>); mTable = Components.createTable(mTableModel); mScroll = Components.createScroll(mTable); mIdLabel = Components.createLabel(Strings.ID); mIdEdit = Components.createEdit(<span class="hljs-string"><span class="hljs-string">""</span></span>); mRankLabel = Components.createLabel(Strings.RANK); mRankEdit = Components.createEdit(<span class="hljs-string"><span class="hljs-string">""</span></span>); mTable.getSelectionModel().addListSelectionListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); mControlArea = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JPanel(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GridLayout(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)); mEditArea = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JPanel(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GridLayout(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)); mEditArea.add(mIdLabel); mEditArea.add(mIdEdit); mEditArea.add(mRankLabel); mEditArea.add(mRankEdit); mControlArea.add(mSaveBtn); mControlArea.add(mDeleteBtn); mControlArea.add(mAddBtn); mContainer.add(mScroll); mContainer.add(mEditArea); mContainer.add(mControlArea); mContainer.setLayout(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BoxLayout(mContainer, BoxLayout.Y_AXIS)); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ SwingUtilities.invokeLater(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mTableModel.setTableData(sBDHelper .getData(<span class="hljs-string"><span class="hljs-string">"SELECT * FROM RANKS ORDER BY ID"</span></span>)); mTable.updateUI(); mRankEdit.setText(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); mIdEdit.setText(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } }); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ PreparedStatement ps = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ps = sBDHelper .getPrepareStatement(<span class="hljs-string"><span class="hljs-string">"INSERT INTO RANKS (ID,RANK) VALUES(?,?)"</span></span>); ps.setString(<span class="hljs-number"><span class="hljs-number">1</span></span>, mIdEdit.getText()); ps.setString(<span class="hljs-number"><span class="hljs-number">2</span></span>, mRankEdit.getText()); ps.executeUpdate(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException r) { r.printStackTrace(); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ps != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ps.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } } updateTable(); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ PreparedStatement ps = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ps = sBDHelper.getPrepareStatement(<span class="hljs-string"><span class="hljs-string">"DELETE FROM RANKS WHERE ID=?"</span></span>); ps.setString(<span class="hljs-number"><span class="hljs-number">1</span></span>, mIdEdit.getText()); ps.executeUpdate(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException r) { r.printStackTrace(); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ps != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ps.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } } updateTable(); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ PreparedStatement ps = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ps = sBDHelper .getPrepareStatement(<span class="hljs-string"><span class="hljs-string">"UPDATE RANKS SET RANK=? WHERE ID=?"</span></span>); ps.setString(<span class="hljs-number"><span class="hljs-number">1</span></span>, mRankEdit.getText()); ps.setString(<span class="hljs-number"><span class="hljs-number">2</span></span>, mIdEdit.getText()); ps.executeUpdate(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException r) { r.printStackTrace(); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ps != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ps.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (SQLException e) { e.printStackTrace(); } } updateTable(); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">valueChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ListSelectionEvent e)</span></span></span><span class="hljs-function"> </span></span>{ mIdEdit.setText(mTable.getModel() .getValueAt(mTable.getSelectedRow(), <span class="hljs-number"><span class="hljs-number">0</span></span>).toString()); mRankEdit.setText(mTable.getModel() .getValueAt(mTable.getSelectedRow(), <span class="hljs-number"><span class="hljs-number">1</span></span>).toString()); } }</code> </pre><br><h5>  The end is close, the table selection interface </h5><br>  We write the code of the main database window.  The selection interface looks like a JComboBox with the table names mTables.  By pressing the switch to the selected table, here you will need to add all our tables to create them.  Oh, finally, to handle the closure of our application, we use the WindowListener interface (wrote only the method that I use, threw the rest for so much code), close the connection when closing. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFrame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WindowListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String[] mTables = { <span class="hljs-string"><span class="hljs-string">"Ranks"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> RANKS = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JComboBox&lt;String&gt; mComboMenu; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(Strings.DB_NAME); mComboMenu = Components.createCombo(mTables, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ItemListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">itemStateChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ItemEvent evt)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (mComboMenu.getSelectedIndex()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> RANKS: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RanksFrame(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } SwingUtilities.invokeLater(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mComboMenu.setSelectedIndex(-<span class="hljs-number"><span class="hljs-number">1</span></span>); } }); } }); Container container = getContentPane(); container.add(mComboMenu); container.setLayout(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BoxLayout(container, BoxLayout.Y_AXIS)); setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); setSize(<span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>); setResizable(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); setVisible(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); addWindowListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Application(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windowClosing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(WindowEvent arg0)</span></span></span><span class="hljs-function"> </span></span>{ DBHelper .getInstance().release(); } }</code> </pre><br><h4>  Conclusion </h4><br>  I hope not tired, the article is educational in nature, so I hope to write / create database tables after reading this article will be easier.  I also pursue a ghostly hope that the students will finally sit down and write the database themselves. <br><br>  PS I hope my refactoring was a success and everything looks simple and clear.  Criticism is welcome, especially for design patterns. <br>  upd: <br>  Vector -&gt; ArrayList thanks javax <br>  For many shortcomings thanks gvsmirnov and aleksandy </div><p>Source: <a href="https://habr.com/ru/post/145531/">https://habr.com/ru/post/145531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145523/index.html">Beamer - make up presentations</a></li>
<li><a href="../145524/index.html">How to RELIABLY protect in-app purchase from scrapers</a></li>
<li><a href="../145526/index.html">Bitcasa for Linux released</a></li>
<li><a href="../145527/index.html">Recommender systems - the future of the Internet</a></li>
<li><a href="../145528/index.html">How do sorting algorithms</a></li>
<li><a href="../145532/index.html">The digest of interesting news and materials from the world of ayti for the last week ‚Ññ9 (June 2 - 8, 2012)</a></li>
<li><a href="../145535/index.html">Responsive typography: Basics</a></li>
<li><a href="../145537/index.html">[Personal experience]: We fix the lost boot on F8 in Windows 7</a></li>
<li><a href="../145539/index.html">Syntax AOP in JavaScript</a></li>
<li><a href="../145541/index.html">Press Conferences Microsoft, Electronic Arts, SONY, Ubisoft at E3 2012</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>