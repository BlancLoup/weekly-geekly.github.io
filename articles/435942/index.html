<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>One Billion Queens Problem Solution or, ‚ÄúInvestigation of the laws in the list of solutions of the n-Queens distribution problem‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Summary 


 A description is given of the laws that have been established in a sequential list of all solutions to the problem of the distribution of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>One Billion Queens Problem Solution or, ‚ÄúInvestigation of the laws in the list of solutions of the n-Queens distribution problem‚Äù</h1><div class="post__text post__text-html js-mediator-article"><h3>  Summary </h3><br><p>  A description is given of the laws that have been established in a sequential list of all solutions to the problem of the distribution of n-Queens.  Determined that: </p><br><ul><li>  The share of complete solutions in the general list of all solutions decreases with increasing value of n. <br></li><li>  Complete solutions are distributed in a sequential list of all solutions in such a way that complete solutions are most likely to occur, located in a list close to each other. <br></li><li>  There is a symmetry in the order of the location of complete solutions in the general list of all solutions.  If in the i-th position from the beginning of the list the solution is complete, then the symmetric solution from the end of the list, located in the n-i + 1 position is also complete (the rule of symmetry of the decisions). <br></li><li>  Any pairs of solutions, both short and full, located symmetrically in the list of all solutions are complementary - the sum of the indices of the positions of the corresponding rows is constant and equal to n + 1 (the rule of complementarity of the solutions).  This suggests that only the first half of the list of all complete solutions is ‚Äúunique‚Äù; any complete solution from the second half of the list can be obtained on the basis of the complementarity rule.  The consequence of this rule is the fact that for any value of n, the number of complete solutions will always be an even number. <br></li><li>  The activity of the cells of the rows of the solution matrix is ‚Äã‚Äãsymmetric about the horizontal axis passing through the middle of this matrix.  This means that the activity of the cells of the i-th row always coincides with the activity of the cells of the row n-i + 1.  By activity is meant the frequency with which the cell index is encountered in the corresponding row of the complete solution list.  Similarly, the activity of the cells of the columns of the solution matrix is ‚Äã‚Äãsymmetrical about the vertical axis dividing the matrix into two equal parts <br></li><li>  Regardless of n, in the sequential search for all solutions, the first complete solution appears only after some sequence of short decisions.  The size of the initial sequence of short solutions increases with increasing n.  The length of the list of short solutions before the appearance of the first complete solution for even values ‚Äã‚Äãof n is much greater than for the nearest odd values. <br></li><li>  The row in the decision matrix, on which difficulties in moving forward, begin, and the first short solution is formed, divides the matrix according to the golden section rule.  For small values ‚Äã‚Äãof n, this conclusion is approximate; however, as the value of n increases, the accuracy of such a conclusion asymptotically increases to the level of the standard rule. <br></li></ul><br><p>  This publication presents the main results from the article <a href="http://ejournal11.com/en/archive.html%3Fnumber%3D2018-09-20-18:41:09%26journal%3D16">[1]</a> , which was published in the journal "Modeling of Artificial Intelligence, 2018, 5 (1)".  On Habr√© there were works related to the n-Queens problem: <a href="https://habr.com/post/91988/">[2]</a> , <a href="https://habrahabr.ru/post/343738/">[3]</a> , <br>  The problem of the distribution of n queens on a nxn size chessboard has a long history.  It was originally formulated in 1848 by M. Bezzel [4] as an intellectual task for an ordinary chessboard.  Over time, the formulation of the problem was expanded by F.Nauck [5], and the size of the chessboard could take an arbitrary value. </p><br><h3>  Introduction </h3><br><p>  The formulation of the task is quite simple: you need to distribute n queens on a nxn size chessboard so that each row, each column, and also the left and right diagonals passing through the cell where the queen is located, does not have more than one queen.  This task is easy to understand or explain to someone, but it is rather difficult to solve it.  The fact is that there are no rules on the basis of which queens can be placed on each line so as to get a solution.  The solution can be obtained only on the basis of enumeration of various options for the location of queens in those or other lines.  However, the complexity of this solution consists in the fact that the number of all variants of the queens position increases exponentially with increasing n.  In addition, performing any step forward to position the queen in a free position of a certain line leads to a change in the list of free positions in the remaining rows, and when going back one step, in order to form a search branch, it is necessary to clear traces of previously performed actions. </p><br><p>  There are a large number of publications related to various aspects of solving the problem of n-Queens.  They can be attributed to several areas of research: the search for all complete solutions for a given value of the size of a chessboard (n), the development of a fast algorithm to find one solution for different values ‚Äã‚Äãof n, the solution of the complete set problem to a complete solution, for an arbitrary composition of k queens, questions computational complexity of algorithmic calculations, as well as various modifications of the original formulation of the problem.  For familiarization with these areas, I would recommend interesting publications by B. Jordan, S. Brett [6] and IP Gent, C. Jefferson, P. Nighting [7], which provides a rather detailed overview of various research directions.  Of particular note is the online publication <a href="http://liacs.leidenuniv.nl/~kosterswa/nqueens/nqueens_feb2009.pdf">[8]</a> , supported by Walter Costers, which was prepared by a team from Universiteit Leiden and contains links to 342 publications related to the n-queens problem (as of December 2018). </p><br><p>  Although the problem of n-Queens has remained active for more than 150 years, and during this time a huge number of publications have appeared, I was not able to find work that would be relevant to finding patterns in the results of solving this problem.  Most of the projects related to the search for all solutions, most likely did not save the solutions found and did not look at what was ‚Äúinside there‚Äù. There, in the formulation of the problem, there were other dominant goals, and our esteemed colleagues achieved them.  However, remotely, it seemed to me that the situation is similar to when a person cooks eggs for breakfast, but does not eat them, but throws them out, leaving only the number of boiled eggs in memory.  I have always been sure that if the data is not random, then there must be a certain regularity in them, even if we cannot find this regularity.  This conviction was the cause of the search for patterns in this problem. </p><br><p>  Along with the desire to present useful information for reflection to the members of the Habra community, I would like talented programmers, of whom the majority on Habr√©, would pay more attention to such a development direction as computer modeling (Computational Simulation).  As a research method, such ‚ÄúAlgorithmic mathematics‚Äù is used on the ‚Äúleading edge‚Äù of many areas: Artificial Intelligence, Software Science, Data Science, ... and I am sure that very complex and important problems for practical application will be solved on the basis of algorithmic mathematics and in no way otherwise. </p><br><h3>  Definitions </h3><br><p>  Hereinafter, the size of the chessboard will be denoted by the symbol n.  We call the solution complete if all n queens are consistently placed on the chessboard.  All other solutions, when the number of correctly placed queens is less than n - we will call short solutions.  By the length of the solution we mean the number (k) of correctly placed queens.  The number of all solutions, for a given value of n, will be denoted by the symbol m.  As an analogue of a ‚Äúchessboard‚Äù of size nx n., We will consider a ‚Äúsolution matrix‚Äù of size nx n. </p><br><h3>  Start </h3><br><p> In order to conduct a study, an algorithm was developed to search for all solutions for an arbitrary value n.  We did not use standard recursion or the usual nested loop system.  For large values ‚Äã‚Äãof n, such an approach would be quite problematic.  The algorithm was built on the basis of a set of interacting events, in each of which, a certain system of actions, interconnected, takes place.  This makes it possible to simply implement the mechanism for changing the state space when selecting the next node in the branch of the task solution (Forward tracking), or clearing traces of previously performed actions, when going back one or more steps (Back tracking).  The algorithm has no special requirements for the amount of memory or processor speed. </p><br><p>  Based on this algorithm, all successive solutions (both short and full) were found for different values ‚Äã‚Äãof the solution matrix n = (7, ..., 16).  Since the size of the list of complete solutions is the named sequence of <a href="https://oeis.org/search%3Fq%3DA000170%26language%3Denglish%26go%3DSearch">The On-Line Encyclopedya of Integer Sequences</a> (sequence A000170 [9]) and is indicated in many publications, it seems to me interesting to give the size of the list of all solutions (short + full) for the n values ‚Äã‚Äãwe considered: <b>7</b> (194), <b>8</b> (736), <b>9</b> (2 936), <b>10</b> (12 774), <b>11</b> (61 076), <b>12</b> (314 730), <b>13</b> (1 716 652), <b>14</b> (10 030 692), <b>15</b> ( 62 518 772), <b>16</b> (415 515 376). </p><br><p>  Further, using the solutions found, we will present the formulations of some problems, methods for solving them, and a description of the results obtained. </p><br><h4>  1. On the state space in which the search for solutions </h4><br><p>  The enumeration of various variants of the arrangement of queens in one or another row of the matrix of the size n solution leads to the formation of the state space.  If there were no restrictions on the location of queens in one or another cell of the matrix, then the size of the state space would be equal to n <sup>n</sup> .  If we take into account only the rule prohibiting the location of more than one queen in each row and each column, then we get a subset of the state space, the size of which will be equal to n!  This subset of the state space corresponds to the problem of the distribution of n by the rook.  If, along with this, we also take into account the rule prohibiting the location of more than one queen on the left and right diagonals passing through the cell where the queen is located, then we will get some search space whose size will be less than n! .. Let's call this subset of the state space - productive search space, based on the fact that only in this subspace are all possible solutions.  Any completed branches in the productive search space are solutions with a number of correctly placed queens.  Basically, these are short decisions, and only a small remaining part is complete solutions. </p><br><p>  Figure 1 shows the graphs of the natural logarithm of three indicators: a) the factorial values ‚Äã‚Äã(n!) Of the size of the solution matrix;  b) the number of all solutions (both short and full);  c) the number of complete solutions - depending on the value of the size of the matrix of the solution (n).  As expected, all curves exhibit an exponential growth with increasing value of n.  The growth rates of the number of all solutions and the number of full solutions differ, although this is not so noticeable on the graph, due to the small size of the sample of values ‚Äã‚Äãof n.  For example, with n = 13, the difference between the logarithms of these indicators is equal to 3.148, and with n = 16, this difference increases by the value of 0.190 and is 3.338.  Obviously, with a further increase in the value of n, this discrepancy will be more significant. </p><br><img src="https://habrastorage.org/webt/xi/fs/3i/xifs3itkd46snnv3j_ungrozzys.jpeg"><br>  Fig.1. The dependence of the logarithm of the size of the state space on the value of n <br><br><h4>  2. How does the share of complete solutions in the general list of all decisions? </h4><br><p>  It is obvious that if the growth rate of the number of complete solutions lags behind the growth rate of the number of all solutions, then the probability of finding a complete solution in the general list of all solutions will decrease with increasing n.  Figure 2 shows a plot of the share of complete solutions in the general list of all solutions of the value of n.  It can be seen that with an increase in the size of the solution matrix, the share of all complete solutions in the general list decreases.  For the initial values ‚Äã‚Äãof n = (7, ..., 14), this value decreases by 5.66 times from the value of 0.2062 to 0.0364, and then the gradual, asymptotic decrease in this value continues.  Here a formal contradiction arises between two statements: on the one hand, the number of complete solutions grows exponentially with an increase in n, on the other, the probability of obtaining a complete solution in a sequential list of all solutions constantly decreases.  This seeming paradox is explained very simply, the size of the productive space and the associated list size of all solutions grow faster with increasing n than the number of complete solutions.  This is like trying to find a needle in a haystack - the amount of hay ‚Äúwith an increase in the value of n‚Äù grows faster than the number of needles that were lost there.  Therefore, we can assume that if for n = 27, the number of complete solutions is approximately 2.346 * 10 <sup>17</sup> , then the corresponding value of the number of all solutions will most likely be 3-4 orders of magnitude greater than ~ 10 <sup>20</sup> </p><br><img src="https://habrastorage.org/webt/hb/rv/yu/hbrvyu8xebv49kchectouxaiyku.jpeg"><br>  Fig.2. Reduction of the share of complete solutions in the general list of all solutions with increasing value of n <br><br><h4>  3. What is the frequency of decisions of various lengths in the list of all decisions? </h4><br><p>  As mentioned earlier, all completed branches in the productive search space are solutions with a different number of correctly placed queens. <br>  We are interested in the frequency with which solutions of various lengths are encountered in the general list of all solutions. </p><br><p>  Table 1 for the values ‚Äã‚Äãof n = (7, ..., 12) presents the corresponding values ‚Äã‚Äãof the relative frequencies for solutions having different lengths.  The corresponding visual presentation of this data is shown in Figure 3. </p><br><p>  Analysis of the table leads to the following conclusions: </p><br><p>  a) for each matrix of size n, there is a certain length of the solution, which has a maximum frequency (bold). </p><br><table><caption>  <b>Table 1. Relative frequency (%) of solutions of different lengths (k) for a matrix of size n = (7, ..., 12)</b> <br></caption><tbody><tr><th>  n \ k </th><th>  four </th><th>  five </th><th>  6 </th><th>  7 </th><th>  eight </th><th>  9 </th><th>  ten </th><th>  eleven </th><th>  12 </th></tr><tr><td>  7 </td><td>  10.31 </td><td>  <b>31.23</b> </td><td>  27.84 </td><td>  20.62 </td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  eight </td><td>  2.45 </td><td>  20.38 </td><td>  <b>34.78</b> </td><td>  29.89 </td><td>  12.50 </td><td></td><td></td><td></td><td></td></tr><tr><td>  9 </td><td>  0.34 </td><td>  5.79 </td><td>  21.73 </td><td>  <b>35.83</b> </td><td>  34.32 </td><td>  11.99 </td><td></td><td></td><td></td></tr><tr><td>  ten </td><td>  0.05 </td><td>  1.35 </td><td>  8.41 </td><td>  25.62 </td><td>  <b>32.94</b> </td><td>  25.96 </td><td>  5.67 </td><td></td><td></td></tr><tr><td>  eleven </td><td></td><td>  0.15 </td><td>  2.12 </td><td>  11.80 </td><td>  26.71 </td><td>  <b>34.47</b> </td><td>  20.36 </td><td>  4.39 </td><td></td></tr><tr><td>  12 </td><td></td><td>  0.01 </td><td>  0.29 </td><td>  3.28 </td><td>  13.56 </td><td>  29.88 </td><td>  <b>31.29</b> </td><td>  17.18 </td><td>  4.51 </td></tr></tbody></table><br><p>  b) as n increases, the number of solutions with different lengths increases.  Accordingly, this reduces the relative frequency of all decisions. </p><br><img src="https://habrastorage.org/webt/wx/rp/cd/wxrpcdotolt2nv2_a23otraonly.jpeg"><br>  Fig.3. The frequency of solutions of different lengths depending on the size of the solution matrix, n = 7, ..., 16 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  c) for each matrix of size n, there is a certain minimum size of the length of the solution, below which short solutions do not occur.  With increasing value of n, the value of this threshold increases.  For example, for n = 8, the threshold value is 4, respectively, when n = 16, the threshold value is 7. </p><br><h4>  4. What is the relative location of complete solutions in a sequential list of all solutions? </h4><br><p>  In the formulation of the problem ‚Äúon the distribution of n queens‚Äù there are no reasons that would give grounds for making any assumption about the order of the complete solutions in the general list of all solutions.  We wondered whether the complete solutions were evenly distributed in the general list, randomly, or it had some peculiarities.  To find out, an analysis was made of the distances between the nearest complete solutions in a sequential list of all solutions.  As can be seen from Figure 4, where for n = 12, there is a graph of changes in the corresponding frequencies, </p><br><img src="https://habrastorage.org/webt/h0/yc/xv/h0ycxvsvlenui9mshofoppr0haw.jpeg"><br>  Fig.4. Frequency versus distance between the nearest complete solutions in a sequential list of all complete solutions (n ‚Äã‚Äã= 12) <br><br><p>  with the greatest frequency there are complete solutions, which immediately follow each other in the general sequential list of all decisions.  These are the cases of the formation of the search branch, when the relationship of free positions in the last lines allows you to form two or more consecutive full solutions.  Further, those full solutions have the maximum frequency, between which there are: one short solution, two short solutions, etc. </p><br><h4>  5. Is there a pattern in the location of complete solutions in the general list of all solutions? </h4><br><p>  To answer this question, we analyzed consecutive lists of all solutions for values ‚Äã‚Äãn = (7, ..., 16).  To clearly demonstrate the results obtained, in Figure 5, for the value n = 8, there is a graph, where the length of each solution is sequentially indicated in the list of all 736 solutions.  Here, only 92 solutions are complete, and they are highlighted in red, the remaining 644 solutions are short, and highlighted in blue.  It can be seen that the complete solutions are not distributed evenly in the list of all solutions.  There are areas where complete solutions are more common, and there are places where complete solutions are rarely found or not found at all. </p><br><img src="https://habrastorage.org/webt/mc/7u/w_/mc7uw_jcbt1gkrzpsbiddwttyxe.jpeg"><br>  Fig.5. The length of each decision in a sequential list of all decisions, for a matrix of size 8 x 8 (red - full solutions, blue - short solutions).  The total number of all solutions is 736 <br><br><p>  However, another is important here.  If you look closely at the picture, which resembles a blue-red bar code, you can see one very important feature, all red lines are symmetrical about a certain, conditional vertical line passing through the middle of the list of solutions.  In fact, as the test shows, if at the i-th step from the beginning of the general list there is a complete solution, then, accordingly, the complete solution will necessarily be detected at step m-i + 1.  For example, for n = 8, if the first complete solution in the sequential search for all solutions appears at the 43rd step, then, accordingly, the last complete solution in the list will be found at step 736- 43 + 1 = 694.  If the 17th solution for a 10x10 matrix appears in the list at the 368th step, then the full solution symmetrical to it will appear in the list of all solutions at step 12774-17 + 1 = 12407.  This rule holds for a matrix of solutions of any size.  Therefore, we can formulate a rule.  <b>For any value of n, if in a sequential list of all solutions, in the i-th position from the beginning of the list, the solution is complete, then a symmetric solution from the end of the list that is in the m-i + 1 position will also be complete (the rule of symmetry of the solutions).</b>  Here m, as mentioned above, means the number of all solutions.  The consequence of this rule is the fact that for any value of n, the number of complete solutions <b>will always be an even number</b> .  (All sizes of the list of complete solutions found so far are even numbers). </p><br><p>  If we compare the indices of any two symmetric solutions, we can find a fundamentally important feature - <b>symmetric pairs of solutions are complementary.</b>  The sum of the corresponding values ‚Äã‚Äãof the indices of the queens of symmetric solutions will be equal to <b>n + 1</b> .  For example, the 17th solution for n = 10 in the list of all solutions is in the 368th step from the beginning of the list and the queen position indices at this step are (1, 5, 7, 10, 4, 2, 9, 3, 6, eight). </p><br><p>  The corresponding symmetric solution is in step 12407 and has indices of the queen positions (10, 6, 4, 1, 7, 9, 2, 8, 5, 3).  If we add the corresponding values ‚Äã‚Äãof the indices of each pair, we get (11, 11, ..., 11).  This rule is valid for any value of n, moreover, both for complete symmetric solutions and for short symmetric solutions.  This allows us to formulate the second rule.  <b>For a solution matrix of any size n, any pairs of solutions (both short and full), located symmetrically in the sequential list of all solutions, are complementary - the sum of the indexes of the positions of the corresponding rows is constant and equal to n + 1 (decision complementarity rule).</b>  If <b>Q (i)</b> and <b>Q1 (i)</b> are arrays of complementary solution indices, then the rule </p><br><pre><code class="plaintext hljs">&lt;b&gt;`Q ( i ) + Q1 ( i ) = n + 1, i = (1, n) `&lt;/b&gt;</code> </pre> <br><p>  This rule means that if a complete solution is obtained at the ith step, then a symmetric complete solution at step <b>m - i +1</b> becomes known <b>.</b>  Therefore, when searching for all complete solutions, it suffices to find only the first half of all complete solutions.  The second half of the list of complete solutions can be determined from the already obtained solutions, on the basis of the complementarity rule.  The criterion that half of the list of complete solutions has been reached is the fulfillment of the complementarity rule between the previous full solution <b>Q (i-1)</b> and the subsequent <b>Q (i)</b> .  That is, it is necessary that the sum of each pair of corresponding index values ‚Äã‚Äãof two consecutive solutions be equal to <b>n + 1</b> .  Since any complete solution from the list of all complete solutions is unique, only those consecutive full solutions will be complementary, which are located on both sides of the border, which divides the list in half. </p><br><p>  In the future, when searching for all complete solutions for any next value of n, these two rules will reduce the amount of calculations and, accordingly, the counting time by a factor of two. </p><br><h4>  6. Visualization of the sequence of steps to find the first complete solution. </h4><br><p>  How does the process of performing the steps forward (Forward tracking) and going back (Back tracking) occur when the decision search branch is formed?  In order to answer this question, we, for a 10 x 10 matrix, determined the sequence of the initial 194 transitions between rows before the appearance of the first complete solution.  The corresponding graph is shown in Figure 6. The blue lines indicate the movement forward, and the red ones - return back.  During these 194 steps, 35 short solutions were created.  It can be seen from the figure that most of the transitions (84.5%) occur between the lines (5, 6, 7, 8).  It is a kind of ‚Äúbottleneck‚Äù on the way to the ‚Äúgoal‚Äù.  As follows from the figure, there are only 7 transitions to the 4th row and one transition to the third row.  There are also 13 transitions to the 9th row.  Three attempts to move to the 10th line were unsuccessful, since there was no free position in these branches of the search on the 10th line.  This example clearly demonstrates all the branches of the formation of short </p><br><img src="https://habrastorage.org/webt/pj/v_/5s/pjv_5sy7aqf6z8sh3xxty_mnfmq.jpeg"><br>  Fig.6 Visualization of Backtracking (red) and Forwardtracking (blue) events for the first 194 search steps (n = 10) <br><br><p>  decisions, before receiving the first complete solution.  Any algorithm for solving such a problem will be effective if it contains a mechanism that allows you to exclude all (or part of) the branches that lead to short solutions. </p><br><h4>  7. After what number of short solutions does the first complete solution appear? </h4><br><p>  Considering that complete solutions appear unequally on different parts of the list of all solutions, it seems important to find out how many short solutions appear the first complete solution when searching for all solutions sequentially.  To this end, for the values ‚Äã‚Äãof n = (7, ..., 35), all short solutions were sequentially computed before the appearance of the first complete solution.  As can be seen from Figure 7, which shows a graph of the dependence on n, the natural logarithm of the step number, when the first complete solution appeared, for even values ‚Äã‚Äãof n, the first complete solution appears much later than for the nearest odd values ‚Äã‚Äãof n.  For example, for an odd value n = 21, the first complete solution appears at step 3138, and for the next, even value n = 22, the first complete solution appears at step 628169.  Accordingly, for the next, odd value of n = 23, the first complete solution appears at the 9155th step. </p><br><img src="https://habrastorage.org/webt/c2/ua/ic/c2uaiczkhbx79tb_zwuqpbgmxaw.jpeg"><br>  Fig.7. The number of short decisions before the appearance of the first complete solution, for different values ‚Äã‚Äãof n <br><br><p>  The number of iteration steps for even n = 22, respectively, 200.2 and 68.6 times more than the nearest odd values.  Especially visually on the counting time, this is manifested for n = 34.  Here the first complete solution appears at 826 337 184th step, and for the next odd numbers (33, 35), respectively, at 50 704 900th and 84 888 759th steps.  It should also be said about the violation of the monotony of the growth of the number of short solutions before the appearance of the first complete solution, with increasing n.  For even values ‚Äã‚Äãof n, this happens when n = 19, for odd values, when n = 24 and n = 26. </p><br><h4>  8. Is the frequency of the cells in each row in the list of all complete solutions the same? </h4><br><p>  A nxn size decision matrix, which serves as an analogue to a chessboard, is like a scene on which all events occur.  Any complete solution formed on this scene consists of cell indices of different rows, since  each such cell is a node in the solution search branch.  The question that will interest us is this: is the load on each line the same for different cells, when forming a list of all complete solutions?  Obviously, the higher the frequency, the higher will be the activity of a given cell in forming the list of complete solutions.  To establish this, we define for each line based on the list of all complete solutions, the relative frequency of the various indices.  First, we analyze for a solution matrix of size n = 8.  Consider successively each row of the storage array of complete solutions and determine the frequency of the various index values.  In tables 2, the corresponding values ‚Äã‚Äãof the absolute frequencies of activity of different cells in each of the eight rows are presented, and in fig.  eight </p><br><table><caption>  <b>Table 2. The absolute frequency of activity of the cells in each of the eight rows of the 8x8 matrix of the solution, obtained on the basis of the analysis of the list of all complete solutions</b> <b><br></b> <br></caption><tbody><tr><th>  row \ col </th><th>  one </th><th>  2 </th><th>  3 </th><th>  four </th><th>  five </th><th>  6 </th><th>  7 </th><th>  eight </th></tr><tr><td>  one </td><td>  four </td><td>  eight </td><td>  sixteen </td><td>  18 </td><td>  18 </td><td>  sixteen </td><td>  eight </td><td>  four </td></tr><tr><td>  2 </td><td>  eight </td><td>  sixteen </td><td>  14 </td><td>  eight </td><td>  eight </td><td>  14 </td><td>  sixteen </td><td>  eight </td></tr><tr><td>  3 </td><td>  sixteen </td><td>  14 </td><td>  four </td><td>  12 </td><td>  12 </td><td>  four </td><td>  14 </td><td>  sixteen </td></tr><tr><td>  four </td><td>  18 </td><td>  eight </td><td>  12 </td><td>  eight </td><td>  eight </td><td>  12 </td><td>  eight </td><td>  18 </td></tr><tr><td>  five </td><td>  18 </td><td>  eight </td><td>  12 </td><td>  eight </td><td>  eight </td><td>  12 </td><td>  eight </td><td>  18 </td></tr><tr><td>  6 </td><td>  sixteen </td><td>  14 </td><td>  four </td><td>  12 </td><td>  12 </td><td>  four </td><td>  14 </td><td>  sixteen </td></tr><tr><td>  7 </td><td>  eight </td><td>  sixteen </td><td>  14 </td><td>  eight </td><td>  eight </td><td>  14 </td><td>  sixteen </td><td>  eight </td></tr><tr><td>  eight </td><td>  four </td><td>  eight </td><td>  sixteen </td><td>  18 </td><td>  18 </td><td>  sixteen </td><td>  eight </td><td>  four </td></tr></tbody></table><br><p>  A group of 4 graphs is presented, where each graph characterizes the change in relative frequencies within a single line.  One of the fundamentally important conclusions that can be made on the basis of the analysis of all the data obtained is as follows: </p><br><ul><li>  for a matrix of solutions of arbitrary size <b>n</b> , the activity of the cells of the <b>i</b> -th row coincides with the activity of the cell <b>n-i + 1</b> , i.e.  the activity of the cells of the first row always coincides with the activity of the cells of the last row, respectively, the activity of the cells of the second row coincides with the activity of the cells of the penultimate row, etc. <br><br>  If n is odd, only the median row of the solution matrix does not have a symmetric pair, for all other cells the above rule is true </li><li>  Let's call this <b>‚Äúthe property of the horizontal symmetry of the activity of cells of different rows of the solution matrix‚Äù</b> .  For this reason, we presented only 4 graphs for the matrix of a solution of size n = 8, since the corresponding cell activity graphs for rows (1, 8), (2.7), (3.6) and (4.5) are completely identical. </li></ul><br><p>  It should also be noted that the frequencies are symmetric about the vertical axis of the dividing matrix into two equal parts (in the case of an even value of n) or passing through the median column (in the case of an odd value of n).  Let's call this <b>‚Äúthe property of the vertical symmetry of the activity of cells of different rows of the solution matrix‚Äù</b> . </p><br><p>  In addition, as follows from the analysis of table 2, the frequencies in the matrix of the solution are symmetric with respect to the left and right main diagonals. </p><br><img src="https://habrastorage.org/webt/2i/hv/cg/2ihvcget_snc4gdsdnzw7nqsp6a.jpeg"><br>  Fig.8. The activity of the cells of the corresponding rows when forming the list of complete solutions, n = 8 <br><br><p>  I think that the presence of restrictive rules in the formulation of the problem, and the property of non-determinism associated with this, ‚Äúform‚Äù a kind of harmonious relationship between nodes in different lines.  Those branches of search that fit into these rules lead to the formation of a complete solution.  The remaining branches of the search, at some step, violate these rules, and as a result, ‚Äúcomplete their path‚Äù in the form of short decisions.  It should be noted here that the cells of the decision matrix have only a local relationship within the limits of the projective influence group; there are no prescribed rules on coordinated actions between them.  The collective activity of the cells is only a consequence of the impact of the restrictive rules.  Therefore, it remains an interesting question how restrictive rules, like factors of non-determinism, affect the cells of the decision matrix, which ultimately leads to the formation of a ‚Äúharmonious‚Äù matrix of cell activity - symmetrical about the horizontal and vertical axes, as well as about the left and the right main diagonals.  Is this a characteristic property of only this task, or is it also valid for other non-deterministic problems? </p><br><h4>  9. From which line number does the Forward tracking - Back tracking algorithm turn on? </h4><br><p>  If you follow the work of the sequential selection algorithm of rows in the decision matrix for the location of the queen, then you can see that starting with a certain line, which we call ‚ÄúStopRow‚Äù, the process of progress is ‚Äúbraked‚Äù.  In the search branch, such a line is the first where problems arise with the presence of free </p><br><img src="https://habrastorage.org/webt/xc/-i/zh/xc-izhgsddzlkaf4gndvqey5i5s.jpeg"><br>  Fig.  9-1 Dependence of the ratio of the StopRow index to n on the size of the decision matrix (part-1) <br><p>  position for the location of the queen.  It is from this line that the Back tracking algorithm is turned on for clearing traces of previously performed actions, and going back.  This is the line on which the first short decision appears. </p><br><img src="https://habrastorage.org/webt/s-/bz/t0/s-bzt0_drglbo_4v8nb1hsz7scu.jpeg"><br>  Fig.9-2 Dependence of the ratio of the StopRow index to n on the size of the decision matrix (part-2) <br><p>  The index of the ‚ÄúStopRow‚Äù row, from which the difficulties in moving forward, begins, depends on the size n of the decision matrix.  If we consider the ratio of this index, which we denote by StopInd to the size of the matrix of the solution n, then, as can be seen from Figure 9-1, where the calculation results for the initial values ‚Äã‚Äãn = (7, ..., 99) are presented, this ratio fluctuates more or less side and tends to decrease.  With an increase in the value of n = (100, ..., 300), this ratio ranges from 0.619 to 0.642 (Fig. 9-2), and with a further increase in n, we get the following results (the values ‚Äã‚Äãof n are given sequentially, and StopInd and StopInd / n ratio: <b>1000</b> (619, 0.6190), <b>2000</b> (1239, 0.6195), <b>3000</b> (1856, 0.6187), <b>4000</b> (2473, 0.6182), <b>5000</b> (3091, 0.6182). Surprisingly, it can be argued that the <b>stop -line divides the decision matrix according to the golden section rule</b> : namely, the <b>StopInd / n</b> ratio differs from <b>(n-StopInd) / StopInd</b> by a small amount, which tends to zero with increasing <b>n.For</b> example, for n = 5000 the difference between the relations  3091/5000 and 1909/3091 is 0.006, which is less than 0.1% of the average of these two ratios. </p><br><p>  The graph presented in two figures.  9- (1,2) has a non-random form of variability, which resembles the recording on the "musical music band".  One can see repeated jumps upwards and a stepped fall downward with some irregular periodicity.  Obviously, there is a certain reason for such a behavior of the curve, and perhaps this will be of interest for the study.  For this reason, for the purpose of more detailed visualization, the graph was presented in two figures. </p><br><p>  I have considered only a part of the questions that can be formulated on the basis of the results of solving the problem ‚Äúon the distribution of n-queens‚Äù.  I hope that the results will make more transparent for understanding the mechanisms of formation of non-deterministic processes and state space changes.  Perhaps this will serve as a foothold for the formulation of new tasks and the way forward. </p><br><h3>  Conclusion </h3><br><ul><li>  If, looking through the publication, we have reached the conclusion, then naturally the question will arise: ‚Äúwhat‚Äôs the one Billion Queens Problem Solution in the article title?‚Äù  Preparing the publication for Habr, I thought that a person who, for example, possesses a mine where diamonds are mined, should donate at least one diamond to his friends and relatives, otherwise it would be unfair.  Therefore, I would like to present a gift to all members of the habr-community: participants, organizers, visitors.  As the name suggests, this is a solution to the problem of the distribution of one billion queens on a billion-billion-dollar chessboard. <br><br>  Of course, this is not a faceted diamond, but for true connoisseurs of intellectual art, it may be more valuable than ‚Äúsome kind of diamond‚Äù.  Moreover, there are many different diamonds around the world, and this solution is so far only in one copy.  And sees our Byte-God (*), that I do it sincerely. <br>  The resulting solution is a one-dimensional array consisting of one billion numbers, which is presented in MatLab .mat format and is available at: <a href="https://drive.google.com/file/d/1vQPdTg9QHjlYaaESd724lGVpAZjD02yt/view%3Fusp%3Dsharing">One Billion Queens Problem Solution on Google Drive</a> <br>  - The first element of this array characterizes the position of the queen in the first line, the second element - the position in the second line, etc.  This is only one solution from nBillion possible solutions.  And the value of nBillion is so large that it can be considered a close relative of infinity. <br></li><li>  It seems to me that this decision can be attributed to the category of virtual intellectual values.  We can say that "this is something in which something is."  They cannot really be touched, so it is perceived in consciousness only at the level of sensations.  There is, in fact, an amazing order and explicit and implicit harmony.  This is a purely symbolic gift (in the literal and figurative sense), which is addressed to all members of the community.  I think that " <b>you are not like everyone else</b> ." <br><br>  (I hope that someone will ‚Äútake the gift home.‚Äù The file is quite large - 3.7 Gb. This is clean, verified data. The fact that Google Drive will display warnings - treat this with understanding) <br></li><li>  Before making this decision, I thought about the individual-collective nature of such a gift.  Is it possible that the original will be given to one and the rest to the copy?  But the solution was simple.  The ‚Äúeveryday‚Äù notions ‚Äúoriginal‚Äù and ‚Äúcopy‚Äù, which are familiar to us in this case, lose their meaning.  We do not copy, and create another original.  And the "originals" for all are the same and equally equivalent. <br></li><li>  I think that in the company of relatives, you will most likely be the only one who received such an ‚Äúintellectual product‚Äù as a gift.  It will be fun if you tell your mother-in-law about such a gift: ‚ÄúImagine a mother‚Äôs chessboard measuring 50,000 km per 50,000 km, on which 1 billion queens are distributed in such a way that one doesn‚Äôt see each other ...‚Äù.  Who knows, maybe after that, his son-in-law will appreciate more, since he is being given such a strange gift. <br></li></ul><br><p>  I wish all members of the habr-community health, success and well-being.  May the new year bring us all good luck. </p><br><p>  (*) - Since I referred to the name of an object, its description should also be given. <br>  Byte-God means a multidimensional entity consisting of zeroes and ones, rational in all senses and infinite in all directions.  Any sequence of zeros and ones in this space represents certain knowledge. </p><br><h3>  Bibliography </h3><br><p>  [4] Max Bezzel, Proposal of 8-queens problem ", Berliner Schachzeitung, Volume <br>  3 (1848), page 363. (Submitted under the author name \ Schachfreund ".) </p><br><p>  [5] Franz Nauck, Briefwechseln mit allen fur alle ", Illustrirte Zeitung, Volume <br>  377 Number 15 (1850), page 182. </p><br><p>  [6] Bell Jordan;  Stevens Brett (2009).  "A survey of known results and research areas for n-queens".  Discrete Mathematics.  309 (1): 1‚Äì31 </p><br><p>  [7] Gent, Ian P .;  Jefferson, Christopher;  Nightingale, Peter (August 2017).  "Complexity of n-Queens Completion".  Journal of Artificial Intelligence Research.  AAAI Press.  59: 815‚Äì848 </p><br><p>  [8] <a href="http://liacs.leidenuniv.nl/~kosterswa/nqueens/nqueens_feb2009.pdf">W. Kosters and all, n-Queens - 342 references, (November 20, 2018)</a> </p><br><p>  [9] <a href="https://oeis.org/search%3Fq%3DA000170%26language%3Denglish%26go%3DSearch">NJA Sloane, the On-Line Encyclopedia of Integer Sequences, electronically published.</a>  <a href="https://oeis.org/search%3Fq%3DA000170%26language%3Denglish%26go%3DSearch">2016</a> </p></div><p>Source: <a href="https://habr.com/ru/post/435942/">https://habr.com/ru/post/435942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../435932/index.html">Why don't managers change?</a></li>
<li><a href="../435934/index.html">No more than 80 TLS certificates have been extended due to the US government's shutdown.</a></li>
<li><a href="../435936/index.html">The Russian space telescope "Spectr-R" has ceased to obey commands from the Earth, the launch of the "Spectra-RG" is postponed</a></li>
<li><a href="../435938/index.html">Top 3D Shop now in Chelyabinsk</a></li>
<li><a href="../435940/index.html">Multiple PHP versions on a host using Docker</a></li>
<li><a href="../435944/index.html">Product Design Digest, December 2018</a></li>
<li><a href="../435946/index.html">DIY thermal imager on Raspberry PI or ‚ÄúIt seems now I know what I will do this summer‚Äù</a></li>
<li><a href="../435948/index.html">MIT course "Computer Systems Security". Lecture 23: "The Economics of Security", part 3</a></li>
<li><a href="../435950/index.html">Modular data center in the service of the Large Hadron Collider</a></li>
<li><a href="../435952/index.html">Who are the "dirty hosters"?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>