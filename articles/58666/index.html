<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Linq-To-Sql - some experience or ‚Äúa few words about long sessions‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to tell a little about Linq-To-Sql to those who have not yet used it, but there are ideas to use in future projects (and I can also hear some c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Linq-To-Sql - some experience or ‚Äúa few words about long sessions‚Äù</h1><div class="post__text post__text-html js-mediator-article">  I want to tell a little about Linq-To-Sql to those who have not yet used it, but there are ideas to use in future projects (and I can also hear some comments about how you can still work with it).  So to say - a few words about how you need to develop an application architecture to use DLinq painlessly. <br>  I had a little experience with the NHiber ORM system before exploring Linq-To-Sql, so I‚Äôm imagining what a complete ORM should look like.  At once I will say that Linq-To-Sql is not a full-fledged ORM, but rather just a representation in objects of table entries.  You can make objects as they please (not similar in their essence to mappin database objects), and it will be necessary to proceed just from the relational structure (with some reservations). <br>  So, I think everyone knows how to work with DLinq.  If we have a ModelDataContext model created with Entities objects, here‚Äôs an example of loading an object <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">using</font> (ModelDataContext dataContext = <font color="#0000ff">new</font> ModelDataContext()) <br> { <br> <font color="#0000ff">Entity</font></font> <font>obj</font> <font color="black">= ( <font color="#0000ff">from</font> e <font color="#0000ff">in</font> dataContext.Entities <br> <font color="#0000ff">where</font> e.EntityID = 10 <br> <font color="#0000ff">select</font> e).FirstOrDefault(); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  Then we work with the obj object, and at some point we need to save the changed data.  How to do it?  In full-fledged ORM systems, it is possible to use the Detach and Attach methods, their meaning is simple, we detach the object from the first DataContext and twist it to another.  In DLinq, there is an Attach method, but there is no Detach, which is why we have to load the object again in the ModelDataContext and expose the changes to it (for each property, so to speak).  Maybe there is another option: to clone an object, then it will not depend on the previous ModelDataContext, BUT, then if this object has links to other objects, then you will also need to do something with them. <br>  You can do differently.  Work with long sessions - open ModelDataContext to a task, for example: loading, displaying an object, and saving it, and only then call Dispose on the ModelDataContext.  This method frees us from repeated loadings of the object.  But other difficulties will arise - if the life of the ModelDataContext continues to grow, say you will now keep open the ModelDataContext to load the list of objects, select one of the objects, edit one of the objects, add, delete, then in case you have errors in the database (for example, it is impossible to delete, because it is referred to), then you will need to: delete those objects (call DeleteOnSubmit (entity)) that you tried to add (InsertOnSubmit (entity)) from the ModelDataContext, also add those objects that you tried to update Well, and Refresh-it object  s who just wanted to upgrade.  In general, it is strange, why the standard Rollback method was not done in DLinq, everything seems to be transparent. <br>  The choice of the way in which you will use DLinq in your project depends only on you and on your project.  If there are any other methods of working with Linq-To-Sql, I will listen and take note with pleasure. <br><br></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/58666/">https://habr.com/ru/post/58666/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../58657/index.html">How I moved to Ubuntu</a></li>
<li><a href="../58658/index.html">The second tachfon from Palm</a></li>
<li><a href="../58659/index.html">Promotion of online store in search engines</a></li>
<li><a href="../58660/index.html">Illogicality with the display of the rating</a></li>
<li><a href="../58664/index.html">Beautifully packaged bricks for $ 2164 instead of ... MacBook Pro</a></li>
<li><a href="../58667/index.html">Non-equivalence of user participation in filling the site</a></li>
<li><a href="../58668/index.html">The pirate bay</a></li>
<li><a href="../58669/index.html">Color coding of proofs of Euclidean theorems</a></li>
<li><a href="../58672/index.html">Gigapixel photography - Look into the apartment for everyone!</a></li>
<li><a href="../58673/index.html">WinAPI hook that replaces registry entries</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>