<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>zsh: tips & tricks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About zsh more than once wrote on Habr√©. However, both those topics and my personal observations show that most people familiar with zsh use it as a b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>zsh: tips & tricks</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/787/ec4/dfe/787ec4dfeae4f66ce98fd8485fe4dac6.gif" alt="zsh logo" align="left">  About <em>zsh more</em> than once wrote on Habr√©.  However, both those topics and my personal observations show that most people familiar with <em>zsh</em> use it as a <em>bash</em> with advanced autocomplete.  And that (autocomputer) is not used to its fullest. </p><br><br><p>  I do not want to describe how to paint the console in all the colors of the rainbow or make promt, showing everything.  I want to show that <em>zsh's</em> capabilities are much broader, and using it as the main shell can make your work a little more beautiful. </p><a name="habracut"></a><br><br><h3>  Aliases </h3><br><p>  In <em>zsh,</em> they are of four types: </p>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  standard ( <em>-r</em> flag) - behave exactly the same as in <em>bash</em> </li><li>  suffixes (the <em>-s</em> flag) - allow you to associate files by extension with a specific application </li><li>  global ( <em>-g</em> flag) - in contrast to the standard, the search is performed on the entire line, and not only where the command may be </li><li>  hashes are sort of directory aliases </li></ol><br><p>  About the first two types were written more than once.  The last two are more interesting. </p><br><br><h5>  Global aliases </h5><br><p></p><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> -gg=<span class="hljs-string"><span class="hljs-string">"| grep"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> -gl=<span class="hljs-string"><span class="hljs-string">"| less"</span></span></code> </pre> <br>  allow instead <pre> <code class="bash hljs">cat <span class="hljs-built_in"><span class="hljs-built_in">where</span></span> | grep what | less</code> </pre>  do <pre> <code class="bash hljs">cat <span class="hljs-built_in"><span class="hljs-built_in">where</span></span> g what l</code> </pre> <br>  The example is exaggerated, and in reality aliases can (and should) be more difficult.  But even this example shows a profit for those who have a lot of trouble and work with pipes. <br><br><p>  Without specifying a flag when creating an alias, it behaves as both standard and global.  But I recommend specifying a flag to avoid ambiguities. </p><br><br><p>  Aliases can be temporarily turned off / on by </p><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">disable</span></span> -a aliasname <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> -a aliasname</code> </pre> <br>  Also, if the alias reassigns any command, you can reach it. <pre> <code class="bash hljs">\aliasname <span class="hljs-comment"><span class="hljs-comment">#or =aliasname</span></span></code> </pre> <br><h5>  Hashes </h5><br><p></p><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">hash</span></span> -d apl=/private/var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/apache2 <span class="hljs-built_in"><span class="hljs-built_in">hash</span></span> -d p1=/srv/www/project1/html</code> </pre> <br>  Now, to go to the directory designated as a hash, just run <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~hashname</code> </pre>  or at all <pre> <code class="bash hljs">~hashname</code> </pre>  if you use the <em>autocd</em> option. <br><br><p>  Of course, hashes can be used in any other operations related to file paths: </p><pre> <code class="bash hljs">cat ~hashname/file cp ~hashname/file /path/somewhere</code> </pre> <br><h3>  Autocomplete </h3><br><p>  He is really powerful in <em>zsh</em> . <br>  In addition to being able to complement the options of many commands (and it‚Äôs easy to write your own complement), <em>zsh</em> allows you to twist it as you please: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">zstyle</span></span> <span class="hljs-string"><span class="hljs-string">':completion:*:processes'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-string"><span class="hljs-string">'ps -ax'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">zstyle</span></span> <span class="hljs-string"><span class="hljs-string">':completion:*:*:kill:*:processes'</span></span> list-colors <span class="hljs-string"><span class="hljs-string">'=(#b) #([0-9]#)*=0=01;32'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">zstyle</span></span> <span class="hljs-string"><span class="hljs-string">':completion:*:*:kill:*'</span></span> menu yes select <span class="hljs-built_in"><span class="hljs-built_in">zstyle</span></span> <span class="hljs-string"><span class="hljs-string">':completion:*:kill:*'</span></span> force-list always <span class="hljs-built_in"><span class="hljs-built_in">zstyle</span></span> <span class="hljs-string"><span class="hljs-string">':completion:*:processes-names'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-string"><span class="hljs-string">'ps -e -o comm='</span></span> <span class="hljs-built_in"><span class="hljs-built_in">zstyle</span></span> <span class="hljs-string"><span class="hljs-string">':completion:*:*:killall:*'</span></span> menu yes select <span class="hljs-built_in"><span class="hljs-built_in">zstyle</span></span> <span class="hljs-string"><span class="hljs-string">':completion:*:killall:*'</span></span> force-list always</code> </pre> <br><p>  This config will give us a complement for the <em>kill</em> and <em>killall</em> commands: </p><pre> <code class="bash hljs">DevMan% killall F Finder ForkLift</code> </pre> <br><pre> <code class="bash hljs">DevMan% <span class="hljs-built_in"><span class="hljs-built_in">kill</span></span> Sa 502 ?? 2:49.10 /Applications/Safari.app/Contents/MacOS/Safari -psn_0_53261 823 ?? 14:29.44 /System/Library/StagedFrameworks/Safari/WebKit2.... 1509 ?? 4:28.21 /Applications/Xmarks <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Safari.app...</code> </pre> <br><p>  Deciding whether to use a case-insensitive complex I leave to you.  Although I personally get from him a lot more good than harm. </p><br><br><h3>  Hooks </h3><br><p>  <a href="http://zsh.sourceforge.net/Doc/Release/Functions.html">Hooks</a> are functions that are called upon a specific event. </p><br><br><p>  I actively use 3 of them: </p><br><br><ol><li>  <em>chpwd</em> - as you can guess from the name, called when changing the current directory. </li><li>  <em>preexec</em> - called before executing any command. </li><li>  <em>precmd</em> - called before promt is displayed. </li></ol><br><p>  The first one I use to restore all consoles in those directories in which I was before the reboot / logout. <br>  I use the second and third hooks, in particular, to notify about processes running for longer than a specified time: I started the project build, for example, and switched to other tasks when the build ends in the notification center when the readiness notification arrives. </p><br><br><h3>  Finally a bit of <em>zsh</em> magic </h3><br><pre> <code class="bash hljs">ls *(.) <span class="hljs-comment"><span class="hljs-comment">#    ls *(.om[1]) #     ls -l *(.m0) #     ls **/style.css #  style.css    ls -l *(.Lk+50) #     50  ls **/*(.Lm+5) #    5     ls *.^log #   ,  .log vi *(.om[1]) #     #     setopt EXTENDED_GLOB</span></span></code> </pre> <br><p>  This is an insignificant example of what <em>zsh</em> is capable of. <br>  Not affected modules, which is enough. </p><br><br><p>  As a teaching tool, in addition to native mans and guide, I recommend to study </p><br><br><ul><li>  <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a> </li><li>  <a href="https://github.com/zsh-users/zsh-completions">zsh-completions</a> </li><li>  and of course <a href="http://www.chodorowski.com/projects/zws/">ZWS</a> </li></ul><br><p>  If the topic is interesting, we will continue. </p><br><br><p>  Enjoy all the coding! </p></div><p>Source: <a href="https://habr.com/ru/post/164597/">https://habr.com/ru/post/164597/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164583/index.html">OneTesla: Tesla Coil as a Musical Instrument</a></li>
<li><a href="../164585/index.html">Google, HelloFax, Expensify and others want you to abandon paper in 2013</a></li>
<li><a href="../164587/index.html">The modern Internet has turned 30 years old</a></li>
<li><a href="../164591/index.html">Playing Fruit Ninja with a real knife</a></li>
<li><a href="../164595/index.html">The easiest way to make rounded corners of any type in Internet Explorer 6,7,8 without JavaScript</a></li>
<li><a href="../164599/index.html">Writing a clone game Fruit Ninja (part 1)</a></li>
<li><a href="../164601/index.html">Work and life geek with attention problems</a></li>
<li><a href="../164605/index.html">Elite: Dangerous successfully raised ¬£ 1,250,000. The release of the game is scheduled for March 2014</a></li>
<li><a href="../164607/index.html">UITableView + sqlite3 for the smallest</a></li>
<li><a href="../164609/index.html">Simulation of the movement and drift of the machine in the game on JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>