<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>React.js: build an isomorphic / universal application from scratch. Part 1: build the stack</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My wife's face when she read this article 


 I decided to write a series of articles that I myself would have been happy to find about six months ago...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>React.js: build an isomorphic / universal application from scratch. Part 1: build the stack</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/089/7b0/30c/0897b030cab94a2dbaf23a40c58b9225.jpg" alt="image"><br><p>  <em>My wife's face when she read this article</em> </p><br><p>  I decided to write a series of articles that I myself would have been happy to find about six months ago.  It will be interesting first of all to those who would like to start developing cool applications on <em>React.js</em> , but do not know how to approach the zoo of various technologies and tools that you need to know for a full-fledged <em>front-end</em> development these days. </p><br><p>  I want to implement from scratch, perhaps, the most demanded scenario: we have a server part that provides the <em>REST API</em> .  Some of its methods require that the user of the web application be authorized. </p><a name="habracut"></a><br><p>  Table of contents </p><br><p>  1) We assemble the base stack of an isomorphic application <br>  2) <a href="https://habrahabr.ru/post/310284/">We make a simple application with routing and bootstrap</a> <br>  3) We <a href="https://habrahabr.ru/post/310952/">implement interaction with API and authorization</a> </p><br><p>  Behind the brackets will be issues such as internationalization, writing tests, deploy and options for working with <em>CSS</em> , since these questions are much more variable and each of them draws on a separate block of articles.  Perhaps I will come back to them later if there is a demand. </p><br><p>  <em><b>Note:</b> github has a lot of great boilerplate or already collected stacks that can be used as a foundation for your application, but it seems to me much better to build your own stack yourself, understanding what each packet and every line of your code does.</em>  <em>Having learned to do it once, the next time it takes hardly more than 5 minutes to collect the stack.</em> </p><br><p>  <em><b>Note 2:</b> I assume that different readers have different levels of preparation, so I‚Äôll hide the long description of the tools under the article so that the article doesn‚Äôt seem infinitely long.</em> </p><br><p>  So let's go! </p><br><h1 id="1-my-budem-razrabatyvat-izomorfnoe-veb-prilozhenie">  1. We will develop an isomorphic web application. </h1><br><p>  Isomorphic or universal application means that the JavaScript code of the application can be executed both on the server and on the client.  This mechanism is one of the strengths of <em>React</em> and allows the user to access content substantially faster.  Below I will use the term "isomorphic", as it is still more common, but it is important to understand that "isomorphic" and "universal" are one and the same. </p><br><div class="spoiler">  <b class="spoiler_title">More about isomorphic applications</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/955/f4e/559/955f4e5593204cbf817e2756ea062d1f.png" alt="image"><br><h4 id="s-tochki-zreniya-polzovatelya-vzaimodeystvie-s-veb-prilozheniem-vyglyadit-sleduyuschim-obrazom">  From the user's point of view, interaction with the web application is as follows. </h4><br><p>  1) The browser makes a request to our web application. <br>  2) The server side of <em>Node.js</em> executes <em>javascript</em> .  If necessary, the process also performs requests to the <em>API</em> .  The result is a finished HTML page that is sent to the client. <br>  3) The user receives the page content almost instantly.  At this time, client-side <em>JavaScript is</em> downloaded and initialized in the background, and the application comes to life.  The most important thing is that the user has access to the content almost immediately, and not after two seconds or more, as is the case with traditional <em>client-side</em> JavaScript <em>applications.</em> <em><br></em>  <em>4a) If</em> JavaScript <em>did not have time to load or was executed on the client with an error, then when clicking on the link, the usual request to the server will be executed, and we will return to the first step of the process.</em> <em><br></em>  <em>4b) If everything is in order, then the link will be intercepted by our application.</em>  <em>If necessary, a request to the</em> API <em>will be executed</em> <em>and client-side</em> JavaScript * will generate and render the requested page.  This approach reduces traffic and makes the application more productive. </p><br><p>  Why is this cool? <br>  1) The user receives the content faster by two seconds or more.  This is especially true if you do not have a very good mobile Internet or you are in conditional China.  The win is due to the fact that you don‚Äôt have to wait for client <em>javascript to</em> download, which is 200kb and more taking into account minification and compression.  Also, <em>JavaScript</em> initialization may take some time.  If we add the need to make client <em>API</em> requests after initialization and recall that on the mobile Internet one can often encounter very noticeable delays, it becomes obvious that an isomorphic approach makes your application much more pleasant for the user. <br>  2) If your client-side <em>JavaScript</em> application fails due to an error, then your site is likely to become useless to the user.  In the isomorphic case, there is a good chance that the user can still do what he wants. </p><br><h4 id="s-tochki-zreniya-realizacii">  In terms of implementation </h4><br><p>  We have two entry points: <em>server.js</em> and <em>client.js</em> . <br>  <em>Server.js</em> will be used by the <em>node</em> server.  In it, we will launch <em>express</em> or another web server, and in it we will place request processing and other server-specific business logic. <br>  <em>Client.js</em> - entry point for the browser.  Here we put the business logic specific to the client. <br>  <em>The React application</em> will be common for both the client and the server.  It makes up more than 90-95% of the source code of the entire application - this is the whole essence of the isomorphic / universal approach.  In the process of implementation, we will see how this works in practice. </p></div></div><br><h3 id="sozdaem-novyy-proekt">  Create a new project </h3><br><div class="spoiler">  <b class="spoiler_title">Installing Node.js and the npm package manager</b> <div class="spoiler_text"><p>  At first glance, the versioning of the node may seem a bit strange.  In order not to get confused, it is enough to know that v4.x is the LTS branch, v5.x is experimental, and v6.x is the future LTS starting from October 1, 2016.  I recommend installing the latest LTS version, that is, on the day of publication of the article - this is the 4th, since it will save from an unlikely but extremely unpleasant collision with the bugs of the platform itself.  For our purposes, there is still little difference between them. </p><br><p>  Following the link <a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a> you can download and install <em>node.js</em> and the <em>npm</em> package manager for your platform. </p></div></div><br><pre><code class="bash hljs">mkdir habr-app &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> habr-app npm init</code> </pre> <br><p>  For all <em>npm</em> questions, you can safely press the <em>enter</em> button to select defaults.  As a result, the file <em>package.json</em> will appear in the root directory of the project. </p><br><h1 id="2-process-razrabotki">  2. Development process </h1><br><p>  <em>JavaScript</em> in recent years has been developing in leaps and bounds, which cannot be said about users.  Unfortunately, we cannot support only the latest versions of browsers, since very few customers are willing to sacrifice a significant part of the audience in favor of "cool technical features."  Fortunately, tools have been invented that allow the programmer to use the most modern language constructs and write as he likes, and the result will be code that will work correctly even in very ancient browsers. </p><br><h2 id="babel">  Babel </h2><br><p>  <em>Babel</em> is a compiler that translates any <em>JavaScript</em> dialect, including <em>CoffeeScript</em> , <em>TypeScript,</em> and other add-ons over the language into <em>ES5 JavaScript</em> , which is supported by almost all browsers, including <em>IE8</em> , if you add <em>babel-polyfill</em> .  The power of <em>Babel is</em> in its modularity and extensibility through plugins  For example, you can now use the latest <em>JavaScript</em> features, without worrying that they will not work in older browsers. </p><br><p>  For the translation of the components of the reactor, we will use the preset <em>babel-preset-react</em> .  I really like <em>JavaScript</em> decorators, so we also need the <em>babel-plugin-transform-decorators-legacy</em> package.  In order for our code to work correctly in older browsers, we install the <em>babel-polyfill package</em> , and we need <em>babel-preset-es2015</em> and <em>babel-preset-stage-0</em> to write in <em>ES6 / ES7</em> dialects, respectively. </p><br><pre> <code class="bash hljs">npm i --save babel-core babel-plugin-transform-decorators-legacy babel-polyfill babel-preset-es2015 babel-preset-react babel-preset-stage-0</code> </pre> <br><p>  These dependencies should be installed as project dependencies, since the server part of the application also needs a <em>babel</em> . </p><br><p>  Now install the packages that are needed to build client-side JavaScript.  We will set them as development dependencies, since they are not needed in production. </p><br><h3 id="babelrc">  .babelrc </h3><br><p>  When launched, <em>babel</em> will access the <em>.babelrc</em> file in the project root, which stores the configuration and the list of presets and plugins used. </p><br><p>  Create this file </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"presets"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"es2015"</span></span>, <span class="hljs-string"><span class="hljs-string">"react"</span></span>, <span class="hljs-string"><span class="hljs-string">"stage-0"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"plugins"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"transform-decorators-legacy"</span></span> ] }</code> </pre> <br><h1 id="3-sborka">  3. Build </h1><br><p>  We installed <em>Babel</em> with the plugins we need, but who should launch it and when?  It is time to move on to this issue. </p><br><p>  <b>Note:</b> projects of web applications these days seem to differ little from projects of desktop or mobile applications: they will contain external libraries, files that most likely correspond to the <em>MVC</em> paradigm, resources, style files and much more.  Such a presentation will be very convenient for the programmer, but not for the user.  If you take all the source code of the <em>JavaScript</em> project, as well as the used libraries, throw out all unnecessary, merge into one large file and apply minification, then one output file may take 10 or more times less than the original set.  You also need only one, not hundreds, browser request to download all the logic of our application.  Both are very important for performance.  By the way, the same logic applies to CSS resources, including different dialects ( <em>LESS</em> , <em>SASS</em> , etc.). </p><br><p>  This useful work will be done by the <em>webpack</em> . </p><br><p>  <em><b>Note:</b> for the same purpose, collectors can be used: grunt, gulp, bower, browserify, and others, but historically, webpack is most often used for React.</em> </p><br><div class="spoiler">  <b class="spoiler_title">More about webpack and webpack-dev-server</b> <div class="spoiler_text"><h3 id="webpack">  webpack </h3><br><img src="https://habrastorage.org/files/4ab/355/3e0/4ab3553e06a44f8294a1281c2b26c83d.png" alt="image"><br><p>  <em>Webpack work algorithm</em> </p><br><p>  The easiest way to imagine <em>webpack</em> work as a pipeline.  <em>Webpack</em> will take the provided entry points and consistently bypass all dependencies that it encounters on its way.  All code written in <em>JavaScript</em> or its dialects will be passed through the <em>babel</em> and blinded into one large <em>JavaScript ES5</em> file.  Here it is worthwhile to elaborate on how it works.  Each <em>require</em> or <em>import</em> in your code and the code used <em>by</em> <em>node_modules</em> will <em>be</em> allocated by the <em>webpack</em> into its own separate small module in the final assembly.  If your code or the code of libraries that you use depends on the same function, then it will get into the final assembly only once as a <em>Webpack</em> module, and all pieces of code that depend on it will refer to the same module in the final assembly.  Another cool feature of the <em>webpack</em> build <em>process</em> is that if you use a huge library, for example <em>lodash</em> , but clearly indicate that you only need a specific function, for example </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> assign <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash/assign'</span></span>;</code> </pre> <br><p>  then only the used part of the library will be included in the final assembly, and not all of it, which can significantly reduce the size of the assembled file. </p><br><p>  <em><b>Note:</b> this will work only if the library used supports modularity.</em>  <em>For this reason, the author refused to use Moment.js, XRegExp and several others in their projects.</em> </p><br><p>  For different types of files of our project in the <em>webpack</em> configuration <em>,</em> we will define our own <em>loader</em> or chain of loaders that will process it. </p><br><h3 id="webpack-dev-server">  webpack-dev-server </h3><br><p>  Rebuilding the entire project each time can be very costly: for a medium-sized project, the assembly can easily reach 30 seconds or more.  To solve this problem, during development it is very convenient to use <em>webpack-dev-server</em> .  This is a third-party server application that, when launched, will produce a complete assembly of resources and, when accessing them, will deliver the latest version of them from RAM.  During development, if individual <em>webpack-dev-server</em> files are <em>modified,</em> it will recompile only the file that has changed on the fly and replace the old module with a new one in the final assembly.  Since rebuilding does not require the entire project, but only one file, it rarely takes more than a second. </p></div></div><br><p>  We will install <em>Webpack</em> and <em>webpack-dev-server</em> as development dependencies, since we, of course, will not be engaged in assembly on production. </p><br><pre> <code class="bash hljs">npm i --save-dev webpack@1.13.2 webpack-dev-server</code> </pre> <br><p>  <em>Note</em> : at the time of writing and publishing the article, the version of webpack 1 was relevant. Since September 22, 2016, the default webpack 2 beta is set. </p><br><p>  Well, now we need to write a configuration file for the assembly.  Create a file in the project root </p><br><h4 id="webpackconfigjs">  webpack.config.js </h4><br><pre> <code class="javascript hljs">global.Promise = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'bluebird'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> webpack = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'webpack'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ExtractTextPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'extract-text-webpack-plugin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> CleanWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'clean-webpack-plugin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> publicPath = <span class="hljs-string"><span class="hljs-string">'http://localhost:8050/public/assets'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cssName = process.env.NODE_ENV === <span class="hljs-string"><span class="hljs-string">'production'</span></span> ? <span class="hljs-string"><span class="hljs-string">'styles-[hash].css'</span></span> : <span class="hljs-string"><span class="hljs-string">'styles.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> jsName = process.env.NODE_ENV === <span class="hljs-string"><span class="hljs-string">'production'</span></span> ? <span class="hljs-string"><span class="hljs-string">'bundle-[hash].js'</span></span> : <span class="hljs-string"><span class="hljs-string">'bundle.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> plugins = [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> webpack.DefinePlugin({ <span class="hljs-string"><span class="hljs-string">'process.env'</span></span>: { <span class="hljs-attr"><span class="hljs-attr">BROWSER</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(<span class="hljs-literal"><span class="hljs-literal">true</span></span>), <span class="hljs-attr"><span class="hljs-attr">NODE_ENV</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(process.env.NODE_ENV || <span class="hljs-string"><span class="hljs-string">'development'</span></span>) } }), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ExtractTextPlugin(cssName) ]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (process.env.NODE_ENV === <span class="hljs-string"><span class="hljs-string">'production'</span></span>) { plugins.push( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CleanWebpackPlugin([ <span class="hljs-string"><span class="hljs-string">'public/assets/'</span></span> ], { <span class="hljs-attr"><span class="hljs-attr">root</span></span>: __dirname, <span class="hljs-attr"><span class="hljs-attr">verbose</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">dry</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }) ); plugins.push(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> webpack.optimize.DedupePlugin()); plugins.push(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> webpack.optimize.OccurenceOrderPlugin()); } <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: [<span class="hljs-string"><span class="hljs-string">'babel-polyfill'</span></span>, <span class="hljs-string"><span class="hljs-string">'./src/client.js'</span></span>], <span class="hljs-attr"><span class="hljs-attr">debug</span></span>: process.env.NODE_ENV !== <span class="hljs-string"><span class="hljs-string">'production'</span></span>, <span class="hljs-attr"><span class="hljs-attr">resolve</span></span>: { <span class="hljs-attr"><span class="hljs-attr">root</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">'src'</span></span>), <span class="hljs-attr"><span class="hljs-attr">modulesDirectories</span></span>: [<span class="hljs-string"><span class="hljs-string">'node_modules'</span></span>], <span class="hljs-attr"><span class="hljs-attr">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'.jsx'</span></span>] }, plugins, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${__dirname}</span></span></span><span class="hljs-string">/public/assets/`</span></span>, <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: jsName, publicPath }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loaders</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.css$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: ExtractTextPlugin.extract(<span class="hljs-string"><span class="hljs-string">'style-loader'</span></span>, <span class="hljs-string"><span class="hljs-string">'css-loader!postcss-loader'</span></span>) }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.less$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: ExtractTextPlugin.extract(<span class="hljs-string"><span class="hljs-string">'style-loader'</span></span>, <span class="hljs-string"><span class="hljs-string">'css-loader!postcss-loader!less-loader'</span></span>) }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.gif$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'url-loader?limit=10000&amp;mimetype=image/gif'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.jpg$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'url-loader?limit=10000&amp;mimetype=image/jpg'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.png$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'url-loader?limit=10000&amp;mimetype=image/png'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.svg/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'url-loader?limit=26000&amp;mimetype=image/svg+xml'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(woff|woff2|ttf|eot)/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'url-loader?limit=1'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.jsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'babel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: [<span class="hljs-regexp"><span class="hljs-regexp">/node_modules/</span></span>, /public/] }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.json$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'json-loader'</span></span> }, ] }, <span class="hljs-attr"><span class="hljs-attr">devtool</span></span>: process.env.NODE_ENV !== <span class="hljs-string"><span class="hljs-string">'production'</span></span> ? <span class="hljs-string"><span class="hljs-string">'source-map'</span></span> : <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">devServer</span></span>: { <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: { <span class="hljs-string"><span class="hljs-string">'Access-Control-Allow-Origin'</span></span>: <span class="hljs-string"><span class="hljs-string">'*'</span></span> } } };</code> </pre> <br><p>  <em><b>Note:</b> this is an example of a config for a productive project, so it looks a bit more complicated than it could.</em> </p><br><div class="spoiler">  <b class="spoiler_title">Config description</b> <div class="spoiler_text"><p>  So, <br>  1) We announce that we will use the implementation of promises from the <em>bluebird</em> project.  De facto standard. <br>  2) For production, we want each file to have an assembly hash in order to effectively manage the caching of resources.  So that the old versions of the collected resources do not interfere with us, we will use the <em>clean-webpack-plugin</em> , which will clear the corresponding directories before the next build. <br>  3) during the build process, the <em>extract-text-webpack-plugin</em> will <em>search</em> for all <em>css / less / sass / whatever</em> dependencies and at the end will issue them as one <em>CSS</em> file. <br>  4) We use <em>DefinePlugin</em> to set global assembly variables, <em>DedupePlugin</em> and <em>OccurenceOrderPlugin</em> - optimization plugins.  More details on these plugins can be found in the documentation. <br>  5) As an entry point, we specify <em>babel-polyfill</em> and <em>client.js</em> .  The first will allow our <em>JavaScript</em> code to run in older browsers, the second is our entry point for the client web application, we will write it later. <br>  6) <em>resolve</em> means that when we write in the code of our application </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SomeClass <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./SomeClass'</span></span>;</code> </pre> <br><p>  <em>The webpack</em> will look for <em>SomeClass</em> in <em>SomeClass.js</em> or <em>SomeClass.jsx files</em> before reporting that it cannot find the specified file. <br>  7) Next, we transfer the list of plugins and specify the <em>output</em> directory <em>where the webpack</em> will put the files after the build. <br>  8) The most interesting is the list of <em>loaders</em> .  Here we define the pipelines mentioned above.  They will be applied to files with the appropriate extensions.  For more information on the loader definition format and their parameters, it is better to familiarize yourself with the documentation, since this issue draws on a separate article.  In order not to be completely unfounded, I‚Äôll focus on the loader design. </p><br><pre> <code class="javascript hljs">test: <span class="hljs-regexp"><span class="hljs-regexp">/\.less$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: ExtractTextPlugin.extract(<span class="hljs-string"><span class="hljs-string">'style-loader'</span></span>, <span class="hljs-string"><span class="hljs-string">'css-loader!postcss-loader!less-loader'</span></span>)</code> </pre> <br><p>  Here we say that if a file with the less extension is encountered, it needs to be transferred to <em>ExtractTextPlugin</em> , which will use the <em>css-loader</em> chain <em>! Postcss-loader! Less-loader</em> .  It is necessary to read from right to left, that is, first the <em>less-loader will</em> process the <em>.less</em> file, the result will pass to the <em>postcss-loader</em> , which in turn will transfer the processed contents of the <em>css-loader</em> . <br>  9) <em>I</em> also recommend reading devtool in the webpack documentation. <br>  10) At the end, we will additionally specify the <em>webpack-dev-server</em> parameters.  In this case, it is important for us to specify Access-Control-Allow-Origin, since the <em>webpack-dev-server</em> and our application will work on different ports, which means that we need to solve the <em>CORS</em> problem. </p></div></div><br><p>  Libraries to which we refer in the configuration will not install themselves.  Depending on the project, we will only have <em>bluebird</em> , everything else is needed exclusively for assembly. </p><br><pre> <code class="bash hljs">npm i --save bluebird npm i --save-dev babel-loader clean-webpack-plugin css-loader extract-text-webpack-plugin file-loader html-loader json-loader less less-loader postcss-loader style-loader url-loader</code> </pre> <br><p>  It is also time to add a few new <em>package.json</em> scripts: to launch the build and the webpack-dev-server. </p><br><pre> <code class="hljs objectivec"> <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"build"</span></span>: <span class="hljs-string"><span class="hljs-string">"NODE_ENV='production' webpack -p"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-devserver"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --debug --hot --devtool eval-source-map --output-pathinfo --watch --colors --inline --content-base public --port 8050 --host 0.0.0.0"</span></span> }</code> </pre> <br><p>  Update: users of <a href="https://habrahabr.ru/users/wrewolf/" class="user_link">wrewolf</a> and <a href="https://habrahabr.ru/users/nerop/" class="user_link">Nerop</a> in a personal and comments respectively reported that in Windows scripts should look different. </p><br><pre> <code class="hljs objectivec"> <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"build"</span></span>: <span class="hljs-string"><span class="hljs-string">"set NODE_ENV='production' &amp;&amp; webpack -p"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-devserver"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --debug --hot --devtool eval-source-map --output-pathinfo --watch --colors --inline --content-base public --port 8050 --host 0.0.0.0"</span></span> }</code> </pre> <br><p>  Create a <em>src</em> folder in the project root and an empty <em>client.js</em> file in it. </p><br><p>  <em>Let's test</em> our scripts: enter <em>npm run build</em> in the console, and <em>npm run webpack-devserver</em> in another console window.  If there are no errors - move on. </p><br><h1 id="4-eslint">  4. ESLint </h1><br><p>  This is an optional item, but I find it very useful.  <em>ESLint</em> is a set of rules that apply to the source code.  If one or more of these rules are violated by the programmer in the process of writing code, we will see errors during the <em>webpack</em> build.  Thus, the entire code of the web application will be written in a single style, including naming variables, indents, prohibiting the use of certain constructs, and so on. </p><br><p>  I will put the list of rules in the <em>.eslintrc</em> file in the project root.  More details about <em>ESLint</em> and the rules can be found on the project website. </p><br><div class="spoiler">  <b class="spoiler_title">.eslintrc</b> <div class="spoiler_text"><pre> <code class="hljs ruby">{ <span class="hljs-string"><span class="hljs-string">"parser"</span></span>: <span class="hljs-string"><span class="hljs-string">"babel-eslint"</span></span>, <span class="hljs-string"><span class="hljs-string">"plugins"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"react"</span></span> ], <span class="hljs-string"><span class="hljs-string">"env"</span></span>: { <span class="hljs-string"><span class="hljs-string">"browser"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"node"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"mocha"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"es6"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-string"><span class="hljs-string">"ecmaFeatures"</span></span>: { <span class="hljs-string"><span class="hljs-string">"arrowFunctions"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"blockBindings"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"classes"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"defaultParams"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"destructuring"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"forOf"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"generators"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"modules"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"objectLiteralComputedProperties"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"objectLiteralDuplicateProperties"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"objectLiteralShorthandMethods"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"objectLiteralShorthandProperties"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"restParams"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"spread"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"superInFunctions"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"templateStrings"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"jsx"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-string"><span class="hljs-string">"rules"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Possible errors <span class="hljs-string"><span class="hljs-string">"comma-dangle"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>], <span class="hljs-string"><span class="hljs-string">"no-cond-assign"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"always"</span></span>], <span class="hljs-string"><span class="hljs-string">"no-constant-condition"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-control-regex"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-dupe-args"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-dupe-keys"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-duplicate-case"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-empty-character-class"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-empty"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-extra-boolean-cast"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"no-extra-parens"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"functions"</span></span>], <span class="hljs-string"><span class="hljs-string">"no-extra-semi"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-func-assign"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-inner-declarations"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-invalid-regexp"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-irregular-whitespace"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-negated-in-lhs"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-obj-calls"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-regex-spaces"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-sparse-arrays"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-unreachable"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"use-isnan"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"valid-typeof"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-unexpected-multiline"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Best Practices <span class="hljs-string"><span class="hljs-string">"block-scoped-var"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"complexity"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>], <span class="hljs-string"><span class="hljs-string">"curly"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"multi-line"</span></span>], <span class="hljs-string"><span class="hljs-string">"default-case"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"dot-notation"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"allowKeywords"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }], <span class="hljs-string"><span class="hljs-string">"eqeqeq"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"guard-for-in"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-alert"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"no-caller"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-case-declarations"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-div-regex"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"no-else-return"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-eq-null"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-eval"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-extend-native"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-extra-bind"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-fallthrough"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-floating-decimal"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-implied-eval"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-iterator"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-labels"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-lone-blocks"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-loop-func"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-multi-str"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-native-reassign"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-new"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-new-func"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-new-wrappers"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-octal"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-octal-escape"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-param-reassign"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"props"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }], <span class="hljs-string"><span class="hljs-string">"no-proto"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-redeclare"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-script-url"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-self-compare"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-sequences"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-unused-expressions"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-useless-call"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-with"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"radix"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"wrap-iife"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"outside"</span></span>], <span class="hljs-string"><span class="hljs-string">"yoda"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ES2015 <span class="hljs-string"><span class="hljs-string">"arrow-parens"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"arrow-spacing"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"before"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"after"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }], <span class="hljs-string"><span class="hljs-string">"constructor-super"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-class-assign"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-const-assign"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-this-before-super"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"no-var"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"object-shorthand"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"always"</span></span>], <span class="hljs-string"><span class="hljs-string">"prefer-arrow-callback"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"prefer-const"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"prefer-spread"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"prefer-template"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Strict Mode <span class="hljs-string"><span class="hljs-string">"strict"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>], <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Variables <span class="hljs-string"><span class="hljs-string">"no-catch-shadow"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-delete-var"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-label-var"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-shadow-restricted-names"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-shadow"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-undef-init"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-undef"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-unused-vars"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Node.js <span class="hljs-string"><span class="hljs-string">"callback-return"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-mixed-requires"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-path-concat"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-sync"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"handle-callback-err"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"no-new-require"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Stylistic <span class="hljs-string"><span class="hljs-string">"array-bracket-spacing"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>, { <span class="hljs-string"><span class="hljs-string">"singleValue"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"objectsInArrays"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"arraysInArrays"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }], <span class="hljs-string"><span class="hljs-string">"newline-after-var"</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"always"</span></span>], <span class="hljs-string"><span class="hljs-string">"brace-style"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"1tbs"</span></span>], <span class="hljs-string"><span class="hljs-string">"camelcase"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"properties"</span></span>: <span class="hljs-string"><span class="hljs-string">"always"</span></span> }], <span class="hljs-string"><span class="hljs-string">"comma-spacing"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"before"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"after"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }], <span class="hljs-string"><span class="hljs-string">"comma-style"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"last"</span></span>], <span class="hljs-string"><span class="hljs-string">"computed-property-spacing"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>], <span class="hljs-string"><span class="hljs-string">"eol-last"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"func-names"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"func-style"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"declaration"</span></span>], <span class="hljs-string"><span class="hljs-string">"indent"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"SwitchCase"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }], <span class="hljs-string"><span class="hljs-string">"jsx-quotes"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"prefer-single"</span></span>], <span class="hljs-string"><span class="hljs-string">"linebreak-style"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"unix"</span></span>], <span class="hljs-string"><span class="hljs-string">"max-len"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, { <span class="hljs-string"><span class="hljs-string">"ignoreUrls"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"ignoreComments"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"ignorePattern"</span></span>: <span class="hljs-string"><span class="hljs-string">"^\\s*(const|let|var)\\s+\\w+\\s+\\=\\s+\\/.*\\/(|i|g|m|ig|im|gm|igm);?$"</span></span> }], <span class="hljs-string"><span class="hljs-string">"max-nested-callbacks"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-string"><span class="hljs-string">"new-parens"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-array-constructor"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-lonely-if"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-mixed-spaces-and-tabs"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-multiple-empty-lines"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"max"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"maxEOF"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }], <span class="hljs-string"><span class="hljs-string">"no-nested-ternary"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-new-object"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-spaced-func"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-trailing-spaces"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"no-unneeded-ternary"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"object-curly-spacing"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"always"</span></span>], <span class="hljs-string"><span class="hljs-string">"one-var"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>], <span class="hljs-string"><span class="hljs-string">"padded-blocks"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>], <span class="hljs-string"><span class="hljs-string">"quotes"</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"single"</span></span>, <span class="hljs-string"><span class="hljs-string">"avoid-escape"</span></span>], <span class="hljs-string"><span class="hljs-string">"semi-spacing"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"before"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"after"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }], <span class="hljs-string"><span class="hljs-string">"semi"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"always"</span></span>], <span class="hljs-string"><span class="hljs-string">"keyword-spacing"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"space-before-blocks"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"space-before-function-paren"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"anonymous"</span></span>: <span class="hljs-string"><span class="hljs-string">"always"</span></span>, <span class="hljs-string"><span class="hljs-string">"named"</span></span>: <span class="hljs-string"><span class="hljs-string">"never"</span></span> }], <span class="hljs-string"><span class="hljs-string">"space-in-parens"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>], <span class="hljs-string"><span class="hljs-string">"space-infix-ops"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"space-unary-ops"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"words"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"nonwords"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }], <span class="hljs-string"><span class="hljs-string">"spaced-comment"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"always"</span></span>, { <span class="hljs-string"><span class="hljs-string">"exceptions"</span></span>: [<span class="hljs-string"><span class="hljs-string">"-"</span></span>, <span class="hljs-string"><span class="hljs-string">"+"</span></span>], <span class="hljs-string"><span class="hljs-string">"markers"</span></span>: [<span class="hljs-string"><span class="hljs-string">"="</span></span>, <span class="hljs-string"><span class="hljs-string">"!"</span></span>] }], <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> React <span class="hljs-string"><span class="hljs-string">"react/jsx-boolean-value"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-closing-bracket-location"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-curly-spacing"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"never"</span></span>], <span class="hljs-string"><span class="hljs-string">"react/jsx-handler-names"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-indent-props"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-string"><span class="hljs-string">"react/jsx-indent"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-string"><span class="hljs-string">"react/jsx-key"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-max-props-per-line"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, {<span class="hljs-symbol"><span class="hljs-symbol">maximum:</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>}], <span class="hljs-string"><span class="hljs-string">"react/jsx-no-bind"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"ignoreRefs"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"allowBind"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"allowArrowFunctions"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }], <span class="hljs-string"><span class="hljs-string">"react/jsx-no-duplicate-props"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-no-undef"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-pascal-case"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-uses-react"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/jsx-uses-vars"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-danger"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-deprecated"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-did-mount-set-state"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-did-update-set-state"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-direct-mutation-state"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-is-mounted"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-multi-comp"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-string-refs"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/no-unknown-property"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/prefer-es6-class"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/prop-types"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/react-in-jsx-scope"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/self-closing-comp"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"react/sort-comp"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-string"><span class="hljs-string">"order"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"lifecycle"</span></span>, <span class="hljs-string"><span class="hljs-string">"/^handle.+$/"</span></span>, <span class="hljs-string"><span class="hljs-string">"/^(get|set)(?!(InitialState$|DefaultProps$|ChildContext$)).+$/"</span></span>, <span class="hljs-string"><span class="hljs-string">"everything-else"</span></span>, <span class="hljs-string"><span class="hljs-string">"/^render.+$/"</span></span>, <span class="hljs-string"><span class="hljs-string">"render"</span></span> ] }], <span class="hljs-string"><span class="hljs-string">"react/jsx-wrap-multilines"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Legacy <span class="hljs-string"><span class="hljs-string">"max-depth"</span></span>: [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-string"><span class="hljs-string">"max-params"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-string"><span class="hljs-string">"no-bitwise"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }, <span class="hljs-string"><span class="hljs-string">"globals"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"$"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"ga"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre> <br><p>  <em>Note:</em> Windows rule </p><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"linebreak-style"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"unix"</span></span>],</code> </pre> <br><p>  need to be replaced by </p><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"linebreak-style"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"windows"</span></span>],</code> </pre> </div></div><br><pre> <code class="bash hljs">npm i --save-dev babel-eslint eslint eslint-loader eslint-plugin-react</code> </pre> <br><p>  We will add an <em>eslint-loader</em> to the <em>webpack</em> configuration, so before <em>babel</em> translates our code to <em>ES5</em> , all our code will be checked for compliance with the specified rules. </p><br><h3 id="webpackconfigjs-1">  webpack.config.js </h3><br><p>  In module.exports.module.loaders: </p><br><pre> <code class="javascript hljs">--- { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.jsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'babel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: [<span class="hljs-regexp"><span class="hljs-regexp">/node_modules/</span></span>, /public/] }, +++ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.jsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'babel!eslint-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: [<span class="hljs-regexp"><span class="hljs-regexp">/node_modules/</span></span>, /public/] },</code> </pre> <br><p>  In module.exports: </p><br><pre> <code class="javascript hljs">+++ eslint: { <span class="hljs-attr"><span class="hljs-attr">configFile</span></span>: <span class="hljs-string"><span class="hljs-string">'.eslintrc'</span></span> },</code> </pre><br><h1 id="5-express-i-serverjs">  5. Express and Server.js </h1><br><p>  By now, we have set up the project build, code translation in <em>JS ES5</em> , described and implemented the check for lice source code.  It's time to start writing the application itself, or rather, its server part. </p><br><p>  <em><b>Note:</b> I use Express, and it completely suits me, but, of course, there are many other similar packages (the same Node.js).</em> </p><br><p>  Install express </p><br><pre> <code class="bash hljs">npm i --save express</code> </pre> <br><p>  Create a root <em>server.js</em> file with the following contents </p><br><h4 id="serverjs">  server.js </h4><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'babel-core/register'</span></span>); [<span class="hljs-string"><span class="hljs-string">'.css'</span></span>, <span class="hljs-string"><span class="hljs-string">'.less'</span></span>, <span class="hljs-string"><span class="hljs-string">'.sass'</span></span>, <span class="hljs-string"><span class="hljs-string">'.ttf'</span></span>, <span class="hljs-string"><span class="hljs-string">'.woff'</span></span>, <span class="hljs-string"><span class="hljs-string">'.woff2'</span></span>].forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ext</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>.extensions[ext] = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {}); <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'babel-polyfill'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'server.js'</span></span>);</code> </pre> <br><p>  Here we indicate that we need <em>babel</em> to support <em>ES6 / ES7</em> , and also that if the <em>node</em> meets constructions like </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'awesome.css'</span></span>;</code> </pre> <br><p>  then you just need to ignore this line, since it is not <em>JavaScript</em> or one of its dialects. </p><br><p>  The server-side code itself will be in the <em>src / server.js file</em> , in which we can now freely use the <em>ES6 / ES7</em> syntax. </p><br><h4 id="srcserverjs">  src / server.js </h4><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> express <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'express'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express(); app.use(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { res.end(<span class="hljs-string"><span class="hljs-string">'&lt;p&gt;Hello World!&lt;/p&gt;'</span></span>); }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PORT = process.env.PORT || <span class="hljs-number"><span class="hljs-number">3001</span></span>; app.listen(PORT, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Server listening on: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${PORT}</span></span></span><span class="hljs-string">`</span></span>); });</code> </pre> <br><p>  Everything is quite simple here: we import the <em>express</em> web server, run it on the port that was passed in the <em>PORT</em> or 3001 environment variable. The server itself will respond to any request: "Hello World" </p><br><p>  We will install the <em>nodemon</em> package <em>according</em> to the development to run the server-side <em>JavaScript</em> code.  It is convenient in that it outputs any errors with detailed <em>Stack Traces</em> immediately to the console as they occur. </p><br><pre> <code class="bash hljs">npm i --save-dev nodemon</code> </pre> <br><p>  Add another script to <em>package.json</em> </p><br><pre> <code class="javascript hljs">+++ <span class="hljs-string"><span class="hljs-string">"nodemon"</span></span>: <span class="hljs-string"><span class="hljs-string">"NODE_PATH=./src nodemon server.js"</span></span>,</code> </pre> <br><p>  For Windows: </p><br><pre> <code class="javascript hljs">+++ <span class="hljs-string"><span class="hljs-string">"nodemon"</span></span>: <span class="hljs-string"><span class="hljs-string">"set NODE_PATH=./src; &amp;&amp; nodemon server.js"</span></span>,</code> </pre> <br><p>  And run in the console </p><br><pre> <code class="bash hljs">npm run nodemon</code> </pre> <br><p>  Open the browser and try to open the <em><a href="http://localhost:3001/">http: // localhost: 3001</a></em> page.  If all is well, then we will see <em>Hello World</em> . </p><br><h1 id="6-react-i-reactdom">  6. React and ReactDOM </h1><br><p>  Congratulations!  Almost all preparations have been completed, and we can finally move on to the reactor. </p><br><p>  Install the appropriate libraries: </p><br><pre> <code class="bash hljs">npm i --save react react-dom</code> </pre> <br><p>  Also install the <em>react-hot-loader</em> : when changing the source code of components during the development process, the browser will reload the page automatically.  This is a very convenient feature, especially if you have several monitors. </p><br><pre> <code class="bash hljs">npm i --save-dev react-hot-loader@1.3.0</code> </pre> <br><p>  <em>Note:</em> during the stay of the article in the sandbox in <em>npm</em> , the version of the <em>react-hot-loader</em> package changed from 1.3.x to 3.xx-beta.  At the moment, the third version is poorly documented, so we will use the first one hereinafter. </p><br><h4 id="webpackconfigjs-2">  webpack.config.js </h4><br><pre> <code class="javascript hljs">--- { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.jsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'babel!eslint-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: [<span class="hljs-regexp"><span class="hljs-regexp">/node_modules/</span></span>, /public/] }, +++ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.jsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: process.env.NODE_ENV !== <span class="hljs-string"><span class="hljs-string">'production'</span></span> ? <span class="hljs-string"><span class="hljs-string">'react-hot!babel!eslint-loader'</span></span> : <span class="hljs-string"><span class="hljs-string">'babel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: [<span class="hljs-regexp"><span class="hljs-regexp">/node_modules/</span></span>, /public/] },</code> </pre> <br><p>  We now turn to writing the code of our first component <em>App.jsx</em> , the entry point to the isomorphic part of our web application. </p><br><h4 id="srccomponentsappjsx">  src / components / App.jsx </h4><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { PropTypes, Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./App.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> propTypes = { <span class="hljs-attr"><span class="hljs-attr">initialName</span></span>: PropTypes.string }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> defaultProps = { <span class="hljs-attr"><span class="hljs-attr">initialName</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleNameChange = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleNameChange.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderGreetingWidget = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderGreetingWidget.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.initialName, <span class="hljs-attr"><span class="hljs-attr">touched</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">greetingWidget</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> }; } handleNameChange(val) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = val.target.value; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">touched</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (name.length === <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.initialName }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ name }); } } renderGreetingWidget() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.touched) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">hr</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">, {this.state.name}!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'App'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello World!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  :</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.handleNameChange}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.renderGreetingWidget()} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); } } App.propTypes = propTypes; App.defaultProps = defaultProps; export default App;</span></span></code> </pre> <br><h4 id="srccomponentsappcss">  src / components / App.css </h4><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.App</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.App</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">26px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.App</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.App</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">hr</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; }</code> </pre> <br><p>  Everything is quite simple here: ask the user to enter his name and greet him. </p><br><p>  In order for our application to display this component, we will make the following changes to the server and client code. </p><br><h4 id="srcclientjs">  src / client.js </h4><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/App'</span></span>; ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('react-view'));</span></span></code> </pre> <br><p>  After initialization of <em>JavaScript, the</em> reactor will find the main container of the <em>react-view</em> application and ‚Äúanimate‚Äù it. </p><br><h4 id="srcserverjs-1">  src / server.js </h4><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> express <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'express'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDom <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom/server'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/App'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express(); app.use(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> componentHTML = ReactDom.renderToString(&lt;App /&gt;); return res.end(renderHTML(componentHTML)); }); const assetUrl = process.env.NODE_ENV !== 'production' ? 'http://localhost:8050' : '/'; function renderHTML(componentHTML) { return ` &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;title&gt;Hello React&lt;/title&gt; &lt;link rel="stylesheet" href="${assetUrl}/public/assets/styles.css"&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="react-view"&gt;${componentHTML}&lt;/div&gt; &lt;script type="application/javascript" src="${assetUrl}/public/assets/bundle.js"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; `; } const PORT = process.env.PORT || 3001; app.listen(PORT, () =&gt; { console.log(`Server listening on: ${PORT}`); });</code> </pre> <br><p>    :   <em>JavaScript</em>  <em>RenderDom.renderToString(&lt;App /&gt;)</em>  HTML-,     ,   <em>renderHTML</em> .     <em>assetUrl</em> :       ,    <em>webpack-dev-server</em> . </p><br><p>    ,         : </p><br><pre> <code class="bash hljs">npm run nodemon npm run webpack-devserver</code> </pre> <br><p>     : <em><a href="http://localhost:3001/">http://localhost:3001</a></em> ‚Ä¶    - ! </p><br><p> ,   . </p><br><p> <b>1)</b>    <em>server-side rendering</em> .    <em>webpack-dev-server</em>     .              ,      ,    . </p><br><p> <b>2)</b>    <em>client-side rendering</em> .       <em>src/server.js</em> ,  ,     . </p><br><pre> <code class="javascript hljs">--- <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"react-view"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">${componentHTML}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> +++ <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"react-view"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>         .   ,      .  ! </p><br><p> <em><b>:</b>    , ,      npm run webpack-devserver,      .</em> </p><br><h3 id="github">  Github </h3><br><p>  : <a href="https://github.com/yury-dymov/habr-app">https://github.com/yury-dymov/habr-app</a> <br> <a href="https://github.com/yury-dymov/habr-app/tree/v1">https://github.com/yury-dymov/habr-app/tree/v1</a> ‚Äî  v1     <br> <a href="https://github.com/yury-dymov/habr-app/tree/v2">https://github.com/yury-dymov/habr-app/tree/v2</a> ‚Äî  v2     <br>  v3     [To be done] </p><br><h2 id="chto-dalshe">  What's next? </h2><br><p>       <em>Hello World</em> ?  ,   ,     ! <br>      <em>react-bootstrap</em> , ,  ,   ,    <em>flux</em>      <em>redux</em> . </p><br><h1 id="7-poleznye-resursy-i-materialy"> 7.     </h1><br><ol><li>  JavaScript ES2015 ‚Äî <a href="https://learn.javascript.ru/es-modern">https://learn.javascript.ru/es-modern</a> </li><li>  webpack ‚Äî <a href="http://webpack.github.io/docs/">http://webpack.github.io/docs/</a> </li><li>     webpack    ‚Äî <a href="https://learn.javascript.ru/screencast/webpack">https://learn.javascript.ru/screencast/webpack</a> </li><li>  Babel ‚Äî <a href="https://babeljs.io/">https://babeljs.io/</a> </li><li>  ESLint ‚Äî <a href="http://eslint.org/">http://eslint.org/</a> </li><li>  Express ‚Äî <a href="https://expressjs.com/">https://expressjs.com/</a> </li><li>  Express   ‚Äî <a href="http://jsman.ru/express/">http://jsman.ru/express/</a> </li><li>  React ‚Äî <a href="https://facebook.github.io/react/">https://facebook.github.io/react/</a> </li></ol><br><p> Ps       , ,      .  Thank you in advance! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/309958/">https://habr.com/ru/post/309958/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309942/index.html">Presenter Template in Laravel</a></li>
<li><a href="../309944/index.html">Useful properties of jitter</a></li>
<li><a href="../309948/index.html">IOS 10 security settings you should pay attention to</a></li>
<li><a href="../309954/index.html">Samsung Solid State Drives: Gaining Momentum</a></li>
<li><a href="../309956/index.html">5 classic personality types in business and how to work with each of them</a></li>
<li><a href="../309960/index.html">6 statistical indicators of IT outsourcing in 2016</a></li>
<li><a href="../309962/index.html">Functions of higher orders and monads for PHP`s</a></li>
<li><a href="../309964/index.html">Zabbix 3.2 released</a></li>
<li><a href="../309966/index.html">Trend Convergence: Dell PowerEdge FX Architecture</a></li>
<li><a href="../309968/index.html">Why I refused to Rust</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>