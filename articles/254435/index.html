<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Notes iOS programmer about his hammers, sledgehammers and micrometers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At one fine moment, when at the interviews I was already convinced that I was a senior iOS developer - I had the feeling that I was rested. I am writi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Notes iOS programmer about his hammers, sledgehammers and micrometers</h1><div class="post__text post__text-html js-mediator-article">  At one fine moment, when at the interviews I was already convinced that I was a senior iOS developer - I had the feeling that I was rested.  I am writing similar code, solving problems in similar ways and the feeling that it is not clear where to develop further.  I think it‚Äôs not just me who faced this problem - the lack of new ideas, concepts, directions.  I would like to tell you about those tools and frameworks that helped me overcome this feeling. <br><br>  I think most of the developers present here have read guys like the gang of four.  Everyone, at least during the interviews, heard the word pattern, someone more (or less) lucky heard the more terrible words - imperative, functional, monad, reactivity and other horrors.  In general, quite a lot of bright and interesting ideas are in the world of software development and, fortunately, not all of them exist only in the form of verbal abstractions.  I would like in this article to tell a little not so much about the applied toolkit (although it is with him that we encounter most of the working time), as about the examples of the toolkit, for the use of which understanding is needed, which significantly helps in the future.  I would like to talk about how (and what) tools change the design process itself, writing the code, at least did it for me. <br><br><img src="https://habrastorage.org/files/12e/c76/aa6/12ec76aa6c234c188f4e456c79610bb1.jpg"><br><a name="habracut"></a><br>  This article, in my opinion, will be quite difficult for junior-level developers, but here are some wonderful tools - reading the code and examples of which can greatly push you toward development.  More experienced developers, for sure, a significant part of this information is known, but, I believe that there is something useful for you.  If only because I, to my shame and dismay, met most of the things described in the article rather late. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, as practice shows, the most useful solutions are usually quite simple.  The main optimizations are almost always not in the choice of an algorithm with the asymptotics O (n) instead of O (n log n), but in the choice of the way the code base is organized.  If you spend less time fighting your own code, you spend more time improving it.  Therefore, lately, I try to devote more time to organizing code than I‚Äôve been using the 201st batch that implements PullToRefresh on a UITableView.  And I would like to share some of these ways I know. <br><br><ul><li>  In the first and smallest chapter, I will start with three not very complex, but useful frameworks.  Rather, so that was where to start, without diving immediately to the full depth. <br><ul><li>  cocoaPods </li><li>  MagicalRecord </li><li>  Promise Kit </li></ul><br></li><li>  In the second chapter, I will list the frameworks that can be put at the heart of your application, or some essential part of it - ideas and concepts that seriously affect the entire development process.  In order to start using them fully, I would recommend writing at least a couple of small applications based on them - because they have a noticeable effect on thinking when designing new functionality. <br><ul><li>  Pure MVC </li><li>  Ash framework </li><li>  Reactive cocoa </li><li>  componentKit </li></ul><br></li><li>  The third chapter is devoted to testing and allowing you to write test code. <br><ul><li>  Expecta </li><li>  OCMock </li><li>  Blood magic </li></ul><br></li><li>  Chapter four is devoted not so much to the frameworks that you can embed in your code, but also to tools that can facilitate your work with the code. <br><ul><li>  mogenerator </li><li>  fastlane </li><li>  YACC / LEX </li></ul></li></ul><br>  In advance, I beg your pardon.  As Bilbo Baggins said: <br><blockquote>  A good half of you, I know twice as bad as they should, and I like the thin half half as much as I should. </blockquote><br>  Here I am also - in this article there will not be a sufficiently detailed analysis of any of the proposed tools (there is not even a single line of code here!) - only subjective sensations and recommendations for use.  And there are a lot of tools and each of them deserves a separate analysis. <br>  BUT!  there are these analyzes - and for each tool I tried to indicate where you can find examples of its use, documentation and related information - well, it is really more than enough. <br><br>  So, let's begin. <br><br><h4>  Chapter 1. Introduction </h4><br><h5>  cocoaPods </h5><br>  Probably there are no people who have not heard about this tool.  A tool for managing external dependencies (third-party) for your project. <br>  You can read about it <a href="http://cocoapods.org/">here</a> .  I will not particularly write here about him, because everyone knows everything very well.  And for those who do not know, you can read <a href="http://habrahabr.ru/company/luxoft/blog/149631/">here</a> and take note that this tool for iOS developer is a must have.  The transition to its use significantly reduces the time of prototyping new applications, and writing your own pods significantly disciplines the process of creating reusable code. <br><br>  <b>Virtues</b> <br><ul><li>  Incredibly easy project dependency management.  Adding new is made only one line. </li><li>  The ability to package your reusable code into convenient and simple containers to facilitate its reuse. </li><li>  Separate the code of dependencies from the code of your application - which reduces the temptation to change the code of the third-party toolkit (Sometimes, of course, it is useful and even necessary. Before the first update of the dependency module) and makes organizing the code of these add-ons more carefully and ‚Äúfrom the side‚Äù. </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  The process of adding dependencies is simplified so much that now you need to carefully monitor that the project does not add too many of these dependencies for each other.  And if this is appropriate for prototyping, then for long-lived projects this is an important question, since not all third-parties are perfect, but you are the ones who are responsible for their mistakes to their users. </li><li>  If you want something strange, then you will sometimes have to dig around with it.  For example, at some point it took me a substantial amount of time to teach the project how to correctly build different architectures for different targets.  Perhaps it has become easier and more comfortable now, but the fact remains. </li></ul><br><br><h5>  MagicalRecord </h5><br>  The framework for working with databases, which is a wrapper over CoreData.  Read more about it <a href="https://github.com/magicalpanda/MagicalRecord">here</a> . <br>  MagicalRecord helps you start using CoreData, even if you avoided it in every way before.  Someone once compared using MagicalRecord without understanding how CoreData works with enjoying a cup of coffee in a burning house - and I can understand it, but in my personal experience - it was much easier for me to understand the subtleties of CoreData just by reading and using MR code in practical tasks. <br><br>  MR itself is an adaptation of the concept of <a href="https://ru.wikipedia.org/wiki/ActiveRecord">ActiveRecord</a> for Objective-C.  This concept shifts the focus when working with databases from databases and tables to individual records, linking to them the main operations on working with the database.  That is, instead of ‚ÄúTable - delete this record‚Äù, we say ‚Äúrecord - succeed‚Äù, or ‚Äúrecord - create, change, give me all the instances corresponding to your entity‚Äù. <br><br>  Its use can significantly reduce the amount of code in your wrapper over the database.  And besides, it allows you to write much simpler and safer code for working with the database. <br><br>  <b>Virtues</b> <br><ul><li>  Perfectly hides many CoreData rakes from you, significantly reducing the code needed to initialize, save, modify records.  Simplifies working with child contexts. </li><li>  Initially, it is focused on asynchronous work with data, which means that standard actions with it will not cause UI hangs. </li><li>  Low entry threshold - this framework will allow you to experience the merits of databases, but will not lead you through all the depths of hell. </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  Like all asynchronous parts of the code, it's pretty hard to cover it with tests. </li><li>  In addition, you, like in other ways of working with the database, will have to ensure, at the architecture level, the correctness of the database - that the application will not try to write and read in the same place at the same time (no, it will work well for this, but Here's the result you do not really like it) </li><li>  It does not completely save you from writing predicates, queries, and other things (It‚Äôs not right to say that this is just a flaw, because it would be strange to expect this) </li></ul><br><br><h5>  PromiseKit </h5><br>  A framework for working with such a concept as <a href="http://en.wikipedia.org/wiki/Futures_and_promises">Promise</a> .  You can read more about it <a href="http://promisekit.org/">here</a> . <br>  In short, this is a way to organize work with asynchronous code in the form of chains of actions.  Why do you need it? <br>  1. Asynchronous code becomes simple and linear regardless of the thread in which it is executed.  Before his eyes, his strict structure - what and why will be fulfilled.  On one screen you can put the following type of logic: Download two configs.  When they hit, check them for validity.  After that, start some kind of animation, then display the results. <br>  2. Asynchronous code becomes atomic, encapsulated, and reusable.  Very often there are many temptations to break the encapsulation of asynchronous operations ‚Äî use some common variables, for example ‚Äî which makes asynchronous code more difficult to change. <br>  3. A comfortable opportunity appears to handle the errors of the entire execution chain.  Everyone who wrote chains of asynchronous code encountered the fact that the longer the chain is, the more difficult it is to correctly handle errors, the harder and more cumbersome the code becomes. <br><br>  <b>Virtues</b> <br><ul><li>  Considerably simplifies the construction of the execution graph of asynchronous operations.  Just to make one operation begin immediately after another or after several other </li><li>  Significantly simplifies the processing of errors that occur at different stages of the execution of the chain (especially in the case when the chain in the application makes sense only in case of complete success of all operations and does not make sense in all others) </li><li>  Allowing for intelligently encapsulating asynchronous operations ‚Äî greatly facilitates their multiple use in different places of the application. </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  Still need to be careful with the memory when working with promises </li><li>  It takes some time to get used to working not with ‚Äúcode‚Äù, but with ‚Äúa wrapper that will cause your code‚Äù </li><li>  Inconvenience during debag. </li></ul><br><br><h4>  Chapter 2. Architectural frameworks or something. </h4><br><h5>  PureMVC </h5><br>  You can read about it in detail <a href="https://github.com/PureMVC/puremvc-objectivec-standard-framework/wiki">here</a> . <br>  Probably one of the first major architectural frameworks that I had to deal with while working on mobile applications. <br>  In short, this is a formal breakdown of the MVC pattern into smaller entities: <br>  1. VO (value Object) - it is also familiar from CoreData Entity <br>  2. Proxy - with its strange name, it nevertheless is a wrapper over a model - are responsible for data access and nontrivial getters (aggregators) of the model <br>  3. Mediator - what is more accustomed to be considered a controller in MVC, controls the display in View and processes the signals coming from it.  Can be subscribed to notifications sent through the facade. <br>  4. View - well, View it is View.  Code responsible for the visual presentation of information. <br>  5. Facade - Singleton entity that exists all the time the application is running.  All objects of the Proxy, Mediator and Command classes must be registered there. <br>  6. Notification - the message sent through the facade.  All mediators subscribed to it will receive it (and only they). <br>  7. Command - that which describes the flow of the application - obeying the Command pattern - is started, executed, completed without being held in memory, in essence representing a notification with the executable code. <br><br>  <b>Virtues</b> <br><ul><li>  fantastic safety margin of the architecture - in my example, everything was poured into the code for several years and the development did not stand up and survived until the possibility of deep refactoring and the appearance of adequate technical processes appeared. </li><li>  Rapid prototyping - the architecture is already well-marked for you.  And if you have experience with this structure, you can quickly, but in a modular and iterative form, increase the functionality of the application. </li><li>  A very formal structure - if you started using it in the project - it is rather difficult to step aside from it - which leads to the fact that all project developers write the code uniformly. </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  Provides a huge number of opportunities to write bad code, due to the fact that all critical modules, in fact, are singletones (in this case, registered in the singleton-facade), which means that the project very quickly has all the chances to acquire implicit dependencies </li><li>  Hell debug.  There is very little explicit binding, respectively, in order to go through the execution chain, you need to follow the line that symbolizes the entity, find the place where this entity is registered, find the class associated with it and go to it.  Repeat until ready.  The depth of the stack nesting reaches quite cosmic values ‚Äã‚Äã(I saw hundreds with my own eyes) </li></ul><br><br><h5>  Ash framework </h5><br>  You can read about it in detail <a href="http://www.ashframework.org/">here</a> .  You can also find examples of use. <br>  Specifically, this framework is more suited to game development, but if at some point you can say that your application has ceased to be stateless, then getting to know this thing will be at least informative. <br>  In short, this is a framework that implements the Entity-Component-System pattern and operates on the following set of entities: <br><br>  1. Entity - in fact, some entity (for simplicity of description, I will use examples from the game subject in this case, because they are more suited to this framework).  For example - a player, enemy or obstacle.  In addition, entities may also be not so obvious actors (active objects) - for example, popup Options, lifeBar, or, for example, the whole level.  Operates with the minimum information, associated with a certain set of components. <br>  2. Component - some atomic data container.  For example - position, speed, destructible, ... <br>  3. Filter - Some filter in order to be able to get not the entire set of Entity - but only those that pass it.  It is a set of keys component.  Thus, if the filter contains the keys ‚Äúposition‚Äù and ‚Äúspeed‚Äù - then entities that do not move, or non-gaming entities - will not pass it. <br>  4. System - description of the nature of changes of entities.  Operates with a filtered set of entities and somehow converts it.  For example, a gravity system.  Takes entities passing through the filter ‚Äî have a position, speed, acceleration, exposure to gravity ‚Äî and recalculates their accelerations taking into account the effect of gravity. <br>  Or MovementSystem - takes all entities that have a position, speed and acceleration - and change speed by the amount of acceleration, and position, by the amount of speed <br>  5. World - some object that requests an update of all systems in a certain order. <br><br>  In essence, this framework offers to the behavior of objects from a somewhat unusual point of view for a classical OOP ‚Äî not an object reacts to changes, but the world finds objects that can react and change them independently, using systems. <br><br>  <b>Virtues</b> <br><ul><li>  It forces to break logic into orthogonal entities, to think in criteria of modules that do not interfere with each other. </li><li>  Ease of changing characters (behavior), Ease of adding new ones. </li><li>  The state machine is built into the framework by design.  This way you can switch between whole sets of characters and reactions. </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  This is not a silver bullet.  The state machines quickly gain difficulty and control over the code is lost.  It requires a very clear understanding of what and how much it should be. </li><li>  The orthogonality of the modules and full stateless is a very beautiful concept in the head, in practice it is very difficult to maintain it.  And any shared data outside the component very quickly leads to a lot of difficulties and possible bugs like race condition (albeit in one thread). </li></ul><br><br><h5>  Reactive cocoa </h5><br>  Probably one of the most significant third-party frameworks for iOS development of the existing now.  You can <a href="http://habrahabr.ru/post/215033/">read</a> about it in detail <a href="https://github.com/ReactiveCocoa/ReactiveCocoa">here</a> and in <a href="http://habrahabr.ru/post/215033/">Habr√©</a> - and I strongly recommend it.  He proposes to use some replacement of the basic iOS pattern (MVC) with its <a href="http://www.objc.io/issue-13/mvvm.html">MVVM</a> counterpart and relies on <a href="https://en.wikipedia.org/wiki/Reactive_programming">reactive programming</a> in its use. <br>  In short, Reactive Programming is a development paradigm focused on working with data streams.  If the usual development (imperative), the developer programs in the style of "the program should make A, then make B, then make C".  If A, B, and C are significant logical operations located in various application modules ‚Äî as the number of such blocks grows, the coherence of programs increases, their complexity and size increase. <br>  The most famous example of such a binding of various modules for long-running operations is the delegation pattern, but it does not solve all the problems. <br><ul><li>  What if we need the completion of this operation to initiate several others at once? </li><li>  What if we need to, at various points in the operation of the application, this operation can launch various entities? </li><li>  The code associated with a single operation is scattered across a large number of modules and its modification is difficult. </li><li>  Adding new operations to the chain of actions (especially in its middle) is usually associated with a sufficiently large amount of code. </li></ul><br><br>  What does Reactive Cocoa and MVVM offer: <br><ul><li>  Operations are combined into modules, in the interfaces of which wrappers are rendered on the executable code, so-called signals and commands. </li><li>  Unlike classic MVC, the signal-based architecture allows you to associate associated entities directly, without layers. </li></ul><br>  For myself, I consider ReactiveCocoa the development of PromiseKit ideas, extending them to the level of application architecture. <br><br>  Besides the fact that ReactiveCocoa inherits the advantages and disadvantages of PromiseKit - I would like to add the following: <br>  <b>Virtues</b> <br><ul><li>  Sequences of application actions take less code, they are easier to grasp, and therefore easier to understand the operation of the application. </li><li>  Ease of manipulation with sequences of actions - it is easy to add an intermediate step, add or remove a side step. </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  Debugging code with Reactive Cocoa is a lot of trouble. </li><li>  The ease of working with signals provoke an uncontrolled increase in the connectivity of the application and it is very easy to lose control over its execution when the chains become long and intersecting among themselves. </li><li>  Like many other frameworks of this kind - it is better to avoid it in the critical sections of your application - it is not very fast. </li></ul><br><br><h5>  componentKit </h5><br>  A recent gift from the Facebook development team, which you can read more about <a href="http://componentkit.org/">here</a> .  I do not know about you, but more than once I looked at HTML and CSS with sadness - as ways of the task of interfaces.  That is, what is called a <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5%25D0%25BA%25D0%25BB%25D0%25B0%25D1%2580%25D0%25B0%25D1%2582%25D0%25B8%25D0%25B2%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">declarative UI</a> . <br>  In short, according to Wikipedia, this is a way of describing entities that are not focused on ‚Äúhow to create it‚Äù, but on ‚Äúwhat it will be like when it was created‚Äù.  ComponentKit is the development of ideas, the emergence of which in iOS development can be seen in Avtoleayaute - the concept by which - by changing one interface element - there is no need to do many operations so that the rest of the UI remains to look correct.  If in the old UIKit by changing the size of some UIView, there was a need to recalculate the positions of all the other UIView relative to it, which sometimes resulted in a nontrivial code for working with coordinates, now it suffices to say that this View will be 20 pixels from View, which is higher and 30 - which is lower - and no matter how we change its size - this ratio will remain unchanged. <br>  ComponentKit went further in this regard - it offers a fairly large number of solutions for standard entities, the work with which used to be a lot of hassle: <br><ul><li>  Convenient work with CollectionView / TableView, which involves working not so much through a fixed dataSource, as through filling the table, like the usual work with arrays.  (Instead of ‚Äúaccording to such an index-pass, we have such a cell‚Äù - ‚Äúput such-and-such a cell on such a place‚Äù).  If you had to build tables with non-uniform data (for example, building a page-description of housing in an application for renting real estate - where there can be a dozen different types of cells with different behavior on one page) </li><li>  The state of elements makes it possible to describe several characters at once, which an element can take depending on the context, without having to distribute it to different .xib, different classes, and so on. </li><li>  Convenient adaptive layout, which allows to declare collections of elements that are equally suitable for different device resolutions and screen orientation in a declarative style (all this can be done with AutoLayout - but declarativeness is much more flexible) </li></ul><br><br>  <b>Virtues</b> <br><ul><li>  Description of the interface in the code, but in a concise and adaptive form. </li><li>  Sophisticated solutions for standard components </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  Immunity components - if you want to make a changeable interface with a large number of animations, then this is not your choice. </li><li>  The newness of the framework is, of course, a relative disadvantage, but problems with its use may well arise. </li></ul><br><br><h4>  Chapter 3. Testing </h4><br>  About testing says a lot and different.  Good and bad.  Someone says that testing is a silver bullet, someone, on the contrary, it takes time, but in my opinion - this is one of the key stages in the development of programmers - and before you can judge about it - it is necessary pass the. <br>  I would also recommend reading this recent <a href="http://www.mokacoding.com/blog/ios-testing-in-2015/">article</a> - it offers a superficial but pleasant overview of what tools in this regard are available to iOS developers. <br>  If to speak seriously - TDD is probably the most strongly influenced me, as a developer, concept.  And the point is not that autotests allow you to avoid regression, allow you to write code faster, less worried because of the changes.  The main advantage of autotests is that not every code can be tested.  It is through testing that abbreviations such as <a href="https://ru.wikipedia.org/wiki/Don%25E2%2580%2599t_repeat_yourself">DRY</a> and <a href="https://ru.wikipedia.org/wiki/SOLID_%2528%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%2529">SOLID</a> make sense. <br><br><h5>  Expecta </h5><br>  You can read about it in detail on the page of its <a href="https://github.com/specta/expecta">repository</a> , as well as its parent <a href="https://github.com/specta/specta">repository</a> .  There is also a sufficient number of examples of its use - enough to start using it. <br><br>  If in your code: <br>  1. There are many implicit dependencies (for example, singletons that you jerk with or without) - this code is incredibly difficult to test, because you need to satisfy all these dependencies.  And from the point of view of application development, a change in the code of these most implicit dependencies will affect an unknown number of places in the code in an unknown way.  Definitely bad. <br>  2. If there are more non-stateless connections in your code, this code is difficult to test, because you need to test entire bundles of modules in all possible combinations of their steates (that is, the number of test cases grows exponentially).  And from the point of view of the development of the application - in each of the combinations of states there can be some kind of bug, and the risks that the linked module will not be in the same state that we expect from it are still very high.  And all additions to the code have a very, very high price. <br>  3. If your code is not DRY, then you have to write tests for each of the repeated pieces of code, which increases the amount of work.  And from the point of view of application development, the difficulty of maintaining the working capacity of a repeating code is proportional to the number of repetitions. <br><br>  And many many others. <br>  Thus, it turns out that the code being tested is in itself more supported, simpler in itself, simpler when making changes.  And in general, in itself, it saves time. <br>  And the best way to check that your code - we test - is to cover it with tests.  If I understand correctly, over time, the need for most tests disappears, because you are already writing out the test code out of habit, but you still have to get to that time. <br><br>  So, a bunch of Specta / Expecta is a framework for writing tests in the style of <a href="http://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> . <br><br>  <b>Virtues</b> <br><ul><li>  The BDD approach itself is good because you have in one source both the testing code and the specification that the testing corresponds to.  On the basis of it, it is possible to generate documents that are understandable not only to IT specialists, which can be discussed both with QA specialists and with customers from the business side. </li><li>  The framework is simple and elegant, which allows you to leave the tests easily readable and reduce the risks of supporting the tests (it becomes not so necessary to test your tests) </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  In fact, when testing real-world applications, the rakes on rakes are lying - and you have to go through all these rakes.  Testing asynchronous databases, testing the UI and generally testing something asynchronous requires serious thought and thinking. </li><li>  A small and, I hope, temporary drawback - the integration with the XCode of this tool has been unstable lately. </li></ul><br><br><h5>  OCMock </h5><br>  You can read about it in detail <a href="http://ocmock.org/">here</a> . <br>  Unfortunately, when testing, it is not always possible to completely eliminate external and implicit dependencies of a module without significantly complicating the code.  And here OCMock comes to the rescue - it allows you to emulate the behavior of external objects (including system frameworks), isolating your module from all external influences (network connection speeds, unexpected errors) and allows you to work with a guaranteed pure context (the server will return   ,    ,     ,      ,  NSUserDefaults     ,     ,   ,           ). <br><br>         ¬´¬ª      SOLID      Enterprise   ‚Äî  -      .            ¬´  ¬ª  ¬´ ¬ª. <br><br> <b></b> <br><ul><li>         </li></ul><br><br><h5> Blood Magic </h5><br> ,     ‚Äî <a href="http://habrahabr.ru/users/1101_debian/" class="user_link">1101_debian</a> ,    <a href="https://github.com/railsware/BloodMagic"></a> . <br> ,            ,           . <br>           ,   .       (        ,          .    ‚Äî   )  <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25BD%25D0%25B5%25D0%25B4%25D1%2580%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25B7%25D0%25B0%25D0%25B2%25D0%25B8%25D1%2581%25D0%25B8%25D0%25BC%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">Dependency injection</a> ‚Äî        . <br><br>   ‚Äî     ,     ,  ,     ‚Äî  ‚Äî     .  , .h      ,          . -      (    ,   ,          OCMock     ). -,         ¬´          ?      ?    -        ?¬ª. <br><br> <b></b> <br><ul><li>     ,     -. ,       ,      4-5 . </li><li>      - ‚Äî     ,  , . </li></ul><br><br><h4>  4.   </h4><br><h5> mogenerator </h5><br> ,       ,           .       <a href="https://github.com/rentzsch/mogenerator"></a> .  ,          ,         ‚Äî       . <br>           ‚Äî    ,       ,            runtime,   ,   ,      : <br>       .     Objective-C         ‚Äî Runtime ‚Äî   .   ,          (DRY   ,   ,    ) <br>         ,       ? <br>      ‚Äî      ? <br>        ‚Äî        ? <br>       ,       (  ,   , ...). <br><br>  --  ,     (            ). <br><br>   ,     mogenerator   ,            ‚Äî      .  , ,      -    . <br><br> <b></b> <br><ul><li>      .xcdatamodel </li><li>   ,      ,    .    ,        </li></ul><br><br><h5> fastlane </h5><br>         <a href="https://github.com/KrauseFx/fastlane"></a> . <br>  ,    ,   ,    continuous delivery  . <br>   : <br><ul><li>    </li><li>      </li><li>   </li><li>   </li><li>     </li><li>         </li></ul><br>     <br><br>  ,  ,         ,      (AppleScript, Bash, Python, Ruby)     .       ,           .  ,        <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B5%25D0%25B4%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA">DSL</a> .   ,      DSL (         ),       ,      . FastLane ‚Äî      ,  DSL ‚Äî     . <br><br> <b></b> <br><ul><li> ,   . </li><li>     Continous delivery (  Jenkins, ) </li><li>     ,  , ,   .      (  Slack) </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>  Not found.    </li></ul><br><br><h5> YACC/LEX </h5><br> , ,   ,     DSL          .      ,   ,     : <br><ul><li> <a href="http://habrahabr.ru/post/191252/">http://habrahabr.ru/post/191252/</a> </li><li> <a href="http://habrahabr.ru/post/231731/">http://habrahabr.ru/post/231731/</a> </li></ul><br><br>    ,     ,     : <br><ul><li>           ‚Äî ,    DSL   -,    JSON/XML/‚Ä¶    . </li><li>         ,   ,        ,      ( -  ,        -,  -  -.) </li><li>      DSL   -  (    )     . (      YACC/LEX ‚Äî   ObjC  Swift  Ruby ( DSL   ‚Äî  ,   )) </li></ul><br><br>    ,     ‚Äî . <br><br> <b></b> <br><ul><li>   <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0_%25D0%2591%25D1%258D%25D0%25BA%25D1%2583%25D1%2581%25D0%25B0_%25E2%2580%2594_%25D0%259D%25D0%25B0%25D1%2583%25D1%2580%25D0%25B0"></a>   . </li><li>       (    C  ,     <a href="http://en.wikipedia.org/wiki/Abstract_syntax_tree">AST</a> ) </li><li>     ‚Äî   ,            </li></ul><br><br>  <b>disadvantages</b> <br><ul><li>     ‚Äî   - ,           -  . </li><li>       Runtime ‚Äî         . </li></ul><br><br><h4>  Instead of conclusion </h4><br> ,  ,        ,     ,      (  ,    ,     ),     ‚Äî       ( !)  ,     .       ,       ,   -        ‚Äî       . <br> ,     .  Until. </div><p>Source: <a href="https://habr.com/ru/post/254435/">https://habr.com/ru/post/254435/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254423/index.html">How to create and earn SaaS | Part 17 | Personal data and medical secrets in the cloud</a></li>
<li><a href="../254425/index.html">JSONB requests in PostgreSQL</a></li>
<li><a href="../254429/index.html">Driver packs and their indices</a></li>
<li><a href="../254431/index.html">Quite simple about minimal perfect graph-based hashing</a></li>
<li><a href="../254433/index.html">Polite invitation to develop</a></li>
<li><a href="../254437/index.html">Why does Kaspersky detect the HEUR: Trojan.Script.Generic Trojan on the site? (and possible remedy)</a></li>
<li><a href="../254439/index.html">Weekly build Vivaldi 1.0.141.2</a></li>
<li><a href="../254443/index.html">K-Meleon 75: current status, bugs, links, etc.</a></li>
<li><a href="../254445/index.html">Simulation of functional and physical events in a logical paradigm</a></li>
<li><a href="../254447/index.html">Presentation of speakers of the Desktop UI & Business Application conference. Pro backend</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>