<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple plan-fact analysis in Power BI Desktop. Part Two - Visualization</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Here is a continuation of the story about the plan-actual analysis in Power BI Desktop. The first part can be read here . If you want to rea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple plan-fact analysis in Power BI Desktop. Part Two - Visualization</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  Here is a continuation of the story about the plan-actual analysis in Power BI Desktop.  The first part can be read <a href="http://habrahabr.ru/post/262655/">here</a> .  If you want to read in general about the Power BI platform, then welcome <a href="http://habrahabr.ru/company/microsoft/blog/264051/">here</a> . <br>  Today I will talk about building interactive reports and quite a bit about creating calculated fields in Power BI Desktop.  Under the cat there will be a lot of gifs, so be careful with the traffic. <br><br><img src="https://habrastorage.org/files/612/639/78d/61263978d9784feb8f808edb26cb3428.png" alt="Power BI Desktop Appearance"><br>  <i>Figure 1. Power BI Desktop appearance</i> <br><a name="habracut"></a><br>  The appearance of Power BI Desktop in the report preparation mode is shown in the figure above.  In the "Visualization" panel, you can select the desired type of data display and further formatting.  The Fields panel displays all the tables, columns, and measures that are in the data model. <br>  Let's look at the process of preparing the report shown in the figure. <br>  To create any visualization, simply drag the fields containing the desired data into the report area.  Depending on the type of data, various aggregate functions as well as various visualization methods can be automatically applied to them.  In our case, we are interested in the fields "Date", "Plan (rub.)" And "Fact (rub)". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Figure 2 Dragging fields to report area</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/1c6/676/da7/1c6676da7a1f487bbfaadf293548f339.gif" alt="Dragging fields to report area"><br></div></div><br>  After dragging the fields into the report area, a table was formed that contains several columns.  The appearance of the data in the report area is configured using the "Visualization" panel.  The list of available ways to display data is not very large, but it is sufficient for many tasks.  In addition, Power BI Desktop has a monthly update cycle, which allows us to hope that the functionality will be expanded in the future. <br><br><img src="https://habrastorage.org/files/749/3bf/1f5/7493bf1f52ba43abaee2df9f7c50e0e1.png" alt="Render panel in Power BI Desktop"><br>  <i>Figure 3 The Visualization panel in Power BI Desktop</i> <br><br>  Select the ‚ÄúArea with Chart‚Äù visualization type and slightly increase the size of the chart.  Please note that the Visualization panel is context-sensitive and offers a different set of settings for each type of visualization. <br><br><div class="spoiler">  <b class="spoiler_title">Figure 4 Changing the type of visualization</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/92e/8e4/be3/92e8e4be34a044209d67e2a7eaefb4df.gif" alt="Change the type of visualization"><br></div></div><br><br>  In addition, two levels of filters are available for visualizations - at the level of the visual element and at the page level.  As the name suggests, the page level filter will be applied to all visual elements located on the report page.  You can filter by any fields in the data model.  In this case, apply a page level filter on the "Category" field, since  Only expense data is required in the report. <br><br><img src="https://habrastorage.org/files/84a/241/953/84a241953d3349d38d80c38920ead787.png" alt="Visual filters"><br>  <i>Figure 5 Visual Filters</i> <br><br><div class="spoiler">  <b class="spoiler_title">Figure 6 Applying a page filter</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/787/df4/e22/787df4e2234c4a999c964a0a2afbb900.gif" alt="Apply page filter"><br></div></div><br>  After applying the filter, you can slightly adjust the appearance of the diagram, for example, change colors.  This operation can be performed using the "Format" tab in the "Visualization" panel.  The formatting options are different for each type of visualization, and formatting is not available for text elements in principle.  For example, for an element of the type "Card" you can not change either the color or the font size.  For charts, you can customize the colors of elements, enable or disable data labels, etc.  It is extremely interesting to have such an inscription when choosing a color as ‚ÄúTheme Colors‚Äù.  Unfortunately, I could not find ways to create my own themes for Power BI Desktop, maybe this functionality will be available in the future. <br><br>  In our case, we will change the colors of the data, add a display of data labels, and also change the type of the X axis to categorical. <br><br><img src="https://habrastorage.org/files/f00/3ff/6c3/f003ff6c34f84d489bc2ef416664099f.png" alt="Chart formatting"><br>  <i>Figure 7 Formatting a Chart</i> <br><br><div class="spoiler">  <b class="spoiler_title">Figure 8 Changing the chart format</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/223/eb2/62b/223eb262b1e34b0c882d1e05f82ee374.gif" alt="Changing the format of the chart"><br></div></div><br>  In addition to the overall dynamics of expenditures, it is interesting for me to see in which categories the expenditures were within the framework of the plan, and for which of which there are deviations to the larger, smaller side.  To do this, add a bar chart with grouping. <br><br><div class="spoiler">  <b class="spoiler_title">Figure 9 Adding Bar Chart</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c50/aff/ac2/c50affac28ca46abbf6dac53664442b2.gif" alt="Adding Bar Chart"><br></div></div><br>  Notice that by default the data in the diagram is sorted alphabetically.  This is inconvenient, but you can always change the field and sort order.  The main limitation when setting up sorting for a visual element is that you can only sort by the fields whose data is present in the graph (see figure). <br><br><img src="https://habrastorage.org/files/178/13f/2cf/17813f2cf9b643cdb8c3eb0e61ce3e9e.png" alt="Figure 10 Sorting a Chart"><br>  <i>Figure 10 Sorting a Chart</i> <br><br>  If you need to sort by a field that is not involved in the visual element, use the ‚ÄúSort by column‚Äù functionality, which is available in data modeling mode. <br><br><img src="https://habrastorage.org/files/546/fec/8c5/546fec8c58da4b458905ae5d61c724c6.png" alt="Figure 11 Sort by column"><br>  <i>Figure 11 Sort by column</i> <br><br>  After adjusting the sorting and small formatting of the headings, the chart will look more pleasing to the eye: <br><br><img src="https://habrastorage.org/files/f67/587/c69/f67587c69e644fab9daf3f8a5902443e.png" alt="Figure 12 Formatted Chart"><br>  <i>Figure 12 Formatted Chart</i> <br><br>  After adding visual elements like ‚ÄúTree‚Äù and a sensor, the result is an interactive report that shows the dynamics of expenses, the distribution of expenses by categories and the ratio of planned indicators to actual ones. <br><br><div class="spoiler">  <b class="spoiler_title">Figure 13 Almost finished online report</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/2a2/449/432/2a2449432c6f4a419613cbf0e8991c73.gif" alt="Almost finished online report"><br></div></div><br>  So, the preparation of the report is almost complete, but for convenience, you need to add the ability to filter data by year.  Yes, you can use advanced page filters, but this is not very convenient.  Therefore, we use the slice visualization element.  If you simply drag the Date field and select the desired type of visualization, you will see a complete list of all dates, which is completely inconvenient. <br><br><img src="https://habrastorage.org/files/91c/2eb/485/91c2eb4850e942dba0b52777f6224332.png" alt="Figure 14 Incorrect slice display by date"><br>  <i>Figure 14 Incorrect slice display by date</i> <br><br>  In order for us to add a slice by year, we need to create a calculated column that will contain the value of the year.  This can be done both in the report mode and in the data modeling mode.  DAX formulas are used to create calculated columns and measures.  In our case, to create a column containing year values, we need a simple formula: Year = Year ([Date]).  The process of creating a calculated column and adding a slice to the report is shown in Figure 15. <br><br><div class="spoiler">  <b class="spoiler_title">Figure 15 Creating a calculated column and adding a slice</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/984/c9f/773/984c9f7736344d92a1517a77656f9882.gif" alt="Creating a calculated column and adding a slice"><br></div></div><br>  The report is almost ready, it remains only to add the name and logo of the company. <br><br><div class="spoiler">  <b class="spoiler_title">Figure 16. Adding a name and logo</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/919/fd7/fc4/919fd7fc4519461686577af00d376a41.gif" alt="Adding a name and logo"><br></div></div><br><br>  This concludes the second part of the article on plan-actual analysis in Power BI Desktop.  A big request to answer the survey about the usefulness and clarity of my articles.  Thank you for reading. </div><p>Source: <a href="https://habr.com/ru/post/264223/">https://habr.com/ru/post/264223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264209/index.html">PHP library for integration with the New Mail API</a></li>
<li><a href="../264213/index.html">Are you still using CJSON?</a></li>
<li><a href="../264217/index.html">Apply correlation in retail</a></li>
<li><a href="../264219/index.html">ipgeobase in nginx</a></li>
<li><a href="../264221/index.html">Oracle Exadata, or About the Use of Engineered Systems (Part 2)</a></li>
<li><a href="../264225/index.html">Parsim pod from Perl 5 with Perl 6</a></li>
<li><a href="../264227/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 1. "Key"</a></li>
<li><a href="../264229/index.html">Calque - a calculator that is more convenient than the browser console</a></li>
<li><a href="../264233/index.html">The complexity of building Python3 + Qt5 applications under Windows</a></li>
<li><a href="../264235/index.html">Mobile phones for / against special services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>