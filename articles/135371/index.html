<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We build a tracked Bluetooth robot with a camera. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part 1 
 Part 3 
 We continue to build a tracked robot. 
 In the first part, we picked up and, I hope, ordered all the necessary parts. By the way, I ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We build a tracked Bluetooth robot with a camera. Part 2</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/blogs/DIY/133414/">Part 1</a> <br>  <a href="http://habrahabr.ru/blogs/DIY/136224/">Part 3</a> <br>  We continue to build a tracked robot. <br>  In the <a href="http://habrahabr.ru/blogs/DIY/133414/">first part,</a> we picked up and, I hope, ordered all the necessary parts.  By the way, I recently checked that all Tamiya parts (tracks, platforms, gearbox) were in stock at Terraelectronica.  More expensive, of course, than from China, but nearby. <br>  Those who have already received the parts, probably already assembled the chassis. <br>  Now we will deal with onboard electronics, video subsystem and power. <br><a name="habracut"></a><br><h4>  Bluetooth </h4><br>  Motors are already connected to MotorShield.  It's time to connect with the PC. <br>  To do this, take the Bluetooth module and connect its pins T and R to pins 0 (Rx) and 1 (Tx) Arduino.  + and - we connect respectively to pins +5 and GND.  Do not confuse the polarity of the power supply - the module may burn out. <br>  When powering on the Arduino module should flash LED - it is ready to connect. <br>  We go to the PC, we are looking for a bluetooth device with the name ‚Äúlinvor‚Äù - this is the name of the module by default.  In the future, it, as well as the speed of work can be changed using AT commands.  (In particular, I configured mine to 115200 instead of 9600 and gave the name "BT1").  We pair the PC with the module using the code "1234".  The system should have 2 COM ports - one for outgoing connections, the other for incoming.  We are interested in exactly the first. <br><img src="https://habrastorage.org/storage2/5aa/819/c14/5aa819c14746c3c3583af567c040f55b.png"><br>  Write down the COM port number, it will come in handy later for us to connect.  If there are two ports in the properties of the device and you cannot determine which is outgoing, write both down, determine later using the poke method. <br><br><h4>  Video subsystem </h4><br>  At first I ordered this kit: <br><img src="https://habrastorage.org/storage2/972/c9c/b8f/972c9cb8f9d626fc40038c61e01755b2.png"><br>  But when I tried to get rid of the thick lace, I burned the camera.  If you are careful, then all you need is to fix the camera on the robot with a cog and apply 12V to it (from 9V, contrary to the statements of the Chinese, it does not work for me).  The transmitting part is ready. <br>  For the receiving part, there are two ways - buy a small TV for 4-7 "(I recently bought one myself) or connect it to a PC / laptop. <br>  For the second option, we will need to connect EasyCAP to the PC, install the driver and install any program that can display an image from the video capture device.  I am using <a href="http://deinterlace.sourceforge.net/">DScaler</a> . <br>  And in order to make it easier to use, I embedded the receiver and EasyCAP in the box from the receiver kit with the camera.  There you can also put the battery to power the receiver.  To do this, I cut holes in the rear wall for the antenna connector, receiver trim knobs and for the EasyCAP USB connector. <br>  Inside the box, connect the receiver's outputs to the CVRS and Audio inputs (if there is a microphone on the camera).  After removing the handle and antenna, push the receiver and EasyCAP into the holes.  We fix both devices to the bottom with double-sided or ordinary scotch tape. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/359608/"><img src="https://habrastorage.org/getpro/geektimes/post_images/87b/f71/b7d/87bf71b7d59bba8836e0a123ed26e31e.jpg" width="500" height="375" title="1.2GHz Receiver + EasyCAP" alt="1.2GHz Receiver+EasyCAP"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/359608/">1.2GHz Receiver + EasyCAP</a> " <br>  Outside, screw on the antenna and put on the cap and handle.  Connecting EasyCAP to a PC or laptop will be a complete extension cord. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/359607/"><img src="https://habrastorage.org/getpro/geektimes/post_images/e4d/23a/4ec/e4d23a4ecce07a0fa92a3972b2bc102a.jpg" width="500" height="382" title="1.2GHz Receiver + EasyCAP" alt="1.2GHz Receiver+EasyCAP"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/359607/">1.2GHz Receiver + EasyCAP</a> " <br>  At this stage, it is useful to turn on the power to the camera, turn on the receiver and try connecting to DScaler first to EasyCAP (the device can be seen as USB VideoGrabber) and then using the tuning knob on the receiver to catch the signal from the camera. <br>  If everything is collected correctly, congratulations - the video link is ready, you can indulge in it. <br><br><h4>  Pan &amp; Tilt </h4><br>  If you ordered a pan-tilt (PanTilt) pad and servo drives, then you need to assemble a camera mount.  All connections are made with the usual superglue, but be careful, servo drives stick tight!  Therefore it is worth checking everything twice. <br>  The camera on the platform is fastened with the connector down, towards the rotatable (Pan) servo. <br>  Before installing the camera, find the middle position of the rotary servo and put on the rocking chair in this position so that the camera is looking forward, fasten it with a screw. <br>  To the rotary servo I cut a bracket from white acrylic, with which it is a little more convenient to attach the entire structure to the platform.  You can directly with a long cog M3 or with the help of the U-shaped parts of the designer, like mine: <br><img src="https://habrastorage.org/storage1/63e50c22/5bac2c55/c743afee/3e5e2c83.jpg" alt="image"><br>  The servo drive is attached to the bracket itself with complete screws.  The designer screws are M4, so I had to drill holes in the board a little. <br>  Servomotors are connected as follows: brown and red wire - +5 and Gnd, respectively, orange - control signal.  The signal wire of the rotation servo is connected to the D10 pin of the Arduino, the signal wire of the camera tilt servo is connected to the D9 pin.  On the sensor shield there are convenient three-pin connectors GND, VCC, Dx for each digital pin Arduino.  Made specifically for this occasion - the plug connects directly without additional wiring. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Since I burned my camera, and its quality was not particularly high, I bought a Sony 1/3 "CCD module <br><img src="https://habrastorage.org/getpro/geektimes/post_images/b5a/e1c/44d/b5ae1c44d9e47080c3cc1c19110fe0ca.jpg" alt="image"><br>  Fortunately, the transmitter of the murdered camera survived, and I soldered it directly to the Sony camera, carefully dropping it out of the burnt-down cheap camera. <br>  I combined the power of the camera and the transmitter by soldering to one plug and tightening it into heat shrinkage. <br>  The transmitter has a yellow wire - a video input, a white one - an audio input, red and black as usual - + power and ground, but the power is from the transducer built into the cord, so you need to remember which wire went to the transmitter when you unsolder.  I did it like this: <br> <a href="http://fotki.yandex.ru/users/masterraven/view/359609/"><img src="https://habrastorage.org/getpro/geektimes/post_images/903/69f/8bc/90369f8bcb6083804b870d6ea2d9636e.jpg" width="500" height="363" title="Sony CCD camera &amp; amp; 1.2GHz Transmitter" alt="Sony CCD camera &amp;amp; 1.2GHz Transmitter"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/359609/">Sony CCD camera &amp; 1.2GHz Transmitter</a> " <br>  The transmitter heats up during operation, but this is a feature of its design, something the Chinese have namuzhili with power, apparently. <br><br><h4>  Nutrition </h4><br>  Motors and Arduino will be powered from the same source, for this we set the Ext / Ard switch on MotorShield to the Ard position.  Now the voltage of 7-12V can be fed through a standard Arduino power connector or via a MotorShield terminal block. <br>  To power the camera and the transmitter, you can use either a separate 12V battery <s>or such a</s> <a href="http://www.hobbyking.com/hobbyking/store/__18787__12V_2_5A_UBEC_2_5S_Lipoly_12_23v_.html"><s>booster</s></a> (recently sold): <br><img src="https://habrastorage.org/getpro/geektimes/post_images/d9c/78d/9bb/d9c78d9bbddd9857f41c139fe1314912.jpg" alt="image"><br>  Unfortunately, in the description on the HK error - from 2S it does not work, you still need 12v (3S) and more at the input. <br><br>  The battery is installed on the first floor.  Front floors can be fastened with a metal bracket from the designer so that the second floor does not hang out. <br><br>  Hooray, the hardware is ready.  It remains to write the firmware for the microcontroller and the program for the PC. <br><br>  <b>PS</b> Question - on New Year's holidays, is anyone going to do this or postpone writing the last article to the middle of January? </div><p>Source: <a href="https://habr.com/ru/post/135371/">https://habr.com/ru/post/135371/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135365/index.html">Ice Cream Sandwich launched on Kindle Fire</a></li>
<li><a href="../135366/index.html">Site application: based on Webasyst framework, you can now create websites</a></li>
<li><a href="../135368/index.html">Announced the best downloadable games in 2011 according to the People's Award Nevosoft</a></li>
<li><a href="../135369/index.html">RDP protection in accordance with GOST with the help of Rutoken EDS. Two Level TLS</a></li>
<li><a href="../135370/index.html">Repeated issues with accessibility to Google from Russia</a></li>
<li><a href="../135372/index.html">Present for the new year from @ pod2g: Unbound DJ for iOS 5.0.1</a></li>
<li><a href="../135373/index.html">Habraigra "Startup"</a></li>
<li><a href="../135374/index.html">Recall the 386SX and its features</a></li>
<li><a href="../135375/index.html">"Santa Claus Tablet" on iPad</a></li>
<li><a href="../135377/index.html">Chinese GPS earned in test mode</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>