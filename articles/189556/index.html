<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a Bashkir layout for Mac OS X</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Changing the operating system or device, if you write in some not very common language, for example, Bashkir - it is always a challenge. Therefore, pe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a Bashkir layout for Mac OS X</h1><div class="post__text post__text-html js-mediator-article">  Changing the operating system or device, if you write in some not very common language, for example, Bashkir - it is always a challenge.  Therefore, people still sit on Windows XP, with crooked custom layouts in the registry and equally crooked "Bashkir" fonts.  After all, even though it is crooked, it works.  For many years I sat on Windows and somehow did not even recall the existence of the problem, but when I relocated to a Mac, I found that by default in OS X there is no Bashkir layout.  I went to look for custom on the Internet, where I was also disappointed.  How so, like so many years have passed?  In the end, as it once was with Android, I decided to do everything on my own. <br><br>  In fact, there are problems not only among the Bashkirs, more numerous peoples still do not have their own layouts in the new OS or release them with a long delay.  Therefore, I will try to describe the creation process to help the same as I enthusiasts. <br><br><img src="https://habrastorage.org/storage2/664/b12/e99/664b12e995592341a81de2a0bf046a67.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  Bashkir alphabet </h4><br>  In order to better represent what will be discussed further, first take a look at the Bashkir alphabet.  In total there are 42 letters in it, of which 33 are letters of the Russian alphabet + 9 additional.  In my opinion - this is a lot, especially since some letters are used only for borrowing from Russian.  Such redundancy does not allow you to comfortably fit on the keyboards.  In general, many peoples in the former USSR who have experienced the influence of Stalinism have the same problem. <br><img src="https://habrastorage.org/storage2/002/c1b/bec/002c1bbec47a7dbc3215bae424fc112d.png" alt="image"><br><br><h4>  Principles used when creating layouts </h4><br>  Before you begin work, you need to try to formulate simple principles that can be repelled and applied in moments of doubt.  In my case, a part of the initial principles did not take root and fell off, faced with reality, I will tell about them below.  But those that remain: <br><ol><li>  Most people are accustomed to the standard layout in Windows, first released on Vista (hereinafter, PC layout).  Not everything is perfect in it, it is not the most convenient, but it has already taken root.  Therefore, in order to make the working tool as fast as possible, I pushed away from it.  And the original layout, which takes into account the real frequency of letters in a language, is the task of the near future. <br><img src="https://habrastorage.org/storage2/9a7/f07/97d/9a7f0797deb169ff99a74b50e8a9387c.jpg" alt="image"></li><li>  Compatibility of additional (typographical) characters with the English layout.  Very handy when you see what you can type on the physical keyboard.  In the Russian layout, many signs have found a place for themselves by the residual principle (and less), so we try not to focus on it (this applies only to additional characters). </li><li>  The numeric keypad goes under Option (Alt).  Yes, at first glance, this is a very dubious decision.  But there is no other choice, because the letters are used much more often. </li><li>  It is important that with the help of the Bashkir layout you could type texts in Russian without switching. </li></ol><br><br><h4>  Design </h4><br>  Before you start working in the editor, you need to list and draw all the states in which the keyboard can be.  These states depend on the modifier keystrokes, such as Command (cmd), Shift (), Control (ctrl), Option (alt), and Caps Lock.  In the case of the Bashkir keyboard, I have the following states: <br><br><ol><li>  The Bashkir alphabet is lowercase + basic punctuation - this is the <b>standard state,</b> the default; </li><li>  Bashkir uppercase + main punctuation marks - <b>Caps Lock;</b> </li><li>  The letters of the alphabet capital + main punctuation marks 2 - <b>Shift;</b> </li><li>  English qwerty lowercase (for commands and hotkeys, identical to the English layout) - <b>Command;</b> </li><li>  English QWERTY uppercase (identical to English layout) - <b>Command + Shift;</b> </li><li>  Additional characters + numbers - <b>Option;</b> </li><li>  Additional characters 2 - <b>Option + Shift;</b> </li><li>  Additional characters (identical to the English layout) - <b>Control.</b> </li></ol><br>  Honestly, in the course of the work, I constantly experimented and the states changed, added and removed.  For example, I tried to leave the numbers only in the state with pressed Command, but during the test it did not work, the text editor did not want to type text and waited for a command from the user.  In the end, won simple and familiar solutions. <br><br><h4>  Work in the editor </h4><br>  To create the layouts, I used the free <a href="http://scripts.sil.org/cms/scripts/page.php%3Fsite_id%3Dnrsi%26id%3Dukelele">Ukelele</a> program released by the <a href="http://www.sil.org/">SIL</a> community, which is known, for example, by developing good free fonts and language software. <br><br>  The file was taken as the basis of the existing Russian layout YSTUKEN.  There are 2 ways to do this: first, select Russian as the input source of the OS, then open the program in the <i>File - New From Current Input Source</i> menu (that is, new from the current input source);  second, open the layout file that <i>comes</i> with the program <i>System Keybords / Cyrillic / Russian.keylayout</i> <br><br>  All work happens in the visual editor, it is easy and convenient.  To assign a key to a key, double-click the virtual keyboard button.  To edit the state of the layout with the included modifier, you just need to press the modifier key, instead of the standard state, the state corresponding to the modifier will appear.  In order not to suffer constantly keeping the key pressed, turn on sticking in the <i>Menu - View - Sticky Modifiers.</i> <br><br>  An overview of all created states can be opened using command + shift + m (in the screenshot above, the numbering does not correspond to the one I asked at the beginning).  Below is separately indicated which of the states is standard (default set).  In the table we see which modifiers are used for each state. <br><br><img src="https://habrastorage.org/storage2/4b1/446/05b/4b144605b2db072ee078b8f804c361a7.png"><br><br>  You may need to create some kind of state yourself.  To do this, click "+", and select which modifiers to use.  Note that for the Shift, Option and Control keys you can assign the right or left key separately.  My state turned out to be similar to those in the Russian layout. <br><br><img src="https://habrastorage.org/storage2/b71/448/a7b/b71448a7bf4263f41e11f2e080991a53.png"><br><br>  After that, you need to choose which character set you will use. <br><ul><li>  If you select <i>Empty,</i> a blank layout with no symbols opens. </li><li>  <i>Standart</i> can open any of the common sets, such as the English QWERTY. </li><li>  And if you need to select an existing set, select the <i>Copy of existing map</i> item <i>.</i> </li></ul><br>  Apple has released more than a dozen different types of keyboards, differing in key layout and standards.  Therefore, it is necessary to constantly test the layout.  A list of all keyboards opens in <i>Menu - View - Keyboard Types.</i> <br><br><img src="https://habrastorage.org/storage2/4f2/00b/629/4f200b62950c31aed28cbe9ac2733c2e.png"><br><br>  Pay particular attention to the difference between ANSI and ISO types, the second one has more keys.  For example, I had a problem that in modern Apple Wireless ISO keyboards, the ‚Äú&gt;‚Äù key in the location of the ‚Äú` ‚Äùkey has the‚Äú&gt; ‚Äùkey next to the numbers, and when the user has an ANSI keyboard, the letter suddenly disappears.  At the same time, if you move it to the key ‚Äú` ‚Äù, to ISO it would not be in a row of numbers, but in the neighborhood of I in the 4th row.  In the end, while I had to leave the letter ”ò on both keys. <br><br><img src="https://habrastorage.org/storage2/6b5/be1/ada/6b5be1ada5f68b11f4908092f4f8e99a.png"><br><br>  In one of the intermediate versions of the layout, I had the idea to add compatibility with another popular layout in the tower, where additional letters are typed via alt.  But during testing, I realized that this is inconvenient. <br><br><img src="https://habrastorage.org/storage2/80c/78c/0d1/80c78c0d1d8356d09400af95ef9d6a26.png"><br><br><h4>  Final layout diagram </h4><br>  Due to differences in the configurations of the physical Mac keyboard, it was not possible to keep the top row with the additional additional letters of the Bashkir alphabet exactly the same as in the PC-layout.  For example, ‚Äú“¢‚Äù has moved to the ‚ÄúNo.‚Äù place, because ‚ÄúNo.‚Äù is definitely not a frequently used sign.  I would like to ask the authors of the original layout, how he got there at all.  The place of the colon is taken by a comma, because it is needed more often and marked on the physical keyboard.  When you press Shift, a comma takes the place of a semicolon, and the point - a colon, is quite easy to remember. <br><br><img src="https://habrastorage.org/storage2/042/edc/cc6/042edccc648f59f666f2e17ff5cad3c9.png"><br><br>  With the states when I pressed Option and Option + Shift, I ‚Äúplayed‚Äù the tag for the longest time.  But they helped me figure out a few rules.  Option moved all the numbers and signs of the top row (+ part of typographic characters shown on the physical keyboard) from the standard English layout, and Option + Shift from it the same as Shift.  I tried my best to use mnemonic rules, for example, the number is on the N key, and the euro sign is on the Latin key E. <br><br><img src="https://habrastorage.org/storage2/79d/f20/f26/79df20f26d0a16d2fc88c00a8b1d56db.png"><br><br>  The states with the pressed Command, as well as Command + Shift, as planned, fully correspond to the standard English layout, with Shift + Control - the English Control.  It is necessary for hot keys and keyboard navigation to work in the system and applications. <br><br><img src="https://habrastorage.org/storage2/004/b95/b63/004b95b63d27b035905ba199332d08a6.png"><br><br><h4>  Adding an icon </h4><br>  First, you need to create a reduced copy of the flag corresponding to the language, 16x12 px in size (or 16x11 px depending on what is drawn on the flag) in the graphic editor and save it in PNG format. <br><br><img src="https://habrastorage.org/storage2/f1f/897/392/f1f8973921cd8efbb365d42e838b2637.jpg"><br><br>  <i>You</i> can <i>convert</i> all this into the native format of the Makovsky .icns icons using the <a href="http://projects.digitalwaters.net/index.php%3Fq%3Dfasticns">fasticms</a> program <a href="http://projects.digitalwaters.net/index.php%3Fq%3Dfasticns">.</a>  After starting the program, a cube will appear on the screen where we drag the png file and save it as icns in the opened window. <br><br><img src="https://habrastorage.org/storage2/634/e84/8b4/634e848b4c7d3eeccdd0b8761fb7204d.png"><br><br>  To attach an icon to the layout go to <i>Menu - Keyboard - Attach Icon File.</i> <br><br><h4>  Setting advanced options </h4><br>  There are still a few more steps to be done before publishing the layout. <br><br>  It is necessary to add the name of the layout, which will be displayed in the system <i>(Menu ‚Äî Keyboard ‚Äî Set Keyboard Name).</i>  Examples of titles: ArmenianWesternQWERTY, Serbian-Latin and Turkish-QWERTY-PC.  I called my version of Bashkir-PC. <br><br>  Now you need to set the language, script, region and script version <i>(Menu ‚Äî Keyboard ‚Äî Set Keyboard Name).</i>  Cyrillic is used in the Bashkir language. <br><br><img src="https://habrastorage.org/storage2/70f/53c/ac6/70f53cac631a16c2428575e807233d6a.png"><br><br>  Do not forget to control the version of your layout <i>(Menu ‚Äî Keyboard ‚Äî Set Version Info).</i> <br><br>  That's all, now you can save files and use.  Please note that along with the main layout file in the <i>keylayout</i> format, the <i>icon</i> file in <i>icns</i> with the same name must be next to it. <br><br><img src="https://habrastorage.org/storage2/6aa/530/b42/6aa530b42aa8783277423b0eb98287ec.png"><br><br>  You can <a href="">download</a> and install the created Bashkir layout. <br>  Installation instructions are <a href="http://ildar.me/keymac/">on the project page.</a> <br><br><h4>  Additional materials on the topic </h4><br>  <a href="http://www.kaef.ru/blog/tatarcha_comp/28.html">Tatar layout</a> is an example of a layout where additional letters are inserted through AtlGr. <br><br>  <a href="http://www.koomandarbul.biz/blog/2010/12/19/mac-os-kyrgyz-keyboard/">Kyrgyz layout</a> <br><br>  <a href="http://appstudio.org/faq/faq-kak-sozdat-sobstvennuyu-raskladku-klaviatury-dlya-os-x.html">Another instruction for creating layouts in Ukelele</a> <br><br>  You can read the training materials that come with the program (folder Ukelele Tutorial). </div><p>Source: <a href="https://habr.com/ru/post/189556/">https://habr.com/ru/post/189556/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189544/index.html">Oracle 12c. We continue to review new features. SQL Text expansion</a></li>
<li><a href="../189546/index.html">Review Wexler.Tab 7b: tablet "for two rubles"</a></li>
<li><a href="../189548/index.html">Spectral analysis at home</a></li>
<li><a href="../189552/index.html">CUDA 5.5 released</a></li>
<li><a href="../189554/index.html">Holho: pseudo-holographic display for smartphones and tablets</a></li>
<li><a href="../189558/index.html">Xbox One: unboxing</a></li>
<li><a href="../189560/index.html">Social engineering: an educational program about an attack method that never becomes obsolete</a></li>
<li><a href="../189562/index.html">LG Optimus F5 - LTE in the middle segment</a></li>
<li><a href="../189564/index.html">Install any Linux distribution on Digital Ocean</a></li>
<li><a href="../189566/index.html">From the basement of the secret laboratory of the PVS-Studio developers ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>