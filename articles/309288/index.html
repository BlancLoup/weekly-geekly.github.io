<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Availability of ‚Äúcustom html controls for blind users</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The purpose of this post, on the one hand, is to demonstrate how blind users are difficult, and sometimes impossible to work with html controls that d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Availability of ‚Äúcustom html controls for blind users</h1><div class="post__text post__text-html js-mediator-article">  The purpose of this post, on the one hand, is to demonstrate how blind users are difficult, and sometimes impossible to work with html controls that do not implement accessibility requirements, and on the other, to show that these requirements are not difficult to implement. <br><a name="habracut"></a><br>  Here, on Habr√©, there have already been articles describing ways to achieve site accessibility, however, the accessibility issues of non-native html controls were addressed in the most general way, whereas I am sure that this is the main factor affecting web accessibility. <br><br>  By custom or non-native html controls here are understood to be controls represented by, for example, standard tags like: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  And just block elements with the appropriate visual design and event handlers of the type: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">"</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag">"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  I want to note that this article does not pretend to be a comprehensive guide to accessibility, it is intended only to give a general understanding and convey the importance of following the recommendations of wai-aria when using its own controls. <br><br>  Through one of the accessibility api supported by the browser, IAccessible2, windows automation and other assistive technologies, in this case the screen reader, obtains all the necessary information about the controls in the document being processed, but only when it is present. <br><br>  This is true for native elements like: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Or <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcheckbox‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  By default, they support all the necessary roles, properties, control keys and implement the corresponding logic. <br><br>  However, if the control is represented by a usual diva, with a corresponding visual design, then for the screen reader, and therefore for the user, this is just a div and nothing else. <br><br>  For example, this is what the screen reader will tell the blind user if they meet the standard checkbox: ‚Äúcheck me not checked‚Äù, that is, it will tell you the type of the element and its state, and if it does: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" checkbox on _settings_access "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" settings_a11y"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox(this); Settings.accessCheck(isChecked(this));"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  (real piece of layout located on the <a href="https://vk.com/settings">settings</a> page <a href="https://vk.com/settings">vk.com</a> ) then the screen reader will sound like this: ‚ÄúSpecial features clickable‚Äù (i.e., no information).  A blind user will not be able to determine not only the state of the element, but also its type.  In some cases, this element will be activated extremely unstable, and since the user cannot find out his current status, it becomes very difficult to use this option. <br><br>  This is what causes non-compliance with accessibility requirements.  Meanwhile, to comply with these requirements is extremely simple.  For example, in this particular case, it is enough just to do the following: assign the corresponding value to the role attribute; <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" checkbox on _settings_access "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" settings_a11y"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox(this); Settings.accessCheck(isChecked(this));"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  And now the screen reader recognizes the item as a checkbox; <br><br>  To process not only the onclick event, but also onkeydown, to allow users to activate the checkbox using the ‚Äúspace‚Äù key <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onkeydown</span></span></span><span class="hljs-tag">‚Äù</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">toggleCheckbox</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">evend</span></span></span><span class="hljs-tag">)‚Äù&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Function</span></span> toggleCheckbox(evend) { If (event.keyCode === <span class="hljs-number"><span class="hljs-number">32</span></span>){ ‚Ä¶ } }</code> </pre> <br>  Add logic for changing aria-checked property to event handling code js.  Something like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state = node.getAttribute(<span class="hljs-string"><span class="hljs-string">'aria-checked'</span></span>).toLowerCase() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state === <span class="hljs-string"><span class="hljs-string">'true'</span></span>) { node.setAttribute(<span class="hljs-string"><span class="hljs-string">'aria-checked'</span></span>, <span class="hljs-string"><span class="hljs-string">'true'</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { node.setAttribute(<span class="hljs-string"><span class="hljs-string">'aria-checked'</span></span>, <span class="hljs-string"><span class="hljs-string">'false'</span></span>) }</code> </pre> <br>  And that's all.  A small edit in the layout, a few lines of code and the element becomes fully accessible.  Of course, for other elements there may be a little more code, for example, a radiobutton, since  it is necessary to prescribe a bit more logic and process more keys, but in the end it‚Äôs still simple enough. <br><br>  On the page: <a href="https://www.w3.org/TR/wai-aria-practices-1.1/">WAI-ARIA Authoring Practices</a> A large number of examples of the implementation of various controls are presented. <br><br><h3>  Summary </h3><br>  The greatest problems for blind users are the inaccessibility of various controls.  Whenever possible, you should use specialized html tags, they are available by default and the maximum that is required is to install aria-label;  However, if this is not possible, then you should visit <a href="https://www.w3.org/TR/wai-aria-practices-1.1/">WAI-ARIA Authoring Practices</a> and see how it is recommended to implement this or that widget. </div><p>Source: <a href="https://habr.com/ru/post/309288/">https://habr.com/ru/post/309288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309276/index.html">Unusual jQuery and CSS selectors</a></li>
<li><a href="../309278/index.html">Criteria for optimal selection of CMS and CMF</a></li>
<li><a href="../309282/index.html">Providing VMware-based cloud resources with BILLmanager. Or how the new CloudLITE personal account appeared</a></li>
<li><a href="../309284/index.html">And a couple of words about the recording: Larisa, where are the files ???</a></li>
<li><a href="../309286/index.html">Solve puzzles of shamans in the World of Warcraft genetic algorithm</a></li>
<li><a href="../309290/index.html">Talk about clouds and a review of other interesting reports from the conference Datacenters Innovation Forum 2016</a></li>
<li><a href="../309292/index.html">GPS Spoofing in Practice: How to Catch All Pokemon Without Leaving Home</a></li>
<li><a href="../309294/index.html">Life in the conditions of total network connection</a></li>
<li><a href="../309296/index.html">Finite automata in the SimInTech dynamic simulation environment. Part 3. Go to the C code.</a></li>
<li><a href="../309298/index.html">The book "ES6 and not only"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>