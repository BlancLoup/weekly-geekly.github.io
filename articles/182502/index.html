<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>High Availability Optical Ring</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear Habrayuzer. 
 Would you like to tell you about the project implemented by our engineers to build a high-availability optical ring...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>High Availability Optical Ring</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, dear Habrayuzer. <br>  Would you like to tell you about the project implemented by our engineers to build a high-availability optical ring between our clouds in Moscow. <br><br><img src="https://habrastorage.org/storage2/c23/9a6/46b/c239a646bc81aa8e72f218b7bbb2a101.jpg"><br><a name="habracut"></a><br><br>  When building a fault-tolerant system capable of maintaining control and performance in case of damage, the cloud provider must place particularly high demands on its topology.  Such a fault-tolerant system provides for the connection of two or more data centers (DC) and corporate networks using fiber optic links, which allows not to transport the components of the storage system from one place to another to create a copy of the data. <br>  The two main competing topologies of the DC connection to the corporate optical networks are ‚Äústar‚Äù and ‚Äúring‚Äù.  In the event of failure of any node (or part of the cable system) of the ‚Äúring‚Äù, the network is generally functioning.  In addition, the ring topology is redundant in the number of links, and therefore more expensive.  In turn, the "star" is somewhat better suited to provide the centralized service that is usual for a local network.  Indeed, in a local area network (LAN) there is almost always a server or a router, for which the network is usually built.  Comparative characteristics of the ‚Äúring‚Äù and ‚Äústar‚Äù topologies are presented in the table. <img src="https://habrastorage.org/getpro/habr/post_images/330/ed7/08a/330ed708a1aa493498f25de98a59cf09.gif">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Comparing star and ring topologies</i> <br><img src="https://habrastorage.org/storage2/a89/15b/454/a8915b4547a3ea6fdcbed41d33c2c552.jpg"><br><br>  Ensuring the continuous operation of customer information systems located in the cloud is the main goal that the cloud hosting provider should set for itself, which means that increasing the SLA level will be the main task. <br>  Creating our own high-availability optical ring, the circuit of which is shown in the figure below, has allowed us to significantly increase the level of SLA, which we guarantee to our customers. <img src="http://habr.habrastorage.org/post_images/330/ed7/08a/330ed708a1aa493498f25de98a59cf09.gif"><br><br><img src="https://habrastorage.org/storage2/f19/ce4/4d0/f19ce44d06a6adfa1fa0df3888c887e7.jpg"><br><br>  The optical ring is built between our two clouds in Moscow, which are physically located in DC Tier 3, and the switching nodes M9 and M10.  The distance between the DC can be up to 100 km, in our case it is about 15 km.  The main feature of the ring is the absence of a single (critical) point of failure.  Optical channels are completely duplicated, and they are laid along different routes and different operators.  Thanks to this solution, the inaccessibility of services in the cloud is virtually eliminated due to problems with channels, since  even in the event of failure of one optical channel, all work will continue along another circuit and there will be no interruption.  In addition to the optical channels, all switches and routers are duplicated, which also provides automatic switching to the working circuit in case of failure of one of the routers or switches.  In addition to problems with channels, this scheme allows to exclude damage from earthworks, which for some reason are carried out exactly where the fiber optic line lies. <br>  The total bandwidth of the optical ring is 180 Gbit / s, of which 120 Gbit / s is the capacity between the DC, 20 Gbit / s between the first DC and the switching node M10, 20 Gbit / s between the switching nodes M10 and M9 and 20 Gbit / s - between the switching node M9 and the second DC.  Each of the routes consists of physically independent fiber optic pairs, which are aggregated into a common channel on the root routers. <br>  The entire network is physically divided into internal and external, different server interfaces are connected to different switches and work in different networks.  On the external network, the servers communicate with the Internet; on the internal network, all the servers communicate with each other.  The servers are connected to L2 and L3 switchboards, which, in turn, are connected by at least two 10-gigabit links to the aggregating stack of switches.  Each link goes to a separate switch in the stack. <br><br>  The optical ring is made on Summit switches of the Extreme company. <br><img src="https://habrastorage.org/storage2/2a0/3de/ca4/2a03deca489e8a85b77e4cd204743d87.jpg"><br><br>  In addition to the basic functionality based on the support of standard Ethernet technologies, Summit switches incorporate RPR (Resilient Packet Ring) technology.  This technology allows switches to form a ring topology, to provide recovery in less than 50 ms, and to efficiently use bandwidth in ring structures. <br>  Summit switches can have up to 24 mini-GBIC slots for installing 1000Base-X interface modules, 4 10/100 / 1000Base-T ports and 2 slots for installing 10GBase-X interface modules (XENPAK).  The bandwidth of the switching matrix is ‚Äã‚Äã160 Gbit / s, and the bandwidth per L3 is 65 million packets / s.  The switches support RIPv1 / 2, OSPF, BGP-4, PIM-SM, IGMP protocols, various QoS provisioning technologies on L1-L4, incl.  bandwidth limitation in increments of 64 Kbps (1 Mbps on 10 Gbps channels), 8 hardware-serviced queues on each port.  Power supply redundancy, external power supply, memory bank backup for storing configuration and ExtremeWare XOS operating system image are provided. <br>  The solution provides for the possibility of connecting to each node of the trunk ring via optical interfaces of aggregating nodes.  Access switches can be connected to each aggregating switch via optical interfaces to connect users. <br>  RPR technology is based on the standard second-channel Ethernet switching mechanism, supplemented by the RAD Data Communications algorithm.  The latter allows all nodes of the ring to receive information about the state of the network and in the event of an accident or abnormal situation, quickly transfer traffic to an alternative route. <br><br><img src="https://habrastorage.org/storage2/285/9c0/ad2/2859c0ad21e44e35b78279c6e1e12fb2.jpg"><br><br>  The RPR ring node is a network device that functions as a regular switch at the second level.  Each node has two trunk ports for transmitting traffic around the ring, as well as access ports through which traffic enters the ring, and user ports for delivering traffic to specific services.  In normal mode, all RPR nodes exchange special service messages.  Each node at certain intervals sends a message about the state of the link (link state) through both its trunk ports.  Even if there is no status message for the ring, the node must send ‚Äúkeep-alive‚Äù messages, meaning for the neighboring node that everything is in order.  When a node receives a service message indicating that its neighbor also received such a message, it considers the ring to function normally.  A channel is considered abnormal when a node receives a corresponding message or when a node does not receive any overhead messages for 30 ms.  In this case, the traffic starts in the opposite direction, bypassing the emergency site.  This algorithm allows us to combine the simplicity of conventional switching with the ability to quickly re-route traffic in the event of a failure. <br><br>  <b>Results:</b> <br><br>  Thus, a high availability optical ring can increase the availability of services in the cloud (SLA) to 99.99% or more.  This means that there is a unique opportunity to adapt the level of SLA of cloud services to the requirements of individual customers and industries, which is a huge competitive advantage.  Thanks to adaptable SLA, cloud providers have a differentiation method that is beneficial for both themselves and customers.  Not all customers need equally high guarantees of uptime.  For example, for a customer who uses the cloud to test applications, in most cases the same high SLA is not required as for customers who deploy critical systems in the cloud.  Understanding this fact will allow customers to significantly reduce their IT costs, and cloud providers can offer customers the necessary level of service and special prices in accordance with the chosen SLA level. <br><br>  <i>Ps All habra users are still provided with free test access to our cloud.</i> </div><p>Source: <a href="https://habr.com/ru/post/182502/">https://habr.com/ru/post/182502/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182476/index.html">Review of the first desktop IP phone on the Android platform - Grandstream GXP2200</a></li>
<li><a href="../182478/index.html">As I went to the sea with blue ... Just5</a></li>
<li><a href="../182482/index.html">Waiting for new MacBook Pro Retina or thinking about integrated graphics</a></li>
<li><a href="../182488/index.html">Can I cash in on users? 3 easy ways to increase application monetization</a></li>
<li><a href="../182494/index.html">Microsoft released another set of updates, June 2013</a></li>
<li><a href="../182504/index.html">IT infrastructure health metrics, thresholds and users of IT services</a></li>
<li><a href="../182506/index.html">Porting code to iOS / Android mobile devices</a></li>
<li><a href="../182508/index.html">Experiments with VMware</a></li>
<li><a href="../182512/index.html">Ekovozhdeniye with the new Cellocator IQ 50 terminal: a practical overview</a></li>
<li><a href="../182516/index.html">New chipsets from Texas Instruments will speed up charging time and increase battery life for smartphones and tablets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>