<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Accelerate javascript build using webpack 2-3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="More and more SPA appears  salons  . Even people landings sawing on React. A really complicated web application is already difficult to imagine with a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Accelerate javascript build using webpack 2-3</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  More and more SPA appears <del>  salons </del>  .  Even people landings sawing on React.  A really complicated web application is already difficult to imagine with a different approach.  One of the main problems of the modern frontend is the assembly of such projects.  With this help to deal with bandlers. <br><br>  Ivan Sosnin, frontend developer Kontur, tells how to set up webpack 2 and 3 in order to get a significant increase in the speed of static assembly.  The article will be useful to those who are already working with webpack or looking in his direction. </blockquote><p>  It is worth starting with the remark that <a href="https://medium.com/webpack/webpack-4-released-today-6cdb994702d4">webpack 4</a> recently <a href="https://medium.com/webpack/webpack-4-released-today-6cdb994702d4">came out</a> .  There, in general, everything is super-fast and nothing needs to be done, and the process of <a href="https://medium.com/webpack/webpack-4-code-splitting-chunk-graph-and-the-splitchunks-optimization-be739a861366">breaking the code into chunks</a> has changed. </p><br><p>  But dragging into production libraries that were updated yesterday is not my way. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/8f4/671/90c/8f467190c6989581dcfc1604b5d9fa6a.jpg" alt="Webpack"></p><br><p>  <a href="https://webpack.js.org/">Webpack</a> is a module builder (bandler).  It collects various modules with dependencies in one or several files (bundles).  Webpack has a modular architecture, which means that it can be flexibly configured.  Code building is configured using <a href="https://webpack.js.org/concepts/plugins/">plugins</a> , and code transformations are performed using <a href="https://webpack.js.org/concepts/loaders/">loaders</a> . </p><br><p>  If you want more basic details, you can read Rakhim Davletkaliev's <a href="https://habrahabr.ru/post/309306/">article</a> about webpack 1. It is a bit outdated, but the ideas and examples in it are given in detail. </p><br><p>  For all this flexibility you have to pay a complicated configuration. </p><a name="habracut"></a><br><p>  Setting up an earlier webpack was a creative process and could last forever.  The situation has changed somewhat with the release of the second version and the emergence of <a href="https://webpack.js.org/configuration/">coherent documentation</a> .  But there are a lot of settings that do not lie on the surface.  This is due to the fact that there are many open-source solutions that are embedded in the build process. </p><br><p>  Other collectors: </p><br><ul><li> <a href="https://github.com/browserify/browserify">browserify</a> - <code>require()</code> for the browser.  Opportunity is much inferior to the webpack (able to work only with JS); </li><li>  <a href="https://github.com/rollup/rollup">rollup</a> - position themselves as a collector, which generates the fastest and smallest bundles; </li><li>  <a href="https://github.com/parcel-bundler/parcel">parcel</a> is super-fast, but so far a green bundler that does not require configuration.  A curious animal, but for the time being it is applicable only on small projects ( <a href="https://github.com/parcel-bundler/parcel/issues/68">until recently, I</a> did not know how to source the map).  By the way, the webpack has already <a href="https://medium.com/webpack/webpack-4-beta-try-it-today-6b1d27d7d7e2">taken a step</a> towards zero configuration. </li></ul><br><h3 id="nemnogo-cifr">  Few numbers </h3><br><p>  We have quite a lot of client code in the project: ~ 2000 js / jsx files (~ 300,000 lines) and ~ 800 scss files (~ 50,000 lines).  All this beauty must somehow be collected and for this we use webpack 3. Obviously, with the growth of the code base, the build speed will not become higher.  This means that you need to look for ways to optimize assembly speed.  In general, there are already <a href="https://medium.com/ottofellercom/0-100-in-two-seconds-speed-up-webpack-465de691ed4a">quite a</a> <a href="https://github.com/webpack/docs/wiki/build-performance">lot of</a> <a href="http://engineering.invisionapp.com/post/optimizing-webpack/">articles</a> and <a href="https://github.com/webpack/webpack/issues/1574">discussions</a> on this topic, but they usually affect some one part of the assembly (caching, pre-vendor libraries, etc.).  I gathered various optimization directions with concrete examples. </p><br><p>  For different projects there were different results.  For example, in one adjacent project, the build speed increased from 3.5 minutes to 30 seconds.  For my project, the statistics are below. </p><br><table><thead><tr><th></th><th>  Before all changes </th><th>  After change </th></tr></thead><tbody><tr><td>  Cold build for production </td><td>  14 minutes </td><td>  3 minutes </td></tr><tr><td>  Rebuild for production </td><td>  12 minutes </td><td>  2 minutes </td></tr><tr><td>  Cold build for development </td><td>  17 minutes </td><td>  3 minutes </td></tr><tr><td>  Rebuild for development </td><td>  5 minutes </td><td>  30 seconds </td></tr></tbody></table><br><p>  The build process is the same in all cases: first you need to install dependencies, then build 4 applications in which there are several entry points. </p><br><p>  In this case, the "cold build" implies that all project caches are cleared (except for the local yarn cache, more on that later), there is no node_modules folder.  A rebuild involves restarting the assembly. </p><br><blockquote>  I split builds for production and development, because they have different configs, for example, there is no Uglify in the development build. <br><br>  Next, I will show which item exactly what change in speed allowed to achieve.  The numbers may well be inconsistent, because  At different moments of measurement there could be a different webpack configuration.  It is worth paying more attention to the order of the size of the changes. </blockquote><br><h2 id="chto-mozhno-optimizirovat">  What can be optimized? </h2><br><ul><li>  installation of dependencies; </li><li>  project build process; </li><li>  incremental rebuild (for development); </li><li>  reducing the amount of code that goes into the bundle (tree shaking); </li><li>  caching at different levels; </li><li>  Parallelization of individual stages of assembly. </li></ul><br><h3 id="ispolzuyte-npm-klient-kotoryy-umeet-v-keshirovanie">  Use an npm client that can cache. </h3><br><p>  I use <a href="https://github.com/yarnpkg/yarn">yarn</a> .  He has quite successfully released himself and solved many of the problems of the npm native client at that time. </p><br><blockquote>  In <a href="https://yarnpkg.com/blog/2016/10/11/introducing-yarn/">October 2016</a> , when yarn was released, npm was version <a href="">3.10.9</a> and until the release of version <a href="">5.0.0</a> it was still about six months.  Some problems that yarn solved: <br><ul><li>  the mechanism for fixing all dependencies was a crutch: there was only the <code>npm shrinkwrap</code> that created the lockfile; </li><li>  npm was highly dependent on network stability.  This problem was solved by the shrinkpack <a href="https://github.com/JamieMason/shrinkpack">tool</a> , which archived all current dependencies and replaced paths in the lockfile with local ones.  All anything, but all these thousands of archives had to be dragged into the repository.  And at any measure to catch conflicts in binaries.  You can learn more about this topic from an <a href="https://youtu.be/FlxpXoiiiT4%3Ft%3D5h18m52s">interesting report from WSD 2016 in Yekaterinburg</a> ; </li><li>  re-installation of packages, if nothing has changed, still lasted for a while; </li><li>  subjectively, but I was very pleased with the visual mode of updating packages: <code>yarn upgrade-interactive</code> , although <a href="https://github.com/th0r/npm-upgrade">there are analogues</a> for npm. </li></ul><br></blockquote><p>  Already there are alternatives to yarn: for example, npm has learned to cache, and there are still <a href="https://pnpm.js.org/">pnpm</a> , which in general node_modules only hardlinks create. </p><br><p>  Installation speed comparison on ~ 1300 packages: </p><br><table><thead><tr><th></th><th>  npm 5 </th><th>  yarn 0.24.6 </th><th>  pnpm </th></tr></thead><tbody><tr><td>  Installation with local cache </td><td>  ~ 1 minute </td><td>  ~ 3 minutes </td><td>  ~ 1 minute </td></tr><tr><td>  Reinstall </td><td>  ~ 20 seconds </td><td>  ~ 1 second </td><td>  ~ 1 second </td></tr><tr><td>  Lockfile </td><td>  Ô∏è ‚úì </td><td>  Ô∏è Ô∏è </td><td>  Ô∏è Ô∏è </td></tr></tbody></table><br><p>  You can read more amusing <a href="https://hackernoon.com/understanding-differences-between-npm-yarn-and-pnpm-31bb6b0c87b3">comparison on hackernoon</a> . </p><br><p>  And if you still do not fix dependencies in package.json - it's time to start. </p><br><h3 id="ispolzuyte-keshirovanie-u-babel-loader">  Use babel-loader caching </h3><br><p>  Of course, if you transform the code and use <a href="https://github.com/babel/babel-loader">babel</a> .  Webpack-config will be something like this: </p><br><pre> <code class="hljs pgsql">test: /\.jsx?$/, use: [{ loader: <span class="hljs-string"><span class="hljs-string">'babel-loader'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: { cacheDirectory: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> } }]</code> </pre> <br><p>  By default, the cache is added to <em>node_modules / .cache / babel-loader</em> , but you can specify a different directory. </p><br><p>  <strong>Difference: 667 seconds ‚ü∂ 614 seconds (8%)</strong> </p><br><h3 id="ispolzuyte-hardsourceplugin">  Use HardSourcePlugin </h3><br><p>  <a href="https://github.com/mzgoddard/hard-source-webpack-plugin">A plugin for webpack</a> that caches collected modules.  <a href="https://github.com/webpack/webpack/issues/250">There is a big issue</a> on caching in a webpack, the idea behind this plugin originated there.  The link is just the post author plugin. </p><br><p>  Connects to webpack config: </p><br><pre> <code class="hljs cs">plugins: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HardSourceWebpackPlugin() ]</code> </pre> <br><p>  By default, the cache is added to <em>node_modules / .cache / hard-source</em> , but you can specify a different directory. </p><br><p>  In my case, simply connecting this plug-in without a config gave a boost from 200 seconds to 50 (if there is a cache). </p><br><p>  When using webpack-dev-server and postcss you have to <a href="https://github.com/mzgoddard/hard-source-webpack-plugin">work with a file</a> . </p><br><p>  Noted problems: </p><br><ul><li>  sometimes does not see changes. </li></ul><br><p>  <strong>Difference: 275 sec. ‚ü∂ 53 sec. (80%)</strong> </p><br><h3 id="ispolzuyte-webpack-parallel-uglify-plugin">  Use webpack-parallel-uglify-plugin </h3><br><p>  <a href="https://github.com/mishoo/UglifyJS2">UglifyJS</a> is a tool that is used to minify JS code.  Webpack adds it to the plugins automatically, if you build a bundle with <a href="https://webpack.js.org/api/cli/">the -p flag</a> . </p><br><p>  There are 2 reasons for using <a href="https://github.com/gdborton/webpack-parallel-uglify-plugin">webpack-parallel-uglify-plugin</a> : </p><br><ul><li>  can cache; </li><li>  runs Uglify in parallel threads. </li></ul><br><p>  If you use this plugin, you will have to manually add it to the production assembly and no longer use the -p flag.  Config example: </p><br><pre> <code class="hljs pgsql">plugins: [ <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ParallelUglifyPlugin({ cacheDir: <span class="hljs-type"><span class="hljs-type">path</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">join</span></span>(dir.root, "node_modules", ".cache", "parallel-uglify"), uglifyJS: {<span class="hljs-comment"><span class="hljs-comment">/* uglifyjs options */</span></span>} }) ]</code> </pre> <br><p>  <strong>Difference: 627 seconds ‚ü∂ 391 seconds (38%)</strong> </p><br><h3 id="ne-ochischayte-katalog-sborki-proekta">  Do not clear the project build directory </h3><br><p>  This item follows from the above.  You should not delete node_modules before deploying client code. </p><br><h3 id="ispolzuyte-dllplugin">  Use DllPlugin </h3><br><p>  Many probably have library projects or frameworks that are used throughout the project.  Such libraries can not be rebuilt every time.  With this we will be helped by a couple of plugins built into the webpack: <a href="https://webpack.js.org/plugins/dll-plugin/">DllPlugin and DllReferencePlugin</a> . </p><br><p>  First you need to put in a separate config DLL assembly.  This is your usual webpack-config, where DllPlugin must be connected: </p><br><pre> <code class="hljs pgsql">// webpack.vendor-dll.config.js <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> webpack.DllPlugin({ <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'vendor'</span></span>, <span class="hljs-type"><span class="hljs-type">path</span></span>: <span class="hljs-string"><span class="hljs-string">'prebuild/'</span></span> + environment + <span class="hljs-string"><span class="hljs-string">'/vendor-manifest.json'</span></span>, })</code> </pre> <br><p>  The environment variable here is process.env.NODE_ENV.  Because I want to separate the developer and production DLL assembly. </p><br><blockquote>  To install process.env.NODE_ENV, you can look at the <a href="https://github.com/kentcdodds/cross-env">cross-env</a> package.  Then npm-script might look something like this: <code>"deploy:app1": "cross-env NODE_ENV=production webpack --progress --config ./path/to/app1/webpack.config.js",</code> </blockquote><p>  After building you will have 2 files: vendor-manifest.json and some dll.vendor.js.  They need to commit to the repository.  At least the production version. </p><br><p>  In your main config you need to add DllReferencePlugin: </p><br><pre> <code class="hljs lua">// webpack.<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.js new webpack.DllReferencePlugin({ manifest: <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./prebuild/'</span></span> + NODE_ENV + <span class="hljs-string"><span class="hljs-string">'/vendor-manifest.json'</span></span>), })</code> </pre> <br><p>  Perhaps you want the DLL you commit to the repository to be next to your bundles.  <a href="https://github.com/kevlened/copy-webpack-plugin">CopyWebpackPlugin</a> will help you <a href="https://github.com/kevlened/copy-webpack-plugin">here</a> : </p><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CopyWebpackPlugin([ { context: <span class="hljs-type"><span class="hljs-type">path</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">join</span></span>(__dirname, <span class="hljs-string"><span class="hljs-string">'prebuild'</span></span>, NODE_ENV), <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>: <span class="hljs-string"><span class="hljs-string">'*'</span></span>, }, ], { ignore: [ <span class="hljs-string"><span class="hljs-string">'webpack-vendor-assets.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'vendor-manifest.json'</span></span>, ], })</code> </pre> <br><h4 id="bolshe-primerov">  More examples </h4><br><ul><li>  <a href="https://github.com/webpack/webpack/tree/d6d6134ca634e1cc02d76be74341a43ff994dc7e/examples/dll-app-and-vendor">example in the webpack repository</a> ; </li><li>  <a href="https://github.com/vansosnin/webpack-dll-example">an example that I have prepared</a> . </li></ul><br><p>  <strong>Difference: 233 seconds ‚ü∂ 213 seconds (9%)</strong> </p><br><h3 id="ispolzuyte-css-loader--v015">  Use css-loader &lt;v0.15 </h3><br><p>  Starting with version 0.15, the css-loader <a href="https://github.com/webpack-contrib/css-loader/issues/124">began to slow down the build very much</a> .  Judging by the comments, <a href="https://github.com/webpack-contrib/css-loader/issues/124">some</a> assembly has slowed down more than 50 times.  In my case, the difference was, but not so big. </p><br><p>  The list of features which cannot be used at lower version: </p><br><ul><li>  <a href="https://github.com/webpack-contrib/css-loader">Composition</a> (you can <a href="https://github.com/webpack-contrib/css-loader/tree/51e11f3588c8bde66c5cd6b6d7b9bbbdeda671c4">inherit</a> instead) </li><li>  <a href="https://github.com/webpack-contrib/css-loader">camelCase</a> </li><li>  <a href="https://github.com/webpack-contrib/css-loader">Disable URL</a> </li><li>  <a href="https://github.com/webpack-contrib/css-loader">Alias</a> </li><li>  <a href="https://github.com/webpack-contrib/css-loader">@import disable</a> </li></ul><br><p>  But CSS Modules and scope can be used.  <a href="https://github.com/webpack-contrib/css-loader/tree/51e11f3588c8bde66c5cd6b6d7b9bbbdeda671c4">Full documentation for version 0.14.5</a> . </p><br><p>  <strong>Difference: 213 seconds ‚ü∂ 185 seconds (13%)</strong> </p><br><h3 id="ispolzuyte-commonschunkplugin">  Use CommonsChunkPlugin </h3><br><p>  <a href="https://webpack.js.org/plugins/commons-chunk-plugin/">This webpack plugin is</a> able to bring the general code of the specified modules into a separate chunk.  That is, if you have 2 bundles 1.bundle.js and 2.bundle.js, and both use, say, React and Redux, they will be in a separate chunk, but they will not be in bundles. </p><br><p>  An example and results of use can be found <a href="https://github.com/webpack/webpack/tree/master/examples/multiple-commons-chunks">in the webpack repository</a> .  And in more detail the work of the plugin is described <a href="https://stackoverflow.com/questions/39548175/can-someone-explain-webpacks-commonschunkplugin">in the topic on StackOverflow</a> . </p><br><p>  Config example: </p><br><pre> <code class="hljs pgsql">plugins: [ <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> webpack.optimize.CommonsChunkPlugin({ names: ["common", "manifest"], minChunks: <span class="hljs-keyword"><span class="hljs-keyword">Infinity</span></span> }) ]</code> </pre> <br><p>  At the same time I have one entry point (not minified) lost weight from 4.4 MB to 4.2 MB (5%). </p><br><p>  <strong>Difference: less than 10 seconds</strong> </p><br><p>  <a href="https://twitter.com/TheLarkInn/status/842817690951733248">Experiment</a> !  And <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer">study your bandy</a> !  And experiment again! </p><br><h3 id="ispolzuyte-nastroyku-noparse">  Use the noParse setting </h3><br><p>  <a href="https://webpack.js.org/configuration/module/">This webpack setting</a> allows <a href="https://webpack.js.org/configuration/module/">you</a> to avoid parsing certain libraries or files.  Webpack will simply add such a module to the bundle, without conversion. </p><br><p>  That is, if some library is delivered to npm in a minified form and there is no require in it, for example, the code that needs to be compiled, you can not run it through the webpack, because it will be useless and can be long, and immediately stick in the bundle. </p><br><p>  <strong>Difference: less than 10 seconds</strong> </p><br><h3 id="ispolzuyte-nastroyku-cache">  Use the cache setting </h3><br><p>  <a href="https://webpack.js.org/configuration/other-options/">This webpack setting</a> allows you to cache modules and chunks.  Enabled by default in <code>--watch</code> mode. </p><br><p>  <strong>Difference: less than 10 seconds</strong> </p><br><h3 id="ispolzuyte-contextreplacementplugin">  Use ContextReplacementPlugin </h3><br><p>  <a href="https://webpack.js.org/plugins/context-replacement-plugin/">This plugin is</a> not so much about the speed of assembly as about the size of the bundle.  <a href="https://momentjs.com/">Some libraries</a> pull a ton of trash when connected (for example, localization for a heap of languages).  With ContextReplacementPlugin, you can fix this: </p><br><pre> <code class="hljs coffeescript">plugins: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> webpack.ContextReplacementPlugin(<span class="hljs-regexp"><span class="hljs-regexp">/moment[\/\\]locale$/</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">/ru/</span></span>) ]</code> </pre> <br><p>  At the same time, I have one entry point (not minified) lost weight from 4.2 MB to 3.8 MB (10%).  CommonsChunkPlugin has been disabled. </p><br><p>  <strong>Difference: less than 10 seconds</strong> </p><br><h3 id="ispolzuyte-parallel-webpack">  Use parallel-webpack </h3><br><p>  Up to this point, we have accelerated the assembly of individual entry-points in various ways.  But if you have a lot of them, or a lot of different webpack-configs, they can be collected in parallel.  There is a <a href="https://github.com/trivago/parallel-webpack">wonderful wrapper</a> with which you can transfer an array of webpack-configs and they will be assembled in parallel. </p><br><p>  I got about this config: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app1Config = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./App1/webpack.config"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app2Config = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./App2/webpack.config"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app3Config = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./App3/webpack.config"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app4Config = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./App4/webpack.config"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = [ app1Config, app2Config, app3Config, app4Config ];</code> </pre> <br><p>  As a result, the assembly takes as much time as the assembly of the bold project itself takes. </p><br><p>  Noted problems: </p><br><ul><li>  writes logs only after collecting the bundle; </li><li>  <a href="https://github.com/trivago/parallel-webpack/issues/41">sometimes freezes</a> . </li></ul><br><p>  <strong>Difference: 178 sec. ‚ü∂ 119 sec. (33%)</strong> </p><br><h3 id="ispolzuyte-happypack">  Use HappyPack </h3><br><p>  <a href="https://github.com/amireh/happypack">This is a package</a> that runs all code transformations in parallel. </p><br><p>  To configure it, you need to drag the settings for the main loader to the HappyPack plugin settings: </p><br><pre> <code class="hljs lua">const HappyPack = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"happypack"</span></span>); // ... plugins: [ new HappyPack({ <span class="hljs-built_in"><span class="hljs-built_in">loaders</span></span>: [<span class="hljs-string"><span class="hljs-string">"babel-loader"</span></span>] }) ]</code> </pre> <br><p>  And instead add a happypack loader: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">module</span></span>: { <span class="hljs-attribute"><span class="hljs-attribute">rules</span></span>: [ { test: /\.jsx?$/, use: <span class="hljs-string"><span class="hljs-string">"happypack/loader"</span></span> } ] }</code> </pre> <br><p>  I got it on my Windows, but I didn't get a significant increase in speed, so I don't use HappyPack.  Apparently, I'm not the only one: <a href="https://github.com/amireh/happypack/issues/70">issue</a> , <a href="https://github.com/amireh/happypack/issues/188">issue</a> . </p><br><p>  <strong>Difference on Windows: less than 10 seconds</strong> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/351080/">https://habr.com/ru/post/351080/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351068/index.html">Program for digitizing graphs, drawings, drawings: algorithms for the project ‚ÄúTutor: Mathematics‚Äù</a></li>
<li><a href="../351070/index.html">Unexpected earnings difficulties on the Internet</a></li>
<li><a href="../351072/index.html">Password change: 10 steps to good implementation</a></li>
<li><a href="../351074/index.html">How to quickly write and roll out in the production of machine learning algorithm</a></li>
<li><a href="../351078/index.html">Performance and runtime at the JPoint 2018 conference</a></li>
<li><a href="../351082/index.html">Operating systems from scratch; Level 1 (younger half)</a></li>
<li><a href="../351084/index.html">Google leanback - big brother care</a></li>
<li><a href="../351086/index.html">Calculation of the timing and cost of projects: how is this done and is it possible to simplify the process?</a></li>
<li><a href="../351090/index.html">Welcome to the CocoaHeads Special Event March 24</a></li>
<li><a href="../351092/index.html">Count Joseph Flavius: whom to kill first</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>