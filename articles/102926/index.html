<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Managing CPU cores in Windows 7 or How to save battery</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, habra-man. 
 As you know, Microsoft has worked very well on its latest brainchild named Windows 7 and made many different innovations, one of w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Managing CPU cores in Windows 7 or How to save battery</h1><div class="post__text post__text-html js-mediator-article">  Hello, habra-man. <br>  As you know, Microsoft has worked very well on its latest brainchild named Windows 7 and made many different innovations, one of which I want to tell.  Especially true, I think it will be for owners of laptops and netbooks, but users of desktop systems can also get a profit. <br>  As you know, the biggest innovation in the G7 (after the GUI) is the redesigned ACPI subsystem.  Here and the normal support for multi-core systems, and power management devices, monitoring hardware, and much more, but one very interesting opportunity remains behind the scenes - we are talking about power consumption and core management of multi-core / multiprocessor systems. <br><a name="habracut"></a><br>  Windows 7 allows you to manage processor power, as well as assign activity / idle kernel policies. <br>  When working on multi-core processors, the threads rotate continuously between the cores and the system transfers the stream from the more loaded to the less loaded cores, which ensures a uniform load of all the cores, but also no less uniform power consumption, leads to performance loss and increased power consumption, and this affects the first queue on battery life.  Today I will try to "restore justice" by regular OS facilities. <br><br>  In Windows 7 and Windows 2008 R2, the function ‚ÄúProcessor performance core parking‚Äù was implemented or, in our opinion, the ‚ÄúKernel parking system‚Äù, which leaves the process running on the core on which it started, until it is fully completed.  This approach allows you to get a more dynamic system and significantly reduce energy consumption. <br>  Unlike normal operation, when processes are constantly transferred from one core to another, evenly loading the CPU, the parking system allows you to connect the cores as needed, trying to add all tasks to the minimum number of cores (ideally one). <br><br>  Example: On a four-core processor, only one core will be used during an idle period, the rest will be parked and disconnected, and the rest of the cores will be connected during the load period. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  And so, how to achieve such a feature? </h2><br>  First, add the following keys to the registry. <br> <code>Windows Registry Editor Version 5.00 <br> <br> [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power\PowerSettings\54533251-82be-4824-96c1-47b60b740d00\0cc5b647-c1df-4637-891a-dec35c318583] <br> "Attributes"=dword:00000000 <br> [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power\PowerSettings\54533251-82be-4824-96c1-47b60b740d00\3b04d4fd-1cc7-4f23-ab1c-d1337819c4bb] <br> "Attributes"=dword:00000000 <br> [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power\PowerSettings\54533251-82be-4824-96c1-47b60b740d00\5d76a2ca-e8c0-402f-a133-2158492d58ad] <br> "Attributes"=dword:00000000 <br> [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power\PowerSettings\54533251-82be-4824-96c1-47b60b740d00\a55612aa-f624-42c6-a443-7397d064c04f] <br> "Attributes"=dword:00000000 <br> [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power\PowerSettings\54533251-82be-4824-96c1-47b60b740d00\ea062031-0e34-4ff1-9b6d-eb1059334028] <br> "Attributes"=dword:00000000</code> <br> <br>  After that, go to <h6>  <b>Control Panel -&gt; Power Supply -&gt; Power Plan Setting -&gt; Change Advanced Power Settings -&gt; Processor Power Management</b> </h6>  and set the following parameter values: <br><ul><li>  Minimum number of cores in idle state (Processor performance core parking min cores) - Set 25% for four core processors (one core) - or 50% for two core processors. </li><li>  Allow Power Reduction States (Allow Throttle States) - Enable. </li><li>  Disable CPU idle (Processor idle disable) - Enable idle state. </li><li>  Core overhead processor override - Disabled. </li><li>  Maximum number of cores in idle state (Processor performance core parking max cores) - Install 100% (use all cores) </li></ul><img src="https://habrastorage.org/storage/18ce049a/4ed717df/417e51b5/b9c097ac.png"><br><br>  After applying the new parameters, you can safely go to the "monitoring of resources" and admire the fact that most of the cores are disabled <br><br><img src="https://habrastorage.org/storage/70eb5146/425d6982/947a1257/a123b4f0.png"><br><br>  That's all.  We got the policy of using cores ‚Äúas long as one core is enough for us (or how many you specify there) - we use one core‚Äù, save the battery, and also the system became more responsive. <br><br>  UPD: I will share my test - my HP Pavilion dv8-1150er used to work from a fully charged battery - 3-3.5 hours, now it lasts for 4.5 hours. </div><p>Source: <a href="https://habr.com/ru/post/102926/">https://habr.com/ru/post/102926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102912/index.html">How to use PivotViewer for Silverlight in a real project (part I)</a></li>
<li><a href="../102915/index.html">"Feature" in IPSEC implementation of Draytek routers VPN</a></li>
<li><a href="../102921/index.html">Commodore USA Announces Atom-Based C64 Replica</a></li>
<li><a href="../102924/index.html">WebSocket vs. Polling</a></li>
<li><a href="../102925/index.html">Almost 32% of Americans polled shout at computers when they encounter any problems.</a></li>
<li><a href="../102932/index.html">Chromium 7 "kills" trumps IE 9</a></li>
<li><a href="../102933/index.html">Crab cake is not a cake</a></li>
<li><a href="../102939/index.html">Google Chrome Labs</a></li>
<li><a href="../102943/index.html">Javascript fluent html builder</a></li>
<li><a href="../102944/index.html">How to find your first customer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>