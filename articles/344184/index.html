<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development patterns: MVC vs MVP vs MVVM vs MVI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator: this article is a reworking of the English article on development patterns. In the process of adaptation to Russian, a lot had to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development patterns: MVC vs MVP vs MVVM vs MVI</h1><div class="post__text post__text-html js-mediator-article"><p>  From the translator: this article is a reworking of the English article on development patterns.  In the process of adaptation to Russian, a lot had to be changed.  <a href="https://academy.realm.io/posts/mvc-vs-mvp-vs-mvvm-vs-mvi-mobilization-moskala/">Original</a> </p><br><hr><br><p>  The choice between different development patterns is always accompanied by a series of disputes and discussions, and the different views of the developers on this complicate the task even more.  Is there a solution to this ideological problem?  Let's talk about MVC, MVP, MVVM and MVI pragmatically.  Let's answer the questions: ‚ÄúWhy?‚Äù, ‚ÄúHow to find a consensus?‚Äù </p><a name="habracut"></a><br><h3>  Introduction </h3><br><p>  The question of choosing between MVC, MVP, MVVM and MVI touched me when I was making an app for Warta Mobile with my team.  We needed to move from a minimally viable product to a proven and fully equipped application, and we knew that it would be necessary to introduce some kind of architecture. </p><br><p>  Many have an unshakable opinion about the various development patterns.  But when you consider an architecture, such as MVC, it would seem that completely standard and specific elements: model (Model), view (View) and controller (Controller), different people describe in different ways. </p><br><p>  Trygve Reenskaug - invented and defined MVC.  24 years after that, he described it not as an architecture, but as a collection of real models that were based on the idea of ‚Äã‚ÄãMVC. </p><br><p>  I came to the conclusion that since each project is unique, there is no perfect architecture. </p><br><p>  It is necessary to consider in detail the various ways of implementation, and think about the advantages and disadvantages of each. <br></p><br><h3>  What do we want to achieve? </h3><br><h4>  Scalability, maintainability, reliability </h4><br><p>  Obviously, <b>scalability</b> is the ability to expand the project, implement new functions. </p><br><p>  <b>Maintainability</b> ‚Äî can be defined as the need for small, atomic changes after all functions are implemented.  For example, it may be a color change in the user interface.  The better the project maintainability, the easier it is for new developers to support the project. </p><br><p>  <b>Reliability (reliability)</b> - it is clear that no one will waste your nerves on unstable applications! </p><br><h4>  Separation of responsibility, code reuse, testability </h4><br><p>  The most important element here is the Separation of Concerns: <b>different ideas should be separated</b> .  If we want to change something, we don‚Äôt have to go to different parts of the code. </p><br><p>  Without shared responsibility, neither <b>Code Reusability</b> nor <b>Testability is</b> almost impossible to implement. </p><br><p>  The key is <b>independence</b> , as Uncle Bob noted in Clean Architecture.  For example, if you use the library to upload images, you do not want to use another library to solve the problems created first!  Independence in the architecture of the application - partially realizes scalability and maintainability. </p><br><h4>  Model View Controller </h4><br><p>  The MVC architecture has two options: a <b>supervisor controller (supervising controller)</b> and a <b>passive view (passive view)</b> . </p><br><p>  In the mobile ecosystem, the implementation of the controller-supervisor is almost never encountered. </p><br><p>  The MVC architecture can be characterized by two points: </p><br><ul><li>  The view is a <b>visual projection of the model.</b> </li><li>  The controller is the <b>connection between the user and the system.</b> </li></ul><br><p><img src="https://habrastorage.org/getpro/habr/post_images/21c/f57/390/21cf573907dcd9a3109974ac18dc1a7c.png"></p><br><p>  The diagram illustrates the ideology of the pattern.  Here, the presentation defines both listeners and callbacks;  the view passes the input to the controller. </p><br><p>  The controller accepts input data, and the view - the output, but a large number of operations occur between them.  This architecture is well suited only for small projects. </p><br><h4>  MVC passive presentation </h4><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7c8/498/36a/7c849836a7235e37a463e18b74460a21.png"></p><br><p>  The main idea of ‚Äã‚Äãthe passive MVC view is that the view is completely controlled by the controller.  In addition, the code is clearly divided into two levels: business logic and display logic: </p><br><ul><li>  Business logic - how the application works </li></ul><br>  Display logic - how the application looks <br><br><h4>  Massive view controller </h4><br><p>  <b>It is impossible to treat Activiti as a view</b> .  It is necessary to consider it as a display layer, and make the controller itself in a separate class. </p><br><p>  And in order to reduce the code of the view controllers, you can split the views or define subviews with their own controllers.  Implementing the MVC pattern in this way makes it easy to break the code into modules. </p><br><p>  However, with this approach, there are some problems: </p><br><ul><li>  Combining display logic and business logic </li><li>  Test Difficulties </li></ul><br><p>  The solution to these problems lies in the creation of an abstract interface for the presentation.  Thus, the presenter will only work with this abstraction, not the presentation itself.  Tests will be simple, and problems solved. </p><br><p>  All this is the main idea of ‚Äã‚ÄãMVP. </p><br><h4>  Model View Presenter </h4><br><p>  This architecture facilitates unit testing, the <b>presenter</b> is easy to write tests, and can also be reused because the presentation can implement multiple interfaces. </p><br><p>  From the point of view of how best and more correctly to create interfaces, it is necessary to consider MVP and MVC only as basic ideas, and not development patterns. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c99/af4/d93/c99af4d9379048b44ae882d34c2a01f3.png"></p><br><h4>  Use cases </h4><br><p>  Creating <b>use cases</b> is the process of putting business logic into separate classes, making them part of the model.  They are independent of the controller and each contains one business rule.  This increases reusability and makes writing tests easier. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/267/894/dbf/267894dbfa91527050ffe3a59d8af241.png"></p><br><p>  In the <a href="https://github.com/MarcinMoskala/MVTest/tree/MVC-UseCases/app/src/main/java/com/mvtest/marcinmoskala/mvtest">GitHub</a> example, in the login controller, the use case of validation and the use case of the login are passed.  Login makes a connection to the network.  If there are general business rules in other controllers or presenters, it will be possible to reuse these use cases. </p><br><h4>  View Bindings </h4><br><p>  There are four linear functions in the <a href="">MVP implementation</a> that do nothing except small changes in the user interface.  You can avoid this extra code by using <b>view binding</b> . </p><br><p>  All ways of binding can be found <a href="https://github.com/MarcinMoskala/KotlinAndroidViewBindings">here</a> . </p><br><p>  Here is a simple approach: it is easy to test, and it is even easier to present the elements of the presentation as parameters via the interface, and not functions. </p><br><p>  It should be noted that from the point of view of the presenter - nothing has changed. </p><br><h4>  Model View View-Model </h4><br><p>  There is another way of binding: instead of binding the view to the interface, we bind the elements of the view to the parameters of the view model ‚Äî such an architecture is called MVVM.  In our example, the email, password, and markup fields are defined using bindings.  When we change the parameters in our model, changes are also made to the markup. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7e0/ab4/4cd/7e0ab44cd6c4fea03809bf4ec031ac48.png"></p><br><p>  ViewModels are simple to write tests, because they do not require writing mock objects ‚Äî because you change your own element and then check how it has changed. </p><br><h4>  Model View Intent </h4><br><p>  Another element that you can enter in an architecture is usually called MVI. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/042/4db/582/0424db5822508cb000eda3038610f6d3.png"></p><br><p>  If you take any markup element, such as a button, you can say that the button does nothing, except that it produces any data, in particular, it sends information that it is pressed or not. </p><br><p>  In the <b>RxJava</b> library, what creates events is called observable, that is, the button will be <b>observable</b> in the reactive programming paradigm. </p><br><p>  But TextView only displays some text and does not create any data.  In RxJava, elements that only accept data are called <b>consumer</b> . </p><br><p>  There are also elements that do both, that is, that is, they both receive and send information, such as TextEdit.  Such an element is also the creator (producer) and receiver (receiver), and in RxJava it is called <b>subject</b> . </p><br><p>  With this approach, everything is a stream, and each stream starts from the moment a producer begins to emit information, and ends at a receiver, which, in turn, receives information.  As a result, the application can be viewed as data streams.  <b>Data streams are the main idea of ‚Äã‚ÄãRxJava</b> . </p><br><h3>  Conclusion </h3><br><p>  Despite the fact that the implementation of the division of responsibility requires effort, it is a good way to improve the quality of the code as a whole, to make it scalable, easy to understand and reliable. </p><br><p>  Other patterns, such as MVVM, removal of the template code, MVI can improve scalability even more, but make the project dependent on RxJava. </p><br><p>  Also, it should be remembered that you can select only a part of these elements, and configure them for the final application depending on the tasks. </p><br><p>  All source code can be found <a href="https://github.com/MarcinMoskala/MVTest">here</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/344184/">https://habr.com/ru/post/344184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344172/index.html">Malfunctions of the site. How to effectively organize the support of web resources by third-party services</a></li>
<li><a href="../344174/index.html">How I came up with and used the format of storing the results of experiments Measurelook</a></li>
<li><a href="../344178/index.html">Postmortem Shadow Tactics: Blades of the Shogun</a></li>
<li><a href="../344180/index.html">Trading supervised: an example of a business monitoring system</a></li>
<li><a href="../344182/index.html">Examination of internal FPGA defects: we are looking for a black cat in a dark room</a></li>
<li><a href="../344186/index.html">How many English words do you need to learn to communicate and read articles? (spoiler: 3000)</a></li>
<li><a href="../344188/index.html">Monitoring of engineering infrastructure in the data center. Part 4. Network infrastructure: physical equipment</a></li>
<li><a href="../344190/index.html">SEO or AdWords? What is more profitable for a b2b company in 2017</a></li>
<li><a href="../344192/index.html">Python literature review for beginners</a></li>
<li><a href="../344194/index.html">Search for an object in an image using a perceptual hash</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>