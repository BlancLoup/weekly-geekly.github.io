<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ubuntu DSVM Review: Alchemy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In recent months, in several projects, our partner has been using a Ubuntu-based virtual machine for data processing and analysis (DSVM) based on Micr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ubuntu DSVM Review: Alchemy</h1><div class="post__text post__text-html js-mediator-article">  In recent months, in several projects, our partner has been using a Ubuntu-based virtual machine for data processing and analysis (DSVM) based on Microsoft.  He decided to try it out already using the Amazon product.  Consider all the pros and cons, as well as compare our tool with similar solutions.  Join now! <br><br><img src="https://habrastorage.org/webt/me/e4/rb/mee4rbu4x7lzjkcpvccbchrux5c.jpeg"><a name="habracut"></a><br><br>  <i>I give the word <a href="https://www.pyimagesearch.com/author/adrian/">to the author</a> .</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At first, I didn‚Äôt really want to test it in action ‚Äî I already had a <a href="https://www.pyimagesearch.com/2017/09/20/pre-configured-amazon-aws-deep-learning-ami-with-python/">tuned AMI instance for deep learning in Amazon AWS</a> .  I often use it, and it is available to all PyImageSearch readers for use in their own projects. <br><br><img src="https://habrastorage.org/webt/n6/yg/tn/n6ygtnfr0hfjbuvw5un0wzdxlcy.jpeg"><br><br>  I‚Äôm not a fan of the Amazon AWS UI, but over the years I have adapted to it.  I guess there is something familiar about his awkward complexity.  However, I came across so good reviews about Ubuntu DSVM that I finally decided to try it out.  And she exceeded all my expectations.  More convenient interface.  Excellent performance.  Reasonable price. <br><br>  ... And besides, all the code from the book Deep Learning for Computer Vision with Python worked on it without a single change.  Microsoft kindly allowed me to publish a number of guest articles on the company's machine learning blog, in which I appreciated the virtual machine and shared my impressions of its use and testing: <br><br><ul><li>  <a href="https://blogs.technet.microsoft.com/machinelearning/2018/01/18/deep-learning-computer-vision-in-the-microsoft-azure-cloud/">Deep learning and computer vision in the Microsoft Azure cloud</a> ; </li><li>  <a href="https://blogs.technet.microsoft.com/machinelearning/2018/02/22/22-minutes-to-2nd-place-in-a-kaggle-competition-with-deep-learning-azure/">Algorithms of deep learning and Azure technology made it possible to take second place in one of the Kaggle competitions in just 22 minutes</a> ; </li><li>  <a href="https://blogs.technet.microsoft.com/machinelearning/2018/03/21/training-state-of-the-art-neural-networks-in-the-microsoft-azure-cloud/">Learning advanced neural networks in the Microsoft Azure cloud</a> . </li></ul><br>  Microsoft is actively working to ensure that their environment is considered as a priority when choosing a cloud platform for in-depth training, machine learning, data processing and analysis.  The quality of their DSVM product is a clear illustration of this aspiration. <br><br>  In this article, I would like to share thoughts about DSVM, show how to run the first instance of the machine, and start executing the code for deep learning on it.  If you are interested in a virtual machine for deep learning from Microsoft (and you want to understand whether it is suitable for solving your problems), this article is for you. <br><br><h2>  Deep Learning Microsoft Virtual Machine: Overview </h2><br>  When I first met the Microsoft virtual machine for deep learning, data processing and analysis (DSVM), I took all the code samples from the book <a href="https://www.pyimagesearch.com/deep-learning-computer-vision-python-book/">Deep Learning for Computer Vision with Python</a> and ran each of them in DSVM.  Manual launch of each sample and verification of results is a monotonous work, but it helped to study the features of DSVM and evaluate it by the following parameters: <br><br><ul><li>  The ability to use by beginners (i.e. people who are just starting to get acquainted with deep learning); </li><li>  The ability to solve practical problems in which it is important to prepare a model of deep learning and quickly assess the effectiveness; </li><li>  The ability to solve research problems, that is, to train deep neural networks on large graphic data sets. </li></ul><br>  The program code accompanying the book Deep Learning for Computer Vision with Python is great for this kind of test. <br><br>  The code from the Starter Bundle package is intended for the first acquaintance with image classification, deep learning and convolutional neural networks (SNS).  If this code is executed without any problems in DSVM, it means that the machine can be recommended to beginners who need a ready-made environment for learning deep learning. <br><br>  The training materials and the enclosed code from the Practitioner Bundle package are devoted to much more advanced technologies (transfer of training, fine-tuning of generative-competitive networks, etc.).  Such technologies are used in their daily work by practitioners and engineers. <br><br>  If DSVM can cope with these examples, then it can be recommended to practicing specialists in the field of deep learning.  And finally, to run the code from the ImageNet Bundle package, you need a productive GPU (the more powerful, the better) and high bandwidth I / O operations.  Within this package, I show how to reproduce the results from the most advanced publications (for example, in ResNet, SqueezeNet, etc.) obtained on huge graphic data sets (for example, the ImageNet set, consisting of 1.2 million images). <br><br>  If DSVM is able to reproduce the results of the most advanced articles, then it can be recommended to researchers.  In the first half of the article I will present the results of each of the described tests and my personal impressions.  Then I will show you how to run your first copy of the deep learning system in the Microsoft cloud and execute the first piece of the corresponding code in DSVM. <br><br><h2>  Comprehensive set of deep learning libraries </h2><br><img src="https://habrastorage.org/webt/z2/7v/bf/z27vbfq3eyurzguw6a8dnln7owe.png"><br><br>  <i>Fig.</i>  <i>1. The illustration shows the packages that are installed on the Microsoft Azure virtual machine for processing and analyzing data.</i>  <i>They are already set up and ready to use.</i> <br><br>  Microsoft's deep learning virtual machine runs in the Azure cloud, which is also owned by the corporation.  Technically, it can run both Windows and Linux, but for deep learning projects I would recommend using the company‚Äôs Ubuntu DSVM instance (unless you have a reason to use Windows). <br><br>  The list of packages pre-installed on DSVM is quite extensive - a full list is available here.  Below, I have listed the most important packages for solving deep learning and computer vision problems (in particular, those that might interest the PyImageSearch readers) so that you can imagine how many there are. <br><br><ul><li>  Tensorflow </li><li>  Keras </li><li>  mxnet </li><li>  Caffe / Caffe2 </li><li>  Torch / PyTorch </li><li>  Opencv </li><li>  Jupyter </li><li>  CUDA and cuDNN </li><li>  Python 3 </li></ul><br>  The creators of DSVM release new versions of the machine with the most current pre-installed and customized versions of the packages every few months.  This is a huge amount of work, demonstrating both the incredible efforts of the DSVM team in terms of ensuring stable operation of the instance (eliminating potential conflicts between DSVM packages should be a daunting task, but the machine is completely transparent to the user) and Microsoft‚Äôs desire to produce convenient and pleasant to users. <br><br><h2>  What about the GPU? </h2><br>  To run DSVM, you can use both instances equipped only with CPUs, and instances with GPUs. <br><br>  Most of the experiments and tests described below were performed on an instance of Ubuntu GPU, which is equipped with a standard NVIDIA K80 GPU.  In addition, Microsoft provided me with access to the recently released NVIDIA V100 monster, and I ran a few quick tests on it (the results are below).  To conduct all the experiments within the Starter Bundle and Practitioner Bundle packages, I used Microsoft Jupyter Notebook.  The process was incredibly simple. <br><br>  I copied and pasted the Jupyter Notebook server URL into the address bar of the browser, launched a new notepad, and after a few minutes I executed code snippets from the book. <br>  I used SSH to experiment with ImageNet Bundle, since reproducing the results from the most advanced publications requires spending a few days on training.  Besides, it seems to me that this is not the best way to use Jupyter notebooks. <br><br><h2>  Convenience for beginners in the field of deep learning </h2><br><img src="https://habrastorage.org/webt/pm/6j/pd/pm6jpdmv8ldjz64ltvtpprsvb6i.jpeg"><br><br>  <i>Fig.</i>  <i>2. Learning the LeNet architecture on the MNIST dataset.</i>  <i>This combination is often called "Hello World Deep Learning"</i> <br><br>  As part of my <a href="https://blogs.technet.microsoft.com/machinelearning/2018/01/18/deep-learning-computer-vision-in-the-microsoft-azure-cloud/">first</a> guest blog post on Microsoft, I trained a simple convolutional neural network (LeNet) on the MNIST handwritten number set.  Learning LeNet on the MNIST suite is likely to be the first ‚Äúreal‚Äù experiment for a newcomer to master the technology of deep learning. <br><br>  Both the model and the data set are organized very clearly.  For training, you can use the CPU or GPU.  I took a sample code from the 14th chapter of the book Deep Learning for Computer Vision with Python (Starter Bundle package) and ran it in the Jupyter Notebook (available <a href="https://github.com/jrosebr1/microsoft-dsvm/blob/master/pyimagesearch-training-your-first-cnn.ipynb">here</a> ) on Microsoft DSVM.  The results are shown in Figure 2 above. <br><br>  After 20 epochs of learning, the classification accuracy was 98%.  All other code samples from the Starter Bundle package of the book Deep Learning for Computer Vision with Python also worked without problems.  I was delighted with the ability to execute code in a browser using Jupyter Notebook on Azure DSVM (without additional configuration).  I am sure that newcomers to the field of deep learning will also appreciate it. <br><br><h2>  Convenience for practitioners in the field of deep learning </h2><br><img src="https://habrastorage.org/webt/lt/bx/lq/ltbxlq03ww4wtzpfadp1mkeoohs.png"><br><br>  <i>Fig.</i>  <i>3. A pre-configured copy of Microsoft Azure DSVM and code from the book Deep Learning for Computer Vision with Python made it easy to take the second line on the Kaggle leaderboard for solving the ‚ÄúDogs vs.</i>  <i>Cats "(recognition of the object in the photo - a cat or a dog)</i> <br><br>  My <a href="https://blogs.technet.microsoft.com/machinelearning/2018/02/22/22-minutes-to-2nd-place-in-a-kaggle-competition-with-deep-learning-azure/">second</a> article on the Microsoft blog was designed for practitioners.  For the rapid training of a high-precision model, specialists often use an approach called transfer of training (more precisely, its variety, feature extraction). <br><br>  To show how DSVM can help practitioners who need to quickly train a model and evaluate various hyperparameters, I did the following: <br><br><ol><li>  Applied feature extraction using the ResNet model, previously trained on the data set from the Kaggle task ‚ÄúDogs vs.  Cats. " <br>  ; </li><li>  I applied a classifier based on logistic regression with the search for hyperparameters for the extracted features along the grid; </li><li>  Got a model that was able to take second place in the competition. </li></ol><br>  I set myself the task - to do it all in less than 25 minutes.  The final model was able to take second place, requiring only 22 minutes to calculate (see Figure 3).  A full description of the solution, a Jupyter notepad and code are available in <a href="https://blogs.technet.microsoft.com/machinelearning/2018/02/22/22-minutes-to-2nd-place-in-a-kaggle-competition-with-deep-learning-azure/">this</a> publication. <br><br>  But is it possible to solve this problem even faster?  After completing the Kaggle experiment, ‚ÄúDogs vs.  Cats "on the NVIDIA K80 Microsoft spokesperson allowed me to use the newly released NVIDIA V100 GPU.  I had never dealt with NVIDIA V100 before, and I was very interested in what would come of it.  The results were just awesome. <br><br>  At NVIDIA K80, the entire process took 22 minutes, and the NVIDIA V100 coped with the task in 5 minutes, that is, more than 4.4 times faster.  I am sure that the transfer of working solutions from K80 to V100 will significantly improve performance.  But there is another factor - financial expediency (it is discussed below). <br><br><h2>  Sufficient power for advanced development in the field of deep learning </h2><br><img src="https://habrastorage.org/webt/k8/ho/7e/k8ho7efkfusxtqqczrtlt4eychc.jpeg"><br><br>  <i>Fig.</i>  <i>4. Microsoft Azure DSVM easily trains SqueezeNet on the ImageNet dataset</i> <br><br>  DSVM is great for both beginners and experienced deep learning professionals.  But what about researchers who work at the forefront of the industry?  Will DSVM help in solving their problems?  To find the answer to this question, I did the following: <br><ol><li>  I downloaded the entire <a href="http://image-net.org/">set of ImageNet data</a> on a virtual machine; </li><li> I took the code from the 9th chapter of the book Deep Learning for Computer Vision with Python (ImageNet Bundle package), in which I show how to train SqueezeNet based on ImageNet. </li></ol><br>  I chose SqueezeNet for several reasons: <br><br><ol><li>  SqueezeNet was already running ImageNet on my local computer for a separate project, so I could easily compare the results; </li><li>  SqueezeNet is one of my favorite architectures; </li><li>  Due to its small size (less than 5 MB without quantization), the final model is well suited for use in work environments where networks or devices with limited capabilities are often used for deployment. </li></ol><br>  My SqueezeNet training on the NVIDIA K80 took 80 epochs.  For training the network, SGD was used with an initial learning rate of 1e-2 (in one of the publications of Landola and the co-authors there is a remark that 4e-2 is too large a figure for stable learning).  The learning rate decreased by an order of magnitude at epochs of 50, 65, and 75, respectively.  Each era took about 140 minutes on the K80, so the total training time was about a week. <br><br>  Using multiple GPUs would easily reduce the learning time to 1-3 days, depending on the number of processors. <br>  After the training was completed, I conducted a test on a set of 50,000 images (they were taken from the training set, so I did not have to send the results to the ImageNet verification server).  Total accuracy: 58.86% for rank 1 and 79.38% for rank 5. They correspond to the results reported by Landola and co-authors. <br><br>  The full article on the SqueezeNet + ImageNet bundle is available <a href="https://blogs.technet.microsoft.com/machinelearning/2018/03/21/training-state-of-the-art-neural-networks-in-the-microsoft-azure-cloud/">on the Microsoft blog</a> . <br><br><h2>  Highest learning speed when using the NVIDIA V100 </h2><br>  After learning SqueezeNet on ImageNet using the NVIDIA K80, I repeated the experiment with a single V100 GPU.  The increase in learning speed was just awesome.  With the K80, one era took about 140 minutes.  The epoch on V100 was executed in 28 minutes, i.e. more than five times faster. <br><br>  I managed to train SqueezeNet and reproduce the results of the previous experiment in just over 36 hours.  DSVM is a very attractive tool for researchers, especially if you do not want to acquire and maintain hardware. <br><br><h2>  But what about the price? </h2><br><img src="https://habrastorage.org/webt/zc/4b/ca/zc4bcac39ef7o0pq-m3p5br6vt4.jpeg"><br><br>  <i>Fig.</i>  <i>5. Comparison of prices for the computing power of a GPU among various deep learning service providers and GPU resources</i> <br><br>  A copy of p2.xlarge in Amazon EC2 will cost you 0.90 (1x K80), 7.20 (8x K80), or 14.40 (16x K80) US dollars / hour.  Thus, the cost of using a single copy of K80 is $ 0.90 / hour.  In Microsoft Azure, prices are exactly the same: 0.90 (1x K80), 1.80 (2x K80), and 3.60 (4x K80) USD / hour.  The total cost of using a single K80 device is also $ 0.90 / hour. <br><br>  Amazon offers ready-to-use machines with the V100.  Their cost is 3.06 (1x V100), 12.24 (4x V100) and 24.48 (8x V100) USD / hour.  Thus, if you want to get a V100 in Amazon EC2, get ready to pay $ 3.06 per hour. <br><br>  The cost of copies with V100, which recently appeared in Azure, is quite competitive: 3.06 (1x V100), 6.12 (2x V100) and 12.24 (4x V100) US dollars / hour. The final cost of one V100 also makes 3 , $ 06 / hour. <br><br>  Microsoft has released <a href="https://azure.microsoft.com/en-us/pricing/details/batch/">the Azure Batch AI package</a> , which resembles Amazon spot instances and allows you to take advantage of better prices for instances. <br><br>  For a complete and fair price comparison, you should also consider the suggestions of Google, Paperspace and Floydhub. <br><br>  Google Fees are 0.45 (1x K80), 0.90 (2x K80), 1.80 (4x K80), and $ 3.60 (8x K80) per hour using the suggested copies.  This is half the price of K80 offers from MS / EC2 and definitely the best price.  I have no information about the offers of machines with V100 from Google.  However, they implement their own development, TPU, the cost of which is US $ 6.50 per hour per TPU. <br><br>  The Paperspace rate is $ 2.30 per hour (1x V100).  It is worth noting that they also offer endpoints for the API. <br><br>  The Floydhub rate is $ 4.20 per hour (1x V100), but they offer great collaboration solutions. <br><br>  In terms of reliability, EC2 and Azure offerings have proven themselves well.  And if you consider how comfortable working in Azure compared to EC2, then unequivocally to say that Amazon is better suited for long-term use, will not work. <br><br>  If you want to appreciate Azure‚Äôs capabilities, Microsoft offers <a href="https://azure.microsoft.com/en-us/free/">free</a> trial <a href="https://azure.microsoft.com/en-us/free/">resources</a> .  However, this bonus cannot be used to start machines with a GPU (unfortunately, instances with GPUs are classified as ‚Äúpremium‚Äù). <br><br><h2>  Run the first instance for deep learning in the Microsoft cloud </h2><br>  Running a DSVM instance is easy.  In this section I will explain how to do this. <br><br>  If you need advanced settings, refer to the <a href="https://docs.microsoft.com/en-us/azure/">documentation</a> - I will mainly use the default settings.  To experience the power of the Azure cloud <a href="https://azure.microsoft.com/en-us/free/">for</a> free, you can <a href="https://azure.microsoft.com/en-us/free/">sign up</a> for a free Microsoft Azure trial account. <br><br>  <i>Note.</i>  <i>You cannot create instances with a GPU as part of a Microsoft trial subscription.</i>  <i>Unfortunately, instances with GPU are classified as "premium."</i> <br><br>  <b>Step 1.</b> Create a user account on the portal.azure.com page or login. <br><br>  <b>Step 2.</b> Click the Create Resource button in the upper left corner. <br><br><img src="https://habrastorage.org/webt/pm/2h/2f/pm2h2fss6awef6qmv6ys26mo10i.jpeg"><br><br>  <i>Fig.</i>  <i>6. Resource Creation Screen in Microsoft Azure</i> <br><br>  <b>Step 3.</b> In the search field, enter ‚ÄúData Science Virtual Machine for Linux‚Äù.  The option you need appears in the list.  Select the first line with the word "Ubuntu". <br><br>  <b>Step 4.</b> Configure the basic settings.  Specify the name (without spaces and special characters).  Select HDD (not SSD).  Instead of setting the key file, I entered a simple password, but here the choice is yours.  Explore the "Subscription" section: you may have free funds on your account.  You will also need to create a resource group.  I chose an existing one, rg1. <br><br><img src="https://habrastorage.org/webt/bu/sr/d9/busrd98ermi03patrzn4zks4yrw.jpeg"><br><br>  <i>Fig.</i>  <i>7. The main parameters of the resource Microsoft Azure</i> <br><br>  <b>Step 5.</b> Select a region and virtual machine.  I chose an affordable copy with K80 (NC65_V3).  The instance with the V100 is lower in the list (NC6S_V3).  I must point out that this naming system is incomprehensible to me.  This is one of the negative impressions of using the platform.  I was hoping that the naming system here would be about the same as that of sports cars;  In the extreme case, a car with two K80 GPUs could be called "K80-2".  But the names here are determined by the number of virtual CPUs, while we are interested in the GPU. <br><br><img src="https://habrastorage.org/webt/zx/zk/ug/zxzkugvnowohtkmieofr5lrlnrg.jpeg"><br><br>  <i>Fig.</i>  <i>8. Microsoft Azure DSVM virtual machine will work based on K80 GPU and V100 GPU</i> <br><br>  <b>Step 6.</b> Examine the Summary page and confirm your acceptance of the terms of the agreement. <br><br><img src="https://habrastorage.org/webt/6b/cf/br/6bcfbrblbptrobjnxr-m1pr4oug.jpeg"><br><br>  <i>Fig.</i>  <i>9. On the ‚ÄúSummary‚Äù page you can read the terms of the contract and confirm your agreement with them.</i> <br><br>  <b>Step 7.</b> Wait for the system deployment to complete.  When the process is over, you will receive a notification. <br><br>  <b>Step 8.</b> Select ‚ÄúAll Resources‚Äù.  This list lists everything you pay for. <br><br><img src="https://habrastorage.org/webt/mm/ht/er/mmhterr3o117oad4nj0wkn1k8fe.jpeg"><br><br>  <i>Fig.</i>  <i>10. The ‚ÄúAll Resources‚Äù page of the Azure portal displays my DSVM machine and its associated services.</i> <br><br>  If you select a virtual machine, information about it will appear in the window (open the screenshot below in a new tab in order to study it at a higher resolution ‚Äî the IP address is displayed there, etc.). <br><br><img src="https://habrastorage.org/webt/7j/h3/_y/7jh3_ywutloghsnnow0qa29vdza.jpeg"><br><br>  <i>Fig.</i>  <i>11. On the Resource Overview page, you can view your instances.</i> <br><br>  <b>Step 9.</b> Connect to the machine via SSH and (or) Jupyter. <br><br>  If you click the ‚ÄúConnect‚Äù button, the screen displays information for configuring an SSH connection (using a key or password file).  Unfortunately, there is no convenient link to Jupyter here.  To connect to Jupyter, follow these steps. <br><br><ol><li>  Open a new tab in the browser; </li><li>  Go to "https: // public_IP_your_instance_Azure_Dsvm: 8000" (it is https, not http).  Replace the relevant part of the URL with the public IP of your instance. </li></ol><br><h2>  Code execution on a virtual machine for deep learning </h2><br><br>  Now we‚Äôll run the example of LeNet + MNIST, which is covered in my <a href="https://blogs.technet.microsoft.com/machinelearning/2018/01/18/deep-learning-computer-vision-in-the-microsoft-azure-cloud/">first</a> posting on the Microsoft blog, in the Jupyter environment.  This process consists of two steps. <br><br>  <b>Step 1.</b> Connect to your machine via SSH (see step 9 in the previous section). <br><br>  Go to the ~ / notebooks directory. <br><br>  Clone repository with $ git clone <a href="">github.com/jrosebr1/microsoft-dsvm.git</a> <br><br>  <b>Step 2.</b> Open the Jupyter page in a browser (see step 9 in the previous section). <br>  Click the microsoft-dsvm directory. <br><br>  Open the required .ipynb file (pyimagesearch-training-your-first-cnn.ipynb). <br><br>  Do not run the notebook yet - at first I will tell you about one convenient method.  It is not necessary to use it, but if you work with several notebooks in DSVM, it will make your life a little easier.  The fact is that if you start a notebook and leave it in the ‚Äúrunning‚Äù state, the core of the notebook will block the GPU.  If you try to start another notebook, errors such as ‚Äúresource exhausted‚Äù will appear. <br><br>  To avoid this, add the following two lines to the separate cell at the very end of the notebook: <br><br><pre><code class="cs hljs">%%javascript Jupyter.notebook.session.delete();</code> </pre> <br><br>  Now after all the cells have been processed, the notebook will carefully turn off its core, and you will not have to worry about manually stopping it. <br><br>  Now you can click inside the first cell and select the menu item "Cell&gt; Run all".  So you start the execution of all the cells of the notebook and initiate LeNet training based on MNIST.  Now you can follow the progress in the browser and end up with a result like this: <br><br><img src="https://habrastorage.org/webt/pm/6j/pd/pm6jpdmv8ldjz64ltvtpprsvb6i.jpeg"><br><br>  <i>Fig.</i>  <i>12. Learning LeNet based on MNIST in a virtual computer for data processing and analysis (DSVM) in the Microsoft Azure cloud</i> <br><br>  Usually I delete the entire contents of the output after shutting down or before re-launching the modified notepad.  To do this, select the menu item "Kernel&gt; Restart &amp; Clear Output". <br><br><h2>  Conclusion </h2><br>  In this publication, I talked about personal experience with the Microsoft virtual machine for deep learning, data processing and analysis (DSVM).  I also showed how to run the first instance of DSVM and run the first sample code for deep learning on it.  Initially, I had doubts about DSVM, but I'm glad that I tried to use this machine. <br><br>  DSVM easily coped with all the challenges, from learning tasks for beginners to the most advanced experiments.  After the transition from copies from the NVIDIA K80 to the new NVIDIA V100 GPU from Microsoft, the speed of experiments has increased fivefold. <br><br>  If you are looking for a cloud-based instance with a GPU for deep learning, I advise you to pay attention to Microsoft's DSVM - my impressions were very positive, Microsoft support worked perfectly, and DSVM machine turned out to be powerful and convenient to use. </div><p>Source: <a href="https://habr.com/ru/post/358436/">https://habr.com/ru/post/358436/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358422/index.html">Making the Marketplace integrated into the online cash desk cloud</a></li>
<li><a href="../358426/index.html">Receiving user data (voluntary)</a></li>
<li><a href="../358428/index.html">What awaits the IaaS market: trends in brief</a></li>
<li><a href="../358432/index.html">How to make Vue.js and Electron work together</a></li>
<li><a href="../358434/index.html">Just add water: H2O.ai development</a></li>
<li><a href="../358438/index.html">How not to miss a single message</a></li>
<li><a href="../358440/index.html">Entering text in Linux (ibus)</a></li>
<li><a href="../358442/index.html">Tester Tools</a></li>
<li><a href="../358444/index.html">Remove trash from Xcode</a></li>
<li><a href="../358448/index.html">Automatically build Unity projects for Android and iOS using Gitlab CI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>