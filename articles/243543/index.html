<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>High-quality interface JIRA-plugin using the AUI Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JIRA is widely used in Mail.Ru Group. Now we are using this system not only for managing projects and tracking errors, but also for organizing a wide ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>High-quality interface JIRA-plugin using the AUI Framework</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/mailru/blog/243543/"><img src="https://habrastorage.org/files/078/f7a/0c1/078f7a0c15e941f486fa76569d5dcfa9.jpg"></a> <br><br>  JIRA is widely used in Mail.Ru Group.  Now we are using this system not only for managing projects and tracking errors, but also for organizing a wide variety of operational processes - recruiting, agreeing on contracts, business trips, and so on.  On the one hand, this is very convenient, since many business processes fit perfectly on the Issue model in JIRA.  However, specific functions are also often required, implemented with the help of specially written plugins. <br><br>  A few years ago we were content with simple JS scripts and third-party general purpose plugins.  Over time, JIRA penetrated into operational processes deeper, respectively, and the requirements for functions sharpened specifically for these processes grew.  Currently we have a separate division whose task is to develop customized functionality for JIRA and Confluence.  As part of it accumulated a good expertise. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now, many third-party JIRA plug-ins cannot boast a high-quality interface.  This applies even to some paid plugins.  However, all the tools for the rapid development of convenient and beautiful interfaces are.  The article discusses one of them - the AUI Framework (Atlassian User Interface Framework). <br><br>  It is assumed that the reader is familiar with how a plugin can be made in principle.  If not, then you can read about it, for example, <a href="https://developer.atlassian.com/display/DOCS/Create%2Ba%2BHelloWorld%2BPlugin%2BProject">here</a> . <br><a name="habracut"></a><br><h1>  1. What is the AUI Framework? </h1><br>  The AUI Framework consists of a set of scripts, style sheets, templates, and other resources used to create the interface.  Developed and maintained by Atlassian.  In general, in the AUI Framework, you can find about the same thing as in another framework like Bootstrap.  However, the AUI Framework does not need to be additionally embedded on the page and loaded by it, and all components are completely identical in style with JIRA itself - it is built with them.  Thus, the resulting plugin will look great and work in the system. <br><br>  Developing an interface using the library can be much faster, and using the result is a pleasure.  Our employees using the developed functionality are very satisfied. <br><br><h1>  2. The main components of the framework </h1><br>  It is impossible to consider all the components within one article, and it is not necessary, there is documentation for this.  Instead, the most useful of them are described below - those that make our lives as easy as possible and are used in almost every project. <br><br><h3>  2.1 Page Layout and Decorators </h3><br>  If you need a page in a plugin, for example, to manage settings, you will need to impose it.  For this there are 2 approaches. <br><br>  The first method is to create this page from scratch, but so that it completely repeats the design of the standard ones using <a href="https://docs.atlassian.com/aui/latest/docs/page.html">the Page component</a> .  In this case, the header and footer of the page can be changed as you like. <br><br>  If these changes are not required, a different approach would be a better choice ‚Äî use a decorator.  So called tool for automatic framing of the page in accordance with one of the standard styles. <br><br>  A frequent task can be, for example, quickly create a page in the Administration area.  This can be done very simply using the <code>admin</code> decorator.  Layout will only need content highlighted in purple in the screenshot.  Additionally, you can specify which section the page belongs to and which tab it corresponds to using the corresponding meta tags. <br><br><img src="https://habrastorage.org/files/246/3ac/fbe/2463acfbe3ea45a6a024b4094dfb1170.png"><br><br>  Here is the HTML code for this page: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>$i18n.getText( "ru.mail.jira.plugins.recruitment.configuration.title" )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"decorator"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"admin"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"admin.active.section"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"admin_plugins_menu/recruitment-admin-section"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"admin.active.tab"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru.mail.jira.plugins.recruitment:configuration-link"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--,   ,  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  A full list of possible decorators can be found <a href="">here</a> . <br><br><h3>  2.2 Dialogues </h3><br>  We often use dialogues, for example, to allow a user to create or modify an entry in a table with an AJAX query.  On the one hand, this is convenient for the user, and on the other, it is implemented faster than with a separate page. <br><br>  In the framework there are 2 versions of modal dialogs - <a href="https://docs.atlassian.com/aui/latest/docs/dialog.html">Dialog</a> and <a href="https://docs.atlassian.com/aui/latest/docs/dialog2.html">Dialog 2</a> .  Dialog 2 is a newer component that offers more flexibility, but is in Experimental status.  This means that there is a possibility of changing the API in the new version of the framework.  Despite this, we use it. <br><br><h3>  2.3 AUI Select2 </h3><br>  <a href="https://docs.atlassian.com/aui/latest/docs/auiselect2.html">This component</a> is styled according to the Atlassian Design Guidelines jQuery <a href="http://ivaynberg.github.io/select2/">Select2 plugin</a> .  It provides great features, such as searching by values, AJAX-loading options, customized display options and others. <br><br><img src="https://habrastorage.org/files/b42/974/8c8/b429748c84544238bae7b1c5da3f22f3.png"><br><br>  We often use it to make it convenient to select an option. <br><br><h3>  2.4 Buttons </h3><br>  As in many other frameworks, various styles of <a href="https://docs.atlassian.com/aui/latest/docs/buttons.html">buttons are</a> supported: <br><br><img src="https://habrastorage.org/files/ded/0f6/a18/ded0f6a18915463b9163de43234105fc.png"><br><br><h3>  2.5 Design Elements </h3><br>  There are various tools available to make the page brighter and easier to read.  One of them is <a href="https://docs.atlassian.com/aui/latest/docs/icons.html">icons</a> .  They can be used directly in the text or inserted into links and buttons: <br><br><img src="https://habrastorage.org/files/bc8/2f2/017/bc82f201721f455f969a5474c28a9b98.png"><br><br>  We have configured Gravatar in JIRA, loading images from profiles on the intranet.  Therefore, it makes sense to display the <a href="https://docs.atlassian.com/aui/latest/docs/avatars.html">avatar</a> next to user names.  It looks like this: <br><br><img src="https://habrastorage.org/files/c79/519/ae7/c79519ae74db4bd3ba56c180b82eef3c.png"><br><br>  Statuses can be made in the form of highlighted <a href="https://docs.atlassian.com/aui/latest/docs/lozenges.html">labels</a> .  This allows the user after some time not to read the text, paying attention only to the color: <br><br><img src="https://habrastorage.org/files/833/861/3d3/8338613d3bd84942a4de6b72aabcd2cf.png"><br><br>  In addition to the specialized components described above, the framework automatically <a href="https://docs.atlassian.com/aui/latest/docs/typography.html">draws</a> headings, paragraphs and lists. <br><br>  You can apply the design to the <a href="https://docs.atlassian.com/aui/latest/docs/tables.html">table</a> by adding the class <code>aui</code> .  Optionally, add the <code>aui-table-rowhover</code> .  This will automatically highlight the entire line when you hover the cursor.  Interestingly, this feature is not described in the documentation.  Like some other things, you can find out about it by analyzing the markup of JIRA pages that use AUI. <br><br><h3>  2.6 Auxiliary scripts </h3><br>  The jQuery library is not part of the AUI Framework, but is still embedded in JIRA.  It can be accessed through <code>AJS.$</code> .  We usually wrap the scripts in: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">) </span></span>{ AJS.toInit(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Script starts here... }); })(AJS.$);</span></span></code> </pre><br>  The first wrapper allows you to access jQuery in the usual way, and the second ensures that the DOM tree and AUI are already initialized by the time you start executing our scripts. <br><br>  There is a <a href="https://docs.atlassian.com/aui/latest/docs/keyboard.html">special component</a> for the implementation of the hot keys. <br><br>  AJS also contains several other useful helper functions: for getting the full path to the application, loading localized strings, and so on.  Read more about them <a href="https://developer.atlassian.com/display/AUI/AJS%2Bhelper%2Bfunctions">here</a> . <br><br><h1>  3. Examples of what can be done </h1><br>  Let's look at some examples of our real interface problems solved using the framework. <br><br>  One of them was the creation and storage of counterparties - certain entities with a small set of parameters.  This data was imported from SAP, and there were a lot of them - several tens of thousands.  We decided not to store them in the form of issue, overloading the system, but to save them into the database using the Active Objects API.  Accordingly, the ability to manage counterparties was needed. <br><br>  An interface with paging, search and control of these entities was implemented.  Synchronization utility information was hidden in the tooltip, which is displayed only for synchronized counterparties: <br><br><img src="https://habrastorage.org/files/351/8c2/7bb/3518c27bb7ea4af5a3369b9ec0ffff87.png"><br><br>  Another task was to display a table with integer data, some of which should have been editable.  In AJS there were no such components, so we just adapted the layout and the Inline Issue Editing scripts, having understood the source code: <br><br><img src="https://habrastorage.org/files/6e9/724/426/6e9724426e234d718eb2d136e29c7554.png"><br><br>  As a final example, we‚Äôll give the choice of a unit from the list.  The task could have been handled by the usual Select, but we wanted to show the user to the head of the department in order to simplify the selection.  Therefore, we used AUI Select2.  Here's what happened: <br><br><img src="https://habrastorage.org/files/163/97e/573/16397e573d8242f6bad041ecc5525087.png"><br><br><h1>  4. Undocumented features </h1><br>  There are some features not described in the documentation of the framework and the built-in JIRA libraries.  It is clear that in the next versions of JIRA they may change or disappear altogether, but, firstly, this is unlikely, and, secondly, the benefits from their use are quite large. <br><br>  As an example, we give the above-mentioned css-class <code>aui-table-rowhover</code> for tables.  It will definitely not disappear anywhere in the upcoming versions of JIRA, as it is used in almost all standard tables. <br><br>  Another example is the darkening and blocking of the page.  We wanted to do this when we called up synchronization on the described page for managing contractors.  Looking at the sources of JIRA, we found that it was already implemented using: <br><br><pre> <code class="javascript hljs">AJS.dim(); JIRA.Loading.showLoadingIndicator();</code> </pre><br>  and correspondingly <br><br><pre> <code class="javascript hljs">AJS.undim(); JIRA.Loading.hideLoadingIndicator();</code> </pre><br>  In general, we recommend looking for where in JIRA there is already the desired functionality and then looking at the sources, how it is implemented.  Often this allows you to get the desired result easier and faster. <br><br><h1>  5. Reefs </h1><br>  In general, the framework behaves quite steadily.  The only bug we encountered during development was the disappearance of the Inline Dialog when clicking on input inside it.  Again, after digging a little bit in the source, I managed to find a workaround - preventing the transmission of a click event to an element within the dialog: <br><br><pre> <code class="javascript hljs">content.click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ e.stopPropagation(); });</code> </pre><br>  All known problems can be found and reported in the <a href="https://ecosystem.atlassian.net/browse/AUI">official bug tracker</a> , but we do not think that you will need it. <br><br>  It should also be understood that the version of the framework (and, accordingly, the set of components) depends on the version of JIRA, under which the plugin is running.  If you need support for multiple versions of JIRA, you need to not forget about testing under them.  When developing our internal plug-ins, we do not do this, since we write directly to the current version of JIRA.  But still, before upgrading JIRA to a new version, we have to consider the Release Notes published by Atlassian. <br><br><h1>  6. What's next? </h1><br><ul><li>  Rather detailed official <a href="https://docs.atlassian.com/aui/latest/docs/index.html">documentation</a> on the components of the AUI Framework. </li><li>  The official <a href="https://developer.atlassian.com/display/AUI">documentation</a> on the AUI Framework itself is about how you can integrate it into your project, participate in the development and prepare for the update. </li><li>  <a href="https://docs.atlassian.com/aui/latest/sandbox/index.html">Sandbox</a> where you can play with the components and see how they will look. </li></ul><br><h1>  7. Conclusion </h1><br>  The development of a high-quality interface is not the only, but a very important step in creating a good plugin.  AUI Framework allows you to make this development easier, faster and more efficient.  And do not be afraid of analyzing the source code of the framework - it allows you to understand it much better and interact with it. <br><br>  In addition to the interface, there are other, invisible to the user practice quality development.  We will tell about them in one of the following posts. </div><p>Source: <a href="https://habr.com/ru/post/243543/">https://habr.com/ru/post/243543/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243529/index.html">Through thorns to Unity3D</a></li>
<li><a href="../243531/index.html">How to remove a bucket with 400 million files on Amazon S3</a></li>
<li><a href="../243535/index.html">Ultrastar He6 - the world's first helium HDD with a capacity of 6 TB</a></li>
<li><a href="../243537/index.html">What is memory leak in android, how to check the program for their absence and how to prevent them from appearing</a></li>
<li><a href="../243541/index.html">Reveal for everyone!</a></li>
<li><a href="../243545/index.html">SPA-architecture for CRM-systems: part 1</a></li>
<li><a href="../243547/index.html">Python Meetup 10/31/14: asynchrony and soft skills</a></li>
<li><a href="../243551/index.html">PDP Recovery 11/04</a></li>
<li><a href="../243553/index.html">Recovery PDP 11/04. Tape station TU60</a></li>
<li><a href="../243555/index.html">Recovery PDP 11/04. Terminal LA30 Decwriter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>