<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Citrix XenClient by the system administrator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a previous Citrix XenClient post, I showed the capabilities of this solution from the user's point of view. Let me remind you that XenClient is a f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Citrix XenClient by the system administrator</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/1ee/ed0/4d2/1eeed04d298ba7efbf3058a0ddf0b7e3.png" align="right">  In a <a href="http://habrahabr.ru/company/citrix/blog/110970/">previous</a> Citrix XenClient post, I showed the capabilities of this solution from the user's point of view.  Let me remind you that XenClient is a first-level hypervisor, which is installed on bare hardware and allows you to simultaneously work on a computer with two or more operating systems.  The advantage of XenClient compared to regular (let's say, user) virtual machines is that all operating systems have equal rights to access hardware resources and are completely isolated from each other.  Accordingly, this allows you to simultaneously work in the "home" and "corporate" environments.  In the event that you have one laptop for everything, this is very convenient: the working operating system is fully protected and constantly synchronized with the server, and your personal environment does not suffer from restrictions related to security policy. <br><br>  In this article I will describe in more detail how to work with XenClient from the point of view of the system administrator.  I'll show you how to set up users' machines in a couple of minutes, how data is backed up and what happens if a careless employee forgot a laptop in a taxi. <br><a name="habracut"></a><br>  <b>What's new?</b> <br><br>  The last time I worked with XenClient on a ThinkPad X201 laptop, which fully complies with the <a href="http://www.citrix.com/ready/list/products%3Fpage%3D1%26partnerPage%3D1%26currentTab%3Dproduct%26rss%3Dfalse%26currentComparison%3D%26h_Product_Citrix%2BProducts%3DXenClient%26h_Product_XenClient%3DXenClient_%25281.0%2BSP1%2529%26h_0Categories_Categories%3DNotebooks%2Band%2BDesktops%26h_zzPartners_Part">technical requirements of</a> this product.  This time, for tests, the ThinkPad T410s with NVIDIA Optimus graphics was used, allowing you to switch between a discrete NVIDIA video card and an integrated Intel GMA HD graphics system.  XenClient does not yet support NVIDIA video cards, but over time such support will appear, so it makes sense to choose a similar configuration, which is called, for growth.  In the meantime, I wanted to find out if the current version of the hypervisor is working normally, provided that the integrated graphics are used.  There were no problems here: in the appropriate BIOS section the laptop was configured to use only Intel graphics. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition, at the very beginning of the year XenClient itself was updated: version 1.0 Service Pack 1 was released, which can be downloaded <a href="http://deliver.citrix.com/go/citrix/tryxenclient">from this link</a> .  One of the notable changes in the new version is the ability to remotely administer the computer over SSH.  In addition, there are no problems with high-definition video playback when using a graphics accelerator, which I encountered during the preparation of the previous material. <br><br>  <b>On the admin side</b> <br><br>  So, today we are testing the operation of a virtual operating system under XenClient in a corporate environment.  In this scenario, the operating system is not installed on the computer with the XenClient using the installation image.  Instead, a ready-made container with a virtual OS is loaded from the server.  To manage computers with XenClient installed, use Citrix Synchronizer, which can also be downloaded from <a href="">the company's website</a> . <br><br>  Configuring and managing employee computers is done via the Synchronizer web interface, which looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b7f/6ce/4f7/b7f6ce4f70aa06c51199b0f02ad413e3.png"><br><br>  The main window of the system displays the available virtual OS images, but there is also the ability to view a list of users registered in the system and a list of the equipment used: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef7/5e1/886/ef75e1886d338694a95e04a0ce19a529.png"><br><br>  Opposite each device there is a Mark As Lost button, by pressing which the system image on the laptop will be automatically deleted the first time you connect to the Internet.  It works as follows: for each virtual system, a certain frequency of checking for legitimacy is established: to access the OS, the user must connect to the Internet, enter the login and password for Citrix Synchronizer.  If the user does not do this, access to the corporate OS will be automatically blocked.  If the administrator has marked in Synchronizer that the computer is lost, the data from it will be automatically deleted, even if the correct access password is entered on the computer.  At the same time, between the ‚Äúreports‚Äù to the server, the user can easily work with the corporate OS, even without connecting to the Internet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/294/48f/d13/29448fd13fe47c2efa44e35242e870a5.png"><br><br>  Let us turn to the settings of the virtual system image.  The Phone Home Frequency field is responsible for sending a report on the use of the virtual OS, and the Lease Time parameter defines the maximum system uptime without connecting to the Internet.  Here you can also set the frequency for creating automatic backups that will be uploaded to the server.  You can also allow or prohibit the user from starting the backup system manually. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f0d/a61/dd6/f0da61dd61c1926931c4c9b901f4de4a.png"><br><br>  Some of the virtual OS settings in Synchronizer are standard: the administrator can set the number of processor cores used and the amount of memory.  Much attention is paid to security.  The screenshot above shows the permissions settings for connecting external devices in a virtual OS: if necessary, the administrator can prohibit working with external drives to avoid data leakage.  By the way, the container itself with the virtual OS is stored on the user's computer in encrypted form.  Access to the network is configured in the same way: for example, you can allow access to the wired network, but disable the connection via WiFi.  Additional security in this case can be provided by the settings of security policies in Windows itself. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0fe/708/15b/0fe70815bf16f88424bfe17450e02830.png"><br><br>  And a little more security settings: you can allow the user access to the optical drive of the laptop, but - only for reading.  The harsh principles of data protection in some companies are forcing manufacturers of laptops at the hardware level to block the recording function of optical drives.  This is, in a sense, a less expensive way to do the same. <br><br>  <b>On the user side</b> <br><br>  Let's move on to customizing a custom laptop.  I described the installation of XenClient in the <a href="http://habrahabr.ru/company/citrix/blog/110970/">previous article</a> ; it takes just a few minutes and does not require any special user involvement.  If your computer meets the technical requirements (Intel processor and graphics, at least two gigabytes of RAM, support for virtualization technologies VT-x and VT-d), problems should not arise.  Immediately upon installation or after the first launch of XenClient, you need to enter the Synchronizer server address and your login and password. <br><br>  Then everything is simple: in the standard menu for adding a virtual machine, we select not Download from Disk (this is how we installed the ‚Äúcustom‚Äù OS), but Download from Synchronizer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/763/d61/7ac/763d617ace31ea3538f21faaa3254c7e.jpg"><br><br>  XenClient will contact the server and offer to load one of the virtual machines to choose from (there may be several of them).  In my case, a container with virtual Windows 7 takes about 12 gigabytes, and via the Internet its download took quite a long time.  But for the local enterprise network, where the initial configuration is performed, this should not be a problem. <br><br>  After booting, the virtual OS is immediately available for use, with all the programs and settings provided by the system administrator.  However, in our case, the XenClient suite of utilities for the virtual OS turned out to be outdated.  This is not a problem: XenClient automatically connected a virtual drive to the system with the latest version of a set of utilities and drivers.  Theoretically, the system can work without this set (in particular, Ubuntu Linux is installed and running normally), but some functions may not be available. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/259/639/ed3/259639ed3760c0b24257116b64e183fc.png"><br><br>  By clicking the small icon with the letter i in the description of the virtual machine, you can view information about the last backup and the time of the last connection to the Synchronizer server.  Here you can start the backup process of the virtual machine manually.  The entire image of the ‚Äúfill in‚Äù system back to the server is not necessary: ‚Äã‚Äãin my case, the incremental backup size is about 4 gigabytes - one third of the total size. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/403/22a/d50/40322ad5056defeb3efc87d918838f96.png"><br><br>  Downloading a backup can be paused at any time and restarted.  At this time, you can use the virtual machine without any restrictions.  If you lost your laptop, or it broke and sent to the service, it is enough to install XenClient on a new machine, enter the login and password for the Synchronizer, and when adding a new virtual OS, select ‚ÄúRestore from Backup‚Äù.  After a while, you will get a working OS with all your data since the last backup. <br><br>  When working with XenClient in a corporate environment, I brought only the most basic features.  If necessary, the Citrix hypervisor also provides more complex designs, in particular, on-demand application delivery using the XenApp solution, as well as launching applications from the corporate environment in the user OS, while preserving all security settings.  As you can see, XenClient is quite flexible in configuration, so it is convenient to use both the system administrator and the user.  And all this - with a minimum (a few percent) loss of performance in the virtual OS compared to a similar system ‚Äúon hardware‚Äù, and full transparency of the hypervisor for external devices. </div><p>Source: <a href="https://habr.com/ru/post/115562/">https://habr.com/ru/post/115562/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../115556/index.html">Live (again) without boring things.</a></li>
<li><a href="../115557/index.html">Unity3d Tank Tutorial: Undercarriage (Lesson 1. Basics of vehicle mechanics)</a></li>
<li><a href="../115558/index.html">Redirection of functions in Mach-O libraries</a></li>
<li><a href="../115559/index.html">Down Silicon Valley Monopoly: Ukrainian ImPAD vs. iPad</a></li>
<li><a href="../115560/index.html">Scalaxi Updates: Windows Cloning and IP Addresses</a></li>
<li><a href="../115563/index.html">New Ebay tariffs, and also goodbye Buy it Now, hello Add to cart</a></li>
<li><a href="../115566/index.html">DWA-525 AP or budget WIFI access point</a></li>
<li><a href="../115567/index.html">Artificial selection</a></li>
<li><a href="../115568/index.html">Startup Sauna comes to Russia</a></li>
<li><a href="../115569/index.html">About programming inspiration ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>