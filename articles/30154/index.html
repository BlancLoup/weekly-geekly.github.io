<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP on Windows and IIS7</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many good applications are written in PHP. Not even 
 very many and some of them are very good, so why not use these 
 applications on windows? Especi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP on Windows and IIS7</h1><div class="post__text post__text-html js-mediator-article">  Many good applications are written in PHP.  Not even <br>  very many and some of them are very good, so why not use these <br>  applications on windows?  Especially if the internal portal runs on Windows, and <br>  on the Unix machine to spin the company's external website - then <br>  you can save on infrastructure and place on Windows <br>  server is also an external site.  Or, if there is a desire to standardize <br>  infrastructure and host sites on Windows <br>  platform as developers and users work on <br>  Windows platform. <br>  On the website <a href="http://www.iis.net/">www.iis.net</a> <br>  can find <br>  <a href="http://learn.iis.net/page.aspx/271/php-applications-on-iis/">list</a> <a href="http://learn.iis.net/page.aspx/271/php-applications-on-iis/"><br></a>  <a href="http://learn.iis.net/page.aspx/271/php-applications-on-iis/">popular php applications</a> <a href="http://learn.iis.net/page.aspx/271/php-applications-on-iis/"><br></a>  with installation instructions on IIS.  To launch them <br>  no change required on IIS <br>  Php code <br><a name="habracut"></a><br><h2>  Install and configure PHP for use with the FastCGI module. <br></h2><br>  For starters, to successfully use PHP on <br>  Windows would be nice php <br>  to install. <br>  <strong>Step 1. Download PHP</strong> <br>  On the PHP.net site you need to <a href="http://www.php.net/downloads.php">download</a> <a href="http://www.php.net/downloads.php"><br></a>  <a href="http://www.php.net/downloads.php">The latest version of PHP for Windows</a> .  Recommended for use with FastCGI <br>  install PHP version without thread safety control, since the module itself <br>  FastCGI ensures that execution occurs in one thread and support <br>  thread safety control in PHP itself introduces unnecessary checks and <br>  locks resulting in a significant performance drop.  therefore <br>  choose <a href="http://ie.php.net/get/php-5.2.6-nts-Win32.zip/from/a/mirror">non-thread-safe Win32 binaries</a> (version 5.2.6 is relevant at the time of writing <br>  of this message) <strong>.</strong> <br>  It is worth noting that we believe Non-thread-safe was designed specifically for <br>  work with FastCGI on IIS (the first release was in version 5.2.1) and used in <br>  other environments are not recommended.  By the way, since version 5.2.2 Zend is serious <br>  working on optimizing php performance under windows that can not <br>  to please  If we compare versions 5.2.1 and 5.2.2, then the difference in processing speed <br>  requests can be easily seen using a simple load test. <br>  <strong>Step 2. Install PHP</strong> <br>  Installation is quite simple: since we downloaded the archive from <br>  executable files, just deploy this archive, for example, in <br>  directory C: \ Web \ PHP. <br>  As a basic configuration, we use the recommended settings: <br>  Make a copy of the php.ini-recommended file in php.ini in the same directory and open it. <br>  edit it, and then go through the file above, uncommenting the following <br>  lines to ensure security and compatibility with most PHP <br>  applications: <br><ul><li>  open_basedir = <em>directory where PHP applications are located</em> . <br>  Specifying a directory will restrict access to PHP application files only <br>  this directory.  It is convenient to override this setting in the configuration files. <br>  directly for each application, but it‚Äôs not advisable to install this <br>  configure and specify the root directory of all PHP applications.  For example, C: \ inetpub \ PhpSites. <br></li><li>  cgi.force_redirect = 0 <br>  The default is 1, but must be set to 0, because IIS <br>  controls the security of running PHP and in this setting there is no <br>  of necessity.  Moreover, inclusion may lead to unexpected <br>  results.  When used with other web servers on Windows, this <br>  setting must be enabled. </li><li>  cgi.fix_pathinfo = 1 <br>  PHP will set the file name in the variable SCRIPT_FILENAME if <br>  set the value to 0, then the file name will be in the variable PATH_TRANSLATED, which <br>  may break compatibility with most applications. </li><li>  fastcgi.impersonate = 1; <br>  FastCGI allows a process to be impersonated using a client context. <br>  calling process.  This mechanism works only under FastCGI / IIS, for example <br>  on Apache on Windows this will not work. </li><li>  short_open_tag = On <br>  Most applications use short tags &lt;?  ?&gt; so there will be no <br>  superfluous to include their support. </li><li>  display_errors = On <br>  At the time of checking and debugging PHP applications on FastCGI, it is worthwhile to include output <br>  error messages. </li></ul><br>  <strong>Step 3. Test PHP functionality</strong> <br>  While we have not configured IIS, check the functionality of the interpreter. <br>  You can simply, for example, run the command c: \ web \ php \ php.exe -info&gt; c: \ test.txt <br><h2>  Install and configure the FastCGI module on IIS7. </h2><br>  If you have IIS7, then something tells me about the name of your operating system. <br>  Systems - Windows Vista?  I did not guess, then Windows Server 2008!  Either you are a hacker and <br>  put IIS7 somewhere else, but this is a non-standard solution and we are not <br>  support;). <br>  <strong>Step 1. Install FastCGI</strong> <br>  I want to please immediately - in IIS7, coming with Windows Server 2008 and Windows Vista <br>  Service Pack 1 FastCGI module is already included.  It only needs to be connected to <br>  settings.  To do this, on Vista you need to open the Control Panel -&gt; Programs and select <br>  "Turn Windows Features On or Off": <br> <a href=""><img alt="ControlPanel - Programs" height="222" src="https://habrastorage.org/getpro/habr/post_images/721/861/b4d/721861b4dd17165cd95e6a7cbccda76e.jpg" width="196"></a> <br><br>  After that, you need to install the feature in IIS: Internet Information Services <br>  -&gt; World Wide Web Services -&gt; Application Development Features -&gt; CGI.  Wherein <br>  both CGI and FastCGI support will be installed. <br> <a href=""><img alt="IIS_CGI_Feature" height="254" src="https://habrastorage.org/getpro/habr/post_images/fa9/8b9/fe9/fa98b9fe9e9d0fd50e211a433edb5d45.jpg" width="290"></a> <br><br>  On Windows Server 2008, the process is similar: Server Manager -&gt; Roles -&gt; Add <br>  Role Services -&gt; Web Server -&gt; Application Development -&gt; CGI. <br>  Actually all that is required to enable the FastCGI module. <br>  <strong>Step 2. IIS7 Configuration</strong> <br>  1. Open IIS Manager, select the node (server) for which you want to configure <br>  PHP support.  And then choose Handler Mappings. <br> <a href=""><img alt="HandlerMappings" height="174" src="https://habrastorage.org/getpro/habr/post_images/3ef/cc7/8fb/3efcc78fbae36846a088e46b122c7090.jpg" width="244"></a> <br> <a href=""><img alt="HandlerMappingsOpened" height="174" src="https://habrastorage.org/getpro/habr/post_images/932/5f0/b87/9325f0b8757c107dd386c414fbbe9bdb.jpg" width="235"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2. Select the Add Module Mapping link on the Handler Mappings page and <br>  fill the window with the following values: <br>  Request path: * .php (processing all files with the extension .php) <br>  Module: FastCgiModule (FastCGI module) <br>  Executable: C: \ Web \ PHP \ php-cgi.exe (path to PHP) <br>  Name: PHP (name for convenience) <br> <a href=""><img alt="PHPHandler" height="254" src="https://habrastorage.org/getpro/habr/post_images/5f6/ad3/70c/5f6ad370c32c7f3e606e6370fb9dcba5.jpg" width="295"></a> <br><br>  After adding this setting, a registration question window will appear. <br>  FastCGI applications for this handler.  We confirm. <br>  The above steps led to the creation of the following directory in the PhpSites directory: <br>  web.config file: <br><br><blockquote>  <font color="black"><font color="#0000ff">&lt;?</font></font>  <font color="black"><font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">= "1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">= "UTF-8"</font> ?</font>  <font color="black"><font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">configuration</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">system.webServer</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">handlers</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">add</font> <font color="#ff0000">name</font> <font color="#0000ff">= "PHP"</font> <font color="#ff0000">path</font> <font color="#0000ff">= "*. php"</font> <font color="#ff0000">verb</font> <font color="#0000ff">= "*"</font></font> <font color="black"><font color="#ff0000"><br></font></font>  <font color="black"><font color="#ff0000">modules</font> <font color="#0000ff">= "FastCgiModule"</font> <font color="#ff0000">scriptProcessor</font> <font color="#0000ff">= " <a href="">C: \ Web \ PHP \ php-cgi.exe</a> "</font></font> <font color="black"><font color="#ff0000"><br></font></font>  <font color="black"><font color="#ff0000">resourceType</font> <font color="#0000ff">= "Unspecified"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">handlers</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">system.webServer</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">configuration</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  Now you can proceed to test the performance of PHP. <br>  <strong>Step 3. We check the correctness of the settings</strong> <br>  In the node directory for which we have configured PHP create a file <br>  index.php: <br><pre>  &lt;? &lt;br /&gt; phpinfo (); &lt;br /&gt;?&gt; </pre><br>  And access this file via an HTTP request.  As a result, if all is well and <br>  our karma is not corrupted, the request will be processed correctly: <br> <a href=""><img alt="phpinfo" height="193" src="https://habrastorage.org/getpro/habr/post_images/164/7bf/94d/1647bf94d7d365242b98837ea58d330d.jpg" width="244"></a> <br><br><h2>  Recommendations for configuring PHP on <br>  IIS7 </h2><br>  Of course, when using PHP on <br>  IIS7 can occur pitfalls with which to <br>  fight to achieve the expected result (great job <br>  PHP applications on Windows). <br>  Hammers for breaking common stones are listed below. <br><h3>  PHP restart frequency </h3><br><br>  Since when using PHP on <br>  IIS7 using FastCGI <br>  module, the FastCGI module itself takes over <br>  managing processes and resources, you need to make sure that the restart mechanism <br>  processes (recycling) in PHP <br>  will not interfere with FastCGI.  This is easy to do if <br>  configure fastcgi so that it always restarts <br>  processes earlier than PHP does. <br>  There is a setting in the FastCGI settings <br>  instanceMaxRequests, which determines after processing how many requests, <br>  The process will be restarted.  In PHP, a similar parameter <br>  set by the value of the variable PHP_FCGI_MAX_REQUESTS.  Obviously to give <br>  FastCGI ability to steer the process, enough <br>  set instanceMaxRequests &lt;= PHP_FCGI_MAX_REQUEST. <br>  This is convenient to do by editing the file. <br>  applicationHost.config (hiding in the directory C: \ windows \ system32 \ inetsrv \ config \). <br>  The configuration should contain the following information: <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">fastCgi</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">application</font> <font color="#ff0000">fullPath</font> <font color="#0000ff">= " <a href="">C: \ inetpub \ php \ php-cgi.exe</a> "</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#ff0000">maxInstances</font> <font color="#0000ff">= "4"</font> <font color="#ff0000">instanceMaxRequests</font> <font color="#0000ff">= "10,000"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">environmentVariables</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">environmentVariable</font> <font color="#ff0000">name</font> <font color="#0000ff">= "PHP_FCGI_MAX_REQUESTS"</font> <font color="#ff0000">value</font> <font color="#0000ff">= "10000"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">environmentVariables</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">application</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">fastCgi</font> <font color="#0000ff">&gt;</font></font> <font color="gray"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><h3>  Using multiple PHP versions </h3><br>  Since different versions of PHP can be used in <br>  applications that are hosted on the server, it would be good to give <br>  use different versions for different sites. <br>  In the applicationHost.config configuration file <br>  it is enough to define sections for different versions of PHP: <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">fastCgi</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">application</font> <font color="#ff0000">fullPath</font> <font color="#0000ff">= "C: \ inetpub \ php \ php-cgi.exe"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black">...</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">application</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">application</font> <font color="#ff0000">fullPath</font> <font color="#0000ff">= "C: \ inetpub \ php4 \ php4.exe"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black">...</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">application</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">application</font> <font color="#ff0000">fullPath</font> <font color="#0000ff">= "C: \ inetpub \ php41 \ php41.exe"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black">...</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">application</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">fastCgi</font> <font color="#0000ff">&gt;</font></font> <font color="gray"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote>  And for each of the sites a module is configured that uses one or another <br>  version (you can use the interface described above, or you can <br>  edit the configuration in the text): <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">handlers</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">add</font> <font color="#ff0000">name</font> <font color="#0000ff">= "PHP4"</font> <font color="#ff0000">path</font> <font color="#0000ff">= "*. php"</font> <font color="#ff0000">verb</font> <font color="#0000ff">= "*"</font> <font color="#ff0000">modules</font> <font color="#0000ff">= "FastCgiModule"</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#ff0000">scriptProcessor</font> <font color="#0000ff">= " <a href="">C: \ inetpub \ php \ php41.exe</a> "</font></font> <font color="black"><font color="#ff0000"><br></font></font>  <font color="black"><font color="#ff0000">resourceType</font> <font color="#0000ff">= "Unspecified"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">handlers</font> <font color="#0000ff">&gt;</font></font> <font color="gray"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><h3>  Using different sets of PHP settings </h3><br>  If you want to customize PHP differently for <br>  different sites, then again, all this can be described through the configuration settings in <br>  applicationHost.config. <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">fastCgi</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">application</font> <font color="#ff0000">fullPath</font> <font color="#0000ff">= " <a href="">C: \ inetpub \ php \ php-cgi.exe</a> "</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#ff0000">arguments</font> <font color="#0000ff">= "- d my.website = wordpress"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">environmentVariables</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">environmentVariable</font> <font color="#ff0000">name</font> <font color="#0000ff">= "PHPRC"</font> <font color="#ff0000">value</font> <font color="#0000ff">= "C: \ inetpub \ wordpress"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">environmentVariables</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">application</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">application</font> <font color="#ff0000">fullPath</font> <font color="#0000ff">= " <a href="">C: \ inetpub \ php \ php-cgi.exe</a> "</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#ff0000">arguments</font> <font color="#0000ff">= "- d my.website = phpsite"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">environmentVariables</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">environmentVariable</font> <font color="#ff0000">name</font> <font color="#0000ff">= "PHPRC"</font> <font color="#ff0000">value</font> <font color="#0000ff">= "C: \ inetpub \ phpsite"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">environmentVariables</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">application</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">fastCgi</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  After that, the settings are associated with the corresponding sites in <br>  web.config: <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">system.webServer</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">handlers</font> <font color="#ff0000">accessPolicy</font> <font color="#0000ff">= "Read, Script"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">add</font> <font color="#ff0000">name</font> <font color="#0000ff">= "PHP"</font> <font color="#ff0000">path</font> <font color="#0000ff">= "*. php"</font> <font color="#ff0000">verb</font> <font color="#0000ff">= "*"</font> <font color="#ff0000">modules</font> <font color="#0000ff">= "FastCgiModule"</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#ff0000">scriptProcessor</font> <font color="#0000ff">= " <a href="http://file///C:/inetpub/php/php-cgi.exe%257C-d%2520my.website%3Dwordpress">C: \ inetpub \ php \ php-cgi.exe | -d my.website = wordpress</a> "</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#ff0000">resourceType</font> <font color="#0000ff">= "Unspecified"</font> <font color="#ff0000">requireAccess</font> <font color="#0000ff">= "Script"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">handlers</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font> <br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">system.webServer</font> <font color="#0000ff">&gt;</font></font> <font color="black"><font color="#0000ff"><br></font></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  According to the above configuration, php.ini <br>  need to be placed in the directory of each site. <br>  When editing settings, it is worth strictly observing the coincidence of the paths to <br>  appropriate php version and with <br>  applicationHost.config and in web.config to <br>  Avoid unexpected results if the paths are confused. <br>  At first glance, editing the configuration may seem complicated and <br>  inconvenient process, but as soon as you get used to the configuration in <br>  XML and distribution settings method <br>  Ctrl + C, Ctrl + V, you will be surprised by the presence of others <br>  ways to configure :) <br><h3>  PHP security settings </h3><br>  In php.ini there are many different settings, many of which <br>  affect the security of using PHP.  Tune <br>  all appropriately, worthy deed. <br>  Set allow_url_fopen = Off <br>  ;  use URL for file operations <br>  Set allow_url_include = Off <br>  register_globals = Off <br>  ;  unregistering global variables <br>  open_basedir = "c: \ inetpub \"; <br>  limitation on the directory in which PHP works <br><br>  max_execution_time = 30;  restriction <br>  runtime scripts <br>  max_input_time = 60 <br>  memory_limit = 16M; <br>  memory size limit <br>  upload_max_filesize = 2M <br>  post_max_size = 8M <br>  max_input_nesting_levels = 64 <br>  display_errors = Off <br>  ;  disabling error messages <br>  log_errors = On <br>  error_log = "C: \ error.log" <br>  expose_php = Off <br>  ;  hide PHP presence <br><br><h2>  Conclusion </h2><br>  PHP on Windows is not <br>  just interesting and convenient, the main thing is that it works.  And the team <br>  IIS is working to make PHP <br>  worked on windows no worse than <br>  Unix / Linux (of course, try to do better). <br>  Since this is a new theme for Microsoft, we can <br>  to make some mistakes, we may not notice or understand something, therefore we <br>  It is very important to receive comments from you - developers and administrators. <br>  Write in the comments your wishes and problems that you see now in <br>  Php on windows and we will <br>  try to solve problems, and wishes to realize. </div><p>Source: <a href="https://habr.com/ru/post/30154/">https://habr.com/ru/post/30154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../30153/index.html">Samorost and all-all-all</a></li>
<li><a href="../301532/index.html">It's time to say goodbye to Rails.</a></li>
<li><a href="../301534/index.html">Manual installation of Windows 7/8 / 8.1 / 10 in a system with GRUB2 bootloader</a></li>
<li><a href="../301536/index.html">FizzBuzz on TensorFlow</a></li>
<li><a href="../301538/index.html">Promotion in social networks. Part 1 - VKontakte and how is everything here?</a></li>
<li><a href="../301540/index.html">How is the training of the highest paid IT-specialists - those who need to understand a very expensive iron</a></li>
<li><a href="../301542/index.html">Another blog for the protection of information and personal data</a></li>
<li><a href="../301546/index.html">How to reduce storage costs</a></li>
<li><a href="../301548/index.html">How to automate business processes from order to sale using open software</a></li>
<li><a href="../30155/index.html">Logo Evolution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>