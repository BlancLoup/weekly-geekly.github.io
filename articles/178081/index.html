<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WebMarkupMin HTML Minifier - a modern HTML minimizer for the .NET platform</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In early 2012, I worked on a series of articles on client optimization in ASP.NET MVC for MSDeveloper.RU. A total of 2 articles were published: ‚ÄúCompr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WebMarkupMin HTML Minifier - a modern HTML minimizer for the .NET platform</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/21f/62a/ac7/21f62aac7c3b66cb05877760892520f0.png" alt="WebMarkupMin logo" width="440" height="86"></p><br><p>  <em>In early 2012, I worked on a series of articles on client optimization in ASP.NET MVC for MSDeveloper.RU.</em>  <em>A total of 2 articles were published: <a href="http://taritsyn.wordpress.com/2012/01/26/klientskaja-optimizacija-v-asp-net-mvc-3-szhatie-js-i-css-fajlov/">‚ÄúCompressing JS and CSS files‚Äù</a> and <a href="http://taritsyn.wordpress.com/2012/02/17/klientskaja-optimizacija-v-asp-net-mvc-3-menedzhery-resursov/">‚ÄúResource Managers‚Äù</a> , but my plans were to write 2 more articles: one about graphics optimization, and the second about minimizing HTML markup and GZIP / Deflate compression ( further just HTTP compression).</em>  <em>Unfortunately, these plans could not be realized due to lack of free time (at that moment, I started the <a href="https://github.com/Taritsyn/BundleTransformer">Bundle Transformer</a> project) and the subsequent closing of the magazine.</em> </p><br><p>  <em>But recently I decided to return to the topic of optimizing HTML markup.</em>  <em>After a little research, I realized that under .NET there are almost no full-fledged HTML minimizers.</em>  <em>All existing .NET solutions produce only 2 operations: deleting unnecessary whitespace and deleting HTML comments, which is why they very much lose to solutions from other platforms.</em>  <em>So I decided to write my own HTML minimizer for .NET, which will be discussed in this article.</em> </p><br><h2>  Evolution of HTML minimizers </h2><br><p>  Before proceeding with the description of my project, I would like to tell you a little about the nearly 15-year history of HTML minimization and the evolution of software that automates this process. </p><br><p>  Contrary to popular belief, techniques to minimize HTML-code appeared much earlier than similar techniques for JavaScript.  Already at the end of 1998, Artemy Lebedev, in the 17th paragraph of the <a href="http://www.artlebedev.ru/kovodstvo/paragraphs/17.html">‚ÄúOptimizer Paranoia‚Äù,</a> described some techniques for minimizing HTML code. </p><br><a name="habracut"></a><p>  By the early 2000s, many HTML minimization techniques were already known, which are still relevant today: </p><br><ol><li>  Remove unnecessary whitespace characters (spaces, tabs and line breaks) </li><li>  Delete HTML comments </li><li>  Removing unnecessary quotes from attributes </li><li> Remove optional end tags (e.g. <code>&lt;/p&gt;</code> and <code>&lt;/li&gt;</code> ) </li></ol><br><p>  But also widespread and dangerous technology, which can lead to incorrect display of the document and the violation of its semantics: </p><br><ol><li>  Deleting the <code>&lt;!DOCTYPE ‚Ä¶&gt;</code> declaration </li><li>  Replacing long tags with shorter ones (for example, <code>&lt;strong&gt;</code> tags were replaced with <code>&lt;b&gt;</code> and <code>&lt;em&gt;</code> with <code>&lt;i&gt;</code> ) </li></ol><br><p>  At the same time, the first HTML minimizers appeared.  Only under Windows OS, there were about a dozen free and shareware programs: <a href="https://thepluginsite.com/products/htmlshrinker/index.htm">HTML Shrinker</a> , <a href="https://www.alentum.com/ahc/">Absolute HTML Compressor</a> , HTML File Optimizer, HTML Source Cleaner, Anetto HTML Optimize !, HTMLCompact, <a href="http.com/">HTML Code Cleaner</a> , <a href="http://www.alonewolfsoft.ru/html_optimizer.htm">HTMLOpt</a> , Absolute HTML Optimizer, etc. </p><br><img alt="The program &quot;Optimizer HTML files 1.1.0&quot;" src="https://habrastorage.org/getpro/habr/post_images/7ef/44e/a24/7ef44ea24ebf09fc607abf16f7fbb50f.png" width="553" height="414"><br><br>  <strong>Fig.</strong>  <strong>1.</strong> HTML File Optimizer 1.1.0 - Typical HTML minimizer of the early 2000s <br><br><p>  By the mid-2000s, the XHTML standard was widely adopted, which required writing HTML code in accordance with the XML syntax rules.  These rules forbade the removal of unnecessary quotes from attributes and the removal of optional end tags.  Thus, the strict rules of XHTML and the ever-increasing throughput have led to the fact that the need to minimize HTML markup has gradually disappeared. </p><br><p>  But a few years ago, due to the growth of the mobile web and the emergence of the HTML5 standard, there was again the need to minimize HTML markup.  The HTML5 standard provides much more options for reducing the size of an HTML document than HTML 4.01.  Many new minimization techniques are well described in the <a href="http://web.archive.org/web/20130425062123/">Google HTML / CSS code design guide</a> and <a href="http://web.archive.org/web/20130425062123/">Google</a> <a href="http://perfectionkills.com/optimizing-html/">‚Äôs Optimizing HTML</a> article by Yuri Zaitsev. </p><br><p>  All this led to the emergence of new powerful HTML-minimizers focused on HTML5.  At the moment, 2 minimizers are the most popular: Sergey Kovalchuk‚Äôs <a href="https://github.com/serg472/htmlcompressor">HtmlCompressor</a> (written in Java) and Yuri Zaitsev's <a href="https://github.com/kangax/html-minifier">Experimental HTML Minifier</a> (written in JavaScript). </p><br><h2>  Web Markup Minifier Project </h2><br><p>  When creating Web Markup Minifier (abbreviated WebMarkupMin), I set myself the task of creating a modern HTML minimizer for the .NET platform and extensions for its integration with ASP.NET.  WebMarkupMin is an Open Source project, the source code of which is published on the <a href="https://webmarkupmin.codeplex.com/">CodePlex</a> website, and distributions can be downloaded via <a href="https://www.nuget.org/packages%3Fq%3Dwebmarkupmin">NuGet</a> . </p><br><p>  In addition to the HTML minimizer, the WebMarkupMin project also implemented XHTML and XML minimizer.  Since this article is devoted to HTML minimization, then it will provide only examples of working with HTML minimizer. </p><br><p>  The project has the following structure: </p><br><ul><li>  <strong>Kernel</strong> - WebMarkupMin.Core </li><li>  <strong>External CSS and JS code minimizers</strong> <br><ul><li>  WebMarkupMin.MsAjax </li><li>  WebMarkupMin.Yui </li></ul></li><li>  <strong>Extensions for integration with ASP.NET</strong> <br><ul><li>  WebMarkupMin.Web </li><li>  WebMarkupMin.Mvc </li><li>  WebMarkupMin.WebForms </li></ul><br></li></ul><h3>  Core </h3><br><p>  The WebMarkupMin.Core module is a library under .NET Framework 4.0 that contains tools for minimizing markup.  This library can be used in various types of .NET applications: ASP.NET, Windows Forms, WPF and console applications.  Since all markup minimizers support not only document minimization, but also minimization of individual code fragments, you can use WebMarkupMin to minimize individual content blocks (for example, minimize article text when it is saved in the administrative part of your site). </p><br><h4>  Markup Minimizers </h4><br><p>  The WebMarkupMin.Core module contains 3 markup minimizers: </p><br><ol><li>  <strong>HtmlMinifier.</strong>  Minimizes HTML and XHTML code.  As a result of the minimization of the output is obtained valid HTML-code. </li><li>  <strong>XhtmlMinifier.</strong>  Minimizes HTML and XHTML code.  As a result of minimization, the output is a code that conforms to the syntax rules XHTML. </li><li>  <strong>XmlMinifier.</strong>  Minimizes XML code. </li></ol><br><p>  Consider the simplest example of using the <code>HtmlMinifier</code> class: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">WebMarkupMin.Example.Console</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> WebMarkupMin.Core; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> WebMarkupMin.Core.Minifiers; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> WebMarkupMin.Core.Settings; <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> htmlInput = <span class="hljs-string"><span class="hljs-string">@"&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=""utf-8"" /&gt; &lt;title&gt; &lt;/title&gt; &lt;link href=""favicon.ico"" rel=""shortcut icon"" type=""image/x-icon"" /&gt; &lt;meta name=""viewport"" content=""width=device-width"" /&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/Content/Site.css"" /&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;- ‚Ä¶&lt;/p&gt; &lt;script src=""http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js""&gt;&lt;/script&gt; &lt;script&gt;(window.jquery) || document.write('&lt;script src=""/Scripts/jquery-1.9.1.min.js""&gt;&lt;\/script&gt;');&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlMinificationSettings { WhitespaceMinificationMode = WhitespaceMinificationMode.Aggressive, RemoveHttpProtocolFromAttributes = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, RemoveHttpsProtocolFromAttributes = <span class="hljs-literal"><span class="hljs-literal">true</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> htmlMinifier = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlMinifier(settings); MarkupMinificationResult result = htmlMinifier.Minify(htmlInput, generateStatistics: <span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.Errors.Count == <span class="hljs-number"><span class="hljs-number">0</span></span>) { MinificationStatistics statistics = result.Statistics; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statistics != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"  : {0:N0} "</span></span>, statistics.OriginalSize); Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"  : {0:N0} "</span></span>, statistics.MinifiedSize); Console.WriteLine(<span class="hljs-string"><span class="hljs-string">": {0:N2}%"</span></span>, statistics.SavedInPercent); } Console.WriteLine(<span class="hljs-string"><span class="hljs-string">" :{0}{0}{1}"</span></span>, Environment.NewLine, result.MinifiedContent); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { IList&lt;MinificationErrorInfo&gt; errors = result.Errors; Console.WriteLine(<span class="hljs-string"><span class="hljs-string">" {0:N0} :"</span></span>, errors.Count); Console.WriteLine(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> error <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> errors) { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">" {0},  {1}: {2}"</span></span>, error.LineNumber, error.ColumnNumber, error.Message); Console.WriteLine(); } } } } }</code> </pre> <br><p>  First, we create an instance of the <code>HtmlMinificationSettings</code> class and override some parameters of HTML minimization.  Then we pass it to an instance of the <code>HtmlMinifier</code> class via the corresponding constructor parameter, after which we call the <code>Minify</code> method with the following parameters: the first parameter contains the HTML code, and the second is a sign that allows the generation of statistical information (the default value is false, because generating statistics requires time and additional server resources).  The <code>Minify</code> method returns an object of type <code>MarkupMinificationResult</code> , which has the following properties: </p><br><ul><li>  <strong>MinifiedContent</strong> - minimized HTML code; </li><li>  <strong>Errors</strong> - a list of errors that occurred during the minimization process; </li><li>  <strong>Warnings</strong> - a list of warnings about problems that were found during the minimization; </li><li>  <strong>Statistics</strong> - statistical information about the minimized code. </li></ul><br><p>  If the error list is empty, then statistics and minimized code are output to the console;  otherwise, error information is displayed. </p><br><p>  And now let's take a closer look at the properties of the <code>HtmlMinificationSettings</code> class: </p><br><p>  <strong>Tab.</strong>  <strong>1.</strong> Properties class <code>HtmlMinificationSettings</code> </p><table><tbody><tr><th>  Property </th><th>  Data type </th><th>  Default value </th><th>  Description </th></tr><tr><td> <code>WhitespaceMinificationMode</code> </td> <td>  Enumeration </td><td> <code>Medium</code> </td> <td><p>  Minimize whitespace mode.  It can take the following values: </p><br><ul><li>  <strong>None</strong> .  Saves whitespace in its original form. </li><li>  <strong>Safe</strong> .  Safe minimization of whitespace characters: removes spaces from the beginning and end of the document;  multiple whitespace characters are replaced by single spaces;  trailing spaces at the directive <code>DOCTYPE</code> trimmed;  trailing spaces in the external and internal contents of invisible tags (tags <code>html</code> , <code>head</code> , <code>body</code> , <code>meta</code> , <code>link</code> , <code>script</code> , etc.) are trimmed;  The trailing spaces of the external contents of non-dependent tags are trimmed ( <code>li</code> , <code>dt</code> , <code>dd</code> , <code>rt</code> , <code>rp</code> , <code>option</code> , <code>tr</code> , <code>td</code> , <code>th</code> tags, etc.). </li><li>  <strong>Medium</strong> .  The average level of minimization of whitespace characters: all safe minimization operations are performed + trailing spaces are cut off at the external and internal contents of block (block) elements. </li><li>  <strong>Aggressive</strong> .  Aggressive minimization of whitespace characters: all the operations of the average minimization level + are performed; trailing spaces are cut off the internal contents of inline elements and inline-block elements. </li></ul><br></td></tr><tr><td> <code>RemoveHtmlComments</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag is responsible for removing all HTML comments, except for conditional comments Internet Explorer and <code>noindex</code> . </td></tr><tr><td> <code>RemoveHtmlCommentsFromScriptsAndStyles</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  A flag that removes HTML comments from <code>script</code> and <code>style</code> tags. </td></tr><tr><td> <code>RemoveCdataSectionsFromScriptsAndStyles</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Flag responsible for removing CDATA sections from <code>script</code> and <code>style</code> tags. </td></tr><tr><td> <code>UseShortDoctype</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag responsible for replacing the existing doctype with a shorter one - <code>&lt;!DOCTYPE html&gt;</code> . </td></tr><tr><td> <code>UseMetaCharsetTag</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag responsible for replacing the <code>&lt;meta http-equiv="content-type" content="text/html; charset=‚Ä¶"&gt;</code> tag with the <code>&lt;meta http-equiv="content-type" content="text/html; charset=‚Ä¶"&gt;</code> tag with <code>&lt;meta charset="‚Ä¶"&gt;</code> . </td></tr><tr><td> <code>EmptyTagRenderMode</code> </td> <td>  Enumeration </td><td> <code>NoSlash</code> </td> <td><p>  The mode of rendering empty tags.  It can take the following values: </p><br><ul><li>  <strong>NoSlash</strong> .  No slash (for example, <code>&lt;br&gt;</code> ); </li><li>  <strong>Slash</strong>  With a slash (for example, <code>&lt;br/&gt;</code> ); </li><li>  <strong>SpaceAndSlash</strong> .  With a slash and a space (for example, <code>&lt;br /&gt;</code> ). </li></ul><br></td></tr><tr><td> <code>RemoveOptionalEndTags</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Flag that removes optional end tags ( <code>html</code> , <code>head</code> , <code>body</code> , <code>p</code> , <code>li</code> , <code>dt</code> , <code>dd</code> , <code>rt</code> , <code>rp</code> , <code>optgroup</code> , <code>option</code> , <code>colgroup</code> , <code>thead</code> , <code>tfoot</code> , <code>tbody</code> , <code>tr</code> , <code>th</code> and <code>td</code> ). </td></tr><tr><td> <code>RemoveTagsWithoutContent</code> </td> <td>  Boolean </td><td> <code>false</code> </td> <td>  The tag is responsible for removing tags with empty content, with the exception of tags <code>textarea</code> , <code>tr</code> , <code>th</code> , <code>td</code> , and tags with attributes <code>class</code> , <code>id</code> , <code>name</code> , <code>role</code> , <code>src</code> and <code>data-*</code> . </td></tr><tr><td> <code>CollapseBooleanAttributes</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag responsible for ‚Äúfolding‚Äù boolean attributes (for example, <code>checked="checked"</code> reduced to <code>checked</code> ). </td></tr><tr><td> <code>RemoveEmptyAttributes</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Flag that removes empty attributes (applies only to the following attributes: <code>class</code> , <code>id</code> , <code>name</code> , <code>style</code> , <code>title</code> , <code>lang</code> , <code>dir</code> , event attributes, the <code>action</code> attribute of the <code>form</code> tag and the <code>value</code> attribute of the <code>input</code> tag). </td></tr><tr><td> <code>AttributeQuotesRemovalMode</code> </td> <td>  Enumeration </td><td> <code>Html5</code> </td> <td><p>  The mode for removing quotes in HTML attributes.  It can take the following values: </p><br><ul><li>  <strong>KeepQuotes</strong> .  Keeps quotes; </li><li>  <strong>Html4</strong> .  Performs removal of quotes in accordance with the standard HTML 4.X; </li><li>  <strong>Html5</strong> .  Removes quotes according to the HTML5 standard. </li></ul><br></td></tr><tr><td> <code>RemoveRedundantAttributes</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td><p>  Flag responsible for removing redundant attributes: </p><br><ul><li>  &lt;script <strong>language = "javascript"</strong> &gt; </li><li>  &lt;script src = "..." <strong>charset = "..."</strong> &gt; </li><li>  &lt;link rel = "stylesheet" <strong>charset = "..."</strong> &gt; </li><li>  &lt;form <strong>method = "get"</strong> &gt; </li><li>  &lt;input <strong>type = "text"</strong> &gt; </li><li>  &lt;a id="‚Ä¶" <strong>name="‚Ä¶"&gt;</strong> </li><li>  &lt;area <strong>shape = "rect"</strong> &gt; </li></ul><br></td></tr><tr><td> <code>RemoveJsTypeAttributes</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag that removes <code>type="text/javascript"</code> attributes from <code>script</code> tags. </td></tr><tr><td> <code>RemoveCssTypeAttributes</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag that removes <code>type="text/css"</code> attributes from the <code>style</code> and <code>link</code> tags. </td></tr><tr><td> <code>RemoveHttpProtocolFromAttributes</code> </td> <td>  Boolean </td><td> <code>false</code> </td> <td>  The flag responsible for removing the HTTP protocol prefix ( <code>http:</code> from attributes that contain a URL (tags marked with the attribute <code>rel="external"</code> ignored). </td></tr><tr><td> <code>RemoveHttpsProtocolFromAttributes</code> </td> <td>  Boolean </td><td> <code>false</code> </td> <td>  The flag responsible for removing the HTTPS protocol prefix ( <code>https:</code> from attributes that contain URLs (tags marked with the attribute <code>rel="external"</code> ignored). </td></tr><tr><td> <code>RemoveJsProtocolFromAttributes</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Flag responsible for removing <code>javascript:</code> pseudo-protocol prefix from event attributes. </td></tr><tr><td> <code>MinifyEmbeddedCssCode</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag that is responsible for minimizing the CSS code in the <code>style</code> tags. </td></tr><tr><td> <code>MinifyInlineCssCode</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag that is responsible for minimizing the CSS code in the <code>style</code> attributes. </td></tr><tr><td> <code>MinifyEmbeddedJsCode</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  The flag responsible for minimizing JS code in <code>script</code> tags. </td></tr><tr><td> <code>MinifyInlineJsCode</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  A flag that is responsible for minimizing JS code in event attributes and hyperlinks with pseudo-protocol <code>javascript:</code> </td></tr></tbody></table><p>  If different parts of your application require the same HTML minimization parameters, then you can specify them only once in the configuration file ( <code>App.config</code> or <code>Web.config</code> ) in the <code>/configuration/webMarkupMin/core/html</code> element: </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"webMarkupMin"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"core"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Configuration.CoreConfiguration, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://tempuri.org/WebMarkupMin.Configuration.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">core</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">whitespaceMinificationMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Medium"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeHtmlComments</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeHtmlCommentsFromScriptsAndStyles</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeCdataSectionsFromScriptsAndStyles</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">useShortDoctype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">useMetaCharsetTag</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">emptyTagRenderMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NoSlash"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeOptionalEndTags</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeTagsWithoutContent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">collapseBooleanAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeEmptyAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">attributeQuotesRemovalMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Html5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeRedundantAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeJsTypeAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeCssTypeAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeHttpProtocolFromAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeHttpsProtocolFromAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">removeJsProtocolFromAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">minifyEmbeddedCssCode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">minifyInlineCssCode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">minifyEmbeddedJsCode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">minifyInlineJsCode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">core</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  To get an instance of the <code>HtmlMinificationSettings</code> class with values ‚Äã‚Äãfrom the configuration file, use the following code: </p><br><pre> <code class="hljs pgsql">HtmlMinificationSettings settings = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Markup.GetHtmlMinificationSettings();</code> </pre> <br><p>  You can also create an instance of the <code>HtmlMinifier</code> class, which will use the settings specified in the configuration file (HTML minimization parameters, as well as registered by default: CSS minimizer, JS minimizer and logger): </p><br><pre> <code class="hljs pgsql">HtmlMinifier htmlMinifier = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Markup.CreateHtmlMinifierInstance();</code> </pre> <br><p>  This method of creating an instance of the HTML minimizer is used in all modules responsible for integration with ASP.NET. </p><br><h4>  CSS and JS code minimizers </h4><br><p>  <code>HtmlMinifier</code> addition to minimizing markup, <code>HtmlMinifier</code> and <code>XhtmlMinifier</code> support: minimizing CSS code in tags and <code>style</code> attributes, and minimizing JavaScript code in <code>script</code> tags, event attributes (for example, <code>onclick</code> ) and <code>javascript:</code> pseudo-protocol hyperlinks. </p><br><p>  CSS and JS code are minimized by classes that implement the <code>ICssMinifier</code> and <code>IJsMinifier</code> from the <code>WebMarkupMin.Core.Minifiers</code> namespace. </p><br><p>  The kernel contains two classes that implement the <code>ICssMinifier</code> interface: </p><br><ol><li>  <strong>NullCssMinifier.</strong>  A stub that should be used when there are no embedded styles in the markup. </li><li>  <strong>KristensenCssMinifier.</strong>  Simplest CSS code minimizer based on Mads Christensen's <a href="https://madskristensen.net/blog/efficient-stylesheet-minification-in-c">Efficient stylesheet minifier</a> .  Used as a minimizer of CSS code by default. </li></ol><br><p>  And two classes that implement the <code>IJsMinifier</code> interface: </p><br><ol><li>  <strong>NullJsMinifier.</strong>  A stub that should be used when there are no embedded scripts in the markup. </li><li>  <strong>CrockfordJsMinifier.</strong>  The simplest JS-code minimizer based on <a href="https://github.com/douglascrockford/JSMin">JSMin</a> Douglas Crockford.  Used as a minimizer of JS-code by default. </li></ol><br><p>  Instances of CSS and JS minimizers can be passed to the markup minimizer through its constructor: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> kristensenCssMinifier = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KristensenCssMinifier(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> crockfordJsMinifier = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CrockfordJsMinifier(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> htmlMinifier = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlMinifier(cssMinifier: kristensenCssMinifier, jsMinifier: crockfordJsMinifier);</code> </pre> <br><p>  If the markup minimizer is created based on the parameters of the configuration file, then the CSS and JS minimizers can be transferred to the markup minimizer by registering them in the configuration file as the default minimizers: </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"webMarkupMin"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"core"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Configuration.CoreConfiguration, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://tempuri.org/WebMarkupMin.Configuration.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">core</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">css</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defaultMinifier</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"KristensenCssMinifier"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minifiers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NullCssMinifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">displayName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Null CSS Minifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Minifiers.NullCssMinifier, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"KristensenCssMinifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">displayName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Mads Kristensen's CSS minifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Minifiers.KristensenCssMinifier, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minifiers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">css</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">js</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defaultMinifier</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CrockfordJsMinifier"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minifiers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NullJsMinifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">displayName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Null JS Minifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Minifiers.NullJsMinifier, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CrockfordJsMinifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">displayName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Douglas Crockford's JS Minifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Minifiers.CrockfordJsMinifier, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minifiers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">js</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">core</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  If CSS-and JS-minimizers are registered in the configuration file, then their instances can be created as follows: </p><br><pre> <code class="hljs pgsql">ICssMinifier cssMinifier = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Code.CreateCssMinifierInstance("KristensenCssMinifier"); IJsMinifier jsMinifier = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Code.CreateJsMinifierInstance("CrockfordJsMinifier");</code> </pre> <br><p>  If you just want to create instances of CSS and JS minimizers that are registered as default minimizers, this can be done as follows: </p><br><pre> <code class="hljs pgsql">ICssMinifier cssMinifier = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Code.CreateDefaultCssMinifierInstance(); IJsMinifier jsMinifier = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Code.CreateDefaultJsMinifierInstance();</code> </pre> <br><h4>  Loggers </h4><br><p>  In addition to manual handling of errors and warnings, WebMarkupMin also provides the ability to connect loggers, with which you can centrally record errors and warnings in your own logs.  A logger can be any class that implements the <code>ILogger</code> interface or inherits the base <code>LoggerBase</code> class from the <code>WebMarkupMin.Core.Loggers</code> namespace. </p><br><p>  The kernel contains two classes that implement the <code>ILogger</code> interface: </p><br><ol><li>  <strong>NullLogger.</strong>  A stub that should be used when you independently process the values ‚Äã‚Äãof the <code>Errors</code> and <code>Warnings</code> properties of the <code>MarkupMinificationResult</code> class. </li><li>  <strong>ThrowExceptionLogger.</strong>  If an error occurs during the minimization, then the class <code>ThrowExceptionLogger</code> throws an exception of type <code>MarkupMinificationException</code> . </li></ol><br><p>  The logger instance can be passed to the markup minimizer through its constructor: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> htmlMinifier = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlMinifier(logger: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThrowExceptionLogger());</code> </pre> <br><p>  If the markup minimizer is created based on the parameters of the configuration file, then the logger can be passed to it by registering in the configuration file as the default logger: </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"webMarkupMin"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"core"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Configuration.CoreConfiguration, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://tempuri.org/WebMarkupMin.Configuration.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">core</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">logging</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defaultLogger</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThrowExceptionLogger"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">loggers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NullLogger"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">displayName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Null Logger"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Loggers.NullLogger, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThrowExceptionLogger"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">displayName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Throw exception logger"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Loggers.ThrowExceptionLogger, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">loggers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">logging</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">core</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  If the logger is registered in the configuration file, then its instance can be created as follows: </p><br><pre> <code class="hljs pgsql">ILogger logger = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.CreateLoggerInstance("ThrowExceptionLogger");</code> </pre> <br><p>  Accordingly, to create a logger registered as the default logger, you can use the following code: </p><br><pre> <code class="hljs pgsql">ILogger logger = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.CreateDefaultLoggerInstance();</code> </pre> <br><p>  It is also possible to use a single logger instance for the entire application: </p><br><pre> <code class="hljs pgsql">ILogger logger = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.GetLoggerInstance("ThrowExceptionLogger");</code> </pre> <br><p>  and </p><br><pre> <code class="hljs pgsql">ILogger logger = WebMarkupMinContext.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.GetDefaultLoggerInstance();</code> </pre> <br><h3>  External CSS and JS code minimizers </h3><br><p>  The embedded CSS and JS code minimizers produce only simple optimizations and cannot provide a high degree of compression.  To solve this problem, additional modules were created that contain adapters for the minimizers popular in the .NET community: <a href="https://ajaxmin.codeplex.com/">Microsoft Ajax Minifier</a> and <a href="">YUI Compressor for .Net</a> . </p><br><p>  The WebMarkupMin.MsAjax module contains two minimization adapters: <code>MsAjaxCssMinifier</code> and <code>MsAjaxJsMinifier</code> .  The WebMarkupMin.Yui module is also similarly organized: <code>YuiCssMinifier</code> and <code>YuiJsMinifier</code> . </p><br><p>  Minimizer adapters can be passed to the markup minimizer using the same mechanisms as the built-in minimizers. </p><br><p>  In addition, the settings of the external minimizers listed above can be changed in the <code>webMarkupMin/msAjax</code> and <code>webMarkupMin/yui</code> sections of the configuration file (for those who use Bundle Transformer, this will seem familiar). </p><br><h3>  Extensions for integration with ASP.NET </h3><br><h4>  WebMarkupMin: Web Extensions </h4><br><p>  The WebMarkupMin.Web module works at the ASP.NET core level and therefore can be used in any of the existing ASP.NET frameworks: Web Forms, MVC and Web Pages. </p><br><p>  WebMarkupMin.Web contains classes of HTTP modules that allow you to minimize and compress the code that is generated by ASP.NET: </p><br><ol><li>  <strong>HtmlMinificationModule.</strong>  Minimizes the content of HTTP responses with the <code>text/html</code> content type using HTML Minifier tools. </li><li>  <strong>XhtmlMinificationModule.</strong>  Minimizes the content of HTTP responses with the <code>text/html</code> or <code>application/xhtml+xml</code> content type using XHTML Minifier. </li><li>  <strong>XmlMinificationModule.</strong>  Minimizes the content of HTTP responses with XML-based content type (except <code>application/xhtml+xml</code> ) using XML Minifier. </li><li>  <strong>CompressionModule.</strong>  Produces HTTP compression of HTTP response content with a text content type. </li></ol><br><p>  The above HTTP modules can only process GET requests and responses with a status code equal to <code>200</code> .  It should also be noted that the <code>HtmlMinificationModule</code> and <code>XhtmlMinificationModule</code> cannot be used together. </p><br><p>  Consider the example of registering HTTP modules in the <code>Web.config</code> file: </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system.webServer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modules</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HtmlMinificationModule"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Web.HttpModules.HtmlMinificationModule, WebMarkupMin.Web"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CompressionModule"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Web.HttpModules.CompressionModule, WebMarkupMin.Web"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modules</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system.webServer</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  In addition, the behavior of these HTTP modules can be controlled using the <code>webMarkupMin/webExtensions</code> configuration section: </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"webMarkupMin"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"core"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Core.Configuration.CoreConfiguration, WebMarkupMin.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"webExtensions"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WebMarkupMin.Web.Configuration.WebExtensionsConfiguration, WebMarkupMin.Web"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sectionGroup</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configSections</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://tempuri.org/WebMarkupMin.Configuration.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webExtensions</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableMinification</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableMinificationInDebugMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableCompression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableCompressionInDebugMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxResponseSize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100000"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">webMarkupMin</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Consider in detail all the properties of the configuration section <code>webExtensions</code> : </p><br><p>  <strong>Tab.</strong>  <strong>2</strong> Properties of the <code>webExtensions</code> configuration section </p><table><tbody><tr><th>  Property </th><th>  Data type </th><th>  Default value </th><th>  Description </th></tr><tr><td> <code>enableMinification</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Includes markup minimization. </td></tr><tr><td> <code>disableMinificationInDebugMode</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Disable markup minimization in debug mode. </td></tr><tr><td> <code>enableCompression</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Enables HTTP text content compression. </td></tr><tr><td> <code>disableCompressionInDebugMode</code> </td> <td>  Boolean </td><td> <code>true</code> </td> <td>  Disables HTTP compression of text content in debug mode. </td></tr><tr><td> <code>maxResponseSize</code> </td> <td>  Integer </td><td> <code>100 000</code> </td> <td>   HTTP- ( ),      . </td></tr></tbody></table><p>  ,     WebMarkupMin: WebMarkupMin.Mvc  WebMarkupMin.WebForms. </p><br><p>   ,    HTTP-      ASP.NET-,  MVC  Web Forms       ,   HTTP-   .  HTTP-    ,   ASP.NET Web Pages. </p><br><h4> WebMarkupMin: ASP.NET MVC Extensions </h4><br><p>  WebMarkupMin.Mvc     -,   ASP.NET MVC  3  4. </p><br><p> WebMarkupMin.Mvc  4 : </p><br><ol><li> <strong>MinifyHtmlAttribute.</strong>      HTML Minifier.         <code>text/html</code> ,     <code>InvalidContentTypeException</code> . </li><li> <strong>MinifyXhtmlAttribute.</strong>      XHTML Minifier.         <code>text/html</code>  <code>application/xhtml+xml</code> ,     <code>InvalidContentTypeException</code> . </li><li> <strong>MinifyXmlAttribute.</strong>      XML Minifier.          XML,     <code>InvalidContentTypeException</code> . </li><li> <strong>CompressContentAttribute.</strong>  HTTP-  . </li></ol><br><p>     : </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">WebMarkupMin.Example.Mvc.Controllers</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Web.Mvc; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Infrastructure.ActionResults; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> WebMarkupMin.Mvc.ActionFilters; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HomeController</span></span> : <span class="hljs-title"><span class="hljs-title">Controller</span></span> { [CompressContent] [MinifyHtml] [OutputCache(CacheProfile = <span class="hljs-string"><span class="hljs-string">"CacheCompressedContent5Minutes"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ } ‚Ä¶ } }</code> </pre> <br><p>     HTTP-      ,          <code>OutputCacheAttribute</code> . </p><br><h4> WebMarkupMin: ASP.NET Web Forms Extensions </h4><br><p>  WebMarkupMin.WebForms     -,   ASP.NET Web Forms  4.0  4.5. </p><br><p> WebMarkupMin.WebForms  3   Web Forms: </p><br><ol><li> <strong>CompressedPage.</strong>   HTTP-. </li><li> <strong>MinifiedAndCompressedHtmlPage.</strong>  HTML-  HTTP-. </li><li> <strong>MinifiedAndCompressedXhtmlPage.</strong>  XHTML-  HTTP-. </li></ol><br><p>      HTML-  HTTP-   Web Forms,       <code>MinifiedAndCompressedHtmlPage</code> : </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">WebMarkupMin.Example.WebForms</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> WebMarkupMin.WebForms.Pages; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Contact</span></span> : <span class="hljs-title"><span class="hljs-title">MinifiedAndCompressedHtmlPage</span></span> { ‚Ä¶ } }</code> </pre> <br><p>       HTTP-    ,      <code>EnableMinification</code>  <code>EnableCompression</code> : </p><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Page_PreLoad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, EventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IsPostBack) { EnableMinification = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; EnableCompression = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }</code> </pre> <br><p>     HTTP-      <code>OutputCache</code> : </p><br><pre> <code class="hljs mel">&lt;%@ Page Title=<span class="hljs-string"><span class="hljs-string">"Contact"</span></span> Language=<span class="hljs-string"><span class="hljs-string">"C#"</span></span> MasterPageFile=<span class="hljs-string"><span class="hljs-string">"~/Site.Master"</span></span> AutoEventWireup=<span class="hljs-string"><span class="hljs-string">"true"</span></span> CodeBehind=<span class="hljs-string"><span class="hljs-string">"Contact.aspx.cs"</span></span> Inherits=<span class="hljs-string"><span class="hljs-string">"WebMarkupMin.Example.WebForms.Contact"</span></span> %&gt; &lt;%@ OutputCache CacheProfile=<span class="hljs-string"><span class="hljs-string">"CacheCompressedContent5Minutes"</span></span> VaryByParam=<span class="hljs-string"><span class="hljs-string">"*"</span></span> %&gt; ‚Ä¶</code> </pre> <br><p>    WebMarkupMin.WebForms     -: <code>CompressedMasterPage</code> , <code>MinifiedAndCompressedHtmlMasterPage</code>  <code>MinifiedAndCompressedXhtmlMasterPage</code> . </p><br><p>    HTML-  HTTP-  -,      <code>MinifiedAndCompressedHtmlMasterPage</code> : </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">WebMarkupMin.Example.WebForms</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Web.UI; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> WebMarkupMin.WebForms.MasterPages; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Site</span></span> : <span class="hljs-title"><span class="hljs-title">MinifiedAndCompressedHtmlMasterPage</span></span> { ‚Ä¶ } }</code> </pre> <br><p>   ,     -    . </p><br><h2>   </h2><br><p>     HTML-  WebMarkupMin      25-40%.       ,    HTTP-      .  -   ,      HTML-  HTTP- .   ,        ,    :      (  HTTP-   ). </p><br><p>    HTML-           ,   ASP.NET,   .    HTML-     ,   CSS-  <code>YuiCssMinifier</code> ,    JS- ‚Äî <code>MsAjaxJsMinifier</code> . </p><br><p> <strong>. 3.</strong>  HTML-  HTTP- </p><table><tbody><tr><th>  Name of the site </th><th>  </th><th>    <sup>*</sup> </th><th>    <sup>*</sup> </th><th>  Saving </th></tr><tr><td>  Poster </td><td> <a href="http://www.afisha.ru/">www.afisha.ru</a> </td><td align="right"> 162,28  </td><td align="right"> 110,64  </td><td align="right"> 31,82% </td></tr><tr><td>  Mts </td><td> <a href="http://www.mts.ru/">www.mts.ru</a> </td><td align="right"> 80,56  </td><td align="right"> 48,50  </td><td align="right"> 39,80% </td></tr><tr><td> OZON </td><td> <a href="https://www.ozon.ru/">www.ozon.ru</a> </td><td align="right"> 107,32  </td><td align="right"> 62,21  </td><td align="right"> 42,03% </td></tr><tr><td> Workle </td><td> <a href="http://www.workle.ru/">www.workle.ru</a> </td><td align="right"> 115,26  </td><td align="right"> 72,94  </td><td align="right"> 36,72% </td></tr></tbody></table><p> <strong>. 4.</strong>  HTML-   HTTP- (    GZIP-) </p><table><tbody><tr><th>  Name of the site </th><th>  </th><th>    <sup>*</sup> </th><th>    <sup>*</sup> </th><th>  Saving </th></tr><tr><td>  Poster </td><td> <a href="http://www.afisha.ru/">www.afisha.ru</a> </td><td align="right"> 30,01  </td><td align="right"> 25,47  </td><td align="right"> 15,14% </td></tr><tr><td>  Mts </td><td> <a href="http://www.mts.ru/">www.mts.ru</a> </td><td align="right"> 19,08  </td><td align="right"> 14,15  </td><td align="right"> 25,86% </td></tr><tr><td> OZON </td><td> <a href="https://www.ozon.ru/">www.ozon.ru</a> </td><td align="right"> 16,58  </td><td align="right"> 14,23  </td><td align="right"> 14,22% </td></tr><tr><td> Workle </td><td> <a href="http://www.workle.ru/">www.workle.ru</a> </td><td align="right"> 19,06  </td><td align="right"> 17,31  </td><td align="right"> 9,15% </td></tr></tbody></table><p> * ‚Äî   ,  1  = 1 024  </p><br><p>  . 3 ,      HTTP-    HTML-    37,59%,     . </p><br><p>      HTTP- (. 4)          .                :    4,54  4,93  .  ,   2     ,       . </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can independently make similar measurements for your site using the online version of the HTML minimizer on the </font></font><a href="http://webmarkupmin.apphb.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebMarkupMin Online</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> site </font><font style="vertical-align: inherit;">.</font></font></p><br> <a href="" title="Open full image"><img src="https://habrastorage.org/getpro/habr/post_images/e8d/020/deb/e8d020debdd2bea9b42ac9bf6edef1aa.png" alt="Online version of the HTML minimizer on WebMarkupMin Online" width="525" height="394"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Fig.</strong> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Online version of the HTML minimizer on WebMarkupMin Online</font></font><br><br><h2>  Links </h2><br><ol><li><font style="vertical-align: inherit;"></font><a href="https://webmarkupmin.codeplex.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebMarkupMin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> project </font><a href="https://webmarkupmin.codeplex.com/"><font style="vertical-align: inherit;">page</font></a><font style="vertical-align: inherit;"> on CodePlex</font></font></li><li><font style="vertical-align: inherit;"><a href="http://webmarkupmin.apphb.com/"><font style="vertical-align: inherit;">WebMarkupMin Online</font></a><font style="vertical-align: inherit;"> site</font></font><a href="http://webmarkupmin.apphb.com/"><font style="vertical-align: inherit;"></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Article Artemy Lebedev </font></font><a href="http://www.artlebedev.ru/kovodstvo/paragraphs/17.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Optimizer Paranoia"</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guide </font></font><a href="http://web.archive.org/web/20130425062123/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´the Google the HTML / the CSS the Style Guide Review¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://habr.com/post/143452/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">translation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Article Yuri Zaitsev </font></font><a href="http://perfectionkills.com/optimizing-html/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Optimizing HTML"</font></font></a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/178081/">https://habr.com/ru/post/178081/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../178063/index.html">Another Epson Moverio BT-100 review</a></li>
<li><a href="../178067/index.html">Git FTP example on Windows</a></li>
<li><a href="../178069/index.html">Changing the coding of the git repository</a></li>
<li><a href="../178071/index.html">Designing your own computer. Part 1</a></li>
<li><a href="../178073/index.html">Two-factor SMS authorization in Redmine</a></li>
<li><a href="../178083/index.html">Crashes caused by exceptions</a></li>
<li><a href="../178085/index.html">Scrum implementation notes - which will necessarily lead to iteration failure if nothing is done</a></li>
<li><a href="../178087/index.html">Bread crumbs (breadcrumbs) in asp.net MVC3</a></li>
<li><a href="../178089/index.html">From Excel to MySQL. Small PHP function (fixed)</a></li>
<li><a href="../178091/index.html">AWS AMAZON - how do you optimize resources</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>