<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Parallel notes ‚Ññ2 - tools for OpenMP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before proceeding to the study of methods of parallelizing programs using OpenMP technology, consider the tools that we need. And we will need first o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Parallel notes ‚Ññ2 - tools for OpenMP</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/675/ec5/1a3/675ec51a32b09405312a95a8d8bb2e55.png" alt="image"><br>  Before proceeding to the study of methods of parallelizing programs using OpenMP technology, consider the tools that we need.  And we will need first of all Visual Studio 2005/2008 and Intel Parallel Studio. <br><a name="habracut"></a><br>  The advantage of OpenMP technology is that by taking the code of a sequential program, you can parallelize it without significant modification.  This is achieved by placing special directives.  Of course, in practice it is necessary not only to insert directives, but also to edit the application code itself, but these changes will be much less than if using alternative technologies, such as MPI. <br><br>  The above means that we can take ordinary sequential code in C / C ++ and begin to parallelize it gradually.  For this we just need to include support for OpenMP in the project.  In Visual Studio 2005/2008, go to the project properties and select the C / C ++ / Language tab, as shown in Figure 1. <br><img src="https://habrastorage.org/getpro/habr/post_images/e0c/347/153/e0c34715339b3ae612ee10d30c939972.png" alt="Visual Studio settings"><br>  Figure 1 - Visual Studio tab with project settings where you can enable OpenMP support <br><br>  Don't forget to choose the platforms and configurations in which you plan to use OpenMP.  As shown in Figure 2, we selected all configurations (debug, release) and all platforms (Win32, x64). <br><img src="https://habrastorage.org/getpro/habr/post_images/04b/2bd/109/04b2bd10937fee266adc3f0391877ab6.png" alt="Select platform"><br>  Figure 2 - The choice of configurations and platforms for which we set parameters 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      OpenMP support is enabled by the ‚ÄúOpenMP Support‚Äù option as shown in Figure 3. <br><img src="https://habrastorage.org/getpro/habr/post_images/134/d3b/640/134d3b640316f3b76c596676b00da2aa.png" alt="OpenMP ON"><br>  Figure 3 - OpenMP support enabled <br><br>  The next step is to connect the header file "omp.h".  It is often reasonable to put "#include &lt;omp.h&gt;" in stdafx.h so that it is visible throughout the project. <br><br>  That's all the preparatory steps that are needed to start exploring OpenMP technology and parallelizing the program code.  We will begin our introduction to OpenMP with the following note.  Now we will continue to get acquainted with the tools.  The fact is that although the capabilities of Visual Studio 2005/2008 are enough to develop parallel OpenMP programs, this is too spartan conditions.  For full-fledged work it is reasonable to use <a href="http://software.intel.com/ru-ru/intel-parallel-studio-home/">Intel Parallel Studio</a> .  I am not an employee of Intel and nobody pays for advertising tools.  Parallel Studio is really convenient and extremely useful tool for developing parallel applications.  I recommend based on my own experience. <br><br>  The Intel Parallel Studio distribution takes about 460 MB and is available for download from the <a href="http://software.intel.com/en-us/intel-parallel-studio-home/">Intel</a> site.  At the same time, the full functionality of Parallel Studio will be available for one trial month, which is quite enough to get acquainted with the principles of operation and experiment with parallel code.  Parallel Studio integrates into Visual Studio 2005/2008 by adding additional menu items and a toolbar (see Figure 4). <br><img src="https://habrastorage.org/getpro/habr/post_images/2b1/ff6/6a6/2b1ff66a64fcd6ffc10efa88bc7773aa.png" alt="Parallel Studio Toolbars"><br>  Figure 4 - Toolbars added by Intel Parallel Studio in Visual Studio <br><br>  In the following parallel notes, we will use the IntelParallel Inspector tool from the Intel Parallel Studio suite to check the parallel code being created for parallel errors.  And also Intel Parallel Amplifier for optimization.  We do not need the Intel Parallel Composer compiler, but we will compile OpenMP applications with it.  The advantages include support for Intel Parallel Composer version of the standard OpenMP 3.0, while the compiler from Visual Studio 2005/2008 only supports OpenMP 2.0.  Intel C ++ also provides some additional features for the static analysis of parallel code, which can be found in the <a href="http://software.intel.com/ru-ru/articles/unsuccessful-attempt-compare-VivaMP-and-Parallel-Lint/">article</a> . <br><br>  To compile an application using Parallel Composer, you should make it an active Intel C ++ compiler.  This can be done using the ‚ÄúUse Intel C ++‚Äù button on the toolbar, as shown in Figure 5. <br><img src="https://habrastorage.org/getpro/habr/post_images/0dd/194/59c/0dd19459cc568041eeb471ddbc086321.png" alt="Select Intel C ++"><br>  Figure 5 - Choosing an Intel C ++ Compiler <br><br>  Now to build the application will use the compiler Intel C ++.  Yes, if after compiling and running the application you see a message similar to that shown in Figure 6, then do not be discouraged. <br><img src="https://habrastorage.org/getpro/habr/post_images/88e/70e/70d/88e70e70d76bd5b75ca6f4d239ceaa7f.png" alt="Error"><br>  Figure 6 - Error launching the test application after recompiling using Intel C ++ <br><br>  Try to just restart Visual Studio, so that the changes that Parallel Studio enters into the environment will come into effect.  If this does not help, use the manual installation of the environment by running the appropriate command files.  They are available from the start menu, as shown in Figure 7. <br><img src="https://habrastorage.org/getpro/habr/post_images/870/a2e/015/870a2e015e8cd3772921b9e7253301b2.png" alt="Set Environment"><br>  Figure 7 - Setting Environment Settings <br><br>  For now, let's finish on this first introduction to the tools.  Download and install Intel Parallel Studio.  Try building some simple program using Intel C ++. </div><p>Source: <a href="https://habr.com/ru/post/83504/">https://habr.com/ru/post/83504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../83471/index.html">How much meat is contained in rice?</a></li>
<li><a href="../83473/index.html">Megaphone Recognizes Apple's Iphone Marriage</a></li>
<li><a href="../83475/index.html">Fragmented PHP programmer Wanted!</a></li>
<li><a href="../83501/index.html">This mysterious Namibia, or boxes in the ocean</a></li>
<li><a href="../83503/index.html">Kernel check. We refresh the core of all the rules without the hassle</a></li>
<li><a href="../83505/index.html">A letter from the monastery or the answer "we do not need your innovation</a></li>
<li><a href="../83506/index.html">Organizing unique processes - ScriptAlone to the rescue</a></li>
<li><a href="../83507/index.html">Samsung Galaxy i7500 - Five Months Later</a></li>
<li><a href="../83508/index.html">Do you know a foreign language?</a></li>
<li><a href="../83509/index.html">Wikipedia Documentary</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>