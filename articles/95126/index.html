<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>History of madness or your sea battle on BrainFuck ªe</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, habra people. Before you is a self-diagnosing hopeless BrainFuck patient. 
 Those who understand everything from the title and do not want t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>History of madness or your sea battle on BrainFuck ªe</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage/habraeffect/c0/39/c0393fe078343c0e030a6969be5f030b.jpg"><br>  Good day, habra people.  Before you is a self-diagnosing hopeless BrainFuck patient. <br>  Those who understand everything from the title and do not want to read the entire post can completely download the <a href="">game</a> and <a href="">BFDev</a> and immediately go under the cut to the end of the post to the section ‚ÄúHow to play‚Äù.  The post tells how I got sick with BrainFuck, and also describes the process of creating the game ‚ÄúSea Battle‚Äù in this wonderful language. <br><br><a name="habracut"></a><br><h4>  Medical history </h4><br>  <b>Infection</b> <br><br>  The BrainFuck language was created solely in order to break (if translated culturally, not literally) your brain.  In short, there are only 8 operators in the language that allow you to work with a memory tape from 8 bit cells.  Read more written on <a href="http://ru.wikipedia.org/wiki/Brainfuck">wikipedia</a> ( <a href="http://en.wikipedia.org/wiki/Brainfuck">eng</a> ).  When I first read this article, I thought that the language is really esoteric and it is impossible to code on this at all.  Is that something normal to write a program that will write programs that will write programs ... However, it was a false impression.  Since there was nothing to do, I decided to figure it out.  As you can see on the same Wikipedia, there are many derived languages: both parallel BrainFork and procedural pBF.  After re-reading the article on Wikipedia, I found a link to the development environment in the BrainFuck language - BFDev.  Fortunately, BFDev supports procedural BrainFuck, which significantly reduces the code without changing the atmosphere of the perverted language.  In fact, this is just a way to get away from copy-paste.  Everything is implemented through 3 new operators: (and) to describe the procedure, and: to call.  The name of the procedure is the number in the cell at the time the operator was called (It took 30 seconds to learn all the operators. BFDev was very convenient, which added fuel to the fire. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>First symptoms</b> <br><br>  I immediately started programming: I quickly wrote an adder program that adds the entered numbers, or rather the numbers.  Then I learned to multiply and ... And that's it.  I couldn‚Äôt invent anything else.  I was unable to come up with a division algorithm.  Almost the feeling that I can write on ‚Äúthis‚Äù anything instantly disappeared, and I returned to the ground.  That is my opinion about the language, I think is still true: you can code on this, but very quickly BrainFuck begins in its true meaning.  After that, BFDev was abandoned for a long time until it again wanted to stretch their brains. <br><br>  <b>Second wave</b> <br><br>  Again, I covered after posts on Habr√© on the sapper and sudoku on batch file.  I decided that I also knew a lot about perversions, and started writing tic-tac-toe on BrainFack.  For this, an algorithm was worked out for working with arrays.  All the algorithms that will be discussed are described at the end of the post.  Drawing a pseudographic field according to the data from the array turned out to be quite simple.  Writing an element to the array in two coordinates was also not a problem.  In what I wrote, it was already possible to play two players, but the computer did not take any part.  The program only meekly drew crosses and toes on the screen without thinking about anything.  All this is of course great, but not interesting.  Then I tried sudoku.  The system of working with tables, implemented in tic-tac-toe, was improved, but due to complete illiteracy in compiling and solving sudoku, the development project was not received either, having stopped at the same stage as tic-tac-toe. <br><br>  <b>Beginning of the End</b> <br><br>  And then, finally, I switched to the program, which is dedicated to this post - Sea Battle.  Immediately make a reservation that I understand by this name.  This is not a classic sea battle, but its modification with a 5x5 field and 4 single-deck ships, the location of which is not subject to any restrictions.  And so, by this time I was already able to interact with the user and work with tables.  Actually, the matter remains for small: to realize all sorts of game situations and teach how to play a computer.  Problems appeared immediately.  On bf, there is not even the simplest if, so I had to reinvent.  When this problem was solved, I turned to the problem with intelligence. <br><br>  <b>Computer infection</b> <br><br>  It needed its own random number generator.  Thanks to Google, the simplest <a href="http://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B8%25D0%25BD%25D0%25B5%25D0%25B9%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25BD%25D0%25B3%25D1%2580%25D1%2583%25D1%258D%25D0%25BD%25D1%2582%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4">congruent linear method for</a> generating pseudo-random variables was found.  During the implementation, two problems arose: in the method, division with the remainder is required and, to obtain coordinates, again, division with the remainder is required.  Honestly, in solving both problems, I cheated.  As it turned out, for a random generator it is not necessary to divide at all, it is enough to be able to add modulo n, and to calculate the coordinates, it is necessary to divide not all numbers and the previously known constant.  For a random number generator, a seed is needed, which is considered the simplest of the sum of the coordinates of the ships placed by a person.  Everything seems to be good in the algorithm: a uniform distribution across the field, an algorithm for calculating the next move that is not obvious to humans, and, most importantly, I was able to implement it! <br><br>  <b>What is wrong with this algorithm?</b> <br><br>  And the bad thing is that it generates a static sequence, and only the number in this sequence, from which the counting begins, depends on the sid.  For this reason, the computer can play only 25 games, and if you remember everything, then it is easy to calculate the location of its ships.  Although I still do not remember what it says about the not so great significance of this problem.  You can of course use other algorithms for generating random numbers, but, unfortunately, while the charge of enthusiasm is over. <br><br><h4>  Autopsy revealed (Algorithm Descriptions) </h4><br><h5>  Simple algorithms </h5><br>  [-] - reset the current cell. <br>  [&gt;] - go to the right until we find 0. It is convenient to store an array in the style of C strings. <br>  [&gt; + &lt;-] - move the item to the cell to the right <br>  [++++++++++&gt;, ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì] - user‚Äôs string query.  The only algorithm that was overlooked in the examples to BFDev. <br><br><h5>  For incurable </h5><br>  <b>Comparing cell value with given number</b> <br>  Brainfuck can only be compared with zero, so first we subtract from what we compare, what we compare with.  Thus, it is possible through the operator [] to perform the action provided for the case else and reset the flag in advance.  Accordingly, in [] for the flag we write an action for the case of equality.  The subtlety is that the code in square brackets must end on the same cell where it started.  Then do not forget to restore the value.  Suppose you need to compare with 1, and we are standing on a cell with an element with which we compare. <br>  [&gt; +&gt; + &lt;&lt; -] &gt;&gt; [&lt;&lt; + &gt;&gt; -] backup <br>  + flag setting <br>  &gt; [mismatch code&gt; - &lt;[-]] <br>  &gt; [coincidence code [-]] <br><br>  <b>Plus modulo 25</b> <br>  The idea is in the usual plus, only with a check whether it turned out 25, if yes, then reset.  Saving the old value does not interest, so there is no backup. <br>  ([-]&gt; + -------------------------&gt; [-] - &lt;[&gt; + &lt;[&lt;-&gt; +]] <br>  &gt; [&lt;&lt; ------------------------- &gt;&gt; [-]] &lt;&lt; +++++++++++++ +++++++++++++ [&gt; + &lt;-]) <br><br>  <b>Work with a two-dimensional array</b> <br>  Suppose we have a two-dimensional array of size 6x22.  This is the array used in the program.  Such array sizes are related to the fact that both displayed fields, as well as symbols of the table image are stored in one array. <br>  First we need to get a number from the two coordinates in the array.  To do this, add the row number multiplied by 22 to the column number. Then the most interesting.  We need to somehow get to this element.  Suppose we are standing in the cell with the calculated number, we have a character that we want to write, or in which we want to write the value on the left, and another empty cell.  The whole thing is located right in front of the first element of the array.  Copy the first item to an empty cell.  Shift two cells with the number and value one unit to the right and decrement the number.  Repeat until the number becomes zero.  In fact, we shift the first n-1 elements of the array two cells to the left in order to get to the n-th.  Further we make copying and we shift the first elements into place.  To stop, we need a zero in front of the array. <br><br>  <b>Division with remainder</b> <br>  The algorithm of dividing not any number into any, but some, not exceeding a predetermined constant, into a constant.  In our case, the dividend is limited to 25, and the divisor is 5. Everything is simple - we decrement the number until it is zero, while every 5 iterations we increment the result.  The remainder is increased at each iteration and reset to zero at every fifth. <br>  [-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[- &gt;&gt; + &lt;[-] &lt; <br>  [-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[- &gt;&gt; + &lt;[-] &lt; <br>  [-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[- &gt;&gt; + &lt;[-] &lt; <br>  [-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[- &gt;&gt; + &lt;[-] &lt; <br>  [-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[-&gt; + &lt;[- &gt;&gt; + &lt;[-] &lt; <br>  ]]]]]]]]]]]]]]]]]]]]]]]]]]] <br><br>  <b>Linear congruential method for generating a pseudo-random variable</b> <br>  It is necessary to generate a number from 0 to 25. The algorithm is based on the following recurrent ratio: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/habraeffect/bc/45/bc45b0a173f0ed7d76c24a4db5cad318.png"></div><br>  According to the formula, it is necessary to multiply by a and add c, with everything modulo 25. Considering the simple formula, we get a = 6.  c can be any, and generally speaking, it would be better to count it from Sid, only in this program with = 2.  Using the plus modulo 25 algorithm, we get the code: <br>  [&gt; [-] :::::: &lt;-]&gt; [-] ::, where: calling the plus procedure modulo 25. That‚Äôs what a simple random number generator is like. <br><br><h4>  How to play </h4><br>  To run the <a href="">program,</a> you need the <a href="">BFDev</a> environment.  Through it open the game file.  Next, you need to select the procedural BrainFuck on the toolbar (the rightmost button, near the button with the number 16).  Everything is ready, press F9 to start and enjoy the game.  The game will start in the Output window from below.  First you need to place 4 of their ships.  Carefully read what the game writes.  Coordinates are entered in the form of two numbers in the order of a row-column (without spaces and separators).  Do not enter coordinates greater than 5, as well as more than 2 digits.  Do not put the ships in the same cell!  There are no checks, so the program will simply start doing anything.  In case of an incorrect input, cycling is possible.  For emergency completion, press Ctrl + F2.  After placing the ships, the game will ask you for a sid.  Sid can be any number from 0 to 9. It is necessary that with the same arrangement of the player‚Äôs ships there is a possible different behavior of the computer.  The first you go.  In case of hitting the move is for those who went.  The game will end as soon as someone breaks all the enemy ships.  There is one glitch here.  The game can be completed only with a slip.  If you win, the game will not end immediately.  To complete, you need to shoot at any cell or press Ctrl + F2. <br>  That's all!  Have a nice game! <br>  <b>PS The</b> link is provided on the dropbox, since the <a href="http://www.4mhz.de/">original</a> Bfdev <a href="http://www.4mhz.de/">site</a> is not stable hosting. </div><p>Source: <a href="https://habr.com/ru/post/95126/">https://habr.com/ru/post/95126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../95116/index.html">Optimal Videoconferencing Solutions</a></li>
<li><a href="../95117/index.html">Theory of evolution of the media plan, or the development of the target audience</a></li>
<li><a href="../95118/index.html">Mmm ... Super language ... Give me C ++ please!</a></li>
<li><a href="../95119/index.html">Interface construction: description of the Active Filtering pattern</a></li>
<li><a href="../95120/index.html">Node.NET: Running Node.JS on Windows via .NET</a></li>
<li><a href="../95127/index.html">Entertaining domain statistics</a></li>
<li><a href="../95128/index.html">New version of Code :: Blocks IDE 10.5 released</a></li>
<li><a href="../95129/index.html">Rambler enabled filter "adult" sites</a></li>
<li><a href="../95130/index.html">The restriction on the use of IEEE 802.11n equipment in Ukraine has been removed</a></li>
<li><a href="../95131/index.html">Centos5.5 Nginx 0.8.33 + PHP5.3.1 (fpm) + MySQL5.5.0 (phpmyadmin) - complete setup for beginners - 1 part</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>