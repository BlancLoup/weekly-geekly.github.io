<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SQL Olympiad: analyzing a calendar task</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, on the radio SQL! 


 We continue the theme of popularizing the SQL language among the broad masses of the IT population of our planet, this ti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SQL Olympiad: analyzing a calendar task</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/uf/gh/1c/ufgh1cgrbbt1ax7ur_oy6es_1tq.png" align="right">  Hello, on the radio SQL! </p><br><p>  We continue the theme of popularizing the SQL language among the broad masses of the IT population of our planet, this time in its Russian-speaking part.  However, residents of other planets, too, pull up. </p><br><p>  Tune in to our gravitational wave, brush the slime, straighten your shells and get comfortable - we start! .. </p><br><p>  In this article, I am going to analyze a calendar task that I gave at <a href="https://habr.com/post/349560/">the SQL Olympiad</a> , about which I wrote earlier.  Fascinating recursion and cryptic aggregate functions, subqueries, and <del>  armed </del>  groupings of data - all this awaits us today! </p><br><p>  I draw your attention that this is exactly the analysis, and not a ready-made solution.  To avoid a blunt <em>copy-paste</em> , I intend to take a couple of actions that will get the finished result only to those who work a little head. </p><a name="habracut"></a><br><p>  First, I will not give the complete and final request code.  To get the final solution, you have to intelligently assemble all the parts of the request into one.  For humans, it is easy, just use the head ganglia.  I will also omit some of the bulky, but completely uninteresting parts (such as aligning the names of the months in the center) for refining by a file in their own place.  Accordingly, the collected result without some refinement will not formally be the correct solution to the original problem.  But I don‚Äôt care about a drop, as my goal is to show how such problems are solved in principle, and not to get the finished result in this particular case. </p><br><p> Secondly, I will take another, not SQL SQL dialect.  Of course, any somewhat non-trivial task requires all sorts of buns, which in different SQL variants are supported slightly differently, causing thoughts that our matrix still fails slightly.  We will essentially need <abbr title="Common table expressions">CTEs</abbr> that allow us to assemble parts of a query with the <code>WITH ...</code> subexpression, and the input parameters in the statement of the problem are given as such.  We will also need recursive queries or their analogue to generate sequences of a previously unknown length, and, finally, the aggregate function of stitching together strings to put everything together.  With such soft limitations, the role of SQL server can claim <del>  any coffee grinder </del>  almost anything where in the description is an abbreviation of SQL.  This PostgreSQL, and SQLite, and even MySQL has finally begun to support CTE.  Commercial databases by themselves are all able for a long time. </p><br><p>  After some time, I chose PostgreSQL to take a closer look at how it will look like in comparison with the Oracle database.  Expressing all the necessary solution steps in a different SQL dialect should not be a problem, I personally coped with this quickly.  Let me remind you that at the Olympiad, from where the task was taken, it was Oracle SQL that was used, on which the reference solution was originally written.  Well, it will be more interesting for me, not only entertainment for the public. </p><br><p>  Well, joking aside, proceed to the analysis.  I will remind the condition. </p><br><div class="spoiler">  <b class="spoiler_title">Task number 1.</b>  <b class="spoiler_title">The calendar</b> <div class="spoiler_text"><p>  Write one SQL query that generates a pocket calendar.  The parameters for the task indicate the year of the calendar and the number of rows and columns to form a matrix of months.  Parameters are set by the following query: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> param(<span class="hljs-keyword"><span class="hljs-keyword">year</span></span>, c, r) (‚Ä¶)</code> </pre> <br><p>  where respectively </p><br><ul><li>  year - the year of the calendar </li><li>  c - the number of columns of the calendar matrix </li><li>  r is the number of rows of the matrix. </li></ul><br><p>  Months are located in the cells of the calendar matrix in order from left to right and then from top to bottom.  The numbers in each month are arranged according to the days of the week, the first day of the week in the first column, and so on.  The beginning of the week should correspond to the database localization settings at the time of launching the request.  The name of the month is also taken from the localization settings and is displayed in the center above the numbers.  Between the months you need to leave a gap so that the numbers of the neighboring months ‚Äúdo not stick together‚Äù.  The very first line should be centered year.  Empty lines should not be. </p><br><p>  For example, with the following parameters: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> param(<span class="hljs-keyword"><span class="hljs-keyword">year</span></span>, c, r) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual)</code> </pre> <br><p>  The following query output should result: </p><br><pre> <code class="dos hljs"> <span class="hljs-number"><span class="hljs-number">2016</span></span>    <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span>    <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span>    <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span>    <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span></code> </pre> </div></div><br><h2 id="podhod-k-resheniyu">  Solution approach </h2><br><p>  What I really like about this task is that it does not need any special knowledge of algorithms or <abbr title="Yes! I wrote it correctly and without errors! Yeah I understood? Everything, you can remove the mouse">anything else</abbr> specific to computer science to solve it.  Well, that is, you need to be able to program at all, it is useful to know what recursion is, etc.  In my opinion all this is still taking place at school.  But the task falls into several steps, each of which has its own nuances.  As a result, the task turned out not too complicated, but also not to say so trivial. </p><br><p>  The only really nontrivial thing that is there is to imagine how you can generate a calendar matrix when the width and height are given by the parameters.  Everything is quite simple with height - all the SQL dialects somehow allow you to generate the number of records specified by the parameter by queries.  These are usually recursive queries, although sometimes special constructions come across.  For example, in the same PostgreSQL there was a <a href="https://postgrespro.ru/docs/postgresql/10/functions-srf">special construct</a> <code>generate_series(MIN, MAX)</code> , which generates a series of values ‚Äã‚Äãfrom MIN to MAX.  You can also use the "classic" recursive query of the form: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-keyword"><span class="hljs-keyword">recursive</span></span> seq(n) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> n+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> seq <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> n&lt;<span class="hljs-keyword"><span class="hljs-keyword">MAX</span></span>)</code> </pre> <br><p>  but the special design will be shorter.  So you can get the desired number of lines. </p><br><p>  Now we decide on how to generate the number of columns specified by the parameter.  In principle, everything is the same as with the lines above, you can generate the required number of records.  And then, when they need to be output, we group and glue these records together with an aggregate function for working with strings.  In PostgreQSL for this, a suitable <code>string_agg()</code> function was found: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> string_agg(t::<span class="hljs-built_in"><span class="hljs-built_in">text</span></span>,<span class="hljs-string"><span class="hljs-string">'-'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> generate_series(<span class="hljs-keyword"><span class="hljs-keyword">MIN</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">MAX</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> s(t);</code> </pre> <br><p>  With the help of this technique, we will generate a matrix blank for the calendar, in which horizontally and vertically will be the required number of months, specified in the parameters.  Each month we will be presented in the form of familiarity in 6 rows with 7 columns for each of the days of the month, like this: </p><br><pre> <code class="dos hljs">xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx</code> </pre> <br><p>  Call each such construction a month, so it will be convenient to refer on.  We will arrange the numbers according to the days of the week by month columns.  And in rows in accordance with the number of the week in the month - first fill in the first line, then the second and so on.  You need seven columns by the number of days of the week, let it be six rows.  More than six weeks in a month can not be.  Of course, I mean the earthly Gregorian calendar.  The request to residents of other planets to treat with understanding, this task was invented primarily for earthlings of the XXI century (013 in the tenture, to the left of the BM). </p><br><p>  Now that everything has become clear with the most non-trivial, we will deal with the remaining technical details.  We will need to generate all the days of the year, then to place them in the matrix obtained above.  There may be a hitch in order to correctly determine this number of days.  For example, given the fact that the year may be a leap year.  Or here in the terrestrial Gregorian calendar in 1582 there are no days from October 5 to October 14 (and Oracle honestly shows this!).  So the days of the desired year will be received as follows: all days from the first day of the year specified in the parameters, and up to (but not including) the first day of the next year. </p><br><p>  And the last step we will need to carefully put everything together, add the names of the months and the year number on top, remove the empty lines, etc. </p><br><p>  Total in order: </p><br><ol><li>  Generate all days of the year. </li><li>  Generate a blank matrix with the required number of rows and columns. </li><li>  Write the days of the year in the matrix of the calendar in the right places. </li><li>  Put it all together to display the results. </li></ol><br><h2 id="realizaciya">  Implementation </h2><br><p>  Go. </p><br><p>  Here are our initial parameters for the task: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> params(<span class="hljs-keyword"><span class="hljs-keyword">year</span></span>, r, c) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br><p>  Generation of all days of the year.  The days themselves can be generated via <code>generate_series(START_DATE, END_DATE)</code> , specifying the beginning of the first day of the year and the end of the previous day from the first day of the next year.  Next, besides the date itself, we will need to get some useful data from it that will be useful to us: the number of the day of the week, the number of the month, the number of the day in the month and the day of the week for the first day of the month.  We can get this data as needed, but it will be cumbersome, it is better to count right away.  Having looked at the <a href="https://postgrespro.ru/docs/postgresql/10/functions-datetime">documentation on the functions of working with dates</a> in PostgreSQL, I see that for this you can use the <code>extract()</code> function. </p><br><pre> <code class="sql hljs">... days(day, moy, dom, dow, fdow) as (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> d <span class="hljs-comment"><span class="hljs-comment">-- day of year (date) , extract(month from d)::int-1 -- month, 0-11 , extract(day from d)::int -- day of month, 1-31 , extract(isodow from d)::int-1 -- day of week, 0-6 , extract(isodow from date_trunc('month', d))::int-1 -- day of week of first day in month, 0-6 from params p , generate_series( (p.year ||'-01-01')::date , ((p.year+1)||'-01-01')::date - 1, '24:00') as s(d))</span></span></code> </pre> <br><p>  Now we will generate a calendar matrix with the required number of months in columns and rows.  For the convenience of further placement of dates in places, in each month of the place (which is 7x6 cells), we immediately write down the number of the month that we will substitute for this place, and the position number of the day in the month in order.  It will take a certain amount of obscure integer arithmetic with division completely and residues, but then the arrangement of dates will be simple and convenient: </p><br><pre> <code class="sql hljs">... matrix(c, r, moy, pos) as (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> cc, rr, cc/<span class="hljs-number"><span class="hljs-number">7</span></span> + rr/<span class="hljs-number"><span class="hljs-number">6</span></span>*pc, cc%<span class="hljs-number"><span class="hljs-number">7</span></span> + rr%<span class="hljs-number"><span class="hljs-number">6</span></span>*<span class="hljs-number"><span class="hljs-number">7</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> params p , generate_series(<span class="hljs-number"><span class="hljs-number">0</span></span>, pc*<span class="hljs-number"><span class="hljs-number">7</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c(c) <span class="hljs-comment"><span class="hljs-comment">-- columns , generate_series(0, pr*6-1) as r(r)) -- rows</span></span></code> </pre> <br><p>  Now we gather together, setting the days in places.  As I said, taking into account the preliminary preparation, this is done on time: </p><br><pre> <code class="sql hljs">... cal (r,c,dom) as (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> r,c,dom <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matrix m <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> <span class="hljs-keyword"><span class="hljs-keyword">outer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> <span class="hljs-keyword"><span class="hljs-keyword">days</span></span> d <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> d.moy = m.moy <span class="hljs-comment"><span class="hljs-comment">-- same month and d.fdow+d.dom = m.pos -- position is day no plus weekday of first day )</span></span></code> </pre> <br><p>  Which is typical, if in the parameters of the task the calendar matrix in size is more or less than 12 months, then everything will work correctly.  Either all the months will be filled and the part will remain empty, or the extra months will not fit, but in both cases the matrix will not go away. </p><br><p>  Everything, the main part is done.  It remains to carefully put everything together in <code>cal_all</code> .  Let's start with the month with the numbers: </p><br><pre> <code class="sql hljs">... cal_all (no, line) as (<span class="hljs-comment"><span class="hljs-comment">-- days in cal matrix select r, string_agg(lpad(coalesce(dom::text,' '), 3+case when c%7=0 then 2 else 0 end) ,'' order by c) from cal group by r ...</span></span></code> </pre> <br><p>  Here the function <code>string_agg()</code> sticks together in one line everything that fell into one row of the calendar matrix.  In this case, the empty day values ‚Äã‚Äãare replaced with spaces, and all numbers are padded to the left with spaces to align them.  And within one month, 3 places are assigned to each number, and between months (condition <code>c%7=0</code> ) - 5 each. This allows you to visually separate months from each other.  Also note that we save the line number.  It will determine the correct order in the final output. </p><br><p>  Then we add the names of the months here.  To do this, we select only the first days of the month from the <code>days</code> representation already made, group them by <code>params.c</code> pieces in a string, and glue them using <code>string_agg()</code> .  If the calendar matrix does not fit all the months, then take the names of only those that fit.  We do not forget to add each name with spaces so that the months are above their months, and also give each resulting line a number so that in the final sorting the months fall into place.  That is, the first line with months must stand before the first line with numbers, the second before the seventh (remember that we took six lines a month away?) And so on.  Everything comes together like this: </p><br><pre> <code class="sql hljs">... union all <span class="hljs-comment"><span class="hljs-comment">-- month names select (moy/pc)*6-0.5, string_agg(lpad(to_char(day, 'Month'), 7*3+2) , '' order by moy) from days d, params p where dom = 1 -- first days of months only and moy &lt; pr*pc group by (moy/pc)</span></span></code> </pre> <br><p>  It remains to top in the middle to finish the year: </p><br><pre> <code class="sql hljs">... union all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">lpad</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">year</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">text</span></span>, (<span class="hljs-number"><span class="hljs-number">7</span></span>*<span class="hljs-number"><span class="hljs-number">3</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>)*c/<span class="hljs-number"><span class="hljs-number">2</span></span>+<span class="hljs-keyword"><span class="hljs-keyword">length</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">year</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">text</span></span>)/<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> params</code> </pre> <br><p>  It now remains to select all the lines in the correct order from <code>cal_all</code> and discard the empty ones, if any: </p><br><pre> <code class="sql hljs">... <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> line <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cal_all <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span>(line) &lt;&gt; <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span></code> </pre> <br><p>  This is the final part of our request. </p><br><p>  What is behind the scenes.  It is <code>params2</code> to make a representation of <code>params2</code> and put in it constants like "number of familiarity for each day of the month" and "number of spaces between the months".  Because if you suddenly need to change them, you will have to look for these numbers in code that is not always obvious, which is fraught with errors.  Well, I have simplified all the alignment functions in order not to overload the code.  And according to the condition of the problem, everything needs to be centered. </p><br><h2 id="vyvody">  findings </h2><br><p>  The main and the main one, which I tried to convey to the audience: there is nothing too difficult in solving such problems. </p><br><p>  What can you say about PostgreSQL in comparison with Oracle on the basis of this task.  Functionally, everything corresponds, you can express approximately the same and approximately the same.  Some nuances are more convenient in one dialect, some in another.  The functions are different, but the documentation is given to us.  Is there a significant difference in something?  Yes there is.  On the example of this task, I see at least in two places. </p><br><p>  First, Oracle supports locales, and in different locales a week can start on different days of the week.  For example, in most parts of Europe, the week starts on Monday, and in the US from Sunday.  In PostgreSQL, there are no locale settings for the first day of the week and it is impossible to generate a calendar so that it starts from the day familiar to the user. </p><br><p>  Secondly, there is support for date conversion and work with the calendar.  In Oracle, October 4, 1582 is October 15 (as determined when entering the Gregorian calendar), there are 05 in PostgreSQL and all the other numbers of October 1582.  The question is not as simple as it may seem at once, there is even a <a href="https://postgrespro.ru/docs/postgresql/10/datetime-units-history">special section</a> in the PostgreSQL documentation explaining the problem and why it has been solved in this way in PostgreSQL.  But the fact remains: the calendars in Oracle and PostgreSQL are different, although both are Gregorian, and, accordingly, the logic of working with dates is significantly different.  This can be important when porting. </p><br><p>  If you liked the presentation, and you have ideas about what else you need to write about, I‚Äôm waiting for you in the comments.  You can also answer the question below, whether you support the publication of the analysis of Olympiad problems. </p><br><p>  At this today I say goodbye to our audience, stay tuned! .. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/359064/">https://habr.com/ru/post/359064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../359054/index.html">Marvin Minsky "The Emotion Machine": Chapter 5 "Imagination"</a></li>
<li><a href="../359056/index.html">Richard Hamming: "The inexplicably high efficiency of mathematics"</a></li>
<li><a href="../359058/index.html">Brand squatters on the march: how we tried to squeeze out the name of the service</a></li>
<li><a href="../359060/index.html">Practice using proxies in javascript</a></li>
<li><a href="../359062/index.html">Who's new? My first experience in the development of the game - from idea to publication</a></li>
<li><a href="../359066/index.html">Saint P Rubyconf 2018: June 10, St. Petersburg</a></li>
<li><a href="../359068/index.html">Systems thinking as the main driver of growth: the concept of Growth System</a></li>
<li><a href="../359070/index.html">ETL: quality data for management decisions</a></li>
<li><a href="../359072/index.html">The book "Head First. Programming for Android. 2nd ed ¬ª</a></li>
<li><a href="../359074/index.html">GeekUniversity opens a set of information security faculty</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>