<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Shocking Objective-C for Java Programmers, Part Two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue the short review of the features of Objective-C, surprising Java programmers (the first part ). In the second part a little will be told ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Shocking Objective-C for Java Programmers, Part Two</h1><div class="post__text post__text-html js-mediator-article">  I continue the short review of the features of Objective-C, surprising Java programmers (the <a href="http://habrahabr.ru/blogs/macosxdev/138441/">first part</a> ).  In the second part a little will be told about the philosophy of the language, about the support of namespaces and the type of <b>id</b> .  Judging by the comments to the first part, it is necessary to philosophize a little, therefore, the promised properties ( <b>property</b> ) are transferred to the third part.  Also find out what questions are asked in American supermarkets. <br><br><a name="habracut"></a><br><br><h4>  Perfection is not when there is nothing to add, but when there is nothing to take away </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As <a href="http://habrahabr.ru/users/bobermaniac/" class="user_link">bobermaniac</a> correctly noted in the comments to the first part - the syntax is not very important, it is more important to understand the idioms of the language.  It is equally important to understand the general principles of constructing a language, its philosophy.  The very shiver takes from the highness. <br><br>  I started with a hackneyed quote, but it perfectly characterizes the design of the C language. Simplicity, expressiveness, brevity, and all this without sacrificing opportunity.  The creators of C believed in people - as a result, the last one always wins in the dispute between the compiler and the programmer (although not always the end user is happy about it).  But then programmers wanted to work with objects.  And on a compact foundation with planted columns object orientation.  The most successful in this is C ++.  But formally using C as the basis, C ++ does not follow its minimalist spirit.  The difference in the thickness of the "Kernigan-Ritchie" and "Straustrup" is suggestive. <br><br>  Brad Cox wanted to add the SmallTalk features in C without creating a completely new language.  He did it and Objective-C created by him is a superset of the C language, preserving the spirit of its design in object extensions.  Those.  C is left as it is, object-oriented innovations are made within clearly defined boundaries and not so many.  In part, does this explain the unfamiliar Objective-C syntax?  All of these [] and @ are those yellow ribbons that enclose the construction area (or do they only hang yellow ribbons at the crime scene?).  One characteristic example of minimalism is that in Objective-C there is not even a special syntax for creating objects, nor is it for defining a constructor and a destructor.  The methods <i>alloc, init, new, dealloc</i> are not part of the language, but part of the framework. <br><br>  The creators of Java went a little different way and focused on the security of the language, introducing more stringent type checking, checking the output of the array, mandatory processing and specification of exceptions, and much more.  Belief in man was replaced by faith in a soulless compiler.  Therefore, it is very important for Java programmers to remember that Objective-C, like C, limits the author much less, often at the expense of code security.  I‚Äôm not even talking about memory management, but such language features as categories, exceptions unchecked by the compiler, informal protocols, no guarantee of the method‚Äôs existence (not always, but it happens).  If you wish, you can shoot with two hands on your legs. <br><br>  Now, let's follow the Java programmer who is looking around at his side and consider a couple of practical questions. <br><br><h4>  Do you have id? </h4><br><br>  A similar question can be heard when buying alcohol in North America.  In response, an identity card with age information (usually a driver's license) should be shown.  I heard the ‚Äúidea‚Äù for the first time in a question and answered with surprise that I was going to drink all 6 bottles of beer without any ideas.  The seller cautiously pulled the packaging towards him. <br><br>  In Objective-C, there is also an id type - a universal reference to an object of any class.  If a Java programmer thought that this resembles a reference to an <b>Object</b> , then he is mistaken.  If the programmer thought that this resembles <b>void *</b> , then he is mistaken.  The compiler treats id exactly as a reference to an object of any class.  You can call any previously defined method of any class (but if the method is not defined, you cannot), assign an object of any class without type casting, etc.  The only restriction is that you cannot access the fields of objects. <br><br>  I will remind once again the structure of classes from the previous article. <br><br><pre><code class="hljs delphi">@<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> Profile : NSObject @<span class="hljs-keyword"><span class="hljs-keyword">property</span></span> (readonly) int version; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> Feature : NSObject - (Profile*) getProfile:(NSString*)<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> Phone : NSObject + (Phone*) designAndProduce:(NSString*)<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>; -(Feature*) getFeature:(NSString*)<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><br>  Now a few examples of using id: <br><br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/   id idPtr = [Phone designAndProduce:@"iphone5"]; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    Phone* anotherPhone = idPtr; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    (     ) Feature* badFeature = idPtr; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   -  ,   getFeture      Feature* anotherBadFeature = [idPtr getFeture:@"bt"]; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    Feature* btFeature = [idPtr getFeature:@"bt"]; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   ,  ,   ,   Profile* profile = [idPtr getProfile:@"a2dp"];</span></span></code> </pre><br><br>  In the latter case, when you start the program, we get the error message: <i>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '- [Phone getProfile:]: unrecognized</i> <br>  and begin to understand a little better how message dispatching works. <br><br><h4>  Plastic or paper? </h4><br><br>  Another good question from the cashiers of American supermarkets.  They ask what kind of package to give, but from the first time very few people guess. <br><br>  So, about the packages.  Unpleasant news for Java programmers - packages ( <b>packages</b> ) are not here.  There are no namespace management mechanisms at all.  You can only choose which header files to include and which not.  Say thanks to the minimalism of C and the conservatism of the authors of Objective-C.  To avoid name conflicts, the use of prefixes is recommended.  For example, NS in the class name <i>NSObject</i> is a prefix of classes developed for NeXT's NextStep OS.  The latter was founded by Steve Jobs in between work at Apple and work at Apple. <br><br>  We need to remember one important difference from Java.  All classes of the Java platform are available to the JVM, all classes added by the user to the classpath and / or lib / ext and something else.  Therefore, name conflict is very difficult to avoid.  An Objective-C program deals only with the classes used in the code, so the probability of a conflict is an order of magnitude less.  This is due to the different <b>import</b> semantics in Java and <b>#import</b> in Objective-C.  The first imports the namespace, allowing the use of short class names in the code.  But the class itself is available without it, you just have to write the full name of the class (ie, not <i>List</i> , but <i>java.util.List</i> ).  In Objective-C, a real import of a class definition occurs; without it, the compiler has no knowledge of this class. <br><br>  Sometimes a half-measure is useful ‚Äî the <b>@class</b> directive allows <b>you</b> to declare a class without defining it. <br><br><pre> <code class="hljs delphi">@<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Profile @<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> Feature : NSObject - (Profile*) getProfile:(NSString*)<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><br>  In this case, we assure the compiler that such a class exists and he agrees to compile our code.  Because  the compiler still does not know anything about the structure of the class, sending messages to objects of this class will cause a compilation error.  But this is usually not necessary, because  The directive is usually used in header files.  The question arises - why is it needed at all if you can do with <i>#import</i> ?  Usually to optimize compilation in large projects, since  import can greatly increase the amount of code and, accordingly, the compilation time.  The second reason is cyclic links between classes. <br><br><h4>  Conclusion </h4><br>  I hope the only question left after reading is - what is the reason for American supermarkets?  I do not know, just such subtitles turned out. </div><p>Source: <a href="https://habr.com/ru/post/138640/">https://habr.com/ru/post/138640/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../138634/index.html">What to expect from MWC 2012?</a></li>
<li><a href="../138635/index.html">Why I choose D</a></li>
<li><a href="../138637/index.html">Radio Survey (Site Survey) Wi-Fi Coverage</a></li>
<li><a href="../138638/index.html">BlackBerry PlayBook OS 2.0 is now available.</a></li>
<li><a href="../138639/index.html">Change phone settings for time and location (no gps, operator towers)</a></li>
<li><a href="../138641/index.html">The evolution of security systems on electronic keys</a></li>
<li><a href="../138644/index.html">Samsung CIS Forum 2012: Faster, Higher, WIDE!</a></li>
<li><a href="../138645/index.html">C February 23! Prizes and gifts to defenders of the fatherland</a></li>
<li><a href="../138646/index.html">In Britain, can close access to The Pirate Bay</a></li>
<li><a href="../138648/index.html">Ya.Subbotnik goes to Chelyabinsk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>