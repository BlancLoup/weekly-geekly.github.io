<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>16 really useful JavaScript solutions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬© shamansir.wordpress.com 

 I present to you a set of functions that I have in a separate utils.js file - these are the functions that I use most oft...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>16 really useful JavaScript solutions</h1><div class="post__text post__text-html js-mediator-article">  ¬© <a href="http://shamansir.wordpress.com/2007/08/12/16-%25D0%25B4%25D0%25B5%25D0%25B9%25D1%2581%25D1%2582%25D0%25B2%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE-%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25B5%25D0%25B7%25D0%25BD%25D1%258B%25D1%2585-%25D1%2580%25D0%25B5%25D1%2588%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9-%25D0%25B4%25D0%25BB%25D1%258F-javascr/">shamansir.wordpress.com</a> <br><br>  I present to you a set of functions that I have in a separate utils.js file - these are the functions that I use most often.  They try to be cross-browser and tested on IE6 / 7, FF2 and Safari 2 and on a combat, complex system, in XHTML documents.  Should, in theory, work, and on other, but not very old versions of browsers - I used the browser check only in exceptional cases.  Some of them, of course, are simply dug up on the Internet (where it‚Äôs usually indicated) and borrowed because of openness, and most of it is constructed from many resources and ideas (and colleagues ‚Äôadvice) in order to work with a bang - because often in different scripts do not take into account various subtleties that, nevertheless - on closer examination - turn out to be common :), well, be pretty readable. <br><a name="habracut"></a><br>  The functions are divided thematically: <br>  <b>OOP</b> - <i>providing (or rather, emulation) the ability to use OOP principles in JavaScript</i> <br>  <b>JS Object Model</b> - <i>using and extending JS embedded objects</i> <br>  <b>Browser Definition</b> - <i>to use in those rare cases where it is nevertheless inevitable</i> <br>  <b>Coordinates / Positioning</b> - <i>calculating coordinates and positioning objects - in view of the fact that this is often a rather tricky thing.</i> <br>  <b>DOM</b> - <i>working with the document object model</i> <br>  <b>AJAX</b> - <i>helper functions for AJAX - as this tool is often applicable</i> <br>  <b>Logging</b> - <i>sometimes you just can't do without it</i> <br><br>  <i>1.</i> The first block is a set of three functions (two of which are empty), allowing to apply (emulate?) All three principles of <b>OOP in JavaScript</b> .  Of the several options proposed on <a href="http://www.ajaxpath.com/javascript-inheritance" title="JavaScript Inheritance on AJAXPath">AJAXPath</a> and on <a href="http://ajaxpatterns.org/Javascript_Inheritance" title="JavaScript Inheritance on AJAXPatterns">AJAXPatterns,</a> I chose this one because of its simultaneous clarity and fast execution speed and modified it a bit, so that the separately declared properties are perceived as static constants. <br><blockquote>  <font color="black"><font color="#0000ff">function</font> Class () {};</font> <font color="black">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </font>  <font color="black">Class.prototype.construct = <font color="#0000ff">function</font> () {};</font> <font color="black"><br><br></font>  <font color="black">Class.extend = <font color="#0000ff">function</font> (def) {</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> classDef = <font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (arguments [0]! == Class) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .construct.apply ( <font color="#0000ff">this</font> , arguments);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">};</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> proto = <font color="#0000ff">new</font> <font color="#0000ff">this</font> (Class);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> superClass = <font color="#0000ff">this</font> .prototype;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> n <font color="#0000ff">in</font> def) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> item = def [n];</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (item instanceof Function) item. $ = superClass;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">else</font> classDef [n] = item;</font> <font color="black"><br></font>  <font color="black">proto [n] = item;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">classDef.prototype = proto;</font> <font color="black"><br></font>  <font color="black">classDef.extend = <font color="#0000ff">this</font> .extend;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> classDef;</font> <font color="black"><br></font>  <font color="black">};</font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>2.</i> The following function is simple but elegant ‚Äî useful in combination with the previous set ‚Äî it <b>creates a function reference to the method</b> : <br><blockquote>  <font color="black"><font color="#0000ff">function</font> createMethodReference ( <font color="#0000ff">object</font> , methodName) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">object</font> [methodName] .apply ( <font color="#0000ff">object</font> , arguments);</font> <font color="black"><br></font>  <font color="black">};</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  Now you can, for example, do this: <br><blockquote>  <font color="black"><font color="#0000ff">var</font> ScrollingHandler = Class.extend ({</font> <font color="black"><br><br></font>  <font color="black">construct:</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">function</font> (elementId) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> ._elementId = elementId;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .assignListener ();</font> <font color="black"><br></font>  <font color="black">},</font> <font color="black"><br><br></font>  <font color="black">assignListener:</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> scrollControlElem =</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">document</font> .getElementById ( <font color="#0000ff">this</font> ._elementId);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (scrollControlElem) {</font> <font color="black"><br></font>  <font color="black">scrollControlElem.onscroll =</font> <font color="black"><br></font>  <font color="black">createMethodReference ( <font color="#0000ff">this</font> , <font color="#A31515">"_onElementScroll"</font> );</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">},</font> <font color="black"><br><br></font>  <font color="black">_onElementScroll:</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">function</font> (ev) {</font> <font color="black"><br></font>  <font color="black">ev = ev ||</font>  <font color="black">window.</font>  <font color="black"><font color="#0000ff">event</font> ;</font> <font color="black"><br></font>  <font color="black">alert ( <font color="#A31515">"please stop scrolling,</font></font> <font color="black"><font color="#A31515"><br></font></font>  <font color="black"><font color="#A31515">I've already got an event: ‚Äû</font> + ev);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">});</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> elmScrollHandler = <font color="#0000ff">new</font> ScrollHandler ( <font color="#A31515">'SomeElmId'</font> );</font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  An object of this class can be associated with a scrolling event of the element with the specified ID and perform something on this occasion. <br><br><h3>  JS object model </h3><br>  <i>3. The</i> following function <b>clones</b> any <b>object</b> along with all its properties: <br><br><blockquote>  <font color="black"><font color="#0000ff">function</font> cloneObj (objToClone) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> clone = [];</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> (i <font color="#0000ff">in</font> objToClone) {</font> <font color="black"><br></font>  <font color="black">clone [i] = objToClone [i];</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> clone;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br>  Use - the simplest to the impossibility: <br><blockquote>  <font color="black"><font color="#0000ff">var</font> clonedObj = cloneObj (objToClone);</font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>4. The</i> <b>converter of objects</b> , the following function allows you to conveniently use all sorts of conditional (and pretending to be) constructions of the form <br><blockquote>  <font color="black"><font color="#0000ff">if</font> (tablet.toLowerCase () <font color="#0000ff">in</font> oc ([ <font color="#A31515">'cialis'</font> , <font color="#A31515">'mevacor'</font> , <font color="#A31515">'zocor'</font> ])) {alert ('I will not!')};</font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br>  The code is borrowed <a href="http://snook.ca/archives/javascript/testing_for_a_v/">from here</a> . <br><br><blockquote>  <font color="black"><font color="#0000ff">function</font> oc (a) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> o = {};</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt;a.length; i ++) {</font> <font color="black"><br></font>  <font color="black">o [a [i]] = ‚Äù;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> o;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  For example, let‚Äôs take the situation when you first need to determine if an object is in a set of single objects, and then if it is not combined with another object in another set of objects.  Assume that only singles with certain names are allowed to the party, or couples from the list with allowed combinations of names: <br><blockquote>  <font color="black"><font color="#0000ff">function</font> isPersonAllowed (maleName, femaleName) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> pairsAllowed = <font color="#0000ff">new</font> Array ([ <font color="#A31515">‚ÄúJohn‚Äù</font> , <font color="#A31515">‚ÄúYoko‚Äù</font> ],</font> <font color="black"><br></font>  <font color="black">[ <font color="#A31515">"Bill"</font> , <font color="#A31515">"Monica"</font> ], [ <font color="#A31515">"Phil"</font> , <font color="#A31515">"Sue"</font> ],</font> <font color="black"><br></font>  <font color="black">[ <font color="#A31515">‚ÄúJason‚Äù</font> , <font color="#A31515">‚ÄúHarrison‚Äù</font> ], [ <font color="#A31515">‚ÄúAdam‚Äù</font> , <font color="#A31515">‚ÄúEve‚Äù</font> ]);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> singlesAllowed = <font color="#0000ff">new</font> Array ("Michael", "Pete", "John",</font> <font color="black"><br></font>  <font color="black">‚ÄúDave‚Äù, ‚ÄúMatthew‚Äù);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> (femaleName</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">([maleName, femaleName] <font color="#0000ff">in</font> oc (pairsAllowed))</font> <font color="black"><br></font>  <font color="black">: (maleName <font color="#0000ff">in</font> oc (singlesAllowed)));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">alert (isPersonAllowed ("Jack"));</font>  <font color="black"><font color="#008000">// false</font></font> <font color="black"><br></font>  <font color="black">alert (isPersonAllowed ("Adam"));</font>  <font color="black"><font color="#008000">// false</font></font> <font color="black"><br></font>  <font color="black">alert (isPersonAllowed ("John"));</font>  <font color="black"><font color="#008000">// true</font></font> <font color="black"><br></font>  <font color="black">alert (isPersonAllowed ("Phil", "Marlo"));</font>  <font color="black"><font color="#008000">// false</font></font> <font color="black"><br></font>  <font color="black">alert (isPersonAllowed ("Jason", "Harrison"));</font>  <font color="black"><font color="#008000">// true</font></font> <font color="black"><br></font>  <font color="black">alert (isPersonAllowed ("Martin", "Luther"));</font>  <font color="black">// false</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>5.</i> The function that allows you to create a <b>hash</b> at first seems a bit redundant: objects in JavaScript are the same hashes, but sometimes you need to set the value of a variable as the name of the property and then the Hash function comes to the rescue.  (yes, yes, of course, there are built-in features, but maybe it's just a little more obvious - you can exclude this function from useful ones, if you want <br><br><blockquote>  <font color="black"><font color="#0000ff">function</font> Hash ()</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .length = 0;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .items = <font color="#0000ff">new</font> Array ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt;arguments.length; i ++) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .items [arguments [i] [0]] = arguments [i] [1];</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  Access to the elements is done through the <code>items</code> property (by the way, you should add <code>keys</code> in a heavier version): <br><blockquote>  <font color="black"><font color="#0000ff">var</font> Game = Class.extend ({</font> <font color="black"><br></font>  <font color="black">STG_STOP: 0,</font> <font color="black"><br></font>  <font color="black">STG_START: 1,</font> <font color="black"><br></font>  <font color="black">STG_LOADING: 2,</font> <font color="black"><br></font>  <font color="black">STG_MENU: 3,</font> <font color="black"><br></font>  <font color="black">STG_PROCESS: 4,</font> <font color="black"><br><br></font>  <font color="black">construct:</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">function</font> () { <font color="#0000ff">this</font> ._stage = Game.STG_LOADING;</font>  <font color="black">},</font> <font color="black"><br><br></font>  <font color="black">getStage:</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> ._stage;</font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">});</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> stateMap = <font color="#0000ff">new</font> Hash (</font> <font color="black"><br></font>  <font color="black">[Game.STG_START, <font color="#A31515">"start"</font> ],</font> <font color="black"><br></font>  <font color="black">[Game.STG_LOADING, <font color="#A31515">"loading"</font> ],</font> <font color="black"><br></font>  <font color="black">[Game.STG_MENU, <font color="#A31515">"menu"</font> ],</font> <font color="black"><br></font>  <font color="black">[Game.STG_PROCESS, <font color="#A31515">"process"</font> ],</font> <font color="black"><br></font>  <font color="black">[Game.STG_STOP, <font color="#A31515">‚Äústopping‚Äù</font> ]);</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> someGame = <font color="#0000ff">new</font> Game ();</font> <font color="black"><br></font>  <font color="black">alert ("You are <font color="#0000ff">in</font> " + stateMap.items [someGame.getStage ()] + "stage!");</font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>6.</i> Three other functions simply simplify and / or make some operations more obvious: <code>getTime</code> reduces the access to getting the <b>current time</b> by 11 characters, <code>getTimeDelta</code> allows you to find the <b>gap in milliseconds</b> between the time periods (or the specified time and the current time, in one-parameter format), and the last function extends the properties of the <code>Number</code> object so that <b>with</b> its <b><code>NaN</code> value</b> one can <b>get <code>0</code></b> little faster. <br><blockquote>  <font color="black"><font color="#0000ff">function</font> getTime () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">new</font> Date (). getTime ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> getTimeDelta (timeBegin, timeEnd) {</font> <font color="black"><br></font>  <font color="black">timeEnd = timeEnd ||</font>  <font color="black">getTime ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> timeEnd - timeBegin;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">Number.prototype.NaN0 = <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> isNaN ( <font color="#0000ff">this</font> )?</font>  <font color="black">0: <font color="#0000ff">this</font> ;</font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br><h3>  Browser Definition </h3><br>  <i>7.</i> A small object, called by the name of browsers whose properties are the essence of the conditions.  This achieves a more readable (but not as scrupulous as it could be) <b>definition of most types of browsers</b> .  This object was borrowed by me from a project in which I participated - and somehow got accustomed, but I think the true authors are still somewhere in the network, and the code is not that complicated and cumbersome to claim it strongly :) .  In addition, it is certainly not ideally reliable (and some say it is not reliable at all), but so far on the browsers listed, it did not let me down even once :).  If you are not satisfied with this state of affairs - you can use something similar with <a href="http://www.howtocreate.co.uk/jslibs/htmlhigh/sniffer.html">HowToCreate</a> .  And I repeat: I try to use this definition (as it is said, for example, by reference) <i>‚Äúonly if a specific bug is known in a specific browser and needs to be circumvented‚Äù</i> .  Also - it is easy to reassemble this object into one long condition, for a lower execution speed (see, again, the <a href="http://www.howtocreate.co.uk/jslibs/htmlhigh/sniffer.html">link</a> ) <br><br><blockquote>  <font color="black"><font color="#0000ff">var</font> USER_DATA = {</font> <font color="black"><br></font>  <font color="black">Browser: {</font> <font color="black"><br></font>  <font color="black">KHTML: /Konqueror|KHTML/.test (navigator.userAgent) &amp;&amp;</font> <font color="black"><br><br></font>  <font color="black">! /Apple/.test (navigator.userAgent),</font> <font color="black"><br></font>  <font color="black">Safari: /KHTML/.test (navigator.userAgent) &amp;&amp;</font> <font color="black"><br></font>  <font color="black">/Apple/.test (navigator.userAgent),</font> <font color="black"><br></font>  <font color="black">Opera: !! window.opera,</font> <font color="black"><br></font>  <font color="black">MSIE: !! (window.attachEvent &amp;&amp;! Window.opera),</font> <font color="black"><br></font>  <font color="black">Gecko: /Gecko/.test (navigator.userAgent) &amp;&amp;</font> <font color="black"><br></font>  <font color="black">! / Konqueror | KHTML / .test (navigator.userAgent)</font> <font color="black"><br></font>  <font color="black">},</font> <font color="black"><br></font>  <font color="black">OS: {</font> <font color="black"><br></font>  <font color="black">Windows: navigator.platform.indexOf ( <font color="#A31515">"Win"</font> )&gt; -1,</font> <font color="black"><br></font>  <font color="black">Mac: navigator.platform.indexOf ( <font color="#A31515">"Mac"</font> )&gt; -1,</font> <font color="black"><br></font>  <font color="black">Linux: navigator.platform.indexOf ( <font color="#A31515">"Linux"</font> )&gt; -1</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br><h3>  Coordinates / Positioning </h3><br>  <i>8.</i> A set of functions that allow to obtain the <b>coordinates of an element</b> on the user's screen.  If your document is static relative to the window and does not have scrollbars - it is better to use the <code>getPosition</code> function - this will be faster.  In the opposite case, use <code>getAlignedPosition</code> - it takes into account the positions of the scrollbars.  Just note: the <code>top</code> value of an element can be oriental if the element is at the top outside the window ‚Äî in order to synchronize with the mouse cursor, sometimes it is necessary to reset the height in this case.  The main script is borrowed from <a href="http://blog.firetree.net/2005/07/04/javascript-find-position/">one blog</a> , the Aligned version is the result of searching through the mixes and combining information from <a href="http://xhtml.ru/2007/03/10/advanced-thumbnail-creator/">two</a> <a href="http://www.habrahabr.ru/blog/webdev/13897.html">articles</a> (when a <code>DOCTYPE</code> IE is detected, it enters its own, somewhat unpredictable, mode).  Also, this method is combined with obtaining positions from the <a href="">source code</a> <a href="http://www.webreference.com/programming/javascript/mk/column2/">guide for Drag'n'Drop</a> .  Please note: the <code>NaN0</code> function from <code>NaN0</code> <i>6</i> is used here, you will need to add it to the script so that everything works as expected (thanks, <a href="http://invisibleman.ru/">Homer</a> ). <br><blockquote>  <font color="black"><font color="#0000ff">var</font> IS_IE = USER_DATA [ <font color="#A31515">'Browser'</font> ] .MSIE;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> getPosition (e) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> left = 0;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> top = 0;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">while</font> (e.offsetParent) {</font> <font color="black"><br></font>  <font color="black">left + = e.offsetLeft + (e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderLeftWidth)). NaN0 (): 0);</font> <font color="black"><br></font>  <font color="black">top + = e.offsetTop + (e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderTopWidth)). NaN0 (): 0);</font> <font color="black"><br></font>  <font color="black">e = e.offsetParent;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">left + = e.offsetLeft + (e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderLeftWidth)). NaN0 (): 0);</font> <font color="black"><br></font>  <font color="black">top + = e.offsetTop + (e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderTopWidth)). NaN0 (): 0);</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> {x: left, y: top};</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> getAlignedPosition (e) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> left = 0;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> top = 0;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">while</font> (e.offsetParent) {</font> <font color="black"><br></font>  <font color="black">left + = e.offsetLeft + (e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderLeftWidth)). NaN0 (): 0);</font> <font color="black"><br></font>  <font color="black">top + = e.offsetTop + (e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderTopWidth)). NaN0 (): 0);</font> <font color="black"><br></font>  <font color="black">e = e.offsetParent;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (e.scrollLeft) {left - = e.scrollLeft;</font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (e.scrollTop) {top - = e.scrollTop;</font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> docBody = <font color="#0000ff">document</font> .documentElement?</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">document</font> .documentElement: <font color="#0000ff">document</font> .body;</font> <font color="black"><br><br></font>  <font color="black">left + = e.offsetLeft +</font> <font color="black"><br></font>  <font color="black">(e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderLeftWidth)). NaN0 ()</font> <font color="black"><br></font>  <font color="black">: 0) +</font> <font color="black"><br></font>  <font color="black">(IS_IE? (ParseInt (docBody.scrollLeft)). NaN0 (): 0) - (parseInt (docBody.clientLeft)). NaN0 ();</font> <font color="black"><br></font>  <font color="black">top + = e.offsetTop +</font> <font color="black"><br></font>  <font color="black">(e.currentStyle?</font> <font color="black"><br></font>  <font color="black">(parseInt (e.currentStyle.borderTopWidth)). NaN0 ()</font> <font color="black"><br></font>  <font color="black">: 0) +</font> <font color="black"><br></font>  <font color="black">(IS_IE? (ParseInt (docBody.scrollTop)). NaN0 (): 0) - (parseInt (docBody.clientTop)). NaN0 ();</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> {x: left, y: top};</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>9.</i> To determine the current <b>coordinates of the</b> mouse <b>cursor</b> and the <b>displacement of the element relative to the cursor is</b> easy if you use the appropriate functions: <br><blockquote>  <font color="black"><font color="#0000ff">function</font> mouseCoords (ev) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (ev.pageX || ev.pageY) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> {x: ev.pageX, y: ev.pageY};</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> docBody = <font color="#0000ff">document</font> .documentElement</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black"><font color="#0000ff">document</font> .documentElement</font> <font color="black"><br></font>  <font color="black">: <font color="#0000ff">document</font> .body;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> {</font> <font color="black"><br></font>  <font color="black">x: ev.clientX + docBody.scrollLeft - docBody.clientLeft,</font> <font color="black"><br></font>  <font color="black">y: ev.clientY + docBody.scrollTop - docBody.clientTop</font> <font color="black"><br></font>  <font color="black">};</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> getMouseOffset (target, ev, aligned) {</font> <font color="black"><br></font>  <font color="black">ev = ev ||</font>  <font color="black">window.</font>  <font color="black"><font color="#0000ff">event</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (aligned == <font color="#0000ff">null</font> ) aligned = <font color="#0000ff">false</font> ;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> docPos = aligned</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">getAlignedPosition (target)</font> <font color="black"><br></font>  <font color="black">: getPosition (target);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> mousePos = mouseCoords (ev);</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> {</font> <font color="black"><br></font>  <font color="black">x: mousePos.x - docPos.x,</font> <font color="black"><br></font>  <font color="black">y: mousePos.y - docPos.y</font> <font color="black"><br></font>  <font color="black">};</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  The latter function can also be used in two modes due to the <code>aligned</code> attribute and is intended for convenient use in event handlers, for example: <br><blockquote>  <font color="black"><font color="#0000ff">function</font> onMouseMove (elm, ev) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> mouseOffset = getMouseOffset (elm, ev);</font> <font color="black"><br></font>  <font color="black">console.log ( <font color="#A31515">"x:% d; y:% d"</font> , mouseOffset.x, mouseOffset.y);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">...</font> <font color="black"><br></font>  <font color="black">&lt;div id = <font color="#A31515">"someId"</font> onmousemove = <font color="#A31515">"onMouseMove (this, event);</font></font> <font color="black"><font color="#A31515"><br></font></font>  <font color="black"><font color="#A31515">return false; ‚Äù</font> &gt; &lt;/ div&gt;</font> <font color="gray">This was the code highlighted with the <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>10.</i> Determining the <b>height of an element is</b> sometimes more difficult than determining its other parameters, but these two functions will come to the rescue: <br><blockquote>  <font color="black"><font color="#0000ff">function</font> findOffsetHeight (e) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> res = 0;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">while</font> ((res == 0) &amp;&amp; e.parentNode) {</font> <font color="black"><br></font>  <font color="black">e = e.parentNode;</font> <font color="black"><br></font>  <font color="black">res = e.offsetHeight;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> res;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> getOffsetHeight (e) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">this</font> .element.offsetHeight ||</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .element.style.pixelHeight ||</font> <font color="black"><br></font>  <font color="black">findOffsetHeight (e);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br><h3>  Dom </h3><br>  <i>11.</i> Sometimes you need <b>to go recursively through the DOM tree</b> , starting with a certain element and performing a certain function over each of the descendants, getting into the very depths.  The DOM has a <code>TreeWalker</code> object, but it does not work in IE and is not always convenient / easy to use.  The <code>walkTree</code> function allows <code>walkTree</code> to perform some other function on each of the elements and also allows you to send a certain data packet to it.  The <code>searchTree</code> function differs from it in that it stops the passage through the tree at the first successful result and returns the result to the call point: <br><blockquote>  <font color="black"><font color="#0000ff">function</font> walkTree (node, mapFunction, dataPackage) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (node ‚Äã‚Äã== <font color="#0000ff">null</font> ) <font color="#0000ff">return</font> ;</font> <font color="black"><br></font>  <font color="black">mapFunction (node, dataPackage);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt;node.childNodes.length; i ++) {</font> <font color="black"><br></font>  <font color="black">walkTree (node.childNodes [i], mapFunction, dataPackage);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> searchTree (node, searchFunction, dataPackage) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (node ‚Äã‚Äã== <font color="#0000ff">null</font> ) <font color="#0000ff">return</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> funcResult = searchFunction (node, dataPackage);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (funcResult) <font color="#0000ff">return</font> funcResult;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt;node.childNodes.length; i ++) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> searchResult = searchTree (node.childNodes [i],</font> <font color="black"><br></font>  <font color="black">searchFunction, dataPackage);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (searchResult) <font color="#0000ff">return</font> searchResult;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  The example uses the functions <code>setElmAttr</code> and <code>getElmAttr</code> , which will be discussed later in clause <i>13</i> .  In essence, they do the same thing as <code>getAttribute</code> and <code>setAttribute</code> .  You can find explanations of the used <code>oc</code> function in item <i>4</i> .  In the first part of the example, the root element attribute ‚ÄúnodeType‚Äù is set to ‚Äúroot‚Äù, and all its descendants - in ‚Äúchild‚Äù.  The second part also demonstrates the transfer of a data packet ‚Äî when the first element with the attribute ‚Äúclass‚Äù equal to one of the names listed in the packet is found, the attribute ‚ÄúisTarget‚Äù is set to ‚Äútrue‚Äù. <br><br><blockquote>  <font color="black"><font color="#0000ff">var</font> rootElement = <font color="#0000ff">document</font> .getElementById ( <font color="#A31515">'rootElm'</font> );</font> <font color="black"><br><br></font>  <font color="black">setElmAttr (rootElement, <font color="#A31515">"nodeType"</font> , <font color="#A31515">"root"</font> );</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> childNodeFunc = <font color="#0000ff">function</font> (node) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (node.nodeName &amp;&amp; (node.nodeName! == <font color="#A31515">'#text'</font> )</font> <font color="black"><br></font>  <font color="black">&amp;&amp; (node.nodeName! == <font color="#A31515">'#comment'</font> )) {</font> <font color="black"><br></font>  <font color="black">setElmAttr (node, <font color="#A31515">"nodeType"</font> , <font color="#A31515">"child"</font> );</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">walkTree (rootElement, childNodeFunc);</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> findTargetNode = <font color="#0000ff">function</font> (node, classList) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> ((node.nodeName &amp;&amp; (node.nodeName! == <font color="#A31515">'#text'</font> )</font> <font color="black"><br></font>  <font color="black">&amp;&amp; (node.nodeName! == <font color="#A31515">'#comment'</font> )) &amp;&amp;</font> <font color="black"><br></font>  <font color="black">(getElmAttr (node, <font color="#A31515">"class"</font> ) <font color="#0000ff">in</font> oc (classList))) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> node;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> targetNode = searchTree (rootElement, findTargetNode,</font> <font color="black"><br></font>  <font color="black">[ <font color="#A31515">'headingClass'</font> , <font color="#A31515">'footerClass'</font> , <font color="#A31515">'tableClass'</font> ]);</font> <font color="black"><br></font>  <font color="black">setElmAttr (targetNode, ‚ÄúisTarget‚Äù, <font color="#0000ff">true</font> );</font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <b>NB!</b>  (be careful with the use of these functions and try to avoid their too frequent call (more than once per second) even on the average branching tree - they can devour a lot of resources. Or at least call them in the background via <code>setTimeout</code> ) <br><br>  <i>12.</i> <b>Removing nodes</b> is sometimes a necessary task.  Sometimes you need to remove the node itself, and sometimes - only its descendants.  The <code>removeChildrenRecursively</code> function recursively deletes all descendants of the specified node, without affecting, of course, itself.  The function <code>removeElementById</code> , as the name says, deletes a node by its <code>id</code> ‚Äî for all the simplicity of the task, the method is relatively tricky: <br><blockquote>  <font color="black"><font color="#0000ff">function</font> removeChildrenRecursively (node)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (! node) <font color="#0000ff">return</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">while</font> (node.hasChildNodes ()) {</font> <font color="black"><br></font>  <font color="black">removeChildrenRecursively (node.firstChild);</font> <font color="black"><br></font>  <font color="black">node.removeChild (node.firstChild);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> removeElementById (nodeId) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">document</font> .getElementById (nodeId) .parentNode.removeChild (</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">document</font> .getElementById (nodeId));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>13.</i> It would seem that the elementary task of <b>working with the attributes of an element</b> sometimes raises absolutely unexpected problems: for example, IE throws an exception when trying to access the height / width attributes of a <code>table</code> element, while Safari has a different way to access attributes with namespaces.  The following functions bypass all the problems I have encountered without much damage to the execution speed (of course, in standard cases it is better to use the built-in functions): <br><blockquote>  <font color="black"><font color="#0000ff">var</font> IS_SAFARI = USER_DATA [ <font color="#A31515">'Browser'</font> ]. Safari;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> getElmAttr (elm, attrName, ns) {</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// IE6 fails getAttribute when used on table element</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> elmValue = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">elmValue = (elm.getAttribute</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">elm.getAttribute ((ns? (ns + NS_SYMB): ‚Äù)</font> <font color="black"><br></font>  <font color="black">+ attrName): <font color="#0000ff">null</font> );</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">catch</font> (e) { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ;</font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (! elmValue &amp;&amp; IS_SAFARI) {</font> <font color="black"><br></font>  <font color="black">elmValue = (elm.getAttributeNS</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">elm.getAttributeNS (ns, attrName)</font> <font color="black"><br></font>  <font color="black">: <font color="#0000ff">null</font> );</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> elmValue;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> setElmAttr (elm, attrName, value, ns) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (! IS_SAFARI ||! ns) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> (elm.setAttribute</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">elm.setAttribute ((ns? (ns + NS_SYMB): ‚Äù)</font> <font color="black"><br></font>  <font color="black">+ attrName, value): <font color="#0000ff">null</font> );</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">else</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> (elm.setAttributeNS</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">elm.setAttributeNS (ns, attrName, value)</font> <font color="black"><br></font>  <font color="black">: <font color="#0000ff">null</font> );</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> remElmAttr (elm, attrName, ns) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (! IS_SAFARI ||! ns) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> (elm.removeAttribute</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">elm.removeAttribute ((ns? (ns + NS_SYMB): ‚Äù)</font> <font color="black"><br></font>  <font color="black">+ attrName): <font color="#0000ff">null</font> );</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">else</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> (elm.removeAttributeNS</font> <font color="black"><br></font>  <font color="black">?</font>  <font color="black">elm.removeAttributeNS (ns, attrName)</font> <font color="black"><br></font>  <font color="black">: <font color="#0000ff">null</font> );</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br><h3>  Logging </h3><br>  <i>14.</i> The function below to help with <b>logging is</b> very simple, add the <code>&lt;div id="LOG_DIV"&gt;&lt;/div&gt;</code> element to the right place in the document, set the required height to it, and the information + will be reset to it and scrolled: <br><blockquote>  <font color="black"><font color="#0000ff">function</font> LOG (informerName, text) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> logElement = <font color="#0000ff">document</font> .getElementById ( <font color="#A31515">'LOG_DIV'</font> );</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (logElement) {</font> <font color="black"><br></font>  <font color="black">logElement.appendChild ( <font color="#0000ff">document</font> .createTextNode (</font> <font color="black"><br></font>  <font color="black">informerName + <font color="#A31515">':'</font> + text));</font> <font color="black"><br></font>  <font color="black">logElement.appendChild ( <font color="#0000ff">document</font> .createElement ( <font color="#A31515">'br'</font> ));</font> <font color="black"><br></font>  <font color="black">logElement.scrollTop + = 50;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <i>15.</i> In the wonderful <a href="http://www.getfirebug.com/">Firebug</a> plugin for the Firefox browser there is a wonderful <b>console</b> in which you can <a href="http://www.getfirebug.com/console.html">perform logging</a> with many features.  However, if you are debugging in parallel the code in other browsers, references to it can cause errors.  In order not to clear the code from the logs every time, you can use the following stub: <br><blockquote>  <font color="black"><font color="#0000ff">var</font> Console = Class.extend ({</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// the stub</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">// if not - just pass all calls</font></font> <font color="black"><br></font>  <font color="black">construct: <font color="#0000ff">function</font> () {},</font> <font color="black"><br></font>  <font color="black">log: <font color="#0000ff">function</font> () {},</font> <font color="black"><br></font>  <font color="black">info: <font color="#0000ff">function</font> () {},</font> <font color="black"><br></font>  <font color="black">warn: <font color="#0000ff">function</font> () {},</font> <font color="black"><br></font>  <font color="black">error: <font color="#0000ff">function</font> () {}</font> <font color="black"><br></font>  <font color="black">});</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">if</font> (! window.console) {</font> <font color="black"><br></font>  <font color="black">console = <font color="#0000ff">new</font> Console ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://poison.qsh.ru/">Source Code Highlighter</a> .</font> </blockquote><br><br>  <b>UPD:</b> Corrected links to Source Code Highlighter, thanks. </div><p>Source: <a href="https://habr.com/ru/post/28325/">https://habr.com/ru/post/28325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../283238/index.html">Welcome to the DotNext conference</a></li>
<li><a href="../28324/index.html">Two communicating news feeds. How?</a></li>
<li><a href="../283242/index.html">Taming the elephant or what is HUE</a></li>
<li><a href="../283244/index.html">F1 2015: a new level of realism on the PC</a></li>
<li><a href="../283248/index.html">9 secrets of online payments. Part 5: Mobile Payments</a></li>
<li><a href="../283250/index.html">Sale of PHDays VI tickets closes.</a></li>
<li><a href="../283252/index.html">Lossless data compression algorithms: what they say about markets</a></li>
<li><a href="../283254/index.html">9 secrets of online payments. Part 6: one click payment</a></li>
<li><a href="../283256/index.html">Trend Analysis in Mobile Broadband Access (MBB)</a></li>
<li><a href="../283258/index.html">[Peter] Meeting about OpenOnload: high-performance network stack for Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>