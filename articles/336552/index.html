<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why CNTK?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! My name is Zhenia. At the beginning of my career, I was Data Scientist, when it was not yet mainstream. Then he switched to pure T-SQL devel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why CNTK?</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  My name is Zhenia.  At the beginning of my career, I was Data Scientist, when it was not yet mainstream.  Then he switched to pure T-SQL development, which at the end managed to develop into business analytics.  Now I‚Äôm a technology evangelist at Microsoft with an obvious focus on the data platform, although this doesn‚Äôt stop me from doing other cool things in my free time, like Docker containers or Mixed Reality. <br><br>  Recently, I spoke with one of the partners and he asked me why we hardly talk about the advantages of CNTK on Habr√©.  At first, we thought it might be more trivial than a story in a company blog and product advantages of this company.  But then it was decided that it was excellent, it is possible to get your opinion and communicate.  I invite under kat all who are interested in the topic of CNTK and TensorFlow. <br><br><img src="https://habrastorage.org/web/f12/fc5/c89/f12fc5c89adf442e8cd547c5264d235a.jpg"><br><a name="habracut"></a><br>  <b><a href="https://www.microsoft.com/en-us/cognitive-toolkit/">Microsoft Cognitive Toolkit (CNTK)</a></b> is a free, open-source, open-source toolkit for deep learning.  If you take GitHub stars as a measure, today it is the third most popular specialized package for in-depth training after TensorFlow and Caffe, which has left platforms such as MxNet, Theano, Torch, and so on. <br><blockquote>  <b>Disclaimer!</b>  This article does not claim to be the only truth, but reveals the key features of the CNTK.  We will be glad to know your opinion in the comments. </blockquote><br><h2>  CNTK and TensorFlow: In Brief </h2><br>  So go to the point.  What is the difference between CNTK and TensorFlow: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>Speed.</b>  CNTK as a whole works faster than TensorFlow, and in recurrent networks it gives up to five and tenfold gain in performance. </li><li>  <b>Accuracy.</b>  To date, CNTK has one of the highest accuracy for teaching depth learning models. </li><li>  <b>API structure</b>  CNTK has a flexible and powerful API for C ++ and offers both low-level and easy-to-use high-level Python API based on the functional programming paradigm. </li><li>  <b>Scalable.</b>  CNTK can be easily scaled and in the case of computationally demanding tasks, it can be performed even on thousands of graphics processors. </li><li>  <b>Scoring</b>  CNTK has a productive Eval API for C ++, .NET, Java and Python to simplify the integration of neural networks into their applications. </li><li>  <b>Extensibility</b>  CNTK is easily expanded due to the possibility of using Python to define your own layers and learning procedures. </li><li>  <b>Built-in reader modules.</b>  CNTK has memory-inbuilt built-in data readers that support distributed learning. </li></ul><br>  If the previous brief arguments you have raised questions and doubts, then we will focus more on each of them. <br><br><h2>  CNTK and TensorFlow: Details </h2><br><h4>  Speed </h4><br>  With in-depth training, huge amounts of data are processed, which requires large computational resources.  If you are developing an application or preparing a scientific article, success largely depends on the speed of the experiments. <br><br>  The results of the <a href="http://dlbench.comp.hkbu.edu.hk/">HKBU</a> study and <a href="https://arxiv.org/pdf/1608.07249.pdf">this article</a> showed that in all tested networks CNTK provides comparable performance with TensorFlow from the point of view of both CPU and graphic processors.  In fact, if we take into account only the launch on graphics processors, CNTK showed the best results among all the tested packages. <br><br>  When working with images, CNTK typically provides a performance boost of two to three times compared to TensorFlow.  As for recurrent neural networks, here CNTK is the undisputed leader ( <i>as stated in the above article, when running on the CPU, ‚ÄúCNTK shows much better performance (up to 5-10 times) than Torch and TensorFlow‚Äù</i> ).  And when executed on GPUs, "CNTK has shown an order of magnitude better results than other tools." <br><br>  The gain in speed is not just the result of a successful set of circumstances.  CNTK was originally developed by a team of speech recognition specialists at Microsoft Research and has been optimized for processing sequences.  For example, it is used in building a natural language recognition model with a training set of more than 4 billion examples. <br><br>  If your project uses sequence processing, for example, to recognize speech, to understand natural language, machine translation, and so on, then CNTK will be the best choice for you in terms of performance.  Also try CNTK if you are involved in video processing and image recognition. <br><br><h4>  Accuracy </h4><br>  If you understand the subject of deep learning, you probably know how difficult it is to develop toolkits.  Errors in the code of the toolkit may be imperceptible and in many cases do not block the receipt of highly efficient models.  But, such errors often do not allow to reveal the full capabilities of the network architecture and artificially underestimate the results.  Therefore, our colleagues involved in the development of CNTK pay great attention to identifying errors, ensuring that the toolkit allows you to train models from scratch and achieve the highest accuracy. <br><br>  An example is the story of the <a href="https://arxiv.org/abs/1512.00567">Inception V3</a> network, developed by several researchers at Google.  TensorFlow specialists offered the Inception V3 training script and a pre-trained model for downloading and testing.  However, it was not possible to retrain the model from scratch and achieve similar accuracy, since this required additional information, including on preliminary data processing.  The maximum accuracy achieved by a third party (in this case, Keras) is about 0.6% lower than that indicated by the developers in their article.  As a result of the experiments, researchers from the CNTK team managed to train the CNTK Inception V3 model with a maximum error of 5.972%, which turned out to be even better than the indicator indicated in the original article.  You can see for yourself that this result is a learning script available <a href="https://github.com/Microsoft/CNTK/tree/master/Examples/Image/Classification/GoogLeNet">on GitHub</a> . <br><br>  In addition, we note that the CNTK automatic batch processing algorithm allows you to pack sequences of various lengths and achieve high execution efficiency for recurrent neural networks.  Moreover, it improves data randomization for training and often improves accuracy by 1-2% compared to data packaging using other methods.  Thanks to this approach, researchers from Microsoft Research <a href="https://arxiv.org/pdf/1610.05256.pdf">for the first time taught a computer to recognize speech as well as a person does</a> . <br><br><h4>  API structure </h4><br>  From the very beginning, we assumed that an integral part of the applications would be not only the scoring of ready-made models.  Training tools can also be tightly integrated into ‚Äúintelligent‚Äù applications, such as Office or Windows.  Virtually all CNTK functionality is written in C ++.  This does not allow not only to improve performance, but also to use it as a C ++ API, ready for integration into any applications.  In addition, it makes it easy to add additional binders, such as Python, Java, .NET, and so on. <br><br>  It should also be noted that the Python API in CNTK has a low-level and high-level implementation.  High-level Python API is based on the functional programming paradigm, it is very compact and intuitive, this is especially noticeable when working with recurrent neural networks.  This is the main difference from the Python API in TensorFlow, which most experts consider ‚Äútoo low-level‚Äù. <br><br><h4>  Scalability </h4><br>  Within the framework of modern tasks of deep learning, billions of examples are used for learning.  Therefore, it is necessary to implement the ability to run on multiple GPUs and multiple computers.  Many toolkits can work with multiple GPUs, but only on one computer.  Scaling with an increase in the number of machines is possible, but for its implementation, more often than not, considerable effort will be required. <br><br>  CNTK, by contrast, was designed with the idea of ‚Äã‚Äãdistributed learning at its core.  It is very easy to go from learning on a single GPU to a configuration with multiple GPUs on several computers, these are just a few lines of code, which is confirmed by examples from the CNTK repository.  Microsoft researchers have started training tasks with the help of CNTK on hundreds of graphics processors and many computers.  Additionally, the framework includes several highly effective parallel learning schemes: <a href="http://research.microsoft.com/apps/pubs/%3Fid%3D230137">1-bit SGD</a> and <a href="https://www.microsoft.com/en-us/research/publication/scalable-training-deep-learning-machines-incremental-block-training-intra-block-parallel-optimization-blockwise-model-update-filtering/">Block-Momentum SGD</a> .  These algorithms significantly optimized the configuration of hyperparameters, which accelerated the preparation of higher-quality models, as a result of which, for example, Microsoft Research specialists <a href="https://arxiv.org/pdf/1610.05256.pdf">managed to significantly improve the quality of natural language recognition</a> , surpassing the person on the Switchboard test telephone sample. <br><br><h4>  Scoring </h4><br>  TensorFlow provides excellent scoring opportunities.  The platform supports several versions of models, saves them in a format optimized for execution, and the use of various metagraphs within one model provides support for various types of devices.  In addition, thanks to XLA AoT compilation, TensorFlow can convert a model into an executable file, which significantly reduces the size of the model for mobile and embedded devices and minimizes delays. <br><br>  Unlike TensorFlow, CNTK is more focused on directly integrating CNTK Eval into user applications.  In addition to Python and C ++, CNTK supports C # /. NET and Java for scoring.  At the core of these APIs is the same C ++ API, which makes it possible to get the same level of performance when used.  If you are creating a .NET application and want to choose a set of tools for in-depth training and information extraction, CNTK may be a more convenient option. <br><br>  CNTK supports the parallel use of trained models, and the memory load in this scenario increases slightly.  This opens up great opportunities for model deployment in the form of services, for example, in a web application or REST API.  CNTK also supports deployment on Intel-based or ARM-based peripherals. <br><br><h4>  Extensibility </h4><br>  TensorFlow is a very flexible toolkit that allows you to implement almost any model.  However, if you are currently using Caffe, then converting an easily existing script into a TensorFlow script will fail.  We'll have to rewrite everything from scratch.  Similarly, in order to try out a new layer created by another developer using a different set of tools, you will have to implement it yourself. <br><br>  Against this background, CNTK can be called a highly expandable set of tools.  The UserFunctions abstraction allows you to implement any operator using Python tools.  Using the NumPy array as an intermediary between CNTK and its extension, you simply implement a forward and backward pass, after which the newly created operator can be immediately included in the network structure.  Moreover, a graph from another toolkit can often be placed directly in the CNTK UserFunction, thereby significantly speeding up the porting of projects, allowing yourself to use the opportunities unique to CNTK. <br><br>  This also applies to weights gradient update procedures.  Most of the algorithms are already included in the CNTK distribution, for example, RMSProp or Adam, but nevertheless you can implement new approaches to learning using pure Python. <br><br><h4>  Built-in reader modules </h4><br>  It is an obvious fact: the more data for training we will have, the better results we will get.  In some situations, the amount of data is so large that they do not fit in the RAM, and sometimes they may not have enough resources of one computer.  Even when data is placed in RAM, it often takes too much time to transfer data from RAM to GPU memory as part of the learning cycle. <br><br>  The CNTK embedded readout modules solve the above problems by providing highly efficient iteration capabilities for data collection, without putting them in RAM.  You can work with one disk or with a distributed file system, such as HDFS.  The widespread use of prefetches eliminates the downtime of the GPU.  CNTK readers also ensure that the model always receives data in a well-mixed form (which improves convergence), even if the underlying data set has been ordered.  Finally, all these features are available to both current and user readers.  Even if you are writing a reader for your own non-standard format, you can not worry about the implementation of pre-sampling procedures. <br><br>  In conclusion, we will be glad to hear your comments under this article as well as get <a href="https://github.com/microsoft/cntk">pull requests</a> to turn CNTK into the coolest and most convenient tool for depth learning together. <br><hr><br>  Ps. We thank Konstantin Kichinsky ( <a href="https://t.me/quantumquintum">Quantum Quintum</a> ) for the illustration of this article. </div><p>Source: <a href="https://habr.com/ru/post/336552/">https://habr.com/ru/post/336552/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../336530/index.html">Self-sufficient controls on Xamarin.Forms. Part 3. We understand with NuGet</a></li>
<li><a href="../336532/index.html">Do yourself and the company a service: reduce the meeting by 2 times</a></li>
<li><a href="../336540/index.html">Managing the development of technologically complex Internet applications in the context of an acute shortage of time</a></li>
<li><a href="../336542/index.html">3 main process of working with clients, which should automate the CRM system. How not to miss with a choice. Part 1</a></li>
<li><a href="../336550/index.html">Perl Script to help HTML coder</a></li>
<li><a href="../336554/index.html">Introduction of elements of flexible methodologies in the Bank</a></li>
<li><a href="../336556/index.html">Blockchain as a revolution for familiar business processes: scenarios from SAP</a></li>
<li><a href="../336560/index.html">Network September and server October: waiting for you on HPE webinars</a></li>
<li><a href="../336564/index.html">Analysis of the on-line conferences of the RKN on the topic: ‚Äúproblematic issues of restricting access to information ...‚Äù</a></li>
<li><a href="../336566/index.html">‚ÄúCrocodile Skin Case‚Äù or ‚ÄúAlligator Bag‚Äù: Comparison of Online Translators Connected to Lokalise</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>