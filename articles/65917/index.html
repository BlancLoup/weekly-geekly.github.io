<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JQuery Animated Menus</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently came across the Dragon Interactive website (dragoninteractive.com). This site is pretty solidly made in terms of design. And the highlight ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JQuery Animated Menus</h1><div class="post__text post__text-html js-mediator-article"><img src="http://www.shopdev.co.uk/blog/images/dragonI.png&quot;" align="right">  I recently came across the <a href="http://dragoninteractive.com/">Dragon Interactive</a> website (dragoninteractive.com).  This site is pretty solidly made in terms of design.  And the highlight can be called their animated menu.  Well, if it was done in Adobe Flash, I would not even mention this.  But on closer inspection, it turned out that their menus are a combination of simple XHTML, CSS, and Javascript.  In this article, I'm going to demonstrate how to create menus (very close to Dragon Interactive's menu). <br><br>  <a href="http://www.shopdev.co.uk/blog/menuDemo.html">Watch the demo</a> <br><a name="habracut"></a><br>  <a href="">Download PSD</a> <br><br><h3>  We design sprite </h3><br>  To get started, you need to create a sprite with your own design in Adobe Photoshop or in another graphic editor.  I also quickly created a repeating nice background for the buttons: <br><img src="https://habrastorage.org/getpro/habr/post_images/e80/e88/3c4/e80e883c4f51b399a76012142eefb34f.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  XHTML markup </h3><br>  Here is the XHTML markup that is used in the demo: <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#ff0000">id</font> <font color="#0000ff">="menu"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="#"</font> <font color="#ff0000">class</font> <font color="#0000ff">="home"</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="#"</font> <font color="#ff0000">class</font> <font color="#0000ff">="portfolio"</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  As you can see, an unordered list is used for the menu structure.  In this article I'm going to create only 2 menu items.  You can add as you wish.  Please note that each item has its own class assigned to it.  We will need this division when creating the CSS. <br><br><h3>  CSS </h3><br>  For the demo, I assigned a repeating image as a background for the &lt;ul&gt; element.  Also assigned height and width: <br><blockquote> <code>ul#menu { <br> width:80%; <br> height:102px; <br> background:url(bg.png) repeat-x; <br> list-style:none; <br> margin:0; <br> padding:0; <br> padding-top:20px; <br> padding-left:20%; <br> }</code> </blockquote> <br>  Now use the float property to align the &lt;li&gt; elements horizontally: <br><blockquote> <code>ul#menu li { <br> float:left; <br> }</code> </blockquote> <br>  Well, that got to the most interesting!  We need to add a sprite as a background image for each menu item.  Since we need to display only a certain part of the sprite for each menu, we limit the drawing to the height and width, and the desired part is obtained by shifting the image.  Let's look at the next sprite: <br><img src="https://habrastorage.org/getpro/habr/post_images/f1d/db8/d99/f1ddb8d9907d979d37ccb1b4ab5b97ee.png" alt="image"><br>  Each column represents a separate menu item.  In our case there are 2 columns, since we only make 2 menu items.  The bottom row represents the appearance of the menu when the mouse cursor is hovering over it. <br>  Now we set the height of the menu button 81px and the width 159px.  If we align the image to the upper left corner, we will see only the ‚ÄúHome‚Äù button: <br><img src="https://habrastorage.org/getpro/habr/post_images/752/1d9/0a1/7521d90a1f2a7a1a6c82c8bf8a30f21c.png" alt="image"><br>  This is because the ‚ÄúHome‚Äù button was drawn with exactly this height and width.  Since the background image is positioned in the upper left corner - it will be the only thing that fits inside the menu item - which we actually sought. <br><br>  How do we describe this in CSS?  First you need to understand that in many cases we will need more than just 1 menu item (in our case, 2 buttons).  Therefore, it would be easier if we wrote some common CSS for all buttons (for example, CSS that will be inherited by each menu item).  We will also be able to add (or modify) these common CSS attributes by writing separate guidelines for individual classes for each individual button (see XHTML markup).  Here is the general CSS used in the demo: <br><blockquote> <code>ul#menu li a { <br> background:url(sprite.png) no-repeat scroll top left; <br> display:block; <br> height:81px; <br> position:relative; <br> }</code> </blockquote> <br>  In this code, we aligned the background image to the upper left corner.  For the ‚ÄúHome‚Äù button, everything will be fine.  But for the Portfolio button, we need to rewrite the image positioning attribute using a separate class (see XHTML markup). <br>  Also note that we set the height here, since all the buttons have the same height.  Since the default buttons are displayed with the inline property, we must use ‚Äúdisplay: block‚Äù to use the specified height.  And at the end we have to specify the relative positioning.  Later it will become clear why we need it. <br>  Now we need to write the CSS for each individual button.  To do this, we use separate classes for buttons (see markup).  In our example, only 2 buttons.  The ‚ÄúHome‚Äù button is assigned the ‚Äúhome‚Äù class.  The ‚ÄúPortfolio‚Äù button is ‚Äúportfolio‚Äù.  Thus, it became possible to assign separate CSS properties for each button: <br><blockquote> <code>ul#menu li a.home { <br> width:159px; <br> } <br> <br> ul#menu li a.portfolio { <br> width:157px; <br> background-position:-159px 0px; <br> }</code> </blockquote> <br>  Here we set the width of each button, since each of them can have its own width depending on the design.  Also here we rewrite the background-position attribute if necessary.  You do not need to do this for the ‚ÄúHome‚Äù button, since the desired value is set in the general CSS properties (‚Äútop left‚Äù). <br><br>  For the Portfolio button, we need to set new coordinates inside the sprite.  Since the ‚ÄúHome‚Äù button is 159px wide, we will need to move the background image 159px to the left to display the area for the ‚ÄúPortfolio‚Äù.  This is achieved by setting ‚Äúbackground-position: -159px 0px;‚Äù.  We tell the browser that we need to shift the background image 159 pixels to the left and 0 pixels down. <br><img src="https://habrastorage.org/getpro/habr/post_images/e16/372/e8a/e16372e8ace4a9b4dcf19b0f5caed1af.png" alt="image"><br>  Now we have to set the hovering behavior (state of "hover").  The animation should make a smooth transition between 2 button states.  To set the state of "hover" we will use the &lt;span&gt; tag.  Next, we use CSS in such a way that the span tag completely fills the entire button (it becomes exactly the same size).  We need to move the image down for the span tag to display the ‚Äúhover‚Äù area of ‚Äã‚Äãthe sprite.  As before, we will use common CSS: <br><blockquote> <code>ul#menu li a span { <br> background:url(sprite.png) no-repeat scroll bottom left; <br> display:block; <br> position:absolute; <br> top:0; <br> left:0; <br> height:100%; <br> width:100%; <br> z-index:100; <br> }</code> </blockquote> <br>  Notice that here we again use ‚Äúdisplay: block‚Äù, since by default the &lt;span&gt; tag is displayed as inline.  Now, when it is displayed as a block, we can set the height and width to 100% - to completely fill the button and make them the same size.  Also note that we assign the span tag ‚Äúposition: absolute‚Äù so that you can specify a z-index.  By setting a higher z-index, we are guaranteed to get the background image of the span tag over the background image of the button.  All that is left to do now is to align the background image for the &lt;span&gt; tag: <br><blockquote> <code>ul#menu li a.home span { <br> background-position:0px -81px; <br> } <br> ul#menu li a.portfolio span { <br> background-position:-159px -81px; <br> }</code> </blockquote> <br>  We shift the background image of each span tag by 81 pixels down (since the height of the ‚ÄúHome‚Äù button is 81px).  This will display the ‚Äúhover‚Äù status via the span tag.  As before, we will also shift the background to the left by 159px for the Portfolio button. <br><br><h3>  Use jQuery to animate </h3><br>  It will be extremely easy to achieve animation here.  We will use jQuery to animate the transparency of the span tag.  Remember that the span tag characterizes the ‚Äúhover‚Äù state.  Therefore, the state when the span is visible should be displayed when the mouse is hovered.  Thus, we need to hide this state at the time of loading the page.  To do this, we set the transparency of the span tag to "0": <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$( <font color="#0000ff">function</font> () { <br> <font color="#008000">// set opacity to nill on page load</font> <br> $( <font color="#A31515">"ul#menu span"</font> ).css( <font color="#A31515">"opacity"</font> , <font color="#A31515">"0"</font> ); <br> <font color="#008000">// the rest of the code will go here</font> <br> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Placing the code inside "$ (function () {...});"  we tell the browser to execute the code only when the page has loaded. <br>  To add animation, we use the following code: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// on mouse over</font> <br> $( <font color="#A31515">"ul#menu span"</font> ).hover( <font color="#0000ff">function</font> () { <br> <font color="#008000">// animate opacity to full</font> <br> $( <font color="#0000ff">this</font> ).stop().animate({ <br> opacity: 1 <br> }, <font color="#A31515">'slow'</font> ); <br> }, <br> <font color="#008000">// on mouse out</font> <br> <font color="#0000ff">function</font> () { <br> <font color="#008000">// animate opacity to nill</font> <br> $( <font color="#0000ff">this</font> ).stop().animate({ <br> opacity: 0 <br> }, <font color="#A31515">'slow'</font> ); <br> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Combining all Javascript together, we get the following: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;!-- Include jQuery Library --&gt; <br> &lt;script src= <font color="#A31515">"jquery-1.2.2.pack.js"</font> type= <font color="#A31515">"text/javascript"</font> &gt;&lt;/script&gt; <br> &lt;!-- Let's <font color="#0000ff">do</font> the animation --&gt; <br> &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; <br> $( <font color="#0000ff">function</font> () { <br> <font color="#008000">// set opacity to nill on page load</font> <br> $( <font color="#A31515">"ul#menu span"</font> ).css( <font color="#A31515">"opacity"</font> , <font color="#A31515">"0"</font> ); <br> <font color="#008000">// on mouse over</font> <br> $( <font color="#A31515">"ul#menu span"</font> ).hover( <font color="#0000ff">function</font> () { <br> <font color="#008000">// animate opacity to full</font> <br> $( <font color="#0000ff">this</font> ).stop().animate({ <br> opacity: 1 <br> }, <font color="#A31515">"slow"</font> ); <br> }, <br> <font color="#008000">// on mouse out</font> <br> <font color="#0000ff">function</font> () { <br> <font color="#008000">// animate opacity to nill</font> <br> $( <font color="#0000ff">this</font> ).stop().animate({ <br> opacity: 0 <br> }, <font color="#A31515">"slow"</font> ); <br> }); <br> }); <br> &lt;/script&gt;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  First we include the jQuery library.  You can read more about animation in jQuery in the <a href="http://docs.jquery.com/Release:jQuery_1.2/Effects">documentation</a> .  We need one final touch in CSS to make sure that the cursor is displayed as a pointer at the time of mouseover: <br><blockquote> <code>ul#menu li a span:hover { <br> cursor:pointer; <br> }</code> </blockquote> <br>  The complete source code is available on the <a href="http://www.shopdev.co.uk/blog/menuDemo.html">demo page</a> .  It remains only to add that the code works stably with Firefox and IE7, but IE6 can and will most likely be a completely different story. <br><br>  PS <br>  at the time of this writing, the author used jQuery version 1.2.2, currently the current release is <a href="http://code.google.com/p/jqueryjs/downloads/detail%3Fname%3Djquery-1.3.2.min.js%26downloadBtn%3D">1.3.2</a> . </div><p>Source: <a href="https://habr.com/ru/post/65917/">https://habr.com/ru/post/65917/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../65903/index.html">Advertisement of the computer game Guitar Hero 5</a></li>
<li><a href="../65908/index.html">Twitter in the picture</a></li>
<li><a href="../65909/index.html">How do you feel about paid services?</a></li>
<li><a href="../65910/index.html">WRIT - SAIPS System. Identification Method</a></li>
<li><a href="../65915/index.html">Canonical offers support and maintenance for desktops with Ubuntu</a></li>
<li><a href="../65918/index.html">All-Russian Saturday of donors - I am outraged!</a></li>
<li><a href="../65920/index.html">iPhone 3.0.1</a></li>
<li><a href="../65922/index.html">Toolkit: NBehave</a></li>
<li><a href="../65924/index.html">Terrible and terrible SORM2: a bit of practice</a></li>
<li><a href="../65925/index.html">Made at 95%</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>