<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Give the music. Secret materials</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When a few days ago I started preparing for writing a new article for a training series , I wanted to write a simple lesson on playing multimedia file...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Give the music. Secret materials</h1><div class="post__text post__text-html js-mediator-article">  When a few days ago I started preparing for writing a new article for a <a href="http://developer.alexanderklimov.ru/windowsphone/learn.php">training series</a> , I wanted to write a simple lesson on playing multimedia files.  Taking the <a href="http://msdn.microsoft.com/en-us/library/ff769551(v%3DVS.92).aspx">MSDN</a> material as a basis, I <a href="http://developer.alexanderklimov.ru/windowsphone/31/2-6.php">translated</a> it (it is not too complicated), but I wanted something more interesting.  And here I come across the article <a href="http://dotnet.dzone.com/articles/windows-phone-tip-day">Windows Phone tip of the day: MediaLibrary</a> , which caught my attention. <br>  When I tried to play music in the manner described, I ran into a non-working example.  I accidentally managed to get the example to work.  Below is a free translation of the article with the solution to my problem. <br><a name="habracut"></a><br>  Probably, not all developers know that, in the system supplied in the Windows 7 emulator, there are also several built-in music files besides the pictures.  More precisely, they are three: <br><br><ul><li>  Another Melody Song (00: 00: 31.3930000) by Windows Phone Artist [Pop] </li><li>  Melody Song (00: 00: 30.4640000) by Windows Phone Artist [Rock] </li><li>  Rhythm Variation (00: 00: 15.3710000) by Windows Phone Artist [R &amp; B] </li></ul><br><br><h5>  Small retreat </h5><br>  Since I use the <a href="http://rusnetframework.blogspot.com/2010/10/razlochka-emulyatora-windows-phone-7.html">unlocked version of the emulator</a> , it is easy for me to verify the validity of this statement.  Simply select the <b>Music + Video</b> hub and listen to all the tunes.  I have plans to prepare an article about the possibilities that the unlocked version provides, including navigation through folders and the system registry. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Get a list of songs </h5><br>  But back to the music.  We can independently get a list of music that is in the library, as well as additional information (duration of the song, the author, etc.).  To do this, first add a link to Microsoft.Xna.Framework and then write the following code: <br><pre>  &lt;code&gt;
 using Microsoft.Xna.Framework;
 using Microsoft.Xna.Framework.Media;

 private void buttonGetSongs_Click (object sender, RoutedEventArgs e)
 {
      FrameworkDispatcher.Update ();
      MediaLibrary lib = new MediaLibrary ();

      foreach (Song s in lib.Songs)
      {
          Debug.WriteLine (s.Name + "" + s.Duration + "" + s.Artist);
      }
 }
 &lt;/ code&gt; </pre><br><br>  By running the project and pressing the button, we get a list of songs contained in the library, which is listed above.  There were no problems.  Go ahead. <br><br><h5>  Reproduction </h5><br>  Just get a list of music is not interesting, I want to listen to it.  Let's use an instance of the MediaPlayer class. <br><pre>  &lt;code&gt;
 // 1 option
 // Background music
 MediaPlayer.Play (lib.Songs [0]);
 &lt;/ code&gt; </pre><br><br>  Here I was waiting for the first surprise.  When I pressed the button for playback, the program was closed with an error, but the music was played and sounded by itself in the background, without interfering with switching between other applications.  A little later, you will understand how to avoid the appearance of an error. <br><br><h5>  Reproduction.  Second way </h5><br>  The author of the original article also led the full paths to the files that are in the library. <br><ul><li>  My Documents \ Zune \ Content \ 0100 \ 00 \ 11.wma (Melody Song) </li><li>  My Documents \ Zune \ Content \ 0100 \ 00 \ 15.wma (Another Melody Song) </li><li>  My Documents \ Zune \ Content \ 0100 \ 00 \ 17.wma (Rhythm Variation) </li></ul><br><br>  Then I decided to conduct independent research and play music by file names.  Here other surprises awaited me.  First, the code that looked right for me. <br><pre>  &lt;code&gt;
 // Option 2
 // List of available music
 // My Documents \ Zune \ Content \ 0100 \ 00 \ 11.wma (Melody Song)
 // My Documents \ Zune \ Content \ 0100 \ 00 \ 15.wma (Another Melody Song)
 // My Documents \ Zune \ Content \ 0100 \ 00 \ 17.wma (Rhythm Variation) 
 MediaPlayerLauncher playerlauncher = new MediaPlayerLauncher ();
 playerlauncher.Media = new Uri (@ "\ My Documents \ Zune \ Content \ 0100 \ 00 \ 17.wma", UriKind.RelativeOrAbsolute);
 playerlauncher.Location = MediaLocationType.Install;
 playerlauncher.Controls = MediaPlaybackControls.Pause |  MediaPlaybackControls.Stop;
 playerlauncher.Show ();
 &lt;/ code&gt; </pre><br><br>  The example is very simple.  I wanted to call the built-in player through MediaPlayerLauncheer (I wrote about the tasks of execution <a href="http://developer.alexanderklimov.ru/windowsphone/31/7.php">here</a> ) and pass him the finished path to the file.  The first thing that confused me was the absence of a backslash at the beginning of the journey from the author of the article.  Having experience in developing for Windows Mobile, I remembered that all the paths began with a slash (\).  My guess was right.  Without a slash, the program fell out with an error.  However, with the slash, the situation did not look much better.  The error did not appear, but the music was not played.  A little upset, I left the program and just started clicking on the icons of the programs installed in the emulator.  And accidentally clicked on the icon of his program, and then on the play button.  And, lo and behold, the music sounded!  Thus, I first encountered the situation of different behavior of a program running from Visual Studio or from an emulator. <br><br>  Then I went back to the first example and tried the same method.  First, I launched the program through Visual Studio and immediately closed it.  And then in the emulator I launched my program again.  Everything worked. <br><br>  Finally, I also wanted to try the option of playing music through MediaElement.  Alas, to no avail.  I give the code just in case.  Maybe some of the professionals will be able to understand this problem. <br><pre>  &lt;code&gt;
 // Uri u = new Uri (@ "\ My Documents \ Zune \ Content \ 0100 \ 00 \ 15.wma");
 // MediaElement mymedia = new MediaElement ();
 //mymedia.Source = u;
 //mymedia.Play ();
 &lt;/ code&gt; </pre><br><br>  Happy programming! <br><br>  PS Pictures will not, because there is nothing to show. </div><p>Source: <a href="https://habr.com/ru/post/118057/">https://habr.com/ru/post/118057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118051/index.html">Web typography culture</a></li>
<li><a href="../118052/index.html">HP Pavilion tx2550er Notebook Review</a></li>
<li><a href="../118053/index.html">Generalization problems PageRank</a></li>
<li><a href="../118054/index.html">How to become a hero (Jacob Sirotkin on ADD-2010)</a></li>
<li><a href="../118056/index.html">A selection of CSS generators</a></li>
<li><a href="../118059/index.html">Development of mobile applications on PhoneGap and jQuery Mobile</a></li>
<li><a href="../118060/index.html">Conversion optimization</a></li>
<li><a href="../118062/index.html">Confirmation when publishing a new post</a></li>
<li><a href="../118063/index.html">Internet Explorer Logo Reputation</a></li>
<li><a href="../118065/index.html">KA4-TV: Issue number 24: World of Tanks again</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>