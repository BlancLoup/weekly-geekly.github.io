<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fast zombies</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a translation of the new post from the Valve Linux blog. 

 One of the factors of a pleasant game is the speed of its work. In this post I wil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fast zombies</h1><div class="post__text post__text-html js-mediator-article">  <i>This is a translation of the new post from the <a href="http://blogs.valvesoftware.com/linux/">Valve Linux</a> blog.</i> <br><br>  One of the factors of a pleasant game is the speed of its work.  In this post I will tell about what we learned about the graphics performance of our games running on Linux. <br>  Any developer will say that productivity is a very tangled thing.  Therefore, for simplicity of narration, we will focus on the following top configuration: <br><a name="habracut"></a><br><br>  Iron <br><ul><li>  Intel Core i7 3930k </li><li>  NVIDIA GeForce GTX 680 </li><li>  32 GB RAM </li></ul><br>  Soft <br><ul><li>  Windows 7 Service Pack 1 64-bit </li><li>  Left 4 Dead 2 </li><li>  Ubuntu 12.04 32-bit </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Do not worry, we use 32-bit versions of Linux temporarily, the release will work on a 64-bit architecture. <br>  Launching Left 4 Dead 2 on Windows 7 with Direct3D driver, we get a value of 270.6 FPS.  The data is generated using our internal tests. <br><br>  When we started working with Linux, the first running version worked with 6 FPS.  This is normal for the initial stage of porting the game to a new platform. <br>  Performance improvements were mainly implemented in three ways: <br><br><ul><li>  Make the game work better with the kernel </li><li>  Making the game work better with OpenGL </li><li>  Optimize graphics drivers </li></ul><br>  For example, to improve the interaction with the kernel, we changed our memory allocation mechanism so that it uses more permissible functions for Linux.  We also reduced the number of unnecessary calls to OpenGL and expanded the interface of our graphics engine to better interact with OpenGL and Direct3d. <br>  The third point is especially interesting, as it includes working with hardware manufacturers to identify weaknesses in their drivers, and, as a result, improving them, which will positively affect the rest of Linux games.  The study of driver delays and the addition of multi-threading support to it are two examples of changes that resulted from the joint work of our teams. <br><br>  After all the work done, Left 4 Dead 2 runs on 315 FPS on Linux.  The great performance in Linux compared to Windows (270.6), at first glance, looks a bit unintelligent, considering the amount of time spent on porting.  However, this indicates the potential of the capabilities behind the kernel and OpenGL.  By the way, in the process of working with equipment manufacturers, we also accelerated the implementation of OpenGL for Windows.  Left 4 Dead 2 runs on 303.4 FPS in this configuration. <br><br><h4>  OpenGL vs. Direct3D on Windows 7 </h4><br>  All this leads to the question: why is the OpenGL version of our game faster than the Direct3D version on Windows 7?  This does not seem to apply to multithreading.  We conducted a fairly honest analysis and found a small delay (several microseconds) for each batch in Direct3D, which does not affect OpenGL.  Now we know that the hardware can do more, and we will figure out how to reach the new limit using Direct3D. <br><br><h4>  Work with video card manufacturers </h4><br>  We worked with NVIDIA, AMD and Intel in order to improve the performance of Linux drivers.  Together we did a great job, it was very nice to see how our developers work together with them, carefully analyzing the data received.  Each open bug was a discovery, and it‚Äôs simply priceless to be close to people who understand the game, the renderer, the driver, the hardware, and work with them side by side, attacking performance problems. <br><br>  This is an excellent example of the benefits of close collaboration between software and hardware developers, and this collaboration should make a great contribution to the Linux community. </div><p>Source: <a href="https://habr.com/ru/post/148933/">https://habr.com/ru/post/148933/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148926/index.html">We write a simple map using Nokia Maps JS API</a></li>
<li><a href="../148927/index.html">Visual Studio 2012 will be available on September 12</a></li>
<li><a href="../148928/index.html">Creating and registering the Metro style component for WinRT</a></li>
<li><a href="../148929/index.html">Yandex.Money from Europe with a low commission</a></li>
<li><a href="../148930/index.html">Simple things. Settings file and a small utility trailer</a></li>
<li><a href="../148937/index.html">Free ebooks from Microsoft</a></li>
<li><a href="../148938/index.html">Simple as java</a></li>
<li><a href="../148939/index.html">Habrastats</a></li>
<li><a href="../148940/index.html">Juggling. Theory. Practice</a></li>
<li><a href="../148942/index.html">3D glasses from John Carmack caused a stir on Kickstarter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>