<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Gotify - open source project for delivering notifications and sending messages to the server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For those who administer servers and / or web projects, there is an acute issue of awareness of what is happening with their ‚Äúwards‚Äù. There are a lot ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Gotify - open source project for delivering notifications and sending messages to the server</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/ox/ck/o7/oxcko72dnqpqi09ij9984p6qcjo.png"><br><br>  For those who administer servers and / or web projects, there is an acute issue of awareness of what is happening with their ‚Äúwards‚Äù.  There are a lot of decisions on failure notification, connection status and other parameters on the market, including via SMS.  It's about MRTG, Twilio, F-Droid, Google services, and many, many others.  The only problem is that most of these solutions are very narrowly specialized, and it is not possible to influence their functions.  MRTG will give information about traffic and connection, Google will send SMS.  Some freedom gives Twilio in terms of writing scripts in JavaScript to fit your needs, but I'm sorry, this is a commercial project.  That is, "come on, pay the loot or get away." <br><br>  So, in this family of tools we have an open source replenishment: Gotify is a simple client-server project for receiving and sending push notifications and commands, including through an Android application.  And it is definitely worth telling about it in more detail, I think it will be useful for those who were looking for something similar and at the same time free, but eventually started their own pet-project.  Quite possibly, this publication will save a couple of hundred hours of your time. <br><a name="habracut"></a><br><h3>  What does Gotify offer? </h3><br>  The project has been peacefully developing for several years and developing on GitHub, and during this time it has acquired a server, a web client, an Android application, an API, and, of course, documentation.  I decided to talk about Gotrify for two reasons: it is open source and works not only for ‚Äúreception‚Äù, but also for ‚Äúreturn‚Äù, all the samples are on GitHub, plus it is configured using bash scripts.  And of course, it is free. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Most of the existing solutions are aimed solely at receiving notifications from the target server / device, but not at the full interaction between the client and the server.  That is, you can receive a notification that your server has crashed or the Internet has disappeared.  It‚Äôs not always convenient to find out for yourself what is happening on the ‚Äúother bank‚Äù and can be done in the same application / window.  Most often, to get this kind of information, you have to hack a VPN or (forgive, my God) any TeamViever and watch it with your hands.  Above, I mentioned that Twilio gives some space due to self-signed JS scripts, but this is paid, so by. <br><br>  In fact, the entire Gotify project is divided into three parts: a server, a client, and an application.  The server works as it is clear - to send and receive messages, the client - only to receive, and the application - only to send. <br><br><img src="https://habrastorage.org/webt/hn/ai/f5/hnaif57b4nhefhwubbo4s1f98kq.png"><br><br>  Plus, the project has an API client (and documentation), an API template, a plug-in template, its own website, a Go configuration library that supports JSON, YAML, TOML and environment variables, as well as server build, client, and , Android application.  The only thing that may bother is the Android application.  There is nothing more helpless, irresponsible and immoral than monitoring infrastructure through a mobile phone in the world.  But technology is going forward and we know that sooner or later we will move on to this rubbish.  Not that it was the minimum required set to communicate remotely with the server, but when the open source community starts cutting its own tools, it is difficult for it to stop. <br><br>  Separately, it should be said that to communicate with the server, only authentication and application token is needed, which is returned by the server via the REST request.  In the future, using this token, you can receive messages through any http client, for example, through <a href="https://curl.haxx.se/">curl</a> or <a href="httpie.org/">HTTPie</a> : <br><br><pre><code class="xml hljs">$ curl -X POST "https://push.example.de/message?token=<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">apptoken</span></span></span><span class="hljs-tag">&gt;</span></span>" -F "title=my title" -F "message=my message" -F "priority=5" $ http -f POST "https://push.example.de/message?token=<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">apptoken</span></span></span><span class="hljs-tag">&gt;</span></span>" title="my title" message="my message" priority="5"</code> </pre> <br>  According to the manual on the official website of the project, pushy to a server with different priorities can be sent to both Golang and Python: <br><br>  <b>Golang</b> <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"net/http"</span></span> <span class="hljs-string"><span class="hljs-string">"net/url"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { http.PostForm(<span class="hljs-string"><span class="hljs-string">"http://localhost:8008/message?&lt;apptoken&gt;"</span></span>, url.Values{<span class="hljs-string"><span class="hljs-string">"message"</span></span>: {<span class="hljs-string"><span class="hljs-string">"My Message"</span></span>}, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: {<span class="hljs-string"><span class="hljs-string">"My Title"</span></span>}}) }</code> </pre> <br>  <b>Python</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-comment"><span class="hljs-comment">#pip install requests resp = requests.post('http://localhost:8008/message?token=&lt;apptoken&gt;', json={ "message": "Well hello there.", "priority": 2, "title": "This is my title" })</span></span></code> </pre> <br>  It is also possible to write your own plug-ins under Linux and Mac.  Here are their available characteristics that are listed on the project website: <br><br><ul><li>  individual plug-ins for each user; </li><li>  registering custom http handlers; </li><li>  sending messages as an application; </li><li>  YAML based configuration system in WebUI; </li><li>  persistent storage for each user plugin; </li><li>  displaying dynamically generated user instructions. </li></ul><br>  At the heart of the Gotify plugin system is the standard Go plugin system, which <a href="https://godoc.org/plugin">is described here</a> .  What can they be used in Gotify?  the developers cite the example of getting webchucks from GitHub, Travis CI and others, polling feeds via RSS, Atom sources and expanding the standard WebUI functionality, and of course delivering alert notifications about crashes.  <a href="https://gotify.net/docs/plugin">On this page</a> you can find a template for the plugin and an explanation of the code.  For the correct operation of plug-ins, developers recommend using Docker, but without it, it is possible to customize Gotify's operation, although the correct sending and receiving of messages in this case is not guaranteed. <br><br>  I did not give here the full text of the basic documentation for the project - everything can be read by yourself.  Judging by the reviews, the project turned out to be quite thoughtful, at least from the side that does not use SMS-notification (which is inconvenient if you are abroad or in the basement), actively trying to ignore the power-safe mode, which was delivered to Android 6-7 .  Gotify is curious at least in that it is open source, that is, free and does not interfere with making a fork, pick up a file, and bring this tool to a state suitable for the needs of certain people / teams. <br><br><hr><br><h2>  Links </h2><br><ol><li>  <a href="https://github.com/gotify">GitHub repository.</a> </li><li>  <a href="https://gotify.net/">The official site of the project.</a> </li><li>  <a href="https://github.com/gotify/api-docs">API documentation.</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/443258/">https://habr.com/ru/post/443258/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443246/index.html">How we reinvented the IP PBX Askozia, after the project was sold and closed by the developer</a></li>
<li><a href="../443248/index.html">PRP and HSR seamless redundancy protocols</a></li>
<li><a href="../443250/index.html">Homemade garbage collector for OpenJDK</a></li>
<li><a href="../443252/index.html">Modular bot ants with memory</a></li>
<li><a href="../443256/index.html">PowerShell, dump my experience</a></li>
<li><a href="../443260/index.html">Migrate to Zimbra without risking your business using a common domain</a></li>
<li><a href="../443262/index.html">Bad advice: how to write technical documentation? Part Three and Last</a></li>
<li><a href="../443264/index.html">He says and shows: is the rhetoric of popular Ukrainian politicians different?</a></li>
<li><a href="../443268/index.html">Post mortem: follow middleware or how we broke comments</a></li>
<li><a href="../443270/index.html">The announcement of Sony Xperia 1: the new concept of the flagship</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>