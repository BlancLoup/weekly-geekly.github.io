<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Localization of Eclipse plug-ins using the standard localization wizard</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, I started working on a Java project based on the Eclipse RCP platform and PDE . To localize the project, I used a fairly convenient standard...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Localization of Eclipse plug-ins using the standard localization wizard</h1><div class="post__text post__text-html js-mediator-article">  Recently, I started working on a Java project based on the Eclipse <a href="http://ru.wikipedia.org/wiki/Eclipse_RCP">RCP</a> platform and <a href="http://www.eclipse.org/pde/">PDE</a> .  To localize the project, I used a fairly convenient standard localization wizard.  It should be noted that there are two wizards: for localizing java code and for localizing the plugin.xml file, which includes the names of menus, dialogs, and so on.  I will review both. <br><br><a name="habracut"></a>  <b>Code localization</b> <br><br>  - choose any class, package or entire src folder 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/eb7/776/84b/eb777684baaaf3d03aca353e6e801428.png" alt="image"><br><br>  - select ‚ÄúSource code‚Äù in the main menu - ‚ÄúExport lines‚Äù or press Alt + Shift + S and select ‚ÄúExport lines‚Äù in the context menu <br><br><img src="https://habrastorage.org/getpro/habr/post_images/058/d2c/892/058d2c8924b344d44c45fe4411986680.png" alt="image"><br><br>  - choose a class by double clicking or click the button ‚ÄúExport‚Äù <br><br><img src="https://habrastorage.org/getpro/habr/post_images/874/f93/1ff/874f931ffeb40d6ab773aeaf10f00411.png" alt="image"><br><br>  - then in the export dialog, select the lines that do not need to be localized (several lines can be selected with Ctrl or Shift), and on the right we press the ‚ÄúIgnore‚Äù button, or you can uncheck the box to the left, turning it into a cross. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5c5/f1b/88a/5c5f1b88a55def3a14a5b5138a8a3801.png" alt="image"><br><br>  - it is also desirable to have one access class in which to save all localizations.  Initially, the class must be generated, and later it can be used for subsequent localizations, entering it in a special dialog or choosing from the drop-down list. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/62e/0b0/dea/62e0b0deaedb27e353c31dfe98c008af.png" alt="image"><br><br>  - after marking the lines that do not require localization and selecting the access class, press the ‚ÄúNext‚Äù button.  The export dialog will show diff changes.  As you can see, the localized lines are replaced with calls to a static variable from the Messages class, where values ‚Äã‚Äãfrom the properties file are inserted, and a comment like // $ NON-NLS-1 $ is added to the lines that do not require localization, where the digit indicates the fragment number, not to be localized (because there may be several). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e09/daf/32f/e09daf32ff84657188eae0d835cd7382.png" alt="image"><br><br>  - click "Finish" and the class is localized, go to the next. <br><br>  There is a possibility that the class will not be localized correctly if there is a fragment that requires and does not require localization in one line.  To check this, close the export dialog completely and re-open the list of classes requiring localization.  Correctly localized classes will disappear from the list, and in the remaining ones, you need to correct the indexes in the $ NON-NLS comments - they must begin with 1 in ascending order and correspond to the number of fragments that do not require localization.  To fix this is better using the Eclipse code editor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed9/04c/b9a/ed904cb9a8f288957b3dcbcecd7adc26.png" alt="image"><br><br>  After the code has been localized, you need to copy the messages.properties file into messages_ru.properties and translate all the lines into Russian, it will be automatically included in the distribution. <br><br>  <b>Localization plugin.xml</b> <br><br>  - select the plugin.xml file <br>  - press the right mouse button and select ‚ÄúPDE Tools‚Äù - ‚ÄúExport Strings‚Äù in the context menu <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a66/de2/493/a66de2493e933328851c8d09138d67ea.png" alt="image"><br><br>  - in the dialog that appears, uncheck the lines that do not require localization <br><br><img src="https://habrastorage.org/getpro/habr/post_images/25b/baf/728/25bbaf728836d0013dc972ad30df1e3e.png" alt="image"><br><br>  - click "Next", look diff <br><br><img src="https://habrastorage.org/getpro/habr/post_images/962/6a4/53c/9626a453cfeaef6ae2a668e9eb411f93.png" alt="image"><br><br>  - click ‚ÄúFinish‚Äù, copy bundle.properties to bundle_ru.properties, translate strings. <br><br>  You must also include bundle_ru.properties in build.properties for localization to fall into the distribution. <br><br>  <i>PS Unfortunately, I could not localize the standard dialog wizards Search, Import, Export.</i>  <i>Who knows how to do this, write to me in your personal mail.</i> </div><p>Source: <a href="https://habr.com/ru/post/143742/">https://habr.com/ru/post/143742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143735/index.html">MacBook Air 11 "A1370 - parsing</a></li>
<li><a href="../143738/index.html">How to protect in-app purchase from scrapers</a></li>
<li><a href="../143739/index.html">Simple PHP code injection scanner</a></li>
<li><a href="../14374/index.html">By-effect</a></li>
<li><a href="../143740/index.html">Free and Open Source Software SEDs</a></li>
<li><a href="../143743/index.html">Improvised JavaScript template engine</a></li>
<li><a href="../143744/index.html">SQL Server 2012 - what's new for the developer?</a></li>
<li><a href="../143745/index.html">Rovio Entertainment launches new toy</a></li>
<li><a href="../143746/index.html">The company NDS presented a working prototype of transparent TV</a></li>
<li><a href="../143747/index.html">Cacti Weathermap: network visualization + interactive</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>