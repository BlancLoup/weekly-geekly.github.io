<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cooling server. Divide and rule</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all. 
 It so happened that the articles begin to form a cycle. The first part of the cycle is here habrahabr.ru/post/235593 
 In this part...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cooling server. Divide and rule</h1><div class="post__text post__text-html js-mediator-article"> Good day to all. <br>  It so happened that the articles begin to form a cycle.  The first part of the cycle is here <a href="http://habrahabr.ru/post/235593/">habrahabr.ru/post/235593</a> <br>  In this part, I will try to simplifyly explain why you need to manage the air flow in the server, how it is implemented, the pros and cons of different approaches, as well as the economic justification for large strokes. <br><a name="habracut"></a><br><br>  Our main goals are: <br>  1. Supply cold air to the equipment air intakes. <br>  2. Take away the hot air from the exhaust and supply it to the air intake of the air conditioner. <br>  3. Providing the necessary volume and pressure of air. <br>  4. Separation of hot and cold air streams. <br><br>  What is it for? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As already mentioned in the previous article, the main problem with the cold in the server is the mixing of air.  Stirring creates 2 problems: <br>  1. The air temperature at the server air intake is higher than required. <br>  2. The air temperature at the air intake of the air conditioner is lower than planned by the designers.  This reduces the efficiency of the air conditioner, creates problems with regulation, in some systems leads to errors that can simply turn off the air conditioner. <br><br>  How are these problems solved? <br><br>  Splitting flows.  There are 3 main ways to separate threads: <br>  1. Rack Air Containment Insulation (RACS). <br>  2. Cold Air Containment System (CACS) insulation. <br>  3. Hot aisle isolation (Hot Air Containment System - HACS). <br><br>  Insulation at rack level is as follows <br><img src="https://habrastorage.org/files/db5/4e7/964/db54e79645384769b5e3473a74f5f541.jpg" alt="image"><br>  The picture shows a row air conditioner and a rack, retrofitted with RACS elements. <br><br>  RACS is used in 3 cases: <br>  1. When it is necessary to increase the cooling capacity of the in-line conditioner that cools this rack directly.  Row precision air conditioners are designed to work with high return air temperatures.  The higher the temperature, the greater the cooling capacity of the air conditioner.  Again, the less cold air disperses around the room, the more it gets to the rack air intake. <br>  2. When you need to cool the rack in a large room, but the room itself is not efficiently cooled. <br>  3. When in the room there are, for example, standard racks with a heat release of 5-8 kW and a pair of racks with a heat dissipation of 20-70 kW.  In this case, you build one system for all racks with the use of expensive specialized solutions.  Or build a simple system based on perimeter air conditioners for low consumption racks, and build a separate container for high load racks. <br><br>  Isolation of the cold corridor looks like this: <br><img src="https://habrastorage.org/files/35d/1f9/536/35d1f95364074de186ed51994885100d.png" alt="image"><br>  For CACS, it is required to arrange the cabinets in one row opposite the wall or in 2 rows opposite each other.  The cold air supply area is overlapped by the roof and doors / curtains, creating an insulated volume. <br>  CACS is a fairly traditional version.  It has been used for a long time, by virtue of the established traditions of design, when the racks are placed facing each other.  Therefore, it is the most suitable option for upgraded data centers. <br><br>  Insulation hot corridor looks like this: <br><img src="https://habrastorage.org/files/6aa/61d/e53/6aa61de530354a8783c59f2bb560c61e.jpg" alt="image"><br>  In the same way as for CACS, HACS requires row placement of cabinets, with the only difference that the cabinets should be located "back" to each other.  This isolates the hot air zone. <br><br>  In either case, it is possible to use both in-line and perimeter air conditioners.  In the case of CACS, a raised floor can be used to supply air; hot air is drawn from the volume of the room.  In the case of HACS, the flow is made to the volume of the room.  In perimeter cooling, a plenum of a false ceiling or air ducts is used for air intake.  At the same time, the roof of the corridor changes to an air duct (there is another term chimney - literally ‚Äúchimney‚Äù), as in the picture above. <br>  As an option for using HACS, so-called ‚Äúexhaust doors‚Äù can be used.  This is a unit with fans, which is hung instead of the back door of the cabinet and provides air intake and supply it to the plenum of a false ceiling.  A specific thing can be used when it is necessary to isolate several racks in the room, or when upgrading old data centers, where the cabinets were placed chaotically, and there is no possibility to move them to form a corridor. <br><br>  A very important point when using insulation systems.  No need to think that if you closed the roof and the ends of the corridor, your work is done perfectly.  There are a bunch of holes that need to be blocked: <br>  1. Empty units in the cabinets.  We use special plugs, cardboard, polycarbonate, boards. <br>  2. The gap between the cabinets.  We buy special plugs from the cabinet manufacturer or take polyurethane self-adhesive tape. <br>  3. The gap between the raised floor tiles, the gap in the junction of the raised floor to the walls and structural elements.  We use seals on the stringers of the floor (you have in fact the floor in the data center is assembled with stringers).  In places of junction to the walls - again, the tape from p.2. <br>  4. Cable entries through which air can flow from one zone to another.  Here you need to use brush entries. <br><br>  Features of the use of a particular system. <br><br>  RACS.  Everything is cool here except for problems with fire fighting.  You must either create a single volume with the room by implementing automatic door opening, or start a fire extinguishing system in the RACS. <br>  CACS and HACS.  The main difference in what kind of air in our room is cold or hot.  When using CACS, we will not be able to place unstable equipment in the room, since the whole room will be a hot air zone.  The temperature there can reach 35 degrees and above.  There are no such problems with HACS.  Again, according to sanitary standards, it is possible to work at high temperatures for a limited amount of time.  This eliminates the need for lengthy indoor work when using CACS.  And the third - the supply of cold air in case of a crash of air conditioners is different, at HACS it is more.  A very important point when using plenums for air supply is turbulence.  If you use the raised floor, you must provide a sufficient section of it.  We can only operate with height, since the area we have is determined by the room.  Reducing the height leads to an increase in the speed of air flow (the air volume is constant here), high speeds in conditions of a large number of obstacles (in the form of raised floor racks, trays, etc.) leads to the formation of turbulence (turbulence), turbulence leads to a decrease in pressure hence the volume of air that comes out directly from the perforated floor tiles is reduced.  We must always strive for a laminar flow.  To calculate the height, you can use CFD software (correctly and with the highest confidence), or make an approximate calculation.  Powerful article on this topic <a href="http://www.ccc.ru/magazine/depot/07_12/read.html%3FWcd7c2146c471e.htm">www.ccc.ru/magazine/depot/07_12/read.html?Wcd7c2146c471e.htm</a> . <br><br>  Economy. <br><br>  Some good guys conducted a mathematical simulation.  For the calculation was taken the same data center.  On row cooling, CAPEX and OPEX were calculated with and without HACS.  On perimeter cooling, CAPEX and OPEX were considered comparing HACS and CACS.  What did the study show? <br>  1. In-line cooling solution with isolated corridors on average 5-7% cheaper in CAPEX.  By increasing the capture index (the ability of the air conditioner to ‚Äúcapture‚Äù hot air), the number of air conditioners used has decreased.  Operating costs are also reduced by reducing the number of air conditioners (reducing power consumption) and by increasing efficiency, because we were able to raise the temperature in the hot aisle. <br>  2. In perimeter cooling all the more confusing.  The lowest CAPEX solution is without isolation.  But these solutions can only be applied up to a capacity of 5-7 kW per rack.  Then only isolation.  Up to a power of 12‚Äì15 kW, a CACS rack is 2‚Äì6% cheaper than a HACS, since HACS requires a hot air exhaust system (ducts, plenum of a false ceiling).  However, after this threshold, CACS requires the use of air closers from under the raised floor, which significantly increases the cost of the solution (by 7-10%).  Operational costs for isolated solutions are 12% lower than for non-insulated ones.  At the same time, up to a threshold of 12‚Äì15 kW per rack, the costs of CACS and HACS are the same and begin to diverge after this threshold.  CACS becomes an average of 4% more expensive, because the consumption of air closers is added to the balance. <br><br>  How to choose what suits you? <br><br>  If the ceilings are low (hence it is not possible to install a raised floor), build an in-line solution with HACS at any densities. <br>  If you have a low density (up to 6 kW per rack) and high ceilings, build a non-insulated perimeter solution with air distribution under the raised floor. <br>  If you have high densities (15 kW and above) build HACS, in-line or perimeter - depends on the geometry of the room. <br>  If the density is average (6-12 kW), build a CACS. <br>  Border cases require calculations and modeling, it all depends on the redundancy, the number of racks and the geometry of the room.  The scale can lean in any direction. <br><br>  That's all, if you have questions - I will answer in the comments. </div><p>Source: <a href="https://habr.com/ru/post/243725/">https://habr.com/ru/post/243725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243713/index.html">Flow - static type analysis in JS from Facebook</a></li>
<li><a href="../243715/index.html">Tomorrow at 10:00 (MSK), watch the Russian App Day conference broadcast</a></li>
<li><a href="../243719/index.html">Step-by-step modification of the preset Bacula setting</a></li>
<li><a href="../243721/index.html">Using anonymous methods in Delphi</a></li>
<li><a href="../243723/index.html">Gov.uk: basic aspects of the agile methodology</a></li>
<li><a href="../243727/index.html">Just backup btrfs</a></li>
<li><a href="../243731/index.html">Update on Android 5 Lolipop kills self-signed applications without the possibility of recovery</a></li>
<li><a href="../243733/index.html">The Seven Laws of the Jedi Freelancer</a></li>
<li><a href="../243737/index.html">Evolution: graphics and mechanics</a></li>
<li><a href="../243741/index.html">Cards, money, two ... factors</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>