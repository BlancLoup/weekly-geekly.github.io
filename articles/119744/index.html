<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rails 3.1: Release Candidate</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, the first release candidate of RoR 3.1 was released, to which an official blog wrote an overview article about the key innovations in the upcom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rails 3.1: Release Candidate</h1><div class="post__text post__text-html js-mediator-article">  <i>Today, the first release candidate of RoR 3.1 was released, to which an official blog wrote an overview article about the key innovations in the upcoming version.</i>  <i>To acquaint you with innovations, I translate with explanatory comments for those who have not heard anything about it.</i>  <i>Further in the text italics my notes.</i> <br><br><br>  As I (DHH - translator's comment) and promised on RailsConf, we are finally ready to release Rails 3.1: Release Candidate.  This is a fantastically exciting release.  It has two new killer features and a lot more simply amazing improvements.  To start killer features: <a name="habracut"></a><br><br><h5>  Asset pipeline </h5><br>  The key feature in 3.1 will be the asset pipeline running <a href="https://github.com/sstephenson/sprockets/">Sprockets 2.0</a> .  It allows much more organically to organize CSS and JavaScript, including in plug-ins and engines (Engines).  You can listen to the detailed description at <a href="http://www.youtube.com/watch%3Fv%3DcGdCI2HhfAU">my speech at RailsConf</a> .  By default, asset pipelines comes with <a href="http://sass-lang.com/">SCSS</a> for style sheets and <a href="http://coffeescript.org/">CoffeeScript</a> for JavaScript.  A large amount of documentation on the way. <br>  <i>Asset Pipeline is a generic term for a new concept of working with the client part of an application.</i>  <i>The general meaning of it is that now how the controllers, views and models are generated for your scaffolds, JS and CSS will also be created.</i>  <i>This allows you to achieve a more convenient architecture and scatter dozens of files from public / javascript into modules.</i>  <i>Rails themselves will take care of assembling all your client files into one and caching.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  HTTP Streaming </h5><br>  This innovation will allow the browser to start downloading style sheets and javascript before the browser has finished generating the answer.  The result is a noticeable increase in page speed.  This is just an option that requires support from a web server, but the popular combination of nginx + unicorn is already ready to provide this.  RailsCasts has a <a href="http-streaming">video</a> about it, you can also see the documentation <a href="">here</a> . <br><br>  <i>The basic principle of operation is that the cached header (everything before &lt;/ head&gt; for example) is given immediately after the request, the browser starts downloading the scripts and css specified in it, while the server makes requests to the database, etc.</i> <br><br><h5>  jQuery is now defaulted </h5><br>  We made <a href="http://jquery.com/">jQuery the</a> default JavaScript framework that comes with Rails, but rolling back to Prototype is just as easy.  They are installed using Bundler in the jquery-rails and prototype-rails gems.  Just select the desired Gemfile and it just earns. <br><br><h5>  Other goodies: </h5><br><ul><li>  <a href="http://edgerails.info/articles/what-s-new-in-edge-rails/2011/05/06/reversible-migrations/index.html">Reversible migrations</a> : DRY migrations that know themselves how to reverse.  Cleaner, prettier, easier.  <i>Yes, you no longer need self.up and self.down, everything has become even more declarative.</i> </li><li>  <a href="">Mountable engines</a> : <a href="">Engines</a> can now have their own space of routs and helpers (as well as new assets, documentation will be available soon).  <a href="http://piotrsarnacki.com/2010/09/14/mountable-engines/">Here</a> you can read their background (the truth about assets there is already outdated). </li><li>  <a href="http://edgerails.info/articles/what-s-new-in-edge-rails/2011/04/21/activerecord-identity-map/index.html">Entity map (Identity map)</a> : Not enabled by default due to <a href="">important issues</a> that still need to be cleaned up.  However, if you can come to terms with them, then this will be a great way to reduce the number of calls being called.  Faster means better!  <i>Previously, when you made two identical requests in action, the second request was taken from the cache, but the objects <u>were created anew</u> .</i>  <i>Now with an entity map, one entry in the database = one object in the front-end.</i>  <i>In addition, which helps to avoid unnecessary requests, it also simplifies debugging (changes made to the record in one place, but not yet saved, now affect the entire answer).</i> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DkWOAHIpmLAI%26t%3D9m28s">Prepared expressions (Prepared statements)</a> : ActiveRecord now uses cached prepared expressions that give a big performance boost in PostreSQL and on complex queries in MySQL.  <i>Instead of forming a request and sending it to the database each time Rails makes a request once, and then uses its special token (substituting the necessary data) for making a similar one.</i>  <i>Gives a performance gain of 20-30% on simple queries and a 10-fold (!) Increase in queries per second on complex queries.</i> </li><li>  <a href="http://rtomayko.github.com/rack-cache/">Rack :: Cache is enabled by default</a> : Makes it possible to use HTTP caching with <a href="">conditional retrieval</a> (Conditional Get) as a replacement for page by page caching (which we will soon issue as a plugin and remove from delivery).  <i>Rack :: Cache is an engine that uses HTTP headers (Expires, Cache-Control, Last-Modified, ETag) for cache design.</i>  <i>Conditional acquisition ‚Äî by getting a record and checking that the last access time is later than the change time, we give 304. Replace page-by-page caching, which is almost unprofitable if you have small, always dynamic page pieces (for example, the current user‚Äôs panel when displaying almost static data ).</i> </li><li>  <a href="https://github.com/TwP/turn">Turn</a> - a new conclusion for Test :: Unit in Ruby 1.9: The display when passing tests is much nicer and clearer.  Available for new applications in Ruby 1.9. </li><li>  <a href="">ForceSSL:</a> Now, maintaining application security is easier than never.  Available by application and controller.  <i>One line in the config - and the specified routes with http will be redirected to https.</i> </li><li>  Role <a href="">-based mass-assignment</a> : attr_protected now takes a role as a parameter, so with admin / non-admin, etc.  Now work is much easier.  <i>Looks like in 3.1 you can forget about CanCan.</i>  <i>The thing is very interesting, I advise you to look about it in RailsCasts at the link below.</i> </li><li>  <a href="">has_secure_password</a> : simple embedding of password protection on BCrypt.  Now there is no forgiveness for those who do not raise their own authentication scheme.  <i>Generally speaking, it gives nothing but a password.</i>  <i>Those who need password recovery, blocking, registration confirmation, etc., will still have to use Devise (which Rack-based will not receive profit from the innovation).</i> </li><li>  Custom serializers: Serialize objects in JSON, or whatever you like.  <i>If earlier I used serialize in the YAML database, now I can choose the method for storing objects by myself by specifying the load and dump methods.</i> </li></ul><br><br>  You can also view a <a href="https://gist.github.com/958283">huge list of changes</a> , as well as a small <a href="http://railscasts.com/episodes/265-rails-3-1-overview">video overview</a> on RailsCasts. <br><br>  If you are creating a new application, it is better to use Ruby 1.9.2.  Rails will support 1.8.x up to 4.0, but only for compatibility.  Ruby 1.9.x is the trend.  Join and enjoy the sudden burst of speed. <br><br>  You can install Rails 3.1 RC as always with <code>gem install rails --pre</code> .  Enjoy the release and <a href="https://github.com/rails/rails/issues%3Fmilestone%3D%26sort%3Dcreated%26direction%3Ddesc%26labels%3D%26state%3Dopen">send bugs to github</a> .  The final version is expected in a couple of weeks, if everything goes like clockwork. </div><p>Source: <a href="https://habr.com/ru/post/119744/">https://habr.com/ru/post/119744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119732/index.html">User involvement: a set of exercises to increase conversion</a></li>
<li><a href="../119735/index.html">Question: So what? Are we not engineers?</a></li>
<li><a href="../119737/index.html">Google will not do face recognition</a></li>
<li><a href="../119739/index.html">Autoloading in Zend Framework (Autoloading classes in the Zend Framework)</a></li>
<li><a href="../119743/index.html">Information point, or an interesting initiative of the authorities of St. Petersburg</a></li>
<li><a href="../119745/index.html">Live broadcast from the conference LintConf (Life in Technology)</a></li>
<li><a href="../119748/index.html">Authors, how often do you visit your recently published topic to look at the rating?</a></li>
<li><a href="../119749/index.html">Bitcoin generation in the browser: Reverse</a></li>
<li><a href="../119751/index.html">IC 555. Practice</a></li>
<li><a href="../119752/index.html">Using ITIL methodology in small business</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>