<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Elo rating in two player games</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Previously, our workflow was interrupted due to a number of unresolved issues: 



- And which of us plays table football the best? 
- Who should I go...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Elo rating in two player games</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/57b/7cd/a90/57b7cda90dab408c8809279549592dde.jpg" align="right">  Previously, our workflow was interrupted due to a number of unresolved issues: <br><br><ul><li>  And which of us plays table football the best? </li><li>  Who should I go play with now? </li><li>  Who should be fired, because he does not work and only plays? </li></ul><br>  Our experience in solving these issues using the Elo rating system will be discussed in the article.  As well as a link to the repository and the site will be scattered on the article. <br><a name="habracut"></a><br>  When a company is small and there are even fewer players, the best question is solved by simply holding a tournament on Friday evening every two months.  &lt;advice&gt; A chic reason to drink at the company's expense. &lt;/ advice&gt; (We were not immediately understood because of inexperience. And at first they just played like that.) But the company is growing, the league is also increasing, and now we have to play the tournament group, it becomes very difficult.  It‚Äôs just physically hard on a big football table to have 15 games per evening. <br><br>  At this stage, experienced <s>players in online games of</s> chess players suggest that there is a method for calculating the relative strength of Elo players, which is just used to assess the level of chess players. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  About elo </h3><br>  The system was developed by the American professor of physics and chess player Arpad Elo. <br><br>  Each new player usually receives a rating of 1400. In fact, it does not matter how much.  At the end of each match, part of the rating goes from one player to another.  And so as not to go into the minus is taken initially with a margin. <br><br>  We assume that player A gets 1 point in case of a win, 0 in case of a loss, and 0.5 in a draw.  Let's call this variable Sa. <br><br>  We introduce the expected number of points (Ea) that Player A will receive per game: <br><br><blockquote>  Ea = 1 / (1 + 10 ^ ((Rb-Ra) / 400)) </blockquote><br>  where Rb and Ra are the current ratings of players B and A, respectively.  Ea belongs to the interval (0, 1). <br><br>  The coefficients are chosen in such a way that, with a difference in the rating of 200 points, the expected number of points is approximately 0.75.  New player rating A is calculated according to the formula: <br><blockquote>  Ra '= Ra + K * (Sa - Ea) </blockquote><br>  where K is a coefficient.  This is the maximum number of rating points a player can gain / lose in one game.  Usually equals 16. FIDE depends on the level of players and varies from 10 to 30. <br><br>  Similarly, the second player's rating is Rb '. <br><br>  Obviously, Ea + Eb = 1, Sa + Sb = 1 and therefore Ra '- Ra + Rb' - Rb = 0, that is, we have a zero-sum game.  It is clear from the formulas that a strong player gets a lower rating for defeating a weak player than if a weak player wins a strong one. <br><br>  We have been using the rating for about a year.  We played more than a thousand matches.  In my subjective opinion, the rating reflects fairly accurately the placement of players at the current time.  As soon as someone in the company starts to play better, for example, having mastered the strike, within a week takes an appropriate place in the rating. <br><br>  It is also not a problem if the results have not been recorded for a week or two.  Upon renewal, the rating is quickly restored. <br><br>  After the introduction of the rating, the behavior during the game changed greatly.  Matches have become more spectacular.  If earlier, having missed a couple of balls in the beginning, it was easier to merge this match and start a new one, now there is an incentive to fight to the end, so as not to lose (or donate to the opponent) rating points!  The author of the article recently lost 1: 6.  And won 7: 6.  It was a hot match. <br><br>  Naturally, when we decided to try the rating, we first looked for ready-made implementations.  And although many online games use Elo, they did not find anything sensible, where we could just record the results of our games.  Therefore, a google-script for google-docks was thrown on Friday evening. <br><br>  Half a year ago I wanted to look at the Asp.Net Core in action (then RC1 was).  And objectively google-script has long been missing.  And there was just the weekend.  As a result, a rating system has emerged, which we have been successfully using so far.  We like.  I'm sure, and the rest may be afraid to admit that they are not. <br><br>  I think it will be right to share with everyone.  Sources are available <a href="https://github.com/jacob-l/playerratings/">here</a> . <br><br>  It turned out that something is clearly more than just MVP.  Including now implemented: <br><br><ul><li>  <b>Elo rating calculation;</b> </li><li>  <b>Additional statistics: the ratio of victories, scored / missed, victories and defeats in a row;</b> </li><li>  <b>Scoring points earned / lost in case of win / loss when playing with a specific player in the next match.</b>  We must somehow plan with whom it is better to play now; </li><li>  <b>Import match results from csv.</b>  This is where we moved from google scripts; </li><li>  <b>Authentication with OAuth support.</b>  So far, only google, as we have enough.  But it‚Äôs easy to add which system; </li><li>  <b>Simplified system of access rights.</b>  There is an admin league with the ability to manage the league and just players; </li><li>  <b>Inviting new users.</b>  With email notification; </li><li>  <b>Separate leagues.</b>  Each user can create his own private league, which will be visible only to league players; </li><li>  <b>Support two languages: English and Russian.</b>  I have long-standing accounts with application localization.  And I really wanted to see how it is implemented in Asp.Net Core; </li><li>  <b>Adaptive design.</b>  Nothing extra natural.  Just Bootstrap.  To conveniently bring the results from the phone; </li><li>  <b>Should work with javascript off.</b>  It is more convenient of course with the included.  But since there was a desire to look at some MVC features, it turned out to be a multipage application. </li></ul><br>  During development for hosting, I used Azure.  Being sure that I will calmly move to some hosting.  So be it, even pay it.  And he tried to move ... He was even mentally prepared to pay 50 bucks a year for the most modest option.  But when I spent the first day with the migration of the database, and then the project did not start, because the hoster was not very ready for Asp.Net Core, I had to stay on Azure.  But the price tag is big there.  On the other hand, there is something to compare, Azure is much more convenient. <br><br>  The advertisement on Habr√© about hosting Azure for startups was remembered.  I read the conditions.  I wrote a complaint letter to the specified email.  And the project added to the program of support for startups.  Hopefully, after the article will not exclude.  Although I believe that the project satisfies all requirements.  As a result, the issue with hosting is now resolved for 3 years!  So if someone does not want to deploy the project locally, join us, create your own <a href="http://playerratings.azurewebsites.net/">league</a> .  It was established experimentally that the name is not very memorable.  Therefore, we have decided to use learningstreet.ru by a general vote. <br><br><div class="spoiler">  <b class="spoiler_title">The exciting story of why learningStreet</b> <div class="spoiler_text">  A long time ago, one of our colleagues, milling the signature to the letter, wrote for the joke the address of the office as learning street 79 (Educational Street).  We laughed.  And literally a day later, I called a number of guys ‚Äúboys with whom we work‚Äù (in a negative context), and not friends.  Word by word, the quote from the hero of the movie The Wolf of Wall Street was recalled: ‚ÄúThis is Wall Street.  There are no friends here. ‚Äù  Which was modified to ‚Äúthis is Lening Street.  There are no friends here. ‚Äù  Since then, if someone thinks that the world is unreasonably cruel to him within our office, we remember about L√∂ning Street.  That is every day.  Actually, we do not have friends in the football ranking either, and we should not expect mercy. <br></div></div><br>  Theoretically, if anyone has ideas of domain names suitable for the site, you can fasten.  I just have bonuses from one of the hosters. <br><br>  Oh yeah, I almost forgot.  Who should be fired?  Apparently me: <br><br><img src="https://habrastorage.org/files/47e/1dd/194/47e1dd194b81474abc3ba3a8ed1d65b7.png"></div><p>Source: <a href="https://habr.com/ru/post/308920/">https://habr.com/ru/post/308920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308906/index.html">Data for more than 68 million Dropbox users leaked to the network</a></li>
<li><a href="../308910/index.html">By September 1st post: hosting for a social project and PR of public organizations</a></li>
<li><a href="../308914/index.html">OOP of the Future: Baruh Sadogursky and Yegor Bugayenko on how we will program in 20 years</a></li>
<li><a href="../308916/index.html">How the Skyeng School Created Its Own CRM</a></li>
<li><a href="../308918/index.html">Unity from the perspective of the artist in the development of cross-platform games</a></li>
<li><a href="../308922/index.html">The main developer of the site Kremlin.ru Artem Geller on the creation of the service and work with the presidential administration</a></li>
<li><a href="../308924/index.html">The suicide squad. How was the world premiere prepared?</a></li>
<li><a href="../308926/index.html">Webpack + React. How to reduce the bundle 15 times</a></li>
<li><a href="../308928/index.html">The OSX / Keydnap malware is distributed using the trusted application Transmission</a></li>
<li><a href="../308930/index.html">Accelerate npm scripts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>