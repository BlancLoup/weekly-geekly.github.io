<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to choose hard drives for servers?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are many myths in the IT area. ‚ÄúYou can unsubscribe from spam,‚Äù ‚ÄúTwo antiviruses are better than one,‚Äù ‚ÄúServer hard drives should only be brande...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to choose hard drives for servers?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/6d0/8c3/314/6d08c331403547b6bb076d6368ae1745.jpg"><br><br>  There are many myths in the IT area.  ‚ÄúYou can unsubscribe from spam,‚Äù ‚ÄúTwo antiviruses are better than one,‚Äù ‚ÄúServer hard drives should only be branded.‚Äù  When replacing and expanding the railway fleet, there are a lot of nuances and subtleties that need to be taken into account, and this is not without its prejudices.  What are the hard disk drives for servers, how they differ, what you need to pay attention to, and whether they should be with the server manufacturer's logo - read about it under the cut. <br><a name="habracut"></a><br>  If the disk is installed in the server, then it must meet strict requirements for: <br><br><ul><li>  <b>Reliability</b>  Unrecoverable data loss can result in multimillion-dollar losses and reputational losses. </li><li>  <b>Performance</b> .  Servers are designed a priori to handle multiple requests. </li><li>  <b>Response time</b> .  Users do not have to wait until the server disk ‚Äúwakes up‚Äù and processes their requests. </li></ul><br>  In other words, the hard disk in the server should be like a pioneer - always ready to handle multiple requests with minimal latency, ensuring a high level of data integrity.  In high-load servers, hard drives have been working intensively and non-stop for years. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are four main categories (we do not take into account SSD, SAS SSD, PCI-e SSD) hard drives: <br><br><ul><li>  SATA (normal, "household" SATA) - spindle speed of 5400 and 7200 rev / min. </li><li>  SATA RAID Edition (SATA RE) - spindle speed of 7200 rpm, support for commands of a RAID controller. </li><li>  SAS Near Line (SAS NL) - spindle speed of 7200 rev / min. </li><li>  SAS Enterprise - spindle speed of 10,000 or 15,000 rpm. </li></ul><br>  First of all, you need to decide on the connection interface - SATA or SAS. <br><br><h3>  <font color="#018bc7">SATA or SAS?</font> </h3><br><img src="https://habrastorage.org/files/7ec/3cb/f9f/7ec3cbf9f1884b8c979c7e59f3fffc43.jpg"><br><br>  The <a href="https://ru.wikipedia.org/wiki/SATA">SATA</a> interface is a development of the IDE, which was later renamed <a href="https://ru.wikipedia.org/wiki/ATA">PATA</a> .  That is, this interface is initially focused on use in consumer computers, as well as in industrial systems with moderate requirements for performance and reliability.  At the same time, <a href="https://ru.wikipedia.org/wiki/Serial_Attached_SCSI">SAS</a> is a successor to the classic "server" <a href="https://ru.wikipedia.org/wiki/SCSI">SCSI</a> interface. <br><br>  Initially, the SAS interface had a higher bandwidth than SATA.  But progress does not stand still, and the third generation SATA III has a maximum bandwidth of 6 Gbit / s, as the second generation SAS.  However, servers with a third-generation SAS controller are already available on the market, with a throughput of up to 12 Gbit / s. <br><br>  To connect SAS-drives server must be equipped with the appropriate controller.  At the same time, the interfaces are backward compatible: you can connect SATA disks to the SAS controller, and vice versa ‚Äî you cannot. <br><br>  SAS provides <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D1%2583%25D0%25BF%25D0%25BB%25D0%25B5%25D0%25BA%25D1%2581_%2528%25D1%2582%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BC%25D1%2583%25D0%25BD%25D0%25B8%25D0%25BA%25D0%25B0%25D1%2586%25D0%25B8%25D0%25B8%2529">full-duplex</a> data exchange: a hard disk processes one command at a time for reading and writing, and a SATA disk for either reading or writing.  But this advantage will be noticeable only with a large number of disks, if we compare SAS NL and SATA RE. <br><br>  To sum up the intermediate result: SATA drives are good for creating large-scale storage, which do not require maximum performance.  And if you need to squeeze everything out of the disk subsystem, then your choice is SAS. <br><br><h3>  <font color="#018bc7">Say no to regular hard drives.</font> </h3><br><img src="https://habrastorage.org/files/b4f/789/2ae/b4f7892ae2a94296866a5fa0f7be8f7d.jpg"><br><br>  Immediately clarify - the usual SATA is not intended for use in servers.  There are several reasons for this: <br><br><ul><li>  Low vibration resistance. </li><li>  High unrecoverable errors. </li><li>  No support for hardware RAID controllers commands. </li></ul><br>  Of course, the cost of the usual desktop SATA is significantly lower than that of the server, and nothing prevents to use them for small tasks that do not require high performance of the disk subsystem.  If the safety and speed of access to data is in the first place, it is still highly recommended to take server hard disk drives. <br><br><h3>  <font color="#018bc7">Vibration Resistance</font> </h3><br>  To solve more or less demanding tasks, it makes no sense to put only one disk.  To ensure the minimum level of reliability of data storage, you need at least two drives combined in a RAID.  But when 4 or more devices are collected in the basket, the vibrations arising from their operation affect the stability of the spindle rotation and the accuracy of the positioning of the heads.  Therefore, server hard drives have a number of constructive differences from household: <br><br><ul><li>  Reinforced spindle shaft, more resistant to external influences. </li><li>  Additional vibration control. </li><li>  Technologies that significantly increase the positioning accuracy and the height of the heads above the surface of the "pancakes". </li><li>  The rich possibilities of self-diagnosis, allowing time to notify the imminent release of the disk. </li></ul><br>  Household disks of all this are deprived.  With a sufficiently strong level of vibration, the <b>likelihood of read / write errors for ordinary SATA is 50% higher than that of SATA RE</b> . <br><br><h3>  <font color="#018bc7">Unrecoverable Error Level</font> </h3><br>  The next difference between server hard drives and home drives is the level of unrecoverable errors.  With conventional SATA, it is about 10 <sup>-14</sup> (1 bit for every 10 <sup>14</sup> bits = 12.5 terabytes).  That is, with a six-fold rewriting of a double-byte disk, you will almost certainly get one unrecoverable error.  For household drives, this is not a problem.  But if you rewrite the database every month, then after six months it may turn out to be a bat. <br><br> <code>    = <br> (N * (X / 12500 * 12500) / 12500) * 100%</code> <br> <br>  Where: <br><br><ul><li>  N is the number of disks in the RAID, </li><li>  X - volume of one disk in gigabytes, </li><li>  12500 is the number of bits that account for 1 unrecoverable error, expressed in gigabytes. </li></ul><br>  Suppose you have created a RAID 5 array of 1 terabyte normal SATA.  When you rebuild the array, you will get an unrecoverable error with a probability of 40%. <br><br> <code>    = <br> (5 * (1000 / 12500 * 12500) / 12500) * 100% = 40%.</code> <br> <br>  And if you are using 600 GB disks, then the probability of epic fail with rebuild is 24%: <br><br> <code>    = <br> (5 * (600 / 12500 * 12500) / 12500) * 100% = 24%.</code> <br> <br>  In SATA RE and SAS NL, the level of unrecoverable errors is 10 <sup>-15</sup> , that is, an order of magnitude less than in conventional SATA.  Then in our example with RAID 5 we get: <br><br>  For 1 terabyte disks, the probability of error is 4%. <br>  For 600 GB drives, the probability of error is 2.4%. <br><br>  For SAS disks, the level of unrecoverable errors is even lower - 10 <sup>-16</sup> : <br><br>  For 1-terabyte disks, the probability of error = 0.4%. <br>  For 600 GB disks, the probability of error is 0.24%. <br><br>  <b>Please note</b> : the probability of an error is proportional to the number of disks in the RAID. <br><br><img src="https://habrastorage.org/files/e38/7bf/4d7/e387bf4d786c4b7abd16dd604aecf0df.png"><br><br>  How does a lower level of errors occur in SAS disks?  <s>Magic</s> . <br><br><ul><li>  The sector size in SATA disks is 512 bytes, in SAS disks it is 520 bytes.  Additional 8 bytes are used for pass-through parity checking. </li><li>  Other reading algorithms. </li><li>  Additional data recovery algorithms without the controller. </li></ul><br><h3>  <font color="#018bc7">Work in a RAID</font> </h3><br>  Another important drawback of conventional SATA is the lack of error recovery when working in a RAID array.  Suppose you hope to backup, and for the sake of saving built a RAID from the usual SATA.  When an error occurs, the hard disk repeatedly tries to read the failed block.  And while he is doing this, he is not responding to the signals from the RAID controller.  He perceives it as a hard disk failure, excludes him from the array and tries to recover.  In other words, when an error occurs, the entire disk drops out of the array. <br><br>  In the case of SATA RE, SAS NL and SAS, the situation will evolve differently.  Upon detecting an error, the disk informs the controller about the presence of a bad block.  The controller requests this block from other disks in the array and transfers it to the failed disk.  At the same time, the device does not drop out of the array, and there is no performance drop. <br><br><h3>  <font color="#018bc7">Brand Myth</font> </h3><br>  Finally, the most important question: do you need to buy ‚Äúnative‚Äù disks? <br><br>  It's no secret that HP, IBM and DELL do not produce hard drives.  They buy them from third-party manufacturers, after which they test, reflash and glue their logos. <br><br><img src="https://habrastorage.org/files/b2a/1f6/af3/b2a1f6af396b42768c90097eb981ecd4.jpg"><br><br>  On the one hand, such discs have several advantages: <br><br><ul><li>  firmware (firmware) takes into account the features of the controllers of various server models, </li><li>  additional quality control and carrying out stress tests reduce the likelihood of acquiring copies with hidden defects, </li><li>  On "branded" drives provide vendor warranty and full support. </li></ul><br>  But for all the good you have to pay - "native" hard drives sell about two to three times more expensive than the same models, but with the logos of manufacturers - Seagate, Western Digital, Toshiba, HGST. <br><br>  As you understand, this price difference is far from being justified by the promises of increased reliability.  Therefore, probably, many have heard that non-native hard drives are working in <a href="http://pc-administrator.ru/">HP, IBM and DELL servers</a> unstable or too slow.  Someone even scared that the server will not start with the ‚Äúleft‚Äù disks. <br><br>  Where do these claims grow from? <br><br>  The vast majority of servers use disk subsystem performance improvement technologies.  It is for this purpose that vendors reflash hard drives - to provide support for these technologies.  If you put "non-native" discs, then you just can not use the company know-how, nothing more. <br><br>  Also earlier, vendors artificially forced to use ‚Äúproprietary‚Äù drives, using locks at the controller level.  In the end, the anger of the masses forced over time to abandon this vicious practice.  Today problems most often arise with relatively old server models.  And this is solved by simply uploading the latest firmware to the controller.  Although there are simply capricious models of controllers, for example, P410 in HP servers. <br><br>  As practice shows, "non-native" hard drives work without difficulty: <br><br><ul><li>  in HP servers - at least since the Gen6 generation, </li><li>  in IBM servers - at least from the M2 generation, </li><li>  in DELL servers from at least 10 generation. </li></ul><br>  Non-native hard drives are fully compatible with both server sleds and internal monitoring systems.  But the sled needs to be set only for relatives, and only for a certain generation of the server.  You can easily find on the network the real names of the disk models that vendors sell under their brands.  For example, most HP SAS drives are made from the Seagate Savvio hard drive line.  In this case, it is not at all necessary to search for full analogs; you can choose the appropriate models from the popular lines: <br><br><ul><li>  <a href="http://www.seagate.com/ru/ru/internal-hard-drives/enterprise-hard-drives/hdd/enterprise-capacity-3-5-hdd/">Seagate Enterprise Capacity</a> (formerly Seagate Constellation ES) </li><li>  <a href="http://www.seagate.com/ru/ru/products/enterprise-servers-storage/mission-critical-storage/">Seagate Enterprise Performance</a> (formerly Seagate Savvio) </li><li>  <a href="http://www.hgst.com/products/hard-drives/ultrastar-7k4000">HGST Ultrastar 7K400</a> </li><li>  <a href="http://www.hgst.com/products/hard-drives/ultrastar-a7k2000">HGST Ultrastar A7K2000</a> </li><li>  Toshiba AL13SEB </li><li>  Toshiba AL13SXB </li><li>  <a href="http://www.wdc.com/ru/products/products.aspx%3Fid%3D20">WD VelociRaptor</a> </li><li>  <a href="http://www.wdc.com/ru/products/products.aspx%3Fid%3D580">Wd re</a> </li><li>  <a href="http://www.wdc.com/ru/products/products.aspx%3Fid%3D1050">Wd se</a> </li></ul><br>  As for the reliability of this or vendor, according to a fairly informative statistics of the company <a href="https://www.backblaze.com/blog/what-hard-drive-should-i-buy/">Backblaze</a> , engaged in providing cloud backup, the most reliable are Hitachi disks.  Western Digital comes second, Seagate third. <br><br><h3>  <font color="#018bc7">Check warranty</font> </h3><br>  If you decide not to take the lead from vendors and are going to buy "non-native" hard drives, then first be sure to check with the seller: who provides a guarantee?  The fact is that many stores do not provide a guarantee for hard drives, referring to the manufacturer's warranty.  But there is a delicate point: for example, for <b>some</b> models, the Seagate warranty period starts <b>from the moment of production</b> .  Therefore, the situation is not excluded that you buy brand new discs for which the manufacturer‚Äôs warranty has already expired. <br><br>  Sad, but true. <br><br>  In order not to experience this awkward moment, try to check the warranty of specific copies on the manufacturers websites before buying: <br><br>  Seagate: <a href="http://support.seagate.com/customer/en-US/warranty_validation.jsp">http://support.seagate.com/customer/en-US/warranty_validation.jsp</a> <br><br>  Western Digital: <a href="http://support.wdc.com/Warranty/warrantyStatus.aspx%3Flang%3Dru">http://support.wdc.com/Warranty/warrantyStatus.aspx?lang=en</a> <br><br>  Hitachi: <a href="https://www.hgst.com/portal/site/en/support/warranty">https://www.hgst.com/portal/site/en/support/warranty</a> <br><br><h3>  <font color="#018bc7">Conclusion</font> </h3><br>  When choosing a hard drive, you must first build on the tasks that the <a href="http://pc-administrator.ru/">server</a> will perform: <br><br><ul><li>  If you do not need high speed access and reliable data storage, and the number of disks will not exceed four, then we recommend installing SATA RAID Edition disks.  This is an option for low-cost entry-level servers serving a small number of users. </li><li>  If the server will maintain the database, or the number of disks in the array will be 5 or more, then it is better to choose SAS NL.  Most often, such disks are placed in servers operating in medium-sized companies: for accounting systems, CMS, corporate repositories, etc. </li><li>  And if you need maximum performance and / or reliability of data storage, for example, when processing financial transactions, then your choice is SAS Enterprise drives.  These are carriers for high-load servers serving a large number of users, as well as for systems working with the most important data. </li></ul><br>  But the main thing - do not believe the myths.  It is not necessary to buy discs with the same logo as on your server.  With the right approach, you can significantly save on upgrading the disk subsystem, without losing at all the reliability and speed of work. </div><p>Source: <a href="https://habr.com/ru/post/302868/">https://habr.com/ru/post/302868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../302856/index.html">The future of browsers and artificial intelligence. Zen in Yandex Browser</a></li>
<li><a href="../302860/index.html">Create arkanoid in pure javascript from scratch. CANVAS</a></li>
<li><a href="../302862/index.html">What to do in a large company with incompetent management</a></li>
<li><a href="../302864/index.html">Watch the recording of the opening of the virtual forum ‚ÄúData. Technology. SQL Server 2016 ¬ª</a></li>
<li><a href="../302866/index.html">Should I give a discount on the software and how to do it correctly</a></li>
<li><a href="../302870/index.html">Development of chat bots for Telegram and Slack using PHP</a></li>
<li><a href="../302872/index.html">Azure-IaaS-Digest number 7 (May-June)</a></li>
<li><a href="../302874/index.html">Facebook Messenger was vulnerable to an attack that required basic HTML knowledge.</a></li>
<li><a href="../302880/index.html">Online casinos are gaining popularity</a></li>
<li><a href="../302882/index.html">On which CMS are the websites of law firms?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>