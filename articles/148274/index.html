<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Grunt, a tool to build javascript projects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Grunt is a tool for building javascript projects from the command line using tasks. The release came out quite recently, the author Ben "Cowboy" Alman...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Grunt, a tool to build javascript projects</h1><div class="post__text post__text-html js-mediator-article">  Grunt is a tool for building javascript projects from the command line using tasks.  The release came out quite recently, the author <a href="http://benalman.com/">Ben "Cowboy" Alman</a> , the project is on <a href="https://github.com/cowboy/grunt">github</a> .  In this article I will discuss the basics of Grunt, its installation and use. <br><a name="habracut"></a><br>  <i>Please note that at the moment Grunt is in beta status and is actively developing, while writing the article version 0.3.9 was used</i> . <br><br><h4>  Installation </h4><br>  Grunt is installed as an NPM (Node Package Manager) module.  If you don't have node.js and npm installed, then you need to install them.  This can be done from the <a href="http://nodejs.org/">official site node.js</a> or, if you have a Mac, use homebrew.  Then you need to <a href="http://npmjs.org/">install the npm</a> package manager for node (you can draw a parallel between npm and ruby ‚Äã‚Äãgems).  Please note that if you install node.js from the official site, then <b>npm is included</b> .  Separately, you need to install npm only if you compiled node.js from source or used homebrew. <br>  Directly installing Grunt is done with a simple <code>npm install -g grunt</code> command <code>npm install -g grunt</code> .  The <code>-g</code> flag means installation globally, that is, Grunt will always be available from the command line, since it is installed in the root <code>node_modules</code> folder.  If you want to run Grunt only in a specific folder, then in it, run the same command without the <code>-g</code> flag.  After successful installation, the console output looks like this: <br><img src="https://habrastorage.org/storage2/d63/ee3/c98/d63ee3c9822ba08d0a3871c085c20ff9.png"><br>  If you see a similar picture on your screen, it means Grunt is installed with all dependencies and we can start creating the project. <br><br><h4>  Initialization </h4><br>  First you need to initialize a new project.  Grunt contains several convenient templates that allow you to initialize projects such as <code>commonjs</code> , <code>jquery</code> and <code>node</code> .  For example, let's create a jQuery project.  Create a folder for the project and execute <code>grunt init:jquery</code> in it.  You will be asked a few questions.  The default value of Grunt is shown in brackets, and if you don‚Äôt want to change it, just hit enter.  I looked like this: <br><img src="https://habrastorage.org/storage2/5f7/bbc/628/5f7bbc6281c82313d97cbc354e4b397a.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first file we‚Äôll look at is <code>grunt.js</code> (also called <code>gruntfile</code> ).  Its content may not seem very clear, do not worry about it.  Most importantly, Grunt added the <code>qunit</code> section to the file and created the <code>test</code> folder in the project.  He also added instructions for merging files and tracking files.  The latter means automatic start of tasks at any change of files: <br><pre> <code class="javascript hljs">watch: { <span class="hljs-attr"><span class="hljs-attr">files</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;config:lint.files&gt;'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tasks</span></span>: <span class="hljs-string"><span class="hljs-string">'lint qunit'</span></span> }</code> </pre><br>  This task uses files from the <code>config:lint.files</code> , that is, refers to the following section of the <code>config:lint.files</code> : <br><pre> <code class="javascript hljs">lint: { <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'grunt.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'src/**/*.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'test/**/*.js'</span></span>] }</code> </pre><br>  Grunt will automatically run the <code>lint</code> and <code>qunit</code> (which do exactly what you thought) as soon as any of these files change.  Very graceful!  I will demonstrate it a little later. <br>  At the end of the file you see the following: <br><pre> <code class="javascript hljs">grunt.registerTask(<span class="hljs-string"><span class="hljs-string">'default'</span></span>, <span class="hljs-string"><span class="hljs-string">'lint qunit concat min'</span></span>);</code> </pre><br>  This is an instruction for Grunt that, when started without parameters, <code>lint</code> , <code>qunit</code> , <code>concat</code> and <code>min</code> must be executed. <br><br><h4>  Launch </h4><br>  Type <code>grunt</code> in the terminal and hit enter.  Unfortunately, it didn't work as expected for me: <br><pre> <code class="bash hljs">Running <span class="hljs-string"><span class="hljs-string">"lint:files"</span></span> (lint) task Lint free. Running <span class="hljs-string"><span class="hljs-string">"qunit:files"</span></span> (qunit) task Testing jquery.jsplayground-demo.html Running PhantomJS...ERROR</code> </pre><br>  Installing PhantomJS is quite simple, there is an instruction <a href="http://code.google.com/p/phantomjs/wiki/Installation">here</a> .  PhantomJS is a console engine for Javascript ( <a href="http://habrahabr.ru/post/116789/">an article in Habr√©</a> , <i>approx. Translator</i> ) that will allow us to run qunit tests.  After installing PhantomJS, the console output for the <code>grunt</code> command will be: <br><img src="https://habrastorage.org/storage2/062/ecf/575/062ecf575642c7c3b6ff49bafd5e47a2.png"><br>  So, what did this script do: <br><ol><li>  launched code check via jslint </li><li>  automatically launched Qunit tests without opening the browser </li><li>  merged all the files into one (although in this example we have one file already) </li><li>  minified the merged file </li></ol><br>  I do not know how for you, but for me this is a great result for just one team! <br>  If, say, I want to run all these commands every time I change files, I just need to edit <code>grunt.js</code> .  Find the <code>watch</code> section, which looks like this: <br><pre> <code class="javascript hljs">watch: { <span class="hljs-attr"><span class="hljs-attr">files</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;config:lint.files&gt;'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tasks</span></span>: <span class="hljs-string"><span class="hljs-string">'lint qunit'</span></span> },</code> </pre><br>  I can add <code>concat</code> and <code>min</code> tasks here, but as you remember, we defined a <code>default</code> task that performs all of these actions.  Therefore, when changing files, I can simply run <code>default</code> : <br><pre> <code class="javascript hljs">watch: { <span class="hljs-attr"><span class="hljs-attr">files</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;config:lint.files&gt;'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tasks</span></span>: <span class="hljs-string"><span class="hljs-string">'default'</span></span> }</code> </pre><br>  Of course, in reality, running <code>concat</code> and <code>min</code> every time you save it is too, I just wanted to show that it is possible.  You can create several tasks, one to run by default, another to run when released, a third to run during development, etc. <br>  Now let's take a look at the js-file that was automatically created in <code>src/jquery.jsplayground-demo.js</code> .  Inside there is an indication of the license, copyright and a link to github - all this is added automatically by the <code>grunt init:jquery</code> command.  Now let's make changes to this file to see <code>watch</code> in action.  First, you need to run <code>watch</code> in the terminal: <code>grunt watch</code> .  Now we‚Äôll make a change: I‚Äôm going to enter invalid javascript so we can see the JSLint error.  I typed <code>some rubbish stuff</code> in the file and saved it.  The output in the terminal is automatically updated: <br><img src="https://habrastorage.org/storage2/b29/1e0/127/b291e0127f323ecf06e7d07770751eff.png"><br><br>  I‚Äôll fix it now, but I‚Äôll also remove all jQuery code except <code>$.fn.awesome</code> .  Grunt automatically generated several tests, so when I save the file, you will see the tests drop.  Since the code being tested will be deleted. <br><img src="https://habrastorage.org/storage2/c4c/480/679/c4c48067942233cc0bc79980a6f0859c.png"><br><br>  And now I will delete the extra tests, and all the tasks will be successfully completed: <br><img src="https://habrastorage.org/storage2/e08/84b/a8e/e0884ba8e9532e76aa65188f74cb6de0.png"><br><br>  Just imagine how comfortable it is to work on a project by running <code>grunt watch</code> and knowing that all the code has been tested, tested and minified. <br><br><h4>  Conclusion </h4><br>  I hope this short review inspired you to use Grunt.  Personally, I used it on several recent projects and was pleased. <br><br>  <i>Note</i>  <i>translator: I also advise you to look at the <a href="https://github.com/vitalets/grunt-contrib">grunt-contrib</a> project, it contains the most frequently encountered tasks in the build.</i>  <i>Successes!</i> </div><p>Source: <a href="https://habr.com/ru/post/148274/">https://habr.com/ru/post/148274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148268/index.html">Managing freelance projects on their own experience</a></li>
<li><a href="../148270/index.html">RoboSub 2012 reconnaissance in battle and reaching the final</a></li>
<li><a href="../148271/index.html">Problems in corporate use of SAAS</a></li>
<li><a href="../148272/index.html">Want to be a programmer - be it!</a></li>
<li><a href="../148273/index.html">Career path: from trainee to IT director</a></li>
<li><a href="../148279/index.html">Invites to the Windows Store before its opening to Russian developers</a></li>
<li><a href="../148280/index.html">How we created an introductory video for Vector</a></li>
<li><a href="../148281/index.html">Django people - like-minded community</a></li>
<li><a href="../148282/index.html">On the possibility of AI to self-knowledge and knowledge of the creator</a></li>
<li><a href="../148283/index.html">Genetic algorithm for generating faces</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>