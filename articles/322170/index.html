<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúHello, (real) world!‚Äù In php in 2017</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You probably think that writing in php is easy. And "hello, world" looks like this: 



<?php echo 'Hello, world!'; 
 , . , . . , 2017 . , , hello-wor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúHello, (real) world!‚Äù In php in 2017</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ac1/d87/65e/ac1d8765e79f41269b78cde6c9e10c5b.jpg" align="left">  You probably think that writing in php is easy.  And "hello, world" looks like this: <br><br><pre><code class="php">&lt;?php
echo 'Hello, world!';
</code></pre><br>
,         .  ,     .   .  ,  2017      .  , ,       hello-world   ,  ,  ,   .<br>
<br>
<a name="habracut"></a><br>
‚Üí    ¬´hello,world¬ª   <a href="https://github.com/anton-okolelov/helloworldphp"></a>.<br>
<br>
     ,        .     "<code>echo 'hello, world'</code>",         (       ?).   - ,    ,  Symfony.<br>
<br>
 ,   ,     .   ?      ¬´hello, world¬ª    !<br>
<br>
<h2> </h2><br>
 2017    postgresql.        ,  :<br>
<br>
<pre><code>sudo apt-get install postgresql</code></pre><br>
     postgres,       psql     .<br>
<br>
<pre><code>sudo -u postgres psql</code></pre><br>
      ( - ).<br>
<br>
<pre><code class="sql"> CREATE ROLE helloworlduser  WITH PASSWORD '12345'  LOGIN;</code></pre><br>
  :<br>
<br>
<pre><code class="sql"> CREATE DATABASE helloworld  OWNER helloworlduser;</code></pre><br>
  ,   pg_hba.conf        localhost (127.0.0.1).    -  :<br>
<br>
<pre><code>host    all             all             127.0.0.1/32            md5</code></pre><br>
 :<br>
<br>
<pre><code>psql -h localhost -U helloworlduser helloworld</code></pre><br>
      .   :<br>
<br>
<pre><code class="sql">CREATE TABLE greetings (
     id int,
     greeting text,
     primary key(id)
);

INSERT INTO greetings 
(id, greeting) 
VALUES 
(1, 'Hello, world!');
</code></pre><br>
, ,   .    <br>
<br>
<h2>php-</h2><br>
,   2017     composer  .      <br>
<br>
<pre><code> composer create-project symfony/framework-standard-edition  helloworldphp</code></pre><br>
        :<br>
<br>
<pre><code>host: 127.0.0.1
database_name: helloworld
database_user: helloworlduser
database_password: 12345</code></pre><br>
  / .<br>
<br>
    config.yml    <code>driver: pdo_pgsql</code>. (    php- pdo_pgsql ?)<br>
<br>
,     ,  <br>
<br>
<pre><code>cd helloworldphp
bin/console server:start 
</code></pre><br>
    ,    8000      .       <code>http://localhost:8000/</code>   -  ¬´ , ¬ª.<br>
<br>
!   ,   ,  ,    ,    !<br>
<br>
‚Ä¶ . ,    2017-.      SPA (single page application).<br>
Php-  2017      js  ,    full stack,    helloworld   .<br>
<br>
 , ,    php--,      <br>
<br>
<h2>JavaScript    </h2><br>
     (     app/Resources/view/default/index.html.twig)    ,  :<br>
<br>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
   &lt;meta charset="utf-8"&gt;
   &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
   &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script src="js/bundle.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
..     bundle.js:  javascript       ,  .<br>
    ?      webpack  .<br>
<br>
Webpack (  )     ,         javascript  2017-,  typescript   .  typescript  -    js-.   ,  webpack.<br>
<br>
,   typescript    .  - .       ‚Äî  react + redux.   ,   ,      bootstrap ( sass,  ).<br>
<br>
   js-.     nodejs  npm? ,     npm   :<br>
<br>
<pre><code>npm init </code></pre><br>
  (  package.json)   :<br>
<br>
<pre><code class="javascript">"dependencies": {
 "@types/react": "^15.0.11",
 "@types/react-dom": "^0.14.23",
 "babel-core": "^6.23.1",
 "babel-loader": "^6.3.2",
 "babel-preset-es2015": "^6.22.0",
 "babel-preset-react": "^6.23.0",
 "bootstrap-sass": "^3.3.7",
 "css-loader": "^0.26.1",
 "node-sass": "^4.5.0",
 "react": "^15.4.2",
 "react-dom": "^15.4.2",
 "react-redux": "^5.0.2",
 "redux": "^3.6.0",
 "resolve-url-loader": "^2.0.0",
 "sass-loader": "^6.0.1",
 "style-loader": "^0.13.1",
 "ts-loader": "^2.0.0",
 "typescript": "^2.1.6",
 "url-loader": "^0.5.7",
 "webpack": "^2.2.1",
 "@types/node": "^7.0.5"
}</code></pre><br>
<br>
 <br>
<br>
<pre><code>npm install</code></pre><br>
   :<br>
<br>
<pre><code>npm install webpack -g</code></pre><br>
    webpack.<br>
<br>
,     .     typescript,     tsconfig.json,  :<br>
<br>
<div class="spoiler"><b class="spoiler_title">tsconfig.json</b><div class="spoiler_text"><pre><code class="javascript">{
  "compilerOptions": {
    "module": "es6",
    "moduleResolution": "node",
    "sourceMap": false,
    "target": "esnext",
    "outDir": "web/ts",
    "lib": [
      "dom",
      "scripthost",
      "es5",
      "es6",
      "es7"
    ],
    "jsx": "react"
  },
  "include": [
    "frontend/**/*.ts",
    "frontend/**/*.tsx"
  ]
}</code></pre><br>
</div></div><br>
    ,      typescript.<br>
<br>
      :<br>
<br>
<pre><code>//  frontend/components/Greetings.tsx
import * as React from 'react';

export interface GreetingsProps {
    text: string;
    isReady: boolean;
    onMount();
}

class Greetings extends React.Component&lt;GreetingsProps, undefined&gt; {

    componentDidMount() {
        this.props.onMount();
    }

    render() {
        return (
            &lt;h1&gt;{this.props.text}&lt;/h1&gt;
        );
    }
}

export default Greetings;</code></pre><br>
 SPA      Rest API. React ‚Äî   view-,         . <br>
<br>
    redux,      redux  react (react-redux).      ,      Greetings   properties,     (store) ,     (   ).<br>
<br>
Disclaimer:     redux,       ¬´  ¬ª.<br>
<br>
  , ,  :<br>
<br>
<pre><code>//  frontend/components/App.tsx
import * as React from 'react';

import {connect} from 'react-redux'
import Greetings from './Greetings';


const mapStateToProps = (state) =&gt; {
    return state;
}

const mapDispatchToProps = (dispatch) =&gt; {
    return {
        onMount: () =&gt; {
            fetch("/greetings/1").then((response) =&gt; {
                return response.json();
            }).then((json) =&gt; {
                dispatch({type: 'FETCH_GREETING', text: json.greeting})
            });
        }
    }
}

export default connect(mapStateToProps, mapDispatchToProps)(Greetings);</code></pre><br>
    ,  redux-,   ..      -,    , :<br>
<br>
<pre><code>//    bootstrap
import 'bootstrap-sass/assets/stylesheets/_bootstrap.scss';

import * as React from 'react';
import * as ReactDOM from "react-dom";
import {Provider} from 'react-redux';
import App from './components/App';
import {createStore} from 'redux';

const app = (state = {isReady: false, text: ''}, action) =&gt; {
    switch (action.type) {
        case 'FETCH_GREETING':
            return Object.assign({}, state, {isReady: true, text: action.text});
    }
    return state;
}

const store = createStore(app);

ReactDOM.render(
    &lt;Provider store={store}&gt;
        &lt;App/&gt;
    &lt;/Provider&gt;,

    document.getElementById("root")
);</code></pre><br>
   :<br>
<br>
<ul>
<li>   ‚Äî <code>{isReady: false, text: ''}</code>. </li>
<li> reducer   app,     FETCH_GREETING     .</li>
<li> store   .</li>
<li>   ,      <code>&lt;div id="root"&gt;&lt;/div&gt;</code></li>
</ul><br>
 ,  .  :<br>
<br>
<div class="spoiler"><b class="spoiler_title">webpack.config.js</b><div class="spoiler_text"><pre><code class="javascript">const webpack = require('webpack');
const path = require('path');
const ENVIRONMENT = process.env.NODE_ENV || 'development';

let config = {
    context: path.resolve(__dirname, "frontend"),
    entry: './index.tsx',
    output: {
        filename: 'bundle.js',
        path: path.resolve(__dirname, "web/js")
    },
    resolve: {
        extensions: [ ".js", ".jsx", '.ts', '.tsx']
    },
    module: {
        rules: [
            {
                test: /\.tsx?$/,
                use: [{
                    loader: 'babel-loader',
                    query: {
                        presets: ['es2015', 'react']
                    }
                }, {
                    loader: 'ts-loader'
                }]
            },

            {
                test: /\.woff($|\?)|\.woff2($|\?)|\.ttf($|\?)|\.eot($|\?)|\.svg($|\?)/,
                loader: 'url-loader'
            },

            {
                test: /\.scss$/,
                use: [
                    {
                        loader: "style-loader"
                    },
                    {
                        loader: "css-loader"
                    },
                    {
                        loader: "resolve-url-loader"
                    },
                    {
                        loader: "sass-loader"
                    }
                ]
            }
        ]
    },
    plugins: [
        new webpack.DefinePlugin({
            'process.env.NODE_ENV': JSON.stringify(ENVIRONMENT)
        })
    ],
    node: {
        process: false
    }
};

if (ENVIRONMENT == 'production') {
    config.plugins.push(
        new webpack.optimize.UglifyJsPlugin({
            compress: {
                drop_console: false,
                warnings: false
            }
        })
    );
}

module.exports = config;
</code></pre><br>
</div></div><br>
    webpack  NODE_ENV=production webpack (    bundle.js)<br>
<br>
<h2>Pomodoro</h2><br>
   ,       hello, world.  2017    ,   ,       ( Pomodoro  ..).  , ,   .<br>
<br>
[ - ]<br>
<br>
 .       /greetings/1   javascript,  php-    .<br>
<br>
<h2>Doctrine</h2><br>
   ,   php-     .   :<br>
<br>
<pre><code class="php">&lt;?php

// src/AppBundle/Entity/Greeting.php
namespace AppBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * @ORM\Entity
 * @ORM\Table(name="greetings")
 */
class Greeting
{
    /**
     * @ORM\Column(type="integer")
     * @ORM\Id
     */
    private $id;

    /**
     * @ORM\Column(type="string", length=100)
     */
    private $greeting;

    public function getId()
    {
        return $this-&gt;id;
    }

    public function getGreeting()
    {
        return $this-&gt;greeting;
    }
}
</code></pre><br>
.   -.<br>
<br>
<h2>REST</h2><br>
 -  REST API,      json   GET /greetings/1<br>
<br>
    ( src/AppBundle/Controller/DefaultController.php)    :<br>
<br>
<pre><code class="php">    /**
     * @Route("/greetings/{id}")
     */
    public function greetings($id)
    {
        $greeting = $this-&gt;getDoctrine()-&gt;getRepository("AppBundle:Greeting")-&gt;find($id);
        return new JsonResponse(['greeting' =&gt; $greeting-&gt;getGreeting()]);
    }</code></pre><br>
,  .    ¬´Hello, world!¬ª.  , ,      &lt;?php echo ¬´hello, world¬ª ?&gt; (    ),        . ,  ,     (  ,      ),       :)<br>
<br>
<h2></h2><br>
      ¬´  php,   java¬ª.   ,  ,   ,  ‚Äî  .          php ‚Äî    .   ,      ,       .         100500  :  (    java),  , linux, javascript    , , http-,    - .     SPA.<br>
<br>
<b>Upd.</b>     ,      .   :<br>
1) SPA      ,    ,     .<br>
2)       .</div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/322170/">https://habr.com/ru/post/322170/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322156/index.html">I need to know what you think: transparency of thinking AI as a necessary condition</a></li>
<li><a href="../322158/index.html">Multitasking. How to cope with ghosts outsiders</a></li>
<li><a href="../322162/index.html">$ mol_app_bench: preparing JS benchmarks quickly and easily</a></li>
<li><a href="../322166/index.html">Yii 2.0: release of the debug 2.0.8 extension</a></li>
<li><a href="../322168/index.html">Union Type, TPT, DDD, ORM and RDBMS</a></li>
<li><a href="../322172/index.html">As in Canada, looking for missing children</a></li>
<li><a href="../322176/index.html">Infrared optics instead of optical fiber in the data center: the original project of engineers from the United States</a></li>
<li><a href="../322178/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ250 (February 13 - 19, 2017)</a></li>
<li><a href="../322180/index.html">Azure-IaaS-Digest number 13 (January-February)</a></li>
<li><a href="../322182/index.html">Displaying parameters of IOT & GPS objects on charts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>