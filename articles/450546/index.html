<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The speaking prefix to the washing machine which is not breaking a guarantee</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Having acquired a washing machine with a seemingly mechanical control, the author and his blind wife Sue soon realized that they were mistaken. Instea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The speaking prefix to the washing machine which is not breaking a guarantee</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/wm/0n/hz/wm0nhzujuimirsnaf24gsdtmjl0.jpeg"><br><br>  Having acquired a washing machine with a seemingly mechanical control, the author and his blind wife Sue soon realized that they were mistaken.  Instead of the command device, there was an encoder, the <i>absolute</i> position of which, for obvious reasons, is not related to the selected program.  Proven technique - sticking tactile tags - no longer acted.  It is unlikely that the author is familiar with the magazine "Young Technician", which means that he came to this decision independently - read the status of the photoresistors located around the LED encoder knob. <a name="habracut"></a><br>  The video shows the essence of the problem, but it is already clear to those who know what an encoder is: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/DqqkY7qZdBw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  So, a device is born called SOAP - Speech Output Announcing Programs.  For convenience, it is divided into two blocks.  The first one contains fourteen photoresistors located around the ring, its design depends on the geometry of the front panel of the machine.  The second is actually the "govorilka", the design of which is unchanged.  Between themselves, they are connected by a train.  Interference into the washing machine does not occur, the warranty is not lost. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The device diagram is shown below.  Connections to the shield for storing sound bites are not shown, as it is simply mounted on an Arduino clone like any other shield.  The number of photoresistors is equal to the number of programs on the machine.  Pull-up resistors require selection in such a way that when the LED is on in the car, the voltage on the photoresistor is less than 3 V, and when it is off, it is more. <br><br><img src="https://habrastorage.org/webt/gi/ea/ij/gieaijp2dksfbjuojbwj49-cgge.jpeg"><br><br>  The device is powered by ‚ÄúKrona‚Äù through a latching button and a stabilizer located on an Arduino-compatible board.  It is more convenient, of course, to feed from the power bank past this stabilizer, especially if such a board is chosen where it is not. <br><br>  Without cases and hoods, the device looks like this: <br><br><img src="https://habrastorage.org/webt/wh/jh/db/whjhdbreesfqypkizl0cyw0qoh8.jpeg"><br><br>  The loop contains 16 conductors, of which 14 go to the photodiodes, and the remaining 2 - to the common wire. <br><br>  For the sensor, it is necessary to cut two parts from the standard breadboard according to the drawing, then install photoresistors, jumpers and a connector (16 terminals in 2 rows): <br><br><img src="https://habrastorage.org/webt/bh/rs/-9/bhrs-9mqw8jpwvebhupe2rdrxuu.jpeg"><br><br>  The result of the assembly ... <br><br><img src="https://habrastorage.org/webt/6v/4f/pt/6v4fpthnnvqvikja4dnmyqifbqs.jpeg"><br><br>  ... pasted over with a soft, opaque material from the mouse pad, behind them, as well as with a thin black plastic sheet: <br><br><img src="https://habrastorage.org/webt/4-/sc/be/4-scbe3kkpu3n5zgu61dsbibtsa.jpeg"><br><br>  The following shows the methods of cutting rounding on the board with photoresistors and the holes in it: <br><br><img src="https://habrastorage.org/webt/ge/ut/hj/geuthj-ihlydxfvzdsx2zicavte.jpeg"><br><br><img src="https://habrastorage.org/webt/yy/ud/wy/yyudwyhkjc3uln5ax6ugibmuhce.jpeg"><br><br>  In the drawing: blue - signal jumpers, green - jumpers connected to the common wire, black - jumpers, giving mechanical rigidity, lilac - cut printed conductors, ovals - photoresistors.  Photoresistors and jumpers must be soldered on the side opposite the printed conductors. <br><br><img src="https://habrastorage.org/webt/qt/og/1s/qtog1sgcictjrxqnczccfh0lg2a.jpeg"><br><br>  Put the tubes on the conclusions of the photoresistors before soldering: <br><br><img src="https://habrastorage.org/webt/yw/k_/gg/ywk_ggbpkc0jrnnjwzi8jw-kxxi.jpeg"><br><br><img src="https://habrastorage.org/webt/ps/6f/8c/ps6f8cyv30qvavr_ewtxibxplz0.jpeg"><br><br>  On the drawing of the board with the connector designations are the same: <br><br><img src="https://habrastorage.org/webt/ys/uo/xs/ysuoxs3xshzhhsesjsol5axs9zc.jpeg"><br><br>  Ready fee: <br><br><img src="https://habrastorage.org/webt/kb/rz/fr/kbrzfrxnqixaalxi6fpuvfjnykg.jpeg"><br><br>  Two boards connected together: <br><br><img src="https://habrastorage.org/webt/u0/rl/s3/u0rls3qf1my0ocwlejhoqr_8wse.jpeg"><br><br>  The scheme of pasting boards porous material and thin plastic: <br><br><img src="https://habrastorage.org/webt/ev/h3/uz/evh3uzww_atyjvxucpn0shpjwje.jpeg"><br><br>  Details before gluing: <br><br><img src="https://habrastorage.org/webt/8k/5p/fp/8k5pfp23jztbgkyjdaponglofiw.jpeg"><br><br><img src="https://habrastorage.org/webt/jq/ax/ub/jqaxubsfdwv_4bqhakbxbz8dhfm.jpeg"><br><br>  After: <br><br><img src="https://habrastorage.org/webt/qj/-u/mu/qj-umus7yu42ckx9m8wghwzdvls.jpeg"><br><br>  Now we add tape from the sides: <br><br><img src="https://habrastorage.org/webt/aa/kv/io/aakviokvbhu0axne1tqzim_okeg.jpeg"><br><br>  An outer handle consisting of a lid, a ring (porous material) and a disk (thin plastic sheet) will be put on the encoder knob: <br><br><img src="https://habrastorage.org/webt/bk/la/kf/bklakflnddtwf4r2afa1jbk1rny.jpeg"><br><br><img src="https://habrastorage.org/webt/9r/o9/ln/9ro9lnqf4iz6sxikl3hnc5cwkdi.jpeg"><br><br><img src="https://habrastorage.org/webt/fg/1m/3j/fg1m3jfy3tpopykb5sj_ypdsqd0.jpeg"><br><br>  The test board can operate in one of two modes: <br><br>  - only the cable from the block with photoresistors is connected - it is possible to measure their resistance in the presence and absence of light <br><br>  - only the Arduino cable is connected - you can simulate a decrease in the resistance of the photoresistors and check whether this leads to playing sound bites <br><br><img src="https://habrastorage.org/webt/q-/fm/yc/q-fmycagsn1i9onqocyifnpnv88.jpeg"><br><br>  Wearing the first unit on the washing machine, it is necessary to connect its cable to the test board and, switching the encoder modes, measure the resistance of the illuminated photoresistors, thereby determining their variation of parameters.  The table shows the results obtained by the author and the results of the selection of pull-up resistors: <br><br><img src="https://habrastorage.org/webt/zr/rz/i4/zrrzi4hl8d6ov_i6sfv2eojls68.jpeg"><br><br>  As can be seen from the table, the method of selection is simple: the value of the pull-up resistor should be somewhat greater than the resistance of the illuminated photoresistor.  If the LEDs in the washing machine are overloaded and will lose brightness over time, in the future a new selection of pull-up resistors may be required. <br><br>  After tuning, it is necessary to replace the test board with a transition board, into which the selected pull-up resistors are soldered, and connect both cables to it: <br><br><img src="https://habrastorage.org/webt/ka/jp/t4/kajpt4epltf8wjo2-vcjzsxuu3o.jpeg"><br><br>  Now you can collect the "talk": <br><br><img src="https://habrastorage.org/webt/ba/wr/5i/bawr5it1fta10ae3cqw4lpjwg10.jpeg"><br><br>  It is necessary to record phrases corresponding to the washing modes in the sound sample storage board.  For this: <br><br>  - connect the dynamic head as shown in the drawing: <br><br><img src="https://habrastorage.org/webt/bx/cu/ou/bxcuouuwnxm7xc-sd9svhrkocgo.jpeg"><br><br>  - put the board on the Arduino or its clone and apply power: <br><br><img src="https://habrastorage.org/webt/3e/at/su/3eatsute2ihisusomirwwqwnopc.jpeg"><br><br><ul><li>  by holding the play button, transfer the card to the recording mode and utter a phrase corresponding to the first mode, for example: ‚Äúone - wash cotton‚Äù </li><li>  release the button </li><li>  short press on it to make the board play the recorded phrase </li><li>  if you don't like it, overwrite it </li><li>  Press the ‚Äúforward‚Äù button to go to the second cell </li><li>  write the phrase corresponding to the second mode, for example: ‚Äútwo - economical washing of cotton‚Äù </li></ul><br>  So write down all fourteen phrases, remembering that the total should be no more than one minute, so do not make the fragments too long. <br><br>  The next task is to correct the addresses of the beginning and end of the fragments: <br><br><img src="https://habrastorage.org/webt/3n/l6/3o/3nl63o5p6vgnnqv-j9ukcv_w7kg.jpeg"><br><br>  The <a href="">sketch</a> needed for this is taken from the Velleman site and slightly reworked.  It needs to be poured into the Arduino, and then in the serial port monitor enter the number 1. The first phrase will be sounded.  If its beginning and end are defined correctly, nothing needs to be done; if it is wrong, correct the corresponding addresses in the sketch (lines 14 and 15) and fill it again.  Enter the number 2 and do the same with the second fragment, this time the correction is subject to lines 18 and 19. The fragment numbers are hexadecimal, that is, instead of 10 in the monitor of the serial port, you must enter the letter a, instead of 11 - the letter b, and so on. <br><br>  The adjusted sketch to save - the addresses from it must be transferred to the <a href="">working sketch</a> .  Here, each of the lines (from 14 to 27) contains both addresses - both the beginning and the end of the corresponding fragment. <br><br>  Now you can make holes in the gossip case for the button with fixation, dynamic head and cable: <br><br><img src="https://habrastorage.org/webt/ma/ms/hw/mamshwq3cbbdam9zsrxfr6-whqc.jpeg"><br><br><img src="https://habrastorage.org/webt/6r/ag/o8/6rago8bqcarunqndne3ktikhjno.jpeg"><br><br>  Put the boards back in place: <br><br><img src="https://habrastorage.org/webt/n2/em/_e/n2em_eapwog88qe9bzdwk-3t14u.jpeg"><br><br>  And close the case: <br><br><img src="https://habrastorage.org/webt/wm/0n/hz/wm0nhzujuimirsnaf24gsdtmjl0.jpeg"><br><br>  However, if you wish, you can first temporarily replace the transition board with a test one and listen to all the fragments, imitating the operation of the photoresistors: <br><br><img src="https://habrastorage.org/webt/-f/2b/wf/-f2bwfdryyu1bl_5n0tfdglxccy.jpeg"><br><br>  As long as the jumper is in place, the fragment will sound every three seconds. <br><br>  Having returned the transition board, we install the block with photoresistors on the washing machine: <br><br><img src="https://habrastorage.org/webt/b1/xf/uf/b1xfuflaroiziwl9ipu3a4pep7y.jpeg"><br><br>  And check how everything works: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Rp9ZDPA3bHM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Nuts in the housing are not provided by chance.  They allow you to fix the block, pre-drilled holes in the bottom.  Immediately after selecting the mode of the machine, the power of the talker must be turned off.  The result of observance of this rule: a year has passed, and the battery did not have to change even once. </div><p>Source: <a href="https://habr.com/ru/post/450546/">https://habr.com/ru/post/450546/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450522/index.html">Internet history: decay, part 1</a></li>
<li><a href="../450524/index.html">Computer control via Telegram</a></li>
<li><a href="../450530/index.html">What's new in the cloud: 15 materials on standards, tools and regulation</a></li>
<li><a href="../450532/index.html">How I became PMP and how it is better not to do</a></li>
<li><a href="../45054/index.html">USB flash drive with eSATA</a></li>
<li><a href="../450548/index.html">‚ÄúIsolation of the Runet‚Äù or ‚ÄúSovereign Internet‚Äù</a></li>
<li><a href="../450552/index.html">Show laboratory "Advanced nanomaterials and optoelectronic devices" ITMO University</a></li>
<li><a href="../450554/index.html">Breaking a design pattern - Singleton in PHP</a></li>
<li><a href="../450564/index.html">Glitter and poverty: how the digital revolution made musicians poorer</a></li>
<li><a href="../450568/index.html">Each poison has its own antidote. How to escape or at least try (upd: about antidotes for household poisoning)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>