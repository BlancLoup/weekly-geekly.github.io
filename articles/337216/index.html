<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Rock is hard" or ya. Music as a graph</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have been using Yandex music for a long time to search for "what to listen to." Most of the time, I just go to like the performers of the bands I en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Rock is hard" or ya. Music as a graph</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/413/ebc/8cd/413ebc8cd62745ae89c51b1b38dc58c9.png" alt="KDPV"><br><br>  I have been using Yandex music for a long time to search for "what to listen to."  Most of the time, I just go to like the performers of the bands I enjoy, however, this method has not given results for a long time.  For some time, my needs were closed by a radio filter with a filter by genre, but its repertoire is surprisingly stingy.  It's time to solve the problem globally, and that's what came out of it =) <br><a name="habracut"></a><br><h3>  What did you want </h3><br>  Immediately, I note that I did not set out to find out how and how well the recommendations work, or to conduct a cluster analysis.  You can work in very different directions on the obtained data, but for my ultimate goal it is not necessary. <br><br>  And I wanted, first of all, to find those rock and metal performers that everyone knows about, but I, in view of my inexperience, no. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The problem is foolish, you say, take the TOP100 according to the version of any publication and rejoice, but it does not work like that: all the tops that I saw are either too ‚Äúnewfangled‚Äù and I don‚Äôt like it, or very classic and I already heard it all . <br><br>  In general, my travels in music is a separate story: it was funny to see metal friends when I told them about <a href="https://music.yandex.ru/artist/3276">Black Sabbath</a> , which is new for me, in the context of ‚Äú <i>just hear how it sounds!</i> ‚Äù =) <br><br>  In general, it was decided to collect all the rock and metal performers, and links to other performers from their pages, count incoming degrees and build your top.  Well, since I clearly have a network structure, it was beyond my powers not to visualize it as a graph. <br><br><h3>  How to collect </h3><br>  Not once or twice did I sit down for this project, but each time the interest faded before a significant result (right down the book).  This time I decided to obey the ideologists of the hakatons and tried to cut the minimum working product in the minimum time.  For this reason, I stopped collecting the most close to me genres of rock and metal instead of collecting all the music. <br><br>  The parsing itself is written on python and selenium plus Postgree for data, since there was a ready project on this stack at hand.  Selenium for production is certainly a controversial decision, but it‚Äôs not production. <br><br>  For a start, I collected data on rock artists, they turned out to be about six thousand. <br>  When I started collecting references to similar ones, it turned out that the rockers are actually much larger and only a small part of them is represented in the index by genre.  Separately collected subgenres (Russian rock and others) - they are very weakly intersected with the main index.  There were no surprises with metal, except that in the middle of the parsing he had subgenres and had to collect everything anew. <br><br>  In general, having reassembled everything three times, I realized that everything I could did and needed to be drawn. <br>  I would like to separately ask the guys from Yandex not to swear at my parasitic requests, even if there were not so many of them - guys, all for the sake of science =) <br><br><h3>  How to draw </h3><br>  I finally wanted to abandon the manual drawing in favor of <a href="https://gephi.org/">Gephi</a> , so that only the sliders move between <i>beautifully</i> and <i>clearly</i> , but did not grow together - he draws small graphs on a thousand vertices, and ten times more silently refuses.  No mistakes, no greetings, my colleagues work on Windows, and I have a white sheet = (I made a notch to return to it (and I recommend it to you), and went to draw by usual means. <br><br>  I picked up a rather <a href="http://blog.esemi.ru/search/label/graph">old comparison of the</a> python names for calculating graphs and chose <a href="http://igraph.org/python/">Igraph</a> with the FR algorithm for the final image and satisfactory performance. <br><br><h3>  What happened </h3><br>  Some introductory, which may not seem obvious: <br><br><ul><li>  top - performer; </li><li>  edges - links to similar ones; </li><li>  the graph is directed, but the arrows cannot always be seen; </li><li>  the vertex weight is the value of the incoming degree (references to the performer as similar to those of other performers); </li><li>  In the legend, most graphs contain the size in the <i>vertex x edge</i> format, the clusterization coefficient and the average proximity of the vertices. </li></ul><br>  All columns are built without singles - those artists to whom no one refers and who themselves do not refer to anyone.  They only create noise and do not give any additional information.  It was possible to cut off the tops with small degrees in order not to litter the image, but it seemed to me that I could do without it on the final graph. <br>  Some columns are presented in two versions - basic and complete.  They differ in that in the first version only the performers included in the index of i.music music in any genre (conventionally primary performers) participate. <br><br><h4>  Metal </h4><br>  Let's start with subgenres.  The graphs are small, so I built immediately complete. <br><br> <a href="" title="folk metal"><img src="https://habrastorage.org/web/410/c1a/90c/410c1a90c12340baaceed5f53f5aeff7.png" alt="folk metal"></a> <a href="" title="progressive metal"><img src="https://habrastorage.org/web/8b9/365/2f4/8b93652f4c054b8a96704d39accf026e.png" alt="progressive metal"></a> <br><br> <a href="" title="nu metal"><img src="https://habrastorage.org/web/1db/dea/120/1dbdea1201854cfb9d85f0084c241ce6.png" alt="nu metal"></a> <a href="" title="epic metal"><img src="https://habrastorage.org/web/375/587/045/3755870455dc4802a96b3648784089d3.png" alt="epic metal"></a> <br><br> <a href="" title="extreme metal"><img src="https://habrastorage.org/web/47e/87b/f5f/47e87bf5ffd944709c123c569831efc2.png" alt="extreme metal"></a> <a href="" title="classic metal"><img src="https://habrastorage.org/web/42c/722/9a1/42c7229a19ef4995b96a320bb9738a98.png" alt="classic metal"></a> <br><br>  Metal subgenres at the time of collection only appeared, I think now they have grown significantly. <br>  And this is how the total graph looks like with all subgenres in two versions - main and full. <br><br> <a href="" title="main performers of metal"><img src="https://habrastorage.org/web/ab6/63a/2cc/ab663a2cc10347f4b76220f2e9641475.png" alt="main performers of metal"></a> <a href="" title="all metal performers"><img src="https://habrastorage.org/web/f96/f19/cb1/f96f19cb1e8946c58356eb59e5c682bf.png" alt="all metal performers"></a> <br><br><h4>  Rock </h4><br><br> <a href="" title="Ukrainian rock"><img src="https://habrastorage.org/web/368/615/27b/36861527b34b4dfca79b4809fc526a07.png" alt="Ukrainian rock"></a> <a href="" title="new wave"><img src="https://habrastorage.org/web/11e/9fe/157/11e9fe15727c4e11a12ce54176203320.png" alt="new wave"></a> <br><br> <a href="" title="post rock"><img src="https://habrastorage.org/web/b35/442/4c7/b354424c7f104c3f9a9383f327abaa3c.png" alt="post rock"></a> <a href="" title="Russian rock"><img src="https://habrastorage.org/web/a00/1ad/27d/a001ad27d2114dc38c0507fb0b2885ed.png" alt="Russian rock"></a> <br><br> <a href="" title="rock'n'roll"><img src="https://habrastorage.org/web/6f9/9c6/570/6f99c65702a2488a8c1890a02f97b0e2.png" alt="rock'n'roll"></a> <a href="" title="progressive rock"><img src="https://habrastorage.org/web/ce1/ab2/bc3/ce1ab2bc3c8440e4912422c94724d963.png" alt="progressive rock"></a> <br><br>  Notice how progressive and rock and roll ahead of their fellows.  The rock of performers is generally much more than metalists (25 thousand versus 8.5), perhaps these are features of music or the relative youth of metal. <br><br>  The total graph of rock with all subgenres, also in two versions. <br><br> <a href="" title="main performers of rock"><img src="https://habrastorage.org/web/420/8bb/d11/4208bbd1112e4b81aa53d2bc5986a5de.png" alt="main performers of rock"></a> <a href="" title="all rock artists"><img src="https://habrastorage.org/web/5a2/dc4/5e4/5a2dc45e43e746bd87bd90729ac0c2e4.png" alt="all rock artists"></a> <br><br>  On the main graph, a small and proud cluster of Russian rock, so far from the rest, is perfectly visible. <br><br><h4>  Crossing rock + metal </h4><br>  Finally, let's begin to cross both genres.  There are already full graphs. <br><br> <a href="https://photos.app.goo.gl/PWVbeEpHOvWtywEx2" title="the intersection of rock and metal"><img src="https://habrastorage.org/web/10b/664/843/10b664843d5b479580170938aeaa2a14.png" alt="the intersection of rock and metal"></a> <br>  Rock performers are marked red, blue is metal, and purple are both genres at the same time (this is when rock and metal are both performers).  In this form it is convenient to look at how close these genres are in principle.  From afar, it looks interesting, of course, but I wanted more clarity. <br><br>  By changing the size of each vertex in proportion to its incoming degree, I finally got that picture, which I will study for a long time in search of interesting things. <br> <a href="https://drive.google.com/open%3Fid%3D0B9eXus9GJme9dHBpb1U2bS1VM0U" title="the intersection of rock and metal"><img src="https://habrastorage.org/web/89d/8a3/808/89d8a38086484d619dfba7f3f060367d.png" alt="the intersection of rock and metal"></a> <br><br>  This thumbnail doesn‚Äôt see anything, but it is clickable and behind it is a <b>10x10 kilopixel</b> map with a legend for vertices weighing 30 or more.  The same map is in another resolution ( <a href="https://drive.google.com/open%3Fid%3D0B9eXus9GJme9dHBpb1U2bS1VM0U">10k</a> , <a href="https://drive.google.com/open%3Fid%3D0B9eXus9GJme9Q2ZRYzdIVXNiaU0">20k</a> , <a href="https://drive.google.com/open%3Fid%3D0B9eXus9GJme9ejI2QVg3VDhjMU0">32k</a> ).  At the end of the article there are links to <a href="https://drive.google.com/drive/folders/0B9eXus9GJme9aUtVSktIWENRTm8%3Fusp%3Dsharing">more detailed versions of</a> this map and to the sources (in case you want your own color / size version / etc). <br><br><h3>  Interesting </h3><br>  The heart of rock - Elvis is invincible! <br><br><img src="https://habrastorage.org/web/9c4/62c/3b4/9c462c3b46a04b45aac735a1b36fdc87.png" alt="heart of rock"><br><br><br><img src="https://habrastorage.org/web/494/b1b/04f/494b1b04fefe4a68a4ce88a920f702c6.png" alt="rock and metal - transition" align="left">  An isthmus between rock and metal.  Violet, remember, performers who are in both genres. <br><br clear="left"><br>  Heart of metal.  Unlike rock, there are purple here and have a decent weight. <br><br><img src="https://habrastorage.org/web/8a0/123/3d5/8a01233d5e984db481d0e7b43a77cb04.png" alt="metal heart"><br><br><br><img src="https://habrastorage.org/web/7e1/4d2/726/7e14d2726541417aa9ddea30b73325ab.png" alt="Russian rock" align="left">  Russian rock is very separate and almost not connected with metal, even Russian. <br clear="left"><br><img src="https://habrastorage.org/web/c71/849/42e/c7184942ef654f0d83931427363546ba.png" alt="interesting rock cluster" align="left">  Funny cluster of rockers - a few, very dense and weighty. <br clear="left"><br>  A piece of Russian metal is very far from everyone. <br><br><img src="https://habrastorage.org/web/083/cf3/bab/083cf3bab0f245d3bd7488109719b8ad.png" alt="Russian metal"><br><br><h4>  Tops </h4><br>  It was interesting to see the tops on the incoming degree <br><table><tbody><tr><td><table><caption>  <b>Rock</b> </caption><tbody><tr><td>  <i>Executor</i> </td><td>  <i>Power</i> </td></tr><tr><td>  Elvis presley </td><td>  185 </td></tr><tr><td>  Deep purple </td><td>  133 </td></tr><tr><td>  Paul McCartney </td><td>  97 </td></tr><tr><td>  Eric Clapton </td><td>  93 </td></tr><tr><td>  Whitesnake </td><td>  73 </td></tr><tr><td>  ChayF </td><td>  73 </td></tr><tr><td>  David Bowie </td><td>  72 </td></tr><tr><td>  The rolling stones </td><td>  70 </td></tr><tr><td>  The ventures </td><td>  67 </td></tr><tr><td>  B2 </td><td>  67 </td></tr></tbody></table></td><td><table><caption>  <b>Metal</b> </caption><tbody><tr><td>  <i>Executor</i> </td><td>  <i>Power</i> </td></tr><tr><td>  Black sabbath </td><td>  78 </td></tr><tr><td>  Edguy </td><td>  62 </td></tr><tr><td>  Sonata arctica </td><td>  60 </td></tr><tr><td>  In flames </td><td>  58 </td></tr><tr><td>  Therion </td><td>  58 </td></tr><tr><td>  Judas priest </td><td>  57 </td></tr><tr><td>  Glenn hugs </td><td>  56 </td></tr><tr><td>  Eluveitie </td><td>  55 </td></tr><tr><td>  Of Mice &amp; Men </td><td>  54 </td></tr><tr><td>  Doro pesch </td><td>  54 </td></tr></tbody></table></td></tr></tbody></table>  Interestingly, performers refer not only to their colleagues in style.  Top inbound links outside the genre of rock and metal. <table><caption>  <b>Other genres</b> </caption><tbody><tr><td>  <i>Executor</i> </td><td>  <i>Power</i> </td></tr><tr><td>  Dr </td><td>  114 </td></tr><tr><td>  Bob dylan </td><td>  87 </td></tr><tr><td>  Ryan tedder </td><td>  61 </td></tr><tr><td>  Farrell </td><td>  58 </td></tr><tr><td>  John Frusciante </td><td>  48 </td></tr><tr><td>  Rihanna </td><td>  47 </td></tr><tr><td>  Frank sinatra </td><td>  47 </td></tr><tr><td>  Lana del rey </td><td>  46 </td></tr><tr><td>  Ray Charles </td><td>  44 </td></tr><tr><td>  NOFX </td><td>  43 </td></tr></tbody></table>  Pay attention to the very first artist <a href="https://music.yandex.ru/artist/271402/tracks">Dr.</a>  His page is very scanty, while the weight is still not small (it‚Äôs a joke, almost deep purple, and this is among the rockers / metallers), and until the spring update it was really huge.  Maybe it was added as similar when no one more suitable was found, and the links needed to be taken to nine?  This can only say guys from Yandex. <br><br><h3>  Conclusion </h3><br>  I hope you learned something interesting from the article.  Personally, I made myself a big list of artists for familiarization and I hope to find new favorites. <br>  I will also ask you not to forget that everything presented is the result of the work of recommendations of music i, so that the graph can be very far from analogues with foreign aggregators. <br>  I would be glad to reasoned criticism and feedback on the work done. <br><br>  ‚Üí <a href="https://github.com/esemi/ya-local-graph">Sources</a> <br>  ‚Üí <a href="https://drive.google.com/drive/folders/0B9eXus9GJme9aUtVSktIWENRTm8%3Fusp%3Dsharing">Options for the final graph</a> <br><br><h3>  Afterword </h3><br><ol><li>  Be careful with running scripts on your local machine.  For parsing Yandex you can be banned on it, and the rendering of pictures can eat all the memory, especially if it is less than 16GB. </li><li>  Similarly, count the performance of your laptop before opening the card at 32 kilopixels. </li><li>  Cairo, which is under the hood of the Igraph painter, falls into the bark of generating large images in recent versions, and in the latter drives us into 32k pixels.  If you need more <s>gold</s> , generate a .ps file and convert it using third-party tools. </li><li>  As far as I have noticed, the question of the quantity <b>l</b> in the title of the metal genre is very painful, so I stick to the side of i.music, since all the data from it.  I beg you not to kindle on this topic =) </li></ol></div><p>Source: <a href="https://habr.com/ru/post/337216/">https://habr.com/ru/post/337216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../337204/index.html">35 Gbps - as Megafon and Huawei set a 5G speed record</a></li>
<li><a href="../337206/index.html">DPM: Why does he look like a bow?</a></li>
<li><a href="../337210/index.html">My experience of shooting a 360¬∫ panorama on film</a></li>
<li><a href="../337212/index.html">Why JavaScript security analysis cannot be truly automated?</a></li>
<li><a href="../337214/index.html">The orientation of the mobile robot, the choice of method of registration of special points of images</a></li>
<li><a href="../337218/index.html">Business game Kanban-pizza in the office Tutu.ru</a></li>
<li><a href="../337226/index.html">BeagleBone: support for 7 '' BB-View display on the new linux-4.4 core</a></li>
<li><a href="../337228/index.html">The practice of forming requirements in IT projects from A to Z. Part 4. Business processes automated by the system</a></li>
<li><a href="../337230/index.html">Conduct usability testing or experience cones</a></li>
<li><a href="../337232/index.html">Concurrency patterns in Rust from Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>