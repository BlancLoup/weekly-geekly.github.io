<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Satellite Reporting Engine 6.5: What It Is And Why</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Red Hat Satellite is a system management solution that simplifies the deployment, scaling, and management of Red Hat infrastructure in physical, virtu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Satellite Reporting Engine 6.5: What It Is And Why</h1><div class="post__text post__text-html js-mediator-article">  Red Hat Satellite is a system management solution that simplifies the deployment, scaling, and management of Red Hat infrastructure in physical, virtual, and cloud environments.  The satellite allows users to set up and update systems to ensure their safe and efficient operation in accordance with various standards.  By automating most of the tasks associated with maintaining system health, the Satellite helps organizations improve efficiency, reduce operating costs, and more readily respond to strategic business needs. <br><br><img src="https://habrastorage.org/webt/p6/ee/pg/p6eepgms_w-zy-guwiokfyxupgi.png" width="100%"><br><br>  Although you can perform basic administrative tasks using the Red Hat services included in a Red Hat Enterprise Linux subscription, the Red Hat Satellite adds extensive management capabilities to the entire life cycle. <br><a name="habracut"></a><br>  Among such opportunities: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Installing patches; </li><li>  Subscription management; </li><li>  Initialization; </li><li>  Configuration management. </li></ul><br>  With one console, you can manage thousands of systems as easily as one, which increases availability, reliability and provides opportunities for system auditing. <br><br>  <b>And now we have a new Red Hat Satellite 6.5!</b> <br><br>  One of the cool things that appeared in Red Hat Satellite 6.5 is the new report engine. <br><br>  The Satellite Server often serves as the center where all information about Red Hat corporate systems flows to, and this latest engine allows you to create and export reports containing information about Satellite client hosts, software subscriptions, as well as software defects that need to be fixed (errata) and etc.  Programmed reports in the embedded language Ruby (ERB). <br><br>  Satellite 6.5 comes bundled with ready-made reports, and the engine allows users to customize these reports or create their own.  Satellite 6.5's built-in reports are generated in CSV format, but in this post we will show how to generate reports in HTML format. <br><br><h3>  Satellite 6.5 Embedded Reports </h3><br>  Satellite 6.5 includes four embedded reports: <br><br><ul><li>  <b>Applicable errata</b> - a list of software defects (errata) to be eliminated on content hosts (optionally filtered by hosts or defects); </li><li>  <b>Host statuses</b> - a report on the status of Satellite hosts (optionally filtered by hosts); </li><li>  <b>Registered hosts</b> - information on Satellite hosts: IP address, OS version, software subscriptions (optionally filtered by hosts); </li><li>  <b>Subscriptions</b> - information about software subscriptions: total number of subscriptions, number of free, SKU-codes (optionally filtered by subscription parameters). </li></ul><br>  To generate a report, open the <b>Monitor</b> menu, select <b>Report Templates,</b> and click the Generate button to the right of the desired report.  Leave the filter field empty to include all data in the report, or enter something there to limit the results.  For example, if only RHEL 8 hosts should be displayed in the Registered Hosts report, then specify the filter <b>os = RedHat and os_major = 8</b> , as shown in the screenshot below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wy/st/sx/wystsxebw9jp2lhfw1_uumewryq.png"></div><br><br>  After generating the report, you can download it and open it in a LibreOffice Calc type spreadsheet that imports data from CSV and spreads it out in columns, for example, as the <b>Applicable errata</b> report on the screen below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ej/hi/r5/ejhir5lbsdvnui2izjoptwz9zfi.png"></div><br><br>  Please note that the <b>Default</b> option is enabled in the properties of embedded reports, so they are automatically added to all new organizations and locations that you create in the Satellite. <br><br><h3>  Customization of embedded reports </h3><br>  Let's analyze customization using the example of the embedded report <b>Subscriptions</b> .  By default, this report reflects the total number of subscriptions (1), as well as the number of available, that is, free subscriptions (2).  We will add another column with the number of subscriptions used, which is defined as (1) - (2).  For example, if we have 50 RHEL subscriptions in total and 10 of them are free, then 40 subscriptions are used. <br><br>  Since the editing of embedded reports is blocked and it is not recommended to change them, you will have to clone the embedded report, give it a new name and then modify this clone copy. <br><br>  So, if we want to modify the <b>Subscriptions</b> report, we first need to clone it.  Therefore, open the <b>Monitor</b> menu, select <b>Report Templates</b> and select <b>Clone</b> from the drop-down menu to the right of the <b>Subscriptions</b> template.  Then enter the name of the clone report (let's call it <b>Custom Subscriptions</b> ) and add the line <b>'Used'</b> between the <b>Available</b> and <b>Quantity</b> lines <b>: pool.quantity - pool.available,</b> - note the comma at the end of the line.  Here is how it looks in the screenshot: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xb/t3/kn/xbt3kna0dmqiyf09vi1kbcavguy.png"></div><br><br>  Then click the <b>Submit</b> button, which brings us back to the <b>Report Templates</b> page.  There we click the <b>Generate</b> button to the right of the <b>Custom Subscriptions</b> report that we just created.  The Subscriptions filter field is left blank and click <b>Submit</b> .  After that, a report is created and loaded, in which there is a <b>Used</b> column added by us. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pg/rb/bj/pgrbbj02lyatlvs70uahtwstlna.png"></div><br><br>  Help for built-in Ruby language is located on the <b>Help</b> tab in the report editing window.  It contains an overview of the syntax, as well as available variables and methods. <br><br><h3>  Create your own report </h3><br>  Now let's take a look at creating our own reports on the example of a report on the Ansible roles assigned to hosts in the Satellite.  Open the <b>Monitor</b> menu, click <b>Report Templates,</b> and then click the <b>Create Template</b> button.  Let's call our report <b>Ansible Roles Report</b> and insert the following ERB code into it: <br><br><pre><code class="plaintext hljs">&lt;%# name: Ansible Roles Report snippet: false template_inputs: - name: hosts required: false input_type: user description: Limit the report only on hosts found by this search query. Keep empty for report on all available hosts. advanced: false model: ReportTemplate -%&gt; &lt;% load_hosts(search: input('hosts'), includes: :ansible_roles).each_record do |host| -%&gt; &lt;% report_row({ 'Name': host.name, 'All Ansible Roles': host.all_ansible_roles }) -%&gt; &lt;% end -%&gt; &lt;%= report_render -%&gt;</code> </pre> <br>  This code generates a report on the host, displaying for them the attribute "all_ansible_roles". <br><br>  Then go to the <b>Inputs</b> tab and click the <b>+ Add Input</b> button.  We say that name is equal to <b>hosts</b> , and the description type is <b>Filter by hosts (optional)</b> .  Then click <b>Submit</b> and then click the <b>Generate</b> button to the right of the report you just created.  Then you can set a host filter or immediately click <b>Submit</b> to generate a report on all hosts.  The generated report will look like this in LibreOffice Calc: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gx/hy/ju/gxhyjuquptsyrj45fiuc6rfqqo4.png"></div><br><br><h3>  Creating HTML reports </h3><br>  Satellite Report Engine allows you to generate reports not only in CSV format.  As an example, we will create our own report based on the Host <b>Statuses</b> embedded report, but only in the form of an HTML table with cell color coding based on status.  To do this, we clone <b>Host Statuses</b> , and then replace its ERB code with the following: <br><br><pre> <code class="plaintext hljs">&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Host Statuses&lt;/title&gt; &lt;style&gt; th { background-color: black; color: white; } td.green { background-color:#92d400; color:black; } td.yellow { background-color:#f0ab00; color:black; } td.red { background-color:#CC0000; color:black; } table,th,td { border-collapse:collapse; border: 1px solid black; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;table&gt; &lt;tr&gt; &lt;th&gt; Hostname &lt;/th&gt; &lt;th&gt; Status &lt;/th&gt; &lt;% load_hosts(search: input('hosts'), includes: :host_statuses).each_record do |host| -%&gt; &lt;% all_host_statuses_hash(host).each do |key, value| -%&gt; &lt;th&gt; &lt;%= key %&gt; &lt;/th&gt; &lt;% end -%&gt; &lt;% break -%&gt; &lt;% end -%&gt; &lt;/tr&gt; &lt;%- load_hosts(search: input('hosts'), includes: :host_statuses).each_record do |host| -%&gt; &lt;tr&gt; &lt;td&gt; &lt;%= host.name %&gt; &lt;/td&gt; &lt;% if host.global_status == 0 -%&gt; &lt;td class="green"&gt; OK &lt;/td&gt; &lt;% elsif host.global_status == 1 -%&gt; &lt;td class="yellow"&gt; Warning &lt;/td&gt; &lt;% else -%&gt; &lt;td class="red"&gt; Error (&lt;%= host.global_status %&gt;) &lt;/td&gt; &lt;% end -%&gt; &lt;% all_host_statuses_hash(host).each do |key, value| -%&gt; &lt;% if value == 0 -%&gt; &lt;td class="green"&gt; OK &lt;/td&gt; &lt;% elsif value == 1 -%&gt; &lt;td class="yellow"&gt; Warning &lt;/td&gt; &lt;% else -%&gt; &lt;td class="red"&gt; Error (&lt;%= value %&gt;) &lt;/td&gt; &lt;% end -%&gt; &lt;% end -%&gt; &lt;/tr&gt; &lt;% end -%&gt; &lt;/table&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre><br>  This report generates HTML that will look like this in the browser: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q0/fg/bo/q0fgboqcofiv2n6e8i_0zdl27t0.png"></div><br><br><h3>  Running reports from the command line </h3><br>  To launch a report from the command line, use the <b>hammer</b> command, and the cron utility allows you to automate this process. <br><br>  Use the hammer report-template generate ‚Äîname "" command, for example: <br><br><pre> <code class="plaintext hljs"># hammer report-template generate ‚Äîname "Host statuses HTML"</code> </pre><br>  The content of the report will be displayed on the console.  Information can be redirected to a file, after which you can configure cron to launch a shell script to generate a report and send it by e-mail.  The HTML format is perfectly displayed in email clients, which allows organizing regular delivery of reports to interested parties in an easy-to-read form. <br><br>  Thus, the report engine in Satellite 6.5 is a powerful tool for exporting important data available to companies in the Satellite.  It is very flexible and allows you to use both embedded reports and their modified versions.  In addition, users can create their own reports from scratch.  Details about the Satellite Reporting Engine are available on our YouTube video. <br><br>  <a href="https://events.redhat.com/profile/form/index.cfm%3FPKFormID%3D0x70833cc29"><b>July 9 at 11:00 Moscow time, do not miss the webinar about the new version of Red Hat Enterprise Linux 8</b></a> <br><br>  Our speaker is Aram Kananov, Manager of Platform Development and Management Systems, Red Hat in Europe, the Middle East and Africa.  Aram's work in Red Hat includes a comprehensive analysis of the market, industry and competitors, as well as product positioning and marketing for the business unit of the platforms, which includes managing the entire life cycle of the entire product from deployment to end of use. </div><p>Source: <a href="https://habr.com/ru/post/458778/">https://habr.com/ru/post/458778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458766/index.html">IronPython on the side of evil: how we opened a cyber attack on civil services in a European country</a></li>
<li><a href="../458768/index.html">5-6 reasons to come to GolangConf</a></li>
<li><a href="../45877/index.html">Opera_Cache: update of the plug-in for viewing the Opera cache</a></li>
<li><a href="../458770/index.html">The whole truth about RTOS. Article # 29. Interrupts in the Nucleus SE</a></li>
<li><a href="../458774/index.html">Functional DBMS</a></li>
<li><a href="../458782/index.html">Adaptation programs for the ZX Spectrum to TR-DOS with modern tools. Part 3</a></li>
<li><a href="../458784/index.html">Broadcasting projects and libraries from Altium Designer to PADS Professional</a></li>
<li><a href="../458786/index.html">The "keepers" of video games, step by step, preserve the gaming culture</a></li>
<li><a href="../458788/index.html">Custom templates in GTM: figure it out</a></li>
<li><a href="../458790/index.html">Introduction to the development of CatBoost. Yandex report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>