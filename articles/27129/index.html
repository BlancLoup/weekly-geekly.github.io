<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DotProject - lack of documentation sindrom</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to tell about the terrible. About the terrible disease of many cms - total lack of documentation. I ran into this problem no further than last ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DotProject - lack of documentation sindrom</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/olpictures/14b/5b3/5d0/14b5b35d03c2c449beded7b853252d83.gif" width="120" height="20" alt="DotProject Icon" hspace="10" vspace="10" align="left">  I want to tell about the terrible.  About the terrible disease of many cms - total lack of documentation.  I ran into this problem no further than last week - it was then that I received a task from management to write a module for the <a href="http://www.dotproject.net/">DotProject</a> project management <a href="http://www.dotproject.net/">system</a> (the current version is 2.1.1).  So, the <em>scalpel, the light!</em>  <em>We proceed to the opening of the body.</em> <br>  We read detailed <s>below a lot of bukaf!</s>  instruction: <br><a name="habracut"></a><br>  In a nutshell, that for the beast came to my table. <br>  Project management system, workspace of any modern company.  She allows to learn <strong>what</strong> , it is necessary to make and <strong>till what term</strong> .  It is this one that allows you to slam in front of your boss or manager over the past month and demand a premium for n-ts processed hours.  Well, you should not forget, of course, that centralized planning; working on projects helps to maximize the use of human resources, schedule work and control the production process. <br>  Practically all of us here are <em>snows</em> .  This means that we are perverted even to the management of tasks - we use an application for this.  One of the options, open-source by the way, is the recommended DP. <br>  Well, with the preambles over, let's get to the bottom line. <br>  For the cutting it is necessary to have the <a href="http://sourceforge.net/projects/dotproject">body itself</a> .  Well, it is highly desirable to have for him an adequate <a href="http://xstb.blog.ru/985441.html">transfer</a> to his native mov.  After downloading and installing (we are highly recommended to use <strong>apache</strong> , because any hint of windows causes, according to the developer, a persistent allergic reaction. Well, <a href="http://denwer.ru/">let's</a> use <a href="http://denwer.ru/">denwer</a> ) and, finally, <a href="http://denwer.ru/">let's</a> start. <br>  In fact, there is no documentation on the compilation of modules.  There are no examples, no rv.  Of course, there is a project <a href="http://docs.dotproject.net/">wiki</a> , and there is a project reference there.  And of course there is a <u>source</u> .  It was the force, strangely enough, that became my support and hope. <br>  First and foremost, in order not to lose the functionality you need to remember, xy xy and not reinvent the wheel.  If we need a module, then we need to take a ready-made example.  I chose for myself the links module, you can choose something else.  I will not freeze you by creating a full-fledged sub-application.  I will confine myself to the minimum necessary for the start (it was his absence that increased the development time by ~ 10 hours). <br>  1) The module is located in the <em>modules / &lt;module name&gt;</em> folder <br>  2) Each file in our directory must begin with a code. <br><pre>  if (! defined ('DP_BASE_DIR')) {
     die ('you should not access this file directly.');
 } </pre>  - This will protect it from external access. <br>  3) The modules are connected to the main file after initialization by processing $ _GET variables in <em>index.php</em> (? M = &lt;module name&gt; &amp; a = &lt;action&gt;) <br>  The default is <em>$ dPconfig ['default_view_m']</em> ;  (module assigned in configuration). <br>  To be more precise, the code in the <em>/index.php</em> file is responsible for this. <br><pre> if (! isset ($ _ GET ['m']) &amp;&amp;! empty ($ dPconfig ['default_view_m'])) {
  	 $ m = $ dPconfig ['default_view_m'];
	 $ def_a =! empty ($ dPconfig ['default_view_a'])?  $ dPconfig ['default_view_a']: $ def_a;
	 $ tab = $ dPconfig ['default_view_tab'];
 } else {
	 // set the module from the url
	 $ m = $ AppUI-&gt; checkFileName (dPgetCleanParam ($ _GET, 'm', getReadableModule ()));
 }
 // set the action from the url
 $ a = $ AppUI-&gt; checkFileName (dPgetCleanParam ($ _GET, 'a', $ def_a));
</pre><br>  As you can see from the code, we get the name of the module and the action.  If the action is not defined, then by default the contents of the file / modules / &lt;module name&gt; /index.php will be connected to the system. If you have a module class, then (it should be located at / modules / &lt;module name&gt; / &lt;module name&gt; .class.php).  But let's leave the classes to the advanced users. <br>  4) We will analyze our capabilities. <br><br>  <strong>First,</strong> please note that the system uses the database abstraction class <a href="http://adodb.sourceforge.net/">adoDB</a> , the documentation on which is not an example anymore. <br>  The simplest construction on it looks like: <br><pre>  $ q = new DBQuery ();
 $ q-&gt; addTable ('users', 'u');
 $ q-&gt; addQuery ('u.user_id, u.user_username');
 $ q-&gt; addOrder ('u.user_username');
 $ sql = $ q-&gt; prepare ();
 $ q-&gt; clear ();
 $ users = db_loadList ($ sql); </pre>  and allows you to get a list of usernames and corresponding user_id. <br>  You can also use a simpler design. <br><pre>  $ sql = 'SELECT * FROM `projects` WHERE` project_id` ='. $ projectid;
 $ project_name = db_exec ($ sql);
 $ project_name = db_fetch_assoc ($ project_name); </pre>  which allows you to get information in a more familiar way. <br><br>  <strong>Secondly,</strong> all information about the module is stored in the file setup.php in the module directive.  (I will not dwell on this, it will be enough to examine the contents of this file from one of the standard modules.) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Thirdly,</strong> look carefully at the contents of the index.php file in the server root. <br>  The line immediately catches the eye <br><pre> // don't output anything.  Usefull for fileviewer.php, gantt.php, etc.
 $ suppressHeaders = dPgetParam ($ _GET, 'suppressHeaders', false);
</pre><br>  Hooray!  We have a real opportunity to abandon the system header and attach something of our own just by passing in the address the parameter <em>&amp; suppressHeaders = 1</em> <br><br>  Using the following code, you can check the user's access rights to a specific module: <br><pre>  // check overall module permissions
 // these can be further modified
 $ perms = &amp; $ AppUI-&gt; acl ();
 $ canAccess = $ perms-&gt; checkModule (&lt;module name&gt;, 'access');
 $ canRead = $ perms-&gt; checkModule (&lt;module name&gt;, 'view');
 $ canEdit = $ perms-&gt; checkModule (&lt;module name&gt;, 'edit');
 $ canAuthor = $ perms-&gt; checkModule (&lt;module name&gt;, 'add');
 $ canDelete = $ perms-&gt; checkModule (&lt;module name&gt;, 'delete'); </pre><br><br>  More so far in the index file we are not interested in anything. <br><br>  5) Using directives like: <br><pre>  require_once ($ AppUI-&gt; getModuleClass ('tasks'));
 require_once ($ AppUI-&gt; getModuleClass ('projects')); </pre><br>  we can connect different modules.  Do not forget to pre-check access rights to them. <br><br>  Well, at this quick start it would be possible to close, but for the sake of completeness, I‚Äôll give a small <strong>hello world</strong> : <br>  <a href="http://up.li.ru/%3Fid%3D362739">helloworld.rar</a> <br><br>  <strong>ZY</strong>  Actually, that's all.  If you need any help on DOTproject - contact us! </div><p>Source: <a href="https://habr.com/ru/post/27129/">https://habr.com/ru/post/27129/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271281/index.html">Angular and RequireJS project builder and some build thoughts</a></li>
<li><a href="../271283/index.html">Trash in bookmarks and disabling side panels in the assembly Vivaldi 1.0.330.3</a></li>
<li><a href="../271285/index.html">Regular expressions and math parser</a></li>
<li><a href="../271287/index.html">Development of secure banking applications: the main problems and how to avoid them</a></li>
<li><a href="../271289/index.html">Transfer server farms to more advanced and energy efficient server cooling technologies</a></li>
<li><a href="../271291/index.html">Introduction to 3D Touch</a></li>
<li><a href="../271293/index.html">Drupal 8 released</a></li>
<li><a href="../271295/index.html">Security Week 47: {not} Hacked Tor, Gmail Warns About Decryption, Barcode Attack</a></li>
<li><a href="../271297/index.html">Typical rakes in the way of a programmer from Junior to Senior</a></li>
<li><a href="../271299/index.html">CsConsoleFormat: Console formatting in a new way (.NET)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>