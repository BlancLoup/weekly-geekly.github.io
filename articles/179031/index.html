<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Meet CoffeeScript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is a non-exhaustive description of the CoffeeScript programming language, namely acquaintance, an overview of some interesting features. T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Meet CoffeeScript</h1><div class="post__text post__text-html js-mediator-article">  The article is a non-exhaustive description of the CoffeeScript programming language, namely acquaintance, an overview of some interesting features.  Target audience - those who have not looked in the direction of CoffeeScript, but somehow use JavaScript in their projects. <br><br>  CoffeeScript is a small language that is translated to JavaScript.  Its documentation fits on one page - <a href="http://coffeescript.org/">coffeescript.org</a> and is compact and clear.  I even doubted the need for this article, when there is such a cool description ‚Äúfrom the manufacturer‚Äù, but I still ventured to place accents and clarify some details. <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  If you dig a little history, then since 2009, the language has been written in Ruby, since 2010 - it is written in CoffeeScript itself. <br>  And in Ruby on Rails, starting from version 3.1, it ‚Äúreplaced‚Äù JavaScript. <br><br>  CoffeeScript is essentially just syntactic sugar over javascript.  So, its value is that it allows you to more clearly express your thoughts and understand others. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      JavaScript (read ECMAScript), of course, also does not stand still, evolves.  Including adopting some ideas from CoffeeScript.  But if we talk about cross-browser JavaScript, then personally I have great suspicions that a bright future with advanced JavaScript will come soon.  And CoffeeScript now allows you to enjoy the fruits of technological progress. <br><br>  In this vein, we can not fail to mention TypeScript, in a certain sense, the competitor CoffeeScript.  It is positioned as a superset of JavaScript, adding new features to the language, largely reflecting the future of JavaScript.  From this position it is more interesting. <br>  But CoffeeScript has the advantage that it does not need to maintain compatibility with JavaScript, which, in my opinion, gives more freedom and makes the language more expressive.  So, at least one noteworthy alternative to CoffeeScript is.  But back to the topic. <br><br><h4>  Code translation </h4><br>  Well, how to use this your CoffeeScript? <br>  It is most convenient, in my opinion, to work with it as with the node.js module.  It is easy to put: <br> <code>npm install -g coffee-script</code> <br> <br>  Create two folders, for definiteness, let's call them <code>lib</code> and <code>src</code> . <br>  Create a file <code>src/helloWorld.coffee</code> and write something on CoffeeScript.  For example: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>)</code> </pre><br>  After this, run the translator: <br> <code>coffee --compile --output lib/ src/</code> <br>  As a result, the <code>helloWorld.js</code> file will be in the <code>lib</code> folder, ready to be executed. <br>  Of course, for every sneeze, running the translator is not interesting.  Running a command <br> <code>coffee -o lib/ -cw src/</code> <br>  forces you to monitor all changes to files in the <code>src</code> folder and independently translate them into JavaScript code. <br><br><h4>  Syntax </h4><br><h5>  Functions </h5><br>  Let's go to the language itself.  Let's write a simple code in CoffeeScript: <br><pre> <code class="javascript hljs">square = (x) -&gt; x * x cube = (x) -&gt; square(x) * x</code> </pre><br>  Its JavaScript equivalent is: <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cube, square; square = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x * x; }; cube = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> square(x) * x; }; }).call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre><br>  Here we create two functions that calculate the square and the cube of the number, respectively. <br><br>  First of all, note that all the code is hidden inside an anonymous function, which we immediately call. <br>  This technique allows you to hide all local variables inside the function, without worrying about cluttering the global scope.  Below in the article we will omit this function for clarity. <br><br>  Next, note that the declarations of all local variables <code>var cube, square</code> rendered in the beginning.  What protects against a common mistake, when a variable hasn't, it has become global because of the banal forgot to add the <code>var</code> declaration. <br><br>  The arrow <code>-&gt;</code> replaces the word <code>function</code> . <br>  And also note that there is no need to add the word <code>return</code> .  It is added automatically to the last expression in the function. <br><br><h5>  Default Parameter Values </h5><br>  CoffeeScript adds default values ‚Äã‚Äãfor function parameters, which is not in JavaScript. <br><br>  CoffeeScript example: <br><pre> <code class="javascript hljs">fill = (container, liquid = <span class="hljs-string"><span class="hljs-string">"coffee"</span></span>) -&gt; <span class="hljs-string"><span class="hljs-string">"Filling the #{container} with #{liquid}..."</span></span></code> </pre><br>  JavaScript equivalent: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fill; fill = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">container, liquid</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (liquid == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { liquid = <span class="hljs-string"><span class="hljs-string">"coffee"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Filling the "</span></span> + container + <span class="hljs-string"><span class="hljs-string">" with "</span></span> + liquid + <span class="hljs-string"><span class="hljs-string">"..."</span></span>; };</code> </pre><br>  The JavaScript implementation reduces checking the <code>liquid</code> parameter to be <code>null</code> or <code>undefined</code> . <br>  Another detail that the example illustrates is that not braces are used as block selections, but padding, as in Python. <br><br><h5>  Object property iteration </h5><br>  Another thing that annoys JavaScript is a very verbose iteration on the properties of objects. <br>  The fact is that in most cases when traversing an object, its own properties, and not the properties of the prototype, are of interest. <br>  And to do each time <code>for</code> and immediately the <code>hasOwnProperty</code> check <code>hasOwnProperty</code> bit tiring. <br>  The solution in the style of jQuery.each () was not forbidden by anyone, but it is inferior in efficiency to the old one <code>for</code> . <br><br>  We look, how to make cool: <br><pre> <code class="javascript hljs">yearsOld = max: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">ida</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-attr"><span class="hljs-attr">tim</span></span>: <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> own child, age <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> yearsOld <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log <span class="hljs-string"><span class="hljs-string">"#{child} is #{age}"</span></span></code> </pre><br>  Equivalent: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> age, child, __hasProp = {}.hasOwnProperty; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (child <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> yearsOld) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!__hasProp.call(yearsOld, child)) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; age = yearsOld[child]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">""</span></span> + child + <span class="hljs-string"><span class="hljs-string">" is "</span></span> + age); }</code> </pre><br><h5>  Pleasant trifles </h5><br>  In JavaScript operator == behaves mildly strange.  It is much safer to use ===.  Therefore, CoffeeScript converts the == operator to ===, protecting novice developers from trapping JavaScript traps.  Although one case comes to mind when the operator == is still useful.  This is a <code>null</code> comparison that allows you to check <code>null</code> and <code>undefined</code> one fell swoop.  In CoffeeScript, is the operator intended for this <code>?</code>  .  Consider an example: <br><pre> <code class="javascript hljs">alert <span class="hljs-string"><span class="hljs-string">"I knew it!"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> elvis?</code> </pre><br>  And at the exit: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> elvis !== <span class="hljs-string"><span class="hljs-string">"undefined"</span></span> &amp;&amp; elvis !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { alert(<span class="hljs-string"><span class="hljs-string">"I knew it!"</span></span>); }</code> </pre><br><h5>  Classes </h5><br>  Go to the classes.  Just in case, we specify that the classes will be called the function constructors of objects. <br><br>  Consider an example: <br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">constructor</span></span></span><span class="hljs-class">: (@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">: (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">meters</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alert</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class"> + " </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">moved</span></span></span><span class="hljs-class"> #</span></span>{meters}m.<span class="hljs-string"><span class="hljs-string">" class Snake extends Animal move: -&gt; alert "</span></span>Slithering...<span class="hljs-string"><span class="hljs-string">" super 5 class Horse extends Animal move: -&gt; alert "</span></span>Galloping...<span class="hljs-string"><span class="hljs-string">" super 45 sam = new Snake "</span></span>Sammy the Python<span class="hljs-string"><span class="hljs-string">" tom = new Horse "</span></span>Tommy the Palomino<span class="hljs-string"><span class="hljs-string">" sam.move() tom.move()</span></span></code> </pre><br>  Even intuitively, you can guess what is happening.  The base class <code>Animal</code> and its two heirs are described: <code>Snake</code> and <code>Horse</code> . <br>  Pay attention to the class <code>Animal</code> .  The <code>@name</code> in the constructor parameters is a convenient shortcut that defines a property of the name class and automatically assigns it the value passed in the constructor.  In the move method, the <code>@name</code> entry is short for <code>this.name</code> . <br><br>  In the <code>move</code> methods in <code>super</code> subclasses, it calls the parent method with the same name.  After all, the truth is, when we are in a child class, a reference to the parent is needed only to refer to the same method of the parent class.  Other cases do not even occur. <br><br>  I will not torment and, at last, we will pass to the js-option of our classes. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Animal, Horse, Snake, sam, tom, _ref, _ref1, __hasProp = {}.hasOwnProperty, __extends = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">child, parent</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> parent) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (__hasProp.call(parent, key)) child[key] = parent[key]; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ctor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.constructor = child; } ctor.prototype = parent.prototype; child.prototype = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ctor(); child.__super__ = parent.prototype; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> child; }; Animal = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Animal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } Animal.prototype.move = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">meters</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> alert(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name + (<span class="hljs-string"><span class="hljs-string">" moved "</span></span> + meters + <span class="hljs-string"><span class="hljs-string">"m."</span></span>)); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Animal; })(); Snake = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_super</span></span></span><span class="hljs-function">) </span></span>{ __extends(Snake, _super); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Snake</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ _ref = Snake.__super__.constructor.apply(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _ref; } Snake.prototype.move = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">"Slithering..."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Snake.__super__.move.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Snake; })(Animal); Horse = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_super</span></span></span><span class="hljs-function">) </span></span>{ __extends(Horse, _super); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Horse</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ _ref1 = Horse.__super__.constructor.apply(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _ref1; } Horse.prototype.move = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">"Galloping..."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Horse.__super__.move.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-number"><span class="hljs-number">45</span></span>); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Horse; })(Animal); sam = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Snake(<span class="hljs-string"><span class="hljs-string">"Sammy the Python"</span></span>); tom = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Horse(<span class="hljs-string"><span class="hljs-string">"Tommy the Palomino"</span></span>); sam.move(); tom.move();</code> </pre><br>  The inheritance is based on a variation of the classic <code>extend</code> function. <br>  The implementation is quite simple.  Of course, when compared with other JavaScript libraries that provide a convenient cross-browser implementation of classes in pure JavaScript. <br>  The disadvantage of sophisticated libraries is that it is not always easy to figure out how they work inside. <br>  And the <code>extend</code> function is very well described in a variety of sources, for example, here <a href="http://javascript.ru/tutorial/object/inheritance">javascript.ru/tutorial/object/inheritance#nasledovanie-na-klassah-funkciya-extend</a> . <br><br><h6>  Efficiency </h6><br>  Another very important criterion is the efficiency of the generated code.  So, this is all right, I did not find any nonsense.  Functions as it should be added not as properties of the class, but in the prototype.  Also pleased that the default value of class properties is also added to the prototype. <br><br>  Consider a very simple class: <br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bar</span></span></span><span class="hljs-class">: 10</span></span></code> </pre><br>  At the exit, we have JavaScript: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Foo; Foo = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} Foo.prototype.bar = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Foo; })();</code> </pre><br>  Here, the so-called asymmetry of the object properties for reading and writing is used. <br>  In real life, the value of the default property is almost always more profitable to add to the prototype object. <br>  As long as we do not need to change this default value, we do not waste extra memory for each object of a particular class.  But let's say we decided to change the value of this property as follows: <br><pre> <code class="javascript hljs">obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Foo() obj.bar = <span class="hljs-number"><span class="hljs-number">500</span></span></code> </pre><br>  This is where the personal property <code>bar</code> the <code>obj</code> object is created.  At the same time, the <code>bar</code> property of the prototype of the <code>obj</code> object is still equal to 10. Everything is safe and efficient. <br><br>  The only thing that can be embarrassing in this approach is that when accessing the property that is in the prototype, you have to move along the chain of prototypes.  And this is not given for free.  But on modern engines it is not significant, especially on the background of a radical optimization of memory usage, and well, old IEs that felt degradation gradually fade away. <br><br><h5>  Assign event handlers </h5><br>  Another cool feature is the assignment of event handlers for object methods.  Example: <br><pre> <code class="javascript hljs">Account = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">customer, cart</span></span></span><span class="hljs-function">) -&gt; @</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">customer</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">customer</span></span></span><span class="hljs-function"> @</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cart</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cart</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'.shopping_cart'</span></span></span></span></span><span class="hljs-function">).</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">bind</span></span></span><span class="hljs-function"> '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">click</span></span></span><span class="hljs-function">', (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> @customer.purchase @cart</code> </pre><br>  Issuance: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Account; Account = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">customer, cart</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _this = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.customer = customer; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.cart = cart; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $(<span class="hljs-string"><span class="hljs-string">'.shopping_cart'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _this.customer.purchase(_this.cart); }); };</code> </pre><br>  In order to specify the method of the same object on pure JavaScript as an event handler, you have to get out. <br>  One of the most common ways is to create a closure.  In CoffeeScript, this crutch is not needed.  It is enough to specify the handler function not as <code>-&gt;</code> , but <code>=&gt;</code> .  After this, <code>this</code> inside the handler will refer to the base object. <br><br><h5>  Integration with pure javascript </h5><br>  If you need to connect pure JavaScript code, this is also easy to do: <br><pre> <code class="javascript hljs">hi = <span class="hljs-string"><span class="hljs-string">`function() { return [document.title, "Hello JavaScript"].join(": "); }`</span></span></code> </pre><br>  At the output we get: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hi; hi = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title, <span class="hljs-string"><span class="hljs-string">"Hello JavaScript"</span></span>].join(<span class="hljs-string"><span class="hljs-string">": "</span></span>); };</code> </pre><br><h5>  Arrays </h5><br>  And of course, there are a lot of chips to work with arrays and objects.  For illustration, consider one. <br>  For example, suppose we want to get an array of cubes of numbers from 1 to 5. <br><br>  In CoffeeScript, just write: <br><pre> <code class="javascript hljs">cubes = (<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.pow(num, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>])</code> </pre><br>  In verbose JavaScript, we get: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cubes, num; cubes = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _i, _results; _results = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (num = _i = <span class="hljs-number"><span class="hljs-number">1</span></span>; _i &lt;= <span class="hljs-number"><span class="hljs-number">5</span></span>; num = ++_i) { _results.push(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.pow(num, <span class="hljs-number"><span class="hljs-number">3</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _results; })();</code> </pre><br><h4>  Conclusion </h4><br>  I hope for dating should be enough.  Further welcome to <a href="http://coffeescript.org/">coffeescript.org</a> . <br><br>  Well, as expected, several conclusions: <br><ul><li>  CoffeeScript increases the expressiveness of the code, simplifies and speeds up both the initial development and further support of the code. </li><li>  The training is very fast (it took me a couple of days to get involved). </li><li>  Convenient support from WebStorm (For other IDEs, there are also plugins, but I can't say anything about their quality) </li><li>  Big community </li><li>  Saves especially novice developers from many mistakes. </li></ul><br>  The main thing is to understand what CoffeeScript generates.  Then it turns from an extra suspicious layer of abstraction into a powerful tool. </div><p>Source: <a href="https://habr.com/ru/post/179031/">https://habr.com/ru/post/179031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179019/index.html">Content vs. Technology</a></li>
<li><a href="../179021/index.html">Papeeria: LaTeX Cloud Editor and IDE for Research</a></li>
<li><a href="../179023/index.html">Nokia Lumia: a smartphone that has survived</a></li>
<li><a href="../179025/index.html">Parameter HTTP Header Transfer for Apache CXF</a></li>
<li><a href="../179029/index.html">Iomega ZIP-100 brief photo review</a></li>
<li><a href="../179037/index.html">Video from ScalaDev 2013. # 1</a></li>
<li><a href="../179039/index.html">Notes for playing business</a></li>
<li><a href="../179045/index.html">Why do GIT users edit their commits?</a></li>
<li><a href="../179049/index.html">Radio day</a></li>
<li><a href="../179051/index.html">Deja vu - bug or feature?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>