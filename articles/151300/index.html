<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>3D transformations using CSS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After seeing a couple of impressive examples of 3D transformations on the network in CSS, I became interested, decided to understand the topic, read s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>3D transformations using CSS</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/2df/9c0/1ef/2df9c01ef7c39da71b056be432c6af5e.jpg" align="left"><br>  After seeing a couple of impressive examples of 3D transformations on the network in CSS, I became interested, decided to understand the topic, read several articles, seemed to understand something.  But, as you know, a theory without practice ‚Äî like a zombie ‚Äî is dead, although it can eat the brain. <br><br>  For the assimilation of the material you need to do something curious with the use of what you read.  Which 3D object is easiest to do?  Perhaps the cube.  And to make the result more interesting and more beautiful, let it be a dice cube with dots on the edges.  Go. <br><br>  For the impatient and those who watch Habr for the sake of funny pictures - the <a href="http://qbyte.ru/habr/cube/demo/index.html">end result</a> .  Works in Chrome, the latest versions of Firefox, Safari.  Opera 12.01 - yet nothing, but about IE you yourself know everything. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Building materials </h4><br><img src="https://habrastorage.org/storage2/d3a/bf0/0e0/d3abf00e0c143f1ad4ffb05eff6e16ab.png" align="right">  To begin, we will do the workpiece.  A block container to center everything on the page, a block cube in which we will put all the components of our sculpture, and a ‚Äúscan‚Äù of five (sixth, add later) future edges of the cube. <br><br>  ‚ÄúEdges‚Äù are banal square divs, which are absolutely positioned in the cube block: we leave ‚Äúone‚Äù at the center, it will serve as the front side, and we will dock all the rest with it, as in <i>Figure 1</i> .  Paint them for fun and clarity in different colors, add an inner shadow - and that's enough. <br><br>  The points on the edges are also blocks with <i>position, absolute, border-radius: 50%</i> and an internal shadow ( <i>box-shadow: inset</i> ...) to give an illusion of volume. <br><br>  Finally - two not so banal moment. <br><br>  For the cube itself, you need to specify <br><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transform-style</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">preserve-3d</span></span>;</code> </pre> <br>  otherwise, the default value - <i>flat</i> will be used, the three-dimensional world will again become flat and only one facet will remain from our cube, which will be ‚Äúfacing‚Äù the user. <br><br>  <i>Small remark: here and further css-properties for transformations are specified without prefixes, but in real code, for the time being, you need to use them.</i> <br><br>  Also add a cubic property <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transform</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">perspective</span></span>(900<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>);</code> </pre> <br>  which will determine how much it will be distorted because of the perspective.  The larger the value, the farther is the point of the ‚Äúline convergence‚Äù, the less pronounced the distortion effect.  Values ‚Äã‚Äãbelow 200 lead to wild results (for example, <i>Figure 2</i> ), about 300 - to noticeable distortion ( <i>Figure 3</i> ), we restrict ourselves to a modest 900, giving a very moderate effect. <br><br><img src="https://habrastorage.org/storage2/402/b88/e6c/402b88e6ce7c66a39a3dd3ac43837e00.jpg"><br><br>  With the routine finished, the fun begins. <br><br><h4>  Bend and glue </h4><br><img src="https://habrastorage.org/storage2/74c/a0f/6d2/74ca0f6d258b1741426f7fd73f347478.png" align="left">  In order to turn our scan into a similarity of a cube, we need to ‚Äúbend‚Äù it along the lines of junction of the extreme faces to face-1.  For this we need to do two things. <br><br>  First, to establish for each face an axis around which it will rotate.  The fact is that by default, the blocks rotate around their center, and we need a slightly different behavior - in Figure 4, we can see that face-5 should rotate around segment AB, face-2 around BC, and so on. <br><br>  We use the property <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transform-origin</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">yx</span></span>;</code> </pre><br>  which shifts the axis of rotation for the object.  For example, for face-5, you need to move the X axis (horizontal) to the bottom edge, respectively, the second transform-origin value should be 100% ( <i>transform-origin: 0 100%;</i> ).  The value of Y in this case is not important, since  we will rotate this face exclusively around the horizontal axis.  For face 2, the opposite is true - the value of X is unimportant, and Y should be set to 0, i.e.  the value of <i>transform-origin is 0: 0</i> . <br><br>  Secondly, and, for this article, ‚Äúmain‚Äù, for the direct rotation of elements we use <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transform</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">rotate3d</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">x</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">y</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">z</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">deg</span></span>);</code> </pre><br>  The first three parameters determine which of the coordinate axes will rotate the object, and the last - by how many degrees.  X, Y and Z are not set as absolute values, but as a ratio of angles.  For example, the code <i>transform: rotate3d (2, 1, 0, 90deg);</i>  will make the object rotate 90 degrees around the X axis and 45 (90 * 1/2) degrees around Y. The <i>transform</i> line will do the same <i>: rotate3d (90, 45, 0, 90deg)</i> . <br><br>  In <i>Figure 5,</i> I tried to illustrate the rotation of the blocks around the axes: the gray rectangle is the initial position of the block, the axis around which rotation rotates is highlighted in red, and the red and green rectangles are the position of the block when rotated by -60 and 60 degrees respectively. <br><br><img src="https://habrastorage.org/storage2/424/452/e46/424452e46595e8f6e2b4cd73b45225b9.jpg"><br><br>  Rotate the edges from second to fifth by 90 degrees around the respective axes, after which, for clarity, we turn the cube itself, adding the <i>transform: rotate3d (1,2,0, -150deg)</i> property to the <i>.cube,</i> which will result in something shown in <i>Figure 6</i> . <br><img src="https://habrastorage.org/storage2/f74/43f/d67/f7443fd6709fd9404680a80b6929bdb0.jpg" align="right"><br>  The cube is almost ready, it remains only to "close" it. <br><br><h4>  Close the lid and serve. </h4><br>  The last face must be placed in the same place, where it is ‚Äúone‚Äù, but ‚Äúdeeper‚Äù into the screen by 200px (the size of the faces of the cube).  We do this using the property <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transform</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">translate3d</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">x</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">y</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">z</span></span>);</code> </pre><br>  which allows you to move the block along any of the three axes.  In our case, the motion along the Z axis is minus 200 pixels (negative values ‚Äã‚Äã‚Äúremove‚Äù the block, positive values ‚Äã‚Äã‚Äúapproximate‚Äù).  At the same time, we rotate the face 180 degrees along the X axis - although, with the default values, the ‚Äúpoints‚Äù will be displayed on both its sides, it would be more correct to put the face to the viewer, and not inside the cube.  As a result, the transform property for our ‚Äúcover‚Äù will look like this: <i>transform: translate3d (0,0, -200px) rotate3d (1,0,0,180deg)</i> . <br><br>  Finally, using the banal <i>opacity: 0.9</i> , we add a little transparency (in Firefox, for some reason unknown to me, it only works to add this property for individual faces, but not for the whole cube block at once) - so our cube becomes a bit like glass, looks like more presentable and, frankly, causes the author an attack of warm nostalgia for those times when the ‚Äúcomputer‚Äù was an incomprehensible machine for the pope at work, and a similar dice made a pseudo-random number generator in many games. <br><br><h4>  Let's rock </h4><br>  The cube is ready, but to look at it from the other side, you need to climb and edit CSS - not the most user-friendly option, frankly.  We proceed differently. <br><br>  At the beginning of the container block (up to the cube) add four buttons: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arrow a-top"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arrow a-bottom"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arrow a-left"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arrow a-right"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Again, using absolute positioning, we place them on all four sides of the container, after which we make the cube rotate with the help of something like this magic: <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.a-top</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> ~ <span class="hljs-selector-class"><span class="hljs-selector-class">.cube</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">perspective</span></span>(900px) <span class="hljs-built_in"><span class="hljs-built_in">rotate3d</span></span>(180,-45,0,-135deg); }</code> </pre><br>  The selector ‚Äú~‚Äù, in contrast to ‚Äú+‚Äù, extends not only to the immediate neighbor, but also to those ‚Äúseparated‚Äù further, so long as they are at the same level in the DOM tree, which we use.  When you hover the mouse over the <i>.a-top</i> button, <i>we will</i> rotate the next <i>.cube</i> block <i>in the</i> way we want. <br><br>  At the same time, we will change the perspective distortion with the help of <i>perspective (900px)</i> .  As you remember (remember, really?), We set the same value for the cube at the beginning of work, but if you do not declare this property again after the cube becomes backwards and the forest (on the desktop wallpaper) is in front, then and this distortion will be turned out together with the cube - the part closest to the viewer will be reduced, and the distant part will be expanded.  It looks implausible, so we will assign the perspective again at each turn. <br><br>  Well, so that our cube does not jump from one position to another, but rotates smoothly - we will add a line to it <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transition</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">all</span></span> 1<span class="hljs-selector-tag"><span class="hljs-selector-tag">s</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ease</span></span>;</code> </pre><br>  Translated into Russian - let's say the cube smoothly changes all properties ( <i>all</i> ) that will change for one second ( <i>1s</i> ) and do it according to the function <i>ease</i> , i.e.  at the beginning of the animation smoothly accelerate it, and at the end - smoothly stop.  Fans of uniformity instead of <i>ease</i> can indicate <i>linear</i> - in this case, the cube will move tedious and soulless. <br><br>  However, Houston, we have another problem.  The rotation goes around the center of the face-1, and not the center of the cube itself - which, in general, is logical, because it is our name that is inscribed in the block cube, and all the others are ‚Äúbent‚Äù or rendered ‚Äúin depth‚Äù.  However, this is solved quite simply: you just need to ‚Äúmove‚Äù all faces closer to the observer with the help of the same <i>translate3d (0,0,100px)</i> so that the center of rotation coincides with the center of the cube. <br><br>  Now it turned out well.  You can write an article on Habr, to consolidate the material, to share what was learned with colleagues and just show off. <br><br>  <a href="http://qbyte.ru/habr/cube/demo/index.html">Demo link</a> <br>  <a href="">Archive for the most inquisitive</a> <br><br>  PS While writing an article and making my way into the sandbox, a <a href="http://habrahabr.ru/post/151176/">similar article</a> has already appeared on Habr√©, but I think they will complement each other well. <br><br>  <b>Update:</b> <br>  Important additions from <a href="http://habrahabr.ru/users/zapimir/" class="user_link">zapimir</a> <br>  - 3DTransform is only a draft so far, not a standard, changes are possible. <br>  - IE10 supports this technology ( <i>corrected demo, added -ms- prefixes</i> ) <br>  - It‚Äôs convenient to follow the progress of the progress across the planet on caniuse.com - in particular, <a href="http://caniuse.com/">here</a> </div><p>Source: <a href="https://habr.com/ru/post/151300/">https://habr.com/ru/post/151300/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151292/index.html">Easy way to fail testing</a></li>
<li><a href="../151294/index.html">The illusion of effective development: management</a></li>
<li><a href="../151296/index.html">Kinect for Windows SDK. Part 3. Functionalities</a></li>
<li><a href="../151297/index.html">In the screenshots of the game WoW found digital watermarks (userID, time, realm)</a></li>
<li><a href="../151299/index.html">Programmer's Day: how it became my holiday</a></li>
<li><a href="../151302/index.html">Fighting RSI - Truly Ergonomic 209 Keyboard Review</a></li>
<li><a href="../151303/index.html"><? = date (z) -255?: 'Happy programmer day';</a></li>
<li><a href="../151306/index.html">Again about inventory automation</a></li>
<li><a href="../151307/index.html">12-th of September. San Francisco. Yerba Buena Center for the Arts. Live broadcasts - what are you going to say?</a></li>
<li><a href="../151309/index.html">The Windows Store is open to everyone on Developer Day!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>