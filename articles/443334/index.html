<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yellow muzzle</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I didn‚Äôt add to the title ‚ÄúHabro-suicide‚Äù, so as not to get the highly respected admins, they don‚Äôt like it. Although it is clear that the publication...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yellow muzzle</h1><div class="post__text post__text-html js-mediator-article"><p>  I didn‚Äôt add to the title ‚ÄúHabro-suicide‚Äù, so as not to get the highly respected admins, they don‚Äôt like it.  Although it is clear that the publication together will sink into a minus. </p><br><p>  Although, there is no holivar in it.  It is simply told and shown the approach to the construction of adaptive interfaces.  I use it from 2012 about. </p><br><p>  If you think I'm preaching for 1C, then nothing.  This approach and tools are equally far from both you and 1C.  You will never do this because you don‚Äôt need to.  They will never do this because they do not know how.  They honestly wanted and want, but do not know how.  Because 1Sniki know only three words: "market", "sell" and "monetization".  And I have here - for the soul. </p><br><p>  Consider that I am telling you my personal approach to building corporate information system interfaces.  Just for example 1C.  Now we are creating similar, in essence, tools on metadata.js, using <a href="http://recharts.org/en-US/examples">recharts</a> .  The muzzle is no longer yellow, but the essence is the same. <a name="habracut"></a></p><br><p>  So, the <strong>desktop</strong> is a tool for building adaptive interfaces.  In any system on the 1C: Enterprise platform version 8.2 and higher. </p><br><h2 id="zachem-i-pochemu">  Why and why </h2><br><p>  The 1C platform has created wonderful mechanisms for building interfaces.  In a thick client, you can draw panels, buttons and submenus.  In the thin client, you can break the functionality of the subsystems, and the interface will draw itself - there will be beautiful navigation links to all directories, documents and reports. </p><br><p>  What is wrong then?  Why make a desktop? </p><br><p>  If not laziness, re-read the previous paragraph.  What do you see?  What do typical 1C interfaces draw?  If laziness, then I just answer: they draw <strong>navigation</strong> . </p><br><p>  At airports, for example, they also draw navigation, which they then take pride in - anyone who first appeared in the air harbor will find the check-in counter, the search area and the toilet without much difficulty.  Navigation for new visitors is an important and necessary task, without a competent solution it will collapse.  Both at the airport and in the information system on the 1C platform. </p><br><p>  And if the person is not new?  An accountant, for example, or a sales manager, PDO manager, etc.  The program is worth a long time, users know everything they need, use a limited amount of functionality, and it is unlikely that something will change in the near future.  How to be? </p><br><p>  At the airport, such people - for example, often flying businessmen or travelers - do not look at navigation at all.  Just <strong>go</strong> where they want to.  You've been to the airport, and remember how long you have <strong>to go there</strong> ?  This process is sometimes very depressing. </p><br><p>  And in 1C what?  The user knows where he wants.  But, like the traveler at the airport, I have to <strong>go</strong> every time - to wade through the maze of the interface.  See a bunch of superfluous, search for the right, generate a bunch of reports to see a few numbers he needs, infinitely filter and sort to get to the required data. </p><br><p>  If we draw an analogy between 1C and the airport, then what happens?  Having bought ERP or UPP, <strong>you have received the ownership of the airport</strong> .  Well, that is not you, probably, but your company, but not the essence.  This airport is designed <strong>for everyone</strong> , and only you and your colleagues use it.  Just imagine - corporate airport! </p><br><p>  Submitted?  Good.  Now the question is: <strong>do you like everything there?</strong>  No desire, for example, to close most of the terminals, to leave one, so as not to run for half an hour?  Toilet to place closer to the reception?  Not close, but around the corner, of course.  And in front of the stand, place sofas from the VIP lounge so as not to climb stairs. </p><br><p>  And in general, instead of a huge cold building, put a <strong>small cozy house</strong> where everything will be at hand - check-in, baggage drop-off, a sofa for rest, a board with overhead flights, a nice restaurant, phone charging and wi-fi.  Well, isn't it lovely? </p><br><p>  Everything you need is already at the airport.  Only located not the way you need, but as decided by the developers.  At the same time pushed a bunch of what you do not need.  Therefore inconvenient and uncomfortable. </p><br><p>  So, the <strong>desktop</strong> - this is the very <strong>small cozy house</strong> that will make your ‚Äúairport on the 1C platform‚Äù a pleasant, comfortable and pretty corner.  And, most importantly - <strong>individually for each user</strong> .  Let everyone have their own airport.  Why not? </p><br><h2 id="obschiy-obzor">  general review </h2><br><p>  It's time to draw some pictures.  We have drawn a demo desktop in Enterprise Accounting 3.0, this is how it looks. </p><br><p><img src="https://habrastorage.org/webt/yd/jg/rn/ydjgrnhlv8d2wuskcwk-fewhmog.png"></p><br><p>  A person enters the program and immediately sees what he is interested in.  First - links to documents and reports that he wants to use most often.  Clicked on the link - went to the list of documents or report form. </p><br><p>  Then the person, for some reason, wants to see the last few shipments.  Well, he likes to follow the implementations, and that's it.  And that they were painted - up to 10,000 rubles, let them be red, up to 100,000 rubles - blue, above - green.  Today is not a very good day, there are no green shipments ... I clicked on the link - the document opened. </p><br><p>  And the remnants of the money immediately see wants not to rummage through the reports.  Let it be written on the desktop - separately for current accounts, grouped by banks, and the cash desk - in one line. </p><br><p>  But you need to understand, not only the latest shipments, but also the dynamics?  Let the sales by day be drawn in the form of beautiful graphics!  From the beginning of the month, let's say.  Then do not miss the negative trend. </p><br><p>  And if the person is an intelligent chief accountant or deputy?  It is necessary to look after the accountants so that they do not do the drawbacks in the revolving, otherwise I know them ... Let a simple, on active accounts, with all the necessary analytics, be drawn on the desktop.  I will see a minus - I will punish ... </p><br><p>  Let's go to the second tab of the desktop. </p><br><p><img src="https://habrastorage.org/webt/dp/45/ld/dp45ldhfcf7f4o2wlbdj1iwryti.png"></p><br><p>  What do we have here?  Quick view of receipts.  On the left - the list of receipts, on the right - a small report that shows the contents of the document (goods, services, containers).  You put the cursor on any document - otchetik redraws.  No need to fall into the documents, scour the bookmarks and scroll tables. </p><br><p>  Let's go to the third tab. </p><br><p><img src="https://habrastorage.org/webt/ga/ze/gu/gazegumrtrgn1v7ol4s5hjqvpt4.png"></p><br><p>  What we see?  Accounts for payment, in the form of a tree.  The first level is the invoice, the second is the nomenclature, price, amount.  And just above the tree - the button "Agree".  It so happens that in our company you need to coordinate invoices for payment.  Why go somewhere, search and check?  On the desktop we see the uncoordinated accounts, select the necessary ones, press the button - and voila!  The reconciliation is done. </p><br><p>  And what is the fourth tab? </p><br><p><img src="https://habrastorage.org/webt/7m/lp/qs/7mlpqszxn_vf-vbnalplwzdrz_8.png"></p><br><p>  Big button, what else.  What she does?  And what's the difference ... Let the secret be. </p><br><h2 id="a-v-chem-fishka">  And what's the trick? </h2><br><p>  What is the trick, the reader will ask?  Our programmers can also draw such bookmarks, with buttons, links, and reports.  They only give access to the configurator, and in a couple of days it will be ready. </p><br><p>  The point is that <strong>all the elements of the desktop are drawn without using the configurator</strong> .  Do you know what the desktop looks like in the configurator?  Like this: </p><br><p><img src="https://habrastorage.org/webt/ja/jp/zr/jajpzrrgjo7_ei2k76aomszm7ms.png"></p><br><p>  The desktop does not know that it will have to draw a specific user.  When 1C starts, then it finds out and draws. </p><br><p>  All settings of the desktop and its elements are performed in the Enterprise mode.  The demonstration table, the pictures from which you see in this material, is drawn in 2 hours. </p><br><h2 id="osnovnye-vozmozhnosti">  Main features </h2><br><p>  Let's go over the main features that the desktop gives us.  There are so many of them that the main problem is not to forget what.  Well, new ideas - darkness. </p><br><h4 id="komponovka">  Layout </h4><br><p> Each user is assigned a desktop, i.e.  in general there may be as many of them in the system.  Settings of desktops are stored in the same directory.  The layout of elements is performed according to the same principles as the drawing of controlled forms in the configurator. </p><br><p>  You can draw an arbitrary number of groups, put them into each other, determine the orientation - vertical or horizontal, divide into pages, place elements. </p><br><p>  This is how the desktop setup looks like: </p><br><p><img src="https://habrastorage.org/webt/s7/vz/7d/s7vz7dffn5tuy405qicu_n8hbyo.png"></p><br><h4 id="obedinenie-rabochih-stolov">  Combining desktops </h4><br><p>  There are many users, and everyone wants an individual desktop.  And what if five people need a pair of identical bookmarks?  There is nothing easier - the <strong>user can be assigned several desktops at the same time</strong> .  In the final form, a person will simply see bookmarks and items collected from all desktops. </p><br><h4 id="elementy-rabochego-stola">  Elements of the desktop </h4><br><p>  Elements of the desktop is such a reference.  We painted it once, for example, a diagram or dynamic list, everything was set up, and you can use it in any number of desktops. </p><br><p>  Basically, there are seven kinds of elements: a link to metadata, a report, a diagram, a set of links, a dynamic list, a tree, a button. </p><br><h4 id="ssylka-na-metadannye">  Metadata link </h4><br><p>  This is the easiest type of desktop item.  Indicates the object of metadata - for example, the document ‚ÄúSales of goods and services‚Äù or the report ‚ÄúT-balance sheet‚Äù - and that‚Äôs all, it will get to the desktop as a hyperlink. </p><br><p><img src="https://habrastorage.org/webt/lf/7f/yc/lf7fycoigf1_r8-w_phjwfglu5m.png"></p><br><p>  You can add a picture, override the title, change the font.  When clicked, the corresponding form opens - a list of documents, a report form, etc. </p><br><h4 id="knopka">  Button </h4><br><p>  It is also a very simple element, but understandable only to programmers.  Draws a button on the form, under which the <strong>command</strong> lies, and in it is the code you wrote.  You can perform on the client, you can - on the server. </p><br><p>  Commands are such a reference book.  It is used not only for buttons, but also for handling clicks on elements of other types (more on this below). </p><br><p><img src="https://habrastorage.org/webt/ab/gd/he/abgdhezw1dvedjej51l2zcu2t6e.png"></p><br><p>  The code of desktop commands is usually associated with the information database data (as opposed to commands created in the configurator).  For example, a button can create a reference item and fill in its details with specific values.  Where to get these values? </p><br><p>  In the configurator, you would have to either search by code, or fence specialized repositories of predefined references, or do constants in general.  Here, the parameter table helps you (see the screenshot below) - specify the name of the parameter and value (primitives + any link), and use the command code. </p><br><h4 id="otchet">  Report </h4><br><p>  Usually, the hands immediately itch to bring to the desktop some typical report.  But this is a bad thought. </p><br><p>  There should not be long footcloths on the desktop, which then still need to be filtered, sorted and still long to dig into them.  We need short, clear, focused reports for a specific user, showing a small amount of data or well-positioned problems. </p><br><p>  Therefore, as a source of reports, the layout schemes used in the reference directory of the same name are used.  Why throw out all revolving, if a person needs to see only the minuses?  We call the programmer, he writes a request for 10 lines in 5 minutes, and we have only drawbacks. </p><br><p><img src="https://habrastorage.org/webt/we/1h/p8/we1hp8ntuxrauwthigv9llgigia.png"></p><br><p>  What is important - since you yourself write a small layout scheme, and even in the Enterprise mode, then you have the main thing at hand - the <strong>data and the context</strong> .  You can make selections for specific organizations, departments or articles.  You can filter by current user.  And all this is in the layout itself, and not in the user's hands in the report version. </p><br><h4 id="diagramma">  Diagram </h4><br><p>  Configured about the same as the report.  Just write the layout, the result of which is displayed in the diagram.  And then <strong>magic happens</strong> . </p><br><p>  The usual diagram, formed by the layout in the form of a tabular document, looks scary.  It does not adjust to the screen size, it does not fit into it at all, and nothing can be done about it - only by moving an object of the ‚ÄúFigure‚Äù type with a code after its formation.  But living people do not. </p><br><p>  The diagram drawn directly on the form looks much better.  This is a normal control that can scale, does not look alien and, in general, is quite pleasant. </p><br><p>  I will show in the picture to make it clearer.  At the left - the standard chart in the tabular document, on the right - the chart on the form. </p><br><p><img src="https://habrastorage.org/webt/db/no/l1/dbnol1t_b4fyx-irojbd4mgtwdk.png"></p><br><p>  How can you afford to use the chart on the left?  Of course not.  Only normal, scalable and built into the form of the diagram on the right.  On the first screenshot there was the same diagram - they saw how small it is there, but at the same time - quite readable? </p><br><p>  And the magic mentioned is that the desktop itself pulls the chart out of the tabular document and transfers it to the form.  Series, points, design - all drags that is bad.  The programmer simply writes the layout, and gets a beautiful diagram.  Without a desktop, this would have to draw code. </p><br><h4 id="dinamicheskiy-spisok">  Dynamic list </h4><br><p>  The principle is the same as in reports and charts.  The programmer writes the layout scheme - what he wants to see in the dynamic list.  Fields selects, sorting, formatting, selections, etc.  - everything you need for a comfortable presentation of data. </p><br><p>  And the desktop takes a query, creates a dynamic list on the form, slips the query text, selections, sorting, conditional design, etc. into it.  And that's it, the list is ready. </p><br><p>  Also, you can control some properties of the list.  For example, the main table - if it is specified, the element will behave like the usual form of a list.  You can control the ability to add data, manage their order. </p><br><h4 id="derevo">  Tree </h4><br><p>  Almost one to one - a dynamic list.  The same layout scheme, also copying selections and design, only a tree is drawn on the form, not a dynamic list.  And you can display any data. </p><br><p>  In the tree, respectively, you can do the grouping.  The number of nesting levels is unlimited. </p><br><p>  Commands can be connected to the tree (from the ‚ÄúCommands‚Äù directory mentioned above).  Each team will draw a button on the tree pane (as in the screenshot of the ‚ÄúNegotiation‚Äù page).  When you click on a button, the context is passed to its code - a tree.  Accordingly, the programmer can do with it and his data everything that comes into his head.  For example, change the details of the object, which the user indicated in the tree. </p><br><h4 id="nabor-ssylok">  Link set </h4><br><p>  The most useful and interesting, in my opinion, element.  It allows you to display on your desktop <strong>links to specific data</strong> - for example, on implementations, tasks, orders, etc. </p><br><p>  For example, on the first screenshot we had the last 5 implementations: </p><br><p><img src="https://habrastorage.org/webt/wp/9b/pi/wp9bpi4i8rviry1b5g8zm8gx8wq.png"></p><br><p>  So, this is a set of links.  Under it lies the same layout scheme, which collects the necessary data for a particular person and displays on the screen.  No tabular documents, transcripts, heaps of columns and double clicks of the mouse.  Just a hyperlink to the desired object. </p><br><p>  A set of links is especially useful when a person needs to display objects with which he has to do something.  For example, agree on a contract or an application for the expenditure of money.  The programmer writes a request that filters objects by the current user, and voila - no need to go anywhere, filter, search and understand anything.  I clicked on the link, immediately hit the object, did what was necessary - and the object disappeared from the desktop. </p><br><p>  You can display the link as is.  You can override the view, as in the screenshot above - leave the number and date, add the amount.  You can paint in any color, depending on the data - for example, highlight overdue with red.  You can even change the font size. </p><br><p>  You can connect an arbitrary number of commands to a set of links.  If there are no commands, then by pressing the object under the link will simply open.  If there are several commands, the choice of action will open: </p><br><p><img src="https://habrastorage.org/webt/5e/h8/xq/5eh8xqwu1bngvp6y0mz3_q1iuaa.png"></p><br><p>  What is important is that not only the link is transferred to the execution context of the command, but also all the fields that the request returned.  There is only a link on the form, and the request could return the status of the mutual settlements, the reliability of the counterparty, and the availability of the necessary goods in the warehouse ‚Äî anything.  And all this can be used inside the team. </p><br><h4 id="prochie-vozmozhnosti">  Other features </h4><br><p>  By default, the dimensions of all elements of the desktop are calculated automatically based on the amount of free space.  But, if you really want, the width and height of each element can be controlled, as well as its stretching vertically and horizontally. </p><br><p>  For each desktop, you can turn on auto-update with a certain frequency. </p><br><p>  There is also an exotic mode - automatic switching of desktop tabs.  Living people do not need this, but we had such an example - they included a thin client on the TV, there was a desktop with a bunch of diagrams, and the bookmarks switched automatically.  The TV hung in the office, everyone looked at him and understood how well they work. </p><br><h4 id="varianty-komponovki">  Layout options </h4><br><p>  Layout options - countless, how much fantasy.  For example, you can turn your desktop into a dashboard: </p><br><p><img src="https://habrastorage.org/webt/vj/6c/5p/vj6c5p6ovwpkmr0iin8xsesp2vk.png"></p><br><p>  The diagrams in platform 8.3 look very nice, so it's very nice to look at such a desktop, agree.  On the desktop, they are also pleasant to the touch - watch the <a href="https://www.youtube.com/watch%3Fv%3DqrrPzOkyqo0">video</a> . </p><br><p>  And if someone says that all these diagrams are nonsense for managers, you can draw a simple, ascetic desktop consisting of only the necessary documents, reference books and reports. </p><br><p><img src="https://habrastorage.org/webt/sj/2-/7m/sj2-7mn11zl6fmhh8tw7xp5w1qy.png"></p><br><h2 id="razvitie">  Development </h2><br><p>  The desktop has a huge development potential.  There is still so much you can and should do that is enough for several years.  And internal optimization, and new features, and design chips. </p><br><p>  We will develop the desktop, in the wake of the practice of its use, new features of the platform and our ideas about the beautiful. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/443334/">https://habr.com/ru/post/443334/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443322/index.html">GitLab 11.8 released with SAST for JavaScript, GitLab Pages for subgroups and bug tracking</a></li>
<li><a href="../443324/index.html">Python vs. Scala for Apache Spark - the expected benchmark with an unexpected result</a></li>
<li><a href="../443326/index.html">Python & Arduino. Simple, fast and beautiful</a></li>
<li><a href="../443330/index.html">Security Week 11: RSA 2019 and a bright future</a></li>
<li><a href="../443332/index.html">Kitchen Robotics</a></li>
<li><a href="../443342/index.html">Free options for licensing PVS-Studio</a></li>
<li><a href="../443344/index.html">Economics and Human Rights</a></li>
<li><a href="../443346/index.html">Exam bomb</a></li>
<li><a href="../443348/index.html">The device of old cars and signal rope as a prototype of the local train network</a></li>
<li><a href="../443350/index.html">How to make a mobile game a team of 2 people with a zero budget and get fichering on Google Play</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>