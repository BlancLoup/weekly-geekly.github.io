<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Misunderstanding of the CAP theorem</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, I quite often come across this theorem . It has been proven for quite some time and a lot has been written about it. However, every time I s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Misunderstanding of the CAP theorem</h1><div class="post__text post__text-html js-mediator-article">  Recently, I quite often come across <a href="http://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B5%25D0%25BC%25D0%25B0_CAP">this theorem</a> .  It has been proven for quite some time and a lot has been written about it.  However, every time I stumble upon a distributed system that claims in the description of CA in terms of this theorem, i.e.  the system in which Partition Tolerance is sacrificed for the sake of Consistency and Avalability, I hang up, since at least kill I can not imagine such a beast.  After much deliberation, I nevertheless came to the conclusion that such a system is meaningless, which I want to discuss in this topic. <br><img height="171" src="https://habrastorage.org/getpro/habr/post_images/ecb/0e1/8e3/ecb0e18e3dcffa29207cc74b8428ecd2.png" width="200"><br><a name="habracut"></a><br>  At the very beginning, let me remind you what each letter means in the abbreviations of the theorem.  Although it is formulated for the general case of distributed systems, let's simplify the scope of consideration for distributed data storage systems to simplify.  I want to clarify that the definition I give is not general, but very narrow, but so that it is easier for everyone to imagine. <br><ul><li>  <b>Consistency.</b>  Once we have successfully written data to our distributed repository, any client will receive this latest data when requested. </li><li>  <b>Avalability.</b>  At any time, the client can get data from our repository, or get an answer about their absence, if no one has saved it yet. </li><li>  <b>Partition Tolerance.</b>  The loss of messages between components of the system (perhaps even the loss of all messages) does not affect the performance of the system.  Here a very important point is that if some components fail, then this also falls under this case, since it can be assumed that these components simply lose touch with the rest of the system. </li></ul><br>  The theorem says that if you build a distributed system, then you can satisfy only two of the above properties, i.e.  definitely need to sacrifice one of the properties.  The main issue that causes misunderstanding is what it means to donate Partition Tolerance.  In the end, I came to the conclusion that it means saying goodbye to the guarantee that the system can function when the system is divided into areas between which any connection has disappeared, or simply when a certain set of components fall.  Can you imagine a system that will be ready for it?  Me not.  In general, I'm not alone.  <a href="http://codahale.com/you-cant-sacrifice-partition-tolerance/">Here is a</a> very interesting article about this.  If I had not stumbled upon it, having come to the conclusion described above, I probably would not have written this topic, having decided that I simply did not understand something.  After reading this article, which, by the way <a href="https://twitter.com/">, the author of the theorem himself approved</a> , I nevertheless became convinced that there is something to talk about. <br><br>  Thus, since it is impossible to sacrifice Partition Tolerance, for myself I formulate the CAP theorem as follows.  When building a distributed system that could survive the failure of some of its components, it is necessary to sacrifice either availability (avalability) or consistency (consistency). <br><br>  However, the question still arises: why then was the concept of Partition Tolerance introduced in this theorem?  I think that in an ideal world where network, hardware and software failure cannot happen, it would be possible to build a CA system in which both availability and consistency would be at the same time.  But as soon as we get into the real world, and some kind of failure happens, we immediately have to comply with Partition Tolerance and have to give up either full consistency or full accessibility.  Well, or find some compromise, but to fully satisfy both properties will not succeed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Update:</b> <br>  As stormy comments have shown, the biggest misunderstanding in the CAP-theorem (at least on my part) is the definition of the concept of Partition Tolerance, or rather, what it means to donate to them.  As a result, I settled on counting under Partition Tolerance the property of a system to lose communication between components.  Those.  in the interpretation of the CAP-theorem, to abandon PT (which means to choose C and A) means that the system has an ideal connection and never loses communication between its parts.  In this case, the wording sounds pretty clear. <br><br>  <b>References:</b> <br><ol><li>  <a href="http://codahale.com/you-cant-sacrifice-partition-tolerance/">You can not donate Partition Tolerance</a> </li><li>  <a href="http://www.infoq.com/articles/cap-twelve-years-later-how-the-rules-have-changed">CAP theorem 12 years later: how the rules have changed</a> </li><li>  <a href="http://voltdb.com/company/blog/clarifications-cap-theorem-and-data-related-errors">Clarification of the CAP-theorem in the presence of errors</a> </li><li>  <a href="http://www.julianbrowne.com/article/viewer/brewers-cap-theorem">One of the most popular links about the description of the CAP-theorem</a> </li><li>  <a href="http://habrahabr.ru/blogs/nosql/130577/">CAP-theorem simple, accessible language</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/136305/">https://habr.com/ru/post/136305/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136300/index.html">Death in games. Monday video</a></li>
<li><a href="../136301/index.html">Filtering Texts by Regular Expression List</a></li>
<li><a href="../136302/index.html">Droider Show # 23. IT guy in Vegas and Jim Carrey!</a></li>
<li><a href="../136303/index.html">The number of Internet users in China has reached 513 million people</a></li>
<li><a href="../136304/index.html">Strange and unusual alarm clock from Archos</a></li>
<li><a href="../136307/index.html">World map from old motherboards (another way to add garbage)</a></li>
<li><a href="../136309/index.html">Call for applications for LVEE winter 2012 is open</a></li>
<li><a href="../136310/index.html">The introduction of ECM-solutions: what to talk with the client</a></li>
<li><a href="../136312/index.html">Data leak 6pm.com and Zappos.com</a></li>
<li><a href="../136313/index.html">bash: Backup without extra software</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>