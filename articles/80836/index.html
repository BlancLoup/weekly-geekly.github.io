<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mixing Twitter + Movie we get TwiMov</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I would like to tell you in this small text about how the idea was born, how the code was born and what we have at the moment on my TwiMov project. 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mixing Twitter + Movie we get TwiMov</h1><div class="post__text post__text-html js-mediator-article"> I would like to tell you in this small text about how the idea was born, how the code was born and what we have at the moment on my <a href="http://www.twimov.ru/">TwiMov</a> project. <br><br>  Since childhood I have loved cinema, this fabulous and fantastic world, where there are so many completely unreal things.  The world is not limited by anything, only the fantasy of the author.  The world that makes empathize, empathize, understand.  Cinema is not real life, it is virtual reality. <br><br>  Since sometimes I just want to say something about the movie that I watched, for example, some graphomanism attacks me, I can't hold it in myself and I have to pour it on the keyboard, this is like a reminder for myself for the future and again the opportunity to analyze the film, I sit down at the computer and write a review.  Successful, it will turn out or not very much I do not know and a little exciting, the rule of 80/20 is always in mind.  But good, clear reviews with a lot of thoughts, ideas and analysis are the lot of professional authors and journalists, to my delight or regret I am not one of them.  Therefore, at some point one of the topics on our <a href="http://rockufa.ru/forum/index.php/topic,1626.0.html">Ufa rock forum,</a> I realized that people are not always ready to write major reviews, but they willingly insert their ‚Äúfive kopecks‚Äù.  Well, good, I try to follow all sorts of trends in the network, although from the first time I didn‚Äôt understand what Twitter was for me, then this time it was accurate to my tasks! <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Idea.</b> <br>  I saw the idea immediately, transparently and easily. <br>  There is for example a certain site on it brief notes are published from different users on different films.  Notes are grouped by movie title.  Short and concise as a sparrow feathers.  Since I wanted to tie everything to independent customers, queues and delivery, I immediately chose Twitter, the day of reading the <a href="http://apiwiki.twitter.com/Twitter-API-Documentation">API documentation</a> allowed <a href="http://apiwiki.twitter.com/Twitter-API-Documentation">me</a> to say that all this is possible without any problems. <br>  A certain bot @twimov was registered, which is still silent, but soon will also start talking :) Also a number of domains, among which the main one is <a href="http://www.twimov.ru/">www.TwiMov.ru</a> .  And the work began to boil. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ea/934/3c8/0ea9343c8e7e0b745018d93ba330f6c0.jpg" alt="twimov"><br>  <b>Coding.</b> <br>  The task of the code was divided into 3 components: <br>  1. A bot that picks up Twitter for a certain amount of time, checks and processes messages <br>  2. Frontend, the withdrawal of reviews, films, information about users <br>  3. Administration and control <br><br>  1. <i>Bot</i> .  It would seem clear and logical.  But why did I decide to do it in Perl, I still do not understand, I took LWP, DBI :: MYSQL, IMAGE :: MAGICK and went to do ... But somehow everything is tight and tight, the authorization falls off on LWP, set modules specifically for Twitter had no desire, since I already imagined how much code it is in PHP, for example.  Strange, but this task for me was poured into full care in PHP. <br>  No sooner said than done.  For the day, the code was rewritten into ‚Äúpure‚Äù PHP, then everything was its own, well, except PDO, maybe.  A convenient class for requests to Twitter has been written, it works through the standard file request functions, if allow_url_open is enabled, if not enabled via CURL. <br>  The class for parsing the Twitter tape was written, the fact that immediately there was a hint of the universality of the class helped me quickly create a second object that also parses the private message feed for reviews. <br>  BOT as such is the heart and core of the filling, it developed with all the ideas that I considered acceptable in our case, for example: <br>  - Caching avatar users to at some point not to lose them and the connection with Twitter. <br>  - search for a movie cover using Google and also caching it on your server with a size correction (thanks for that <a href="http://phpthumb.gxdlabs.com/">PHPThumb</a> ) <br>  - search also in google movie trailer <br>  All these items were completed as a whole by 5, cyclically and not all at once, but in the process, but I was satisfied and even now there are still ideas on how and how to help myself with automation. <br><br>  2. <i>Front end</i> .  The conclusion was the simplest.  I did not drag along any old baggage of libraries or modules.  I took a clean <a href="http://www.codeigniter.com/">CodeIgniter framework</a> (sorry, I‚Äôm already sorry to write on the ‚Äúnoodles‚Äù), expanded it alongside my classes to the Model, to the Front controller and Administrative controller, to make it more convenient and easier. <br>  I didn‚Äôt even draw a design layout, just took my favorite darkly-gothic-emo colors and sketched in css, then how about I want to see the site.  The design is still left for later, since the MVC architecture will allow me to change it instantly on the entire site.  There are a number of "chips" and my personal rules about extending and writing code for CodeIgniter, which I took for myself from Ruby on Rails, in general, it‚Äôs like naming tables, functions, model extension, autoloading and initialization.  If it is interesting to someone willing to share and describe them in the next article, I'm not greedy, maybe someone will come in handy. <br><br>  3. <i>Administration</i> .  Everything is again based on CodeIgniter, little authorization: <br><img src="https://habrastorage.org/getpro/habr/post_images/83e/491/e48/83e491e48b33d12f832c200a4a297a37.jpg" alt="entrance"><br><br>  Well, here, too, without any particular embellishment, the UI designer is none of me, because I always do as convenient for my beloved and how quickly I will manage the content myself, as the only administrator of the site so far.  But already a number of chips for myself outlined. <br><br>  Immediately determined what and how I want to administer. <br><br>  These are reviews separately of all users, with a list by page and in the future there will be an internal search. <br><img src="https://habrastorage.org/getpro/habr/post_images/a83/2cb/78d/a832cb78d1a1b6f9762daafc5f83b524.jpg" alt="list of reviews"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/68c/849/86a/68c84986a33089270517e155b7676670.jpg" alt="review editor"><br><br>  This is the management of films, next to each film we observe its information and the state of fullness of the cover, video clip, text description with the help of icons. <br><img src="https://habrastorage.org/getpro/habr/post_images/09c/f1b/6bb/09cf1b6bb46683bfb870a3a8617e27da.jpg" alt="movie list"><br><br>  And a movie editor.  On it, I would like to stop a bit. <br>  Technically, everything is simple, a bot can sometimes be mistaken, as Google is not uncommon, because the Administrator should have the opportunity to correct the name of the tape, just ‚Äúperezalit‚Äù new movie cover and maybe choose a new video file for the trailer tape.  Of course, there is an opportunity to independently indicate the address of the image and video, but basically I try for a number of keywords, again to ask Google about their presence, again if anyone is interested in how to work with Google search, ask, put a note on the new material.  And then the man‚Äôs work, looked, chose, indicated.  By the way, it is indicated via AJAX in order not to overload such large data arrays.  In order not to write my wrapper around this whole thing, I routinely took JQuery, it‚Äôs not unusual to work with it after Prototype, but the wealth of plugins and extensions still forced me to switch to this JS library.  The server gives the answers as usual in JSON, it's more convenient for me. <br><img src="https://habrastorage.org/getpro/habr/post_images/8d7/be8/fd6/8d7be8fd670cbbc1d82111f00f8731af.jpg" alt="movie editor"><br><br>  And, of course, the list of users is also listed in the future with a search. <br><img src="https://habrastorage.org/getpro/habr/post_images/d26/20a/9a7/d2620a9a72cff9e222c38d4bd50343e4.jpg" alt="a list of users"><br>  At the moment, in order not to intrude into the privacy of users it is impossible to edit them, they always remain with their avatars on the site, but there is a possibility to BAN, perhaps for so many harsh measures can be useful in the fight against spammers and fluderastami. <br><br>  Well, in general, that's all, and now just join <a href="http://www.twitter.com/twimov">www.twitter.com/twimov</a> and write to him in this format <br><br> <code>@twimov  +    !</code> <br> <br>  PS Thanks for the invite and I hope the moderators will transfer to the Startup blog. <br>  PPS Thanks for the karma, transferred to "I am promoting" </div><p>Source: <a href="https://habr.com/ru/post/80836/">https://habr.com/ru/post/80836/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80831/index.html">After reading the topics from the blog "I migrate" and full of, I -</a></li>
<li><a href="../80832/index.html">How to teach children programming: Kodu Game Lab is now available for PC</a></li>
<li><a href="../80833/index.html">Design Inspiration vol.1</a></li>
<li><a href="../80834/index.html">Office - registration and control of execution of documents</a></li>
<li><a href="../80835/index.html">Alternative vizivig or new tool?</a></li>
<li><a href="../80840/index.html">CES: Boom reader? Rather, boomie</a></li>
<li><a href="../80842/index.html">Yesterday (January 14, 2010) the terminal of the bus on route No. 36 in Lipetsk, gave obscene tickets to all passengers</a></li>
<li><a href="../80844/index.html">January programming language ranking</a></li>
<li><a href="../80845/index.html">Choosing a CMS for an online store</a></li>
<li><a href="../80846/index.html">WebMoney starts the year with 10 million registrations and a new service for social networks.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>