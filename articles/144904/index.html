<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Banks. Errors and Vulnerabilities</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I decided for the sake of interest to dedicate the day to the review of the sites of banks. 
 The first of these was the official site of Rosselkhoz B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Banks. Errors and Vulnerabilities</h1><div class="post__text post__text-html js-mediator-article">  I decided for the sake of interest to dedicate the day to the review of the sites of banks. <br>  The first of these was the official site of Rosselkhoz Bank (advertising made itself felt :)), the next Russian Standard Bank, then X Bank (X Bank is a bank that did not respond to 2 of my notices and did not close the hole) and finally Alfa Bank . <br><br>  The goal was not to hack or get any sensitive information to be displayed, but just to check how well the official websites of banks are made. <br><a name="habracut"></a><br><h4>  Russian Agricultural Bank </h4><br>  Powered by CMS Bitrix <br><br><h5>  Errors. </h5><br>  The first thing that caught my eye was the news output module, because there are options for choosing the year, month, day, and more news on one page. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  Date picker </h6><br>  In the address bar, specifying the year 200 and month 20, I saw that there were no error messages and moreover - this data appeared in the selection on the page, which means the incoming data is displayed on the page. <br>  Then I decided to check the possibility of SQL injection - unsuccessfully. <br>  The next step was to check for XSS - this is where it became interesting. <br><br>  Specialist.  characters are not escaped and html characters are not converted to html entities, which means you can embed any code. <br>  Unfortunately (or, fortunately, the bank) all attempts to implement XSS such as an alert or iframe call failed because a space was inserted into the first tag. <br>  Incoming data: <br><pre><code class="html hljs xml">20"&gt;<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre> <br>  At the exit: <br><pre> <code class="html hljs xml">20"&gt;<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sc</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ript</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><img src="https://habrastorage.org/storage2/2f2/c7c/fd1/2f2c7cfd180dd702432e8c90ad79ff00.jpg"><br><br>  The maximum that can be done is to insert a picture or link (without calling the js code). <br><br><img src="https://habrastorage.org/storage2/2e5/ea5/beb/2e5ea5beb433bc94520b3a4905209f81.jpg"><br><br><h6>  Limit the number of news. </h6><br>  The next step was to check the restrictions, on the page you can choose from 5 to 20 news. <br>  But as you probably already understood, the restriction can be circumvented. <br>  You can safely indicate 100,000 news items, after which all the news will appear on the site. <br><br><h6>  Links to news. </h6><br>  The news page also saw that links to news had a strange ending. <br><br><img src="https://habrastorage.org/storage2/c93/60a/39e/c9360a39e7169df64683d5603191a9a0.jpg"><br><br>  All attempts to manipulate this variable failed, although I suspect that if Register_Globals were enabled, then XSS could be performed. <br>  Then I decided to go to the press center page, there I saw a similar error, but without the $ page variable <br><br><img src="https://habrastorage.org/storage2/7d8/68f/e98/7d868fe98dc7efb4f234730ba0736cb1.jpg"><br><br>  I decided to make manipulations on this page - successfully.  When the page was passed to the GET variable, the entire content of the variable was output in the link, but the double quote was converted. <br><br><img src="https://habrastorage.org/storage2/56f/423/029/56f423029067cefca325bf245b6bab59.jpg"><br><h5>  Answer. </h5><br>  The answer came a few hours later, thanked and asked where such care about their bank came from :) <br><br>  The errors themselves were corrected in about 3-4 days, except for the output of all the news, apparently, did not consider this a mistake. <br><br><h4>  Russian Standard Bank </h4><br>  CMS site did not recognize. <br><br><h5>  Xss </h5><br>  The essence of the XSS vulnerability is that the parameter from the GET request is transferred to the page code in several places, but the most important thing is in the js code. <br>  In this js code, the variable requestUri is defined (responsible for the address of the current page), but when passing parameters, there is no single quote escaping, which allows us to execute arbitrary js code. <br><br><img src="https://habrastorage.org/storage2/95f/d19/e98/95fd19e988dd03fb3809e2afb05c21c2.jpg"><br><br><img src="https://habrastorage.org/storage2/53b/4d1/049/53b4d1049f00e331d865bfd282be0271.jpg"><br><br>  Then did not check the site, because this is enough. <br><h5>  Answer. </h5><br>  The answer received 31.05. <br><br><h4>  X bank </h4><br>  X bank is a bank that did not respond to my 2 notifications and did not close the hole like that, so I decided not to ‚Äúshine‚Äù it. <br>  The banal error is the search form. <br>  There is no filtering, add a quotation mark and close the input, then insert any code. <br><br>  Then did not check the site, because this is enough. <br><h5>  Answer. </h5><br>  The answer has not yet been followed, as well as the correction of errors. <br><br><h4>  Alfa Bank </h4><br>  I had a glimpse of the long-suffering Alfa-Bank, namely, the subdomain of the idea.alphabank - also found XSS, the only thing that prevented the successful execution of the code is a slash, it is perceived as a separator,  parameters passed through GET (idea.alfabank.ru/accepted/page88 <u>any_code</u> ) <br><br><img src="https://habrastorage.org/storage2/a9f/a07/9c0/a9fa079c08a7af51813b1d23ceed9d0d.jpg"><br><h5>  Answer. </h5><br>  The first message apparently did not reach or for some reason was missed.  From the second notification - answered quickly and patched the hole. <br><h4>  Total. </h4><br>  Unfortunately, such errors are corrected very slowly, especially for some people had to re-send a message with a description of the errors, so that they finally closed. <br><br><h5>  Council </h5><br>  When navigating external links, be sure to check their path, even if the link leads to a reliable site, so as not to become a victim of a hacker. </div><p>Source: <a href="https://habr.com/ru/post/144904/">https://habr.com/ru/post/144904/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144898/index.html">iNum spoke</a></li>
<li><a href="../144900/index.html">PHPmotion on Debian 6 Squeeze</a></li>
<li><a href="../144901/index.html">According to Cisco forecasts, in 2016 global Internet traffic will amount to 1. 3 zettabyte</a></li>
<li><a href="../144902/index.html">Especially strong novelties of Sony: Xperia acro S and Xperia go</a></li>
<li><a href="../144903/index.html">Top places on Google+</a></li>
<li><a href="../144905/index.html">Comparison of the speed of range-based for, foreach (Qt) and some of the STL when calculating the sum of container elements</a></li>
<li><a href="../144906/index.html">So.cl: Microsoft's Search Engine</a></li>
<li><a href="../144910/index.html">What is the cause of the blockage? Web application statistics</a></li>
<li><a href="../144911/index.html">Happy Hacking Keyboard</a></li>
<li><a href="../144913/index.html">Dirty programming with a pure soul: the development of heuristic systems (part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>