<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Basics of React: everything you need to know to get started</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Want to know what React is, but you still don‚Äôt have a chance to study it? Or, maybe you have already tried to master React, but could not really unde...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Basics of React: everything you need to know to get started</h1><div class="post__text post__text-html js-mediator-article">  Want to know what React is, but you still don‚Äôt have a chance to study it?  Or, maybe you have already tried to master React, but could not really understand?  Or maybe you understand the basics, but you want to put in order the knowledge?  This article is written specifically for those who positively answered at least one of these questions.  Today we will create a simple music player, revealing the basic concepts of React as we move towards the goal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/044/5a2/265/0445a22656e8cf0f3407b46f81b2e6c6.png" alt="image"></div><br>  Having dealt with this material, you will learn the following: <br><br><ul><li>  React components. <br></li><li>  Rendering ReactDOM. <br></li><li>  Classes of components and functional components. <br></li><li>  Jsx <br></li><li>  State <br></li><li>  Event handling <br></li><li>  Asynchronous setState method. <br></li><li>  Properties (props). <br></li><li>  References (refs). <br></li></ul><br>  This is almost everything you need to know in order to create and maintain React-applications. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Preliminary preparation</font> </h2><br>  Consider this situation: a small startup turns to you for help.  They created a nice page, using which users can download music to their service and play it.  They want you to do the most difficult thing - breathe life into this page. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, create a new project directory and add three files there.  <a href="https://gist.github.com/scottdomes/aae01cce0fdb69cea49aa5b3b75f3313">Here they are</a> on GitHub, and here is their code. <br><br><div class="spoiler">  <b class="spoiler_title">App.css file</b> <div class="spoiler_text"><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#f9f9f9</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: <span class="hljs-string"><span class="hljs-string">'Open Sans'</span></span>, sans-serif;  <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; } <span class="hljs-selector-id"><span class="hljs-selector-id">#container</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative;  <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: <span class="hljs-number"><span class="hljs-number">100px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.play</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block;  <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">border-top</span></span>: <span class="hljs-number"><span class="hljs-number">50px</span></span> solid transparent;  <span class="hljs-attribute"><span class="hljs-attribute">border-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">50px</span></span> solid transparent;  <span class="hljs-attribute"><span class="hljs-attribute">border-left</span></span>: <span class="hljs-number"><span class="hljs-number">60px</span></span> solid <span class="hljs-number"><span class="hljs-number">#2c3e50</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">100px</span></span> auto <span class="hljs-number"><span class="hljs-number">50px</span></span> auto;  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative;  <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: all <span class="hljs-number"><span class="hljs-number">0.3s</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transition</span></span>: all <span class="hljs-number"><span class="hljs-number">0.3s</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">-moz-transition</span></span>: all <span class="hljs-number"><span class="hljs-number">0.3s</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.play</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute;  <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: -<span class="hljs-number"><span class="hljs-number">75px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: -<span class="hljs-number"><span class="hljs-number">115px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: -<span class="hljs-number"><span class="hljs-number">75px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">right</span></span>: -<span class="hljs-number"><span class="hljs-number">35px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span> solid <span class="hljs-number"><span class="hljs-number">#2c3e50</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: all <span class="hljs-number"><span class="hljs-number">0.3s</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transition</span></span>: all <span class="hljs-number"><span class="hljs-number">0.3s</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">-moz-transition</span></span>: all <span class="hljs-number"><span class="hljs-number">0.3s</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.play</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">0.6s</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">0.6s</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">-moz-transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">0.6s</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.play</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.play</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:focus</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(1.1);  <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(1.1);  <span class="hljs-attribute"><span class="hljs-attribute">-moz-transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(1.1); } <span class="hljs-selector-class"><span class="hljs-selector-class">.play</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.active</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: transparent; } <span class="hljs-selector-class"><span class="hljs-selector-class">.play</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.active</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">25px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">80px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute;  <span class="hljs-attribute"><span class="hljs-attribute">right</span></span>: <span class="hljs-number"><span class="hljs-number">8px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: -<span class="hljs-number"><span class="hljs-number">40px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">border-right</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span> solid <span class="hljs-number"><span class="hljs-number">#2c3e50</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">border-left</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span> solid <span class="hljs-number"><span class="hljs-number">#2c3e50</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">h1</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">text-transform</span></span>: uppercase;  <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#34495e</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">letter-spacing</span></span>: <span class="hljs-number"><span class="hljs-number">2px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">2em</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">canvas</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: fixed;  <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">audio</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: fixed;  <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(100% - 20px); }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">App.js file</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ALPHA, AudioAnalyser, COLORS, MP3_PATH, NUM_BANDS, NUM_PARTICLES, Particle, SCALE, SIZE, SMOOTHING, SPEED, SPIN, TIMES_CALLED, ANALYSER; NUM_PARTICLES = <span class="hljs-number"><span class="hljs-number">150</span></span>; NUM_BANDS = <span class="hljs-number"><span class="hljs-number">128</span></span>; TIMES_CALLED = <span class="hljs-number"><span class="hljs-number">0</span></span>; SMOOTHING = <span class="hljs-number"><span class="hljs-number">0.5</span></span>; MP3_PATH = <span class="hljs-string"><span class="hljs-string">'music.mp3'</span></span>; SCALE = { MIN: <span class="hljs-number"><span class="hljs-number">5.0</span></span>, MAX: <span class="hljs-number"><span class="hljs-number">80.0</span></span> }; SPEED = { MIN: <span class="hljs-number"><span class="hljs-number">0.2</span></span>, MAX: <span class="hljs-number"><span class="hljs-number">1.0</span></span> }; ALPHA = { MIN: <span class="hljs-number"><span class="hljs-number">0.8</span></span>, MAX: <span class="hljs-number"><span class="hljs-number">0.9</span></span> }; SPIN = { MIN: <span class="hljs-number"><span class="hljs-number">0.001</span></span>, MAX: <span class="hljs-number"><span class="hljs-number">0.005</span></span> }; SIZE = { MIN: <span class="hljs-number"><span class="hljs-number">0.5</span></span>, MAX: <span class="hljs-number"><span class="hljs-number">1.25</span></span> }; COLORS = [ <span class="hljs-string"><span class="hljs-string">'#69D2E7'</span></span>, <span class="hljs-string"><span class="hljs-string">'#1B676B'</span></span>, <span class="hljs-string"><span class="hljs-string">'#BEF202'</span></span>, <span class="hljs-string"><span class="hljs-string">'#EBE54D'</span></span>, <span class="hljs-string"><span class="hljs-string">'#00CDAC'</span></span>, <span class="hljs-string"><span class="hljs-string">'#1693A5'</span></span>, <span class="hljs-string"><span class="hljs-string">'#F9D423'</span></span>, <span class="hljs-string"><span class="hljs-string">'#FF4E50'</span></span>, <span class="hljs-string"><span class="hljs-string">'#E7204E'</span></span>, <span class="hljs-string"><span class="hljs-string">'#0CCABA'</span></span>, <span class="hljs-string"><span class="hljs-string">'#FF006F'</span></span> ]; function getAnimation(file) { AudioAnalyser = (function() {   AudioAnalyser.AudioContext = self.AudioContext || self.webkitAudioContext;   AudioAnalyser.enabled = AudioAnalyser.AudioContext != <span class="hljs-literal"><span class="hljs-literal">null</span></span>;   function AudioAnalyser(audio, numBands, smoothing) {     <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> src;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio = audio != <span class="hljs-literal"><span class="hljs-literal">null</span></span> ? audio : new Audio();     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.numBands = numBands != <span class="hljs-literal"><span class="hljs-literal">null</span></span> ? numBands : <span class="hljs-number"><span class="hljs-number">256</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothing = smoothing != <span class="hljs-literal"><span class="hljs-literal">null</span></span> ? smoothing : <span class="hljs-number"><span class="hljs-number">0.3</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio = document.getElementById(<span class="hljs-string"><span class="hljs-string">'audio'</span></span>);     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio) {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;     }     <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio.src = window.URL.createObjectURL(file);     } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (err) {       console.log(err);     }     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.context = new AudioAnalyser.AudioContext();     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.jsNode = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.context.createScriptProcessor(<span class="hljs-number"><span class="hljs-number">2048</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.analyser = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.context.createAnalyser();     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.analyser.smoothingTimeConstant = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothing;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.analyser.fftSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.numBands * <span class="hljs-number"><span class="hljs-number">2</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bands = new Uint8Array(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.analyser.frequencyBinCount);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio.addEventListener(       <span class="hljs-string"><span class="hljs-string">'play'</span></span>,       (function(_this) {         <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> function() {           <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TIMES_CALLED === <span class="hljs-number"><span class="hljs-number">1</span></span>) {             <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;           }           ANALYSER.start();           TIMES_CALLED++;           _this.source = _this.context.createMediaElementSource(_this.audio);           _this.source.connect(_this.analyser);           _this.analyser.connect(_this.jsNode);           _this.jsNode.connect(_this.context.destination);           _this.source.connect(_this.context.destination);           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (_this.jsNode.onaudioprocess = function() {             _this.analyser.getByteFrequencyData(_this.bands);             <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_this.audio.paused) {               <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> typeof _this.onUpdate === <span class="hljs-string"><span class="hljs-string">'function'</span></span>                 ? _this.onUpdate(_this.bands)                 : void <span class="hljs-number"><span class="hljs-number">0</span></span>;             }           });         };       })(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)     );   }   AudioAnalyser.prototype.start = function() {     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio.play();   };   AudioAnalyser.prototype.stop = function() {     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio.pause();   };   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> AudioAnalyser; })(); Particle = (function() {   function Particle(x1, y1) {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x = x1 != <span class="hljs-literal"><span class="hljs-literal">null</span></span> ? x1 : <span class="hljs-number"><span class="hljs-number">0</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y = y1 != <span class="hljs-literal"><span class="hljs-literal">null</span></span> ? y1 : <span class="hljs-number"><span class="hljs-number">0</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.reset();   }   Particle.prototype.reset = function() {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level = <span class="hljs-number"><span class="hljs-number">1</span></span> + floor(random(<span class="hljs-number"><span class="hljs-number">4</span></span>));     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scale = random(SCALE.MIN, SCALE.MAX);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.alpha = random(ALPHA.MIN, ALPHA.MAX);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.speed = random(SPEED.MIN, SPEED.MAX);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.color = random(COLORS);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.size = random(SIZE.MIN, SIZE.MAX);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spin = random(SPIN.MAX, SPIN.MAX);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.band = floor(random(NUM_BANDS));     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (random() &lt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>) {       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spin = -<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spin;     }     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedScale = <span class="hljs-number"><span class="hljs-number">0.0</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedAlpha = <span class="hljs-number"><span class="hljs-number">0.0</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayScale = <span class="hljs-number"><span class="hljs-number">0.0</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayAlpha = <span class="hljs-number"><span class="hljs-number">0.0</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rotation = random(TWO_PI);     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.energy = <span class="hljs-number"><span class="hljs-number">0.0</span></span>);   };   Particle.prototype.move = function() {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rotation += <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spin;     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y -= <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.speed * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level);   };   Particle.prototype.draw = function(ctx) {     <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> alpha, power, scale;     power = exp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.energy);     scale = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scale * power;     alpha = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.alpha * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.energy * <span class="hljs-number"><span class="hljs-number">1.5</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayScale = max(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayScale, scale);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayAlpha = max(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayAlpha, alpha);     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedScale += (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayScale - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedScale) * <span class="hljs-number"><span class="hljs-number">0.3</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedAlpha += (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayAlpha - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedAlpha) * <span class="hljs-number"><span class="hljs-number">0.3</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayScale *= <span class="hljs-number"><span class="hljs-number">0.985</span></span>;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.decayAlpha *= <span class="hljs-number"><span class="hljs-number">0.975</span></span>;     ctx.save();     ctx.beginPath();     ctx.translate(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x + cos(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rotation * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.speed) * <span class="hljs-number"><span class="hljs-number">250</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y);     ctx.rotate(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rotation);     ctx.scale(       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedScale * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level,       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedScale * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level     );     ctx.moveTo(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.size * <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);     ctx.lineTo(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.size * -<span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);     ctx.lineWidth = <span class="hljs-number"><span class="hljs-number">1</span></span>;     ctx.lineCap = <span class="hljs-string"><span class="hljs-string">'round'</span></span>;     ctx.globalAlpha = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.smoothedAlpha / <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level;     ctx.strokeStyle = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.color;     ctx.stroke();     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ctx.restore();   };   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Particle; })(); Sketch.create({   particles: [],   setup: function() {     <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> analyser, error, i, intro, j, particle, ref, warning, x, y;     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = j = <span class="hljs-number"><span class="hljs-number">0</span></span>, ref = NUM_PARTICLES - <span class="hljs-number"><span class="hljs-number">1</span></span>; j &lt;= ref; i = j += <span class="hljs-number"><span class="hljs-number">1</span></span>) {       x = random(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width);       y = random(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height * <span class="hljs-number"><span class="hljs-number">2</span></span>);       particle = new Particle(x, y);       particle.energy = random(particle.band / <span class="hljs-number"><span class="hljs-number">256</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.particles.push(particle);     }     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (AudioAnalyser.enabled) {       <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {         analyser = new AudioAnalyser(MP3_PATH, NUM_BANDS, SMOOTHING);         analyser.onUpdate = (function(_this) {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> function(bands) {             <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> k, len, ref1, results;             ref1 = _this.particles;             results = [];             <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (k = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = ref1.length; k &lt; len; k++) {               particle = ref1[k];               results.push((particle.energy = bands[particle.band] / <span class="hljs-number"><span class="hljs-number">256</span></span>));             }             <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> results;           };         })(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);         analyser.audio = window.audio;         ANALYSER = analyser;         intro = document.getElementById(<span class="hljs-string"><span class="hljs-string">'intro'</span></span>);         intro.style.display = <span class="hljs-string"><span class="hljs-string">'none'</span></span>;         <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (           /Safari/.test(navigator.userAgent) &amp;&amp;           !/Chrome/.test(navigator.userAgent)         ) {           warning = document.getElementById(<span class="hljs-string"><span class="hljs-string">'warning2'</span></span>);           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (warning.style.display = <span class="hljs-string"><span class="hljs-string">'block'</span></span>);         }       } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (_error) {         error = _error;       }     } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {       warning = document.getElementById(<span class="hljs-string"><span class="hljs-string">'warning1'</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (warning.style.display = <span class="hljs-string"><span class="hljs-string">'block'</span></span>);     }   },   draw: function() {     <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j, len, particle, ref, results;     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.globalCompositeOperation = <span class="hljs-string"><span class="hljs-string">'lighter'</span></span>;     ref = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.particles;     results = [];     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = ref.length; j &lt; len; j++) {       particle = ref[j];       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (particle.y &lt; -particle.size * particle.level * particle.scale * <span class="hljs-number"><span class="hljs-number">2</span></span>) {         particle.reset();         particle.x = random(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width);         particle.y =           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height + particle.size * particle.scale * particle.level;       }       particle.move();       results.push(particle.draw(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>));     }     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> results;   } }); } function handleFileSelect(evt) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> files = evt.target.files; getAnimation(files[<span class="hljs-number"><span class="hljs-number">0</span></span>]); } getAnimation(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); document .getElementById(<span class="hljs-string"><span class="hljs-string">'files'</span></span>) .addEventListener(<span class="hljs-string"><span class="hljs-string">'change'</span></span>, handleFileSelect, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Index.html file</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://fonts.googleapis.com/css?family=Open+Sans:400,800"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hook"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Play Music<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"files"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"files[]"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">multiple</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">crossorigin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://unpkg.com/react@15/dist/react.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">crossorigin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://unpkg.com/react-dom@15/dist/react-dom.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://npmcdn.com/babel-core@5.8.38/browser.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://soulwire.github.io/sketch.js/js/sketch.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/babel"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//     React. </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br>  To successfully complete this tutorial, you need a fresh version of <a href="https://www.google.com/intl/en/chrome/browser/desktop/index.html">the Google Chrome browser</a> , otherwise the animation will not work.  Thanks to <a href="https://twitter.com/stevenfabre">Stephen Fabre</a> for the CSS for the play button and <a href="https://codepen.io/soulwire/">Justin Vindle</a> for the render code (you can see the original <a href="https://codepen.io/soulwire/pen/Dscga">here</a> ). <br><br>  Open <code>index.html</code> in the code editor and in the browser.  It's time to get to know React. <br><br><h2>  <font color="#3AC1EF">What is React?</font> </h2><br>  React is a tool for creating user interfaces.  Its main task is to provide a display of what can be seen on web pages.  React makes it easy to create interfaces by splitting each page into small sections.  We call these fragments components. <br><br>  Here is an example of splitting the page into components: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/820/b7e/9a1/820b7e9a18ac8fc6ec5aa6ad9b89ff84.png"></div><br>  Each selected fragment of the page shown in the figure is considered a component.  But what does this mean for a developer? <br><br><h2>  <font color="#3AC1EF">What is the React component?</font> </h2><br>  The React component is, if in simple terms, a piece of code that represents part of a web page.  Each component is a JavaScript function that returns a piece of code representing a page fragment. <br><br>  To form a page, we call these functions in a specific order, collect the results of calls together and show them to the user. <br><br>  We write the component inside the <code>&lt;script&gt;</code> the <code>index.html</code> file with the <code>type</code> set to <code>"text/babel"</code> : <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/babel"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">OurFirstComponent</span></span></span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span></span><span class="actionscript">{   </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> (     </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//   ,       ); } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  When we call the <code>OurFirstComponent()</code> function, a page fragment is <code>OurFirstComponent()</code> . <br><br>  Functions can be written like this: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OurFirstComponent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   <span class="hljs-comment"><span class="hljs-comment">// ,     ,   ); }</span></span></code> </pre> <br>  React uses a programming language called JSX, which is similar to HTML, but works inside JavaScript, which distinguishes it from HTML. <br><br>  You can add plain HTML here so that it gets into the user interface: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/babel"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">OurFirstComponent</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{   </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> (     </span><span class="xml"><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml">Hello, I am a React Component!</span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="javascript">   ); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  When we call the <code>OurFirstComponent()</code> function, it returns a fragment of JSX code.  We can use the so-called <a href="https://www.npmjs.com/package/react-dom">ReactDOM</a> to output what this code represents to the page: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/babel"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">OurFirstComponent</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{   </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> (     </span><span class="xml"><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml">Hello, I am a React Component!</span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="javascript">   ); } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> placeWeWantToPutComponent = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.getElementById(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'hook'</span></span></span><span class="javascript">); ReactDOM.render(OurFirstComponent(), placeWeWantToPutComponent); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Now the <code>&lt;h1&gt;</code> will be inside the element with the <code>ID hook</code> .  When you refresh your browser page, it should look like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c05/c58/8e6/c05c588e6198989108217058f4c48cd3.png"></div><br>  You can also write your own component on JSX.  This is done like this: <br><br><pre> <code class="hljs xml">ReactDOM.render(<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OurFirstComponent</span></span></span><span class="hljs-tag"> /&gt;</span></span>, placeWeWantToPutComponent);</code> </pre> <br>  This is the standard approach - call components as if you are working with HTML. <br><br><h2>  <font color="#3AC1EF">Component assembly</font> </h2><br>  Components React can be placed in other components. <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/babel"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">OurFirstComponent</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{   </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> (     </span><span class="xml"><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml">I am the child!</span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="javascript">   ); } </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">Container</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{   </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> (     </span><span class="xml"><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml">       </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml">I am the parent!</span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml">       </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">OurFirstComponent</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span></span><span class="javascript"><span class="xml">     </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="javascript">   ); } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> placeWeWantToPutComponent = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.getElementById(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'hook'</span></span></span><span class="javascript">); ReactDOM.render(</span><span class="xml"><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Container</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span></span><span class="javascript"><span class="xml">, placeWeWantToPutComponent); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Here is what the above code displays: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0b/99e/c12/c0b99ec12676b92ca0e0f585f2d6a2f9.png"></div><br>  This is how pages are assembled from fragments written in React - putting components into each other. <br><br><h2>  <font color="#3AC1EF">Component classes</font> </h2><br>  So far, we have written components as functions.  They are called functional components.  However, components can be written differently, in the form of JavaScript classes.  They are called component classes. <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;h1&gt;<span class="hljs-type"><span class="hljs-type">I</span></span> am the parent!&lt;/h1&gt;       &lt;<span class="hljs-type"><span class="hljs-type">OurFirstComponent</span></span> /&gt;     &lt;/div&gt;   ); } } const placeWeWantToPutComponent = document.getElementById(<span class="hljs-symbol"><span class="hljs-symbol">'hoo</span></span>k'); <span class="hljs-type"><span class="hljs-type">ReactDOM</span></span>.render(&lt;<span class="hljs-type"><span class="hljs-type">Container</span></span> /&gt;, placeWeWantToPutComponent);</code> </pre> <br>  Component classes must contain a function called <code>render()</code> .  This function returns the JSX code of the component.  They can be used in the same way as functional components, for example, referring to them with the help of a construction: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AClassComponent</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  In the event that you are interested in stateless components, preference should be given to functional components, in particular, they are easier to read.  The status of the components will be discussed below. <br><br><h2>  <font color="#3AC1EF">Javascript jsx</font> </h2><br>  JavaScript variables can be placed in JSX code.  It looks like this: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() {   const greeting = <span class="hljs-symbol"><span class="hljs-symbol">'I</span></span> am a string!';   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;h1&gt;{ greeting }&lt;/h1&gt;       &lt;<span class="hljs-type"><span class="hljs-type">OurFirstComponent</span></span> /&gt;     &lt;/div&gt;   ); } }</code> </pre> <br>  Now the text <code>¬´I am a string¬ª</code> will be inside the <code>&lt;h1&gt;</code> . <br><br>  In addition, here you can do things more complicated, like function calls: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() {   const addNumbers = (num1, num2) =&gt; {     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num1 + num2;   };   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;h1&gt;<span class="hljs-type"><span class="hljs-type">The</span></span> sum is: { addNumbers(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) }&lt;/h1&gt;       &lt;<span class="hljs-type"><span class="hljs-type">OurFirstComponent</span></span> /&gt;     &lt;/div&gt;   ); } }</code> </pre> <br>  Here is how the page will look after processing the above code snippet: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d1/0de/e96/0d10dee96c930592af66fb463ed14f23.png"></div><br><h2>  <font color="#3AC1EF">JSX pitfalls</font> </h2><br>  Rename <code>OurFirstComponent()</code> to <code>PlayButton</code> .  We need this component to return the following: <br><br><pre> <code class="hljs cs">&lt;a href=<span class="hljs-string"><span class="hljs-string">"#"</span></span> title=<span class="hljs-string"><span class="hljs-string">"Play video"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"play"</span></span> /&gt;</code> </pre> <br>  However, here we encounter a problem: the <code>class</code> is a JavaScript keyword, so we cannot use it.  How do you assign a <code>play</code> class to the <code>&lt;a&gt;</code> element? <br><br>  In order to achieve this, you need to use the <code>className</code> property: <br><br><pre> <code class="hljs scala">&lt;script <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"text/babel"</span></span>&gt; function <span class="hljs-type"><span class="hljs-type">PlayButton</span></span>() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;a href=<span class="hljs-string"><span class="hljs-string">"#"</span></span> title=<span class="hljs-string"><span class="hljs-string">"Play video"</span></span> className=<span class="hljs-string"><span class="hljs-string">"play"</span></span> /&gt;; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{   render() {     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (       &lt;div&gt;         &lt;<span class="hljs-type"><span class="hljs-type">PlayButton</span></span> /&gt;       &lt;/div&gt;     );   } } const placeWeWantToPutComponent = document.getElementById(<span class="hljs-symbol"><span class="hljs-symbol">'hoo</span></span>k'); <span class="hljs-type"><span class="hljs-type">ReactDOM</span></span>.render(&lt;<span class="hljs-type"><span class="hljs-type">Container</span></span> /&gt;, placeWeWantToPutComponent); &lt;/script&gt;</code> </pre> <br><h2>  <font color="#3AC1EF">Features of the created component</font> </h2><br>  Class-based components can store information about the current situation.  This information is called a state, it is stored in a JS object.  The following code shows an object representing the state of our component.  Its key is <code>isMusicPlaying</code> , and the value <code>false</code> is associated with it.  This object is assigned to <code>this.state</code> in the <code>constructor</code> method, which is called when the class is first used. <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; } render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;<span class="hljs-type"><span class="hljs-type">PlayButton</span></span> /&gt;     &lt;/div&gt;   ); } }</code> </pre> <br>  The <code>constructor</code> method of the React component must always call <code>super(props)</code> before doing anything else. <br>  So, what should we do with this ‚Äústate‚Äù?  Why is it invented? <br><br><h2>  <font color="#3AC1EF">Change a React component based on its state</font> </h2><br>  State is a tool to update the user interface based on events.  Here we will use the state to change the appearance of the music playback button, based on a click on it.  The button can be displayed in one of two options.  The first indicates the possibility of starting playback, the second - that the music is playing, and this process can be suspended.  When a user clicks a button, the state changes and then the user interface is updated. <br><br>  This is where we begin.  Find out the state of a component using <code>this.state</code> construction.  In the following code, we check the status and use it to decide which text to show to the user. <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; } render() {   const status = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying ? <span class="hljs-symbol"><span class="hljs-symbol">'Playin</span></span>g' : <span class="hljs-symbol"><span class="hljs-symbol">'Not</span></span> playing';   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;h1&gt;{ status }&lt;/h1&gt;       &lt;<span class="hljs-type"><span class="hljs-type">PlayButton</span></span> /&gt;     &lt;/div&gt;   ); } }</code> </pre> <br>  In the <code>render</code> function, the keyword <code>this</code> always refers to the component inside which it is located. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35a/836/e7a/35a836e7aaa5ad0da9cf8f22eebc2ae9.png"></div><br>  All this is not particularly useful if we have no way to change <code>this.state.isMusicPlaying</code> . <br><br><h2>  <font color="#3AC1EF">How does the component respond to events?</font> </h2><br>  The user can interact with the component by clicking on the play music button.  We want to respond to these events.  This is done through a function that handles event handling.  These functions are called event handlers. <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; } handleClick(event) {   <span class="hljs-comment"><span class="hljs-comment">//     }; render() {   let status = this.state.isMusicPlaying   ? 'Playing :)'   : 'Not playing :(';   return (     &lt;div&gt;       &lt;h1 onClick={this.handleClick.bind(this)}&gt;{ status }&lt;/h1&gt;       &lt;PlayButton /&gt;     &lt;/div&gt;   ); } }</span></span></code> </pre> <br>  When the user clicks on the text represented by the <code>&lt;h1&gt;</code> , the component calls the <code>handleClick</code> function.  The function receives the event object as an argument, which means that it can, if necessary, use it. <br><br>  We use the <code>handleClick</code> function's <code>.bind</code> method to have the this keyword <code>handleClick</code> to the entire component, not just <code>&lt;h1&gt;</code> . <br><br><h2>  <font color="#3AC1EF">How the component should work</font> </h2><br>  When the state of the component changes, it will call the <code>render</code> function again.  We can change the state with <code>this.setState()</code> , if we pass this object an object representing the new state.  The component on the page will always represent its current state.  React independently provide this behavior to the components. <br><br><pre> <code class="hljs kotlin">handleClick() {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying) {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> });   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });   } };</code> </pre> <br>  Now, having dealt with this mechanism, let's do the processing of clicking on the button. <br><br><h2>  <font color="#3AC1EF">Data exchange between components</font> </h2><br>  Components can "communicate" with each other.  Let's see how it works.  We can tell the <code>PlayButton</code> music is playing or not using so-called properties (props).  Properties are information shared by the parent component and its descendant components. <br><br>  Properties in JSX look the same as HTML properties.  We assign a <code>PlayButton</code> property called <code>isMusicPlaying</code> , which is the same as <code>isMusicPlaying</code> in <code>this.state</code> . <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; } handleClick() {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying) {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> });   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });   } }; render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;<span class="hljs-type"><span class="hljs-type">PlayButton</span></span> isMusicPlaying={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying} /&gt;     &lt;/div&gt;   ); } }</code> </pre> <br>  When the state of the <code>Container</code> changes, the <code>PlayButton</code> property also changes, and the <code>PlayButton</code> function <code>PlayButton</code> called again.  This means that the appearance of the component on the screen will be updated. <br><br>  Inside the <code>PlayButton</code> we can react to changes, since the <code>PlayButton</code> takes properties as an argument: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlayButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> className = props.isMusicPlaying ? <span class="hljs-string"><span class="hljs-string">'play active'</span></span> : <span class="hljs-string"><span class="hljs-string">'play'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Play video"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{className}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; }</span></span></code> </pre> <br>  If we change the state to <code>this.state = { isMusicPlaying: true };</code>  and reload the page, the pause button should appear on it: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ce/e94/cad/7cee94cad0462e17a3dd394da47ce4f3.png"></div><br><h2>  <font color="#3AC1EF">Events as properties</font> </h2><br>  Properties do not have to be any data.  They can be functions. <br><br><pre> <code class="hljs scala">function <span class="hljs-type"><span class="hljs-type">PlayButton</span></span>(props) { const className = props.isMusicPlaying ? <span class="hljs-symbol"><span class="hljs-symbol">'play</span></span> active' : <span class="hljs-symbol"><span class="hljs-symbol">'pla</span></span>y'; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;a onClick={props.onClick} href=<span class="hljs-string"><span class="hljs-string">"#"</span></span> title=<span class="hljs-string"><span class="hljs-string">"Play video"</span></span> className={className} /&gt;; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; } handleClick() {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying) {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> });   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });   } }; render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;<span class="hljs-type"><span class="hljs-type">PlayButton</span></span>         onClick={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleClick.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)}         isMusicPlaying={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying}       /&gt;     &lt;/div&gt;   ); } }</code> </pre> <br>  Now, when we click on the <code>PlayButton</code> button, it changes the state of the <code>Container</code> , which will change the <code>props</code> <code>PlayButton</code> , which will lead to an update of the button on the page. <br><br><h2>  <font color="#3AC1EF">Unpleasant feature setState</font> </h2><br>  When you call <code>setState</code> the state change is not performed instantly.  React waits a bit to see if it is necessary to make some other changes, and only then makes a state change.  This means that you cannot know exactly what the state of the component will be after calling <code>setState</code> . <br><br>  Therefore, one should not do this: <br><br><pre> <code class="hljs kotlin">handleClick() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ isMusicPlaying: !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying }); };</code> </pre> <br>  If you change the state based on the previous state, you need to do it differently.  Namely, you should pass the <code>setState</code> function, not the object.  This function takes the old state as an argument and returns an object representing the new state. <br><br>  It looks like this: <br><br><pre> <code class="hljs kotlin">handleClick() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(prevState =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {     isMusicPlaying: !prevState.isMusicPlaying     }; }); };</code> </pre> <br>  This construction is more complicated, but it is necessary only if you use the old state to form a new state.  If not, you can simply pass the <code>setState</code> object. <br><br><h2>  <font color="#3AC1EF">What are links?</font> </h2><br>  It's time to turn on the music.  To begin, add the <code>&lt;audio&gt;</code> : <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Container</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { isMusicPlaying: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; } handleClick() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(prevState =&gt; {     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {       isMusicPlaying: !prevState.isMusicPlaying       };   }); }; render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;<span class="hljs-type"><span class="hljs-type">PlayButton</span></span>         onClick={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleClick.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)}         isMusicPlaying={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying}       /&gt;       &lt;audio id=<span class="hljs-string"><span class="hljs-string">"audio"</span></span> /&gt;     &lt;/div&gt;   ); } }</code> </pre> <br>  We need a way to access the <code>&lt;audio&gt;</code> and call either its <code>play()</code> method or <code>pause()</code> .  You can do this with the <code>document.getElementById('audio').play()</code> construct, but React offers something better. <br><br>  We assign an attribute to the element, called <code>ref</code> , which takes a function.  This function takes the <code>&lt;audio&gt;</code> element as the first argument, and assigns it to <code>this.audio</code> . <br><br> <code>&lt;audio id="audio" ref={(audioTag) =&gt; { this.audio = audioTag }} /&gt;</code> <br>  This function will be called every time the <code>Container</code> is displayed, that is, <code>this.audio</code> will always be up to date and will point to the <code>&lt;audio&gt;</code> . <br>  Now we can start and pause the music: <br><br><pre> <code class="hljs kotlin">handleClick() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.isMusicPlaying) {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio.pause(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.audio.play(); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(prevState =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {     isMusicPlaying: !prevState.isMusicPlaying     }; }); };</code> </pre> <br>  Upload the music file to the page (preferably in .mp3 format) using the <code>Choose files</code> button, click on the play button and listen to the music. <br><br><h2>  <font color="#3AC1EF">React outside index.html</font> </h2><br>  As you may have guessed, the React code should not "live" solely inside the <code>&lt;script&gt;</code> .  React supports many build configurations.  Fortunately, using tools like the <a href="https://github.com/facebookincubator/create-react-app">Create React App,</a> you can automate all the routine work of building an application framework.  Install <code>create-react-app</code> , create a new project, look at the manual and start working with JS-files in the <code>src</code> project folder, applying all the knowledge of React you received today. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  Congratulations!  You have taken the first steps in the development of React-applications, have mastered the basics that allow you to start creating your own projects and productively study further. <br><br>  Dear readers!  If today you had your first acquaintance with React, please share your impressions. </div><p>Source: <a href="https://habr.com/ru/post/343022/">https://habr.com/ru/post/343022/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343012/index.html">Scrum is not only in development - we use a flexible methodology in organizing an IT festival for children and parents</a></li>
<li><a href="../343014/index.html">Slight discrepancy</a></li>
<li><a href="../343016/index.html">Ray casting in the web world today</a></li>
<li><a href="../343018/index.html">13 conclusions that I made, after 4 years of using Ext JS</a></li>
<li><a href="../343020/index.html">Heisenbug 2017 Moscow Program Review: How many testers are needed to run tests at a nuclear power plant?</a></li>
<li><a href="../343024/index.html">Seminar "Clouds for Critical Systems", November 30, St. Petersburg</a></li>
<li><a href="../343026/index.html">Stanford Courses "iOS Application Development" 2017 - voice acting in Russian</a></li>
<li><a href="../343030/index.html">Future release of symfony 4.0 and a project using symfony flex</a></li>
<li><a href="../343032/index.html">First HighLoad Cup: how we survived</a></li>
<li><a href="../343034/index.html">BDSL-2017: Tanya Bibikova on data visualization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>