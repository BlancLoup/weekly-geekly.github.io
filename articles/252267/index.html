<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Game in 14 days [For those who have been building a team for years, but never made a prototype]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the Internet, there are often "teams" that have existed for years, the list of developers consists of a dozen people, and even "we need everything!...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Game in 14 days [For those who have been building a team for years, but never made a prototype]</h1><div class="post__text post__text-html js-mediator-article">  On the Internet, there are often "teams" that have existed for years, the list of developers consists of a dozen people, and even "we need everything!".  At the same time, there is no adequate demo even in the near future.  Looking at all this, I want to say: ‚ÄúWhat the hell are you doing ?!‚Äù.  But it is destructive.  It is not enough to criticize.  Need and positive examples to provide. <br><br>  These thoughts prompted me to an amusing experiment: in November, a game contest started <a href="http://www.gamedev.ru/projects/forum/%3Fid%3D195172">for gamedev.ru</a> .  The competition involved the development within two months.  However, it seemed to me that this is a bit too much.  So I signed up for the participants ... And I forgot about the competition for a month and a half. <br><br>  The main idea of ‚Äã‚Äãthe experiment is to make a full-fledged project in two weeks.  The deadline for the competition is a good deadline.  In addition, the last week of the competition coincided with the end of the New Year holidays, which made it possible not to be distracted by other tasks.  So: competition, project from scratch, two weeks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/8c3/969/bfb/8c3969bfbe8a20c319cfde38077460a4.jpg" alt="image"><br><a name="habracut"></a><br>  If you do not want to spend time on the whole article - you can squander down.  There is a review of competitive projects and a brief conclusion from the whole experiment. <br><br>  We have two weeks.  The main question is what to do.  To be honest, I initially thought that the competition was going on until January 7 and planned to spend only one week on it. <br><br>  One week is not very much, in connection with which the launcher genre was chosen. <br><br>  A launcher is a game, all of which takes place on one level only.  In fact, the passage is reduced to a series of attempts to fly further / higher.  Each attempt (except the last one) is doomed to failure, but it gives points that can be spent on pumping a character so that he can fly better.  The game ends at that moment when the character is pumped enough to reach the end of the level. <br><br>  An excellent representative of this genre is the game <a href="http://www.kongregate.com/games/juicybeast/burrito-bison">Butibo Bison</a> . <br><br>  I planned to repeat the gameplay of this particular game.  However, when I decided to clarify the details of the competition, it turned out that the final was not 7, but 12. 12 days!  With this you can already work!  We will do 3D Action! <br><br>  We take several of my favorite games as a basis: Wangers, Mechanoids, Ex Machine, Renegade Ops.  I want to make an RPG, but in such a short time to work out pumping will not work.  Therefore, the goal: as a basis we take the gameplay RenegadeOps / Wangers, a set of quests - by analogy with Ex Machine / Mechanoids.  Well, so as not to waste time thinking about the universe, let the game be in the Mechanoids universe.  Especially since my actual place of residence is 7 km from the former office of <a href="https://ru.wikipedia.org/wiki/SkyRiver_Studios">SKYRIVER studios</a> has such borrowings. <br><br>  <b>The first day</b> <br>  What we have?  The framework, which released several 2D games.  Of the 3D capabilities, only loading a mesh from a file.  There is also a landscape editor.  Use it to create a game landscape.  Task for the first day: <br><ul><li>  Create a test landscape and display it in the game. </li></ul><br>  For this we need a 3D camera.  It should be able to establish the species matrix and the projection matrix.  The camera class did not even have to write, over the years of development I have already done it.  Just drag the camera into the framework. <br><br>  The next subtask is to transfer the shaders from the editor to the game.  Shaders are in the clear, all you need to do is remove the editor's tools from them: highlighting the edge of the tiles, dynamic calculation of the normals and other trifles. <br>  The main subtask, which took most of the day, is the implementation of the class responsible for loading the file containing the landscape and transferring the geometry to the render.  The task is not too difficult, but it took half a day. <br><br>  The result of the work: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/WsZHYCTkMMM%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhipGGzqpCZxZg9Jjj73Yz4VsumV7Q" frameborder="0" allowfullscreen=""></iframe><br><br>  And what do we see as a result?  The landscape is terribly noisy.  The reason is very simple - when converting textures, I forgot to register the generation of MipMaps.  But already 11 o'clock in the evening ... A small task, but I really want to sleep. <br><br>  <b>Second day</b> <br>  For today two tasks are planned: <br><ul><li>  Shadow cards. </li><li>  Rendering models (without models, do not really test the operation of shadows). </li></ul><br>  First of all, I include MipMaps, which I did not include yesterday, and it turns out that something in the code generates an OpenGL error.  There are not so many checks in the code and the error gets out when loading shaders.  I sin on crookedly transferred shaders from the editor ... I spent an hour to understand that the error was not in the shaders ... It turns out that I had incorrectly specified the texture settings and the value of GL_LINEAR_MIPMAP_LINEAR was gone in MAG_FILTER, which should not be there.  I am fixing on GL_LINEAR and everything starts up without problems.  Meanwhile, it took two hours ... This is very much, considering that there are only 12 days. <br><br>  Now let's do the models.  In general, I already have a loader of simple models.  But it is not enough just to be able to draw a model on the screen.  It is necessary that the game draw only those models that are now in the frustum of the camera.  The easiest way to organize this in our case is to split the entire game space into squares, where the square is approximately equal to the area visible on the screen. <br><br>  The landscape is already divided into approximately such squares, so we create an object manager, which splits the game space into squares in accordance with the landscape settings and, when drawing, processes only those objects that are no more than one square away from the camera.  That is, a 3x3 square zone is drawn, where the central square is the square in which the camera is located.  Plus, the object manager must track the movement of objects and in case the object has moved beyond the limits of its square, move it to the current square.  The task of writing such a manager took about 5 hours. <br><br>  The next task is to implement a shadow map.  But for shadow maps you need Render To Texture support in the framework, which I didn‚Äôt have, because previously implemented projects did not require post effects, and RTT in 2D, except for post effects, is not used anywhere. <br><br>  Another hour we spend on the implementation of the wrapper over the FBO.  Nothing too complicated. <br><br>  We start the last task of the second day - Shadow Maps.  All anything, but I am an adherent of Stencil Shadows ... With all my strength I have always avoided touching Shadow Maps.  Well, they did not like me.  But time goes on ... in modern realities there is no single reason to use stencil shadows.  Their performance drops too much with increasing complexity of the geometry and screen resolutions.  So there is no alternative - you have to take up the implementation of shadow maps.  Of course, I am very familiar with the theory of the work of shadow maps, although I have never implemented them.  Therefore, I do not expect any particular difficulties.  I took the manual long overdue for a rainy day and implemented shadow rendering on it. <br><br>  By the way, I used <a href="http://www.opengl-tutorial.org/intermediate-tutorials/tutorial-16-shadow-mapping">this manual</a> .  I recommend to everyone.  Competently and on business everything is painted, including the main problems getting out at realization of maps of shadows. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/uBC5NkrPRz0%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhhk7XgUagoCKKtFOexMJK-qtOUP-Q" frameborder="0" allowfullscreen=""></iframe><br><br>  With mipmaps, the landscape began to look better, and the shadows look good. <br><br>  <b>Third day</b> <br>  We continue to fasten the functionality we need.  For today two tasks are planned. <br><ul><li>  Integration of the Lua scripting language using the LuaJIT project.  Just recently, an updated version of the JIT compiler for this language was released, and our experiment is a great opportunity to try out a new compiler. </li><li>  Integration of a particle system.  I planned to use <a href="http://www.astralax.ru/titles">Magic Particles from Astralax.</a> </li></ul><br><br>  Let's start with LuaJIT.  We download source codes and easily collect dll under Windows.  We write a small wrapper class (I don't like luabind and analogs, I prefer to work with lua through a minimum of layers).  And, in fact, everything. <br><br>  I tried to build under Android ... and for an hour I could not do it.  I decided not to spend further on this time, because for the competition it is not critical, and in the future it will be possible to be confused separately. <br><br>  The second part of the plan for today is the integration of a particle system.  I worked with Astralax Magic Particles system of particles a lot and productively, because it is really difficult to find something more powerful and simple in this area.  Plus a very adequate developer, which is important when developing projects. <br><br>  However, I was stopped by one not important for the competition, but an important moment for the framework.  The fact is that the framework is created, in particular, for projects under Windows CE.  And, unfortunately, this is almost the only common OS that is not supported by MP.  This is understandable, the game market on WinCE is missing as a class.  But for me it is important, so I decided not to use MP yet ... <br><br>  From frustration and procrastination, I went to play Burito Bison and spent an hour and a half on it. <br><br>  However, the day is far from over.  Hardly over for lunch.  I decided to make the start menu.  He made a simple landscape, put a couple of buildings and two helicopters on it.  And got a bug with shadow maps.  It can be clearly seen on the KDPV on the corner wall to the left under the Exit button.  However, I decided not to correct this bug - the view in the game is not the same, and these bugs are practically invisible on it.  And editing the aliasing of shadows promises to kill several precious hours. <br><br>  Made the menu, interestingly driving up / down.  It turned out fun.  I added the ‚ÄúSetup‚Äù and ‚ÄúContinue‚Äù buttons, although I understand perfectly well that I most likely will not be able to implement their functionality in the framework of the competition - I don‚Äôt have enough time. <br><br>  It may feel like I wasted my time on unnecessary garbage - animating menus.  But it didn‚Äôt take too long, as the framework can do animations for the UI.  It took only ten minutes to indicate what and when to animate.  But with the animation menu has become much more interesting. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/6ucqYjYRS1Y%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhi9D9cdhihfImcF_E7wt3H3JwgNKQ" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Day four</b> <br>  Plan for today: <br><ul><li>  Player Control Helicopter </li><li>  Weapons: laser, machine gun, missiles </li></ul><br><br>  Only at 16 o'clock in the afternoon I was engaged in tasks directly from the plan.  Before that, I solved any tasks that have no direct relation to the plan, but the implementation of the plan could not be started until they were completed.  One of these tasks is a spawn unit.  For example, a player‚Äôs helicopter ... Spawn requires working scripts, working scripts require loading the level and prescribing the corresponding functions through which units can be controlled ... <br><br>  Further more.  I made control of the helicopter and it turned out that when I clicked on the button and moved the mouse, Qt began to slow down like hell. <br><br>  I, like any intelligent programmer, sinned on myself ... I rewrote the internal message processing system.  Made a check for duplicate messages ... And it did not help. <br><br>  Well, I abandoned the usual message system and read the state of the keyboard and mouse ... And it did not help. <br><br>  I completely disabled the input system in my engine ... And still got the friezes.  Made a WH_GETMESSAGE hook on all messages related to input, with interception and cancellation of all messages ... This did not help.  Nothing left but to explore the system outside of my development environment. <br><br>  The solution turned out to be simple ... I spent three hours correcting a bug that I don‚Äôt have ... It slowed down <a href="http://sourceforge.net/projects/synergy2/">Synergy</a> if I clamped several buttons at the same time.  I removed Synergy and everything became smooth and neat. <br><br>  As a result, did not have time to make the helicopter tilt in the direction of the flight.  It seems to be a trifle, but important because ... But still not so important as to waste time on it now.  Moreover, it is already 11 pm on 4 January ... 4 days have passed, and I just started the helicopter to fly.  So shooting, shooting and shooting again. <br><br>  At two in the morning I recorded a video.  Rocket did not have time.  But decided that now they are not as important as a dream. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/s7dnYJHy3G0%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhhSPmUTqE09KKn6XxRePXZM-tO5gw" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Fifth day</b> <br>  The task for today is to make a game location. <br>  I have ten buildings that were bought on <a href="http://3drt.com/store/buy-lowpoly-3d-models/sci-fi-buildings-pack.html">3drt.com</a> for another project.  First, I roughly painted the plot of the game, then made a list of buildings and figured out which building could play a role in the game.  What looks like a mine, what looks like a main base, etc. <br>  In the landscape editor roughly sketched the playing area: <br><br><img src="https://habrastorage.org/files/6a2/baa/792/6a2baa79273848bb971d88d801062344.png"><br><br>  At each point made a signature, consisting of the name and serial number of the model used. <br><br>  After that, he drew the boundaries of the playing area with the help of the mountains and drew a pair of impassable mountains in the middle of the map so that the player could not fly directly. <br><br>  The next stage is the imposition of heterogeneity of the landscape and the laying of roads.  Since  Very little time - allocated for all three hours.  This time was only enough to create a minimally playable landscape.  For some artistic delights there is no time left. <br><br>  The next task is the placement of objects and the task of cross-country areas.  I do not have a suitable 3D editor for the framework, because  The framework has always been 2D and all projects on it were 2D.  Fortunately, I have an editor, created much earlier for 3D projects.  It is quite complex and has a complex save format.  Yes, and he wrote for a completely different engine, so use it directly will not work.  However, today it does not matter.  Create a location in this editor. <br>  In the editor, I arranged the objects and drew zones: <br><ul><li>  Roads </li><li>  Passable off-road areas </li><li>  Flight Zones </li><li>  Safe zones (located near buildings, within such zones you cannot shoot). </li></ul><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/WdQfgj10Zn8%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhg0g-M3IxSNMRbTPwkJg-NOXUYbAQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Moments on the video, when the whole landscape is painted in red and green - this is, in fact, editing zones. <br><br>  <b>Sixth day</b> <br>  Plan: <br><ul><li>  Loading the location created in the editor </li><li>  The functioning of all buildings (the functioning of the turrets and the definition of "entry" into the building) </li></ul><br><br>  We have a location in the editor, which is not designed to work with our game engine. <br>  I decided not to bother with loading its complex format in the game and did a simple thing: I added to the editor the ability to save the scene as a text file. <br>  Then I saved the location in a text file.  It turned out something like: <br><br><div class="spoiler">  <b class="spoiler_title">An example of the contents of a text file with a level</b> <div class="spoiler_text">  FILENAME <br>  TLevelStaticObject.Model.FileName <br>  \\ buildings \ bld10.sxm <br>  STRING <br>  TLevelBaseObject.Name <br>  CLIMAT_1 <br>  Float <br>  TLevelBaseObject.Position.x <br>  2248.16 <br>  Float <br>  TLevelBaseObject.Position.y <br>  2874.08 <br>  Float <br>  TLevelBaseObject.Position.z <br>  -0.355 <br>  Float <br>  TLevelBaseObject.Rotation.angle <br>  0 <br>  Float <br>  TLevelBaseObject.Quaternion.x <br>  0 <br>  Float <br>  TLevelBaseObject.Quaternion.y <br>  0 <br>  Float <br>  TLevelBaseObject.Quaternion.z <br>  -0.732 <br>  Float <br>  TLevelBaseObject.Quaternion.w <br>  -0.68 <br>  Bool <br>  TLevelBaseObject.ShadowCaster <br>  false </div></div><br>  Next, we write a simple utility, which from a complex text file with a bunch of objects and properties tears out only those that are needed directly in the game and saves it in a digestible format. <br><br>  Next we need to load the zones and objects.  Scenery objects are simply added to the object manager written earlier, and the game forgets about them, and the rest of the objects are created in the usual way. <br><br>  In general, the envelope and loading location took a fairly small part of the day.  Most of the time it took to implement the functionality of the turret.  They work simply: if a player has shot in a safe zone, then a timer is activated for 15 seconds, during which all the turrets, within the radius of damage of which the player is, open fire on him. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/wA_yKDy7ek0%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhh4ujsC3LCMl6t-LC9bYuVXTGcaaQ" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Seventh day</b> <br><ul><li>  It's time to implement artificial intelligence. </li></ul><br>  I already have an artificial intelligence that can perform various functions. <br>  It was done several years ago, when there was an idea to implement an AI contest.  The 2D model of the world of mechanoids with their rules was actually implemented.  Traders received points for the delivery of goods, guards for escorting traders, hunters for bringing heads, marauders for stolen (not purchased) and sold goods. <br>  How this AI worked you can see here: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/xw7PPGnSfW4%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhiBRjevg7lIkrvtBY4C6MbeupwYZA" frameborder="0" allowfullscreen=""></iframe><br><br>  Circles are live units. <br>  Red letters are dead units. <br>  Black crosses are a load. <br>  Two teams - green and red.  They are actively trying to depict the living world. <br><br>  AI in the forehead can not be transferred.  The fact is that in the world of mechanoids, a unit is something hovering and shooting in front of it.  That is, there is no problem with the turning radius, it is possible to move sideways.  In this project, the situation is different: a unit is a land vehicle with wheels and all the attendant problems. <br><br>  All day was spent on making AI. <br><br>  There is no video for this day.  Due to the fact that by the end of the day there was still nothing to show.  The result of the work on the seventh day was the ability to create units using text files (an editor for these cases was already created out of the competition). <br><br>  The configuration of an ordinary unit looks like this: <br><br><div class="spoiler">  <b class="spoiler_title">Config describing a unit</b> <div class="spoiler_text">  FILENAME <br>  VERSION <br>  one <br>  TYPE <br>  CAR <br>  NAME <br>  GUN_JEEP <br>  SCALE <br>  1.0 <br>  BODY <br>  vehicles / jeep_1 / body.sxm <br>  WHEELS_COUNT <br>  four <br>  MODEL <br>  vehicles / wheels / wheel3_left.sxm <br>  Position <br>  3.581 <br>  -4.362 <br>  2.024 <br>  MODEL <br>  vehicles / wheels / wheel3_right.sxm <br>  Position <br>  -3.537 <br>  -4.362 <br>  2.024 <br>  MODEL <br>  vehicles / wheels / wheel3_left.sxm <br>  Position <br>  3.581 <br>  3.387 <br>  2.024 <br>  MODEL <br>  vehicles / wheels / wheel3_right.sxm <br>  Position <br>  -3.537 <br>  3.387 <br>  2.024 <br>  SPEED <br>  50 <br>  ROTATION_PER_METER <br>  one <br>  STORAGE_SIZE <br>  2 <br>  HEALTH <br>  4,000 <br>  SHIELD <br>  4,000 <br>  SHIELD_REGENERATION <br>  50 <br>  WEAPONS_COUNT <br>  one <br>  TYPE <br>  GUN_TURRET_1 <br>  Position <br>  0.013 <br>  3.251 <br>  6.755 <br></div></div><br>  During the day, the game learned to parse it all and load the data.  Configs of this kind, in fact, not one, but two.  The second - to describe the turrets that are placed on the unit.  In this case, put the turret GUN_TURRET_1. <br>  As you can understand, this is January 7th, Christmas.  And the family tradition is to get together with all the relatives in the parent's house ... Therefore, so little has been done - I spent most of the day with my family. <br><br>  <b>Eighth day</b> <br><ul><li>  We continue to cut AI. </li></ul><br>  Units have learned to ride and attack.  Also pursuing the enemy in sight.  The main part of the work was devoted to movement. <br><br>  Shock absorbers did not screw.  The hour of the night ... Due to the backlog of deadlines on the seventh of January, he categorically got out of the plan.  So detour of the obstacles - into the firebox ... To the same firebox and physical interaction between the units ... And the suspension of the technology is also there ... Especially sad is the last.  Without calculating the suspension units rigidly repeat the landscape and it looks like it is not ice.  But they perform their functionality, so leave it like this. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Fx8GqGO22kI%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhg7DvXEvwXu1Q7XYEadvhIsbkgKJg" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Day nine</b> <br>  The game planned four types of AI: <br>  Merchants - buy goods and sell in another building. <br>  Guards - follow the traders and attack the enemy, if they see. <br>  Hunters - plying the map and attacking opponents, periodically taking the heads of dead enemies and friends to the base. <br>  Looters - plying on the map and attacking primarily merchants, periodically taking the selected goods to the base. <br>  Made three types of AI.  Marauders did not, because there are no goods.  Rather, there are goods.  Merchants buy them and sell.  But I decided not to dump the cargo onto the location in case of the death of the unit.  Accordingly, marauders who were supposed to collect cargoes near corpses do not make sense.  As a result, made AI dealers, guards and hunters.  Fixed a couple of bugs.  Made the attitude of the clans to the player changing - depending on the actions of the player. <br><br>  Made by HUD.  An inventory has been made in which dead units can be picked up and from which they can be thrown out if necessary. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/MTGkcoS4xKM%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhhexKAsZzh1MWHHVS3dm_SFymOkvA" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Tenth day</b> <br>  The final is coming. <br><br>  There is an understanding that you need to finalize the picture.  As can be seen from the result of the previous day, the battles look normal ... until somebody dies.  Units just disappear, which looks bad.  There are two options.  Or make the disintegration of units into separate parts.  This task is rather complicated, and not so much from the point of view of programming, but rather from the point of view of the routine work of cutting units into pieces and exporting them into a digestible format.  A separate moment - I really do not want to spend time adding animations to the engine.  The second option is a particle system.  But Magic Particles can not wince.  Integrate it for use on other platforms?  But I really want to avoid solutions in a cross-platform framework that cannot work everywhere ... <br><br>  As a result, I settled on the following solution: use Magic Particles, but at the same time completely abandon its native API. <br><br>  In practice, this was implemented as follows: a converter was implemented that lost the effects created in MP and each frame saved the state of all visible particles to a file.  The output was a file describing the state of the effect at each moment in time, but not attached to the Magic Particles API.  A file that I can play on my own on any platform. <br><br>  This option does not even closely cover the whole range of MP capabilities, but it does quite well with explosions and other simple and non-looped effects.  And this is what I need. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/NxqsFSGxwtE%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhhbd9E6IXlUcBh8R3HRrF_sXJdvhQ" frameborder="0" allowfullscreen=""></iframe><br><br>  The explosion somehow turned whitish, but I decided not to waste time on the proceedings.  Looks at C grade, but time is very little.  In fact - one and a half days: the eleventh day and the night of the twelfth (the contest ends on the 12th at 9 am). <br><br>  <b>Eleventh day</b> <br>  All the remaining time decided to spend on quests.  Of course, there is already some kind of gameplay in the game.  But the quests will give meaning and, perhaps, will delay the player a little longer. <br>  There is nothing special to paint here. <br>  Quests are completely hardcoded in scripts.  No tools for editing links.  No tools to configure the script without coding ... Simple and uncomplicated code. <br>  I made a dialogue window for communicating with the NPC (we have their role played by the building).  The principle of operation of such a window is almost identical to the quest dialog box in Space Rangers.  I think it‚Äôs quite realistic to write a simple converter that will make text quests from Space Rangers suitable for launching in this game. <br>  I decided not to make a mini-card, because  then the limitations of the world immediately become apparent.  But you want to create the impression that the world is alive and big.  But just to leave the player can not wander.  Of course, there are players who will be interested.  But most of them get lost at the first crossroads and send the project away. <br>  Therefore, a half-hearted decision was made to implement a compass without a map.  The compass indicates the direction to the selected target, and on the starting base, you can separately add a label to any building. <br><br>  The video shows the process of performing one of the tasks entirely.  The speed of the helicopter is increased so as not to delay the video. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/P5zhQ-bI_GI%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhha2pzU12f3EJzj8sU06RKruk4NtA" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Surprise!</b> <br>  Completed quests.  It is possible to complete the game completely.  Late night of the eleventh day.  I used the topic of the competition to once again clarify the terms and determine the plan for the night ... And it turned out that a couple of days ago, the majority of participants voted to extend the competition for another two weeks! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f5a/89a/fc5/f5a89afc5961467dca8c2263a7c83ae7.jpg" alt="image"><br><br>  It goes against my plans.  Yes, and violates the idea to make a project in a short time. <br><br>  As a result, I come to the following decision: I sleep well at night, and on the twelfth day I do what I planned to do at night.  And I add two more days (up to full two weeks) to ‚Äúcomb‚Äù the project. <br><br>  <b>Twelfth day</b> <br>  Polished and rescheduled all quests.  Made a respawn player effect.  At the point where the player was at the time of death, the effect of teleportation is created, the effect is also created at the respawn point.  Slightly improved the search for the path, so that the units rarely stumble upon obstacles.  But they still stumble with some probability. <br><br>  Added a few more types of units.  Rather than the types - units actually remained the same.  But before all the roles (hunter, marauder) for all clans were performed by units that looked the same.  And I made sure that each unit of each clan looked unique. <br><br>  Slightly corrected the work of AI: before, hunters almost never brought units to respawn.  Just did not reach. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/DQKgmGNrhlk%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhgKJXgrW2K06LLy9_P5cEZLGMvfRg" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Last two days</b> <br>  There is no work plan.  I do everything that comes into my head.  All that catches the eye.  Anything I want to fix.  Video of the result of the work these days is not, because  There are many changes and they are mostly small.  It would take 10-15 minutes to shoot to show them all on video.  And everything that happened in the end and so it is visible in the competition project. <br><br>  Here is a sample list of what was done (minor fixes are not included): <br>  Support for the gamepad is included - in general, the interface framework is able to play a gamepad out of the box, you do not need to invent anything.  Just added control directly to the helicopter. <br>  Fixed a bug with incorrect calculation of the inclination of units in relation to the surface - sometimes a moment when transports with a strange nose are buried in the ground on the video.  This is due to the incorrect use of a quaternion describing the inclination of the surface under the wheels of the unit. <br>  Made a simple calculation of the movement of units, so that they do not enter each other - added simple collisions between units. <br>  Fixed a crash bug when working with a dialog box: re-creating window elements in the handler of these same elements is a bad idea. <br>  Added clan labels over clan units. <br>  Shadows from the clouds - it seems to be a trifle, and the flat world ceases to be so. <br>  The spread of the load - the load now does not just appear on the ground near the place where it was thrown away, but beautifully scatters from the point of discharge. <br>  The effect of teleportation of goods - when picking up cargo, it disappears not instantly, but smoothly, with a corresponding effect. <br>  Testing and fixing bugs. <br><br>  The result of the work can be viewed at the link in the project theme: <a href="http://www.gamedev.ru/projects/forum/%3Fid%3D197648">SkyRanger</a> . <br><br>  Reviews on all competition projects: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/0nu2QxXAYjo%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700253&amp;usg=ALkJrhhd1P_MOID-iP9vqijlik2lpmkzJA" frameborder="0" allowfullscreen=""></iframe><br><br>  Link directly to the project about the development of which you are reading (if you do not want to watch the full review): <br>  <a href="http://www.youtube.com/watch%3Fv%3D0nu2QxXAYjo%26t%3D708">www.youtube.com/watch?v=0nu2QxXAYjo&amp;t=708</a> <br><br>  <b>Outcome</b> : <br>  This game was made 14 days from scratch on the framework, which did not know how 3D at the time of launch. <br>  Frankly speaking, half the time was spent not on the game, but on completing the missing functionality in the framework itself. <br><br>      -    (,  <a href="http://geektimes.ru/post/246624/">UE4,      </a> ),         7    .      .      <b></b>       . <br><br>  <b>Conclusions</b> : <br>     ,           -----,           ‚Äî   ,   ,        200$  ,   ,   . <br><br> PS        .      ‚Äî      - .    UE4       UE4      ,     .   ,     ,     UE4        . <br><br>  <s>UPD:</s> <s><br>         .          ,    .      .     .</s> <br>   . <br><br> UPD2: <br> ,        ¬´,       !       , ???¬ª. <br>   ,    . <br>  ,  ¬´20%   80% ¬ª   . <br>       ,        . <br>         .       . <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The first days of development are explosive: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here we have nothing. A day later we have a landscape. The difference between ‚Äúnothing‚Äù and ‚Äúlandscape on the screen‚Äù is huge. But after all, half a day of work! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now add trees here. No seriously. The most common trees. Well, the wood is small. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"That is, as? Make the landscape - 5 hours of work, and the forest on the landscape - a month ???? ¬ª.</font></font> That's how.        ,    (     .     .  ,   ‚Äî    )     ( deffered shading      ,       ).      ,         ,    . <br><br>      ‚Äî  ,    .       . <br>    ,         ,     . </div><p>Source: <a href="https://habr.com/ru/post/252267/">https://habr.com/ru/post/252267/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252255/index.html">Apple's environmental care, IMGA international award, Google Play success - and other news of the week for a mobile developer</a></li>
<li><a href="../252259/index.html">Who earned the most money in the mobile market in 2014</a></li>
<li><a href="../252261/index.html">FPGA - my first steps</a></li>
<li><a href="../252263/index.html">Distributed Captive Portal in public places and Apple issues</a></li>
<li><a href="../252265/index.html">Search for texts that do not match the topic and find similar articles</a></li>
<li><a href="../252269/index.html">TeleGeography World Wide Web Map. 2015 version</a></li>
<li><a href="../252271/index.html">Mobile application for the governor and sales agent</a></li>
<li><a href="../252273/index.html">Mobile Development Conference 2015: Announcement of Reports</a></li>
<li><a href="../252275/index.html">Hotpatch. Windows kernel memory patch</a></li>
<li><a href="../252277/index.html">Browser development - a year of life and three years of torment</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>