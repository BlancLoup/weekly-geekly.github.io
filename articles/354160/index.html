<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Whose weather forecast is more accurate?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many people think from time to time - how accurate are the weather forecasts? Whose weather forecast is more accurate? In which direction are most oft...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Whose weather forecast is more accurate?</h1><div class="post__text post__text-html js-mediator-article">  Many people think from time to time - how accurate are the weather forecasts?  Whose weather forecast is more accurate?  In which direction are most often wrong predictions for my city? <br><br>  Mathematics Adventure Time! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/_q/yu/aj_qyuttra40v9-lznk49f5owlm.jpeg"></div><a name="habracut"></a><br>  The last few years, Yandex has been actively developing its weather service.  A couple of years ago, <a href="https://habrahabr.ru/company/yandex/blog/271725/">Metium</a> technology and <a href="https://habrahabr.ru/company/yandex/blog/317626/">precipitation forecast</a> were presented to the nearest minute. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the discussion of these publications stand out comments <a href="https://habrahabr.ru/users/fantast8/" class="user_link">fantast8</a> .  The amateur meteorologist, in a rather aggressive form, pounced on criticizing Yandex technologies and, if not paying attention to the communication style, the gist of the complaints was reduced to the lack of texture and secrecy of statistics. <br><br>  And then I wondered: does anyone even consider the accuracy of forecasts? <br><br><h3>  Fire kingdom </h3><br>  A quick googling project was issued by <a href="https://www.forecastadvisor.com/docs/about/">ForecastAdvisor</a> , however, forecasts were evaluated there exclusively for US cities, and, of course, there were no Russian-speaking providers (Yandex, Hydromet, etc.). <br><br>  The project MyCli.me, now closed, existed in runet for a while.  However, he had persistent problems with data collection and the rating system (choosing the best forecast) was not based on the scientific method. <br><br>  In addition, I found many undertakings, for example, from <a href="https://geektimes.ru/post/112958/">OLS</a> and <a href="https://geektimes.ru/post/283950/">lucius</a> , but all of them were limited either by time, or by city, or by provider.  For example, one of the most amazing projects from <a href="https://weather.slimyhorror.com/">slimyhorror</a> analyzes the <a href="https://weather.slimyhorror.com/">predictability of</a> forecasts for more than 5000 days in a row!  But only forecasts from the BBC and only for cities in the UK are evaluated. <br><br>  Thus, it was decided to make your project.  Things are easy - to collect forecasts, to collect the actual weather and to evaluate the sales on the basis of a scientifically based formula.  Let's start with it. <br><br><h3>  Banana guard </h3><br>  In 2009, the Hydrometeorological Center of Russia issued "Instructions for short-term forecasts."  According to this guide, the forecast is considered fulfilled if it differs from the actual observed temperature by no more than 3 ¬∞ C in any direction.  If the forecast differs from the actual weather by more than 3 ¬∞, then this forecast is considered unfulfilled (instruction point 7.3.1.4). <br><br><div class="spoiler">  <b class="spoiler_title">Read more about the gradation.</b> <div class="spoiler_text">  Theoretically, the provider could predict the weather from -60 to +60 every day and thus get one hundred percent sales.  However, the correct gradation of the forecast is considered to be a deviation of no more than 1 degree, for example, ‚ÄúDaytime temperature from 2 ¬∞ to 4 ¬∞‚Äù.  Thus, a deviation of 2 degrees from the interval or 3 degrees from the value is allowed. </div></div><br>  Weather forecasts should be assessed separately for day and night (7.2.3).  The justification of the daily forecast is determined as the average of the values ‚Äã‚Äãof the prediction of the night and the day.  The assessment of the success of weather forecasts for a calendar period (month, season, year, etc.) consists in calculating their average accuracy for the corresponding period (9.1.1). <br><br>  Okay, it‚Äôs not difficult - we take the forecast for tomorrow (for the day after tomorrow, etc.), collect data on the actual weather, compare it separately for day and night.  If a <br><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(predict - actual) &gt; <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  then the forecast did not come true (Pt = 0%), if &lt;= 3 then Pt = 100%.  We consider the average accuracy for the corresponding period and obtain the necessary data. <br><br><h3>  Dark cloud </h3><br>  From parsing sites with the weather immediately refused, because  HTML parsing is not stable and this would inevitably increase the number of errors in the final statistics.  Fortunately, many providers provide an API to access their predictions.  In the first stage, I added forecasts from accuweather.com, darksky.net, openweathermap.org and wunderground.com.  All of them provide JSON-API.  At the second stage, the Norwegian yr.no with XML-API, the Russian Hydrometeorological Center (RSS had to be parsed) and Yandex.Pogoda were added. <br><br>  Today there is an agreement with foreca.com and negotiations are underway with gismeteo.ru, intellicast.com and English metoffice.  If you have friends in these projects who are ready to help with the API, write! <br><br><h3>  Increased oddity </h3><br>  In theory, there shouldn't have been any problems with collecting actual weather.  Every major city has a weather station, usually in the center of the city, for example in Moscow <a href="http://maps.yandex.ru/%3Fum%3Dm-uaN_AktR03hI2TQlDFAmvpiu8mO9Ua%26l%3Dsat">it is the Exhibition of Economic Achievements</a> .  National Hydrometeorological Services transmit data from these stations to the <a href="http://worldweather.wmo.int/en/pilot.html">World Weather Watch</a> , where it is processed and stored.  Observations are transmitted in the form of a SYNOP code every 3 or 6 hours. <br><br>  In addition, every major airport has a weather station, which every hour (or half an hour) transmits an aviation weather report in METAR format. <br><br>  Raw SYNOP and METAR data can be found on the NOAA website;  processed data on the site ogimet.com.  The stations themselves are conveniently searched on weatherobs.com. <br><br>  However, there are several problems.  First, the quality of the transmitted data - there are often typos in reports (for example, the letter O instead of the number 0).  Secondly, data stability.  In 2017, Aviamettelecom stopped transferring weather reports from more than fifty Russian airfields to the international exchange for a whole month.  Thirdly, there are cities in which I simply could not find a working station.  For example, in Rostov-on-Don there is no data on either station 34730 (URRR), or station 34731. <br><br>  In such situations, I use information from the private network of <a href="https://www.wunderground.com/weatherstation/overview.asp">The Weather Company</a> stations (now owned by IBM) to collect actual weather. <br><br><h3>  Science taxis </h3><br>  The result was the site <a href="https://meteotrust.com/">Meteotrust.com</a> <br>  Currently, data is collected for 10 cities of Russia from 7 providers.  In the near future I plan to add more cities, more providers and more periods (long-term forecasts from hydrometcenter and accuweather, forecasts for 10 days).  In addition, a collection of precipitation statistics is being prepared.  It is slightly more difficult to assess the accuracy of precipitation forecasts than temperature.  This will be a separate post. <br><br><h3>  What are the conclusions? </h3><br>  Openweathermap - bottom. <br>  Accuweather, yr.no, darksky - strong middling. <br>  Yandex and Wunderground have excellent predictions. <br>  The weather center often fights with Yandex for first place in the quality of short-term forecasts.  However, there is an assumption that with an increase in the number of cities, especially foreign ones, the overall success of the forecasts of the Hydrometeorological Center will fall. </div><p>Source: <a href="https://habr.com/ru/post/354160/">https://habr.com/ru/post/354160/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354148/index.html">Security Week 14: RSA Conference, Holed Advertising Networks, Alliances and Confrontation</a></li>
<li><a href="../354150/index.html">How we participated in the hackathon from OpenData</a></li>
<li><a href="../354152/index.html">Mobius-2018: robo report</a></li>
<li><a href="../354154/index.html">Setting up a machine learning model: feature selection and optimization of hyper parameters</a></li>
<li><a href="../354158/index.html">GitLab for Continuous Delivery project on InterSystems technology</a></li>
<li><a href="../354162/index.html">Chances of success in the European Court of Complaints about blocking resources</a></li>
<li><a href="../354164/index.html">3CX WebMeeting update, 3CX client for iOS and the Click to Call extension for Firefox</a></li>
<li><a href="../354166/index.html">How to stop being a demiurge and entrust the creation of PowerShell entities</a></li>
<li><a href="../354168/index.html">From the routine to the pleasant process: what is the backlog of the product and how to manage it?</a></li>
<li><a href="../354170/index.html">Panda VPN for home</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>