<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make friends HTML5 with mobile OS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚Äú You're completely crazy about this webgl! ‚Äù, A familiar developer told me:‚Äú Learn a new engine for one platform ?! " 

 But indeed, working with Uni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make friends HTML5 with mobile OS</h1><div class="post__text post__text-html js-mediator-article">  ‚Äú <i>You're completely crazy about this webgl!</i>  ‚Äù, A familiar developer told me:‚Äú <i>Learn a new engine for one platform ?!</i>  " <br><br>  But indeed, working with Unity, I get access to many platforms.  Working with Blend4Web - only to one.  Large companies can afford to use several technologies for porting high-quality games, in the case of indie - this is a big problem. <br><br>  And what, developing a browser-based project not with Unity, I put an end to other platforms?  Honestly, this conversation has greatly shaken my resolve.  But recently I heard about frameworks with which you can miraculously port HTML5 to many mobile platforms. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Not everything was so simple.  Although it was possible to find a couple of promising tools that showed decent results. <br><a name="habracut"></a><br><br><h4>  Preamble </h4><br>  Starting any business, you need to identify goals, choose a toolkit, estimate approximately the time and effort. <br><br>  The main task is to find a framework for easy deployment of WebGL applications on popular mobile platforms.  It is desirable that the toolkit be free or at least moderate in monetary requests. <br><br>  As it turned out, a large number of frameworks for the task set can be found on the Internet: Appcelerator Titanium, NimbleKit, MotherApp, PhoneGap, CocoonJS, Intel XDK.  Of course, this is an incomplete list, but it was with these tools that I tried to figure it out.  As a result, for various reasons, a large part was eliminated.  Somewhere there was ‚Äúmuddy‚Äù documentation and a license, one of the frameworks was inadmissibly long installed and pulled out of a bunch of libraries from the network, the third one is designed only for one operating system. <br><br>  For testing, I chose a ready <a href="https://www.blend4web.com/ru/demo/tut_simple_webapp/">-</a> made <a href="https://www.blend4web.com/ru/demo/tut_simple_webapp/">application</a> from the Blend4Web SDK, which is called ‚ÄúSimple Application‚Äù.  I compiled it as a single HTML file with all dependencies.  Test builds were equipped with an FPS indicator in the corner of the screen. <br><br>  Candidates were evaluated on several criteria: ease of integration, support for platforms, final performance.  As a result, PhoneGap and CocoonJS became the undoubted leaders for me.  And each of them turned out to be good for building for certain platforms, but about everything in order. <br><br><h4>  PnoneGap + Blend4Web </h4><br>  The first thing I was advised to see is the brainchild of Adobe Systems. <br><br>  <i>‚ÄúPhoneGap is a free open-source framework for creating mobile applications.‚Äù</i> This is the introduction on the wiki page dedicated to this technology. <br><br>  When I hear the word ‚Äúfree‚Äù, especially with reference to a large company, I involuntarily start looking for the very hidden price.  In fact, everything is very simple.  PhoneGap is initially based on Apache Cordova, which is an open source framework for developing mobile applications.  At its core, PhoneGap and Cordova are one and the same, only the first provides more convenient tools.  Adobe Systems discourages the spent resources at the expense of cloud services in assembly.  The company's policy is that these same services can be free of charge, but with some limitations.  However, restrictions (1 private application and 50 MB for the size) are quite acceptable for an indie developer. <br><br>  PhoneGap is capable of collecting projects for all popular mobile platforms: iOS, Android, Blackberry, Windows Phone 8, Ubuntu.  Judging by the table of <a href="http://phonegap.com/about/feature/">possibilities</a> , the main technical and software elements of mobile phones are supported, such as accelerometer, GPS, network, etc. <br><br>  PhoneGap is a wrapper around HTML5, a kind of bridge between the browser program and the native API.  Therefore, the performance of the compiled application depends closely on the capabilities of the WebView component in the system.  Unfortunately, not all platforms provide Webview with WebGL.  This is especially true of Android, but, as they say, until you try it, you don‚Äôt know. <br><br>  There are two ways to work with PhoneGap: via the command line or using the desktop application.  Here only source compilation is possible with the installation of the SDK mobile platforms.  Moreover, iOS requires a Mac or its emulator (I have Windows).  All problems are completely solvable, if you use the compilation in the Adobe cloud. <br><br>  Forgive me the command line apologists and those who want to hear lengthy explanations of the CLI commands.  Here I took the path of least resistance and chose a ‚Äúloser‚Äù solution.  In the end, I‚Äôm interested in the practical performance of PhoneGap and the shortest way to deploy a project. <br><br>  To work with the framework, you need to download a special application PhoneGap <a href="http://phonegap.com/install/">Desktop App</a> .  This program is needed to test your project in the framework environment.  It does not know how to build, with its help you will not send the code to the Adobe server, but only be able to test its performance. <br><br>  So, for a successful symbiosis of Blend4Web with PhoneGap, you need to create a new application using the Desktop App program.  Of course, this can be done manually, but agree that it will be faster and without errors.  In principle, it is enough to click on the Create new PhoneGap Project link and the program will create in the specified directory a whole bunch of files and folders. <br><br><img src="https://habrastorage.org/files/b15/647/34e/b1564734e85948669dc990a034b9ef2e.jpg" alt="image"><br><br>  Most folders are empty except for www.  This is the place to store the collected WebGL application and PhoneGap control scripts.  By default, there is already a test case that can be safely removed. <br><br>  Creating a wrapper is surprisingly easy - you need one HTML file and one JavaScript.  And, of course, your masterpiece. <br><br>  HTML file (index.html): <br><pre><code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"format-detection"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"telephone=no"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"msapplication-tap-highlight"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"no"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Start Blend4Web"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{location = 'trdd_blend4web.html?show_fps'}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cordova.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/index.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined"> app.initialize(); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  This is the key file index.html.  Notice the js script declaration.  The first line with cordova.js is required for PhoneGap, and physically this script does not exist.  Perhaps when building an application, it is automatically connected by the linker, but the second script will have to be written by yourself.  Minimally, it may look like this: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = { <span class="hljs-comment"><span class="hljs-comment">// Application Constructor initialize: function() { this.bindEvents(); }, // Bind Event Listeners // // Bind any events that are required on startup. Common events are: // 'load', 'deviceready', 'offline', and 'online'. bindEvents: function() { document.addEventListener('deviceready', this.onDeviceReady, false); }, // deviceready Event Handler // // The scope of 'this' is the event. In order to call the 'receivedEvent' // function, we must explicitly call 'app.receivedEvent(...);' onDeviceReady: function() { app.receivedEvent('deviceready'); }, // Update DOM on a Received Event receivedEvent: function(id) { var parentElement = document.getElementById(id); var listeningElement = parentElement.querySelector('.listening'); var receivedElement = parentElement.querySelector('.received'); listeningElement.setAttribute('style', 'display:none;'); receivedElement.setAttribute('style', 'display:block;'); console.log('Received Event: ' + id); } };</span></span></code> </pre><br>  The index.js script is a copy of the official documentation.  As they say, it works and everything is fine.  I did not make any changes to it. <br><br>  Actually, the Blend4Web application (I remind you that, to simplify integration, I compiled it as a single HTML file with all dependencies) starts when I click the Start Blend4Web button, which is described in index.html. <br><br>  Before the compilation stage, it is advisable to check the performance of the bundle.  Just this is the main function of the downloaded earlier program Desktop App.  If there are no errors in the project structure, then the local server is started at the address indicated at the bottom of the window (see the figure above).  That is, you open a browser, copy and paste the address into a string, and enjoy your brainchild.  This allows you to check the created application, but is not responsible for working on real devices. <br><br>  The next step is to compile the packages.  Here again, two options: manually with the installation of the required SDK or in the developer cloud.  Of course, I chose the second. <br><br>  Working with the cloud is very simple.  Project files (only the WWW folder) are packaged in a zip and uploaded to the server.  In fact, this work ends.  The cloud begins to miscalculate and, if lucky, you will receive packets for the main mobile platforms at the output. <br><br><img src="https://habrastorage.org/files/15e/dab/c68/15edabc685aa464b93a7a372896386be.jpg" alt="image"><br><br>  By default, I managed to get packages for Android and Windows Phone.  iOS was not going, because it was necessary to enter a certificate and profile, which I did not have at that time.  In other cases, it is possible to upload build data (signatures, vendor ID, etc.) to the cloud. <br><br>  All other platform settings are contained in the config.xml file, which is located in the root of the PhoneGap project. <br><br>  Test results on real devices were mixed.  The attempts to launch the application on Android have failed.  I checked the program on 4 different devices and the fact that I didn‚Äôt start up on any of them inspired sad thoughts. <br><br>  Of course, I rushed to look for the reasons for such a blatant inconsistency with the stated capabilities of PhoneGap.  Everything turned out to be simple - WebGL support for WebView appeared only from the Android version 5.x.  As you understand, not all are the owners of the latest Android systems.  And my case proves it.  Although partially, this should work since version 4.4. <br><br>  Thus, the PhoneGap + WebGL + Android bundle was found to be inoperable.  However, this does not mean that PhoneGap is not suitable for other platforms.  So, for example, iOS supports WebGL for WebView since the seventh version.  In most cases, Apple devices are updated when updates are released, which is not true of Android.  I could not resist and tried to check the performance of the assembly under iOS. <br><br>  The problem was that I didn‚Äôt have a Mac, and I didn‚Äôt want to spend time installing a virtual machine and running Mac OS in it.  I found a way to create a digital signature for iOS on a Windows system.  Therefore, if you do not have an Apple computer, but you need to build a project for iOS - read on. <br><br>  So, PhoneGap to build an application for iOS requires Certificate (p12) and Provisioning Profile.  To obtain these files, you need an Apple developer account and a real device, as well as a large amount of patience. <br><br>  First you need to register the device that will be used to test the application.  This is done in the ‚ÄúCertificates, Identifiers &amp; Profiles‚Äù window. <br><br><img src="https://habrastorage.org/files/03d/3ce/9ae/03d3ce9aec024f1b909424198f0e9297.jpg" alt="image"><br><br>  The easiest way to find out the device's UDID is to open iTunes and view it in the Devices panel. <br><br><img src="https://habrastorage.org/files/ec1/f9c/b1f/ec1f9cb1f13a49219d709b00bb4d4a9a.jpg" alt="image"><br><br>  Now you need to download and install OpenSSL from slproweb.com.  I used a slightly older version of Win32 OpenSSL v1.0.1p Light.  The one that went by default was not installed normally.  And yes, do not forget to restart your computer! <br><br><img src="https://habrastorage.org/files/0d9/ae9/7e6/0d9ae97e6b1e4b7b8a9d23bb939aebcb.jpg"><br><br>  All work with OpenSSl is performed in the Windows terminal.  Open it and go to the BIN folder, which is in the OpenSSL-Win32 directory.  In my case, the program is installed on drive C. <br><br>  First, a key and a CSR file are generated: <br><pre> <code class="bash hljs">openssl genrsa -out mykey.key 2048</code> </pre><pre> <code class="bash hljs">openssl req -new -key mykey.key -out CertificateSigningRequest.certSigningRequest -subj <span class="hljs-string"><span class="hljs-string">"/emailAddress=yourAddress@example.com, CN=Name, C=RU"</span></span></code> </pre><br>  In the second line, you need to specify your email, which is used to access your Apple Developer account, name and region.  If everything goes well, a file with a CSR extension will appear in the BIN folder. <br><br>  The file must be uploaded to an Apple account to receive a certificate in return.  This is also done in the ‚ÄúCertificates, Identifiers &amp; Profiles‚Äù window.  It is only necessary to select the Development item (see figure).  Then simply upload the CSR file using the form on the page and in response receive a link to the .CER certificate. <br><br><img src="https://habrastorage.org/files/a44/4ee/e43/a444eee43d254e18a68a60df0b4c05e3.jpg"><br><br>  However, this is not all, because PhoneGap requires a certificate in p12 format.  Conversion is also performed by OpenSSL. <br><br>  First convert to PEM: <br><pre> <code class="bash hljs">openssl x509 -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> developer_identity.cer -inform DER -out developer_identity.pem -outform PEM</code> </pre><br>  Then in p12: <br><pre> <code class="bash hljs">openssl pkcs12 -<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> -inkey mykey.key -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> developer_identity.pem -out ipad_dev.p12</code> </pre><br>  The program will ask you to enter the password for the certificate, which will later be used when building the application in PhoneGap. <br><br>  Now you have a certificate holder in p12 format, but you still need to create a Provisioning Profile.  It is already easy.  Select options like in the image below.  Specify the test device and the developer panel will allow you to download the profile created. <br><br><img src="https://habrastorage.org/files/542/b52/d7c/542b52d7ca994d87b4acc556f5fc412a.jpg"><br><br>  That's all.  The received files are uploaded to the PhoneGap server through the appropriate form (see figure). <br><br><img src="https://habrastorage.org/files/9c4/f61/ec2/9c4f61ec28e147b1bdedf7f4995cbfcc.jpg"><br><br>  And now the long-awaited results!  The test build Blend4Web perfectly installed on the iPad and gave out 60 fps.  The truth was a strange glow around the objects, but perhaps this is due to the use of the unstable version of the engine, which I had installed at that moment.  The most important thing is that the Blend4Web application launched on iOS without any problems, which means that the road to Apple devices is open. <br><br><h4>  CocoonJS + Blend4Web </h4><br>  Discouraged by the poor results of PhoneGap for Android, I found on the Internet its direct competitor CocoonJS of Ludei.  The main page of the site promised much higher speed than PhoneGap, as well as various tasty buns, such as multiplayer, advertising modules, analytics, push and more.  Interestingly, I could not find a price for these services. <br><br>  The main difference between CocoonJS and PhoneGap is the approach to using WebView.  If the latter focuses on the system, then the brainchild of Ludei offers to integrate its own viewer into the application.  This significantly increases the size of the final file, but it is guaranteed to work on all platforms and versions of the API. <br><br>  CocoonJS does not support all mobile platforms, but is limited to Android and iOS, i.e.  Windows Phone is not listed.  But there are Ouya, Pokki, Tizen, Android Wear. <br><br><img src="https://habrastorage.org/files/e21/61b/9b5/e2161b9b5e4e4f90b629ab12f6bc196d.jpg"><br><br>  It is interesting to create an application with CocoonJS.  Unlike PhoneGap, you do not need to download an SDK or write any kind of wrapper code.  All package building activities are performed on Ludei servers.  This is certainly surprising, since the proposed social functions require a certain mechanism of interaction between their code and CocoonJS. <br><br>  The framework developers offer a special utility for testing the WebGL application immediately in the desired OS.  The program is called CocoonJS Launcher and is available for download in the stores of Google Play and iTunes.  With its help, you can run your program in the environment of the framework without compiling.  I tried to use this launcher, but nothing happened.  A shell crashed or hung.  Perhaps this is due to the lack of RAM (on the test device used at that time was 512 MB).  By the way, the compiled program subsequently worked fine on the same device. <br><br>  So, to compile the Blend4Web application, all files need to be archived and uploaded to the Ludei server.  The basic setting is performed in the Compile Project window (see figure above).  The most important thing is to choose the correct render from the list: Canvas +, WebView +, System WebView.  In the case of Blend4Web, WebView + is required (this also applies to all other WebGL engines).  The remaining two options are the use of hardware drawing of the canvas or system API. <br><br>  There is some difference from PhoneGap when setting up packages (logos, ID, etc.).  All this is done in the Ludei panel.  The set of possible options is very minimalistic and does not cover standard queries, for example, when creating an Android application.  So, it will not be possible to establish special permissions (permissions).  You can only download logos, sign the application, select versions and that's it. <br><br>  A little later, I found a way to adjust permissions for the Android package.  At one of the forums they advised to ‚Äúopen‚Äù the package and manually change the options in AndroidManifest.xml.  However, there is another option, but I did not check it.  CocoonJS developers declare correct support for projects created with PhoneGap, which has a special settings file directly for this purpose. <br><br>  Let's go back to the compilation.  After selecting the required platforms (see fig. Above), uploading the archive to the server, the packages will be built.  Time depends on the volume.  Notification of the completion of the work you will receive in your mail.  The build process of the test application took about 3 minutes. <br><br>  The test results on Android devices are really impressive.  Everything is working.  Even on the oldest and weakest device, the scene rotates without noticeable brakes.  No problem, as with PhoneGap is not here.  The scene was launched on several devices and the FPS reached 60 units. <br><br><h4>  findings </h4><br>  And where could it be without them ... So, it turned out that the WebGL application created with Blend4Web can be perfectly exported for Android and iOS platforms.  PhoneGap allows you to create builds for Apple devices, and CocoonJS is best used for Android.  Unfortunately, the second one when trying to build for iOS produces just a project for Xcode.  I have no poppy, so this option is not suitable. <br><br>  And the last - the assembly of Windows Phone is inoperative in one version.  It seems that the implementation of WebGL in this system is not up to par. </div><p>Source: <a href="https://habr.com/ru/post/266939/">https://habr.com/ru/post/266939/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266927/index.html">A story about making friends with the Nexus Player (FUGU) and the Intel Mobile Development Kit</a></li>
<li><a href="../266929/index.html">Jii: configuration and scaling</a></li>
<li><a href="../266933/index.html">Hone the skills of the console</a></li>
<li><a href="../266935/index.html">About safety UEFI, part zero and first</a></li>
<li><a href="../266937/index.html">Functional C #: Primitive obsession (primitive obsession)</a></li>
<li><a href="../266941/index.html">RailsClub 2015: Interview with Boris Goryachev</a></li>
<li><a href="../266943/index.html">Workflow architecture in SharePoint Server 2013: yesterday and today</a></li>
<li><a href="../266945/index.html">Practical training in pentest laboratories. Part 2</a></li>
<li><a href="../266947/index.html">The evolution of trading terminals: Mobile trading in the era of touch interfaces</a></li>
<li><a href="../266949/index.html">Time to materialize: a contest for Material Design from Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>