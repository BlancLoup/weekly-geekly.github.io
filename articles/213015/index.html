<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Named Boost Parameters</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At times, C ++ wants a more flexible mechanism for parameterizing functions. For example, we have a function with two required parameters and a large ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Named Boost Parameters</h1><div class="post__text post__text-html js-mediator-article">  At times, C ++ wants a more flexible mechanism for parameterizing functions.  For example, we have a function with two required parameters and a large number of optional ones. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> important, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; pOut, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sometimes = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> occasionally = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rarely = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre> <br>  The problems here may be the following. <br><br><ol><li>  Users constantly confuse the order of parameters, their type is almost completely the same, so the compiler can not help with anything (except sometimes with the second parameter). </li><li>  Of the optional parameters, most often one is needed, and if it is not <b>sometimes</b> , users are forced to recall the default values ‚Äã‚Äãin order to set them explicitly in the call.  The default values ‚Äã‚Äãare different, so there are a lot of errors again. </li><li>  There is no way to express the dependence of the default values ‚Äã‚Äãof some parameters on others. </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These problems can be solved in different ways: transfer structure as a parameter, use function overloading or even functions with different names ... Boost offers another solution. <br><a name="habracut"></a><br>  These are <a href="http://www.boost.org/doc/libs/1_55_0/libs/parameter/doc/html/index.html">named parameters</a> .  We are no longer tied to the order of the parameters, the ability to specify conscious names when calling, significantly reduces the likelihood of errors.  As an additional bonus, we get the ability to use some parameters when calculating the default values ‚Äã‚Äãof others. <br><br>  As an example, consider how you can define the function <b>foo</b> using the proposed mechanism (change the name to <b>namedParametersFoo</b> so that there is no confusion).  First, we include the header header file and define the parameter names using a special macro.  Pay attention - no punctuation. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;boost/parameter.hpp&gt; BOOST_PARAMETER_NAME(important) BOOST_PARAMETER_NAME(pOut) BOOST_PARAMETER_NAME(sometimes) BOOST_PARAMETER_NAME(occasionally) BOOST_PARAMETER_NAME(rarely)</span></span></span></span></code> </pre><br><br>  further set the function <br><br><pre> <code class="cpp hljs">BOOST_PARAMETER_FUNCTION( (<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>), namedParametersFoo, tag, (required (important, *) (in_out(pOut), *) ) (optional (sometimes, *, important * <span class="hljs-number"><span class="hljs-number">2</span></span>) (occasionally, *, <span class="hljs-number"><span class="hljs-number">300</span></span>) (rarely, *, <span class="hljs-number"><span class="hljs-number">400</span></span>) ) ) { <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre><br>  Four parameters are passed to the macro, separated by commas. <br><br><ol><li>  Type of return value - necessarily in brackets </li><li>  Function name </li><li>  Namespace with parameters.  <b>BOOST_PARAMETER_NAME</b> automatically puts ads in the <b>tag</b> </li><li>  Parameter list </li></ol><br>  The parameter list has its own structure.  Also, note that there are practically no punctuation marks - there are only commas when defining immediate parameters. <br><br>  First comes the <b>required</b> block.  As the name suggests, it contains a list of required parameters.  Each parameter must be placed in parentheses.  To define a required parameter, you must specify its name and type restrictions.  This article does not consider the type restriction mechanism, so we will simply use an asterisk.  More on this topic can be read <a href="http://www.boost.org/doc/libs/1_55_0/libs/parameter/doc/html/index.html">here</a> . <br><br>  This is followed by a block of optional parameters.  Here, when defining each parameter, there is an additional opportunity to set a default value.  As can be seen from the example above, the remaining parameters can be used in expressions. <br><br>  Actually everything.  The function supports calls "in the old manner" - as if it were defined with the usual optional parameters.  Those.  as if earned an option <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newFoo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> important, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; pOut, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sometimes = important * </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> occasionally = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rarely = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre><br>  <i><b>newFoo</b> will not compile due to the <b>sometimes</b> dependent parameter</i> <br><br>  Those.  you can use <b>namedParametersFoo</b> so <br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> s = <span class="hljs-number"><span class="hljs-number">0</span></span>; namedParametersFoo(<span class="hljs-number"><span class="hljs-number">1</span></span>, s, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); namedParametersFoo(<span class="hljs-number"><span class="hljs-number">1</span></span>, s, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); namedParametersFoo(<span class="hljs-number"><span class="hljs-number">1</span></span>, s, <span class="hljs-number"><span class="hljs-number">1</span></span>); namedParametersFoo(<span class="hljs-number"><span class="hljs-number">1</span></span>, s);</code> </pre><br><br>  But that is not all!  By using named parameters, we free ourselves from both the order of the arguments and the unnecessary unnecessary defaults.  The only inconvenience is the need to add an underscore at the beginning of the names. <br><br><pre> <code class="cpp hljs">namedParametersFoo(_sometimes = <span class="hljs-number"><span class="hljs-number">1</span></span>, _important = <span class="hljs-number"><span class="hljs-number">111</span></span>, _pOut = s);</code> </pre><br>  So, what in this example is the new good <br><br><ol><li>  Visibility - it is clear what we mean by numbers 1 and 111, the probability of getting confused / wrong is reduced </li><li>  Arbitrary order - the optional parameter is written first, and everything works </li></ol><br>  Despite the fact that it has become possible to change the position of the required parameters and even mix them with optional ones, everything continues to be controlled at the compilation stage, i.e.  next code <br><br><pre> <code class="cpp hljs">namedParametersFoo(_sometimes = <span class="hljs-number"><span class="hljs-number">1</span></span>, _pOut = s);</code> </pre><br>  fails - missing <b>_important</b> required parameter <br><br>  That's all.  I would like to add that the mechanism is not the easiest and most obvious, so if it turns out to get around the problem with standard language tools, then it is better to do so.  In addition, the use of named boost parameters can adversely affect compile time.  But if all the workarounds are obtained by curves, and the boost is already used in the project, there will definitely be a benefit. </div><p>Source: <a href="https://habr.com/ru/post/213015/">https://habr.com/ru/post/213015/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213001/index.html">File synchronization between servers in a cluster</a></li>
<li><a href="../213005/index.html">AllDataCenter.ru: all about data centers for those who want to know more!</a></li>
<li><a href="../213007/index.html">Install Windows Server 2008 over a network with a Linux PXE server. WinPE Customization</a></li>
<li><a href="../213009/index.html">Using comments to store static data in Javascript</a></li>
<li><a href="../213011/index.html">March 11 will be a fight in ping-pong between the machine and the man (Timo Boll)</a></li>
<li><a href="../213017/index.html">Integration with the hub "Photos" on Windows Phone</a></li>
<li><a href="../213019/index.html">How I measured FOV without compass and ruler</a></li>
<li><a href="../21302/index.html">Kazakh scientists have developed a trilingual dictionary of IT terms.</a></li>
<li><a href="../213021/index.html">Headphones Fischer Audio Billy's Band Edition: Sound in Russian</a></li>
<li><a href="../213023/index.html">Developer Contest "Native Speech" - we begin the countdown!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>