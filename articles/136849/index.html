<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Small life hacking with clipboard editing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I often encounter such a situation: I write myself calmly in some text (say, a letter in the web interface of a gmail), and suddenly, at some point, t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Small life hacking with clipboard editing</h1><div class="post__text post__text-html js-mediator-article">  I often encounter such a situation: I write myself calmly <i>in some</i> text (say, a letter in the web interface of a gmail), and suddenly, at some point, there is a need to remake something ... and <i>irritation</i> happens.  It happens from the fact that editing in the browser (and much more where it is) does not imply some of the usual programmer conveniences, such as automatic replacement, regular expressions and macros.  At the same time, it seems to be not difficult to copy the text to the buffer and edit it in the <i>correct editor</i> (Vim, Emacs, ...), but I really do not want to break away from the context and make some gestures that distract from the current task ... And now , I already indent (I number the list, replace the word, ...) manually - the result is achieved, and not much time was spent, but the sediment remained ... <br><br>  Common situation?  If the answer is "yes", bash works in your operating system and your first association to the word "editor" is not "Microsoft Office", so we have something to discuss under the cat :) <br><br><a name="habracut"></a><br>  So, I assume that if you have already mastered - and even more so are used to - some advanced features of your editor, then you need to try to make these possibilities as accessible as possible so that no matter where you work with the text, you can effectively apply your skills. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The most obvious way to solve this problem is to simply automate that part of the sequence of actions that is repeated from time to time without changes.  We have two such sequences: one at the beginning of the transition to an external editor - <i>select, copy to clipboard, open external editor, paste;</i>  the second at the end - <i>copy the edited to the buffer, close the external editor, paste the text on the old place.</i> <br><br>  But for a start, due to the fact that we are going to automate work with the clipboard ... <br><br><h4>  A few notes about the clipboard in the X Window System. </h4><br>  <font color="gray"><i>(At first, I mentioned that any system in which bash works will fit, and this is true. So, if you have a Mac and the X Window System features are parallel to you, feel free to skip this part)</i></font> <br><br>  First, remember that the clipboard in the X Window is very specific.  We have at least 3 clipboards - primary, secondary and clipboard itself.  Everything that you select with the mouse gets into the primary, and it ‚Äúdrops out‚Äù when you press the middle mouse button, the clipboard is <b>usually</b> Ctrl-V / Ctrl-C.  Why secondary is needed <b>nobody knows</b> . <br><br>  <font color="gray"><i>(It is rumored that, in fact, X Windows is so steep that it can contain as many buffers as possible, and the secondary one is just one of an infinite series. I find it difficult even to guess why.)</i></font> <br><br>  Secondly, it is useful to understand that at each moment in time the contents of the clipboard are tied to the window from which it was extracted.  Surely, this binding opens up many wonderful possibilities, but all of them, in my opinion, are nullified by one disgusting inconvenience: the contents of the clipboard <b>disappear</b> if you close the program from which it was copied. <br><br>  Taking into account these features, for stable and predictable work with the clipboard in Linux, I highly recommend using some kind of clipboard manager.  KDE includes a completely usable klipper, and I would advise users of the Gnome parcellite utility (people still praise diodon, especially those who have Ubuntu + Unity, but I have not tried it).  Whichever manager you use, it is very useful to get used to calling up the clipboard history by pressing Ctrl-Alt-C or another shortcut.  Yes, and by the way, be careful with the option to ‚Äúsynchronize clipboards‚Äù - after it is turned on, any text selection will ‚Äúoverwrite‚Äù the current contents of the clipboard, even if you consciously and explicitly added something to it using Ctrl-C. <br><br><h4>  Actually, the recipe </h4><br>  So, to achieve our goals, we will need: (1) a tool that allows you to globally link the execution of an arbitrary command to the magic button and (2) a small script of his own. <br><br>  As for binding to keyboard events - there are many solutions, but I see no reason not to use the tools built into the system (both KDE and Gnome offer their own shortcut editors). <br><br>  The script itself, to which we will attach the event, may look like this: <br><blockquote><ol><li>  <font color="#666666">#! / bin / bash</font> </li><li>  <font color="#007800">tmp</font> = <font color="#ff0000">" <font color="#007800">$ (mktemp)</font> "</font> <font color="#666666"># create temporary file</font> </li><li>  xclip <font color="#660033">-sel</font> clip <font color="#660033">-o</font> <font color="#000000">&gt;</font> <font color="#ff0000">" <font color="#007800">$ tmp</font> "</font> <font color="#666666"># copy the contents of the clipboard into the created file</font> </li><li>  gvim <font color="#660033">-f</font> <font color="#ff0000">" <font color="#007800">$ tmp</font> "</font> <font color="#666666"># open the file in the desired editor (as an example gvim)</font> </li><li>  <font color="#c20cb9">cat</font> <font color="#ff0000">" <font color="#007800">$ tmp</font> "</font> <font color="#000000">|</font>  xclip <font color="#660033">-sel</font> clip <font color="#666666"># copy the contents of the file back to the clipboard</font> </li><li>  <font color="#c20cb9">rm</font> <font color="#ff0000">" <font color="#007800">$ tmp</font> "</font> <font color="#666666"># delete temporary file</font> </li></ol></blockquote>  At the same time, the choice of specific utilities, of course, may differ.  For example, not only xclip can work with the clipboard from the command line - instead of xclip, you can use the xsel utility or the clipboard manager, but if you have a Mac and OS X, then there are pbcopy / pbpaste commands. <br><br>  Now it's easy - save the script in ~ / bin / editclip, bind it to pressing F12 (or any other shortcut key) - that's it!  We can at any time, in any "left" editor select the desired fragment, press <font color="green"><b>"Ctrl-C, F12"</b></font> and the fragment will open in the desired program, after closing which, it will be enough to press <font color="green"><b>Ctrl-V</b></font> and the edited text will fall into place. <br><br>  Lastly, another little tip regarding the X Window.  Unfortunately, the selection of the text is not here an internal affair of the program.  If you selected the text in one window, and then switched to another and selected the text again, the selection in the initial window may fly off ( <b>upd:</b> or may not fly off - in the comments they suggest that gtk programs are especially affected).  This is very unpleasant, because we have to either avoid editing a selection (which is unnatural) by editing the text in the external editor, or accept the fact that simply pressing Ctrl-V will not always replace the old fragment with the edited one. <br><br>  To get around this inconvenience, I usually call the external editor with the help of <font color="green"><b>‚ÄúCtrl- <i>X</i> , F12‚Äù</b></font> - while the original text fragment is immediately deleted and pressing <font color="green"><b>Ctrl-V</b></font> in the final inserts the edited version in its place. <br><br>  That's all.  I hope this trick is useful to someone. </div><p>Source: <a href="https://habr.com/ru/post/136849/">https://habr.com/ru/post/136849/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136844/index.html">Principles of IP traffic accounting</a></li>
<li><a href="../136845/index.html">Alcohol on the plane? Sure to!</a></li>
<li><a href="../136846/index.html">Writing system utilities in PHP CLI</a></li>
<li><a href="../136847/index.html">What is the "git push problem: non fast forward"</a></li>
<li><a href="../136848/index.html">Where Apple iCloud Stores Your Files</a></li>
<li><a href="../136850/index.html">Welcome to our office</a></li>
<li><a href="../136851/index.html">Root on Lenovo ThinkPad Tablet</a></li>
<li><a href="../136852/index.html">PostgreSQL: Unique keys for a distributed database. Practice</a></li>
<li><a href="../136853/index.html">Restore defocused and blurred images</a></li>
<li><a href="../136855/index.html">API maps from 2GIS: review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>