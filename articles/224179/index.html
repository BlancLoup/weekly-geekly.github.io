<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dual boot ArchLinux and Windows 8 on UEFI without GRUB using rEFInd</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instructions for beginners on how to make beautiful dualboot windows and archlinux (and other OS) through efi without grub and unnecessary problems. 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dual boot ArchLinux and Windows 8 on UEFI without GRUB using rEFInd</h1><div class="post__text post__text-html js-mediator-article">  Instructions for beginners on how to make beautiful dualboot windows and archlinux (and other OS) through efi without grub and unnecessary problems. <br><br>  Photos to attract attention: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ad9/dc5/d56/ad9dc5d56f60737e54b4bf7b3931e102.jpg" alt="asus g46vw rEFInd"><br><a name="habracut"></a><br>  You can see google how it <a href="https://www.google.ru/search%3Fq%3Drefind%2Bthemes%26newwindow%3D1%26client%3Dfirefox-a%26hs%3D0me%26sa%3DX%26rls%3Dorg.mozilla:en-US:official%26channel%3Dfflb%26biw%3D1600%26bih%3D778%26tbm%3Disch%26tbo%3Du%26source%3Duniv%26ei%3DvteFU87uD-XY4QS5oYCAAw%26ved%3D0CE0QsAQ">might look like</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Immediately make a reservation. <br>  It is assumed that you have already installed windows and archlinux, understand how to mark the disks and what to install and all you have to do is deal with the bootloader.  If not, I recommend watching <a href="http://www.youtube.com/watch%3Fv%3DiGe6ruH5M5s">this video</a> for a start. <br><br>  I tried various options as described <a href="http://habrahabr.ru/post/196926/">here</a> , <a href="http://archlinux.org.ru/forum/topic/12035/">here</a> and <a href="http://archlinux.org.ru/forum/topic/11107/">here</a> and other frills with <b>efibootmgr</b> .  I tried to add options directly in the ‚ÄúBIOS‚Äù - I didn‚Äôt have anything good, then the root of the section doesn‚Äôt find something else.  Yes, and the approach to switching systems (press Esc when turning on the PC to select the system), I was not very pleased. <br><br>  Having spent the whole weekend, I found for myself a simple and elegant solution - the <b><a href="http://www.rodsbooks.com/refind/index.html">refind-efi</a> ( <a href="https://wiki.archlinux.org/index.php/REFInd">ArchWiki</a> ) <a href="https://wiki.archlinux.org/index.php/REFInd">package</a></b> . <br>  In short, it is enough to install this package (pacman -S refind-efi) and execute refind-install, that's all. <br>  The refind directory will be created in / boot / efi / EFI / and a new item ‚ÄúrEFInd boot manager‚Äù will be added in the boot option. <br><br><h5>  A warning </h5><br>  <a href="https://habr.com/users/coderush/" class="user_link">CodeRush</a> added an important note in the comments: <br><blockquote>  I‚Äôll add a warning to this article: writing to NVRAM from the OS is a rather <b>dangerous operation that can lead to a "brick"</b> on some notebook models with BIOS on the Phoenix SCT platform.  The author BIOS on the AMI Aptio platform, with no such problems. <br>  That is why I strongly <b>do not recommend</b> using on laptops either efibootmgr itself, or anything that causes it, and install any bootloaders manually, either by replacing the existing default bootloader (fs0: /EFI/BOOT/bootx64.efi), or by writing a new bootloader from UEFI Shell with bcfg boot add 0 fs0: /path/to/bootloader.efi "My Fancy Bootloader" is much safer. </blockquote><br>  <b>Everything you do, you do at your own peril and risk!</b> <br><br><h5>  Now more about installing and configuring </h5><br>  To begin, check the configuration. <br>  In my case it is: <br><ul><li>  Windows 8.1 </li><li>  Arch Linux x86_64 Kernel Release: 3.14.4-1-ARCH </li></ul><br>  Lsblk output: <br><pre><code class="bash hljs">NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sda 8:0 0 119.2G 0 disk ‚îú‚îÄsda1 8:1 0 300M 0 part ‚îú‚îÄsda2 8:2 0 100M 0 part /boot/efi ‚îú‚îÄsda3 8:3 0 128M 0 part ‚îú‚îÄsda4 8:4 0 59.1G 0 part ‚îú‚îÄsda5 8:5 0 9G 0 part / ‚îî‚îÄsda6 8:6 0 50G 0 part /home</code> </pre> <br><br>  fdisk / dev / sda <br><br><pre> <code class="bash hljs">Device Start End Size Type /dev/sda1 2048 616447 300M Windows recovery environment /dev/sda2 616448 821247 100M EFI System /dev/sda3 821248 1083391 128M Microsoft reserved /dev/sda4 1083392 125036543 59.1G Microsoft basic data /dev/sda5 125036544 143910911 9G Linux filesystem /dev/sda6 143910912 248768511 50G Linux filesystem</code> </pre><br><br>  The partition with the ‚ÄúEFI System‚Äù type created by the windows installer, is mounted in / boot / efi / (/ mnt / boot / efi / because we booted from liveiso right?) <br><br><pre> <code class="bash hljs">mkdir -p /mnt/boot/efi mount /dev/sdaX /mnt/boot/efi</code> </pre><br><br>  where X is the number of your EFI partition (for example, mount / dev / sda2 / mnt / boot / efi). <br><br>  Next, go to the already installed arch (arch-chroot / mnt /) and install refind itself: <br><br><pre> <code class="bash hljs">pacman -S refind-efi</code> </pre><br><br>  If such a package is not found, look in yaourt: <br><br><pre> <code class="bash hljs">yaourt refind 1 extra/refind-efi 0.7.9-1 [installed] Rod Smith<span class="hljs-string"><span class="hljs-string">'s fork of rEFIt UEFI Boot Manager - built with Tianocore UDK libs</span></span></code> </pre><br><br><pre> <code class="bash hljs">refind-install</code> </pre><br><br>  and if there were no errors <br><br><pre> <code class="bash hljs">reboot</code> </pre><br><br>  After the reboot, you can put in the "BIOS" in the boot priority settings "rEFInd boot manager" in the first place. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb6/24d/351/eb624d3519d0c9c3d31257aabcc09acb.jpg" alt="image"><br><br>  And do not forget to disable "Secure Boot". <br><br>  Profit! <br><br>  The directory refind has been created in the / boot / efi / EFI directory.  It has refind.conf in which you can set the display time of the OS list and customize the appearance. <br><br>  Refind itself finds the installed OS and determines the parameters of their download.  I also really liked that if a bootable flash drive is inserted or a disk, they also appear in the list. <br><br>  I liked the <a href="http://sdbinwiiexe.deviantart.com/art/rEFInd-Next-Theme-407754566">Next-Theme</a> theme (you can <a href="http://www.rodsbooks.com/refind/themes.html">choose something to your taste</a> ), put it in / boot / efi / EFI / refind / next-theme and wrote in the config file: <br><br><pre> <code class="bash hljs">icons_dir next-theme/icons banner next-theme/background_1200.png</code> </pre> <br><br>  The config is well documented and should not cause questions. <br><br>  I would be grateful for comments and additions. </div><p>Source: <a href="https://habr.com/ru/post/224179/">https://habr.com/ru/post/224179/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../224167/index.html">Sudden Death Syndrome (aka Sudden Death Syndrome, aka SDS) Samsung Galaxy Note 2 and Samsung Galaxy S3</a></li>
<li><a href="../224169/index.html">Sound card as a serial port</a></li>
<li><a href="../224171/index.html">How to make a robot in 24 hours</a></li>
<li><a href="../224173/index.html">How I made a power control widget for my space flight browser simulator</a></li>
<li><a href="../224175/index.html">[libGDX] Writing a full game for Android. Part 1</a></li>
<li><a href="../224181/index.html">Why you should use Vim</a></li>
<li><a href="../224185/index.html">A tool to highlight the active item of a simple HTML menu.</a></li>
<li><a href="../224187/index.html">WEB-page rendering: what the front-end developer should know about this</a></li>
<li><a href="../224191/index.html">Minification of Ext JS and Sencha Touch applications using ASP.NET</a></li>
<li><a href="../224193/index.html">Through hardship to the stars. To the imperatives of cosmic colonialism</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>