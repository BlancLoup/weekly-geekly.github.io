<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Gif inside</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Have you ever wondered how gifs are arranged? In this article we will try to deal with the internal structure of the GIF format and the LZW compressio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Gif inside</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/c7f/abc/fab/c7fabcfab6ac48be82906ac67ca3b623.png"><br>  Have you ever wondered how gifs are arranged?  In this article we will try to deal with the internal structure of the <a href="https://ru.wikipedia.org/wiki/GIF">GIF</a> format and the <a href="https://en.wikipedia.org/wiki/Lempel%25E2%2580%2593Ziv%25E2%2580%2593Welch">LZW</a> compression method. <br><br><h1>  GIF structure </h1><br>  A <a href="https://ru.wikipedia.org/wiki/GIF">GIF</a> file consists of a fixed area at the beginning of the file, followed by a variable number of blocks, and the file ends with an image terminator. <br><br><img src="https://habrastorage.org/files/d49/97d/227/d4997d2275b141e0bebbe826eb796c26.png"><br><a name="habracut"></a><br>  <b>The main characteristics of the format GIF:</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The image in <a href="https://ru.wikipedia.org/wiki/GIF">GIF</a> format is stored line by line, only the format with an indexed color palette is supported; </li><li>  Supports 256-color palette; </li><li>  This format allows you to store multiple images in a single file; </li><li>  GIF supports animated images; <br><br>  <i>Such images are a sequence of several static frames, as well as information about how long each frame should be shown on the screen.</i>  <i>The animation can be made cyclic, then after the last frame, the first frame will start playing, and so on.</i> <br></li><li>  Supports "transparency"; <br><br>  <i>One of the colors in the palette can be declared "transparent."</i>  <i>In this case, in programs that support GIF transparency (for example, most modern browsers), the background will be visible through pixels that are colored with a ‚Äútransparent‚Äù color.</i>  <i>GIF animation can use transparency in order not to save the next frame as a whole, but only changes relative to the previous one.</i> <br></li><li>  A universal lossless LZW compression algorithm is used. </li></ul><br><h1>  Example parsing </h1><br>  Consider parsing a dump of an animated <a href="https://ru.wikipedia.org/wiki/GIF">GIF</a> image of 4x4 pixels, consisting of two frames.  And here are the frames themselves, increased tenfold. <br><br><img height="230" width="230" src="https://habrastorage.org/files/be1/47e/8a3/be147e8a3c1d4d38a61feb2faa1c4fa3.PNG"><img height="230" width="230" src="https://habrastorage.org/files/3a3/319/ace/3a3319ace4d548c1b0a7e25fbaf0c886.png"><br><br>  <a href="">Source image</a> <br><br><h3>  Headline </h3><br><img src="https://habrastorage.org/files/f2c/269/092/f2c2690926d84d59ac39ae01d8c315e2.png"><br><br>  At the beginning of each GIF file is a header.  It consists of the text "GIF87a" or "GIF89a", depending on the version.  In the GIF87a format, the variable region contains only image descriptions, and in the GIF89a format, it can also include extension blocks. <br><br><h3>  Logical Screen Descriptor </h3><br><img src="https://habrastorage.org/files/0f0/cb5/226/0f0cb5226f1b4fc198a7b74dd96fd65e.png"><br><br>  [04 00] [04 00] - the width and height of the virtual screen in pixels <br>  [A2] - <br>  (1) - M flag using global color table.  If 1, then the global color table is present in the file. <br>  (010) = 2 - CR flag.  The number of bits of color resolution = CR + 1. <br>  (0) - flag S (sorting flag).  If 1, then the colors in the global color map are sorted in descending order of importance. <br>  (010) = 2 - PIXEL flag.  The size of the overall color table.  Number of entries in the global color table: 2 ^ (N + 1). <br>  [00] - Background color index. <br>  [00] - Aspect ratio.  The default is 1: 1. <br><br><h3>  Global color chart </h3><br><img src="https://habrastorage.org/files/fc5/db5/54d/fc5db554d45b422cb86e9b87a43abb41.png"><br><br>  [0A B2 5D] - <img src="https://habrastorage.org/files/0a7/721/cff/0a7721cffdcb4002b877162badc55af8"><br>  [C8 A6 2D] - <img src="https://habrastorage.org/files/4c1/2b3/c23/4c12b3c231e54c88849e3cd709c91b3b"><br>  [F3 ED 63] - <img src="https://habrastorage.org/files/d69/b8f/2f3/d69b8f2f326449e08017c6d514bd3817"><br>  [BA 60 A5] - <img src="https://habrastorage.org/files/453/07b/6b4/45307b6b4b5745ab96db0f9f7fe493f8"><br>  [00 80 C8] - <img src="https://habrastorage.org/files/44e/0ea/cb3/44e0eacb364f4fe0aafebab8d666008f"><br>  [F1 60 22] - <img src="https://habrastorage.org/files/22c/38b/082/22c38b0823bc4af1aa9f4fbf529508ff"><br>  [00 00 00] - <img src="https://habrastorage.org/files/718/a9f/43c/718a9f43ca6d4f5db37fbe42da9bc438"><br>  [FF FF FF] - <img src="https://habrastorage.org/files/90a/8f3/ddd/90a8f3dddadc485dac301654fbc7d5a2"><br><br>  After the global color table is the variable part of the GIF.  The file contains a sequence of blocks, which are identified by a 1-byte code at the beginning of the block. <br><br>  Block codes: <br>  0x21 - Expansion <br>  0x2 - Image block <br>  0x3B - Completing a GIF File <br><br><h3>  Expansion unit </h3><br><img src="https://habrastorage.org/files/b2b/846/575/b2b846575a9c4b3a83bfdffe3f36176b"><br><br>  Expansion codes: <br>  0x1 - plain text extension <br>  0xF9 - graphics control extension <br>  0xFE - comment extension <br>  0xFF - program extension <br><br><img src="https://habrastorage.org/files/aa2/853/bd5/aa2853bd574a498bb7d0355dcce437f5.png"><br><br>  [FF] - extension code.  In our case, we have an extension of the program. <br>  [0B] - the size of the next block in bytes. <br>  [4E 45 54 53 43 41 50 45] - (NETSCAPE) The identifier of the application to which this extension belongs. <br>  [32 2E 30] - (2.0) application code.  With it, the application checks if this extension really belongs to it. <br>  [03] - the size of the next block in bytes. <br>  [01] - fixed value. <br>  [00 00] - the value is 0..65535.  Unsigned little-endian integer.  Determines how many times the loop should repeat. <br>  For 0 - infinite. <br>  [00] - the end of the block. <br><br><img src="https://habrastorage.org/files/ea6/9d7/049/ea69d7049dcb4517a090b7bb5b0f1194.png"><br><br>  [F9] - extension code (graphics control extension). <br>  [04] - the size of the next block in bytes. <br>  [04] - <br>  (000) - reserved.  It is recommended to fill with zeros. <br>  (001) - processing method.  Determines what to do after display. <br>  0 - no processing will be applied to the image <br>  1 - the picture will remain unchanged <br>  2 - the picture is wiped by background <br>  3 - the image under the picture will be restored <br>  4-7 - not defined <br>  (0) - user input flag.  If 1, then to continue processing the image requires the reaction of the user. <br>  (0) - flag color transparency.  Indicates whether any color will be used as transparent. <br>  [32 00] - time delay in animation.  = 50/100 seconds = 0.5 s <br>  [00] is the index of the color of transparency. <br>  [00] - the end of the block. <br><br><h3>  Image block </h3><br><img src="https://habrastorage.org/files/f01/391/9de/f013919de2984dd08c26ef37d16a8688"><br><br><img src="https://habrastorage.org/files/4e8/d38/ca6/4e8d38ca6b9548c7a3a2ae5a73cda59e.png"><br><br>  [00 00] [00 00] is the row and column number.  Defines the coordinates of the upper left corner of the logical screen.  (0, 0). <br>  [04 00] [04 00] - width and height of the image in pixels. <br>  [00] - <br>  (0) - flag of using local color table <br>  (0) - flag interlaced.  Indicates the order in which the image pixels are read. <br>  0 - in rows from left to right, top to bottom <br>  1 - order: 0th.  8th, 16th ... 4th, 12th, 24th ... <br>  (0) - sorting flag of the local color table.  If 1, then the colors in the local color map are sorted in descending order of importance. <br>  (00) - reserved. <br>  (000) - PIXEL flag.  The size of the local color table, if any. <br><br>  [03] - the minimum code size in LZW. <br>  [08] - the size of the next block in bytes. <br>  [08 0A D2 42 90 94 59 12] is a data block compressed with the LZW algorithm.  Presented as a sequence of codes having a length [min.  code size] + 1 <br>  [00] - the end of the data stream. <br><br><h5>  <b>Parsing LZW algorithm</b> </h5><br><h4>  Frame 1 </h4><br><img height="230" width="230" src="https://habrastorage.org/files/be1/47e/8a3/be147e8a3c1d4d38a61feb2faa1c4fa3.PNG"><br><br>  <b>Dictionary / Code Table</b> <br><br><img src="https://habrastorage.org/files/44b/f77/f80/44bf77f800fd4d198083e00d69a20f9f"><br><br>  The dictionary is initialized by the number of colors and the {clear} and {end} codes.  We take the code with the length of the current size, we get its value from the dictionary.  If the value is in the dictionary, then we get a ready color index for the current pixel and add the following value to the dictionary: the resulting previous + first of the current.  If the dictionary does not yet have such a value, then add the previous + first of the previous one at this index.  The first code must match the {clear} value, the last one - {end} <br><br>  Solve the inverse problem.  Take the original image data and encode it using the LZW algorithm.  Under the source data we understand the sequence of color indices from the dictionary corresponding to each of the pixels.  Piskels are viewed from top to bottom, from left to right. <br><br><table><tbody><tr><th>  Step </th><th>  Action </th><th>  Index stream </th><th>  New Code Table Row </th><th>  Code stream </th></tr><tr><td>  one </td><td>  Init </td><td>  <font color="green"><strong>0</strong></font> <strong>0 0 0 2 2 2 2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  #eight </td></tr><tr><td>  2 </td><td>  Read </td><td>  <font color="green"><strong>0</strong></font> <strong><font color="red">0</font> 0 0 2 2 2 2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  #eight </td></tr><tr><td>  3 </td><td>  Not found </td><td>  <strong><font color="grey">0</font> <font color="green">0</font> 0 0 2 2 2 2 4 4 4 4 5 5 5 5</strong> </td><td>  # 10 - 0 0 </td><td>  # 8 # 0 </td></tr><tr><td>  four </td><td>  Read </td><td>  <strong><font color="grey">0</font> <font color="green">0</font> <font color="red">0</font> 0 2 2 2 2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 </td></tr><tr><td>  five </td><td>  Found </td><td>  <font color="grey"><strong>0</strong></font> <strong><font color="green">0</font></strong> <strong><font color="green">0</font></strong> <strong>0 2 2 2 2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 </td></tr><tr><td>  6 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong></font> <strong><font color="green">0</font></strong> <strong><font color="green">0</font></strong> <strong>&nbsp;</strong>  <font color="red"><strong>0</strong></font> <strong>2 2 2 2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 </td></tr><tr><td>  7 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0</strong></font> <font color="green"><strong>0</strong></font> <strong>2 2 2 2 4 4 4 4 5 5 5 5</strong> </td><td>  # 11 - 0 0 0 </td><td>  # 8 # 0 # 10 </td></tr><tr><td>  eight </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0</strong></font> <font color="green"><strong>0</strong></font> <strong>&nbsp;</strong>  <font color="red"><strong>2</strong></font> <strong>2 2 2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 </td></tr><tr><td>  9 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0</strong></font> <strong><font color="green">2</font></strong> <strong>2 2 2 4 4 4 4 5 5 5 5</strong> </td><td>  # 12 - 0 2 </td><td>  # 8 # 0 # 10 # 0 </td></tr><tr><td>  ten </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0</strong></font> <strong><font color="green">2</font></strong> <strong><font color="red">2</font> 2 2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 </td></tr><tr><td>  eleven </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0</strong></font> <strong><font color="grey">2</font></strong> <font color="green"><strong>&nbsp;</strong></font>  <font color="green"><strong>2</strong></font> <strong>2 2 4 4 4 4 5 5 5 5</strong> </td><td>  # 13 - 2 2 </td><td>  # 8 # 0 # 10 # 0 # 2 </td></tr><tr><td>  12 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0</strong></font> <font color="grey"><strong>2</strong></font> <font color="green"><strong>&nbsp;</strong></font>  <font color="green"><strong>2</strong></font> <strong>&nbsp;</strong>  <font color="red"><strong>2</strong></font> <strong>2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 </td></tr><tr><td>  13 </td><td>  Found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0</strong></font> <font color="grey"><strong>2</strong></font> <font color="green"><strong>&nbsp;</strong></font>  <font color="green"><strong>2</strong></font> <strong><font color="green">2</font></strong> <strong>2 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 </td></tr><tr><td>  14 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0</strong></font> <font color="grey"><strong>2</strong></font> <font color="green"><strong>&nbsp;</strong></font>  <font color="green"><strong>2 2</strong></font> <strong><font color="red">2</font> 4 4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 </td></tr><tr><td>  15 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2</strong></font> <strong><font color="green">2</font> 4 4 4 4 5 5 5 5</strong> </td><td>  # 14 - 2 2 2 </td><td>  # 8 # 0 # 10 # 0 # 2 # 13 </td></tr><tr><td>  sixteen </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2</strong></font> <font color="green"><strong>2</strong></font> <font color="red"><strong>4</strong></font> <strong>4 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 </td></tr><tr><td>  17 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2</strong></font> <font color="green"><strong>4</strong></font> <strong>4 4 4 5 5 5 5</strong> </td><td>  # 15 - 2 4 </td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 </td></tr><tr><td>  18 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2</strong></font> <font color="green"><strong>4</strong></font> <strong><font color="red">4</font> 4 4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 </td></tr><tr><td>  nineteen </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4</strong></font> <font color="green"><strong>4</strong></font> <strong>4 4 5 5 5 5</strong> </td><td>  # 16 - 4 4 </td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 </td></tr><tr><td>  20 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4</strong></font> <font color="green"><strong>4</strong></font> <font color="red"><strong>4</strong></font> <strong>4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 </td></tr><tr><td>  21 </td><td>  Found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4</strong></font> <font color="green"><strong>4 4</strong></font> <strong>4 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 </td></tr><tr><td>  22 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4</strong></font> <font color="green"><strong>4 4</strong></font> <strong><font color="red">4</font> 5 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 </td></tr><tr><td>  23 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4</strong></font> <font color="green"><strong>4</strong></font> <strong>5 5 5 5</strong> </td><td>  # 17 - 4 4 4 </td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 </td></tr><tr><td>  24 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4</strong></font> <font color="green"><strong>4</strong></font> <strong><font color="red">5</font> 5 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 </td></tr><tr><td>  25 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4</strong></font> <strong><font color="green">5</font> 5 5 5</strong> </td><td>  # 18 - 4 5 </td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 </td></tr><tr><td>  26 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4</strong></font> <strong><font color="green">5</font></strong> <strong><font color="red">5</font> 5 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 </td></tr><tr><td>  27 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4 5</strong></font> <strong><font color="green">5</font> 5 5</strong> <br></td><td>  # 19 - 5 5 </td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 # 5 </td></tr><tr><td>  28 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4 5</strong></font> <strong><font color="green">5</font> <font color="red">5</font> 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 # 5 </td></tr><tr><td>  29 </td><td>  Found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4 5</strong></font> <strong><font color="green">5 5</font> 5</strong> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 # 5 </td></tr><tr><td>  thirty </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4 5</strong></font> <strong><font color="grey">&nbsp;</font></strong>  <strong><font color="green">5 5</font></strong> <font color="red"><strong>5</strong></font> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 # 5 </td></tr><tr><td>  31 </td><td>  Not found </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4 5 5 5</strong></font> <strong><font color="green">5</font></strong> </td><td>  # 20 ‚Äì5 5 5 </td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 # 5 # 19 </td></tr><tr><td>  32 </td><td>  Read </td><td>  <font color="grey"><strong>0</strong> <strong>0 0 0 2 2 2 2 4 4 4 4 5 5 5 5</strong></font> </td><td></td><td>  # 8 # 0 # 10 # 0 # 2 # 13 # 2 # 4 # 16 # 4 # 5 # 19 # 5 # 9 </td></tr></tbody></table><br>  Now compare the coding result with the compressed data stored in the dump.  The GIF format in this block stores multibyte integers with the low byte in the first place (direct byte order). <br><br>  [08 0A D2 42 90 94 59 12] is a data block compressed with the LZW algorithm. <br><br><img src="https://habrastorage.org/files/ea7/729/eef/ea7729eef8284622993464fa94e9a3a6"><br><br>  We do the same with the second frame. <br><br><h4>  Frame 2 </h4><br><img height="230" width="230" src="https://habrastorage.org/files/3a3/319/ace/3a3319ace4d548c1b0a7e25fbaf0c886.png"><br><br>  <b>Dictionary / Code Table</b> <br><br><img src="https://habrastorage.org/files/9c6/8af/24d/9c68af24dfbf4f929070dc17a5b331b0"><br><br><table><tbody><tr><th>  Step </th><th>  Action </th><th>  Index stream </th><th>  New Code Table Row </th><th>  Code stream </th></tr><tr><td>  one </td><td>  Init </td><td>  <b><font color="green">3</font> 6 1 7 3 6 1 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  #eight </td></tr><tr><td>  2 </td><td>  Read </td><td>  <b><font color="green">3</font></b> <b><font color="red">6</font> 1 7 3 6 1 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  #eight </td></tr><tr><td>  3 </td><td>  Not found </td><td>  <b><font color="grey">3</font> <font color="green">6</font> 1 7 3 6 1 7 3 6 1 7 3 6 1 7</b> </td><td>  # 10 - 3 6 </td><td>  # 8 # 3 </td></tr><tr><td>  four </td><td>  Read </td><td>  <b><font color="grey">3</font> <font color="green">6</font></b> <b><font color="red">1</font> 7 3 6 1 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 </td></tr><tr><td>  five </td><td>  Not found </td><td>  <b><font color="grey">3 6</font> <font color="green">1</font> 7 3 6 1 7 3 6 1 7 3 6 1 7</b> </td><td>  # 11 - 6 1 </td><td>  # 8 # 3 # 6 </td></tr><tr><td>  6 </td><td>  Read </td><td>  <b><font color="grey">3 6</font> <font color="green">1</font></b> <b><font color="red">7</font> 3 6 1 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 </td></tr><tr><td>  7 </td><td>  Not found </td><td>  <b><font color="grey">3 6 1</font> <font color="green">7</font> 3 6 1 7 3 6 1 7 3 6 1 7</b> </td><td>  # 12 - 1 7 </td><td>  # 8 # 3 # 6 # 1 </td></tr><tr><td>  eight </td><td>  Read </td><td>  <b><font color="grey">3 6 1</font> <font color="green">7</font></b> <b><font color="red">3</font> 6 1 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 </td></tr><tr><td>  9 </td><td>  Not found </td><td>  <b><font color="grey">3 6 1 7</font> <font color="green">3</font> 6 1 7 3 6 1 7 3 6 1 7</b> </td><td>  # 13 - 7 3 </td><td>  # 8 # 3 # 6 # 1 # 7 </td></tr><tr><td>  ten </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7</font> <font color="green">3</font></b> <b><font color="red">6</font> 1 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 </td></tr><tr><td>  eleven </td><td>  Found </td><td>  <b><font color="grey">3 6 1 7</font> <font color="green">3</font></b> <b><font color="green">6</font> 1 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 </td></tr><tr><td>  12 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7</font> <font color="green">3</font></b> <b><font color="green">6</font></b> <b><font color="red">1</font> 7 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 </td></tr><tr><td>  13 </td><td>  Not found </td><td>  <b><font color="grey">3 6 1 7 3 6</font> <font color="green">1</font> 7 3 6 1 7 3 6 1 7</b> </td><td>  # 14 - 3 6 1 </td><td>  # 8 # 3 # 6 # 1 # 7 # 10 </td></tr><tr><td>  14 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6</font> <font color="green">1</font></b> <b><font color="red">7</font> 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 </td></tr><tr><td>  15 </td><td>  Found </td><td>  <b><font color="grey">3 6 1 7 3 6</font> <font color="green">1</font></b> <b><font color="green">7</font> 3 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 </td></tr><tr><td>  sixteen </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6</font> <font color="green">1</font></b> <b><font color="green">7</font></b> <b><font color="red">3</font> 6 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 </td></tr><tr><td>  17 </td><td>  Not found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7</font> <font color="green">3</font> 6 1 7 3 6 1 7</b> </td><td>  # 15 - 1 7 3 </td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 </td></tr><tr><td>  18 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7</font> <font color="green">3</font></b> <b><font color="red">6</font> 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 </td></tr><tr><td>  nineteen </td><td>  Found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7</font> <font color="green">3 6</font> 1 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 </td></tr><tr><td>  20 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7</font> <font color="green">3 6</font></b> <b><font color="red">1</font> 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 </td></tr><tr><td>  21 </td><td>  Found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7</font> <font color="green">3 6 1</font> 7 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 </td></tr><tr><td>  22 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7</font> <font color="green">3 6 1</font></b> <b><font color="red">7</font> 3 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 </td></tr><tr><td>  23 </td><td>  Not found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1</font> <font color="green">7</font> 3 6 1 7</b> </td><td>  # 16 - 3 6 1 7 </td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 </td></tr><tr><td>  24 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1</font> <font color="green">7</font></b> <b><font color="red">3</font> 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 </td></tr><tr><td>  25 </td><td>  Found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1</font> <font color="green">7 3</font> 6 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 </td></tr><tr><td>  26 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1</font> <font color="green">7 3</font></b> <b><font color="red">6</font> 1 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 </td></tr><tr><td>  27 </td><td>  Not found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1 7 3</font> <font color="green">6</font> 1 7</b> </td><td>  # 17 - 7 3 6 </td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 # 13 </td></tr><tr><td>  28 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1 7 3</font> <font color="green">6</font></b> <b><font color="red">1</font> 7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 # 13 </td></tr><tr><td>  29 </td><td>  Found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1 7 3 6</font> <font color="green">1</font></b> <b><font color="grey">&nbsp;</font></b>  <b>7</b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 # 13 </td></tr><tr><td>  thirty </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1 7 3 6</font> <font color="green">1</font> <font color="red">7</font></b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 # 13 </td></tr><tr><td>  31 </td><td>  Not found </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1 7 3 6 1</font> <font color="green">7</font></b> </td><td>  # 18 - 6 1 7 </td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 # 13 # 11 </td></tr><tr><td>  32 </td><td>  Read </td><td>  <b><font color="grey">3 6 1 7 3 6 1 7 3 6 1 7 3 6 1 7</font></b> </td><td></td><td>  # 8 # 3 # 6 # 1 # 7 # 10 # 12 # 14 # 13 # 11 # 7 # 9 </td></tr></tbody></table><br>  [38 16 A7 EC 6D 9D 04] is a data block compressed with the LZW algorithm. <br><br><img src="https://habrastorage.org/files/554/7db/ba6/5547dbba6cb64f5187d64ca992aa8340"><br><br><h3>  Gif file completion block </h3><br><img src="https://habrastorage.org/files/4f9/034/95e/4f903495eecf42fc9bcedd42e16d0252.png"><br><br><h3>  Conclusion </h3><br>  That's all.  We hope this article was useful for you (or at least interesting). <br><br><img src="https://habrastorage.org/files/e23/756/0d1/e237560d17e2402381e999d3c62cd0bb.jpg"><br><br><h4>  Useful links: </h4><br>  <a href="http://www.w3.org/Graphics/GIF/spec-gif89a.txt">www.w3.org/Graphics/GIF/spec-gif89a.txt</a> <br>  <a href="http://home.onego.ru/~chiezo/gif.htm">home.onego.ru/~chiezo/gif.htm</a> <br><br>  Authors: <a href="http://habrahabr.ru/users/kolyadkodarya/" class="user_link">kolyadkodarya</a> <a href="http://habrahabr.ru/users/blueberry24/" class="user_link">blueberry24</a> <a href="http://habrahabr.ru/users/anna_shunko/" class="user_link">anna_shunko</a> </div><p>Source: <a href="https://habr.com/ru/post/274917/">https://habr.com/ru/post/274917/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274907/index.html">–ï–ì–ê–ò–° - increase of information security of workplaces</a></li>
<li><a href="../274909/index.html">Dolphin Smalltalk 7 is dedicated to Open Sourse</a></li>
<li><a href="../274911/index.html">Calculation of binomial coefficients ... still programmatically</a></li>
<li><a href="../274913/index.html">Call service via video site with 3CX</a></li>
<li><a href="../274915/index.html">Automatic control of the lifetime of common C ++ - QML objects</a></li>
<li><a href="../274919/index.html">Asterisk: ngrep, sipgrep, sngrep, protocol diagram</a></li>
<li><a href="../274921/index.html">Beeline Data School, holidays are over</a></li>
<li><a href="../274923/index.html">Farm IIS and Application Request Routing</a></li>
<li><a href="../274925/index.html">ActiveRecord's inheritance describing one table (single table inheritance pattern) in Yii2</a></li>
<li><a href="../274927/index.html">Happiness chart with python, pandas and matplotlib</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>