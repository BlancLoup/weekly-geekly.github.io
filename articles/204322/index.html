<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Deploying a server on Windows Server 2012 / Dell PowerEdge R420 using puppet</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Task 
 You must deploy a server with the following requirements: 



- RAID-10 disk array 
- Full Performance in BIOS 
- Windows Server 2012 with all ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Deploying a server on Windows Server 2012 / Dell PowerEdge R420 using puppet</h1><div class="post__text post__text-html js-mediator-article"><h4>  <b>Task</b> </h4><br>  You must deploy a server with the following requirements: <br><br><ul><li>  RAID-10 disk array </li><li>  Full Performance in BIOS </li><li>  Windows Server 2012 with all updates and patches </li><li>  This is the future application server with services that require .net 4.5 </li><li>  Monitoring server availability as well as CPU, Memory and free disk space </li><li>  You need to connect the server to the rollout system of Octopus Deploy releases. </li></ul><br><br><h4>  <b>Difficulties</b> </h4><br>  The main requirement here is that everything should be as automated as possible, human participation is minimized to 1 minute ‚Äúat the beginning‚Äù and 1 minute ‚Äúat the end‚Äù.  The goal of this automation is the potential need to ‚Äúraise‚Äù several new servers quickly enough.  The solution should not be difficult for the younger administrators and developers who are not responsible for server deployment. <br><a name="habracut"></a><br><h4>  <b>Decision</b> </h4><br>  To begin with, all I have right now is a working server that is connected to the network.  I know his MAC address and future name (app8).  It has neither the operating system nor the ability to manually insert a disk.  Yes, what a sin to conceal - I don't have a disk with Windows either! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  To do the following: </h5><br><ol><li>  Configure BIOS Performance Options </li><li>  Create a RAID-10 array </li><li>  Boot from PXE to pxeboot.com </li><li>  Select the appropriate boot.wim boot loader and select the required operating system. </li><li>  Create logical drives C: \ and D: \ </li><li>  Install the operating system on the C: \ drive </li><li>  Configure the server for the required tasks using puppet </li></ol><br><br>  Before reading the article, it is recommended to read the relevant articles on the preparation of puppet classes that are used in this article: <br><br><ul><li>  <a href="http://habrahabr.ru/post/204314/">Creating and effectively using WIM images - Chocolate Chocolate</a> </li><li>  <a href="http://habrahabr.ru/post/204306/">Managing WMI Access Rights with Puppet</a> </li><li>  <a href="http://habrahabr.ru/post/203184/">Puppet + Opsview: template-based automatic monitoring</a> </li></ul><br>  Our servers are located at the collocation, which is physically far, so I will use WDS and IP KVM.  Access to KVM is via the web interface, the remote ‚Äúscreen‚Äù itself is implemented using a java-based application.  By and large, IP KVM is no longer necessary, since  All my deployments occur almost automatically, but the old habit of watching what is happening on the screen remains, and the factory settings of the iron do not always coincide with the required ones. <br><habracut></habracut><br><div class="spoiler">  <b class="spoiler_title">So far there is nothing on the server:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/1d1/86e/7a1/1d186e7a14b71765c0cb95541dd9d638.png"><br></div></div><br>  Go to the BIOS (F2) and adjust the performance parameters.  The difference between Performance and Performance Per Watt is that when using Perormance Per Watt, the server automatically reduces the power consumption of components when idle.  We do not need this behavior, because we do not gain anything from reduced power consumption, but on the contrary, we lose from performance delays (at that moment when the server realizes that it‚Äôs time to work at full capacity but have not yet turned off low power consumption). <br><br><div class="spoiler">  <b class="spoiler_title">Performance Options:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/ab2/726/16a/ab272616af96fe46c18557a8e853847a.png"><br></div></div><br>  When ordering servers <a href="http://configure.us.dell.com/dellstore/config.aspx%3Foc%3Dbecte4%26model_id%3Dpoweredge-r420%26c%3Dus%26l%3Den%26s%3Dbsd%26cs%3D04">on the Dell website,</a> you can also order a server with the required RAID configuration.  This particular server came with RAID5, so you have to change the configuration.  Go to the RAID configuration utility by pressing Ctrl + R at the boot stage and create a RAID10 array of 4x 1TB drives, which ultimately gives 2TB of ‚Äúspace‚Äù for the data.  Write-Back and Adaptive Read Ahead - what we need, leave the default: <br><br><div class="spoiler">  <b class="spoiler_title">Configure the Raid controller:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/33e/29a/912/33e29a9122faef0db7adaf2242f25d78.png"><br></div></div><br>  You can also automate the process of creating the right RAID during the installation of the OS using a custom loader (whether it is WinPE or a Linux installer).  If anyone has done this on DELL systems, I‚Äôll be happy if you share your experience - most, unfortunately, there is simply no time for it. <br><br>  Next on DHCP, the ip address of the future server is set, the name is given.  MAC Address is known to me because  when accepting equipment, we record this information.  Alternatively, the MAC Address can be spied on when the server is loaded, or you can ask the NOC staff at the DC to view it on the server itself. <br><br><div class="spoiler">  <b class="spoiler_title">We give the IP Address to the new server:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0d9/a12/248/0d9a122482a3de0e717c7ff959095e8b.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Next, in 'Address Leases', we allow access to the DHCP server:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/388/25e/024/38825e024fe0543a0a2d9358fe1289b8.png"><br></div></div><br>  Reboot the server, enter PXE boot mode, then you need to confirm the server in WDS, assign a name to it, and you can also specify a bootloader (pxeboot.com in this case).  This action will allow you to apply the correct configuration, as well as bring the server to the domain, when properly configured unattend.xml. <br><br><div class="spoiler">  <b class="spoiler_title">We confirm the server in WDS:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f26/c76/514/f26c76514a2ad1f660c6409ad69ac136.png"><br></div></div><br>  Do not forget to specify in unattend.xml the name and password of a user who has the right to add computers to the domain.  I have these rights delegated to a specially created for this service user.  Previously, I manually edited unattend.xml until the Windows AIK appeared (in its previous incarnations) - now you can download it from the official Microsoft <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D5753">website</a> . <br><br>  After allowing access, the server is loaded into the appropriate bootloader, where the boot image is selected, and then the system image itself.  I choose the updated Server 2012 Standard image that I created <a href="http://habrahabr.ru/post/204314/">here</a> .  The boot image can also be selected at the server confirmation stage (in the same place where you select the unattend.xml file).  It should be noted that the boot image must contain the corresponding drivers for the disk controller and the network card in order to work correctly (for Dell, all drivers are on the OpenManage disk, they need to be unpacked using a special utility that is located there).  If anyone is interested in how I did it - let me know, I will be glad to share. <br><br>  It is interesting to note that I have a couple of configurations with a completely unattended installation, but for some reason I do not use them, I think the scale of the company is not yet the one to typify Windows server configurations so much - something is constantly different.  (By the way, there are also kickstart configurations for Linux, which I use much more often, since basically these are cluster typical configurations). <br><br>  So, it's time to choose the hard disk configuration, I put 250G on the C drive and the rest 1600G on the DATA partition.  Everything, the process has begun.  ‚ÄúYou can lean back in your chair while Windows is installed on your computer‚Äù (I remember how in total darkness my room was lit up in the blue color of the Windows 98 installer light ...) <br><br><div class="spoiler">  <b class="spoiler_title">Install Windows:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/b60/235/a1b/b60235a1b786fd5bc326e58292883a63.png"><br></div></div><br>  While the Windows were being installed, I remembered that in the image I have a VNC server, which starts immediately after the network initialization in Windows PE.  It‚Äôs a pity I couldn‚Äôt find a normal syslog client for trimmed WindowsPE - I want to know when VNC starts, can anyone know? <br><br>  At this stage, unattend.xml stages are also performed, including the registration of the puppet agent. <br><br><div class="spoiler">  <b class="spoiler_title">To automatically register the puppet agent, add the following to the unattend.xml file</b> <div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-Deployment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronous</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span>Install Puppet<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>cinst puppet -ia "PUPPET_MASTER_SERVER=puppet.mydomain.local"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span>Request Certificate<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>("C:\Program Files (x86)\Puppet Labs\Puppet\bin\puppet_interactive.bat" --test) &amp;&amp; echo OK<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span>Stop Puppet Service<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>(sc stop puppet) &amp;&amp; echo Service Stop OK<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span>Start Puppet Service<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>(sc start puppet) &amp;&amp; echo Service Start OK<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronousCommand</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RunSynchronous</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br>  So, Windows has booted - we check availability (manually or automatically), do not forget to reload the zones and clear the dns cache.  If the domain name responds, then the server is added to the domain (if not, go to the server and check that it is not enough for it).  That's all, you can start puppet magic, since the puppet agent should already be installed at the Microsoft-Windows-Deployment / RunSynchronous stage. <br><br>  We confirm the certificate on the puppet master server, after which we see the following picture in TheForeman: <br><img src="https://habrastorage.org/getpro/habr/post_images/662/299/08a/66229908ac27ac780c063a2e80be973e.png"><br><br>  This means that our new server is ready for ‚Äúdedication‚Äù and we can use the classes we need (packages :: opsview, packages :: octopus-tentacle, packages :: logstash :: client and any others).  Go to the server settings in the TheForeman control panel and select what you need: <br><br><div class="spoiler">  <b class="spoiler_title">We use puppet classes that contain everything you need:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/e44/3b9/6ca/e443b96cafa8fdde1a34520c6f996e99.png"><br></div></div><br>  The beauty of puppet is that it is a configuration and orchestration control system, that is, it doesn‚Äôt matter what state the system is in now; it must do everything to bring it to the state you indicated.  Therefore, for example, for packages :: octopus-tentacle, he will install the necessary frameworks, install the package, and in my case register the tentacle agent on the octopus server, and all that remains is to assign the appropriate groups / projects to this server ( that we will deploy) - all this is configured by you, but about this another time. <br><br>  If time allows, I like to run the puppet agent manually for the first time right on the server so as not to wait for the next puppet run: <br><br><pre> <code class="bash hljs">puppet agent --<span class="hljs-built_in"><span class="hljs-built_in">test</span></span> --debug</code> </pre><br><br>  <b>After puppet run is complete:</b> <br><br><ul><li>  The <a href="http://www.opsview.com/%3Fcurrency%3DUSD">Opsview</a> Agent (based on <a href="http://nsclient.org/nscp/">NSClient</a> ) is <a href="http://nsclient.org/nscp/">installed</a> . </li><li>  Will configure the monitoring server Opsview ( <a href="http://habrahabr.ru/post/203184/">post on Habr√©</a> ) </li><li>  Logstash agent will be installed and configured (wait for the post on the habre, but for now the <a href="http://demo.kibana.org/">link to the demo</a> ) </li><li>  The <a href="http://octopusdeploy.com/">Octopus Deploy</a> agent is installed and the agent registration is completed. </li></ul><br>  Everything! <br><br><h4>  <b>Conclusion</b> </h4><br>  When I remember how I went through the process of deploying the server manually, it takes me to shiver.  These are CD / DVD discs, these are 2 days (if unhurriedly, in the background) or 1 day (if you focus and do nothing else) ‚Äîthat was how much time it took!  Every time I had to update the system to the current state.  After all, it works as ‚Äúinstalled, rebooted, installed, rebooted‚Äù ... And if it is 10 or 20 or 100 servers?  About minor settings and tweaks generally keep quiet. <br><br>  I know that this is done easier and more conveniently with MS SCCM, software installation is through group policy, and maybe I would have done so if it were not for the confusion of the environment where Windows lives peacefully with Linux under the supervision of a single IT department.  Puppet is, in my opinion, a universal remedy.  Puppet saves my life, and I also teach our developers to use it (and they are C # guys).  The advantages include the fact that the puppet configuration manifest is a program code that can be stored in a version control system (git, for example), and also easy to distribute!  (IaaC discussions are welcome).  I do not know alternatives that could combine all kinds of OSEs from a heterogeneous environment into one single description of the infrastructure, and you?  Also, I do not know of a convenient Microsoft system that could be stored under Source Control and conveniently distributed.  If anyone knows what - I will be glad to hear in the comments. <br>  Behind this I take my leave, it's time to do other things! <br><br>  UPDATE: For all the minus - a huge request to unsubscribe or not minus at all. </div><p>Source: <a href="https://habr.com/ru/post/204322/">https://habr.com/ru/post/204322/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204308/index.html">Graphing tools for .NET</a></li>
<li><a href="../204310/index.html">Simple SDR receiver on FPGA</a></li>
<li><a href="../204314/index.html">Creating and effectively using WIM images - Chocolate Chocolate</a></li>
<li><a href="../204316/index.html">PD protection in small, medium and large organizations. Is it all smooth?</a></li>
<li><a href="../204318/index.html">Set up the Ubuntu shell for you</a></li>
<li><a href="../204324/index.html">Simulation of the simplest flow</a></li>
<li><a href="../204326/index.html">Indian Martian probe directed towards Mars</a></li>
<li><a href="../204330/index.html">Half a kilometer rechargeable lantern</a></li>
<li><a href="../204338/index.html">We program under Pebble. Lesson One: Stupid Watches</a></li>
<li><a href="../204342/index.html">How are we trying to sell PVS-Studio to Google or the next mistakes in Chromium?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>