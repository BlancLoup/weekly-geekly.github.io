<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hackers attack, what to do?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last week (October 2015) an old friend asked me to help. They had a disaster with accounting. 

 We‚Äôve known the company for a long time, we‚Äôre friend...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hackers attack, what to do?</h1><div class="post__text post__text-html js-mediator-article">  Last week (October 2015) an old friend asked me to help.  They had a disaster with accounting. <br><br>  We‚Äôve known the company for a long time, we‚Äôre friends with the director for 10 years.  About 1.5 years ago they turned to us for help, but for some reason refused our services.  As a result, we entered into an agreement with 1C franchisee, which began serving them remotely.  The company assured that everything will be fine for the time being. <br><br>  But then, at one point, the accountant cannot enter, there is no database, and after 10 days the tax records are submitted. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/ea8/1b5/6f9/ea81b56f9fe74994b97dd6e9a80cb915.jpg" alt="image"><br><a name="habracut"></a><br>  - Why are you a hearty friend (I say), I offered you our services several times. <br>  - Well, it happened, he answered, help. <br><br>  Some details of the hacker attack.  Your server looks to the Internet with one port, it has a real IP address running a RDP service.  Obviously, the attack is carried out on the selection of a password on the RDP, although below I will give a couple of other options.  Log in via a remote session is allowed to an administrator who is given the right to manage not only the 1C databases, but also the rest of the server resources.  After selecting a password, the hacker enters, makes the archive of your database the WinRAR archiver.  Finds backup copies, puts them in a separate archive.  On both archives sets a password of 10 characters.  Bases 1C and archival copies deletes eraser.  Creates a text file with the name IMPORTANT !!!  as follows: <br><br><img src="https://habrastorage.org/files/10d/90b/3a7/10d90b3a78ee418eb974a056a80aff4d.jpg" alt="image"><br><br>  "Attention!  Your databases are archived with a password, their use is impossible.  To get the password to the archive, you are required to pay 18,000 rubles for Yandex money. <br><br>  If you agree, write to the mail rob1111stewar@hotmail.com, indicating in the address the IP address of your server (external, you can find it by opening the site 2ip.ru) <br>  The IP address is required to give you your personal password from the archives. " <br><br>  Result: you have to pay a hacker, because it is impossible to access your database.  Decrypting the archive by brute force password will take a very long time. <br><br>  The hacker turned out to be surprisingly good, after the payment he issued a password and recommendations on how to eliminate security problems. <br><br>  It seems that the story is over, but I will give possible ways of attacks and options for protection against them: <br><br>  1. The option of direct selection of a password for access via RDP. <br>  2. Virus attack option with the launch of the server control program for password cracking. <br>  3. Option sabotage by the staff. <br><br>  We will not analyze the third option, since there is no protection against it.  Trusting to maintain your data, you always run the risk.  The second option can be circumvented if you have an updated antivirus installed on the server.  With this, too, everything is quite simple.  Let's stop on the first variant and ways of protection. <br><br><img src="https://habrastorage.org/files/8fe/f2b/252/8fef2b252bc8479c8eb02ead41a4a18f.jpg" alt="image"><br><br>  1. You must completely eliminate the direct connection of your server to the network.  If you need to provide access from the outside, install an external firewall.  An example is the inexpensive D-Link DFL-210/260.  With it, you will block any scan attempts and unnecessary open ports on your network.  Access to this screen within your network should be restricted. <br>  2. RDP service is best redirected to a port other than the default. <br>  3. The password for the account that has the right of remote access should consist of a meaningless set of letters and numbers.  Password length must be at least 10 characters. <br>  4. On the server, set a password restriction.  Let's say after 5 attempts to block your account for 10-15-30 minutes. <br>  5. Access to administrator accounts from the outside block, selecting a separate account for your needs. <br>  6. Backups should be available only to the administrator or backup user.  Folder permissions to backup files should also be as limited as possible. <br>  7. The most correct option, once a week to make backups on a portable media.  A laptop director, an accountant. <br><br>  Of course, it is impossible to fully defend against all types of hacker and other attacks.  But as much as possible to complicate the life of a hacker is quite capable.  With a probability of 90%, faced with such a server, the hacker will not waste time on you, but will find the victim easier. <br><br>  From the author: <br>  Colleagues, the article is not an advertisement for 1C or that hacker named Rob Stewart.  This real-life story happened a week ago.  It is focused on mere mortals and the most novice administrators. <br><br>  In addition, the author of the article is aware of a variety of protection methods, including the transfer of an RDP port.  But he, that is, I, specifically did not focus on this.  As I consider that the listed methods are quite enough for protection. <br><br>  P.S.  Of the options not considered protection - virtualization.  Separate the main database, access for updates, backups, use of specialized software.  And so on, :). </div><p>Source: <a href="https://habr.com/ru/post/269067/">https://habr.com/ru/post/269067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269049/index.html">Serge - the solution for continuous localization from Evernote</a></li>
<li><a href="../269055/index.html">Pulling information from the URL, in the style of Slack and Twitter</a></li>
<li><a href="../269057/index.html">Very handy abstract adapter for RecyclerView do it yourself</a></li>
<li><a href="../269061/index.html">Steam Protocol v2</a></li>
<li><a href="../269065/index.html">Big data, Beeline and Coco</a></li>
<li><a href="../269069/index.html">TypeScript 1.6 release: not just React</a></li>
<li><a href="../269073/index.html">RedHat Acquires Ansible</a></li>
<li><a href="../269075/index.html">Web Camp 2015: how it was</a></li>
<li><a href="../269079/index.html">SanDisk and HP Begin Collaboration on Memory-Driven Computing Technology</a></li>
<li><a href="../269081/index.html">Puli: Resource Management in php applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>