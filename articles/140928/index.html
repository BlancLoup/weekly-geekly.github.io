<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android Notifications. Alerts via the Status Bar</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, habrovchane. I have been developing for Android for a long time and I would like to tell the community about the right approach to cre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android Notifications. Alerts via the Status Bar</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, habrovchane.  I have been developing for Android for a long time and I would like to tell the community about the right approach to creating notifications. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa3/5f9/7f8/aa35f97f86ff213d88258d11e316abe9.png" alt="image"><br><br>  On Habr√© there is already an article on <a href="http://habrahabr.ru/blogs/android_development/111238">notifications in the status bar for android</a> .  It covers the basics of displaying the standard and configurable layout in the status bar. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Below, in addition to the previously described, we will consider adding a progress bar, event handling by clicking on notifications, various options for notification states.  Consider added recently in the Compatibility library Notification.Builder.  And also we will talk about recommendations on UI ( <a href="http://developer.android.com/design/index.html">design guidlines</a> ), which Google recommends to follow when creating notifications. <br><a name="habracut"></a><br><br>  Guidlines <br>  How to advise Android developers in the <a href="http://developer.android.com/design/patterns/notifications.html">official guideline</a> <br><h5>  When to show notifications: </h5><br><ul><li>  We show notifications when we do not want to distract the user by blocking the screen with our <a href="http://developer.android.com/guide/topics/ui/dialogs.html">dialogues</a> or switching to the notification screen.  We do not distract the user, but at the same time we do not deprive him of the opportunity to know the content of our notification at any time. </li><li>  Most often, notifications do not spontaneously appear, but appear at the moments when the user expects a reaction from the application. </li><li>  First of all, notifications should reflect time-dependent events.  Somehow: calendar events, incoming messages, requests from social networks. </li></ul><br><br><h5>  When not to show notifications: </h5><br><ol><li>  You do not need to show notifications for non-important time-sensitive events.  For example, news from social networks. </li><li>  No need to show what is already displayed in the application's UI. </li><li>  It is not necessary to display the course of low-level operations, such as referring to the database. </li><li>  If the application quickly corrects the error itself, then you do not need to show this error at all, let alone the notification. </li><li>  Do not show notifications about services that the user cannot control. </li><li>  A bad approach is to create a large number of notifications in order to remind the user about the application, constantly displaying its icon and name. </li></ol><br><br><h5>  Good practice: </h5><br><ol><li>  By clicking on the notification, the user should open the corresponding application screen.  In some cases, it is enough that a click on a notification is simply removed. </li><li>  Specifying the time of the event in the notification is also a good approach. </li><li>  It is recommended to add similar events to one notification, and not to display its own for each event. </li><li>  Always remove from the status bar notifications that the user has already read and performed the appropriate actions. </li><li>  Show a small preview of the notification when it is created in the collapsed status bar <img src="https://habrastorage.org/getpro/habr/post_images/60f/850/8ed/60f8508ed6df9b18e72277822cda106c.png" alt="image"></li><li>  Allow the user to turn off notifications in the application settings. </li><li>  Use icons that indicate the ownership of a notification to a specific application.  Icons do monochrome.  To do this, we recommend using a special <a href="http://android-ui-utils.googlecode.com/hg/asset-studio/dist/index.html">online editor.</a> </li><li>  If the event requires a direct user response, use dialogs instead of notifications. </li></ol><br><br><h5>  Architecture: </h5><br>  As a utility that is responsible for notifications, I use <a href="http://habrahabr.ru/post/129494/">singleton</a> in my applications, which can be accessed from any application class, I just need to have a link to <a href="http://developer.android.com/reference/android/content/Context.html">context</a> . <br><br>  It always stores links to all notifications created during the application that are still displayed in the status bar. <br><br>  And to assign a unique id to a new notification, a simple mechanism is used to refer to a private integer field, which is incremented by one each time. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> NotificationUtils { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> TAG = NotificationUtils. <font color="#0000ff">class</font> .getSimpleName(); <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> NotificationUtils instance; <br> <br> <font color="#0000ff">private static</font> Context context; <br> <font color="#0000ff">private</font> NotificationManager manager; <font color="#008000">//  ,  </font> <br> <font color="#0000ff">private</font> <font color="#0000ff">int</font> lastId = 0; <font color="#008000">//  ,    </font> <br> <font color="#0000ff">private</font> HashMap&lt;Integer, Notification&gt; notifications; <font color="#008000">// -     </font> <br> <br> <br> <font color="#008000">//   Singleton</font> <br> <font color="#0000ff">private</font> NotificationUtils(Context context){ <br> <font color="#0000ff">this</font> .context = context; <br> manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE); <br> notifications = <font color="#0000ff">new</font> HashMap&lt;Integer, Notification&gt;(); <br> }</font> <br> <font color="#008000">/** <br> *     <br> */</font> <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> NotificationUtils getInstance(Context context){ <br> if(instance== <font color="#0000ff">null</font> ){ <br> instance = <font color="#0000ff">new</font> NotificationUtils(context); <br> } else{ <br> instance.context = context; <br> } <br> <font color="#0000ff">return</font> instance; <br> } <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Create a notification using NotificationCompat.Builder: <br>  In order to use the classes included in the <a href="http://developer.android.com/sdk/compatibility-library.html">library of support for previous versions (Compatibility library)</a> , you need to add a library to the project from the folder / extras/android/support/v4/android-support-v4.jar <br>  If the project is aimed at Android 3.0 and above, then you do not need to add anything enough to refer to Notification.Builder <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">int</font> createInfoNotification( <font color="#2B91AF">String</font> message){ <br> Intent notificationIntent = <font color="#0000ff">new</font> Intent(context, HomeActivity. <font color="#0000ff">class</font> ); <font color="#008000">//      HomeActivity</font> <br> NotificationCompat.Builder nb = <font color="#0000ff">new</font> NotificationCompat.Builder(context) <br> <font color="#008000">//NotificationCompat.Builder nb = new NotificationBuilder(context) //  Android &gt; 3.0</font> <br> .setSmallIcon(R.drawable.ic_action_picture) <font color="#008000">// </font> <br> .setAutoCancel( <font color="#0000ff">true</font> ) <font color="#008000">//     </font> <br> .setTicker(message) <font color="#008000">//,    -   </font> <br> .setContentText(message) <font color="#008000">//   </font> <br> .setContentIntent(PendingIntent.getActivity(context, 0, notificationIntent, PendingIntent.FLAG_CANCEL_CURRENT)) <br> .setWhen(System.currentTimeMillis()) <font color="#008000">//  </font> <br> .setContentTitle( <font color="#A31515">"AppName"</font> ) <font color="#008000">// </font> <br> .setDefaults(Notification.DEFAULT_ALL); <font color="#008000">// ,       </font> <br> <br> Notification notification = nb.getNotification(); <font color="#008000">// </font> <br> manager.notify(lastId, notification); <font color="#008000">//   .</font> <br> notifications.put(lastId, notification); <font color="#008000">//       id</font> <br> <font color="#0000ff">return</font> lastId++; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Creating a custom display notification (Custom layout): <br><br><blockquote> <code><font color="black"><font color="#008000">/**</font> <br> <font color="#008000">*      </font> <br> <font color="#008000">* @param fileName - ,    .</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">public</font> <font color="#0000ff">int</font> createDownloadNotification( <font color="#2B91AF">String</font> fileName){ <br> <font color="#2B91AF">String</font> text = context.getString(R. <font color="#0000ff">string</font> .notification_downloading).concat( <font color="#A31515">" "</font> ).concat(fileName); <font color="#008000">// </font> <br> RemoteViews contentView = createProgressNotification(text, context.getString(R. <font color="#0000ff">string</font> .notification_downloading)); <font color="#008000">//View </font> <br> contentView.setImageViewResource(R.id.notification_download_layout_image, R.drawable.ic_stat_example); <font color="#008000">//  </font> <br> <font color="#0000ff">return</font> lastId++; <font color="#008000">// id,     </font> <br> } <br> <br> <font color="#008000">/**</font> <br> <font color="#008000">*    ProgressBar,   </font> <br> <font color="#008000">*</font> <br> <font color="#008000">* @param text  </font> <br> <font color="#008000">* @param topMessage ,    -   </font> <br> <font color="#008000">* @return View .</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">private</font> RemoteViews createProgressNotification( <font color="#2B91AF">String</font> text, <font color="#2B91AF">String</font> topMessage) { <br> Notification notification = <font color="#0000ff">new</font> Notification(R.drawable.ic_stat_example, topMessage, System.currentTimeMillis()); <br> RemoteViews contentView = <font color="#0000ff">new</font> RemoteViews(context.getPackageName(), R.layout.notification_download_layout); <br> contentView.setProgressBar(R.id.notification_download_layout_progressbar, 100, 0, <font color="#0000ff">false</font> ); <br> contentView.setTextViewText(R.id.notification_download_layout_title, text); <br> <br> notification.contentView = contentView; <br> notification.flags = Notification.FLAG_NO_CLEAR | Notification.FLAG_ONGOING_EVENT | Notification.FLAG_ONLY_ALERT_ONCE; <br> <br> Intent notificationIntent = <font color="#0000ff">new</font> Intent(context, NotificationUtils. <font color="#0000ff">class</font> ); <br> PendingIntent contentIntent = PendingIntent.getActivity(context, 0, notificationIntent, 0); <br> notification.contentIntent = contentIntent; <br> <br> manager.notify(lastId, notification); <br> notifications.put(lastId, notification); <br> <font color="#0000ff">return</font> contentView; <br> }</font></code> </blockquote> <br><br>  notification_download_layout.xml: <br><br><blockquote> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">LinearLayout</font> <font color="#ff0000">xmlns:android</font> <font color="#0000ff">="http://schemas.android.com/apk/res/android"</font> <br> <font color="#ff0000">android:layout_width</font> <font color="#0000ff">="fill_parent"</font> <br> <font color="#ff0000">android:layout_height</font> <font color="#0000ff">="65sp"</font> <br> <font color="#ff0000">android:padding</font> <font color="#0000ff">="10dp"</font> <br> <font color="#ff0000">android:orientation</font> <font color="#0000ff">="vertical"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">LinearLayout</font> <br> <font color="#ff0000">android:layout_width</font> <font color="#0000ff">="fill_parent"</font> <br> <font color="#ff0000">android:layout_height</font> <font color="#0000ff">="wrap_content"</font> <br> <font color="#ff0000">android:orientation</font> <font color="#0000ff">="horizontal"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ImageView</font> <br> <font color="#ff0000">android:id</font> <font color="#0000ff">="@+id/notification_download_layout_image"</font> <br> <font color="#ff0000">android:layout_width</font> <font color="#0000ff">="wrap_content"</font> <br> <font color="#ff0000">android:layout_height</font> <font color="#0000ff">="wrap_content"</font> <br> <font color="#ff0000">android:src</font> <font color="#0000ff">="@drawable/ic_stat_example"</font> <br> <font color="#ff0000">android:layout_gravity</font> <font color="#0000ff">="center_vertical"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">TextView</font> <br> <font color="#ff0000">android:id</font> <font color="#0000ff">="@+id/notification_download_layout_title"</font> <br> <font color="#ff0000">style</font> <font color="#0000ff">="@style/NotificationTitle"</font> <br> <font color="#ff0000">android:layout_width</font> <font color="#0000ff">="wrap_content"</font> <br> <font color="#ff0000">android:layout_height</font> <font color="#0000ff">="wrap_content"</font> <br> <font color="#ff0000">android:layout_alignParentTop</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">android:layout_marginLeft</font> <font color="#0000ff">="10dip"</font> <br> <font color="#ff0000">android:singleLine</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">android:text</font> <font color="#0000ff">="notification_download_layout_title"</font> <br> <font color="#ff0000">android:layout_gravity</font> <font color="#0000ff">="center_vertical"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">LinearLayout</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ProgressBar</font> <br> <font color="#ff0000">android:id</font> <font color="#0000ff">="@+id/notification_download_layout_progressbar"</font> <br> <font color="#ff0000">style</font> <font color="#0000ff">="?android:attr/progressBarStyleHorizontal"</font> <br> <font color="#ff0000">android:layout_width</font> <font color="#0000ff">="fill_parent"</font> <br> <font color="#ff0000">android:layout_height</font> <font color="#0000ff">="wrap_content"</font> <br> <font color="#ff0000">android:layout_marginTop</font> <font color="#0000ff">="4dp"</font> <br> <font color="#ff0000">android:progress</font> <font color="#0000ff">="0"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">LinearLayout</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br><br>  in Android 2.3 and higher (API&gt; 10) a special resource was created in which the system theme indicates the colors of the text of the notifications.  Because of this, in older versions you have to use a crutch: <br><br>  In the file res / values ‚Äã‚Äã/ styles.xml we write: <br><br><blockquote> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">style</font> <font color="#ff0000">name</font> <font color="#0000ff">="NotificationText"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">name</font> <font color="#0000ff">="android:textColor"</font> <font color="#0000ff">&gt;</font> ?android:attr/textColorPrimary <font color="#0000ff">&lt;/</font> <font color="#800000">item</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">style</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">style</font> <font color="#ff0000">name</font> <font color="#0000ff">="NotificationTitle"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">name</font> <font color="#0000ff">="android:textColor"</font> <font color="#0000ff">&gt;</font> ?android:attr/textColorPrimary <font color="#0000ff">&lt;/</font> <font color="#800000">item</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">item</font> <font color="#ff0000">name</font> <font color="#0000ff">="android:textStyle"</font> <font color="#0000ff">&gt;</font> bold <font color="#0000ff">&lt;/</font> <font color="#800000">item</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">style</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br><br>  And to support API&gt; 10 Create a file res / values-v9 / styles.xml and enter: <br><br><blockquote> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">style</font> <font color="#ff0000">name</font> <font color="#0000ff">="NotificationText"</font> <font color="#ff0000">parent</font> <font color="#0000ff">="android:TextAppearance.StatusBar.EventContent"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">style</font> <font color="#ff0000">name</font> <font color="#0000ff">="NotificationTitle"</font> <font color="#ff0000">parent</font> <font color="#0000ff">="android:TextAppearance.StatusBar.EventContent.Title"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br><br>  Now from the code of our application, we turn to the utility: <br><br><blockquote> <code><font color="black">NotificationUtils n = NotificationUtils.getInstance(getActivity()); <br> n.createInfoNotification( <font color="#A31515">"info notification"</font> );</font> <br></code> </blockquote><br><br>  Create notification with progress bar: <br><br><blockquote> <code><font color="black"><font color="#0000ff">int</font> pbId = NotificationUtils.getInstance(getActivity()).createDownloadNotification( <font color="#A31515">"downloading video"</font> );</font></code> </blockquote> <br><br>  And during the execution of a thread, we constantly update our progress by calling: <br><br><blockquote> <code><font color="black">NotificationUtils.getInstance(getActivity()).updateProgress(pbId, YOUR_PROGRESS);</font></code> </blockquote> <br><br>  As a result, we obtain: <br><img src="http://www.habrastorage.com/images/device2012.png" alt="image"><br><br>  As you can see, the lower notification created by us with the help of the builder can be removed at any time.  A notification with a progress bar is placed in the top block of notifications, in which the user cannot clear notifications. <br><br>  And finally, a little trick: <br><br>  If you do not want duplication of the same Activity in the stack - put in the manifest to the desired activity <br> <code>android:launchMode="singleTop"</code> </div><p>Source: <a href="https://habr.com/ru/post/140928/">https://habr.com/ru/post/140928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140921/index.html">How much does the copyright holder need?</a></li>
<li><a href="../140922/index.html">Interview with Dmitry Sklyarov</a></li>
<li><a href="../140924/index.html">ActiveGift.me is no longer in stealth</a></li>
<li><a href="../140925/index.html">The fastest processor module</a></li>
<li><a href="../140926/index.html">Skype went on the advertising path</a></li>
<li><a href="../140929/index.html">Is Google Drive launching in April?</a></li>
<li><a href="../140930/index.html">Amateur Game Translation: Anatomy of a Process, Part One</a></li>
<li><a href="../140931/index.html">Installing Linux (Lubuntu) on a Sony Vaio P netbook</a></li>
<li><a href="../140932/index.html">Google Drive will be launched in early April</a></li>
<li><a href="../140933/index.html">PlayStation 4 may not be compatible with games from previous PS versions.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>