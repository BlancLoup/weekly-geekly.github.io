<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating and setting up a Minecraft server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Minecraft today is one of the most popular online games. In less than three years (the first official release took place in the fall of 2011), he had ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating and setting up a Minecraft server</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ed8/074/989/ed80749899124869fda4055f806ddbac.png" alt="Minecraft selectel" width="100%" height="100%"><br><br>  Minecraft today is one of the most popular online games.  In less than three years (the first official release took place in the fall of 2011), he had millions of fans around the world. <br><br>  Game developers are consciously guided by the best samples of twenty years ago, when many games were primitive in terms of graphics by today's standards and imperfect in terms of usability, but at the same time they were really exciting. <br><a name="habracut"></a><br>  Like all sandbox games, Minecraft provides the user with tremendous opportunities for creativity - this, in fact, is the main secret of its popularity. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The organization of servers for the game in multiplayer mode is done by the players themselves and their communities.  Today, tens of thousands of game servers are operating on the Internet (see, for example, the list here). <br><br>  There are many fans of this game among our customers, and they rent equipment for game projects in our data centers.  In this article we will talk about what technical points you need to pay attention to when choosing a server for <br>  Minecraft. <br><br><h2>  Choosing a platform </h2><br>  The structure of the game Minecraft includes the following architectural elements: <br><ol><li>  server - a program through which players interact with each other over the network; </li><li>  Client - a program for connecting to a server installed on a player‚Äôs computer; </li><li>  plugins - add-ons to the server that add new features or extend old ones; </li><li>  fashion - additions to the game world (new blocks, items, features). </li></ol><br><br>  There are many server platforms for Minecraft.  The most common and popular are Vanilla and Bukkit. <br><br>  <a rel="nofollow" href="https://minecraft.net/download">Vanilla</a> is the official platform for game developers.  It is distributed both in graphic and console versions.  The new version of Vanilla is always released simultaneously with the new version of Minecraft. <br><br>  The disadvantage of Vanilla is excessive memory consumption (approximately 50 MB per player).  Another major drawback is the lack of plug-ins. <br><br>  <a rel="nofollow" href="http://dl.bukkit.org/">Bukkit</a> was created by a group of enthusiasts who attempted to improve the official Minecraft server.  The attempt turned out to be quite successful: in terms of functionality, Bukkit is much wider than Vanilla, primarily due to the support of various mods and plug-ins.  At the same time, it consumes less memory per player ‚Äî about 5‚Äì10 MB. <br><br>  The disadvantages of Bukkit are that when it starts up, it takes too much RAM.  In addition, the longer the server runs, the more memory it needs (even if there are few players).  When choosing Bukkit as a server, you should take into account that its new versions, as a rule, contain errors;  stable version usually appears about 2-3 weeks after the official version of Minecraft. <br><br>  In addition, other platforms have recently gained popularity (for example, Spout, MCPC and MCPC +), but they have limited compatibility with Vanilla and Bukkit and extremely limited support for mods (for example, for Spout, you can only write mods from scratch).  If they are used, then only for experiments. <br><br>  For the organization of the game server, we recommend using the Bukkit platform, as it is the most flexible;  In addition, under it there are many different mods and plug-ins.  Stable operation of the Minecraft server depends largely on the correct choice of hardware platform.  Consider this question in more detail. <br><br><h2>  Hardware requirements </h2><br>  Both the server and the Minecraft client are very demanding of system resources. <br>  When choosing a hardware platform, you should take into account that a multi-core processor will not give big advantages: the core of Minecraft server can use only one calculation thread.  The second core, however, will be useful: some plugins are executed in separate threads, and Java also consumes a lot of resources ... <br><br>  Therefore, for a Minecraft server, it is better to choose a processor that has a higher performance of one core.  A more powerful dual-core processor would be more preferable than a multi-core processor, but less powerful.  On specialized forums, it is recommended to use processors with a clock speed of at least 3GHz. <br><br>  For the normal functioning of the Minecraft server requires a large amount of RAM.  Bukkit takes up approximately 1GB of RAM;  in addition, under each player, as already mentioned above, 5 to 10 MB is allocated.  Plugins and mods also consume quite a lot of memory.  For a server with 30 to 50 players, thus, at least 4 GB of RAM will be required. <br><br>  In Minecraft, a lot (for example, downloading the same plugins) depends on the speed of the file system.  Therefore, it is preferable to choose a server with an SSD disk.  Spindle drives are unlikely to work because of the low random read speed. <br><br>  Internet connection speed is also of great importance.  For the game 40-50 people, a channel of 10 Mb / s will be enough.  However, those who are planning a larger minecraft project, including a website, a forum and a dynamic map, it is highly desirable to have a channel with more bandwidth. <br><br>  What specific configuration is best to choose?  From the <a rel="nofollow" href="http://selectel.ru/services/dedicated/">configurations offered by us, we</a> recommend to pay attention to the following: <br><ul><li>  Intel Core 2 Duo E8400 3GHz, 6GB RAM, 2 √ó 500GB SATA, 3000 rub / month; </li><li>  Intel Core 2 Quad Q8300 2.5GHz, 6GB RAM, 2 √ó 500GB SATA, 3500 RUR / month  - we use this configuration for our test server MineCraft, on which you can play right now (how to do this is written below); </li><li>  Intel Core i3-2120 3.3GHz, 8GB RAM, 2 √ó 500GB SATA, 3500 rub / month. </li></ul><br><br>  These configurations are quite suitable for creating a Minecraft server for 30-40 players.  Some disadvantage is the lack of SSD-drives, but we give another important advantage: a guaranteed channel of 100 MB / s without any restrictions and ratios.  When ordering all the above configurations, the installation fee is not charged. <br><br>  We also have more productive, but naturally more expensive servers (if you order these configurations, the installation fee is also not charged): <br><ul><li>  2x Intel Xeon 5130, 2GHz, 8GB RAM, 4 √ó 160GB SATA, 5000 rub / month; </li><li>  2x IntelXeon 5504, 2GHz, 12GB RAM, 3 √ó 1TB SATA, 9000 rub / month. </li></ul><br>  We also recommend to pay attention to the new budget model with an SSD-drive based on Intel Atom C2758 processor: Intel Atom C2758 2.4 GHz, 16 GB RAM, 2 √ó 240 GB SSD, 4000 rub / month, installation fee - 3000 rub. <br><br><h2>  Installing and running a Bukkit server in Ubuntu OS </h2><br>  Before installing the server, create a new user and add it to the sudo group: <br><pre> $ sudo useradd -m -s / bin / bash &lt;username&gt;
 $ sudo adduser &lt;username&gt; sudo
</pre><br>  Next, set the password under which the created user will connect to the server: <br><pre> $ sudo passwd &lt;username&gt;
</pre><br>  Reconnect to the server under the new account and proceed to the installation. <br>  Minecraft is written in Java, so the Java Runtime Environment must be installed on the server. <br><br>  Update the list of available packages: <br><pre> $ sudo apt-get update
</pre><br>  Then execute the following command: <br><pre> $ sudo apt-get install default-jdk
</pre><br>  To install and run Bukkit, it is also advisable to install a terminal multiplexer ‚Äî for example, screen (you can use other terminal multiplexers ‚Äî see our <a rel="nofollow" href="http://blog.selectel.ru/obzor-terminalnyx-multipleksorov-tmux-i-dvtm/">review</a> ): <br><pre> $ sudo apt-get install screen
</pre><br>  Screen is needed if we connect to the game server via ssh.  With it, you can start the Minecraft server in a separate terminal window, and even after the ssh client is closed, the server will work. <br><br>  Create a directory where server files will be stored: <br><pre> $ mkdir bukkit
 $ cd bukkit
</pre><br>  After that, go to <a rel="nofollow" href="https://dl.bukkit.org/downloads/craftbukkit/">the download page of the official site Bukkit</a> .  At the top right of the page you can see a link to the latest recommended build of the server (recommended build).  We advise you to download it: <br><pre> $ wget &lt;link to recommended version&gt;
</pre><br>  Now run the screen: <br><pre> $ sudo screen
</pre><br>  and execute the following command: <br><pre> $ java -Xmx1024M -jar craftbukkit.jar -o false
</pre><br>  Let us explain what the parameters used mean: <br><ul><li>  Xmx1024M - the maximum amount of RAM per server; </li><li>  jar craftbukkit.jar - key to the server; </li><li>  o false - allows access to the server from pirated clients. </li></ul><br><br>  The server will be started. <br>  You can stop the server by typing stop in the console. <br><br><h2>  Configuring and configuring the server </h2><br>  Server settings are stored in the server.properties configuration file.  It contains the following parameters: <br><ul><li>  generator-settings - sets the template for generating a super-flat world; </li><li>  allow-nether - determines the possibility of transition to the Lower World.  By default, this parameter is set to true.  If set to false, then all players from the Lower World will be moved to normal; </li><li>  level-name - the name of the folder with the map files that will be used during the game.  The folder is located in the same directory as the server files.  If there is no such directory, the server automatically creates a new world and places it in a directory with the same name; </li><li>  enable-query ‚Äî when set to true, activates the GameSpy4 protocol to listen to the server; </li><li>  allow-flight - allows flying in the Minecraft world.  The default is false (flights are not allowed); </li><li>  server-port - specifies the port that will be used by the game server.  The default port for Minecraft is 25565. It is not recommended to change the value of this parameter; </li><li>  level-type - defines the type of the world (DEFAUT / FLAT / LARGEBIOMES); </li><li>  enable-rcon - allows remote access to the server console.  By default it is disabled (false); </li><li>  level-seed - input data for the level generator.  To be able to create random worlds, this field must be left blank; </li><li>  force-gamemode - sets the standard game mode for players connecting to the server; </li><li>  server-ip - specifies the IP address that players will use to connect to the server; </li><li>  max-build-height - indicates the maximum height of the building on the server.  Its value must be a multiple of 16 (64, 96, 256, etc.); </li><li>  spawn-npcs ‚Äî allows (if set to true) or prohibits (if set to false) the appearance of NPS in villages; </li><li>  white-list - enables and disables the use of the white list of players on the server.  If set to true, the administrator will be able to form a white list by adding player nicknames to it manually.  If set to false, then any user who knows his IP address and port can log in to the server; </li><li>  spawn-animals - allows the automatic appearance of friendly mobs, if set to true); </li><li>  snooper-enabled - allows the server to send statistics and data to developers; </li><li>  hardcore - turns on Hardcore on the server; </li><li>  texture-pac is a texture file that will be used when a player connects to the server.  The value of this parameter is the name of a zip archive with textures, which is stored in the same directory as the server; </li><li>  online-mode - includes verification of premium accounts of users connecting to the server.  If this parameter is set to true, but only premium account owners can log in to the server.  If account checking is disabled (set to false), then any users can log in to the server (including, for example, players who have faked a nickname), which creates additional security risks.  With the check disabled, you can play Minecraft over a local network, without access to the Internet; </li><li>  pvp - allows or prohibits players to fight each other.  If this parameter is true, then players can destroy each other.  If set to false, players cannot do direct damage to each other; </li><li>  difficulty - sets the level of difficulty of the game.  It can take values ‚Äã‚Äãfrom 0 (the easiest) to 3 (the most difficult); </li><li>  gamemode - indicates which game mode will be set for players entering the server.  It can take the following values: 0 - Survival, 1-Creative, 2-Adventure; </li><li>  player-idle-timeout - idle time (in minutes), after which players are automatically disconnected from the server; </li><li>  max-players - the maximum allowed number of players on the server (from 0 to 999); </li><li>  spawn-monsters - allows (if set to true) spawning hostile mobs; </li><li>  generate-structures - enables (true) / disables (false) the generation of structures (treasuries, fortresses, villages); </li><li>  view-distance - adjusts the radius of the updated chunks to send to the player;  can take values ‚Äã‚Äãfrom 3 to 15. </li></ul><br><br>  The logs of the minecraft server are recorded in the server.log file.  It is stored in the same folder as the server files.  The log is constantly increasing in size, taking more and more disk space.  You can streamline the operation of the logging mechanism with the help of the so-called log rotation.  For rotation, a special utility is used - logrotate.  It limits the number of log entries to a certain limit. <br><br>  You can configure the rotation of the logs so that all records will be deleted as soon as the log file reaches a certain size.  You can also set a period after which all old entries will be deemed irrelevant and deleted. <br><br>  The basic rotation settings are in the /etc/logrotate.conf file;  In addition, for each application, you can create individual settings.  Files with individual settings are stored in the /etc/logrotate.d directory. <br><br>  Create a text file /etc/logrotate.d/craftbukkit and enter the following parameters in it: <br><pre> /home/craftbukkit/server.log {
   rotate 2
   weekly
   compress
   missingok
   notifempty
 }
</pre><br>  Consider their values ‚Äã‚Äãin more detail: <br><ul><li>  The rotate parameter specifies the number of rotations before the file is deleted; </li><li>  weekly indicates that the rotation will be performed weekly (you can set other parameters: monthly - monthly and daily - daily); </li><li>  compress indicates that archive logs should be compressed (the reverse option is nocompress); </li><li>  missingok indicates that if there is no log file, you need to continue working and not display error messages; </li><li>  notifempty indicates not to shift the log file if it is empty. </li></ul><br>  More details about the log rotation settings can be found <a rel="nofollow" href="http://www.opennet.ru/man.shtml%3Ftopic%3Dlogrotate%26category%3D8%26russian%3D0">here</a> . <br><br><h2>  Optimization Tips </h2><br>  Immediately make a reservation that this section will contain tips related only to the optimization of the game server.  The issues of tuning and optimizing the server on which Minecraft is installed are a separate topic that goes beyond the scope of this article;  interested readers can easily find the necessary information on the Internet. <br><br>  One of the most common problems encountered when playing Minecraft are the so-called lags - situations where the program does not respond to user input in time.  They can be caused by problems both on the client side and on the server side.  Below we will give recommendations that will help reduce the likelihood of problems on the server side. <br><br><h3>  Regularly monitor the memory consumption of the server and plug-ins </h3><br>  Memory consumption can be monitored using specialized administrative plugins - for example, <a rel="nofollow" href="http://dev.bukkit.org/bukkit-plugins/lagmeter/">LagMeter</a> . <br><br><h3>  Stay tuned for plugins updates. </h3><br>  As a rule, developers of new plug-ins with each new version tend to reduce the load. <br><br><h3>  Try not to use many plugins with similar functionality. </h3><br>  Large plugins (for example, Essentials, AdminCMD, CommandBook) very often include the functionality of many small plugins.  For example, the same Essential contains functions of plug-ins iConomy, uHome, OpenInv, VanishNoPacket, Kit.  Small plug-ins, the functionality of which is fully covered by the functionality of one large, in most cases, you can remove, so as not to overload the server. <br><br><h3>  Limit the card and download it yourself </h3><br>  If you do not limit the card, the server load will increase significantly.  You can limit the map using the <a rel="nofollow" href="http://dev.bukkit.org/bukkit-plugins/worldborder/">WorldBorder</a> plugin.  To do this, you need to run this plugin and execute the / wb 200 command, and then draw the map using the / wb fill command. <br><br>  Drawing, of course, will take a lot of time, but it is better to do it once, closing the server for technical work.  If the map is drawn by each player, the server will work slowly. <br><br><h3>  Replace heavy plugins with faster and less resource intensive ones. </h3><br>  Not all Minecraft plugins can be called successful: they often contain many unnecessary and unnecessary functions, and sometimes also consume a lot of memory.  Unsuccessful plugins should be replaced with alternative ones (there are quite a lot of them).  For example, the LWC plugin can be replaced by Wgfix + MachineGuard, and the DynMap plugin by Minecraft Overviewer. <br><br><h3>  Always clean the drop or install a plugin to automatically remove the drop </h3><br>  A drop in games refers to items that fall out when a mob dies or when certain blocks are destroyed.  Storage and handling of drops has a lot of system resources. <br><br>  For the server to work faster, it is desirable to delete the drop.  It is better to do this with the help of special plug-ins - for example, NoLagg or McClean. <br><br><h3>  Do not use anti-cheat </h3><br>  On the game servers are often installed the so-called anti-cheat - programs that block attempts to influence the game in dishonest ways. <br><br>  There are anti-cheats for Minecraft.  Any anti-cheat is always an additional load on the server.  It is preferable to install protections for the launcher (which, however, do not give an absolute guarantee of security and break easily - but this is a topic for a separate conversation) and for the client. <br><br><h2>  Instead of conclusion </h2><br>  Any instructions and recommendations are much more effective if they are supported by concrete examples.  Based on the above installation instructions, we created our MineCraft server and put something interesting on the map. <br><br>  Here's what we got: <br><ul><li>  Bukkit server - stable recommended version 1.6.4; </li><li>  Plugin Statistics - to collect statistics about the players; </li><li>  WorldBorder Plugin - to draw and limit the map; </li><li>  WorldGuard plugin (+ WorldEdit as dependency) - to protect some areas. </li></ul><br><br>  We invite everyone to play on it: to connect, add a new server and specify the address <u>mncrft.slc.tl</u> . <br><br>  We will be happy if in the comments you share your own experience of installing, configuring and optimizing MineCraft servers and tell us which mods and plugins are interesting for you and why. <br><br>  <strong>Cool news:</strong> On August 1, the installation payment for dedicated servers of the fixed configuration was reduced by 50%.  Now a one-time installation payment is only 3000 rubles. <br><br>  Readers who can not leave comments here are invited to our <a href="http://blog.selectel.ru/sozdanie-i-nastrojka-servera-minecraft/">blog</a> . </div><p>Source: <a href="https://habr.com/ru/post/231935/">https://habr.com/ru/post/231935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231923/index.html">Creating audio plug-ins, part 15</a></li>
<li><a href="../231925/index.html">Games for science</a></li>
<li><a href="../231929/index.html">Ultra Efficient Text Processing</a></li>
<li><a href="../231931/index.html">The Facebook Gifts service is closing</a></li>
<li><a href="../231933/index.html">SocialTask: the proper promotion of the commercial group VKontakte</a></li>
<li><a href="../231937/index.html">Increase Conversions with Big Data: 9 Predictive Analytics Platforms</a></li>
<li><a href="../231939/index.html">Analysis of the final tasks of Yandex. Algorithm 2014</a></li>
<li><a href="../231945/index.html">Skypocalypse: SkypeKit - RIP; Login from old versions of Skype - RIP.</a></li>
<li><a href="../231949/index.html">Improving site conversion: 5 ways to avoid creating bad microcopy. Part 2</a></li>
<li><a href="../231951/index.html">NASA Experts Chose Curiosity Scientific Instruments for the Heir</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>