<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to block all social networking websites using a Web Content Filter?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are starting to publish a series of articles about Draytek equipment with a description of cases and the necessary settings for various tasks. We h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to block all social networking websites using a Web Content Filter?</h1><div class="post__text post__text-html js-mediator-article">  We are starting to publish a series of articles about Draytek equipment with a description of cases and the necessary settings for various tasks.  We hope that these articles will be useful to you.  So, let's begin: <br><br>  Facebook or other encrypted HTTPS sites can be blocked using the URL Content Filter and the DNS Filter.  However, if we want to block all social networking websites, the Web Content Filter is the best choice. <a name="habracut"></a><br><br>  Web Content Filter is a simple category-based filter that helps network administrators effectively monitor Internet usage to satisfy all business needs.  It shows how to use Web Content Filter and DNS Filter and block all social networking websites. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/geektimes/post_images/572/d10/676/572d106767cc2a275ef5d00316df8f7e.png" alt="image"><br><br>  1. Go to CSM &gt;&gt; Web Content Filter Profile (CSM &gt;&gt; Web Content Filter Profile). <br>  a.  Make sure the Cyren license is activated.  (Check: <a href="http://draytek-russia.ru/">‚ÄúHow to register my Vigor router and activate the free WCF Trial license?‚Äù</a> ). <br>  b.  Click Index 2 to install the profile. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3b6/f8c/1f1/3b6f8c1f15528fe2ae6f9563c7363f8d.png" alt="image"><br><br>  2. In order to install the Web Content Filter profile, you must perform the following steps: <br>  a.  Edit the profile name (profile name), in this case, we enter the name Social Network (Social Network) <br>  b.  Select action type Block (Block) <br>  c.  Select Social Network in Categories <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/23a/9ab/e18/23a9abe18fc51a9f180dd6d1ad5ffea4.png" alt="image"><br><br>  3. Go to CMS &gt;&gt; DNS Filter (CMS &gt;&gt; DNS Filter) and activate DNS Filter <br>  a.  Click on the Profile Index number in the DNS Filter Profile Table. <br>  b.  Enter Profile Name <br>  c.  Choose WCF as the Web Content Filter Profile created in Step 2 <br>  d.  Click OK and save <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/bb6/3f3/c39/bb63f3c39b241d54e45210bebc58cb03.png" alt="image"><br><br>  If the LAN client uses the <a href="http://draytek-russia.ru/">Vigor Router</a> as the DNS server, remember to use the DNS Filter Local Setting shown in the figure below.  <a href="http://draytek-russia.ru/">Read the article: ‚ÄúWhat is the difference between DNS Filter Profile and DNS Filter Local Setting?‚Äù.</a>  <a href="http://draytek-russia.ru/">And find out more.</a> <br><br>  4. To apply Web Content Filter and DNS Filter, go to Firewall &gt;&gt; Install Filter &gt;&gt; Step 2. (Default Data Filter) <br>  a.  Click on the number of the Filter Rule. <br>  b.  Activate the Filter Rule <br>  c.  Edit the IP Source if you want to block only some IP of social networks. <br>  d.  Select Filter as Pass Immediately (Pass Now) <br>  e.  Select Web Content Filter as the profile created in Step 2 <br>  f.  Select DNS Filter as the profile created in Step 3 <br>  g.  Click OK and save <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/bcb/af8/c8d/bcbaf8c8d436930be1666fc0e1f955f9.png" alt="image"><br><br>  5. After completing the above settings, all social networking websites will be blocked using Web Content Filter and DNS Filter with <a href="http://draytek-russia.ru/">Vigor Router</a> , even if the website uses HTTPS.  In the picture below you see blocked Facebook, Instagram and Twitter. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/bc3/75a/336/bc375a336fe303dded31b6e7a7d629ec.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/77f/8a3/0db/77f8a30db4e9b0debf7bab658ee13cf4.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/fa8/e5e/628/fa8e5e6287ce88eceb2aeb30e46c75f4.png" alt="image"><br><br>  Correction of problems: <br><br>  If websites are not blocked as expected, please do the following: <br><br>  1. Clear browser cookies and history. <br><br>  2. Clear the DNS cache on the computer, for Windows users, this can be done by entering the command "ipconfig / flushd" in the command line. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/810/975/9fa/8109759facdeb6ab54e9959394678429.png" alt="image"><br><br>  3. Make sure the default gateway is Vigor Router. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/be5/12a/5ac/be512a5ac1167256c48f5f7123a79496.png" alt="image"><br><br>  4. Check the computer's DNS server, enter "nslookup" and check the DNS server of your computer. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/050/daa/97f/050daa97f2a58b686646700b91b0ad53.png" alt="image"><br><br>  a.  If the server is an open DNS server, make sure the computer's gateway is set to <a href="http://draytek-russia.ru/">Router Vigor</a> .  Also check if there is another Filter Rule that may already pass the packet. <br>  b.  If the server is an internal DNS server, make sure that the internal DNS server gateway is installed on the Vigor router. <br>  c.  If the server is ‚ÄúYour Vigor Router‚Äù, enable the DNS Filter Local setting in CSM &gt;&gt; DNS Filter (Local DNS filter settings &gt;&gt; DNS Filter) instead of using the DNS Filter Profile for the Firewall Rule and note That the DNS Filter Local Setting will be applied to all clients on the local network that use the router as the DNS server. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/0b0/2d0/413/0b02d04133d51db922db51196a8e3c9f.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/395167/">https://habr.com/ru/post/395167/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../395157/index.html">Progress of car DVRs and comparing them with action cameras</a></li>
<li><a href="../395159/index.html">Special project: Solar power station on autocamp. Part 1</a></li>
<li><a href="../395161/index.html">Amazon robots do their job 4 times faster than humans.</a></li>
<li><a href="../395163/index.html">Selection: 50+ materials for understanding the stock market</a></li>
<li><a href="../395165/index.html">Price of popularity: the attacker who attacked Ethereum, received $ 53 million cryptocurrency</a></li>
<li><a href="../395169/index.html">Pilotless tractor tested on the fields of Russia</a></li>
<li><a href="../395171/index.html">Ethereum blockchain and its use in practice</a></li>
<li><a href="../395173/index.html">The fourth landing of the New Shepard: scientific experiments, a parachute failure test and the first full launch broadcast</a></li>
<li><a href="../395175/index.html">Asteroid spaceship</a></li>
<li><a href="../395177/index.html">Open Bionics, Eidos Montreal and Razer create a line of cyber finishes in the style of Deus EX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>