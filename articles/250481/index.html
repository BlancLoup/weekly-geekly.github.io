<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript Garden: Objects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 JavaScript Garden - a collection of documentation on the strangest features of the JavaScript language. Here are tips on how to avoid c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript Garden: Objects</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  JavaScript Garden - a collection of documentation on the strangest features of the JavaScript language.  Here are tips on how to avoid common errors and unobtrusive bugs, as well as problems with speed and wrong programming style. <br><br>  This is not a language textbook.  It is assumed that you already know the language beforehand.  For learning the language, I recommend using this great translation of the wonderful book " <a href="http://habrahabr.ru/post/240219/">Expressive JavaScript</a> ." <br><a name="habracut"></a><br><h4>  Objects </h4><br><h5>  Use and properties of objects </h5><br>  In JS, all entities behave like objects, with two exceptions: null and undefined. <br><br><pre><code class="javascript hljs"><span class="hljs-literal"><span class="hljs-literal">false</span></span>.toString(); <span class="hljs-comment"><span class="hljs-comment">// 'false' [1, 2, 3].toString(); // '1,2,3' function Foo(){} Foo.bar = 1; Foo.bar; // 1</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is a common misconception that numbers cannot be used as objects.  Due to the imperfection of the parser, it tries to parse the dot after the number as a floating-point notation. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">2.</span></span>toString(); <span class="hljs-comment"><span class="hljs-comment">//  SyntaxError</span></span></code> </pre><br><br>  This can be circumvented in different ways: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">2.</span></span>.toString(); <span class="hljs-comment"><span class="hljs-comment">//    2 .toString(); //    (2).toString(); // 2    </span></span></code> </pre><br><br><h5>  Objects as a data type </h5><br>  Objects can also be used as hashes (lists of the key-value type).  They mainly consist of named properties to which values ‚Äã‚Äãare attached. <br><br>  Using {} you can create an empty object.  It inherits from Object.prototype and it does not have its own properties. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> foo = {}; <span class="hljs-comment"><span class="hljs-comment">//    //     'test' ,    12 var bar = {test: 12};</span></span></code> </pre><br><br><h5>  Access to properties </h5><br>  Access can be obtained in two ways - through a dot or through square brackets. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> foo = {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>} foo.name; <span class="hljs-comment"><span class="hljs-comment">//  foo['name']; //  var get = 'name'; foo[get]; //  foo.1234; // SyntaxError foo['1234']; // </span></span></code> </pre><br><br>  The difference between the two ways is that brackets allow dynamic assignment and use of property names. <br><br><h5>  Removing properties </h5><br>  You can delete a property only with the delete operator.  Assigning it to undefined or null only removes the value of the property, but not the property itself. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">bar</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">baz</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }; obj.bar = <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; obj.foo = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> obj.baz; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> obj) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj.hasOwnProperty(i)) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i, <span class="hljs-string"><span class="hljs-string">''</span></span> + obj[i]); } }</code> </pre><br><br>  The code displays both bar undefined and foo null, but baz does not output - it has been removed. <br><br><h5>  Reserved words </h5><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> test = { <span class="hljs-string"><span class="hljs-string">'case'</span></span>: <span class="hljs-string"><span class="hljs-string">'  ,      '</span></span>, <span class="hljs-attr"><span class="hljs-attr">delete</span></span>: <span class="hljs-string"><span class="hljs-string">' ,   !'</span></span> <span class="hljs-comment"><span class="hljs-comment">//  SyntaxError };</span></span></code> </pre><br><br>  Object property names can be written both as simple variables and as strings.  Due to another shortcoming of the parser, the code causes a SyntaxError error (for parsers up to ECMAScript 5).  Delete is a reserved word, so it must be written as a string. <br><br><h4>  Prototypes </h4><br>  JS does not have the classical model of inheritance, instead it has prototyping.  This is often seen as a language flaw, but in fact this model is more powerful than the classical one.  For example, it is enough just to build a classical model based on prototyping, but not vice versa. <br><br>  JS is the only popular language with prototypical inheritance, so when switching from the classical approach, it may take time to get used to it.  The first difference: inheritance in JS uses chains of prototypes. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = <span class="hljs-number"><span class="hljs-number">42</span></span>; } Foo.prototype = { <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bar</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} <span class="hljs-comment"><span class="hljs-comment">//   Bar   Foo Bar.prototype = new Foo(); Bar.prototype.foo = 'Hello World'; // ,  Bar    Bar.prototype.constructor = Bar; var test = new Bar(); //    Bar //    test [instance of Bar] Bar.prototype [instance of Foo] { foo: 'Hello World' } Foo.prototype { method: ... } Object.prototype { toString: ... /* etc. */ }</span></span></code> </pre><br><br>  Note: if you use Bar.prototype = Foo.prototype, then both objects will have a single prototype.  Then changes to the prototype of any object will lead to changes in another, and usually this is not what they are trying to achieve. <br><br>  In the above code, the test object is inherited from both Bar.prototype and Foo.prototype, so it will have access to the method function defined for Foo.  As well as access to the value property of an instance of Foo, which is its prototype.  It is important to note that the new Bar () does not create a new instance of Foo, but re-uses the one that is assigned to its prototype.  Therefore, all Bar instances share the same value property. <br><br>  Do not use Bar.prototype = Foo, it will not point to the Foo prototype, but to the Foo object.  So the prototype chain goes through Function.prototype, not through Foo.prototype.  And then the method will not be in the prototype chain. <br><br><h5>  Property search </h5><br>  When accessing the properties of an object, JS goes up the chain until it finds a property with the specified name. <br><br>  If he gets to the top, i.e.  until Object.prototype, and does not find it, it will return undefined. <br><br><h5>  Prototype property </h5><br>  Although it is used to build chains, you can still assign any value to it.  The assignment of primitives, however, will be ignored. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} Foo.prototype = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  ,   </span></span></code> </pre><br><br>  But the assignment of objects will work, and lead to the dynamic creation of chains of prototypes. <br><br><h5>  Speed ‚Äã‚Äãperformance </h5><br>  Finding properties at the top of a chain can be time consuming.  In addition, an attempt to reach a non-existent property will always lead to the passage of the entire chain.  In addition, when passing a property of an object, each property in the chain will be assigned a number. <br><br><h5>  Extend built-in prototypes </h5><br>  Sometimes an extension of Object.prototype or some other built-in prototype is improperly used.  This is called "monkey patches" and this technique breaks encapsulation.  Although it is used by popular frameworks like Prototype, there is no special justification for this clogging of built-in types. <br><br>  The only reason for the possible extension of embedded prototypes is to embed elements of the new JS engines in the language, for example Array.forEach. <br><br><h5>  Total </h5><br>  It is important to understand the prototype inheritance model before writing complex code using it.  Remember the length of the chains and break them if necessary.  No need to extend the built-in prototypes, unless it is done for compatibility with the new properties of JS. <br><br><h5>  hasOwnProperty </h5><br>  It is used to check the presence of a property directly at the object, and not at one of its prototypes.  Inherited by all objects from Object.prototype. <br><br>  It is not enough to check the property for undefined.  The property can exist and still be undefined. <br><br>  hasOwnProperty is the only thing in the language that works with properties and does not go through a chain of prototypes. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  Object.prototype Object.prototype.bar = 1; var foo = {goo: undefined}; foo.bar; // 1 'bar' in foo; // true foo.hasOwnProperty('bar'); // false foo.hasOwnProperty('goo'); // true</span></span></code> </pre><br><br>  A property called hasOwnProperty is not protected by the language.  Because of the possibility that the object has a property with that name, you must use the hasOwnProperty external method to get the correct result. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> foo = { <span class="hljs-attr"><span class="hljs-attr">hasOwnProperty</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">bar</span></span>: <span class="hljs-string"><span class="hljs-string">'  '</span></span> }; foo.hasOwnProperty(<span class="hljs-string"><span class="hljs-string">'bar'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   false //  hasOwnProperty      ,  'this'  foo ({}).hasOwnProperty.call(foo, 'bar'); // true //    hasOwnProperty  Object prototype Object.prototype.hasOwnProperty.call(foo, 'bar'); // true</span></span></code> </pre><br><br><h5>  Total </h5><br>  Using hasOwnProperty is the only reliable method for determining whether an object has a property.  Its use is recommended in many cases when traversing the property of objects. <br><br><h5>  For in loop </h5><br>  Like the in operator, the for in loop runs through a chain of prototypes when traversing the properties of an object.  The loop will not go through properties whose enumerable attribute is false ‚Äî for example, like the length property of arrays. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  Object.prototype Object.prototype.bar = 1; var foo = {moo: 2}; for(var i in foo) { console.log(i); //   bar  moo }</span></span></code> </pre><br><br>  Since  it is impossible to change the work for in, it is necessary to filter unnecessary properties in the body of the loop.  With ECMAScript 3, the hasOwnProperty method from Object.prototype is used for this. <br><br>  With ECMAScript 5, Object.defineProperty can be used if enumerable is set to false to add properties to objects without being numbered.  In this case, it is reasonable to assume in the code that any numbered properties are added for a reason, and omit hasOwnProperty, since it reduces the readability of the code.  In the library code hasOwnProperty it is necessary to use, because there it is impossible to make assumptions about what numbered properties can be in the chain of prototypes. <br><br>  Since for in passes through the entire chain, it will work more slowly with each inheritance layer. <br><br><h5>  Use hasOwnProperty to filter </h5><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// foo    for(var i in foo) { if (foo.hasOwnProperty(i)) { console.log(i); } }</span></span></code> </pre><br><br>  This code can only be used with older versions.  Due to the use of hasOwnProperty, only moo will be displayed.  If you remove hasOwnProperty, then errors may appear in the code due to a possible extension of the prototypes. <br><br>  In new versions of ECMAScript, non-numbered properties can be set via Object.defineProperty, and the risk of passing through properties can be reduced without using hasOwnProperty.  And you still have to be careful, using old libraries like Prototype, which do not use the capabilities of the new ECMAScript. <br><br><h5>  Total </h5><br>  It is recommended to always use hasOwnProperty in ECMAScript 3 and below, as well as in library code.  Starting with ECMAScript 5, Object.defineProperty makes it possible to define non-indexable properties, so that hasOwnProperty can be omitted. </div><p>Source: <a href="https://habr.com/ru/post/250481/">https://habr.com/ru/post/250481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250467/index.html">How backgrounds are made in Homeworld2 from the inside</a></li>
<li><a href="../250469/index.html">How to live with Docker, or why better with it than without it?</a></li>
<li><a href="../250471/index.html">We invite to the competition "Cognitive Vehicle Detection Benchmark"</a></li>
<li><a href="../250473/index.html">Facebook launched a social network for information security professionals</a></li>
<li><a href="../250475/index.html">OSEDUCONF-2015, the tenth conference ‚ÄúFree Software in Higher Education‚Äù - videotapes and overview</a></li>
<li><a href="../250485/index.html">Productive fault tolerant geographically distributed cluster operating in Active-Active scheme on IBM zEnterprise EC 12 mainframe</a></li>
<li><a href="../250487/index.html">Manage unmanaged and critical monitoring</a></li>
<li><a href="../250489/index.html">Effective code review: 9 tips from a reformed skeptic</a></li>
<li><a href="../250491/index.html">Reduce the number of errors using the Code Review checklist</a></li>
<li><a href="../250493/index.html">Containerize it! What Fuel is and what it uses for Docker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>