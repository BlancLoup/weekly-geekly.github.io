<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sound from the picture. Optical synthesizer Look Modular</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi GT! 
 June 4 in Moscow will host the next festival of music technology Synthposium . Fans of synthesizers will gather on it to twist knobs, collect...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sound from the picture. Optical synthesizer Look Modular</h1><div class="post__text post__text-html js-mediator-article">  Hi GT! <br>  June 4 in Moscow will <a href="http://synthposium.ru/">host the</a> next festival of music technology <a href="http://synthposium.ru/">Synthposium</a> .  Fans of synthesizers will gather on it to twist knobs, collect patches, press keys and admire sounds. <br>  We were also invited to do something cool for the festival. <br>  And we assembled an analog optical synthesizer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/835/f13/10b/835f1310b7984b87872171f6a3a7407f.jpg"></div><br>  <i>(Watch out for traffic!)</i> <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Now you will see the world's best analog synthesizer with moto-oh-oh-oor ... And MIDI.</b> <div class="spoiler_text">  OK OK.  <a href="https://en.wikipedia.org/wiki/Hammond_organ">Hammond Organ</a> was the best analog with a motor, but it definitely didn't have <abbr title="Musical Instrument Digital Interface, a standard for transferring data for controlling musical instruments">MIDI</abbr> . <br></div></div><br><br><h4>  VCO </h4><br><img src="https://habrastorage.org/files/d58/20a/08f/d5820a08f9f34648b6e1f9a3df03c1d1.png" align="left"><br><img src="https://habrastorage.org/files/c3f/813/412/c3f813412851471c9fda985b2f633d24.jpg" align="left"><br>  Do you know how to reproduce sound from a film in a movie theater?  In the simplest version, the sound is recorded on the same film in the form of two tracks - the left and right channels.  Here in this picture - the stereo sound on the left, in the form of two white tracks.  There are still a lot of digital information next to it, but this is not about now. <br>  The light passes through the film and enters the <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2582%25D0%25BE%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B7%25D0%25B8%25D1%2581%25D1%2582%25D0%25BE%25D1%2580">phototransistor</a> . <br>  If it is very rough, the phototransistor converts the photons that fall into it into electric current and amplifies it. <br>  The more photons hit the transistor, the less its resistance, and, accordingly, less voltage at <b><i>Vout</i></b> .  If the illumination of the phototransistor varies in the range of audible frequencies, then when you send a signal from <b><i>Vout</i></b> to an amplifier with a speaker, we will hear a sound. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I decided to make a synthesizer with the same effect. <br>  I used the following line sensor as a pickup: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7d6/bac/339/7d6bac339d1123669843cd176f9c2a77.jpg" alt="image"><br><br>  This sensor illuminates the space beneath the LED and receives the reflected light by the phototransistor.  At the output, we obtain a voltage proportional to the brightness under the sensor.  If anything, the sensitivity can be adjusted by the integrated potentiometer. <br><br>  Now take some picture and motor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f9d/aa8/daa/f9daa8daa16e41c78b23b4192afa24cc.png"></div><br><br>  Spinning the motor - the brightness under the sensor will start to change cyclically.  This is the waveform I got from this image: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c6a/a8c/cf7/c6aa8ccf724e4ae08e5b6a81a700ce20.jpg"></div><br><br>  If we twist the picture with a frequency not in a pair of hertz, but, say, somewhere in 440 Hz, we will get a note for the first octave.  With a timbre that resembles the timbre of a periodic function.  And if you take the picture more difficult?  Get the timbre ... more difficult. <br><br><h4>  Pitch </h4><br>  Our analog synthesizer should be able to rotate the image with the frequency of the note that came to it via MIDI.  I wanted to capture at least the fifth octave in pitch.  In accordance with the <a href="https://en.wikipedia.org/wiki/Piano_key_frequencies">table of notes and frequencies,</a> this is somewhere under 1 kHz. <br>  So we need a very nimble motor, which can turn around 1000 times per second.  I took a suitable one from a radio-controlled helicopter. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/ae6/6b0/8bd/ae66b08bd17d47408ca9fd42aa8f2fb0.png"></div><br>  I must say - he howled like a Bulgarian.  In addition, he cut paper on his fingers and scattered pictures in different directions, like ninjas - shurikens.  After another shot, the office rebelled.  I had to be content with the good old quiet CD-drive. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b59/f86/3b5/b59f863b590e4a07a1f8e18d4a6f22d7.jpg"></div><br><br>  The CD drive has its own driver chip which controls the engine.  It is enough to solder to the necessary pins, and we will be able to control the speed of rotation of the engine and find out the frequency with which it rotates.  In my case it was the M63044FP chip.  I did not find a datasheet for it.  But I found a datasheet for a very similar <a href="http://www.datasheetspdf.com/PDF/M63022FP/400257/1">M63022FP</a> .  She was different pinout, so I had to look for the right legs at random. <br><img src="https://habrastorage.org/files/cab/c8c/488/cabc8c48872046d08c9b982d6dee3f7a.png" align="right"><br><br>  The rotation speed is regulated by applying an analog voltage to the SPIN pin.  I took a 220 Ohm resistor, soldered wiring to it.  Turned on the power.  I poked one end of the resistor into the 5 V bus of the CD drive, and I wired all the microchip's legs through the wiring.  Upon contact with the right leg, the slider started.  I'm surprised, but nothing burned in the process. <br>  To control the rotational speed, it remains to find the pin OSC, which produces a square wave when switching the motor windings.  Then I had to uncover an oscilloscope, start the engine and search. <br><br>  Easy further.  We follow the path from the legs and are looking for - where to solder? <br>  At the same time, solder the <a href="http://files.amperka.ru/datasheets/l78xx.pdf">LM7805</a> to a pin of 5V power supply in order to power the whole structure with a single voltage source of 12 V. <br>  Soldered wiring to SPIN, OSC.  And the earth, so that all devices were on the same wavelength: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/565/8b8/fad/5658b8fadddf47af8e88de7f822dfebc.jpg"></div><br>  <i>The picture is clickable</i> <br><br>  The regulator, by the way, is very hot during operation.  Get burned quite real.  But during DIY-binge, such things do not bother me much.  Works. <br>  The engine from the CD-drive allowed to accelerate the image to 250 Hz.  Therefore, a small octave is a maximum.  Nothing can be done, in this case we have a <b>bass</b> monophonic analog synthesizer.  Just like <a href="http://www.moogmusic.com/products/taurus/minitaur">Moog Minitour</a> . <br><br><h4>  ADSR envelope </h4><br>  Sound synthesizer is determined, among other things, low-frequency modulation of the volume and / or filter cutoff frequency ( <a href="https://en.wikipedia.org/wiki/Synthesizer">ADSR envelope</a> ).  I also wanted such a thing in my synthesizer.  How to do it? <br>  Watch your hands: <br>  Since the constant component of the signal from our pickup is cut off by the input capacitor of the amplifier, the volume of the sound in our case is the difference between the darkest and lightest parts of the picture.  The farther away the sensor is from the image, the smaller this difference is, as less and less photonics reach the phototransistor from the brightest parts.  The closer the sensor - the greater this difference, and therefore the greater the amplitude of the signal. <br>  If the sensor is brought very close to the picture, in bright places the transistor will open to its fullest.  Smooth parts of the sound wave will be cut from this.  The result is a kind of distortion effect with a sharp increase in the number of high harmonics.  It will greatly decorate the sound.  Therefore, I put the sensor on the servo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1bf/378/609/1bf37860935842c298e9728002ec313f.jpg"></div><br><br>  With the NoteOn MIDI event, it will quickly get closer to the picture, the closer the speed of pressing the MIDI-keyboard key (velocity).  Over time, you can slowly lift the sensor.  Here is such a mechanical ADSR. <br><br><h4>  Analog path </h4><br>  The analog path must not intersect with the power and digital part, so as not to catch interference from there.  So I just soldered another <a href="http://files.amperka.ru/datasheets/l78xx.pdf">LM7805</a> with electrolytic and ceramic capacitors in Troyka Shield.  I sent 12 V to the input with <b><i>Vin</i></b> , and sent the output to the line sensor and the audio amplifier module.  The output of the line sensor is soldered directly to the input of the amplifier.  Everything, now we have a separate analog power circuit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/81c/0b0/79b/81c0b079b6c24f718c818ee0f6dfa5b3.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d01/6f2/27e/d016f227e74d4e85a6802366d7f4f4df.jpg"></div><br><br><h4>  MIDI </h4><br>  MIDI input had to collective <a href="http://www.vishay.ru/docs/84732/6n137.pdf">farm</a> optocoupler <a href="http://www.vishay.ru/docs/84732/6n137.pdf">6N137</a> .  It was possible to do with one transistor with a pair of resistors, but not according to the standard. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/67a/a46/18a/67aa4618af4e40eca2733319502d12a2.png"></div><br><br><h4>  Assembly </h4><br><h6>  Electronics </h6><br>  Building constructs with the <a href="http://wiki.amperka.ru/structor:%25D0%25BE%25D0%25BF%25D0%25B8%25D1%2581%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%3Futm_source%3Dproj%26utm_campaign%3Dsynthposium%26utm_medium%3Dgeektimes"># Structure</a> is easy.  From electronics we will have: <br><ul><li>  <a href="http://wiki.amperka.ru/js:iskra_js%3Futm_source%3Dproj%26utm_campaign%3Dsynthposium%26utm_medium%3Dgeektimes">IskraJS</a> - I'll finally try microcontroller javascript.  In addition, it has a 12-bit DAC.  It is just useful for controlling the leg of the SPIN motor driver; </li><li>  <a href="http://wiki.amperka.ru/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582%25D1%258B:troyka-shield%3Futm_source%3Dproj%26utm_campaign%3Dsynthposium%26utm_medium%3Dgeektimes">Troyka Shield</a> - minimize soldering; </li><li>  Micro servo FS90 - mechanical ADSR; </li><li>  <a href="http://wiki.amperka.ru/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582%25D1%258B:troyka:analog_line_sensor%3Futm_source%3Dproj%26utm_campaign%3Dsynthposium%26utm_medium%3Dgeektimes">The line sensor</a> is our pickup; </li><li>  Troyka-audio amplifier - the secret development of our KB.  So far the deficit, but already in production; </li><li>  Troyka-MIDI IN - TODO our KB.  I had to solder on the breadboard. </li></ul><br>  All these parts have a special snap-in from # Structure, so the assembly is: <br><ol><li>  Dress up electronics in # Structure; </li><li>  Knife and ruler cut from the <a href="http://amperka.ru/product/structor-mega%3Futm_source%3Dproj%26utm_campaign%3Dsynthposium%26utm_medium%3Dgeektimes">megapanel</a> area for creativity to the size of the CD-drive; </li><li>  Close your eyes and stick the electronics wherever you want.  I did it like this (clickable): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bf6/859/a14/bf6859a147f04e2882cd3271e694abaf.jpg"></div><br></li></ol><br><h6>  Mechanics </h6><br>  In order to attach a picture on the shaft of the motor you need some kind of fasteners.  I tried to glue the picture directly onto the spindle with double-sided tape, but the pictures quickly flew away.  Yes, and change them uncomfortable. <br>  It is good that there is such a mount in the CD drive itself.  This circle lives in the top cover of the CD-drive, and fixes the CDs on the spindle.  It has a magnet, so it is easy to remove it from the spindle and place it back.  Well, the picture can be glued to double sided tape already to him. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/3e9/e33/162/3e9e331624154d5c8ef3204868223e1e.jpg"></div><br>  Here you can also see a super-life hacking to reduce <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2580%25D1%2582%25D0%25B0%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D0%25BE">portamento</a> time when the frequency changes down.  Motor from the CD-drive can not brake.  Therefore, the portamento down becomes so indecently long that it is already a straight <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D0%25BB%25D0%25B8%25D1%2581%25D1%2581%25D0%25B0%25D0%25BD%25D0%25B4%25D0%25BE">glissando of</a> some kind.  Therefore, the brake was added from the folded paper. <br><br><h6>  We put the electronics on the CD-drive </h6><br>  Finishing touch.  The electronics are simply put in a cd drive.  If anything, at any time you can pull. <br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/files/77e/ce2/539/77ece25398fd40e198ffaf6d81e4edff.jpg"></a> </div><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/files/bed/e3f/b01/bede3fb01e1447e29975c1b9bd9d7413.jpg"></a> </div><br><br><h6>  Electrical connections </h6><br><ul><li>  MIDI-in - P0; </li><li>  SPIN - A4; </li><li>  OSC - P2; </li><li>  Micro servos - P13. </li><li>  CD Drive Power - Vin </li></ul><br><br><h4>  Code </h4><br>  Code available on <a href="">github.com</a> <br><br><h4>  Demonstration </h4><br>  We, as always, recorded a video about this project.  You can listen to how this synthesizer sounds from 10:36. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/kaoiqXREwZA%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhnr_fLZivr-9EzCvObLFsLyTIzMw" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  How can I improve? </h4><br>  It turned out to be funny with servo envelopes, but still it would be better to do without mechanics for this purpose.  The attack is too long.  A sharp attack could be obtained if you use an incandescent lamp and PWM instead of a LED illumination. <br><br><h4>  Epilogue </h4><br>  In general, if it is interesting to play Look Modular, come on June 4th to <a href="http://synthposium.ru/">Synthposium</a> .  I will be showing it at 16:30.  I will bring a lot of paper, scissors, double-sided tape, magazines and markers.  Let's experiment together. <br><br><h4>  UPD </h4><br>  That was the SinoPosium.  Thanks to the organizers and participants, it was very interesting. <br>  Thanks to everyone who experimented with the sound from the pictures with me.  I did not expect such a warm reception.  According to the results of the experiments, this preset sounds best of all: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/89f/d36/c02/89fd36c02102119f5c86acb01273ba08.jpg" alt="image"><br><br>  <a href="https://www.instagram.com/p/BGO-7TgsQ22/">Instagram videos from the event</a> </div><p>Source: <a href="https://habr.com/ru/post/394913/">https://habr.com/ru/post/394913/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../394903/index.html">What is The DAO and how it became the largest crowdfunding project in history</a></li>
<li><a href="../394905/index.html">Ilon Musk about the reality simulator in which we live, about the political structure of Mars and the future Apple cars</a></li>
<li><a href="../394907/index.html">Death alternatives: how to beat aging</a></li>
<li><a href="../394909/index.html">Monitoring the temperature in the server using Arduino</a></li>
<li><a href="../394911/index.html">Ad blocking, evolution of instant messengers and other Internet trends 2016</a></li>
<li><a href="../394915/index.html">Google launches mobile suitability assessment tool</a></li>
<li><a href="../394923/index.html">Increased fines for using uncertified communications</a></li>
<li><a href="../394925/index.html">Comfortable trap: digital technology and the Internet of things - the flip side of the coin</a></li>
<li><a href="../394927/index.html">Sleep is a waste of time or physiological necessity</a></li>
<li><a href="../394931/index.html">I recognize you by ... tattoo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>