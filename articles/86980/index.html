<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SMS backup</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In most mobile phones, if you go to the ‚ÄúMessages‚Äù menu, select ‚ÄúMessage settings‚Äù, then ‚ÄúText messages‚Äù, besides the standard settings, you can see t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SMS backup</h1><div class="post__text post__text-html js-mediator-article">  In most mobile phones, if you go to the ‚ÄúMessages‚Äù menu, select ‚ÄúMessage settings‚Äù, then ‚ÄúText messages‚Äù, besides the standard settings, you can see the ‚ÄúUse packet data‚Äù option, but unfortunately many operators are very reluctant to tell ( <strike>and more provide</strike> ) about the possibility of sending short messages.  Let's see why operators generally do not use the ability to send short messages through their packet network, providing a service - <b>SMS over GPRS</b> . <br><br><a name="habracut"></a><br><h4>  Intro </h4><br>  The above option means nothing more than the ability to send and receive short text messages via the operator‚Äôs packet network ( <b>PS Core Network</b> ), using radio resources allocated specifically for packet transmission (GPRS / EDGE) without affecting the voice channels (time slots ). <br><br>  On the one hand, this option should be very interesting for operators, since  increases the capacity of simultaneously sent and received messages via radio interfaces, optimizes the network, but on the other hand the cost of sending a text message 160 characters long through a packet network is minimal, so the question of the cost of "real" SMS ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      According to the standards for packet data transmission in mobile networks, after the subscriber performed the <b>GPRS Attach</b> procedure, i.e.  passed authentication and authorization in the operator‚Äôs network and didn‚Äôt manage to activate more than one <b>PDP Context</b> 'a, only one function is available - <b>SMS over GPRS</b> (for more details on the authentication process in the operator‚Äôs packet network, see the article ‚Äú <a href="http://habrahabr.ru/blogs/telecom/81385/">Inside GPRS. Part 2</a> ‚Äù) <br><br>  If we consider the short message service as a whole, then there are several key features (procedures) that can be provided to the end user: <br><ul><li>  Mobile-Originated SMS ( <b>MO-SMS</b> ) - the ability to send short messages from the subscriber‚Äôs terminal (MS). </li><li>  Mobile-Terminated SMS ( <b>MT-SMS</b> ) - the ability of the <a href="http://ru.wikipedia.org/wiki/SMSC">SM-SC</a> to deliver a short message to the subscriber's terminal (MS). </li><li>  Alert Service Center ( <b>SC</b> ) - according to this procedure, the SM-SC, which ‚Äúservices‚Äù a particular subscriber, will be informed via the <a href="http://ru.wikipedia.org/wiki/HLR">HLR</a> that the subscriber terminal (MS) is ready to receive short messages.  This procedure is used in two cases: <br><ol><li>  The mobile terminal (MS) of the subscriber informs that it is active, if it is not available until that moment. </li><li>  The mobile terminal (MS) of the subscriber informs that he already has enough memory ‚Äúon board‚Äù to receive messages after it was refused to receive SMS messages due to memory overflow on the terminal itself. </li></ol></li></ul><br>  Let's now take a look at the technical side of the issue and determine the necessary conditions for the provision of such functionality through the mobile operator's packet network. <br><br><h4>  Technical requirements </h4><br>  I just want to make a reservation that the SMS service is quite easy to adapt for transmission via the operator‚Äôs packet network, and there is no need to introduce new network elements, as well as any new transmission protocols, it‚Äôs enough to implement standardized connectivity interfaces between already existing network elements + write configuration data to all involved network elements. <br><br>  In order to provide such a service, <a href="http://ru.wikipedia.org/wiki/SGSN">SGSN</a> 'a is needed, a network element that authenticates and authorizes subscribers, as well as being a transport link in the packet transmission of subscriber data. <br><br>  Conditions under which the SMS over GPRS option will be available on SGSN: <br><ul><li>  availability of Gb interface with base station subsystem ( <a href="http://ru.wikipedia.org/wiki/BSS">BSS</a> ) </li><li>  the presence of Ge interface for the interaction of <a href="http://ru.wikipedia.org/wiki/CAMEL">CAMEL</a> services, i.e.  interfaces to billing platforms (GSM-SCF - interfaces between SGSN and IN platforms for pre-paid subscribers) <br><br>  <i>In the case of MO-SMS (the message is sent from the mobile terminal), the SGSN requests "permission" from the SCP platforms (IN platform) to send a short message to the pre-paid subscriber.</i>  <i>In the absence of the necessary balance of funds in the prepaid subscriber account, the IN platform will deny the ability to send messages.</i>  <i>If the SGSN receives an ‚Äúapproval‚Äù for the opportunity to provide sending an SMS message, then after successful delivery, the SCP (IN) platform will be notified of this event and will also update the balance of funds on the subscriber‚Äôs account for sending the message.</i> <i><br></i> <br><br></li><li>  Gr presence between SGSN and HLR </li><li>  Gf interface between SGSN and <a href="http://ru.wikipedia.org/wiki/EIR">EIR</a> (check subscriber equipment - <a href="http://ru.wikipedia.org/wiki/IMEI">IMEI</a> Check procedure) </li><li>  Gd interface between SGSN and <b>SMS-GMSC</b> </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a4/4d0/1d9/1a44d01d946cac613baebea573de0e52.jpg" alt="image"></div><br>  Moreover, it should be noted that the last two interfaces are optional and are connected at the request of the operator.  In addition to having the necessary interfaces on the SGSN side, it is necessary to redefine the priority way of sending short messages on the subscriber‚Äôs mobile terminal (see the first paragraph ‚Äî select ‚ÄúUse packet data‚Äù) + naturally, activate the functionality of sending SMS messages on the SGSN itself. <br><br>  Let us make a small digression from our main topic and give a little explanation to the diagram above. <br><blockquote>  First, we see from the scheme that there are interfaces intended only for signaling between network elements, as well as interfaces designed for both signaling and data transmission between network elements.  The main difference in these two types of interfaces is that the signal interfaces can "process" messages of different subsystems and <a href="http://ru.wikipedia.org/wiki/SS7">SS7</a> protocols, and on interfaces for data transfer, in addition to this, it is also possible to transfer payload from / to users.  For example, the Gr interface between SGSN and HLR serves mainly to receive / modify / update service information in the subscriber profile, and packets from / to the subscriber pass through the Gn interface. <br><br>  Secondly, I would like to draw your attention to the fact that the Gb interface is the link between the SGSN and the base station controller ( <a href="http://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D1%2582%25D1%2580%25D0%25BE%25D0%25BB%25D0%25BB%25D0%25B5%25D1%2580_%25D0%25B1%25D0%25B0%25D0%25B7%25D0%25BE%25D0%25B2%25D1%258B%25D1%2585_%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D1%2586%25D0%25B8%25D0%25B9">BSC</a> ), but actually connects the SGSN with special boards for packet data processing (PCU), which are part of the BSC.  It is these cards that are the capacitive characteristic of packet transmission (GPRS / EDGE) of data on the base station controller (BSC). <br><br>  Thirdly, if you pay attention to the Ge interface, you can see that it actually connects some component parts both on the SGSN side and on the SCP (IN) side of the platform.  These components are special logic modules in terms of SS7 - gprsSSF for SGSN and gsmSCF for SCP, which are implemented programmatically on the specified network elements. <br></blockquote><br>  Some more conditions that can "affect" the ability to send / receive SMS messages through a packet network are some parameters in the subscriber profile in the HLR related to voice services, since  The ‚Äústandard‚Äù SMS sending scheme is closely intertwined with voice services: <br><ul><li>  <b>BAOC</b> - BArring of Outgoing Calls (barring outgoing calls) </li><li>  <b>BOIC</b> - Barring of Outgoing International Calls (barring outgoing international calls) </li><li>  <b>BOIH</b> - Barring of Outbound International Calls (excluding outgoing international calls, except those addressed to the subscriber‚Äôs home network) </li></ul><br>  In principle, there is a distinction between bans (barring) of voice services and SMS messages, but some devices do not correctly handle these bans, so the presence of bans on voice services may affect the ability to send SMS over GPRS. <br><br>  In addition to the above, to simplify the implementation of the functionality of SMS over GPRS, is provided, the so-called.  <b>SMS Routing Settings</b> on the SGSN side, which ensures correct delivery of messages without the need to make any changes on the subscriber side, in terms of changing SMS centers. <br><br><h4>  Mobile-Terminated SMS Transfer </h4><br>  As an example, let's consider what the difference between receiving a short message (MT-SMS), through the "standard" message transmission channels, compared to receiving the same message through the operator's packet network, will be radically different. <br><br>  As you can see from the diagram above, the procedure for delivering an SMS message according to the ‚Äústandard‚Äù scheme is in principle no different from sending short messages through a packet network, except for the fact that the key element controlling and controlling the transfer of a message instead of MSC / VLR is SGSN.  This situation is the case with sending SMS (MO-SMS) messages via the packet network, in comparison with the ‚Äústandard‚Äù scheme. <br><br><h4>  Summary </h4><br>  As we can see from the entire description above, the introduction of additional functionality for sending SMS messages through the operator‚Äôs packet network does not make it particularly difficult on an already existing network, but at the same time allows optimizing the entire network and providing additional functionality to subscribers. <br><br>  Summarize all the information on the service <b>SMS over GPRS</b> and identify it <br><br>  <b><i>limitations:</i></b> <br><ul><li>  support of the subscriber‚Äôs mobile terminal is necessary (in principle, this is no longer a limitation, since most of the devices will support this functionality) </li><li>  GPRS / EDGE coverage for operators is usually ‚Äúweaker‚Äù than GSM voice service coverage </li><li>  Reducing the cost of sending SMS messages for operators, to which they do not always agree ... </li></ul><br>  and <b><i>benefits:</i></b> <br><ul><li>  The SMS_over_GPRS sending rate is set at up to 30 messages per minute, while with the ‚Äústandard‚Äù scheme, the speed varies from 6 to 10 messages per minute ( <strike>only ‚ÄúShhhhhhhhhhhhhhh! :)</strike> </li><li>  opportunity to reduce the cost for messages transmitted through the packet data channels </li><li>  load reduction + network operator optimization </li></ul><br>  But the question why in the CIS territory this functionality has remained unclaimed remains open ... either the operators are not aware of this functionality, or they don‚Äôt want to implement, or something else ... :) <br><br>  <b>UPD.</b>  A small clarification: to fully verify this functionality, you need to perform the GPRS Attach procedure (on Nokia, you can choose a permanent connection to the operator‚Äôs packet network: ‚ÄúMenu‚Äù -&gt; ‚ÄúDevice connection‚Äù -&gt; ‚ÄúPacket data‚Äù -&gt; ‚ÄúPacket connection‚Äù -&gt; ‚ÄúPermanent access. ‚ÄùAt the same time, the letter‚Äú G ‚Äù[‚Äú E ‚Äù] usually appears, which symbolizes that you have passed the authentication procedure in the operator‚Äôs packet network <br><br>  <b><i>A small assistant:</i></b> <br><br>  <b>BSC</b> - Base Station Controller <br>  <b>BSS</b> - Base Station Subsystem <br>  <b>BTS</b> - Base Transceiver Station <br>  <b>CAMEL</b> - Customized Applications for Mobile Enhanced Logic <br>  <b>GGSN</b> - GPRS Gateway Service Node <br>  <b>GMSC</b> - Gateway MSC <br>  <b>HLR</b> - Home Location Register <br>  <b>IN</b> - Intelligent Networks <br>  <b>IWMSC</b> - InterWorking Mobile services Switching Center <br>  <b>MS</b> - Mobile Station <br>  <b>MSC</b> - Mobile Switching Center <br>  <b>PCU</b> - Packet Control Unit <br>  <b>PDP</b> - Packet Data Protocol <br>  <b>SCF</b> - Service Control Function <br>  <b>SCP</b> - Service Control Point <br>  <b>SSF</b> - Service Switching Function <br>  <b>SGSN</b> - Serving GPRS Support Node <br>  <b>SMS</b> - Short Message Service <br>  <b>SM-SC</b> - Short Message Service Center <br><br>  <b><i>Related link (en):</i></b> <br><ul><li>  <a href="http://www.3gpp.org/ftp/Specs/html-info/23040.htm">Technical realization of SMS - TS 23.040</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/86980/">https://habr.com/ru/post/86980/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86970/index.html">The first steps into the world of programming under nanoCAD</a></li>
<li><a href="../86972/index.html">New version of Lotus Symphony 3.0 - more functionality and stability</a></li>
<li><a href="../86977/index.html">Implement Polling on Google App Engine</a></li>
<li><a href="../86978/index.html">Requirements for the layout for drupal</a></li>
<li><a href="../86979/index.html">Bringing to mind Windows Media Center with the add-on - Media Browser</a></li>
<li><a href="../86981/index.html">Zone ". RF", and how not to lose money on it</a></li>
<li><a href="../86982/index.html">March 10, 1940 was born Carlos Ray Norris</a></li>
<li><a href="../86983/index.html">Errors novice studio manager</a></li>
<li><a href="../86985/index.html">The coverage map of the Krasnodar Territory by the cellular operator Tele2 should be radically altered</a></li>
<li><a href="../86987/index.html">Revenues from the sale of songs completely bypass the artist!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>