<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Frequency management and overclocking of AMD Radeon notebook video cards in Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With regard to things, I am a rather conservative person, so I use everything ‚Äúto the end‚Äù, while things perform their functions and try to get everyt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Frequency management and overclocking of AMD Radeon notebook video cards in Windows</h1><div class="post__text post__text-html js-mediator-article"> With regard to things, I am a rather conservative person, so I use everything ‚Äúto the end‚Äù, while things perform their functions and try to get everything from them that they are capable of.  It was the same with computer technology, so the topic of ‚Äúoverclocking‚Äù was always interesting for me and practiced on everything that was used.  One of the latest gadgets purchased was the HP ProBook 4530s laptop in the Intel Core i3 / AMD Radeon HD 6490M configuration.  This story is about what and how I made the AMD video card consume less and work faster. <br><br><img src="https://habrastorage.org/files/6f7/9c9/310/6f79c93108ab47998ad524ef586cedad.png" alt="image"><br><a name="habracut"></a><br>  As you know, in laptops, almost everything is hidden and locked, a minimum of iron settings, specific configurations, etc., that is, everything is done so that the user cannot ‚Äútwist‚Äù anything superfluous.  Actually, that's why I became interested in the message in the profile <a href="http://forum.ixbt.com/topic.cgi%3Fid%3D17:42762:1795">topic of the conference</a> about the possibility of overclocking a video card.  Having quickly got to the bottom of the system changes, it was determined that the ‚ÄúOverDrive‚Äù tab appears from entering the binary data in the registry with the name ‚ÄúPP_PhmSoftPowerPlayTable‚Äù. This record is located in the hardware driver settings <b>HKEY_LOCAL_MACHINE \ SYSTEM \ CurrentControlSet \ Control \ Class \ {4D36E968-E325 BFC1-08002BE10318} \ 00xx</b> "(depending on the order of location and installation of video cards xx may change, but it‚Äôs not difficult to understand, there is a text designation of video cards). After that, the Catalyst Control Center had the opportunity to change the maximum core and memory frequencies. Everything worked, everything accelerated  tom at that time and stopped. <br><br>  It so happened that using a laptop, despite the presence of ‚Äúswitchable graphics‚Äù (Switchable Graphics) in it, I prefer manual switching of video cards and almost always use AMD.  So it works "smoother", and low consumption is not a priority, since the laptop spends most of the time working connected to the outlet.  But I still wanted the laptop to consume (and warm up) less in the budget profile.  Once I happened to meet the Radeon - <a href="http://www.techpowerup.com/rbe/">RBE - Radeon BIOS editor</a> bis editing program.  One of its features was tuning frequencies for PowerPlay profiles.  However, editing the bios directly was not possible.  Despite the fact that the BIOS of the laptop can be "unzipped", fix something and "pick up" back, it is not possible to flash it into my laptop.  And then it dawned on me, and would not the ‚ÄúPP_PhmSoftPowerPlayTable‚Äù entry be equivalent to the same tables, only in the video card's BIOS?  And, as it turned out later - it will be! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So let's get started.  We need a bios video card radeon.  Unpack the BIOS BIOS firmware update image (I do it with Total Commander) and look for the string ‚ÄúATOMBIOSBK-ATI‚Äù in the files, as I understand it is the trademark of their bios.  And here is the first surprise: we find as many as 6 different files, half of which (judging by the lines in which they come across) are intended for the ‚ÄúHP_IEC_Roxette_SeymourXT_GDDR5‚Äù platform (not mine), half for the ‚ÄúHP_IEC_Ramones_SeymourXT_GDDR5‚Äù (the Ramones is the name of the laptop, which is the way for the figure, ‚Äúfor the symphourXX_XeymourXT_GDDR5‚Äù (Ramones is the name of the laptop, which is the way for us), half of the way for the HP_I_X_X_GDDR5; HD 6490M). <br><br><img src="https://habrastorage.org/files/7a4/cdf/297/7a4cdf297ae64d3baa23ec987ceebc27.png" alt="image"><br><br>  There was a question how to choose from the 3 file I needed (initially I did not know whether the data from the ‚ÄúPP_PhmSoftPowerPlayTable‚Äù record would match the data in the file).  Tester AIDA64 provided the following information about the video card. <br><br>  <b>[AMD Radeon HD6490M]</b> <b><br><br></b>  <b>Video adapter properties:</b> <b><br></b>  <b>Device Description - AMD Radeon HD6490M</b> <b><br></b>  <b>Adapter string - AMD Radeon HD6490M</b> <b><br></b>  <b>BIOS string - BR41262.S02</b> <b><br></b> <br><br>  I was interested in the "String BIOS" and, as it turned out, it was unique for each file.  The file was found, we are looking for the entry of binary data from the ‚ÄúPP_PhmSoftPowerPlayTable‚Äù record in it and find it!  It turns out that the driver has a mode for replacing PowerPlay tables from BIOS with a record from the registry.  Now our task is to correct the tables in the BIOS and make equivalent changes to the registry. <br><br><img src="https://habrastorage.org/files/842/4de/7f9/8424de7f92434e5585e9f1e998e1dff5.png" alt="image"><br><br>  Here I want to draw attention to where this very ‚ÄúOverDrive‚Äù comes from.  When opening the original BIOS file, RBE video card warns you that the OverDrive settings are not recorded.  Comparing the original tables and see from the registry: <br><br><img src="https://habrastorage.org/files/528/e4e/9a8/528e4e9a87874c45a96dbce5ee64784f.png" alt="image"><br><br>  Instead of zeros, there appeared records of maximum permissible frequencies for the core and memory (here they are recorded in x10kHz).  After making the appropriate changes to the bios image file, we see our frequencies on the OverDrive editing tab in RBE, which confirms the research. <br><br><img src="https://habrastorage.org/files/88c/947/07d/88c94707d8f84c0d9ea9bc8523ab567f.png" alt="image"><br><br>  A little bit about PowerPlay.  This is a power management technology video card.  In the mobile version of the organized two profiles - economical and productive.  They switch in the settings of the Catalyst Control Center and are set in the BIOS by various scenarios. <br><br><img src="https://habrastorage.org/files/693/1e7/dae/6931e7dae5b64af6bf74dd61b62a937d.png" alt="image"><br><br><img src="https://habrastorage.org/files/005/b0d/5f0/005b0d5f0be04519904b520738cb5bae.png" alt="image"><br><img src="https://habrastorage.org/files/3de/425/cc9/3de425cc967f4ef1943858fff2c70c5d.png" alt="image"><br><br>  Scenario "1" includes a set of 3 states and is used in the performance mode, scenario "3" - for the "energy saving" mode.  There is also a separate script (‚Äú2‚Äù) intended for the hardware video decoding mode. <br><br>  Actually, further, I think everything is clear, we change the frequency of scenarios as you like, take the modified PowerPlay table and enter it into the registry.  With frequencies it seems to be simpler, the clock generator is built into the chip, frequencies are probably generated uniformly and there should be no problems with it, but since we lowered the frequency of the GPU in some states, it becomes interesting to reduce its supply voltage.  But here, as we understand, everything is very vendor-specific.  We look how it is made: <br><br> <a href=""><img src="https://habrastorage.org/files/a0c/d1e/d80/a0cd1ed800b34c42a5055dc5470abc31.png" alt="image"></a> <br><br>  Actually, the <a href="http://www.ti.com.cn/cn/lit/ds/symlink/tps51511.pdf">PWS</a> controller <a href="http://www.ti.com.cn/cn/lit/ds/symlink/tps51511.pdf">TPS51511</a> .  It was conceived as a 2-level, but slightly modified the circuit by getting 4 switchable voltage levels.  The control is carried out by signals POW_SW1 and POW_SW0.  But where do they come from: <br><br><img src="https://habrastorage.org/files/698/097/183/69809718303b4259a8f3ab71841ae4f0.png" alt="image"><br><br>  This GPU chip, as you can see, is used with arbitrary input / output lines (GPIO).  Understanding the question, I learned that the video card's BIOS provides the functions of setting the frequencies of the GPU, memory and voltage, that is, it seems like a vedor-specific hardware is backed up by software, which means you can try.  I think that there are some thresholds in the BIOS, depending on which and the voltage set for the installation, the states of the POW_SW1 and POW_SW0 pins will change accordingly.  In order not to disassemble and measure whether the voltage actually changed, I decided to evaluate this by heating the GPU in the test in power saving mode.  The assessment showed a decrease in temperature by 5-7gr at the same frequencies, that is, it worked! <br><br>  Here is the whole short story.  As for my video card, initially the maximum GPU / memory frequencies were 750/900.  Its architecture is such that the performance is limited to the GPU.  With tests, a 15% increase in the GPU frequency gives about 11% of the performance gain, while a memory frequency increase of the same 15% gave only 1% of the performance.  I stopped at the settings as in the last RBE screenshots.  The OverDrive mechanism itself is better not to use, because when it is activated, intermediate states of frequencies are taken not from the registry table, but from the BIOS.  Therefore, the maximum desired frequencies were entered in the standard state.  Also in high-performance mode, the average state was made without switching the memory frequency and voltage.  As far as I understand, switching the memory frequency is accompanied by resetting the memory controller and additional ‚Äúgestures‚Äù, which, if you want maximum performance, well, it‚Äôs better not to use voltage in order to minimize any transients.  Also, the frequencies of the video decoding mode were reduced. <br><br>  According to the results of the tests, I received a temperature reduction (and therefore energy consumption) in an economical operating mode in the absence of noticeable performance degradation (actually when it is not needed) and an increase in productivity when it is needed. <br><br>  I think this technique will work on other configurations, but I do not have the opportunity to test it.  I would be glad if it is interesting to someone and someone will try and share the results. </div><p>Source: <a href="https://habr.com/ru/post/232265/">https://habr.com/ru/post/232265/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../232253/index.html">Verified by electronics</a></li>
<li><a href="../232255/index.html">A multiplying tool based on the Slonimsky theorem</a></li>
<li><a href="../232257/index.html">Accelerated web / mobile application development</a></li>
<li><a href="../232259/index.html">Online store. How to avoid elementary mistakes at the beginning and make life easier in the future</a></li>
<li><a href="../232261/index.html">How to deliver e-mail notifications to clients in the conditions of impossibility to register a reverse DNS zone</a></li>
<li><a href="../232267/index.html">ExifTool - Swiss Photo Meta Knife</a></li>
<li><a href="../232269/index.html">Conflict management or the first competence of the Dark Lord</a></li>
<li><a href="../232271/index.html">Pluralism of opinions through a fake IP address</a></li>
<li><a href="../232273/index.html">10 alternatives to the Google Play app store</a></li>
<li><a href="../232279/index.html">Evolution of the list of recommendations in SmartProgress</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>