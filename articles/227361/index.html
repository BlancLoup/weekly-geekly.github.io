<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a rating of players for the mobile game (Unity + Google Play Game Services)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Player rating (leaderboard, scores) for a mobile game is an interesting and sometimes necessary thing. In this article I will talk about how to add a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a rating of players for the mobile game (Unity + Google Play Game Services)</h1><div class="post__text post__text-html js-mediator-article">  Player rating (leaderboard, scores) for a mobile game is an interesting and sometimes necessary thing.  In this article I will talk about how to add a player rating to an application created in Unity, because  There is not much information about it in runet.  In addition, the rating will be cross-platform (android + iOS), but without the support of Windows Phone. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fbe/9dd/d44/fbe9ddd44596beffec45051946d03f10.png" alt="image"><a name="habracut"></a><br><br><h5>  Section 1. DEVELOPER CONSOL </h5><br>  1. We believe that the application has already been published on Google Play, i.e.  we have a package name, for example com.AnonymousInteractives.NakedSnake 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2. Go to [developer console] (Developer Console), on the left open [game services] (Game Services) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fb5/d04/d6d/fb5d04d6d5442254a5163538d16e1e1f.png" alt="image"><br><br>  3. Click "Add a new game" and specify the name of the game and category.  There may be some confusion.  The term "game" here means gaming service.  The name may not coincide with the real name of your application.  The game service has a unique identifier, for example 88171208539 <br><img src="https://habrastorage.org/getpro/habr/post_images/334/e0b/669/334e0b669a9d3b6f1ffcc200ef00ccab.png" alt="image"><br><br>  4. Fill [game info] - description and pictures <br><br>  5. In the [Related Applications] section, you can associate up to 20 applications with the gaming service.  It can be android, iOS and web applications.  Choose android.  Then you just need to enter the name of the application package from item 1 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/abb/625/075/abb6250757f088f48a673aae9826deb0.png" alt="image"><br><br>  6. In the [achievements] section you need to add achievements.  You can skip this item for testing, but for publication you need to add at least 5 achievements.  If we have no achievements in the game, then simply create fake achievements 1, 2, 3, 4, 5 and forget about them. <br><br>  7. Finally, we go to the [Player Rating] section.  We create the ratings we need, everything is obvious.  As a result, we get a rating with some identifier, for example, CgkI276nu8gCEAIQAA.  Subsequently, he and the gaming service ID will be needed for us to configure the plug-in in Unity and access the service <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb9/46f/e8e/eb946fe8e5b216cf52de3c20b6962f50.png" alt="image"><br><br>  8. In the [testing] section, you can add accounts for testing.  And you can specify exactly email accounts, not a Google+ group, as when testing the game itself <br><br>  9. In the [publication] section, you can publish the game, although this is not necessary for testing.  All, the developer console, we no longer need <br><br><h5>  Section 2. Unity </h5><br>  1. Go to the play-games-plugin-for-unity project page and download the project (link ‚ÄúDownload ZIP‚Äù).  In the archive we find the file GooglePlayGamesPlugin-0.9.02.unitypackage <br><br>  2. Open the application project in Unity <br><br>  3. Double click on GooglePlayGamesPlugin-0.9.02.unitypackage and import the package into the project. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/619/569/71d/61956971df43949b6dbc6a7be68c5c64.png" alt="image"><br><br>  4. Go to the menu File / Play Games - Android setup and enter the ID of our service (see step 3 from the previous section).  That's it, the setup is complete! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f1/bc6/a44/1f1bc6a4441b16f8a0e162a066843de2.png" alt="image"><br><br>  5. Now it remains to add a couple of lines of code and we will have a player rating.  The graphical user interface is in the Android SDK, so we don‚Äôt have to spend time on it.  At the same time, there is no customization of the UI (except for the settings in the developer console, the rating icon and the unit of measurement).  On the page of the plug-in (see point 1) there is enough background information, so I will give a commentary code without making a comment on the entry in the rating of players and its subsequent display.  I note that the process is asynchronous, and callback comes to every action.  Because of this, it may be difficult to make entries in several ratings at once.  As an option - the implementation of chains from callback.  Alternatively, you can call ReportScore in parallel and handle all callbacks so that only the last one opens the rating with a ShowAchievementsUI call. <br><br><pre><code class="cs hljs">PlayGamesPlatform.DebugLogEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; PlayGamesPlatform.Activate(); Social.localUser.Authenticate(authenticated =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!authenticated || !Social.localUser.authenticated) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(); } Social.ReportScore(<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-string"><span class="hljs-string">"CgkI276nu8gCEAIQAA"</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> success) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (success) { Social.ShowAchievementsUI(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(); } }); });</code> </pre> <br><br><h5>  Section 3. Conclusion </h5><br>  Unfortunately, there is no support for Windows Phone.  Everything is very sad there, you will find a low-level implementation of interaction with Azure and writing your own UI, but you could not find a ready-made and working solution. <br>  That's all for now, thank you for your attention.  In the future, if someone is interested, I can consider the process of creating a web application for moderating ratings (deleting cheaters, for example), because  There are no tools for this in the developer console. </div><p>Source: <a href="https://habr.com/ru/post/227361/">https://habr.com/ru/post/227361/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../227343/index.html">Portable and accurate: Dacuda PocketScan wireless scanner</a></li>
<li><a href="../227347/index.html">Unresponsive design</a></li>
<li><a href="../227349/index.html">Cisco vs. Juniper</a></li>
<li><a href="../227351/index.html">Getting started with ASP.NET Identity</a></li>
<li><a href="../227359/index.html">Python Party in Moscow</a></li>
<li><a href="../227363/index.html">How we collected Roboogolov</a></li>
<li><a href="../227365/index.html">Autopilot for Highways for $ 10,000</a></li>
<li><a href="../227367/index.html">Satellite router Globalstar Sat-Fi distributes the Internet to ordinary gadgets</a></li>
<li><a href="../227369/index.html">The first Evernote beta for Mac 5.6 is available for installation.</a></li>
<li><a href="../227371/index.html">3D models of human viruses. Part Two: Molecular Modeling and Bioinformatics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>