<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Filtering Texts by Regular Expression List</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the collection of scripts for the HabrAjax 0.79 site, it became possible to collapse annotations in the ribbon for authors specified by the reader ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Filtering Texts by Regular Expression List</h1><div class="post__text post__text-html js-mediator-article">  In the collection of scripts for the <a href="https://greasyfork.org/en/scripts/1970-habrajax">HabrAjax</a> 0.79 site, <a href="https://greasyfork.org/en/scripts/1970-habrajax">it</a> became possible to collapse annotations in the ribbon for authors specified by the reader and if the specified lines coincide (you can call the folding lines).  For example, if the reader wants to highlight the works of a certain author, showing only the title of the article in any tape (main, favorites, search), he enters the author‚Äôs name into a special list and includes a folding setting.  Or - collapse annotations, if in the title or in the text of the annotation there is a certain sequence of characters (not words, but symbols).  The second filter works on regular expressions, so the reader actually sets not the strings separated by commas, but the bodies of regular expressions, ignoring the size of the letters, but taking into account all the characters and spaces. <br><a name="habracut"></a><br>  On this fact, you can build filters that take into account the declination of words.  For example, if there is a desire to roll up announcements using words from the ‚Äúmotivation‚Äù group (for example), you need to write the following filter string: ‚Äúmotivational, motive‚Äù (without a space) or add it with similar roots.  The filter will search for regular text / motivac / im, / motive / im in each annotation text (‚Äúim‚Äù specifiers mean: ‚Äúsearch ignore case, for all lines.‚Äù If found, the body of the regular expression (all found) is added to the signature therefore the reader will know for what reason the annotation is folded. <br><br>  All folding takes place to the size of the header.  Content and tags are collapsed, title and caption are visible.  Full list of minimization settings (everything is disabled): <br>  1. Search by authors from the list of authors. <br>  2. Search by lines - regular expressions - in the texts of annotations and in their titles (ignoring case of letters). <br>  3. Search for the names of blogs, considering them as the beginning of the annotation (Use the "^" symbol at the beginning). <br>  4. Collapse blogs companies. <br>  5. Collapse podcasts (includes several blogs). <br>  6. Mode of incomplete folding "Forced cat" - collapses the content to a height of 240 pixels and makes a number of other sealing actions. <br><br>  <b>Example of</b> setting up the line: <br><img src="https://habrastorage.org/getpro/habr/post_images/15c/8b7/3ff/15c8b73ff4ec9f9126799e6f9ebc2bab.png"><br>  <b>An example of the</b> result of the specified filter (it is clear that the words "Sean" and "Junio" found in the filter were found): <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/084/2d4/d39/0842d4d390de2c30769c5f747d938d69.png"></td></tr></tbody></table><br><h5>  Limitations: </h5><br>  Of course, when writing, it is necessary to take into account special symbols of expressions and to screen them with an inverse slant.  Particular attention should be paid to the points (write as "\."), Because in reg.expressions they mean "any character".  And do not use commas, because they are list separators.  Full set of special characters: "* /. + $ ^? \ () [] {}".  Read more about reg expressions <a href="http://javascript.ru/basic/regular-expression">here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the list of authors, regular expressions are not used, case is taken into account, extreme spaces are ignored. <br><br>  Now there is a similar filter <a href="http://userscripts.org/scripts/show/87349">HabraTopicFilter</a> , from crea7or, which does not have a search by rows, but collapses annotations by authors.  In addition, it works by blog names (collapse blogs with the specified names and by companies in general (separate setting). There is no possibility to view and edit text lists. It would not have been difficult to write the third setting in HabrAjax - collapse by blog names. But not to produce the number of settings, another solution was invented - attach the blog name to the beginning of the annotation text (so you can search by "^ blog_name"). In the HabrAjax script, there are also 2 special filter settings ‚Äî on companies' blogs in general and on the podcast  am <br><br>  The site has a view of the tape without any articles of companies ("Thematic").  But the advantageous difference between the ‚ÄúCollapse companies' blogs‚Äù setting is that it leaves the names of companies and articles (in the general tape) and a full view on the click on the name.  If you need to minimize several specific companies, you should start the filter string by company name with the symbol "^".  For example, "^ Personal blogs". <br><br><h3>  Forced cat </h3><br>  Finally, in the settings of HabrAjax there <b>is an incomplete folding mode</b> , the so-called ‚ÄúForced Cat‚Äù.  It solves several other related problems and also limits the visible amount of information in the tape. <br><br>  A complete list of Forced Kata strategies and rules: <br>  1. Limits the maximum height of the annotation (244 pixels for ZenComment styles and 344 for classics). <br>  2. Reduces the size of pictures (maximum 240 by 120 or 340 by 170). <br>  3. Replaces videos reduced links with pictures. <br>  4. Moves low-lying images to the top to wrap text, marking the starting positions of the images. <br>  5. Removes vertical spaces, replacing small gray blocks. <br>  6. Reduces leading by 10%, if it avoids the scroll bar. <br>  7. The problem of a large number of tags is solved, as in the example: <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/b5a/885/fb2/b5a885fb2a8155e0712a3ab7fa420580.png"></td></tr></tbody></table><br>  <b>Examples of the</b> work of forced kata.  Classic (decreased pictures and video): <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/82b/76d/5e0/82b76d5e0a4c45170fc19441719f5f46.png"></td></tr></tbody></table>  Example in <b>ZenComment</b> (on another annotation: pictures, video have decreased, vertical gaps are compressed, picture 1 is moved up, scrolling appears; height - 244 pixels): <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/1e6/840/1a2/1e68401a260dd4c8e74f30b450e3d1d0.png"></td></tr></tbody></table>  What is the 6th strategy like?  (A strategy, not a rule, because each point may require a sequence of measurements and actions distributed over time.) The difference in this screenshot is clearly visible.  Left - without it, right - with the application.  The scrollbar disappears, which was practically useless and made it difficult to view the last line of text.  Cost - a slight text compression.  This is practiced in newspapers when it is necessary to adjust the height of the column.  The probability of occurrence is less than 10%.  (If the code uncomments' sett-topic2'.wcl, in the console you can see to which topics the rule is applied and with what delay.) Corrects the visibility of the last 1-2 lines. <br> <a href=""><img src="http://s61.radikal.ru/i171/1201/e5/2fc47f17b8f4t.jpg"></a> <br><br>  One reason for the use of such kata is not to ‚Äúshine‚Äù strange and entertaining pictures that appear in tapes on the full screen in the office during working hours.  The type of tape becomes more "business".  Another is to restrict the texts of authors who have no sense of proportion in the size of annotations.  The numbers ‚Äú120‚Äù, ‚Äú240‚Äù are optimal for the ZenComment style mode and can be changed directly in the script code (variable strongCutImgMinH).  (Whether it is necessary to make the settings is an open question. After all, you can accidentally change and forget about it, and then think that these are errors of the script or the site. As, however, it happens now with filters on blogs on the site. With the numbers selected, it is forced The cat gets a relatively small part of the annotations (5-20%).) <br><br>  All these methods of text reduction are a combination of a number of processing rules and can be disassembled in the text of a script by searching for the words ‚Äúif (h.settings.strongCut.val)‚Äù and ‚Äúh.settings.noAuthor.val‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/136301/">https://habr.com/ru/post/136301/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136295/index.html">Nginx + uWSGI + virtualenv + Django on Debian Squeeze</a></li>
<li><a href="../136296/index.html">CES 2012 // Acer Aspire S5</a></li>
<li><a href="../136298/index.html">Official release of ADO.NET driver for CUBRID</a></li>
<li><a href="../136299/index.html">Where do you buy games online?</a></li>
<li><a href="../136300/index.html">Death in games. Monday video</a></li>
<li><a href="../136302/index.html">Droider Show # 23. IT guy in Vegas and Jim Carrey!</a></li>
<li><a href="../136303/index.html">The number of Internet users in China has reached 513 million people</a></li>
<li><a href="../136304/index.html">Strange and unusual alarm clock from Archos</a></li>
<li><a href="../136305/index.html">Misunderstanding of the CAP theorem</a></li>
<li><a href="../136307/index.html">World map from old motherboards (another way to add garbage)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>