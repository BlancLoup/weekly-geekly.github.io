<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tuning Swift compiler. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Overview of Swift 3 compiler and ways to speed it up. Part 1. 
 Debunking existing myths. Opinion on autocompletion problems in Xcode. 

 Preface: 


...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tuning Swift compiler. Part 1</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://cloud.kilograpp.com/f/26970d482b/?dl=1&amp;t=1" alt="image"></p><br><p>  Overview of Swift 3 compiler and ways to speed it up.  Part 1. <br>  Debunking existing myths.  Opinion on autocompletion problems in Xcode. </p><br><a name="habracut"></a><br><h3 id="predislovie">  Preface: </h3><br><p>  Our company is engaged in the development of turnkey mobile applications.  Many of our iOS developers speak Objective-C better than Russian, their Cocoa girl, and they sleep in an embrace with an iPhone ... and now we suddenly write on Swift. </p><br><p>  I will not talk about the different shoals of syntax, funny "Segmentation Fault: 11", periodically dying backlight, it's all already known.  Let it hurt, but bearable. <br>  But there is something truly killing business, not just discomforting.  Slow compiler.  Yes, yes, this is not just a loud headline. <br>  When projects of the same size on Obj-C and Swift are assembled with a fourfold time difference.  When adding one method starts rebuilding half of the entire code.  When compiler errors generally disable it, this is really a killing of developer time.  And as you know: time is money. </p><br><p>  There are two options: continue to whine and endure, or to resolve the issue.  We chose the latter. </p><br><h3 id="izobretenie-velosipeda">  The invention of the bicycle </h3><br><p>  Before plunging knee-deep in Swift, we pre-rustled across the expanses of the Internet for existing research on this subject.  Fortunately, a good <a href="https://habrahabr.ru/post/283106/">article</a> was found in Russian and the original one in <a href="https://medium.com/%40RobertGummesson/regarding-swift-build-time-optimizations-fc92cdd91e31">English</a> . </p><br><p>  So why another produce?  And then, that, firstly, it was all before the third Swift, secondly, some of the statements in the article are not entirely true, and it would be nice to supplement the list of cunning places.  What we do. </p><br><p>  The material here is not on one article, so I will lay out gradually. <br>  And besides the compilation speed itself, there is still a performance factor at runtime, which should also be covered. </p><br><p>  Let's start with what was already known, but just check for relevance in Swift 3. </p><br><h4 id="nil-coalescing-operator">  Nil Coalescing Operator </h4><br><p>  My favorite feature is Swift, sugar optional.  Something like a nil-safe message in Obj-C. </p><br><p>  Take an example from past articles.  Now you will understand why they are not quite correct: </p><br><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-keyword"><span class="hljs-keyword">left</span></span>: <span class="hljs-type"><span class="hljs-type">UIView?</span></span> = <span class="hljs-type"><span class="hljs-type">UIView</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>: <span class="hljs-type"><span class="hljs-type">UIView?</span></span> = <span class="hljs-type"><span class="hljs-type">UIView</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> width: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> height: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> size = <span class="hljs-type"><span class="hljs-type">CGSize</span></span>(width: width + (<span class="hljs-keyword"><span class="hljs-keyword">left</span></span>?.bounds.width ?? <span class="hljs-number"><span class="hljs-number">0</span></span>) + (<span class="hljs-keyword"><span class="hljs-keyword">right</span></span>?.bounds.width ?? <span class="hljs-number"><span class="hljs-number">0</span></span>) + <span class="hljs-number"><span class="hljs-number">22</span></span>, height: height)</code> </pre> <br><p>  <strong>Compile time</strong> : 12 seconds! <del>  Buddy, do you have a third stump? </del><br>  Even worse than it was in Swift 2.2. </p><br><p>  I want to say: "Wow, Apple, what the?", But do not rush to conclusions.  Let's optimize this code a bit by breaking the long expression into several small ones: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> firstPart = <span class="hljs-keyword"><span class="hljs-keyword">left</span></span>?.bounds.width ?? <span class="hljs-number"><span class="hljs-number">0</span></span> + width <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> secondPart = <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>?.bounds.width ?? <span class="hljs-number"><span class="hljs-number">0</span></span> + <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> requiredWidth = firstPart + secondPart <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> size = <span class="hljs-type"><span class="hljs-type">CGSize</span></span>(width: requiredWidth, height: height)</code> </pre> <br><p>  <strong>Compile time</strong> : 30 ms.  (milliseconds) </p><br><p>  It turns out, it's not at all evil optional? <br>  But no, that would be too easy.  Let's complicate the task: </p><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b: <span class="hljs-type"><span class="hljs-type">B?</span></span> = <span class="hljs-type"><span class="hljs-type">B</span></span>() } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>: <span class="hljs-type"><span class="hljs-type">C?</span></span> = <span class="hljs-type"><span class="hljs-type">C</span></span>() } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> d: <span class="hljs-type"><span class="hljs-type">D?</span></span> = <span class="hljs-type"><span class="hljs-type">D</span></span>() } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">D</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value: <span class="hljs-type"><span class="hljs-type">CGFloat?</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span> } ... <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-keyword"><span class="hljs-keyword">left</span></span>: <span class="hljs-type"><span class="hljs-type">A?</span></span> = <span class="hljs-type"><span class="hljs-type">A</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>: <span class="hljs-type"><span class="hljs-type">A?</span></span> = <span class="hljs-type"><span class="hljs-type">A</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> width: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> height: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-comment"><span class="hljs-comment">//  ! let firstPart = left?.b?.c?.d?.value ?? 0 + width let secondPart = right?.b?.c?.d?.value ?? 0 + 22 let requiredWidth = firstPart + secondPart let size = CGSize(width: requiredWidth, height: height)</span></span></code> </pre> <br><p>  <strong>Compile time</strong> : 35 ms. </p><br><p>  <strong>Conclusion</strong> : The Nil Coalescing Operator is all sterile, you can use. <br>  But then what was the problem? </p><br><p>  It is not difficult to guess that the root of evil lurks in long expressions.  The author of the Russian <a href="https://habrahabr.ru/post/283106/">article</a> casually mentioned that the problem with the nil coalescing operator is reproduced only in complex operations, but, unfortunately, I did not focus on this. </p><br><p>  <strong>The rule is as follows</strong> : the compiler causes constipation of an expression with several complex components.  That is, those that are not just variables, but also perform some actions.  But you can add variables as much as you want. </p><br><p>  You probably say, "Where are the proofs, Billy?" </p><br><p>  Good.  Then we take the previous code, but we will not split it into sub-operations: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> requiredWidth = <span class="hljs-keyword"><span class="hljs-keyword">left</span></span>?.b?.<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>?.d?.value ?? <span class="hljs-number"><span class="hljs-number">0</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>?.b?.<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>?.d?.value ?? <span class="hljs-number"><span class="hljs-number">0</span></span> + width + <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> size = <span class="hljs-type"><span class="hljs-type">CGSize</span></span>(width: requiredWidth, height: height)</code> </pre> <br><p>  The result did not have to wait long (had to): <br><img src="https://cloud.kilograpp.com/f/78389a8373/?dl=1&amp;t=" alt="image"></p><br><p>  I quote, if you could not read from the screen: "Consider the difference in distinct sub-expressions". </p><br><p>  Translation: "The expression was too complicated to solve in a reasonable time. Break the formula into separate sub-expressions." </p><br><p>  PM </p><br><div class="spoiler">  <b class="spoiler_title">Unexpected over-effect</b> <div class="spoiler_text"><p>  <em>Further is an observation without a theoretical basis.</em> </p><br><p>  Many people have noticed that auto-completion falls off regularly in Xcode.  This usually happens at the time of the background compilation.  If you have written something like an expression that causes an " <em>Expression was too complex</em> ", then the hints will immediately die. </p><br><p>  This can be easily verified.  Take the same method and start writing self.view to get a hint: <br><img src="https://cloud.kilograpp.com/f/4ec001aabf/?dl=1" alt="image"></p><br><p>  And then add our killer expression.  Everything, you will not receive any more hints, even if it is hard to knock on ctrl + space <br><img src="https://cloud.kilograpp.com/f/46e4368c44/?dl=1" alt="image"></p><br><p>  It is treated by running an explicit compilation and elimination of the cancer code. </p></div></div><br><p>  Go ahead. </p><br><h4 id="ternarnyy-operator">  Ternary operator </h4><br><p>  The <a href="https://medium.com/%40RobertGummesson/regarding-swift-build-time-optimizations-fc92cdd91e31">article</a> also highlights the problems of the ternary operator.  Compile time of the code can be seen in the comments: </p><br><pre> <code class="hljs pgsql">// Build <span class="hljs-type"><span class="hljs-type">time</span></span>: <span class="hljs-number"><span class="hljs-number">239.0</span></span>ms let labelNames = <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> ? (<span class="hljs-number"><span class="hljs-number">1.</span></span>.<span class="hljs-number"><span class="hljs-number">.5</span></span>).map{type0ToString(<span class="hljs-meta"><span class="hljs-meta">$0</span></span>)} : (<span class="hljs-number"><span class="hljs-number">0.</span></span>.<span class="hljs-number"><span class="hljs-number">.2</span></span>).map{type1ToString(<span class="hljs-meta"><span class="hljs-meta">$0</span></span>)} // Build <span class="hljs-type"><span class="hljs-type">time</span></span>: <span class="hljs-number"><span class="hljs-number">16.9</span></span>ms var labelNames: [String] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> { labelNames = (<span class="hljs-number"><span class="hljs-number">1.</span></span>.<span class="hljs-number"><span class="hljs-number">.5</span></span>).map{type0ToString(<span class="hljs-meta"><span class="hljs-meta">$0</span></span>)} } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { labelNames = (<span class="hljs-number"><span class="hljs-number">0.</span></span>.<span class="hljs-number"><span class="hljs-number">.2</span></span>).map{type1ToString(<span class="hljs-meta"><span class="hljs-meta">$0</span></span>)} }</code> </pre> <br><p>  By the way, I have no such method as type0ToString in the SDK.  I replaced it with a simplified version, no difference: </p><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">let</span></span> labelNames = <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> == 0 ? (1...5).map{</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class">($0)} : (0...2).map{</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class">($0)}</span></span></code> </pre> <br><p>  <strong>Compile time</strong> : 260 ms.  While everything is confirmed. </p><br><p>  But it seems to me that the ternary operator is unjustly accused.  Let's try again to break the formula into separate expressions, but without using if-else: </p><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> first = (<span class="hljs-number"><span class="hljs-number">1.</span></span>.<span class="hljs-number"><span class="hljs-number">.5</span></span>).map{<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>($<span class="hljs-number"><span class="hljs-number">0</span></span>)} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-built_in"><span class="hljs-built_in">second</span></span> = (<span class="hljs-number"><span class="hljs-number">0.</span></span>.<span class="hljs-number"><span class="hljs-number">.2</span></span>).map{<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>($<span class="hljs-number"><span class="hljs-number">0</span></span>)} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> labelNames = type == <span class="hljs-number"><span class="hljs-number">0</span></span> ? first : <span class="hljs-built_in"><span class="hljs-built_in">second</span></span></code> </pre> <br><p>  <strong>Compile time</strong> : 45 ms </p><br><p>  But this is not the limit.  Simplify even more: </p><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> first = <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-built_in"><span class="hljs-built_in">second</span></span> = <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> labelNames = type == <span class="hljs-number"><span class="hljs-number">0</span></span> ? first : <span class="hljs-built_in"><span class="hljs-built_in">second</span></span></code> </pre> <br><p>  <strong>Compile time</strong> : 7 ms. </p><br><p>  Verdict: The ternary operator is justified. </p><br><h4 id="esche-neskolko-amnistiy">  Some more amnesties </h4><br><p>  Round () operation: </p><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">// Build time: 1433.7ms let expansion = a - b - c + round(d * 0.66) + e</span></span></code> </pre> <br><p>  <strong>Compile time</strong> : 6ms </p><br><p>  Addition of arrays: </p><br><pre> <code class="hljs pgsql">// Build <span class="hljs-type"><span class="hljs-type">time</span></span> Swift <span class="hljs-number"><span class="hljs-number">2.2</span></span>: <span class="hljs-number"><span class="hljs-number">1250.3</span></span>ms // Build <span class="hljs-type"><span class="hljs-type">time</span></span> Swift <span class="hljs-number"><span class="hljs-number">3.0</span></span>: <span class="hljs-number"><span class="hljs-number">92.7</span></span>ms ArrayOfStuff + [Stuff]</code> </pre> <br><p>  <strong>Compile time</strong> : 19ms </p><br><p>  And the sweetest: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> myCompany = [ <span class="hljs-string"><span class="hljs-string">"employees"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"employee 1"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 2"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 3"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 4"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 5"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 6"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 7"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 8"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 9"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 10"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 11"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 12"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 13"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 14"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 15"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 16"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 17"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 18"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 19"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], <span class="hljs-string"><span class="hljs-string">"employee 20"</span></span>: [<span class="hljs-string"><span class="hljs-string">"attribute"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>], ] ]</code> </pre> <br><p>  <strong>Compile time</strong> : 86 ms.  It could be better, but at least not <a href="https://spin.atomicobject.com/2016/04/26/swift-long-compile-time/">12 hours</a> . </p><br><hr><br><p>  On this first part I would like to finish.  In it, we have debunked the myths about the optional and ternary operators, the addition of arrays, and some functions.  We learned about one of the reasons for the hangs of autocompletion, and also found out that the Swift compilation is most complicated by complex formulas.  Hope it was helpful. </p><br><p>  <a href="https://habrahabr.ru/post/317298/">The second part</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/316986/">https://habr.com/ru/post/316986/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316972/index.html">Interview with Luis Cataldi (Epic Games) about the Unreal Engine</a></li>
<li><a href="../316974/index.html">Firebug development tool closes: ‚ÄúUse Firefox DevTools‚Äù</a></li>
<li><a href="../316976/index.html">Database of countries, regions and cities</a></li>
<li><a href="../316978/index.html">Dear javascript</a></li>
<li><a href="../316980/index.html">Formula of trust</a></li>
<li><a href="../316988/index.html">Nonlinear regression in Apache Spark. We develop with our own hands</a></li>
<li><a href="../316990/index.html">STM32: FreeRTOS and Piezo Ceramic Emitter</a></li>
<li><a href="../316994/index.html">Bad advice or how to become a terrible leader.</a></li>
<li><a href="../316996/index.html">Creating a blog engine with Phoenix and Elixir / Part 5. Connecting ExMachina</a></li>
<li><a href="../317002/index.html">We write real Pointer Analysis for LLVM. Part 1: Introducing or first meeting with the world of program analysis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>