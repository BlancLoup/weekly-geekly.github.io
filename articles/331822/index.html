<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easy performance test of AWS, Google Cloud and Microsoft Azure cloud platforms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When they say "cloud virtual machine", as a rule, they mean AWS. And when all these questions became relevant for me, out of curiosity, I decided to c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easy performance test of AWS, Google Cloud and Microsoft Azure cloud platforms</h1><div class="post__text post__text-html js-mediator-article">  When they say "cloud virtual machine", as a rule, they mean AWS.  And when all these questions became relevant for me, out of curiosity, I decided to conduct a small experiment to assess the price / speed of the systems of other major cloud competitors. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/74a/df9/b4c/74adf9b4c53d964f6335f19b651fd51d.jpg"><br><br>  The most interesting thing is that as the coil was unwinding in this whole cloud story, one trick suddenly surfaced, which shuffled the whole deck.  And I still do not have an answer to the question, but how is it possible to trade in capacities like this, as the two mentioned in the title of the grand do? <br>  Who cares - welcome under cat. <br><a name="habracut"></a><br>  I confess that until now I did not have a rich real experience with AWS, Azure and Google Cloud, so I started with a simple googling, because  A ‚Äúhead-on‚Äù comparison of characteristics did not give a proper understanding of the picture.  For example, when choosing multicore systems, the same Google operates with the values ‚Äã‚Äãof some virtual CPUs, without explaining anywhere what it means.  As a result, it is not entirely clear what exactly the performance of the running system will be. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/276/a3f/4f2/276a3f4f2b0c90c06d911d4ba36c6a8c.png"><br><br>  In the end, I decided to put a simple experiment: run a series of simple performance tests on the installations of three top cloud service providers (they were AWS, Google Cloud and Microsoft Azure). <br><br>  In all three cases, new accounts were opened and Windows Server 2016 was raised on 4 universal nuclear instances.  For AWS, this is EC2 m4.xlarge;  for Google - n1-standard-4;  for Azure - DS3_v2 Standard.  The memory is aligned in all three examples to the Azure level. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f40/eec/517/f40eec517c27d4acd9e5fc0632068c1e.png"><br><br>  Here, by the way, was the first "ambush".  It was normal to register the first time only with Azure.  Google for some reason refused to accept a bank card, claiming an ‚Äúunacceptable method of payment‚Äù - although Amazon and Azure perceived the card as normal.  AWS has a buggy registration form - so much so that I had to contact support and wait for a response.  Their tech support is active.  This is a plus.  They called back twice, wrote twice, but the question ‚Äúhung‚Äù for more than a week. <br><br>  But this stuff, so back to the tests.  Virtual machines are raised, as they say, "as is", without any additional refinement.  To check the performance in all cases, the same set of tests was run: <br><br><ul><li>  GeekBench 4 (in my opinion, the most indicative); <br></li><li>  7zip (as a ‚Äúcontrol shot‚Äù); <br></li><li>  CristalDiskMark. <br></li></ul><br><h2>  GeekBench 4 Results </h2><br><br><h3>  Amazon EC2 m4.xlarge in the data center in Frankfurt </h3><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fcb/11f/b22/fcb11fb22450f149f9a06f62e7713115.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a5/e44/6d8/1a5e446d8b6ae53612585ddb4c9b16b7.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec4/65c/7ca/ec465c7ca19b1239164dca199e0caa7f.png"><br><br><h3>  Google Cloud (us-central 1-c data center) </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/d88/83a/05e/d8883a05e195090aa643575df8ba6038.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/79e/e59/ab7/79ee59ab7a1b54775775a01e40986afa.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/81a/5d8/2b6/81a5d82b6116925939172d1a6e93fa79.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/983/144/10e/98314410e1e2785ab9a83660c18019fc.png"><br><br><h3>  Microsoft Azure </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/d66/e01/ec4/d66e01ec42135c16c2d996bcbcaf8b12.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7bd/534/e45/7bd534e45bb52dbb464783833787f42a.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/58d/f98/4b9/58df984b9ca57592d5835909f982c4a1.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/69e/a99/265/69ea992653b6aed63ac4f01e6835836d.png"><br><br>  The result, to be honest, was a little surprised.  Those.  we see a very significant advantage of the cloud from Microsoft.  And the reason is simple - Azure provides full-fledged four cores with a high clock frequency, whereas both Google and Amazon give dual-core, and the figure ‚Äúfour‚Äù is obtained through hyper-trading! <br><br>  With Google, by the way, there is another "ambush".  Already after the tests, examining the screenshots, it became clear that the instances from Azure and AWS were located in Europe, and Google - in the States.  Those.  when raising the server, I did not pay attention to the region.  And the subtlety here is that you cannot change the location of the data center when raising the server.  This is done in the general console settings of all virtual machines, which is not entirely obvious. <br><br>  Nevertheless, it seems that two more cores from changing the geography of the data center are unlikely to appear.  Google‚Äôs resource distribution policy is the same, so it was decided to leave everything as it is and the tests should not be redone (especially since installations have to pay a certain amount of money every time). <br><br><h2>  7Zip results </h2><br>  The results of the built-in test archiver - solely to check GeekBench.  And here we see a similar picture, albeit with a slightly smaller discrepancy.  The total rating score in MIPS is shown on the diagram. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/867/5af/6fd/8675af6fd7baeea223db288d41180ba3.png"><br><br>  Now let's look at the speed of the disk subsystem. <br><br><h2>  CrystalDiskMark Results </h2><br>  To test the operation of the disk subsystem, I took CrystalDiskMark and an old Anvil's Storage Utilities.  The first one worked with a bang, and here are its results: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a9d/fbe/385/a9dfbe38557fcf17da4bd4d7244bb441.png"><br><br>  Azure and Amazon as a whole work quite fast, but Google, apparently, is strictly limited to 25 MB / s.  An attempt to recheck Anvil's data was only partially successful.  On the Amazon server, he showed results similar to Crystal, but in the "clouds" of Azure and Google, the test results caused a huge number of questions.  For example, in Google, the linear recording speed was fixed at 240 MB / s, while external monitoring of disk operations on the management console did not show traffic above 20 MB / s.  And it is even lower than the registered values ‚Äã‚Äãwhen running Crystal (the two humps on the right in the screenshot are the work of the disk tests). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/247/92b/c47/24792bc47799bba7962e6e45aadca713.png"><br><br><h2>  Price tag </h2><br>  The price for Google Cloud is the lowest.  Especially considering the 30% discount received if the virtual machine works most of the month. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/06c/6d3/179/06c6d3179a7dc56333713fe7ced45d30.png"><br><br>  The second for the price goes AWS.  Taking into account the separate fee for storage in our case, we get ~ $ 346, which is displayed on the header of the corresponding tab. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d27/f2a/178/d27f2a1788df1ffbd9ec3b461e026750.png"><br><br>  Well, the price for Azure is formally the highest (~ $ 356).  However, it is not much different from AWS.  And if you consider that when you register in Azure, we get bonus $ 200, and so it becomes average. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/635/c14/edd/635c14eddb1040fcd0bf120108e7fb9a.png"><br><br><h2>  findings </h2><br>  The main conclusion - at Azure, we received a full four processing cores of the Xeon E5-2673 processor.  Due to this, we have almost 50% superiority in the speed of performing multi-threaded tasks on AWS.  Yes, it costs a little more.  However, starting $ 200 and, let's be honest, it‚Äôs not at all a 50% price increase, they speak for themselves. <br><br>  The disk subsystem is also not the same.  And if Azure and AWS storages are moving fast enough, then Google has a very hard and low barrier to disk operations.  And if it is critical to someone, then keep in mind.  On the other hand, Google has tested an American data center.  It is possible that if I took the European, the picture could be different.  But now there is no time to check it out. <br><br>  <b>PS:</b> Already after uploading the material on Habr I saw this <a href="https://habrahabr.ru/post/328916/">article</a> .  Well, that means it really is. </div><p>Source: <a href="https://habr.com/ru/post/331822/">https://habr.com/ru/post/331822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331812/index.html">How to turn the passion of programming in the work</a></li>
<li><a href="../331814/index.html">Single or double precision?</a></li>
<li><a href="../331816/index.html">Creating a React Real-Time VR Application</a></li>
<li><a href="../331818/index.html">And about 3.3 thousand new ways to read Habrahabr and Hiktimes</a></li>
<li><a href="../331820/index.html">Another view on personnel management in retail: the experience of ZOZO RCAM</a></li>
<li><a href="../331824/index.html">Four questions for choosing a cloud authentication solution</a></li>
<li><a href="../331826/index.html">How HFT works: 3 simple explanations</a></li>
<li><a href="../331828/index.html">How to pay taxes and fees of individual entrepreneurs or why we made a bot-accountant in Telegram</a></li>
<li><a href="../331830/index.html">"Kaspersky Lab": Proper protection of "clouds"</a></li>
<li><a href="../331832/index.html">Dynamic generation of individual characters in an escape sequence</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>