<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Publish the game on Google Play. Configuring Play Games Plugin for Unity</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! I decided to share my experience on adding a game to the Google Play Console and setting up the Play Games Plugin for Unity. 

 We will begin w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Publish the game on Google Play. Configuring Play Games Plugin for Unity</h1><div class="post__text post__text-html js-mediator-article">  Hello!  I decided to share my experience on adding a game to the Google Play Console and setting up the Play Games Plugin for Unity. <br><br>  We will begin with the Unity setup. <br><a name="habracut"></a><br><h2>  Unity setup </h2><br>  First you need to download and install Play Games Plugin. <br><br>  To do this, follow <a href="https://github.com/playgameservices/play-games-plugin-for-unity">this link</a> , download the repository, go to the current-build folder, open GooglePlayGamesPlugin and install it.  After that, Google Play Games should appear in the <b>Windows</b> tab. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/er/ex/a4/erexa4jx4f2t9ydeimfkw_55mba.png" alt="image"><br><br>  And this window should appear <br><br><img src="https://habrastorage.org/webt/f2/e3/my/f2e3myqpingu3efz_erepyxs7cs.png" alt="image"><br><br>  Before creating a build, you will need to change a couple of settings in Player Settings.  Go to Edit -&gt; Project Settings -&gt; Player. <br><br>  In the Other Settings tab, specify the following fields: <br><br><ol><li>  Package name: Package name of your future game </li><li>  Version: Application Version </li><li>  Bundle Version Code: Based on it, Google Play determines which version of the application is newer.  It will not be displayed to users. </li></ol><br>  Next, go to the tab Publishing Settings. <br><br>  Here we need to create a keystore, (more about the keystore <a href="https://developer.android.com/training/articles/keystore.html">here</a> and <a href="http://forum.hellroom.ru/index.php%3FPHPSESSID%3D0445e313ea896aac6bf02b5e52ab0922%26topic%3D18620.msg222849">here is a bit shorter</a> ). <br><br><ol><li>  Select the checkbox Create a new keystore </li><li>  Next select Browse Keystore </li><li>  We set a name, we save </li><li>  Fill in the field with a password </li></ol><br>  After that you will need to create Alias: <br><br><ol><li>  Click on Alias, select Create a new key </li><li>  Fill in the fields, click Create key </li><li>  Choose our Alias ‚Äã‚Äãkey that we just created </li></ol><br><img src="https://habrastorage.org/webt/hd/ek/u5/hdeku5yn6g3k47lql_ysgx_bdgg.png" alt="image"><br><br><div class="spoiler">  <b class="spoiler_title">About Aliases</b> <div class="spoiler_text">  Aliases <br>  Keystore (at least in the JKS format) allows you to store several pairs of keys and certificates.  An alias is used to identify each pair or individual certificate.  The alias is specified in the source code when accessing the corresponding key or certificate.  Access to each alias is limited by password. <br></div></div><br>  Now, every time you create a new build, you will need to go into these settings and enter passwords for the keys, so keep the keys in a safe place, in case of loss there will be big problems with recovery. <br><br>  More information about all the settings can be read on <a href="https://docs.unity3d.com/Manual/class-PlayerSettingsAndroid.html">the Unity page</a> . <br><br>  If such a window appears after creating the build, then do not worry, after setting up the Google Service, we will return to Unity. <br><br><img src="https://habrastorage.org/webt/-e/tv/jf/-etvjfedomu5i-g8efkbf0iroz4.png" alt="image"><br><br><h2>  Setting up the Google Play Console </h2><br>  For a start, we will need to purchase a Google Developer Account, it costs $ 25.  Suppose we already bought it. <br><br>  Open <a href="https://play.google.com/apps/publish/">link to Google Play Console</a> <br>  Go to the All Applications tab, click New Application, enter the name, select the language of the future application, click create. <br><br><img src="https://habrastorage.org/webt/rx/gr/nj/rxgrnjfeezig05irlmx3drgzg-0.png" alt="image"><br><br>  After creating the application, a page with your application will open. <br>  Here you will need to fill in all the necessary fields so that you can publish the application.  You can just point at the triangle, and he will tell you what you need to fill. <br><br><img src="https://habrastorage.org/webt/fo/sd/tx/fosdtxngrdirjfkozs1kwu7fsmo.png" alt="image"><br><br>  After filling in all the required fields, go to the Application Versions tab, <br>  then you decide at what stage your application, and based on the choice, go to the tab control, in my case this is Alpha testing. <br><br><img src="https://habrastorage.org/webt/uc/hv/jw/uchvjwrmh5rmduaidcl1ctrurmk.png" alt="image"><br><br>  Here we choose to create a release, connect the Google Play App Signing in the next window (if it appears).  Select our apk file, after downloading the file, Google should automatically pull up the version of the application, and the bundle number (the settings that you specified before creating the build) as shown in the screenshot. <br><br><img src="https://habrastorage.org/webt/jf/x_/rh/jfx_rhijx0saxgbj-8z-_xhsbz0.png" alt="image"><br><br>  And the last thing you need to do before creating a release is to fill in the ‚ÄúWhat's new in this version‚Äù field (do not delete the language tags when filling out).  Click to see, there should be a warning of this type: <br><br><img src="https://habrastorage.org/webt/q7/k5/bk/q7k5bknndjfq_kkq4qwxsdlvcbu.png" alt="image"><br><br>  Okay, you need to add testers before publishing the application, you can do this in the settings.  Exit the application tab, on the main page, select Settings, go to the Testers tab and add a list (just specify the mail). <br><br><img src="https://habrastorage.org/webt/b0/u8/u0/b0u8u0mo2e-6bqfyh65p8l2vtgk.png" alt="image"><br><br>  You return to your application, click on Manage, then choose what testing will be, open or closed, choose your list of testers, click save. <br><br>  Go back to the Application Versions page, click to change the version, everything is preserved what you did before (including your apk that you downloaded), just click to view, and click to publish (before publication, make sure that the application is ready for publication, otherwise you will have an invalid publish button) <br><br><img src="https://habrastorage.org/webt/8h/r3/vp/8hr3vptrzotdisucvpwmhjczgak.png" alt="image"><br><br>  After that, the project should go to the stage of preparing for publication, you will need to wait a couple of hours until our application is checked. <br><br><img src="https://habrastorage.org/webt/ti/6y/wx/ti6ywxuquyurr6nwzckyti2vtoo.png" alt="image"><br><br>  In the meantime, we are checking, we will move on to setting up gaming services. <br><br><h2>  Configuring Game Services </h2><br>  Game services allow you to add leaderboards, cloud storage, achievements, quests, etc. to the game. <br><br>  Go to the main page, go to the Game Services tab, click to add a game, be sure to choose that you are not using the Google API yet, click continue. <br><br><img src="https://habrastorage.org/webt/ij/89/fl/ij89flaxyjepitmlkhox0kyfpdc.png" alt="image"><br><br>  Here we will need to tie the game that we downloaded earlier to the service that we have just created.  Go to the Related Applications tab and select the platform (in my case Android), when you click on the package name, your game should appear, select it, twist it a bit lower, and select the settings that you need, then save. <br><br><img src="https://habrastorage.org/webt/xf/5t/7i/xf5t7ia0inqixxwjzdzsx02la_g.png" alt="image"><br><br>  After that, you must authorize the application, click to authorize and confirm, a little later I will tell about it. <br><br><img src="https://habrastorage.org/webt/ej/1j/xm/ej1jxmpeaajo-hz6qwrbws6logk.png" alt="image"><br><br>  If you want to use cloud storage, go to the Game Details tab and there after the game description there will be the Saved games option, turn it on and save the changes (after selecting this option, it cannot be changed after publishing the service), immediately scroll to the end and enable the Google Drive API. <br><br>  Now you can add what you want, in my case I will add one leaderboard. <br>  After you have done everything / added, go to the Publication tab, it will indicate what you have not done, click to publish the game. <br><br>  Again, you will need to wait a couple of hours. <br><br><h2>  After publication </h2><br>  After your game is published, you can find it on the Google Play page, and also we will need to send a link to our application to testers. <br><br><img src="https://habrastorage.org/webt/vq/an/u2/vqanu29qu6xb70qk_brimbr3a4a.png" alt="image"><br><br>  To do this, go to Release Management, Application Versions, expand this window. <br><br><img src="https://habrastorage.org/webt/mt/yz/7t/mtyz7tt6rrdp4ew-etaddztbxs8.png" alt="image"><br><br>  and see the link that will need to be sent to testers, go through it. <br>  Here we have a window in which we will have to agree to test our application, click Participate in testing <br><br><img src="https://habrastorage.org/webt/5b/mj/sg/5bmjsgwvml9mgclephfmqyxtt-o.png" alt="image"><br><br>  After that, a window should appear that you have become a tester, on the page there will be links from where you can download the application. <br><br><img src="https://habrastorage.org/webt/0h/le/ed/0hleedrk-ysqxkjjob8arpanpja.png" alt="image"><br><br>  Now you can download your application and test it. <br><br>  <b>Tip</b> : To quickly go to your application page on Google Play, hover over the information icon to the right of the name of your project, and click Find on Google Play. <br><br><img src="https://habrastorage.org/webt/yv/tk/b_/yvtkb_griuapck7fwkmwnmbp9_s.png" alt="image"><br><br>  Well, you can now download your apps from Google Play.  The next step is to update the application. <br><br><h2>  Update application </h2><br>  Suppose we have changed something in the application, and now we want to update the version of the application on Google Play. <br><br>  For this, it is mandatory to change the Bundle Version Code in Unity (it is not necessary to change the application version), and enter the passwords for the keys that were created before. <br><br><img src="https://habrastorage.org/webt/na/1b/zm/na1bzmf_sn_t_6dooycr9fdakvw.png" alt="image"><br><br><img src="https://habrastorage.org/webt/ny/qz/pf/nyqzpfzhaziqucy83iwcths1k8m.png" alt="image"><br><br>  After creating the build, go to Google Play Console, open the application that we want to update, go to Release Management -&gt; Application Versions -&gt; go to Management, Select Create Issue in the upper right corner, download our apk, fill in the What's New field (you can copy from the past version).  The version code is taken from the Bundle Version Code, in my case it is 2. <br>  Click save, after View and click publish. <br><br><img src="https://habrastorage.org/webt/h7/jg/z9/h7jgz9hek1ksam_jozgzc0osdyo.png" alt="image"><br><br>  After the update, you will have to wait about 30 minutes before publishing the application.  After updating the application, the new version should be tested on 10 devices, you can watch in real time how it is being tested, watch the launch video, and read the logs.  To do this, go to the application -&gt; Release Management -&gt; Test Report.  Here you will find a list of phones that are being tested, and monitor the status of the passage. <br><br><img src="https://habrastorage.org/webt/qq/76/i7/qq76i7pouyjmmpdvvvtc1ovqego.png" alt="image"><br><br>  To watch the video with the launch, select the device where the testing has already been completed, then a window with the characteristics of the phone and video should open. <br><br><img src="https://habrastorage.org/webt/et/uo/ji/etuoji3lxvxfpa-296v8ihkskoo.png" alt="image"><br><br>  ps  A month ago, it was possible to watch the logs under the video, who knows where Google has gone? <br><br>  Usually, testing takes about 20 minutes, after that you have to wait 10-15 minutes before publishing on Google Play.  By the way, be careful if you download several versions in a row, not the fact that the version you are downloading is the last one, my advice after publication can safely wait about an hour before testing. <br><br><h2>  Accelerate Testing </h2><br>  Agree, if you are testing Google Play Services, it takes a decent amount of time (about 40 minutes) all the way from download to download, which is not at all happy.  I myself went this way when I did support Google Play Services, it was very painful to wait 40 minutes after each small change to test it.  Like watching a video about cloud storage, I saw the Nox applications ( <a href="https://ru.bignox.com/">link</a> , I hope they don‚Äôt consider advertising), which perfectly emulates Android, you just create a new version of the application, install it in Nox, and that's it, you can safely test it, bypassing 30 minutes time, not bad right?  But there is another snag, Google Play services will not work if you downloaded the application not from Google Play, but this can be easily bypassed, I also stumbled on this in the cloud storage video. <br><br>  And so, let's move on, go to the application -&gt; Release management -&gt; Application signatures, 2 sets of certificates will open before you, you need a SHA1 certificate from the Download certificate section, copy its value. <br><br><img src="https://habrastorage.org/webt/g4/gr/aq/g4graq8gv1ymlm9q6u5vsddkf5s.png" alt="image"><br><br>  Now you need to change the value of the certificate in the Google API, for this we go to the Game Services, select the one to which your application is attached, open the Game Information, turn to the bottom of the page and see the link, go through it (thanks google for such a cool design, sometimes it takes a few minutes to find the link). <br><br><img src="https://habrastorage.org/webt/2h/iu/sr/2hiusrq0o_rayqwhrc79msuavfq.png" alt="image"><br><br>  This will open this page, here we are interested in the section Credentials <br><br><img src="https://habrastorage.org/webt/-h/os/pc/-hospcckrguda7vuchkznxmitqc.png" alt="image"><br><br><img src="https://habrastorage.org/webt/id/kw/ew/idkwewfwh1lyehqsjmykhbd6unm.png" alt="image"><br><br>  We open our account and change the value of the SHA1 certificate to the one that you copied before, and save. <br><br><img src="https://habrastorage.org/webt/0k/zn/m2/0kznm2lkpe_y_uv4m3dlelwjtbc.png" alt="image"><br><br>  <b>Important!</b>  Do not forget before publishing the release version to change the value of the certificate SHA1 to that of the Certificate to sign the application.  Otherwise, services will not work for users. <br><br><img src="https://habrastorage.org/webt/ff/tr/tx/fftrtxccyo27ict_ulctsxaohtg.png" alt="image"><br><br>  Now we have reduced our testing to 5-7 minutes, a good result! <br><br><h2>  We finish with the setting of Unity </h2><br>  After we‚Äôve done everything in the Google Play Console, we can go back to Unity and finish our settings. <br><br>  To begin, open the Google Play Console and go to the Game Services, and open something from what we have created (for example, player rating) and see ‚ÄúGet Resources‚Äù, click on it, copy everything in the Android tab, and open Unity. <br><br><img src="https://habrastorage.org/webt/sa/gp/sq/sagpsqtm2dqqxsmgye58sfczfgu.png" alt="image"><br><br>  Open Unity, go to the Window tab -&gt; Google Play Games -&gt; Setup -&gt; Android setup <br><br><img src="https://habrastorage.org/webt/ee/lz/i4/eelzi4-0hidobx1wr2vffczqtsy.png" alt="image"><br><br>  This window should appear. <br><br><img src="https://habrastorage.org/webt/q9/en/14/q9en14_z6okl4gmkened8rh9j9w.png" alt="image"><br><br>  In it we indicate where we will save the class, and the name of the class, we also insert there what we copied before, and click Setup, a window will appear that the setup was successful. <br>  That's all, now this class contains constants with id-schnick of things that we have created. <br><br>  In the end, I decided to duplicate all the links that were in the article, as well as provide links to videos that will be useful when setting up Google Services in the code. <br><br><ol><li>  <a href="https://developer.android.com/training/articles/keystore.html">About keystore</a> </li><li>  <a href="http://forum.hellroom.ru/index.php%3FPHPSESSID%3D0445e313ea896aac6bf02b5e52ab0922%26topic%3D18620.msg222849">About the same, just shorter</a> </li><li>  <a href="https://docs.unity3d.com/Manual/class-PlayerSettingsAndroid.html">Android Player Settings official Unity page</a> </li><li>  <a href="https://play.google.com/apps/publish/">Google Play Console</a> </li><li>  <a href="https://github.com/playgameservices/play-games-plugin-for-unity">Play Games Unity Plugin</a> </li></ol><br><ol><li>  Useful links on Google Service: </li><li>  (eng) - <a href="https://www.youtube.com/watch%3Fv%3D5Ae8GeRmdH0%26t%3D35s">Adding achievements and leaderboards</a> </li><li>  (eng) - <a href="https://www.youtube.com/watch%3Fv%3D0ECRLY2A_-c%26t%3D261s">Cloud Conservation</a> </li><li>  (eng) - <a href="https://www.youtube.com/watch%3Fv%3DzlCwDjFvDkE">Also about cloud storage, I highly recommend this video.</a> </li><li>  (rus) - <a href="https://www.youtube.com/watch%3Fv%3DagyoQY5q1BY%26t%3D28s">Publish the game on Google Play</a> </li><li>  (rus) - <a href="https://www.youtube.com/watch%3Fv%3DhQHhT8QWbEA%26t%3D918s">Embedding Google Services into the game</a> </li><li>  <a href="https://github.com/playgameservices/play-games-plugin-for-unity">And a link to the documentation.</a> </li></ol><br>  And that's all, thank you all! </div><p>Source: <a href="https://habr.com/ru/post/350458/">https://habr.com/ru/post/350458/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350446/index.html">Container Run Environments (container runtimes) Part 1: Introduction to Container Run Environments</a></li>
<li><a href="../350448/index.html">RegExp Unicode Property Escapes in JavaScript: Portrait Strokes</a></li>
<li><a href="../350452/index.html">Load testing "non-HTTP". Part 2 Gatling</a></li>
<li><a href="../350454/index.html">Surprisingly simple messaging with Spring Cloud Stream</a></li>
<li><a href="../350456/index.html">Digital events in Moscow from March 5 to 11</a></li>
<li><a href="../350462/index.html">Configuring VoIP FXS of the Yeastar Neogate TAXXX gateway to work with 3CX</a></li>
<li><a href="../350464/index.html">Fintech news. Another pair of national cryptocurrency and cryptonalogues</a></li>
<li><a href="../350466/index.html">Adaptive Layout with SCSS and Gulp</a></li>
<li><a href="../350468/index.html">How to avoid SQL queries inside loops</a></li>
<li><a href="../350470/index.html">Hacking Nuclear Crackme</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>