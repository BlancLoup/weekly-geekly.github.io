<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Own JS Wrapper for Uppod Player</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prehistory 
 Not so long ago I needed a video player for my site. After a long search, I stopped at the Uppod designer , because it has both HTML5 and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Own JS Wrapper for Uppod Player</h1><div class="post__text post__text-html js-mediator-article"><h4>  Prehistory </h4><br>  Not so long ago I needed a video player for my site.  After a long search, I stopped at <a href="http://uppod.ru/">the Uppod designer</a> , because it has both HTML5 and Flash versions, a convenient style designer, etc., but still something was missing, namely, HTML5 output in the absence of Flash.  I didn‚Äôt find anything in the documentation except a piece of code to determine flash support in the browser.  In general, thanks to <s>crutches</s> , I solved my problem and made a working model using JS and Uppod API and now I want to share it with you, who can come in handy. <br><a name="habracut"></a><br><h4>  Task </h4><br>  1. Embed a shared video player on the site for different sections, and this is playing videos from Youtube, Rutube and your media content; <br>  2. Determine which player you want to give to the browser; <br>  3. In certain cases (for example, in the absence of flash), to launch not a player, but another command; <br>  4. Make your shell so that when you change the operation of the Uppod players, quickly rewrite everything, without touching the code throughout the site, as well as, if necessary, disable or replace the player itself, or some of its functions; <br>  5. Simplify embedding, because writing a bunch of code in all sections is not a big deal. <br><br><h4>  What do we need? </h4><br>  Simple connection according to the <a href="http://uppod.ru/help/html5/">html5</a> instructions and <a href="http://uppod.ru/help/q%3Dswfobject">flash</a> player.  In general, all the <a href="http://uppod.ru/help/">documentation</a> Uppod. <br><br><h4>  Let's get to work </h4><br>  First, create a file player.js and place it in the folder with the site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>The file code player.js</i> <br><br>  Flash support definition (see <a href="http://uppod.ru/talk_4169">source</a> ): <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ua = navigator.userAgent.toLowerCase(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> flashInstalled = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(navigator.plugins) != <span class="hljs-string"><span class="hljs-string">"undefined"</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(navigator.plugins[<span class="hljs-string"><span class="hljs-string">"Shockwave Flash"</span></span>]) == <span class="hljs-string"><span class="hljs-string">"object"</span></span>) { flashInstalled = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.ActiveXObject != <span class="hljs-string"><span class="hljs-string">"undefined"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ActiveXObject(<span class="hljs-string"><span class="hljs-string">"ShockwaveFlash.ShockwaveFlash"</span></span>)) { flashInstalled = <span class="hljs-number"><span class="hljs-number">1</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e) {}; };</code> </pre> <br>  Also, the Uppod JavaScript API (see <a href="http://uppod.ru/help/js/">source</a> ): <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uppodEvent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">playerID, event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(event){ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'init'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'start'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'play'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'pause'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'stop'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'seek'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'loaded'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'end'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'download'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'quality'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'error'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'ad_end'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'pl'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'volume'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uppodSend</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">playerID, com, callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(playerID).sendToUppod(com); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uppodGet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">playerID, com, callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(playerID).getUppod(com); }</code> </pre><br>  Next, we will write our code, which will initialize the launch of the player: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Player</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, callback</span></span></span><span class="hljs-function">) </span></span>{ vars = { <span class="hljs-attr"><span class="hljs-attr">m</span></span>: e.type, <span class="hljs-attr"><span class="hljs-attr">id</span></span>: e.id, <span class="hljs-attr"><span class="hljs-attr">uid</span></span>: e.id, <span class="hljs-attr"><span class="hljs-attr">finder</span></span>: e.finder, <span class="hljs-attr"><span class="hljs-attr">detect</span></span>: e.detect, }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.file) { vars.file = e.file; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.pl) { vars.pl = e.pl; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.st) { vars.st = e.st; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.st5) { vars.st5 = e.st5; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.screen) { vars.poster = e.screen; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!e.style) { e.style = {<span class="hljs-attr"><span class="hljs-attr">w</span></span>: <span class="hljs-string"><span class="hljs-string">'480px'</span></span>, <span class="hljs-attr"><span class="hljs-attr">h</span></span>: <span class="hljs-string"><span class="hljs-string">'360px'</span></span>}; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((e.finder === <span class="hljs-string"><span class="hljs-string">'flash'</span></span> &amp;&amp; !flashInstalled) || (e.finder === <span class="hljs-string"><span class="hljs-string">'html5'</span></span> &amp;&amp; flashInstalled)) { callback(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((ua.indexOf(<span class="hljs-string"><span class="hljs-string">"iphone"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span> || ua.indexOf(<span class="hljs-string"><span class="hljs-string">"ipad"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span> || ua.indexOf(<span class="hljs-string"><span class="hljs-string">"android"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span> || ua.indexOf(<span class="hljs-string"><span class="hljs-string">"windows phone"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span> || ua.indexOf(<span class="hljs-string"><span class="hljs-string">"blackberry"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span> || e.detect == <span class="hljs-string"><span class="hljs-string">'html5'</span></span>) &amp;&amp; e.detect != <span class="hljs-string"><span class="hljs-string">'flash'</span></span>) { htm5Player(e); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!flashInstalled &amp;&amp; e.detect != <span class="hljs-string"><span class="hljs-string">'flash'</span></span>) { htm5Player(e); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { params = { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: e.id, <span class="hljs-string"><span class="hljs-string">"allowFullScreen"</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span>, <span class="hljs-string"><span class="hljs-string">"allowScriptAccess"</span></span>: <span class="hljs-string"><span class="hljs-string">"always"</span></span>, } <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> swfobject.embedSWF(e.swf, vars.id, e.style.w, e.style.h, <span class="hljs-string"><span class="hljs-string">"10.0.0"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, vars, params); } } }</code> </pre><br>  Function to launch HTML5 player: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">htm5Player</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ vars = { <span class="hljs-attr"><span class="hljs-attr">m</span></span>: e.type, <span class="hljs-attr"><span class="hljs-attr">uid</span></span>: e.id, }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.screen) { vars.poster = e.screen; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.file) { vars.file = e.file; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.pl) { vars.pl = e.pl; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.st5) { vars.st = e.st5; } player = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uppod(vars); uppodDetect(e.id, <span class="hljs-string"><span class="hljs-string">'html5'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> doc = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(e.id); doc.style.width = e.style.w; doc.style.height = e.style.h; }</code> </pre><br>  The function for creating and reading an additional attribute on the player: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uppodDetect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, type</span></span></span><span class="hljs-function">) </span></span>{ doc = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(id); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type) { doc.setAttribute(<span class="hljs-string"><span class="hljs-string">'data-uppod-detect'</span></span>, type); } detect = doc.getAttribute(<span class="hljs-string"><span class="hljs-string">'data-uppod-detect'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (detect == <span class="hljs-string"><span class="hljs-string">'html5'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'html5'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'flash'</span></span>; }</code> </pre><br>  The alias of the API request function to the Uppod player is a bit modernized: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendPlayer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, com, callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (uppodDetect(id) == <span class="hljs-string"><span class="hljs-string">'flash'</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(id).sendToUppod(com); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (com == <span class="hljs-string"><span class="hljs-string">'play'</span></span>) { player.Play() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (com == <span class="hljs-string"><span class="hljs-string">'pause'</span></span>) { player.Pause() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (com == <span class="hljs-string"><span class="hljs-string">'toggle'</span></span>) { player.Toggle() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (com == <span class="hljs-string"><span class="hljs-string">'stop'</span></span>) { player.Stop() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (com.match(<span class="hljs-regexp"><span class="hljs-regexp">/file:/i</span></span>)) { com = com.replace(<span class="hljs-regexp"><span class="hljs-regexp">/file:/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); player.Play(com); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (com.match(<span class="hljs-regexp"><span class="hljs-regexp">/v/i</span></span>)) { com = com.replace(<span class="hljs-regexp"><span class="hljs-regexp">/v/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); player.Volume(com / <span class="hljs-number"><span class="hljs-number">100</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (com == <span class="hljs-string"><span class="hljs-string">'download'</span></span>) { player.Download(); } } }</code> </pre><br>  Well, that's all, now save our player.js and connect it to the head of the site, like all js files of the player. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://site.ru/player.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h4>  Player initialization and analysis of parameters </h4><br>  First, let's look at the parameters, for the most part they are named as in the Uppod player <a href="http://uppod.ru/help/q%3Dflashvars">documentation</a> : <br><br>  <b>id</b> - Player Container ID <br>  <b>st</b> - Style Link <br>  <b>pl</b> - Playlist or link to it <br>  <b>file</b> - Link to media file (if pl is not specified) <br>  <b>type</b> - player type audio / video <br>  <b>screen</b> - Link to the video splash screen. <br>  <b>swf</b> - Link to player <br>  <b>st5</b> - The name of the style variable for the HTML5 player, or the style code <br>  <b>finder</b> - flash / html5 properties, if the specified player could not be launched, it will return the callback function <br>  <b>detect</b> - flash / html5 properties, forced launch of the specified player <br>  <u>A simple example with the required parameters (for html5 and flash versions)</u> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"player"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> vars = { id: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'player'</span></span></span><span class="actionscript">, </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// id  type: 'video', //   file: 'video.mp4', //    swf: 'uppod.swf', //    }; new Player(vars); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Sample code, if you want to run only one version of the player and, if it is not supported, the callback function will be returned: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"player"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> vars = { id: 'player', type: 'video', file: 'http://rutube.ru/video/bde119ee2ce067e7fc6124398d7043d3/', //   Rutube   flash  swf: 'player/uppod-rutube.swf', finder: 'flash', }; new Player(vars, function () { document.getElementById('player').innerHTML = '</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"http://rutube.ru/play/embed/7821719"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"100%"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"360"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">frameborder</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">'; //    flash,      . }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <u>Supported API control buttons (there are few of them, I didn‚Äôt pay much attention to them) by both versions of the Uppod player:</u> <br><br>  <b>play</b> - Player launch <br>  <b>pause</b> - pause <br>  <b>stop</b> - stop <br>  <b>toggle</b> - Start / Pause <br>  <b>v50</b> - Volume up 50% <br>  <b>file</b> - Run a new file (file: url) <br>  These buttons work from the sendPlayer function ('player_id', 'command'). <br><br>  <u>Example:</u> <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sendPlayer('player', 'play');"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span>Play<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sendPlayer('player', 'pause');"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span>Pause<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sendPlayer('player', 'toggle');"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" / "</span></span></span><span class="hljs-tag">&gt;</span></span>Toggle<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sendPlayer('player', 'stop');"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span>Stop<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sendPlayer('player', 'v50');"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"=50"</span></span></span><span class="hljs-tag">&gt;</span></span> 50%<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sendPlayer('player', 'file:http://uppod.net/sample.flv');"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  "</span></span></span><span class="hljs-tag">&gt;</span></span>File:Url<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Well, actually, that's all I wanted to write.  Who needs, use on health. <br><br>  An example can be seen <a href="http://andryushkin.ru/demo/uppod/player1.html">here</a> , download the finished player.js at <a href="">this link</a> . </div><p>Source: <a href="https://habr.com/ru/post/261911/">https://habr.com/ru/post/261911/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261901/index.html">Techekspert and "Compass-3D." About the importance of secure communications and what will happen if you combine the NTD system and CAD</a></li>
<li><a href="../261903/index.html">Writing LINQ in JavaScript from scratch</a></li>
<li><a href="../261905/index.html">UITableView: add icon to UITableViewRowAction</a></li>
<li><a href="../261907/index.html">Convenient structure of the iOS project</a></li>
<li><a href="../261909/index.html">Introducing the Freescale T1040RDB debug card for industrial network switches</a></li>
<li><a href="../261913/index.html">Network security Instead of introducing</a></li>
<li><a href="../261921/index.html">PostgreSQL and btrfs - an elephant on an oily diet</a></li>
<li><a href="../261923/index.html">Cezurity's little antivirus test</a></li>
<li><a href="../261925/index.html">Automatic detection of vulnerabilities: description and statistics</a></li>
<li><a href="../261927/index.html">DirectX rendering in WPF window</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>