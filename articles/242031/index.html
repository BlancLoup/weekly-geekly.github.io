<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Organizing your virtualization host at hetzner</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Proxmox Virtual Environment (Proxmox VE) is an open source virtualization system based on Debian GNU / Linux. Developed by the Austrian company Proxmo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Organizing your virtualization host at hetzner</h1><div class="post__text post__text-html js-mediator-article"><img src="https://www.proxmox.com/images/proxmox/proxmox-logo.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/159/9ba/c0e/1599bac0ecf3fb5225cc2d3f90b95991.gif" alt="image"><br><br>  <i>Proxmox Virtual Environment (Proxmox VE) is an open source virtualization system based on Debian GNU / Linux.</i>  <i>Developed by the Austrian company Proxmox Server Solutions GmbH, sponsored by the Internet Foundation Austria.</i> <br><br>  ... and, I must say, a very pleasant system to maintain and operate. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I have been working with my clients (in most cases web design studios, or standalone clients) for about 5 years.  All my clients use the services of the German hosting provider Hetzner.  You can talk for a long time about the quality of the services they provide, the quality of the hardware in their servers - but the fact remains: Hetzner's offers in the root server segment are out of competition in terms of price / quality ratio. <br><br>  <i>Reference: as of the time of this writing, the cost of the monthly rental of the <a href="http://www.hetzner.de/hosting/produkte_rootserver/ex60">EX60</a> line <a href="http://www.hetzner.de/hosting/produkte_rootserver/ex60">server</a> (Intel Core i7-920, 48 GB DDR3 RAM, 2 x 2 TB SATA 3Gb / s 7200 rpm HDD) is only ‚Ç¨ 59 per month.</i>  <i>Agree, quite inexpensive.</i> <br><br>  In this article, I would like to describe a small howto for installing on the root server of the proxmox virtualization system to simply show how easy and accessible it is.  I will not describe the options for clustering a system of 2 or more servers (perhaps I‚Äôll do this in the next article if the community is interested), but I‚Äôll sign for the simplest option. <br><a name="habracut"></a><br>  So, first of all we need the server itself.  I recommend <a href="http://www.hetzner.de/hosting/produkte_rootserver/ex60">EX60</a> , because it is inexpensive, productive and does not have such an unpleasant feature as a one-time setup fee (be careful when ordering other models!) <br><br>  We ordered a server.  Great, we are waiting for us to install it, but as the coveted letter arrives, we proceed directly to the process.  It is worth saying that for the purposes of virtualization we will need additional IP addresses.  You can purchase them up to 3 pieces separately, or you can buy a subnet at once (requires an additional package of services FlexiPack, 15 euros per month + the cost of renting the subnet).  To do this, go to the server control panel <a href="http://robot.your-server.de/">robot.your-server.de</a> and, in fact, make an order on the IPs tab.  Be sure to specify Purpose of use! <br><br><img src="https://habrastorage.org/files/01e/f8d/2ec/01ef8d2ec13b443cb2aa07551eebe8f5.png"><br><br>  In the case of ordering multiple IP addresses, repeat to taste. <br><br>  Now we need to load the server in recovery mode.  To do this, go to the Rescue tab, select the Operating system Linux, Architecture 64 bit and safely click on the Activate rescue system. <br><br><img src="https://habrastorage.org/files/51b/1be/1b2/51b1be1b210b4c6fb0f6a020d814a282.png"><br><br>  Write the password that the system will offer us <br><br><img src="https://habrastorage.org/files/fb4/7fd/3bd/fb47fd3bd315484f845e649bb6693c36.png"><br><br>  And restart the server: <br><br><img src="https://habrastorage.org/files/558/fc9/8d2/558fc98d2d654e0b9a937ef92f588862.png"><br><br>  Log in to the server with the previously recorded password, and execute the following commands: <br><pre><code class="bash hljs">root@rescue ~ <span class="hljs-comment"><span class="hljs-comment"># passwd root@rescue ~ # installimage</span></span></code> </pre> <br>  That is, we change the password to us more convenient, and run the installation process. <br><br>  In the opened wizard, select <b>Virtualization -&gt; Proxmox-Virtualization-on-Debian-Wheezy</b> <b><br></b> <br>  The installation configuration file editor opens.  I will quote it completely, already with all the necessary corrections, removing unnecessary comments: <br><div class="spoiler">  <b class="spoiler_title">Config configuration</b> <div class="spoiler_text">  ## =============================================== === <br>  ## Hetzner Online AG - installimage - standardconfig. <br>  ## =============================================== === <br><br>  ## ==================== <br>  ## HARD DISK DRIVE (S): <br>  ## ==================== <br>  DRIVE1 / dev / sda <br>  DRIVE2 / dev / sdb <br><br>  ## =============== <br>  ## SOFTWARE RAID: <br>  ## =============== <br>  SWRAID 1 <br>  SWRAIDLEVEL 1 <br><br>  ## ============ <br>  ## BOOTLOADER: <br>  ## ============ <br><br>  BOOTLOADER grub <br><br>  ## ========== <br>  ## HOSTNAME: <br>  ## ========== <br><br>  HOSTNAME your_hostname_here <br><br>  ## ========================== <br>  ## PARTITIONS / FILESYSTEMS: <br>  ## ========================== <br><br>  PART / boot ext3 512M <br>  PART lvm vg0 all <br>  LV vg0 root / ext4 20G <br>  LV vg0 swap swap swap 8G <br><br>  ## ======================== <br>  ## OPERATING SYSTEM IMAGE: <br>  ## ======================== <br><br>  IMAGE /root/.oldroot/nfs/install/../images/Debian-76-wheezy-64-minimal.tar.gz <br></div></div><br><br>  We press F10, keeping the changes and agree with the terrible warning that the data on the disks will be lost <br><br><img src="https://habrastorage.org/files/8f6/1da/77a/8f61da77a01c4dd9bd464543ab2b8452.png"><br><br>  And we go to drink coffee. <br><br>  When a cup of coffee is drunk, and a pleasant warm wave runs through your body, most likely the installation of our server is already complete.  All we have to do is reboot by typing in the console. <br><pre> <code class="bash hljs">root@rescue ~ <span class="hljs-comment"><span class="hljs-comment"># reboot</span></span></code> </pre><br><br>  Download our newly installed server, and go to: <br><pre>  https: // your_ip_address: 8006 </pre><br>  Log in as root and the password that you changed before installation.  Changed because?  If not, then use the one that gave us hetzner =) <br><img src="https://habrastorage.org/files/55a/46b/7ed/55a46b7ed7a1476496367e0338d539d5.png"><br><br>  We continue the setting. <br>  Add storage. <br>  Datacenter -&gt; Storage -&gt; Add -&gt; LVM <br><img src="https://habrastorage.org/files/9de/de9/cb7/9dede9cb701b43d188cfad720681a303.png"><br><img src="https://habrastorage.org/files/75f/8b8/7a9/75f8b87a9ffc4fdeaf69ad94bcd9ce9c.png"><br>  Great, we connected our Volume Group.  A little patience, a little bit left =) <br><br>  Configure the network. <br>  Datacenter -&gt; Node1 -&gt; Network <br>  We lead to the form shown in the screenshot.  Please note that you need to configure the network as a bridge!  Feel free to operate with the settings, until the reboot, they still will not apply ... <br><img src="https://habrastorage.org/files/c6a/c1e/1af/c6ac1e1af46e42babc0b7bc25ac833d0.png"><br><br>  And actually restart the server with the <b>Restart</b> button in the upper right corner. <br>  We eat up the cookies remaining after coffee, the server is loaded and ready to go. <br>  Login to the Proxmox control panel again, and click on <b>Create VM</b> from the top right. <br>  An intuitive wizard starts up, about which only 3 things should be said. <br><ul><li>  1. Do not confuse in the Hard Disk tab </li><li>  2. On the Network tab in the MAC Address field, enter the MAC address for the previously ordered IP </li><li>  3. On the CD / DVD tab, you need to select an image.  You can put iso images yourself on the hypervisor in the <b>/ var / lib / vz / template / iso</b> directory </li></ul><br><br>  Actually, how to generate MAC for the ordered IP. <br>  Go to the server control panel <a href="https://robot.your-server.de/">robot.your-server.de</a> , go to the IPs tab and click on Request separate MAC address.  We get the MAC, we drive in the settings of the virtual machine, and we get on it IP via DHCP. <br><br>  What else is worth adding. <br><ul><li>  The virtual machine console can be accessed via the web interface by clicking the Console button. </li><li>  When installing WIndows on a virtual machine, on the Hard Disk tab, select the SATA controller. </li></ul><br><br>  It seems like everyone else.  You can pour yourself another cup of coffee and deservedly rest. <br>  Thank you for your attention, I hope this material will be useful. <br><br>  PS Added a vote on whether it is interesting to the respected community about clustering Proxmox servers. </div><p>Source: <a href="https://habr.com/ru/post/242031/">https://habr.com/ru/post/242031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242019/index.html">Nanopatch to proxmox ve 3.3 web interface for displaying lmsensors</a></li>
<li><a href="../242023/index.html">The course of pixel art 3</a></li>
<li><a href="../242025/index.html">Kitchenware testing: or what to choose from online resources for product testing?</a></li>
<li><a href="../242027/index.html">CryptoBot ransomware virus surrenders its victims via Twitter</a></li>
<li><a href="../242029/index.html">Mistakes in ecommerce that can ruin your business</a></li>
<li><a href="../242033/index.html">Side menu icon from Material Design (like on Google Play)</a></li>
<li><a href="../242035/index.html">Announcement of the third meeting of the Java User Group EKB</a></li>
<li><a href="../242039/index.html">The choice of software for the client. Requirements collection</a></li>
<li><a href="../242041/index.html">We present the software product. How to convince the client of your choice</a></li>
<li><a href="../242043/index.html">Reduce CPU consumption Skype for Linux and Mac OS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>