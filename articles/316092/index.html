<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As we came up with and made our first game on Android. Part 2: Levels</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello World! We are two new mobile game developers, former classmates, graduates of Kazan Federal University, Aydar and Ed, continue the story about t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As we came up with and made our first game on Android. Part 2: Levels</h1><div class="post__text post__text-html js-mediator-article">  Hello World!  We are two new mobile game developers, former classmates, graduates of Kazan Federal University, Aydar and Ed, continue the story about the development of our first game ‚ÄúSyncomania‚Äù on Android. <br><br>  For those who have just joined, briefly recall the content of the <a href="https://habrahabr.ru/post/312684/">first part</a> : <br><br><ul><li>  we came up with a turn-based puzzle about four heroes ( <i>depicted in the form of luxurious white circles</i> ); </li><li>  all heroes ( <i>and their enemies made in rich red color</i> ) are controlled and move synchronously; </li><li>  heroes can die when they collide with each other, stepping on a trap, stumbled upon an enemy or get under a box; </li><li>  the goal of the game is to deliver all the heroes alive to a single exit ( <i>green square</i> ); </li><li>  It is desirable to find a short solution. </li></ul><br>  In this article we will talk about the work on the levels of the game and some of the principles that we adhered to.  Perhaps they will be useful to you. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As Terry Pratchett wrote: ‚ÄúThe vital ingredient for success is not to know that you cannot fulfill your plans.‚Äù  Probably, thanks to our naive and romantic approach, we achieved a result. <br><br><h3>  Reward </h3><br>  History of the first level: <i>‚ÄúEveryone, even the smallest, should have a personal living space, so each hero has a separate room.</i>  <i>And one of the heroes was lucky - the only way out is in his room.</i>  <i>At first, the lucky one behaves selfishly and seeks to leave the level as soon as possible.</i>  <i>But with experience, he realizes that this behavior is not the most effective.</i>  <i>For optimal transmission, you need to work in a team and first think about other heroes</i> . <i>‚Äù</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e6b/8e1/727/e6b8e1727cce40b3a8d0c4006257239c.gif" alt="image"></div><br>  The variability of the passage is a feature of the game, of which we are sincerely proud.  All our levels have alternative solutions: short or long, obvious or elegant.  Each has its own world record - the minimum number of moves, known at the moment.  We encourage the search for the shortest solution with the help of common stars, as, for example, in ‚ÄúAngry Birds‚Äù.  But, in our opinion, the non-transparent method of estimation causes bewilderment and irritation.  In ‚ÄúSyncomania‚Äù we tried to make it visual: a player gets three stars if he passes a level in the minimum number of moves.  With one star, too, everything is obvious: just save all the heroes, not paying attention to the records.  But for what merits give two stars?  We needed a threshold value.  In order not to set it for each level separately, we introduced a simple formula: <br><br>  <i>threshold = 1.5 * minimum number of moves.</i> <br><br>  Thus, if the world record is 20 moves, then for 29 the player gets two stars, and for 30 - only one.  Subsequent tests have shown that many people sometimes lack a pair of moves for perfect completion.  We decided to motivate them, and introduced another gradation: if a player passed the level 1‚Äì4 turns worse than the world record, he gets 2¬Ω stars. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ccc/525/ef9/ccc525ef92de411ea365454a1e741c96.png" alt="image"></div><br>  Since the number of levels is limited (currently 96), we slowed down the speed of content consumption using the completion mechanics.  A new chapter, consisting of 12 levels, opens after the player collects a specified number of stars.  Thus, we increase replayability by handing extra hours of enjoyment (and shamelessly hoping for in-game purchases and clicks on advertising). <br><br><h3>  Deceptive appearance </h3><br>  Variability does not make sense if the three-star solution can be found at a glance.  Therefore, we try to invent baits for players: one or several passages seem obvious, but lead to inefficient or losing states.  For example, the ‚ÄúAngle‚Äù level is visually very simple, but almost no one passes it the first time.  The majority tends along the path of least resistance - immediately to the exit in the upper right corner.  Eating our bait, the player finds himself in a stalemate: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b44/6f6/f94/b446f6f94146410487e5399c315be80b.gif" alt="image"></div><br>  Testing the initial levels, we noticed that the symmetrical arrangement of objects looks harmonious, and the chaotic scattered traps and walls create visual garbage.  Then we decided to use symmetry everywhere.  But, as you know, there are no rules without exceptions.  For example, at the ‚ÄúCandle‚Äù level, we intentionally deviated from symmetry and set up a single wall, hinting at the fact that it should be used during the passage ( <i>although, perhaps, this is bait</i> ). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/229/a44/709/229a44709629400c9768e1218d40a24a.png" alt="image"></div><br>  At an early stage of development, we tried to figure out how small changes in the alignment of objects affect the method of transmission.  For example, we have about 10 modifications of the ‚ÄúFour Rooms‚Äù design, and in each of them different methods are used.  At the ‚ÄúCompression‚Äù level, the player learns to bring the characters together in order to pass between traps. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/818/714/ea4/818714ea4a8a43f995bfc4773cfbf767.png" alt="image"></div><br>  In the "Simulators" will have to adapt to the behavior of enemies. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/faf/e43/f06/fafe43f06a04457c964b43ee3839a00d.png" alt="image"></div><br>  And at the level of "Castle" you need to help the locked hero to get out of the room. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b72/d64/88d/b72d6488dc8e419386f9241041f50075.png" alt="image"></div><br>  The principle of similarity we apply on levels with new mechanics, so that the player is easier to navigate in a familiar environment. <br><br><h3>  Titles </h3><br>  At first, we gave the levels fancy names, such as ‚ÄúBesame Mucho‚Äù or ‚ÄúImitation of Crab Meat‚Äù.  But when the tests of the mobile version began, it turned out that the long names do not have enough screen space.  It was necessary to change the words or even abandon them.  We decided that the levels would be better remembered if they had a ‚Äútalking‚Äù name.  For example, the level at which the traps look like the face of a monkey, we called "Macaque." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/adc/78a/69a/adc78a69a6f64204b04f02ef77190f59.png" alt="image"></div><br>  By the way, the working name of our game was ‚ÄúOne 4 all‚Äù - ‚Äúone for all‚Äù (with a hint of four), and we invented the current <b>‚ÄúSyncomania‚Äù</b> (inclination to synchronization) before launch. <br><br><h3>  Self study </h3><br>  It seems to us that a person learns material better if he comes to a decision on his own.  We do not tell the player how to interact with the new mechanics, but encourage him to find his tricks with simple examples.  In particular, at the ‚ÄúSection‚Äù level, the player faces a seemingly hopeless situation.  More precisely, there is a way out, but it is surrounded by traps: if you bring out one hero, you kill another.  The game makes you think: ‚ÄúThe developers probably mistook something - this level is impassable.  But before that, everything was logical. "  And here the player pays attention to the walls placed, independently discovering one of the main methods for himself: changing the distance between the characters.  Joy is in discovery. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/6e1/17b/014/6e117b0142e3482ea18756f963720312.png" alt="image"></div><br>  Ed: <i>‚ÄúWhile we were writing this article, my wife passed this very level in 24 turns and broke a record that lasted more than a year!</i>  <i>During development, I also liked to set records at new levels (after all, the first passage by default was the best)</i> . <i>‚Äù</i> <br><br><h3>  Records </h3><br>  In the last article we told that we do not have a stable automated way to detect the shortest possible passage.  Therefore, we set most world records ourselves or with the help of our first testers.  Typically, typing three stars, players calm down and move on to the next level, but some show innovative thinking and discover unforeseen solutions.  All new records with passages are sent to us via Google Analytics, and we change them with the next update (and the record breakers are motivated and the game develops).  So, our most devoted player Andrei Vladimirovich has already set a dozen records.  In addition, we decided that record holders would be pleased if the levels at which they set world records will be marked with a special golden color in the menu.  But if someone else improves their record, then this privilege will get to the new champion as a challenge cup. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1ec/a6f/a6a/1eca6fa6af0d4f4eb9b473e91400bce0.png" alt="image"></div><br><h3>  Complexity curve </h3><br>  Having developed most of the levels, we are faced with the problem of ordering them in order of increasing complexity.  This is not a trivial task - if only because the search for a solution is subjective for different players.  In addition, the same level is easy to complete in the forehead, but it's damn difficult to pass optimally.  As a result, we decided to put them in order to find the obvious solution, so that the players would not stumble on the first pass, but if they wanted to, they could plunge into optimization already at the initial stage.  To acquaint people with new mechanics gradually, we divided the levels into thematic chapters: Pitfalls, Streams, Enemies, etc.  At the beginning of each chapter, we place the levels easier, and by the end check the player for strength.  So we have a curve of complexity with fluctuations. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/750/acf/ba4/750acfba46a94e109a04b05ae8c9e755.png" alt="image"></div><br>  At the ordering stage, we threw out many boring levels, but testing showed that we also need to add something.  For example, we added the first chapter last, on the advice of our testers.  It turned out that the beginners did not have time to master the tricks of the game, and they needed more simple levels for the buildup.  It became clear that we were too immersed in the game, and our gaming experience cannot be used to assess the complexity.  Then we tried to present ourselves on the site of newcomers who first launched our game, and created concise introductory levels using only the walls. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/689/fe2/365/689fe2365b4f4660bbac29bed35c95f9.png" alt="image"></div><br>  Aydar: <i>‚ÄúThe work on the first chapter brought me great pleasure, since the rigid restrictions opened room for creativity.</i>  <i>But it‚Äôs still an introduction, and the most interesting part was to develop the latest chapters for experienced players</i> . <i>‚Äù</i> <br><br><h3>  Examples </h3><br>  Creating levels, we did not think through new mechanics and riddles in advance.  During programming and testing, they showed themselves.  For example, once, for the sake of tests, we placed a box on a pipeline of threads.  According to the laws of the game world, the box moved along the stream and, coming off the assembly line, corked a narrow corridor to us.  ‚ÄúHmm, what a nuisance - this should be used,‚Äù we thought.  So in our turn-based game a kind of timer appeared: you need to have time to solve the riddle in N moves, otherwise the exit will be walled up with boxes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/efb/f36/a71/efbf36a7126e4e51b14eb8eb129f81ce.png" alt="image"></div><br>  Experimenting with two timers, we directed their flows to a free cell.  Boxes reached the end and mutually destroyed in the collision.  This came as a surprise to us, since in other cases the game mechanics did not allow pushing the boxes together.  After some discussion, we decided that this was <i>not a bug, but a feature</i> .  As a result, the Skull level was created, where you can destroy the boxes in this way. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ad7/0fd/5ab/ad70fd5ab6c544e6b50dc63d5592a208.gif" alt="image"></div><br>  Having tried numerous types of interactions, we came to the idea that for many centuries served as the engine of science and progress: ‚ÄúWhy don't we mix all this up and see what happens?‚Äù As a result, we had the most confusing at first (and at second) a) glance level - ‚ÄúWhirlpool‚Äù.  However, despite the frightening look, this is by no means the most difficult puzzle in the game.  Given the small number of steps that do not lead to loss, this level can be passed through a simple search.  Even our automated solver handled it in just 16 moves. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f50/f18/095/f50f1809561042299a763cd98e64f43f.gif" alt="image"></div><br>  However, in most cases, finding a brute force solution will not work out - with each move the number of states grows exponentially.  The game should use a creative approach, and it will have to be fully demonstrated at the most difficult level according to testers - ‚ÄúPrisoners‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8d8/b7e/756/8d8b7e75662f4eac85fab8f4baae84e4.png" alt="image"></div><br>  The story of the last level: <i>‚ÄúTerrorists are holding hostages in two small cells.</i>  <i>The heroes have no choice but to move up: a step down - and the hostages will be killed.</i>  <i>On top of that, the treacherous villains (yes, it is us) mined the entire upper limit of the level.</i>  <i>It would seem that the player is faced with a dilemma: to sacrifice hostages or destroy heroes.</i>  <i>But even if by some miracle (spoiler: boxes) the player manages to eliminate the enemies, he will notice that the exit room is surrounded by streams directed outward.</i>  <i>And this part is the insidious highlight of the level</i> . <i>"</i> <br><br>  <i>To be continued...</i> <br><br>  In the next part we will talk about the development of the game interface. </div><p>Source: <a href="https://habr.com/ru/post/316092/">https://habr.com/ru/post/316092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316080/index.html">UltraVDS: Black Friday with 60% discount</a></li>
<li><a href="../316082/index.html">Development for Sailfish OS: timers and implementation of export to a file using the example of an application for maintaining a to-do list</a></li>
<li><a href="../316086/index.html">Creating and testing a firewall in Linux, Part 2.1. Introduction to the second part. We look at the network and protocols. Wireshark</a></li>
<li><a href="../316088/index.html">Small code for big data or Apache Spark in 3 days</a></li>
<li><a href="../316090/index.html">Riot.js 3.0 released</a></li>
<li><a href="../316094/index.html">What discounts are hosters on this Black Friday</a></li>
<li><a href="../316098/index.html">Inside NetBeans. Prologue</a></li>
<li><a href="../316100/index.html">Connecting the character LCD to the board from WD MyBook Live on AppliedMicro APM82181. Ending</a></li>
<li><a href="../316102/index.html">Banana Pi - backup server</a></li>
<li><a href="../316104/index.html">How IT professionals work. Anton Petrochenko, Panasonic Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>