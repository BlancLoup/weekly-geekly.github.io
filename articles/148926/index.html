<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write a simple map using Nokia Maps JS API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 Today we will tell you how to use Nokia maps on websites using the Nokia Maps JS API. The Nokia Maps service has not only a very easy-to-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write a simple map using Nokia Maps JS API</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  Today we will tell you how to use Nokia maps on websites using the Nokia Maps JS API.  The Nokia Maps service has not only a very easy-to-use API, but also excellent map detailing with a huge base of geographic objects, which is constantly updated. <br><br>  You can learn more information about the technological capabilities of Nokia Maps from Sergey Rudenko‚Äôs speech with Nokia Developer Days 2012 ( <a href="http://habrahabr.ru/company/Nokia/blog/148865/">link</a> ), and we‚Äôll start to describe some of the possibilities of using the Nokia Maps JS API using the example of map integration and geolocation and routeing.  It will look something like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://howdy.es/mapsdemo.html"><img src="https://habrastorage.org/storage2/fc6/098/432/fc60984325050bb7afab7b899d2cb0cc.jpg"></a> <br><br><a name="habracut"></a>  First, let's create a simple html page with a container div # mapContainer to place our map in it, as well as a primitive style sheet: <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Nokia Maps JS API<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> * {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">} </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">html</span></span></span><span class="css"> {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">overflow</span></span></span><span class="css">:hidden;} </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css"> {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">overflow</span></span></span><span class="css">:hidden;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">100%</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">height</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">100%</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">:absolute;} </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#mapContainer</span></span></span><span class="css"> {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">100%</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">height</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">100%</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">left</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">top</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">: absolute;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">z-index</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">1</span></span></span><span class="css">;} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mapContainer"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  You should never forget about compatibility, so add meta information to the header to better support mobile browsers: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"initial-scale=1.0, maximum-scale=1.0, user-scalable=yes"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br>  Now it's time to connect the Nokia Maps JS API, adding to the following line: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://api.maps.nokia.com/2.2.1/jsl.js?with=all"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  It should be borne in mind that this is a modular API that contains separate packages for supporting maps, places (POI points), geolocations, laying routes and rendering data (for example, working with heat maps).  We connected the library with the? With = all parameter to load all the packages, but if you don‚Äôt need them all, you can exclude them by listing after? With = only the modules necessary for operation, for example: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://api.maps.nokia.com/2.2.1/jsl.js?with=maps,places,directions,positioning"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  This will reduce the load time of the script, so use only necessary modules in work projects.  A list of all modules can be found <a href="http://api.maps.nokia.com/en/overview.html">here</a> . <br><br>  Now let's initialize our map by adding in <pre> <code class="hljs pgsql"><code class="javascript">  javascript: <br> nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>], //    zoomLevel: <span class="hljs-number"><span class="hljs-number">10</span></span>, components: [ //       // ZoomBar       <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ZoomBar(), // Behavior    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.TypeSelector(), // Traffic    /    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Traffic(), // PublicTransport    /     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.PublicTransport(), // Overview  -     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Overview(), // ScaleBar        <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ScaleBar(), // Positioning   <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.component.Positioning(), // ContextMenu               <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nokia.maps.positioning.Manager) { var positioning = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.Manager(); positioning.getCurrentPosition( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (position) { <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.coords = position.coords, //     marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }, //  -          GPS <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (error) { var errorMsg = "  : "; //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">1</span></span>) errorMsg += " "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">2</span></span>) errorMsg += "  "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">3</span></span>) errorMsg += ""; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( <span class="hljs-number"><span class="hljs-number">10</span></span>, ) var nokia_marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Marker( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>),{ title: "Nokia office", visibility: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  <span class="hljs-number"><span class="hljs-number">48</span></span>  <span class="hljs-number"><span class="hljs-number">48</span></span> ) anchor: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.util.Point(<span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) }); //      map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (observedRouter, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.component.RouteResultSet(routes[<span class="hljs-number"><span class="hljs-number">0</span></span>]).container; map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "failed") { alert("The routing request failed."); } }; //      <span class="hljs-string"><span class="hljs-string">'state'</span></span>  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>)); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */</span></span> var modes = [{ <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: "shortest", transportModes: ["car"], <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>;display: <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block;position: absolute;width: auto;height: auto;border-radius: <span class="hljs-number"><span class="hljs-number">5</span></span>px;background-color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>);top:<span class="hljs-number"><span class="hljs-number">8</span></span>px;left: <span class="hljs-number"><span class="hljs-number">40</span></span>px;} ul {list-style-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;} li {display:<span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block; padding:<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px;} li a {color:#fff;<span class="hljs-type"><span class="hljs-type">text</span></span>-decoration: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;font: <span class="hljs-number"><span class="hljs-number">12</span></span>px/<span class="hljs-number"><span class="hljs-number">12</span></span>px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $(<span class="hljs-string"><span class="hljs-string">'#u_r_here'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //       map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }); $(<span class="hljs-string"><span class="hljs-string">'#nokia_office'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //      Nokia    map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", [<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>]); map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("zoomLevel", <span class="hljs-number"><span class="hljs-number">16</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#kremlin'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Interests ( ).</code></code> </pre> <code><code class="javascript">  javascript: <br> nokia.Settings.set("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.set("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.set("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = new nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [55.752316, 37.614188], //    zoomLevel: 10, components: [ //       // ZoomBar       new nokia.maps.map.component.ZoomBar(), // Behavior    new nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) new nokia.maps.map.component.TypeSelector(), // Traffic    /    new nokia.maps.map.component.Traffic(), // PublicTransport    /     new nokia.maps.map.component.PublicTransport(), // Overview  -     new nokia.maps.map.component.Overview(), // ScaleBar        new nokia.maps.map.component.ScaleBar(), // Positioning   new nokia.maps.positioning.component.Positioning(), // ContextMenu               new nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript">if (nokia.maps.positioning.Manager) { var positioning = new nokia.maps.positioning.Manager(); positioning.getCurrentPosition( function (position) { window.coords = position.coords, //     marker = new nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = new nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }, //  -          GPS function (error) { var errorMsg = "  : "; //       if (error.code == 1) errorMsg += " "; else if (error.code == 2) errorMsg += "  "; else if (error.code == 3) errorMsg += ""; else errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( 10, ) var nokia_marker = new nokia.maps.map.Marker( new nokia.maps.geo.Coordinate(55.753105, 37.605858),{ title: "Nokia office", visibility: true, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  48  48 ) anchor: new nokia.maps.util.Point(24, 24) }); //      map.objects.add(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = function (observedRouter, key, value) { if (value == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = new nokia.maps.routing.component.RouteResultSet(routes[0]).container; map.objects.add(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), false, "default"); } else if (value == "failed") { alert("The routing request failed."); } }; //      'state'  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = new nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.753105, 37.605858)); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.752316, 37.614188)); /*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */ var modes = [{ type: "shortest", transportModes: ["car"], options: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-index:100;display: inline-block;position: absolute;width: auto;height: auto;border-radius: 5px;background-color: rgba(0,0,0,0.8);top:8px;left: 40px;} ul {list-style-type: none;} li {display:inline-block; padding:3 5px;} li a {color:#fff;text-decoration: none;font: 12px/12px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $('#u_r_here').bind('click', function(e){ e.preventDefault() //       map.set("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }); $('#nokia_office').bind('click', function(e){ e.preventDefault() //      Nokia    map.set("center", [55.753105, 37.605858]); map.set("zoomLevel", 16); }); $('#kremlin').bind('click', function(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points of Interests ( ).</code></code> <pre> <code class="hljs pgsql"><code class="javascript">  javascript: <br> nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>], //    zoomLevel: <span class="hljs-number"><span class="hljs-number">10</span></span>, components: [ //       // ZoomBar       <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ZoomBar(), // Behavior    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.TypeSelector(), // Traffic    /    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Traffic(), // PublicTransport    /     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.PublicTransport(), // Overview  -     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Overview(), // ScaleBar        <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ScaleBar(), // Positioning   <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.component.Positioning(), // ContextMenu               <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nokia.maps.positioning.Manager) { var positioning = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.Manager(); positioning.getCurrentPosition( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (position) { <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.coords = position.coords, //     marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }, //  -          GPS <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (error) { var errorMsg = "  : "; //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">1</span></span>) errorMsg += " "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">2</span></span>) errorMsg += "  "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">3</span></span>) errorMsg += ""; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( <span class="hljs-number"><span class="hljs-number">10</span></span>, ) var nokia_marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Marker( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>),{ title: "Nokia office", visibility: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  <span class="hljs-number"><span class="hljs-number">48</span></span>  <span class="hljs-number"><span class="hljs-number">48</span></span> ) anchor: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.util.Point(<span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) }); //      map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (observedRouter, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.component.RouteResultSet(routes[<span class="hljs-number"><span class="hljs-number">0</span></span>]).container; map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "failed") { alert("The routing request failed."); } }; //      <span class="hljs-string"><span class="hljs-string">'state'</span></span>  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>)); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */</span></span> var modes = [{ <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: "shortest", transportModes: ["car"], <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>;display: <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block;position: absolute;width: auto;height: auto;border-radius: <span class="hljs-number"><span class="hljs-number">5</span></span>px;background-color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>);top:<span class="hljs-number"><span class="hljs-number">8</span></span>px;left: <span class="hljs-number"><span class="hljs-number">40</span></span>px;} ul {list-style-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;} li {display:<span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block; padding:<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px;} li a {color:#fff;<span class="hljs-type"><span class="hljs-type">text</span></span>-decoration: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;font: <span class="hljs-number"><span class="hljs-number">12</span></span>px/<span class="hljs-number"><span class="hljs-number">12</span></span>px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $(<span class="hljs-string"><span class="hljs-string">'#u_r_here'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //       map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }); $(<span class="hljs-string"><span class="hljs-string">'#nokia_office'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //      Nokia    map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", [<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>]); map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("zoomLevel", <span class="hljs-number"><span class="hljs-number">16</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#kremlin'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Interests ( ).</code></code> </pre> <code><code class="javascript">  javascript: <br> nokia.Settings.set("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.set("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.set("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = new nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [55.752316, 37.614188], //    zoomLevel: 10, components: [ //       // ZoomBar       new nokia.maps.map.component.ZoomBar(), // Behavior    new nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) new nokia.maps.map.component.TypeSelector(), // Traffic    /    new nokia.maps.map.component.Traffic(), // PublicTransport    /     new nokia.maps.map.component.PublicTransport(), // Overview  -     new nokia.maps.map.component.Overview(), // ScaleBar        new nokia.maps.map.component.ScaleBar(), // Positioning   new nokia.maps.positioning.component.Positioning(), // ContextMenu               new nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript">if (nokia.maps.positioning.Manager) { var positioning = new nokia.maps.positioning.Manager(); positioning.getCurrentPosition( function (position) { window.coords = position.coords, //     marker = new nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = new nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }, //  -          GPS function (error) { var errorMsg = "  : "; //       if (error.code == 1) errorMsg += " "; else if (error.code == 2) errorMsg += "  "; else if (error.code == 3) errorMsg += ""; else errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( 10, ) var nokia_marker = new nokia.maps.map.Marker( new nokia.maps.geo.Coordinate(55.753105, 37.605858),{ title: "Nokia office", visibility: true, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  48  48 ) anchor: new nokia.maps.util.Point(24, 24) }); //      map.objects.add(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = function (observedRouter, key, value) { if (value == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = new nokia.maps.routing.component.RouteResultSet(routes[0]).container; map.objects.add(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), false, "default"); } else if (value == "failed") { alert("The routing request failed."); } }; //      'state'  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = new nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.753105, 37.605858)); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.752316, 37.614188)); /*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */ var modes = [{ type: "shortest", transportModes: ["car"], options: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-index:100;display: inline-block;position: absolute;width: auto;height: auto;border-radius: 5px;background-color: rgba(0,0,0,0.8);top:8px;left: 40px;} ul {list-style-type: none;} li {display:inline-block; padding:3 5px;} li a {color:#fff;text-decoration: none;font: 12px/12px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $('#u_r_here').bind('click', function(e){ e.preventDefault() //       map.set("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }); $('#nokia_office').bind('click', function(e){ e.preventDefault() //      Nokia    map.set("center", [55.753105, 37.605858]); map.set("zoomLevel", 16); }); $('#kremlin').bind('click', function(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points of Interests ( ).</code></code> <pre> <code class="hljs pgsql"><code class="javascript">  javascript: <br> nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>], //    zoomLevel: <span class="hljs-number"><span class="hljs-number">10</span></span>, components: [ //       // ZoomBar       <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ZoomBar(), // Behavior    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.TypeSelector(), // Traffic    /    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Traffic(), // PublicTransport    /     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.PublicTransport(), // Overview  -     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Overview(), // ScaleBar        <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ScaleBar(), // Positioning   <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.component.Positioning(), // ContextMenu               <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nokia.maps.positioning.Manager) { var positioning = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.Manager(); positioning.getCurrentPosition( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (position) { <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.coords = position.coords, //     marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }, //  -          GPS <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (error) { var errorMsg = "  : "; //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">1</span></span>) errorMsg += " "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">2</span></span>) errorMsg += "  "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">3</span></span>) errorMsg += ""; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( <span class="hljs-number"><span class="hljs-number">10</span></span>, ) var nokia_marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Marker( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>),{ title: "Nokia office", visibility: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  <span class="hljs-number"><span class="hljs-number">48</span></span>  <span class="hljs-number"><span class="hljs-number">48</span></span> ) anchor: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.util.Point(<span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) }); //      map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (observedRouter, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.component.RouteResultSet(routes[<span class="hljs-number"><span class="hljs-number">0</span></span>]).container; map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "failed") { alert("The routing request failed."); } }; //      <span class="hljs-string"><span class="hljs-string">'state'</span></span>  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>)); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */</span></span> var modes = [{ <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: "shortest", transportModes: ["car"], <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>;display: <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block;position: absolute;width: auto;height: auto;border-radius: <span class="hljs-number"><span class="hljs-number">5</span></span>px;background-color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>);top:<span class="hljs-number"><span class="hljs-number">8</span></span>px;left: <span class="hljs-number"><span class="hljs-number">40</span></span>px;} ul {list-style-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;} li {display:<span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block; padding:<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px;} li a {color:#fff;<span class="hljs-type"><span class="hljs-type">text</span></span>-decoration: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;font: <span class="hljs-number"><span class="hljs-number">12</span></span>px/<span class="hljs-number"><span class="hljs-number">12</span></span>px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $(<span class="hljs-string"><span class="hljs-string">'#u_r_here'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //       map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }); $(<span class="hljs-string"><span class="hljs-string">'#nokia_office'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //      Nokia    map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", [<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>]); map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("zoomLevel", <span class="hljs-number"><span class="hljs-number">16</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#kremlin'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Interests ( ).</code></code> </pre> <code><code class="javascript">  javascript: <br> nokia.Settings.set("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.set("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.set("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = new nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [55.752316, 37.614188], //    zoomLevel: 10, components: [ //       // ZoomBar       new nokia.maps.map.component.ZoomBar(), // Behavior    new nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) new nokia.maps.map.component.TypeSelector(), // Traffic    /    new nokia.maps.map.component.Traffic(), // PublicTransport    /     new nokia.maps.map.component.PublicTransport(), // Overview  -     new nokia.maps.map.component.Overview(), // ScaleBar        new nokia.maps.map.component.ScaleBar(), // Positioning   new nokia.maps.positioning.component.Positioning(), // ContextMenu               new nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript">if (nokia.maps.positioning.Manager) { var positioning = new nokia.maps.positioning.Manager(); positioning.getCurrentPosition( function (position) { window.coords = position.coords, //     marker = new nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = new nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }, //  -          GPS function (error) { var errorMsg = "  : "; //       if (error.code == 1) errorMsg += " "; else if (error.code == 2) errorMsg += "  "; else if (error.code == 3) errorMsg += ""; else errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( 10, ) var nokia_marker = new nokia.maps.map.Marker( new nokia.maps.geo.Coordinate(55.753105, 37.605858),{ title: "Nokia office", visibility: true, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  48  48 ) anchor: new nokia.maps.util.Point(24, 24) }); //      map.objects.add(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = function (observedRouter, key, value) { if (value == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = new nokia.maps.routing.component.RouteResultSet(routes[0]).container; map.objects.add(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), false, "default"); } else if (value == "failed") { alert("The routing request failed."); } }; //      'state'  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = new nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.753105, 37.605858)); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.752316, 37.614188)); /*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */ var modes = [{ type: "shortest", transportModes: ["car"], options: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-index:100;display: inline-block;position: absolute;width: auto;height: auto;border-radius: 5px;background-color: rgba(0,0,0,0.8);top:8px;left: 40px;} ul {list-style-type: none;} li {display:inline-block; padding:3 5px;} li a {color:#fff;text-decoration: none;font: 12px/12px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $('#u_r_here').bind('click', function(e){ e.preventDefault() //       map.set("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }); $('#nokia_office').bind('click', function(e){ e.preventDefault() //      Nokia    map.set("center", [55.753105, 37.605858]); map.set("zoomLevel", 16); }); $('#kremlin').bind('click', function(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points of Interests ( ).</code></code> <pre> <code class="hljs pgsql"><code class="javascript">  javascript: <br> nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>], //    zoomLevel: <span class="hljs-number"><span class="hljs-number">10</span></span>, components: [ //       // ZoomBar       <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ZoomBar(), // Behavior    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.TypeSelector(), // Traffic    /    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Traffic(), // PublicTransport    /     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.PublicTransport(), // Overview  -     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Overview(), // ScaleBar        <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ScaleBar(), // Positioning   <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.component.Positioning(), // ContextMenu               <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nokia.maps.positioning.Manager) { var positioning = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.Manager(); positioning.getCurrentPosition( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (position) { <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.coords = position.coords, //     marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }, //  -          GPS <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (error) { var errorMsg = "  : "; //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">1</span></span>) errorMsg += " "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">2</span></span>) errorMsg += "  "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">3</span></span>) errorMsg += ""; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( <span class="hljs-number"><span class="hljs-number">10</span></span>, ) var nokia_marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Marker( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>),{ title: "Nokia office", visibility: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  <span class="hljs-number"><span class="hljs-number">48</span></span>  <span class="hljs-number"><span class="hljs-number">48</span></span> ) anchor: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.util.Point(<span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) }); //      map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (observedRouter, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.component.RouteResultSet(routes[<span class="hljs-number"><span class="hljs-number">0</span></span>]).container; map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "failed") { alert("The routing request failed."); } }; //      <span class="hljs-string"><span class="hljs-string">'state'</span></span>  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>)); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */</span></span> var modes = [{ <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: "shortest", transportModes: ["car"], <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>;display: <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block;position: absolute;width: auto;height: auto;border-radius: <span class="hljs-number"><span class="hljs-number">5</span></span>px;background-color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>);top:<span class="hljs-number"><span class="hljs-number">8</span></span>px;left: <span class="hljs-number"><span class="hljs-number">40</span></span>px;} ul {list-style-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;} li {display:<span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block; padding:<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px;} li a {color:#fff;<span class="hljs-type"><span class="hljs-type">text</span></span>-decoration: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;font: <span class="hljs-number"><span class="hljs-number">12</span></span>px/<span class="hljs-number"><span class="hljs-number">12</span></span>px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $(<span class="hljs-string"><span class="hljs-string">'#u_r_here'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //       map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }); $(<span class="hljs-string"><span class="hljs-string">'#nokia_office'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //      Nokia    map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", [<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>]); map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("zoomLevel", <span class="hljs-number"><span class="hljs-number">16</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#kremlin'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Interests ( ).</code></code> </pre> <code><code class="javascript">  javascript: <br> nokia.Settings.set("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.set("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.set("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = new nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [55.752316, 37.614188], //    zoomLevel: 10, components: [ //       // ZoomBar       new nokia.maps.map.component.ZoomBar(), // Behavior    new nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) new nokia.maps.map.component.TypeSelector(), // Traffic    /    new nokia.maps.map.component.Traffic(), // PublicTransport    /     new nokia.maps.map.component.PublicTransport(), // Overview  -     new nokia.maps.map.component.Overview(), // ScaleBar        new nokia.maps.map.component.ScaleBar(), // Positioning   new nokia.maps.positioning.component.Positioning(), // ContextMenu               new nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript">if (nokia.maps.positioning.Manager) { var positioning = new nokia.maps.positioning.Manager(); positioning.getCurrentPosition( function (position) { window.coords = position.coords, //     marker = new nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = new nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }, //  -          GPS function (error) { var errorMsg = "  : "; //       if (error.code == 1) errorMsg += " "; else if (error.code == 2) errorMsg += "  "; else if (error.code == 3) errorMsg += ""; else errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( 10, ) var nokia_marker = new nokia.maps.map.Marker( new nokia.maps.geo.Coordinate(55.753105, 37.605858),{ title: "Nokia office", visibility: true, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  48  48 ) anchor: new nokia.maps.util.Point(24, 24) }); //      map.objects.add(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = function (observedRouter, key, value) { if (value == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = new nokia.maps.routing.component.RouteResultSet(routes[0]).container; map.objects.add(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), false, "default"); } else if (value == "failed") { alert("The routing request failed."); } }; //      'state'  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = new nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.753105, 37.605858)); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.752316, 37.614188)); /*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */ var modes = [{ type: "shortest", transportModes: ["car"], options: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-index:100;display: inline-block;position: absolute;width: auto;height: auto;border-radius: 5px;background-color: rgba(0,0,0,0.8);top:8px;left: 40px;} ul {list-style-type: none;} li {display:inline-block; padding:3 5px;} li a {color:#fff;text-decoration: none;font: 12px/12px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $('#u_r_here').bind('click', function(e){ e.preventDefault() //       map.set("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }); $('#nokia_office').bind('click', function(e){ e.preventDefault() //      Nokia    map.set("center", [55.753105, 37.605858]); map.set("zoomLevel", 16); }); $('#kremlin').bind('click', function(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points of Interests ( ).</code></code> <pre> <code class="hljs pgsql"><code class="javascript">  javascript: <br> nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>], //    zoomLevel: <span class="hljs-number"><span class="hljs-number">10</span></span>, components: [ //       // ZoomBar       <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ZoomBar(), // Behavior    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.TypeSelector(), // Traffic    /    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Traffic(), // PublicTransport    /     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.PublicTransport(), // Overview  -     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Overview(), // ScaleBar        <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ScaleBar(), // Positioning   <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.component.Positioning(), // ContextMenu               <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nokia.maps.positioning.Manager) { var positioning = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.Manager(); positioning.getCurrentPosition( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (position) { <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.coords = position.coords, //     marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }, //  -          GPS <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (error) { var errorMsg = "  : "; //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">1</span></span>) errorMsg += " "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">2</span></span>) errorMsg += "  "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">3</span></span>) errorMsg += ""; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( <span class="hljs-number"><span class="hljs-number">10</span></span>, ) var nokia_marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Marker( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>),{ title: "Nokia office", visibility: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  <span class="hljs-number"><span class="hljs-number">48</span></span>  <span class="hljs-number"><span class="hljs-number">48</span></span> ) anchor: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.util.Point(<span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) }); //      map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (observedRouter, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.component.RouteResultSet(routes[<span class="hljs-number"><span class="hljs-number">0</span></span>]).container; map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "failed") { alert("The routing request failed."); } }; //      <span class="hljs-string"><span class="hljs-string">'state'</span></span>  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>)); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */</span></span> var modes = [{ <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: "shortest", transportModes: ["car"], <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>;display: <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block;position: absolute;width: auto;height: auto;border-radius: <span class="hljs-number"><span class="hljs-number">5</span></span>px;background-color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>);top:<span class="hljs-number"><span class="hljs-number">8</span></span>px;left: <span class="hljs-number"><span class="hljs-number">40</span></span>px;} ul {list-style-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;} li {display:<span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block; padding:<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px;} li a {color:#fff;<span class="hljs-type"><span class="hljs-type">text</span></span>-decoration: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;font: <span class="hljs-number"><span class="hljs-number">12</span></span>px/<span class="hljs-number"><span class="hljs-number">12</span></span>px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $(<span class="hljs-string"><span class="hljs-string">'#u_r_here'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //       map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }); $(<span class="hljs-string"><span class="hljs-string">'#nokia_office'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //      Nokia    map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", [<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>]); map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("zoomLevel", <span class="hljs-number"><span class="hljs-number">16</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#kremlin'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Interests ( ).</code></code> </pre> <code><code class="javascript">  javascript: <br> nokia.Settings.set("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.set("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.set("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = new nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [55.752316, 37.614188], //    zoomLevel: 10, components: [ //       // ZoomBar       new nokia.maps.map.component.ZoomBar(), // Behavior    new nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) new nokia.maps.map.component.TypeSelector(), // Traffic    /    new nokia.maps.map.component.Traffic(), // PublicTransport    /     new nokia.maps.map.component.PublicTransport(), // Overview  -     new nokia.maps.map.component.Overview(), // ScaleBar        new nokia.maps.map.component.ScaleBar(), // Positioning   new nokia.maps.positioning.component.Positioning(), // ContextMenu               new nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript">if (nokia.maps.positioning.Manager) { var positioning = new nokia.maps.positioning.Manager(); positioning.getCurrentPosition( function (position) { window.coords = position.coords, //     marker = new nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = new nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }, //  -          GPS function (error) { var errorMsg = "  : "; //       if (error.code == 1) errorMsg += " "; else if (error.code == 2) errorMsg += "  "; else if (error.code == 3) errorMsg += ""; else errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( 10, ) var nokia_marker = new nokia.maps.map.Marker( new nokia.maps.geo.Coordinate(55.753105, 37.605858),{ title: "Nokia office", visibility: true, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  48  48 ) anchor: new nokia.maps.util.Point(24, 24) }); //      map.objects.add(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = function (observedRouter, key, value) { if (value == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = new nokia.maps.routing.component.RouteResultSet(routes[0]).container; map.objects.add(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), false, "default"); } else if (value == "failed") { alert("The routing request failed."); } }; //      'state'  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = new nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.753105, 37.605858)); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.752316, 37.614188)); /*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */ var modes = [{ type: "shortest", transportModes: ["car"], options: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-index:100;display: inline-block;position: absolute;width: auto;height: auto;border-radius: 5px;background-color: rgba(0,0,0,0.8);top:8px;left: 40px;} ul {list-style-type: none;} li {display:inline-block; padding:3 5px;} li a {color:#fff;text-decoration: none;font: 12px/12px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $('#u_r_here').bind('click', function(e){ e.preventDefault() //       map.set("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }); $('#nokia_office').bind('click', function(e){ e.preventDefault() //      Nokia    map.set("center", [55.753105, 37.605858]); map.set("zoomLevel", 16); }); $('#kremlin').bind('click', function(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points of Interests ( ).</code></code> <pre> <code class="hljs pgsql"><code class="javascript">  javascript: <br> nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>], //    zoomLevel: <span class="hljs-number"><span class="hljs-number">10</span></span>, components: [ //       // ZoomBar       <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ZoomBar(), // Behavior    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.TypeSelector(), // Traffic    /    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Traffic(), // PublicTransport    /     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.PublicTransport(), // Overview  -     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Overview(), // ScaleBar        <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ScaleBar(), // Positioning   <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.component.Positioning(), // ContextMenu               <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nokia.maps.positioning.Manager) { var positioning = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.Manager(); positioning.getCurrentPosition( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (position) { <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.coords = position.coords, //     marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }, //  -          GPS <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (error) { var errorMsg = "  : "; //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">1</span></span>) errorMsg += " "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">2</span></span>) errorMsg += "  "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">3</span></span>) errorMsg += ""; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( <span class="hljs-number"><span class="hljs-number">10</span></span>, ) var nokia_marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Marker( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>),{ title: "Nokia office", visibility: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  <span class="hljs-number"><span class="hljs-number">48</span></span>  <span class="hljs-number"><span class="hljs-number">48</span></span> ) anchor: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.util.Point(<span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) }); //      map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (observedRouter, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.component.RouteResultSet(routes[<span class="hljs-number"><span class="hljs-number">0</span></span>]).container; map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "failed") { alert("The routing request failed."); } }; //      <span class="hljs-string"><span class="hljs-string">'state'</span></span>  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>)); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */</span></span> var modes = [{ <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: "shortest", transportModes: ["car"], <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>;display: <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block;position: absolute;width: auto;height: auto;border-radius: <span class="hljs-number"><span class="hljs-number">5</span></span>px;background-color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>);top:<span class="hljs-number"><span class="hljs-number">8</span></span>px;left: <span class="hljs-number"><span class="hljs-number">40</span></span>px;} ul {list-style-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;} li {display:<span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block; padding:<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px;} li a {color:#fff;<span class="hljs-type"><span class="hljs-type">text</span></span>-decoration: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;font: <span class="hljs-number"><span class="hljs-number">12</span></span>px/<span class="hljs-number"><span class="hljs-number">12</span></span>px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $(<span class="hljs-string"><span class="hljs-string">'#u_r_here'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //       map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }); $(<span class="hljs-string"><span class="hljs-string">'#nokia_office'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //      Nokia    map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", [<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>]); map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("zoomLevel", <span class="hljs-number"><span class="hljs-number">16</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#kremlin'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Interests ( ).</code></code> </pre> <code><code><code class="javascript">  javascript: <br> nokia.Settings.set("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.set("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.set("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = new nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [55.752316, 37.614188], //    zoomLevel: 10, components: [ //       // ZoomBar       new nokia.maps.map.component.ZoomBar(), // Behavior    new nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) new nokia.maps.map.component.TypeSelector(), // Traffic    /    new nokia.maps.map.component.Traffic(), // PublicTransport    /     new nokia.maps.map.component.PublicTransport(), // Overview  -     new nokia.maps.map.component.Overview(), // ScaleBar        new nokia.maps.map.component.ScaleBar(), // Positioning   new nokia.maps.positioning.component.Positioning(), // ContextMenu               new nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript">if (nokia.maps.positioning.Manager) { var positioning = new nokia.maps.positioning.Manager(); positioning.getCurrentPosition( function (position) { window.coords = position.coords, //     marker = new nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = new nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }, //  -          GPS function (error) { var errorMsg = "  : "; //       if (error.code == 1) errorMsg += " "; else if (error.code == 2) errorMsg += "  "; else if (error.code == 3) errorMsg += ""; else errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( 10, ) var nokia_marker = new nokia.maps.map.Marker( new nokia.maps.geo.Coordinate(55.753105, 37.605858),{ title: "Nokia office", visibility: true, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  48  48 ) anchor: new nokia.maps.util.Point(24, 24) }); //      map.objects.add(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = function (observedRouter, key, value) { if (value == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = new nokia.maps.routing.component.RouteResultSet(routes[0]).container; map.objects.add(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), false, "default"); } else if (value == "failed") { alert("The routing request failed."); } }; //      'state'  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = new nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.753105, 37.605858)); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.752316, 37.614188)); /*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */ var modes = [{ type: "shortest", transportModes: ["car"], options: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code class="css">   ,      : <br> #helperContainer {z-index:100;display: inline-block;position: absolute;width: auto;height: auto;border-radius: 5px;background-color: rgba(0,0,0,0.8);top:8px;left: 40px;} ul {list-style-type: none;} li {display:inline-block; padding:3 5px;} li a {color:#fff;text-decoration: none;font: 12px/12px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $('#u_r_here').bind('click', function(e){ e.preventDefault() //       map.set("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }); $('#nokia_office').bind('click', function(e){ e.preventDefault() //      Nokia    map.set("center", [55.753105, 37.605858]); map.set("zoomLevel", 16); }); $('#kremlin').bind('click', function(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points of Interests ( ).</code></code> <pre> <code class="hljs pgsql"><code class="javascript">  javascript: <br> nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>], //    zoomLevel: <span class="hljs-number"><span class="hljs-number">10</span></span>, components: [ //       // ZoomBar       <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ZoomBar(), // Behavior    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.TypeSelector(), // Traffic    /    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Traffic(), // PublicTransport    /     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.PublicTransport(), // Overview  -     <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.Overview(), // ScaleBar        <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ScaleBar(), // Positioning   <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.component.Positioning(), // ContextMenu               <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nokia.maps.positioning.Manager) { var positioning = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.positioning.Manager(); positioning.getCurrentPosition( <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (position) { <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.coords = position.coords, //     marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }, //  -          GPS <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (error) { var errorMsg = "  : "; //       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">1</span></span>) errorMsg += " "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">2</span></span>) errorMsg += "  "; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.code == <span class="hljs-number"><span class="hljs-number">3</span></span>) errorMsg += ""; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( <span class="hljs-number"><span class="hljs-number">10</span></span>, ) var nokia_marker = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.map.Marker( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>),{ title: "Nokia office", visibility: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  <span class="hljs-number"><span class="hljs-number">48</span></span>  <span class="hljs-number"><span class="hljs-number">48</span></span> ) anchor: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.util.Point(<span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) }); //      map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (observedRouter, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.component.RouteResultSet(routes[<span class="hljs-number"><span class="hljs-number">0</span></span>]).container; map.objects.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == "failed") { alert("The routing request failed."); } }; //      <span class="hljs-string"><span class="hljs-string">'state'</span></span>  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>)); waypoints.addCoordinate(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> nokia.maps.geo.Coordinate(<span class="hljs-number"><span class="hljs-number">55.752316</span></span>, <span class="hljs-number"><span class="hljs-number">37.614188</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */</span></span> var modes = [{ <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: "shortest", transportModes: ["car"], <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code><code class="css">   ,      : <br> #helperContainer {z-<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>;display: <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block;position: absolute;width: auto;height: auto;border-radius: <span class="hljs-number"><span class="hljs-number">5</span></span>px;background-color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>);top:<span class="hljs-number"><span class="hljs-number">8</span></span>px;left: <span class="hljs-number"><span class="hljs-number">40</span></span>px;} ul {list-style-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;} li {display:<span class="hljs-keyword"><span class="hljs-keyword">inline</span></span>-block; padding:<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px;} li a {color:#fff;<span class="hljs-type"><span class="hljs-type">text</span></span>-decoration: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>;font: <span class="hljs-number"><span class="hljs-number">12</span></span>px/<span class="hljs-number"><span class="hljs-number">12</span></span>px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $(<span class="hljs-string"><span class="hljs-string">'#u_r_here'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //       map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, "default"); }); $(<span class="hljs-string"><span class="hljs-string">'#nokia_office'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //      Nokia    map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("center", [<span class="hljs-number"><span class="hljs-number">55.753105</span></span>, <span class="hljs-number"><span class="hljs-number">37.605858</span></span>]); map.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>("zoomLevel", <span class="hljs-number"><span class="hljs-number">16</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#kremlin'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Interests ( ).</code></code> </pre> <code><code><code class="javascript">  javascript: <br> nokia.Settings.set("appId", "_peU-uCkp-j8ovkzFGNU"); nokia.Settings.set("authenticationToken", "gBoUkAMoxoqIWfxWA5DuMQ"); //         . nokia.Settings.set("defaultLanguage", "ru-RU"); //  DOM-,       Nokia var mapContainer = document.getElementById("mapContainer"); //    mapContainer //    DOM- var map = new nokia.maps.map.Display(mapContainer, { //     ,   ,     center: [55.752316, 37.614188], //    zoomLevel: 10, components: [ //       // ZoomBar       new nokia.maps.map.component.ZoomBar(), // Behavior    new nokia.maps.map.component.Behavior(), // TypeSelector        ( , , ) new nokia.maps.map.component.TypeSelector(), // Traffic    /    new nokia.maps.map.component.Traffic(), // PublicTransport    /     new nokia.maps.map.component.PublicTransport(), // Overview  -     new nokia.maps.map.component.Overview(), // ScaleBar        new nokia.maps.map.component.ScaleBar(), // Positioning   new nokia.maps.positioning.component.Positioning(), // ContextMenu               new nokia.maps.map.component.ContextMenu() ] });</code> <br> <br> ,       .        , , , ,    .   ,     .          Wi-Fi,       ‚Äî  GPS     .        : <br> <code class="javascript">if (nokia.maps.positioning.Manager) { var positioning = new nokia.maps.positioning.Manager(); positioning.getCurrentPosition( function (position) { window.coords = position.coords, //     marker = new nokia.maps.map.StandardMarker(coords), //        //  ,     accuracyCircle = new nokia.maps.map.Circle(coords, coords.accuracy); //             map.objects.addAll([accuracyCircle, marker]); //     ,        map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }, //  -          GPS function (error) { var errorMsg = "  : "; //       if (error.code == 1) errorMsg += " "; else if (error.code == 2) errorMsg += "  "; else if (error.code == 3) errorMsg += ""; else errorMsg += " "; //     alert(errorMsg); } ); }</code> <br> <br>       ,     Nokia  : <br> <code class="javascript">//       Nokia  ( 10, ) var nokia_marker = new nokia.maps.map.Marker( new nokia.maps.geo.Coordinate(55.753105, 37.605858),{ title: "Nokia office", visibility: true, icon: "http://habrastorage.org/storage2/772/09f/d91/77209fd919c23f77c10ff6451f1746d0.png", //           (  48  48 ) anchor: new nokia.maps.util.Point(24, 24) }); //      map.objects.add(nokia_marker);</code> <br> <br>    ,        .         Nokia  ,      : <br> <code class="javascript">var onRouteCalculated = function (observedRouter, key, value) { if (value == "finished") { var routes = observedRouter.getRoutes(); //        var mapRoute = new nokia.maps.routing.component.RouteResultSet(routes[0]).container; map.objects.add(mapRoute); //       map.zoomTo(mapRoute.getBoundingBox(), false, "default"); } else if (value == "failed") { alert("The routing request failed."); } }; //      'state'  ,  onRouteCalculated  ,      router.addObserver("state", onRouteCalculated); //        var waypoints = new nokia.maps.routing.WaypointParameterList(); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.753105, 37.605858)); waypoints.addCoordinate(new nokia.maps.geo.Coordinate(55.752316, 37.614188)); /*      ,   transportModes,     RoutingOptions  trafficMode  /         http://api.maps.nokia.com/en/apireference/2.2.1/symbols/nokia.maps.routing.Mode.html */ var modes = [{ type: "shortest", transportModes: ["car"], options: "avoidTollroad", trafficMode: "default" }];</code> <br>    ,       .      <code>router.calculateRoute(waypoints, modes);</code> ,         . <br> <br> <img src="https://habrastorage.org/storage2/0e6/66b/fc4/0e666bfc46e52ae2cc17a7a6c98a11ff.png"> <br> <br>                 Nokia:     ,      , ,     . <br> <br>       : <br> <code class="html"> &lt;div id="helperContainer"&gt; &lt;ul&gt; &lt;li&gt;&lt;a id="u_r_here" href="#"&gt;  &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="nokia_office" href="#"&gt;   Nokia &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a id="kremlin" href="#"&gt;   Nokia  &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code> <br> <br>      <code class="css">   ,      : <br> #helperContainer {z-index:100;display: inline-block;position: absolute;width: auto;height: auto;border-radius: 5px;background-color: rgba(0,0,0,0.8);top:8px;left: 40px;} ul {list-style-type: none;} li {display:inline-block; padding:3 5px;} li a {color:#fff;text-decoration: none;font: 12px/12px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;}</code> <br> <br>  :         : <br> <code class="javascript">//    $('#u_r_here').bind('click', function(e){ e.preventDefault() //       map.set("center", coords); map.zoomTo(accuracyCircle.getBoundingBox(), false, "default"); }); $('#nokia_office').bind('click', function(e){ e.preventDefault() //      Nokia    map.set("center", [55.753105, 37.605858]); map.set("zoomLevel", 16); }); $('#kremlin').bind('click', function(e){ e.preventDefault() //     Nokia  .  ‚Äî   %) router.calculateRoute(waypoints, modes); });</code> <br> <br>  ,  ,   <a href="http://howdy.es/mapsdemo.html"></a> ,      <a href="https://gist.github.com/3246383/">github:gist</a> . <br> <br> Nokia Maps JS API     ,    ,   .         <a href="http://api.maps.nokia.com/en/playground/env/desktop/"> </a>  <a href="http://api.maps.nokia.com/">  </a> .        API  <a href="http://api.maps.nokia.com/en/overview.html">JavaScript</a> ,   <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Qt</a>  <a href="http://www.developer.nokia.com/Develop/Maps/Maps_API_for_Qt.xhtml">Java ME</a> . <br> <br>      RESTful-  <a href="http://api.maps.nokia.com/en/restmaps/overview.html">Nokia Maps</a>  <a href="http://api.maps.nokia.com/en/restplaces/overview.html">Nokia Places</a>        Points of Interests ( ).</code></code> </div><p>Source: <a href="https://habr.com/ru/post/148926/">https://habr.com/ru/post/148926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148918/index.html">Nokia is going to sell off Qt assets</a></li>
<li><a href="../148920/index.html">Meet the free and free font "Oranienbaum"</a></li>
<li><a href="../148922/index.html">Objective-C Runtime from the inside</a></li>
<li><a href="../148924/index.html">LTE in the regions or we are also not lucky</a></li>
<li><a href="../148925/index.html">Results and statistics of the first Habrakamp</a></li>
<li><a href="../148927/index.html">Visual Studio 2012 will be available on September 12</a></li>
<li><a href="../148928/index.html">Creating and registering the Metro style component for WinRT</a></li>
<li><a href="../148929/index.html">Yandex.Money from Europe with a low commission</a></li>
<li><a href="../148930/index.html">Simple things. Settings file and a small utility trailer</a></li>
<li><a href="../148933/index.html">Fast zombies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>