<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a simple program with RMI and parallel access to a GUI in Java</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I had to go deep into the use of RMI, I realized how important the ability to correctly implement parallelism in the program's graphical interfac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a simple program with RMI and parallel access to a GUI in Java</h1><div class="post__text post__text-html js-mediator-article">  When I had to go deep into the use of RMI, I realized how important the ability to correctly implement parallelism in the program's graphical interface itself.  To my surprise on the Internet there was not enough material on this topic and especially qualitative examples, although the topic is of course very important for any programmer.  That is why I decided to share my experience. <br><br>  Briefly about RMI: a program interface for calling remote methods in the Java language ( <a href="https://ru.wikipedia.org/wiki/RMI">source</a> ).  Using it, you can, for example, manage data on a server program from one or more computers.  More can be <a href="http://habrahabr.ru/post/74639/">read</a> on Habr√©.  We will proceed from the fact that you are already familiar with its basics.  You must also have an idea of ‚Äã‚Äãthe innovations in Java 8, namely, you will need lambda expressions.  There is a good explanation <a href="https://www.youtube.com/watch%3Fv%3DRd-sqHjmfB0">here</a> . <br><a name="habracut"></a><br>  The possibilities of using RMI are very diverse.  Using it, you can make, for example, a chat or a Java voting program.  In my example, there will be a simple counter with a graphical shell that looks like this: <br><br><img src="https://habrastorage.org/files/e91/9fb/15a/e919fb15aa1b495aa6f5b790c81cb711.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  JLable with current counter value </li><li>  JButton "Plus" raises the value of the counter by one </li><li>  JButton "Reset" resets the counter value to one </li></ul><br><br>  However, before moving on to the GUI, let's create the RMI object itself, the counter and the RMI server on which it will be stored. <br><br>  <b>Counter - Interface "Counter":</b> <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.rmi.Remote; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.rmi.RemoteException; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Remote</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String NAME = <span class="hljs-string"><span class="hljs-string">"Counter"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; }</code> </pre> <br><br>  <b>The initialization counter "CounterClass":</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.rmi.RemoteException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.rmi.server.UnicastRemoteObject; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CounterClass</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UnicastRemoteObject</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> serialVersionUID = <span class="hljs-number"><span class="hljs-number">1L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> counter; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CounterClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">synchronized</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">synchronized</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter; } }</code> </pre><br><br>  <b>Server for RMI counter "Counter_Server":</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.rmi.AlreadyBoundException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.rmi.registry.LocateRegistry; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.rmi.registry.Registry; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter_Server</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException, AlreadyBoundException </span></span>{ CounterClass counter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CounterClass(); Registry localReg = LocateRegistry.createRegistry(Registry.REGISTRY_PORT); localReg.bind(Counter.NAME, counter); System.out.println(<span class="hljs-string"><span class="hljs-string">"Counter-Server runs"</span></span>); } }</code> </pre><br><br>  Since I assume that RMI is already familiar to you, I will not explain these classes in lines.  Brief explanation: the reset method equals the counter variable with a value of 0 and returns it back, the increment method increases the value of the counter variable by 1 and returns it back.  In the server we create our own register with the CounterClass skeleton.  After that, the server can already be started. <br><br>  <b>Finally, go to the chart.</b>  <b>Let's create the class Counter_Client_GUI, which creates the frame with the GUI and simultaneously takes the stub for the remote control of the counter from the previously created register via the main method:</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Counter.Counter; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter_Client_GUI</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFrame</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> serialVersionUID = <span class="hljs-number"><span class="hljs-number">1L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> Counter counter; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> JLabel counterLabel; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter_Client_GUI</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Counter counter)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter = counter; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counterLabel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JLabel(<span class="hljs-string"><span class="hljs-string">"0"</span></span>, SwingConstants.CENTER); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> JButton incrementButton = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JButton(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> JButton resetButton = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JButton(<span class="hljs-string"><span class="hljs-string">""</span></span>); incrementButton.addActionListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::incrementClicked); resetButton.addActionListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::resetClicked); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setLayout(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GridLayout(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counterLabel); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(incrementButton); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(resetButton); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setSize(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setVisible(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException, NotBoundException </span></span>{ Registry reg = LocateRegistry.getRegistry(<span class="hljs-string"><span class="hljs-string">"localhost"</span></span>); Counter counter = (Counter) reg.lookup(Counter.NAME); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Counter_Client_GUI(counter); }</code> </pre><br><br>  <u>There are already some lines to explain here:</u> <br><ul><li>  incrementButton.addActionListener (this :: incrementClicked) is a lambda expression, the body of the Listener is described in the incrementClicked method in the same class; </li><li>  resetButton.addActionListener (this :: resetClicked) is a lambda expression, the body of the Listener is described in the resetClicked method in the same class; </li><li>  Registry reg = LocateRegistry.getRegistry ("localhost") - in this example, both the server and the client are on the same computer, therefore, instead of a register link, we specify "localhost". </li></ul><br><br>  Before the next step, it is necessary to understand why a parallel approach is needed in this case.  If we implement JLable updates in the most usual way, for example: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counterLabel.setText(String.valueOf(novoeZnacheniePeremennoiCounter));</code> </pre><br><br>  It is very likely that this will lead <u>to a permanent freezing of the frame</u> and at the same time it will not be possible to press any button for a long time, although the clicks are recorded and, when the frame is thawed, one by one they will be executed, which will lead to chaos.  This is due to the fact that in this case all actions with the graphical shell will take on only one single Thread - <i>EventDispatchThread</i> .  And do not forget that, in this example, the client and the server are on the same computer, the counter is still managed <i>remotely</i> , so there may be a failure in the RMI register or a delay in the delivery of the command to the server (besides this is just an example, but in real the client and server programs are of course not located on localhost). <br><br>  Now we proceed to the most important part - we describe the <i>incrementClicked</i> and <i>resetClicked methods</i> , while introducing the necessary <i>parallelism</i> : <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incrementClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ActionEvent ev)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::incrementOnGUI).start(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resetClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ActionEvent ev)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::resetOnGUI).start(); }</code> </pre><br><br>  <u>Explanation: for each button click we create a new Thread and start it.</u> <br><br>  <b>Inside each thread will be this:</b> <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incrementOnGUI</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> doAndGetIncrement= <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter.increment(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String newLabelText = String.valueOf(doAndGetIncrement); EventQueue.invokeLater(() -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counterLabel.setText(newLabelText)); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> RemoteException re) { <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String message = <span class="hljs-string"><span class="hljs-string">"Fehler: "</span></span> + re.getMessage(); EventQueue.invokeLater(() -&gt; JOptionPane.showMessageDialog(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, message)); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resetOnGUI</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> doAndGetReset= <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter.reset(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String newLabelText = String.valueOf(doAndGetReset); EventQueue.invokeLater(() -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counterLabel.setText(newLabelText)); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> RemoteException re) { <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String message = <span class="hljs-string"><span class="hljs-string">"Fehler: "</span></span> + re.getMessage(); EventQueue.invokeLater(() -&gt; JOptionPane.showMessageDialog(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, message)); } }</code> </pre><br><br>  <i><b>EventQueue.invokeLater (...)</b> is the key point of the program.</i>  <i>EventQueue from English "event queue" is a function that (contained in Java) sends the job of the current Thread to the queue to be executed in the main Thread.</i>  <i>In our case, the task is to update the counter <code>this.counterLabel.setText(newLabelText)</code> or to display the error message <code>JOptionPane.showMessageDialog(this, message)</code> .</i>  <i>This is necessary in order to avoid confusion among the work of many created Threads.</i>  <i>For example, the method will count the number of rows in one Thread in the table, and the other Thread will delete rows.</i>  <i>Most likely the resulting number will be wrong.</i>  <i>Eventually, EventQueue contains a list of tasks that are executed in turn or by accessibility, without interfering with any other work with the graphical interface.</i> <br><br>  It is worth noting that in the body of EventQueue.invokeLater (...) there is also a lambda expression.  In this program, they are used for a better and more understandable appearance of the code. <br><br>  That's all.  Now parallel work with the graphical shell of the program is provided in any case, even when working with RMI. <br><br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/236569/">https://habr.com/ru/post/236569/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../236559/index.html">Automate the creation and editing of used source lists with Mendeley</a></li>
<li><a href="../236561/index.html">Automated testing is easy! How I tested Pechkina</a></li>
<li><a href="../236563/index.html">Legitimate backdoor in distributing corporate Windows Store apps</a></li>
<li><a href="../236565/index.html">Survey: do you work better than your average colleague?</a></li>
<li><a href="../236567/index.html">How to easily make Navigation Drawer and tabs used in popular applications from Google</a></li>
<li><a href="../236573/index.html">Laziness - the engine of progress or my option to create an environment for web development based on VirtualBox</a></li>
<li><a href="../236575/index.html">Azure Business Talks technology talk show - not only about Azure, but also about clouds in general</a></li>
<li><a href="../236577/index.html">Social engineering and trust as a human factor</a></li>
<li><a href="../236579/index.html">Yandex has established a scholarship named after Ilya Segalovich</a></li>
<li><a href="../236581/index.html">Data Mining Hub, through the eyes of scientists</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>