<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pure javascript. Functions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the book by Ryan McDermott clean-code-javascript 

 Table of contents: 


- Introduction 
- Variables 
- Functions 
- Classes 
- Object...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pure javascript. Functions</h1><div class="post__text post__text-html js-mediator-article">  Translation of the book by Ryan McDermott <a href="https://github.com/ryanmcdermott/clean-code-javascript">clean-code-javascript</a> <br><br><h3>  Table of contents: </h3><br><ul><li>  <a href="https://habrahabr.ru/post/319472/">Introduction</a> </li><li>  <a href="https://habrahabr.ru/post/319476/">Variables</a> </li><li>  Functions </li><li>  <a href="https://habrahabr.ru/post/319804/">Classes</a> </li><li>  <a href="https://habrahabr.ru/post/319894/">Objects and data structures.</a>  <a href="https://habrahabr.ru/post/319894/">Asynchrony.</a>  <a href="https://habrahabr.ru/post/319894/">Error processing.</a> </li><li>  <a href="https://habrahabr.ru/post/320084/">Testing.</a>  <a href="https://habrahabr.ru/post/320084/">Formatting</a>  <a href="https://habrahabr.ru/post/320084/">Comments</a> </li></ul><br><img src="https://habrastorage.org/getpro/habr/conversation/0f0/b5f/8f6/0f0b5f8f6a0ee319885ca448d6582706.png"><br><a name="habracut"></a><br><h4>  Function Arguments (ideally 2 or less) </h4><br>  Limiting the number of parameters of a function is incredibly important because it simplifies the testing of a function.  The presence of more than three arguments leads to a combinatorial explosion, when you have to go through a lot of different cases with each separate argument. <br><br>  The ideal situation is the absence of arguments.  One or two arguments are good, but three should be avoided. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      More arguments need to be consolidated.  As a rule, if more than two arguments are passed, your function tries to do too much.  In cases where this is not the case, it is better to use an object as an argument.  Since JavaScript allows you to create objects on the fly, without a special description of classes, they can be used when you need to pass a lot of arguments. <br><br>  Poorly: <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">title, body, buttonText, cancellable</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> menuConfig = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Foo'</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-string"><span class="hljs-string">'Bar'</span></span>, <span class="hljs-attr"><span class="hljs-attr">buttonText</span></span>: <span class="hljs-string"><span class="hljs-string">'Baz'</span></span>, <span class="hljs-attr"><span class="hljs-attr">cancellable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">config</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } createMenu(menuConfig);</span></span></code> </pre><br><h4>  The function should solve one problem. </h4><br>  This is by far the most important rule in software development.  When functions solve more than one task, they are harder to combine, test and understand.  As soon as you can reduce each function to performing only one action, it will become much easier to refactor them, and your code will become much more readable.  Even if this rule is the only one that you‚Äôve made from this tutorial, you will still be cooler than many developers. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">emailClients</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">clients</span></span></span><span class="hljs-function">) </span></span>{ clients.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">client</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clientRecord = database.lookup(client); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (clientRecord.isActive()) { email(client); } }); }</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">emailClients</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">clients</span></span></span><span class="hljs-function">) </span></span>{ clients .filter(isClientActive) .forEach(email); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isClientActive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">client</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clientRecord = database.lookup(client); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> clientRecord.isActive(); }</code> </pre><br><h4>  Function names should describe their purpose. </h4><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addToDate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">date, month</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } const date = new Date(); //     ,    addToDate(date, 1);</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addMonthToDate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">month, date</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } const date = new Date(); addMonthToDate(1, date);</span></span></code> </pre><br><h4>  Functions must represent only one level of abstraction. </h4><br>  If more than one level of abstraction is represented in a function, then, as a rule, it does too much.  Separating such functions will result in reusability and ease of testing. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseBetterJSAlternative</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">code</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> REGEXES = [ <span class="hljs-comment"><span class="hljs-comment">// ... ]; const statements = code.split(' '); const tokens = []; REGEXES.forEach((REGEX) =&gt; { statements.forEach((statement) =&gt; { // ... }); }); const ast = []; tokens.forEach((token) =&gt; { // ... }); ast.forEach((node) =&gt; { // ... }); }</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tokenize</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">code</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> REGEXES = [ <span class="hljs-comment"><span class="hljs-comment">// ... ]; const statements = code.split(' '); const tokens = []; REGEXES.forEach((REGEX) =&gt; { statements.forEach((statement) =&gt; { tokens.push( /* ... */ ); }); }); return tokens; } function lexer(tokens) { const ast = []; tokens.forEach((token) =&gt; { ast.push( /* ... */ ); }); return ast; } function parseBetterJSAlternative(code) { const tokens = tokenize(code); const ast = lexer(tokens); ast.forEach((node) =&gt; { // ... }); }</span></span></code> </pre><br><h4>  Get rid of duplicate code </h4><br>  Try hard to avoid duplicate code.  Duplicate code is harmful because it implies the presence of more than one place where you have to make edits if the logic of the actions changes. <br><br>  Imagine running a restaurant and keeping records of all products ‚Äî tomatoes, onions, garlic, spices, etc.  If their records are kept in different lists, then the supply of any dish with tomatoes will require changes in each list.  If there is only one list, then there will be only one edit! <br><br>  Often, duplicate code occurs in cases where you need to implement two or more slightly different actions that are generally very similar, but their differences force you to have two or more functions that do almost the same thing.  In this case, getting rid of duplicate code will mean creating an abstraction that can represent all the differences in the form of a single function, class or module. <br><br>  Creating the right abstraction is a matter of incredible importance, and that is why you must follow the principles of SOLID.  Bad abstractions can be worse than duplicate code, so be careful! <br><br>  To summarize: if you can wrap a code with a good abstraction, do so!  Do not duplicate the code, otherwise you will have to make many edits to every small change. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showDeveloperList</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">developers</span></span></span><span class="hljs-function">) </span></span>{ developers.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">developer</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> expectedSalary = developer.calculateExpectedSalary(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> experience = developer.getExperience(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> githubLink = developer.getGithubLink(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = { expectedSalary, experience, githubLink }; render(data); }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showManagerList</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">managers</span></span></span><span class="hljs-function">) </span></span>{ managers.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">manager</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> expectedSalary = manager.calculateExpectedSalary(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> experience = manager.getExperience(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> portfolio = manager.getMBAProjects(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = { expectedSalary, experience, portfolio }; render(data); }); }</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showList</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">employees</span></span></span><span class="hljs-function">) </span></span>{ employees.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">employee</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> expectedSalary = employee.calculateExpectedSalary(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> experience = employee.getExperience(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> portfolio = employee.getGithubLink(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (employee.type === <span class="hljs-string"><span class="hljs-string">'manager'</span></span>) { portfolio = employee.getMBAProjects(); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = { expectedSalary, experience, portfolio }; render(data); }); }</code> </pre><br><h4>  Set default objects with Object.assign </h4><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> menuConfig = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-string"><span class="hljs-string">'Bar'</span></span>, <span class="hljs-attr"><span class="hljs-attr">buttonText</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">cancellable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">config</span></span></span><span class="hljs-function">) </span></span>{ config.title = config.title || <span class="hljs-string"><span class="hljs-string">'Foo'</span></span>; config.body = config.body || <span class="hljs-string"><span class="hljs-string">'Bar'</span></span>; config.buttonText = config.buttonText || <span class="hljs-string"><span class="hljs-string">'Baz'</span></span>; config.cancellable = config.cancellable === <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> ? config.cancellable : <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } createMenu(menuConfig);</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> menuConfig = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Order'</span></span>, <span class="hljs-comment"><span class="hljs-comment">//     'body' buttonText: 'Send', cancellable: true }; function createMenu(config) { config = Object.assign({ title: 'Foo', body: 'Bar', buttonText: 'Baz', cancellable: true }, config); //  config = {title: "Order", body: "Bar", buttonText: "Send", cancellable: true} // ... } createMenu(menuConfig);</span></span></code> </pre><br><h4>  Do not use flags as function parameters. </h4><br>  Flags tell the user that the function performs more than one action.  The function should solve one problem.  Separate functions if they execute different code variants based on a logical value. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, temp</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (temp) { fs.create(<span class="hljs-string"><span class="hljs-string">`./temp/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">`</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { fs.create(name); } }</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) </span></span>{ fs.create(name); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createTempFile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) </span></span>{ createFile(<span class="hljs-string"><span class="hljs-string">`./temp/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">`</span></span>); }</code> </pre><br><h4>  Avoid side effects (Part 1) </h4><br>  The function produces a side effect if it performs any action besides getting the value and returning another value or values.  A side effect may be writing to a file, changing some global variables, or randomly transferring all your money to unknown persons. <br><br>  However, side effects in the program are necessary.  Suppose, as in the previous example, you need to write to the file.  Describe what you want to do, strictly in one place. <br><br>  Do not create multiple functions and classes that write something to a specific file.  Create one service that does all this.  One and only one. <br><br>  The point is to avoid common errors, such as, for example, the transfer of state between objects without any structure, using variable data that anyone can overwrite, bypassing the centralized location of side effects. <br><br>  If you learn to do this, you will become happier than the vast majority of other programmers. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,     . //        ,      name   , //   ,     let name = 'Ryan McDermott'; function splitIntoFirstAndLastName() { name = name.split(' '); } splitIntoFirstAndLastName(); console.log(name); // ['Ryan', 'McDermott'];</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">splitIntoFirstAndLastName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name.split(<span class="hljs-string"><span class="hljs-string">' '</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = <span class="hljs-string"><span class="hljs-string">'Ryan McDermott'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newName = splitIntoFirstAndLastName(name); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(name); <span class="hljs-comment"><span class="hljs-comment">// 'Ryan McDermott'; console.log(newName); // ['Ryan', 'McDermott'];</span></span></code> </pre><br><br>  Avoid Side Effects (Part 2) <br>  In JavaScript, primitives are passed by value, and objects and arrays are passed by <br>  link.  In the case of objects and arrays, if our function makes changes <br>  to the cart (array), for example, by adding an item to the array, <br>  then any other function that uses this basket (array) will depend on it <br>  additions  This can be both good and bad in different cases.  Let's imagine a bad situation: <br><br>  The user clicks on the ‚ÄúPurchase‚Äù button, which calls the `purchase` function, which sends data from the recycle bin (array) to the server.  In case of a bad connection to the network, the purchase` function must send a second request.  Now, what if at the same time the user accidentally presses the ‚ÄúAdd to cart‚Äù button, but does not want to buy the product yet? <br>  If this happens, and the network request begins, then the `purchase` function <br>  will send a randomly added item, since it has a link to the previous cart (array), modified by the `addItemToCart` function.  A great solution would be for `addItemToCart` to always clone the cart, edit and return the clone.  This ensures that no other functions that depend on the cart will be affected by any changes. <br><br>  Two warnings about this approach: <br><ol><li>  There are cases when you actually want to change an object by reference, but such cases are extremely rare.  Most functions can be declared without side effects! </li><li>  Cloning large objects can be very stressful and affect performance.  Fortunately, this is not a big problem in practice, because there are <a href="https://facebook.github.io/immutable-js/">excellent libraries</a> that allow you to clone objects with a smaller memory load, unlike manual cloning. </li></ol><br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addItemToCart = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cart, item</span></span></span><span class="hljs-function">) =&gt;</span></span> { cart.push({ item, <span class="hljs-attr"><span class="hljs-attr">date</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() }); };</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addItemToCart = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cart, item</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [...cart, { item, <span class="hljs-attr"><span class="hljs-attr">date</span></span> : <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() }]; };</code> </pre><br><br><h4>  Do not override global functions. </h4><br>  Contamination of global variables is a bad practice in JavaScript, as it can cause conflicts with another library, and the user of your API will not see errors until it gets an exception in production.  Let's look at an example: what to do if you want to extend the standard Array functionality from JavaScript by adding the diff method that calculates the difference between two arrays?  You would have to write a new function to Array.prototype, but then it may come into conflict with another library that tried to do the same.  And if another library used the diff method to find the difference between the first and last elements of the array?  That is why it is much better to use the ES2015 / ES6 classes and simply inherit our implementation from the Array class. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.prototype.diff = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">diff</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">comparisonArray</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hash = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>(comparisonArray); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elem</span></span></span><span class="hljs-function"> =&gt;</span></span> !hash.has(elem)); };</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SuperArray</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Array</span></span></span><span class="hljs-class"> </span></span>{ diff(comparisonArray) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hash = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>(comparisonArray); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elem</span></span></span><span class="hljs-function"> =&gt;</span></span> !hash.has(elem)); } }</code> </pre><br><h4>  Prefer functional programming over imperative </h4><br>  JavaScript is not as functional as Haskell, but it is not without a certain amount of functionality.  Functional languages ‚Äã‚Äãare cleaner and easier to test.  Use a functional programming style when possible. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> programmerOutput = [ { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Uncle Bobby'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">500</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Suzie Q'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">1500</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Jimmy Gosling'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">150</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Gracie Hopper'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">1000</span></span> } ]; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> totalOutput = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; programmerOutput.length; i++) { totalOutput += programmerOutput[i].linesOfCode; }</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> programmerOutput = [ { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Uncle Bobby'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">500</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Suzie Q'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">1500</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Jimmy Gosling'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">150</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Gracie Hopper'</span></span>, <span class="hljs-attr"><span class="hljs-attr">linesOfCode</span></span>: <span class="hljs-number"><span class="hljs-number">1000</span></span> } ]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> totalOutput = programmerOutput .map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">programmer</span></span></span><span class="hljs-function">) =&gt;</span></span> programmer.linesOfCode) .reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">acc, linesOfCode</span></span></span><span class="hljs-function">) =&gt;</span></span> acc + linesOfCode, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><br><h4>  Encapsulate conditions </h4><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fsm.state === <span class="hljs-string"><span class="hljs-string">'fetching'</span></span> &amp;&amp; isEmpty(listNode)) { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shouldShowSpinner</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fsm, listNode</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fsm.state === <span class="hljs-string"><span class="hljs-string">'fetching'</span></span> &amp;&amp; isEmpty(listNode); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (shouldShowSpinner(fsmInstance, listNodeInstance)) { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre><br><h4>  Avoid negative conditions </h4><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isDOMNodeNotPresent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } if (!isDOMNodeNotPresent(node)) { // ... }</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isDOMNodePresent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } if (isDOMNodePresent(node)) { // ... }</span></span></code> </pre><br><h4>  Avoid conditional constructions. </h4><br>  Such a task seems impossible.  Hearing this, most people say, "How should I do something without an if expression?"  The answer is that in many cases polymorphism can be used to achieve the same goals.  The second question, as a rule, is: ‚ÄúWell, wonderful, but why should I avoid them?‚Äù.  The answer is the previous concept of clean code that we learned: a function should perform only one task.  If you have classes and functions that contain an 'if' construct, you seem to be telling your user that your function performs more than one task.  Remember: one function - one task. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Airplane</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... getCruisingAltitude() { switch (this.type) { case '777': return this.getMaxAltitude() - this.getPassengerCount(); case 'Air Force One': return this.getMaxAltitude(); case 'Cessna': return this.getMaxAltitude() - this.getFuelExpenditure(); } } }</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Airplane</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } class Boeing777 extends Airplane { // ... getCruisingAltitude() { return this.getMaxAltitude() - this.getPassengerCount(); } } class AirForceOne extends Airplane { // ... getCruisingAltitude() { return this.getMaxAltitude(); } } class Cessna extends Airplane { // ... getCruisingAltitude() { return this.getMaxAltitude() - this.getFuelExpenditure(); } }</span></span></code> </pre><br><h4>  Avoid type checking (part 1) </h4><br>  JavaScript is an untyped language, which means that your functions can take arguments of any type.  Sometimes you were burned by this freedom, which prompted you to perform type checking on your functions.  There are many ways to avoid it.  The first thing to think about is a consistent API. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">travelToTexas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vehicle</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vehicle <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Bicycle) { vehicle.peddle(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentLocation, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Location(<span class="hljs-string"><span class="hljs-string">'texas'</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vehicle <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Car) { vehicle.drive(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentLocation, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Location(<span class="hljs-string"><span class="hljs-string">'texas'</span></span>)); } }</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">travelToTexas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vehicle</span></span></span><span class="hljs-function">) </span></span>{ vehicle.move(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentLocation, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Location(<span class="hljs-string"><span class="hljs-string">'texas'</span></span>)); }</code> </pre><br><h4>  Avoid type checking (part 2) </h4><br>  If you are working with basic primitives, such as strings, integers, and arrays, and cannot use polymorphism, although you still feel the need for type checks, you should consider using TypeScript.  This is a great alternative to regular JavaScript, providing the ability to static typing over standard JavaScript syntax.  The problem with manual type checking in regular JavaScript is that the security illusion it creates is not compensated for by the loss of readability due to code verbosity.  Keep your code clean, write good tests, and do effective code revisions.  Or do the same thing, but with TypeScript (which, as I said, is a great alternative!). <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val1, val2</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> val1 === <span class="hljs-string"><span class="hljs-string">'number'</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> val2 === <span class="hljs-string"><span class="hljs-string">'number'</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> val1 === <span class="hljs-string"><span class="hljs-string">'string'</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> val2 === <span class="hljs-string"><span class="hljs-string">'string'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val1 + val2; } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'Must be of type String or Number'</span></span>); }</code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val1, val2</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val1 + val2; }</code> </pre><br><h4>  Do not optimize beyond measure </h4><br>  Modern browsers make many optimizations under the hood during code execution.  By optimizing the code manually, you often just waste your time.  <a href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers">There are excellent resources</a> describing situations where optimization is really lame.  Look at them in your free time until these problems are corrected, if at all, of course. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//        `list.length`   // -  `list.length`.     . for (let i = 0, len = list.length; i &lt; len; i++) { // ... }</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; list.length; i++) { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre><br><h4>  Delete dead code </h4><br>  Dead code is as bad as duplicate code.  There is no reason to keep it in the repository.  If the code is not called, get rid of it! <br><br>  It will still be in the version control system, if ever you need it. <br><br>  Poorly: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">oldRequestModule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } function newRequestModule(url) { // ... } const req = newRequestModule; inventoryTracker('apples', req, 'www.inventory-awesome.io');</span></span></code> </pre><br>  Good: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newRequestModule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } const req = newRequestModule; inventoryTracker('apples', req, 'www.inventory-awesome.io');</span></span></code> </pre></div><p>Source: <a href="https://habr.com/ru/post/319480/">https://habr.com/ru/post/319480/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319470/index.html">Google launches Key Transparency, a tool for verifying crypto keys</a></li>
<li><a href="../319472/index.html">Pure javascript. Introduction</a></li>
<li><a href="../319474/index.html">C ++ 17 auto output changes during curly initialization</a></li>
<li><a href="../319476/index.html">Pure javascript. Variables</a></li>
<li><a href="../319478/index.html">No, being a game designer is no easier than a producer.</a></li>
<li><a href="../319482/index.html">ASP.NET Core: Creating Server Services for Mobile Applications</a></li>
<li><a href="../319484/index.html">DOCSIS 3.1 - How to achieve maximum throughput</a></li>
<li><a href="../319486/index.html">Subscription form: how to effectively collect the address database</a></li>
<li><a href="../319490/index.html">Dijkstra's algorithm and development through testing</a></li>
<li><a href="../319492/index.html">A simple and terrifying story about encryption</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>