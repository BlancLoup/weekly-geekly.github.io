<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why I comment on Ruby / Rails application code again</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, I am a Ruby / Rails software developer and I am commenting on my (and more recently someone else's) code. A voice from the audience would proba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why I comment on Ruby / Rails application code again</h1><div class="post__text post__text-html js-mediator-article">  Hello, I am a Ruby / Rails software developer and I am commenting on my (and more recently someone else's) code.  A voice from the audience would probably shout out "Hello, developer!" <br><br>  Many years ago, it seemed obvious to me the well-established opinion of professionals and development gurus, which usually expresses something like this: ‚ÄúIf the code requires a comment, this is bad code, it needs to be rewritten / refactored / simplified / reduced‚Äù.  Those.  bring it to the form, comments and explanations are not required.  In general, this approach is quite versatile and works in many cases.  Many of my familiar web developers never comment on their code and consider this to be quite normal even if they work in a team.  This is probably due to the myth of the simplicity of Ruby, such simplicity that makes the code understandable even to an outsider.  However, my personal experience and some episodes of team development of web applications convinced me that there are situations and reasons for devoting more time and attention to comments and documenting code than the developer usually devotes. <br><a name="habracut"></a><br>  Immediately I‚Äôll warn you that there are probably many articles and posts on the Internet that present some point of view on the art of writing code, on the rules and recommendations for each specific programming language.  Of course, I cannot know all of them, so there will be no excursion into the history of the issue.  There will be only my personal story about my personal experience. <br><br>  The main thesis of my short story will be: "Only the author can judge the complexity of the code." 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, first of all, you need to clarify when exactly the rule ‚ÄúInstead of commenting, change the code so that commenting becomes redundant‚Äù will work.  It works only in a few cases: <br><ul><li>  When code is written unqualified: too long (perhaps the developer doesn‚Äôt know the standard library badly and wrote a lot of extra code himself) or too difficult (perl-style, single-line chains of functions longer than 5 functions in a row) </li><li>  When code includes methods that are rarely used or uncharacteristic for a given YP </li></ul><br>  And that's it!  In these cases, indeed, it is better to alter such code.  To remake, make sure that the code has become shorter, clearer, more understandable for colleagues and ... finally write comments!  And now I have reached the place where I will explain my ideas. <br><br>  Explanation for Idea No. 1: ‚ÄúOnly the author can adequately judge the complexity of the code‚Äù. <br><br>  Imagine a team of programmers, consisting, for example, of 5 people.  A manager and a couple of designers work with them.  The team of programmers consists of one professional and 4 ordinary level programmers.  Nobody comments on the code.  Perhaps there is someone written a brief instruction on the deployment of the project.  Documentation team does not lead, because  the customer changes decisions and priorities and does not really want to pay for the time spent on drawing up documentation in the development process.  Approximately in this way many mid-level web development studios work. <br><br>  What will happen if one or two programmers leave the team, to another project, to another studio, or just to leave?  Probably, in their place will be taken one and two other developers, who will be given code, will give tasks and ... and that's it.  Previously, the HR manager will ask them if they know how to ‚Äúunderstand someone else‚Äôs code‚Äù and ‚Äúwork in a team‚Äù, and they, of course, will answer that they can.  And the new arrivals will be face to face with the code and colleagues, who may be happy to answer the questions ‚Äúwhy is it like this ...‚Äù or ‚Äúwhy is it there ...‚Äù, but it distracts from work.  Therefore, the developer is forced to "break with the project."  The amount of working time spent on ‚Äúexecuting‚Äù another's code with the brain in order to pass through it and understand what it is doing is terrifying.  Let me explain by example. <br><br>  Imagine a function like this: <br><br><pre> def update
    list = current_user.lists.update (params [: id], params [: list])
 end
</pre><br><br>  From the point of view of the rule about the simplicity of the code, here is just paradise.  There is nothing to comment on, one line, absolutely no difficulties.  However, let us imagine that params is not formed by a simple form on the page, but using Javascript code in Backbone.js, that lists are not lists, but the name and model that remains from the last command is now called Things everywhere that the before_save of this model contains a function that takes some fields and creates a pending task that parses, according to the data of these fields, some URLs (possibly, without HTTP error-control error), in order to save the received answers in another table.  And sometimes it causes an exception and sends messages about them ... somewhere ... to the error collection site, where the programmer will be given access as soon as he reminds himself.  But a completely different controller (API, for example) will give the values ‚Äã‚Äãof these fields to Backbone's View with ajax.  By the way, you can still clarify that this function should render the template, first passing it through the RABL parser, forming JSON there, completely different from the original contents of the list, which is Things.  Well, for the complete set, we‚Äôll specify that it should work on hosting with any restrictions, for example, without access to cron.  And as a DBMS, NoSQL is used. <br><br>  The example given is not a fiction, not a special complication.  In real projects, there are more steps in performing some function of the application.  But always only the author of the code can know whether its code is complex or not.  The problem is that a person who needs to implement new functionality in this application will inevitably have to use his brain instead of the interpreter to ‚Äúexecute‚Äù almost all of the existing code base.  Either he will do it BEFORE writing the code, which he spends the time that the manager will have to somehow justify in the reports, or he will do it in the process of writing the code, which is the worst option.  Why?  And because the results of such work will be extremely poor quality and the author who has returned from vacation will still redo everything.  And you pay a newbie for what he understood with the project, but in the end still did not bring any benefit. <br><br>  There is another common problem. <br><br>  In the N project, the M functionality is usually implemented using XYZ.  Without knowing the code completely or not reading the project documentation describing the structure and the XZY used, the developer cannot know whether X, Y or Z is already being used or not.  And if not, why not?  There is no programmer who can immediately start working and create a new project in an unfamiliar to him, this is the myth of the "coolness of the developer."  The best that this situation can lead to - the developer will do his task as best he can, give it to code review and get the code back with the comment ‚ÄúWhy did it, because we have to use [a list of some technologies]‚Äù or ‚Äú Why did you do this? After all, it was possible this way: [description of entities whose existence cannot be ascertained independently (for example, the presence of triggers or functions in the database on a production server] ‚Äù <br><br>  So what I propose is already long overdue to ask the reader.  First of all, do a few simple things with the code you are working on: <br><ul><li> Describe how this code works.  Be sure, though briefly, at the beginning of each file containing a class, describe what it implements.  Before class methods, briefly describe what the method receives and what it should create at the end of its work, briefly describe the chain along which the data will pass.  Also in the module files.  Comment on the automatically calculated values ‚Äã‚Äãand assignments of the fields created by the migrations.  In the case of a long chain of function calls (longer than three) - describe the chain, which causes that, at least just a sequence. </li><li>  Keep a TODO block in each file in the same place, even though immediately after the declaration of a class or module. </li><li>  Keep in each file the IN_WORK block (name it as you please), in which write about which places are currently undergoing alteration / refactoring / are outdated and instead you need to use BLABLA from the XYZ class. </li><li>  Be sure to describe all the facts, the presence of which can not be derived from the available documentation! </li></ul><br><br>  For the last point, I‚Äôll give an example: if your project is incompatible, for example, with MySQL, and the developer spent half a day trying to deploy the project on this DBMS, do not even think to tell him "We do not support MySQL!".  In response, you will hear at best, ‚ÄúWhy did I not know about it?‚Äù.  And if you say the phrase ‚ÄúWhy didn't you ask?‚Äù To this guy, you can be sure.  that in your project there are already big problems with documentation and this is already causing you damage.  After all, none of us knows the exact list of all that he does not know! <br><br>  Thank you for your attention and let your code be always clear, simple and documented. </div><p>Source: <a href="https://habr.com/ru/post/184420/">https://habr.com/ru/post/184420/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../184406/index.html">Overview of new features in Qt Quick</a></li>
<li><a href="../184410/index.html">Organization of a single folder for cloud services</a></li>
<li><a href="../184412/index.html">Running external processes in Scala</a></li>
<li><a href="../184414/index.html">Time management: experience using Excel spreadsheets</a></li>
<li><a href="../184416/index.html">Model-View in QML. Part One: Predefined Component Views</a></li>
<li><a href="../184422/index.html">Armikrog danger! Will the project on the kickstarter collect the required amount? Collected</a></li>
<li><a href="../184426/index.html">Playstation 4 will work on a modified version of FreeBSD 9.0</a></li>
<li><a href="../184428/index.html">EMET v4 Release</a></li>
<li><a href="../184430/index.html">Real sock_raw'thin</a></li>
<li><a href="../184432/index.html">Print history: matrix, inkjet, laser and LED technology (Part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>