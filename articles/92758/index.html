<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install Ubuntu 10.04 Lucid Lynx on iMac 21.5 "</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last weekend, I wanted to see the release of Ubuntu 10.04 with my own eyes. The first acquaintance decided to implement in a virtual machine. After wo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Install Ubuntu 10.04 Lucid Lynx on iMac 21.5 "</h1><div class="post__text post__text-html js-mediator-article"><img src="http://www.ubuntu.com/files/1004features/1004header.jpg" alt="Ubuntu 10.04"><br><br>  Last weekend, I wanted to see the release of <a href="http://www.ubuntu.com/">Ubuntu 10.04</a> with my own eyes.  The first acquaintance decided to implement in a virtual machine.  After working for an hour, it was understood that I like the system so much that I don‚Äôt want to go back to Mac OS X.  Thus was born the despicable idea to implement a full move from Mac OS X to Ubuntu.  On real hardware, everything was not as smooth as in a virtual machine.  In the topic I will try to collect together the scattered information about the iron settings and tell you what happened in the end. <br><a name="habracut"></a><br><h5>  Configuration </h5><img src="http://images.apple.com/imac/images/specs_config_21in20091020.jpg" alt="iMac 21.5"><br>  <b>Processor:</b> 3.06GHz Intel Core 2 Duo; <br>  <b>RAM:</b> 4GB, 1066MHz DDR3 SDRAM; <br>  <b>HDD:</b> 500GB Serial ATA4 7200 rpm; <br>  <b>Graphics:</b> NVIDIA GeForce 9400M with 256MB of DDR3 SDRAM shared with main memory. <br><br><h5>  Theory </h5><ol><li>  In Mac OS X, we install <a href="http://refit.sourceforge.net/">rEFIt</a> for easy switching of operating systems when the machine is booted, then we divide the HDD into partitions with the Boot Camp Assistant; </li><li>  We put Ubuntu; </li><li>  We are happy. </li></ol><br><h5>  Practice </h5><ol><li>  The first rake was waiting for us in Assistant Boot Camp Mac OS X, which refused to divide the disk into partitions.  I suspect that the reason was a large fragmentation, because  the disk at that time was 50% full, but in general, it was 90% full before that.  Yes, FileVault encrypted user folder. <br>  As a result, it was decided to make a new partitioning using Disk Utility, booting from Mac OS X Recovery DVD and allocate 447Gb for Ubuntu, leaving only 50Gb for Mac OS X. <br>  It is important to transfer all personal data to an external drive (for example, using Time Machine), since  on the original disk, <b>all data will be destroyed</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://db.tt/gp2t6q" alt="Disk utility"><br>  <i>Mac OS X Disk Utility with the following options: Mac OS X 50Gb partition, free space for installing Ubuntu 447Gb</i> <br><br></li><li>  Downloading from a LiveCD (holding down the ‚ÄúC‚Äù key) and installing Ubuntu were completed without any problems. <br>  The only thing you should pay attention to is installing the Grub bootloader.  You need to install it in the same section where Ubuntu is installed (in the screenshot below).  Otherwise, Mac OS X or Ubuntu may not boot afterwards (but this is not terrible, you can always boot using Mac OS X Recovery DVD or Ubuntu LiveCD and fix the bootloaders). <br><br><img src="http://db.tt/YyV6m6" alt="Install grub"><br>  <i>Step 7 (or 8) Ubuntu Installation Assistant.</i>  <i>You need to click "Advanced" and choose the same section for the bootloader as for "/"</i> <br><br></li><li>  We rejoice, but not for long.  Since they do not work: </li></ol><ul><li>  Reboot machine </li><li>  Sound </li><li>  Bluetooth </li></ul><br><h6>  Reboot machine </h6><br>  <b>Symptom:</b> on the reboot command (or when selecting the ‚ÄúReboot‚Äù option in the graphical environment), the machine freezes at the moment when the processes are complete and in theory it should go to a reboot.  At the same time, shutdown and sleep / standby modes are normally performed. <br>  The root of the problem is at the core.  The same problem occurs on unibody MacBooks. <br>  <b>Treatment:</b> in / etc / default / grub find the line <br>  <code>GRUB_CMDLINE_LINUX_DEFAULT="quit splash"</code> and add quotes inside <br>  <code>reboot=pci</code> , i.e.  we get <code>GRUB_CMDLINE_LINUX_DEFAULT="quit splash reboot=pci"</code> <br>  Next, run the <code>update-grub</code> command, which will make our changes to the bootloader itself. <br><br><h6>  Sound </h6><br>  <b>Symptom: there</b> is no sound, the microphone does not work either. <br>  <b>Treatment:</b> download the necessary drivers from the repository <br> <code>sudo apt-get update <br> sudo apt-get install linux-backports-modules-alsa-lucid-generic</code> <br>  then add the <code>options snd-hda-intel model=imac27 power_save=10 power_save_controller=N</code> to the end of the / <code>etc/modprobe.d/alsa-base.conf</code> file.  Next <code>sudo reboot</code> (good now works). <br>  After downloading, launch the alsamixer in the terminal and turn up the volume / turn on the channels (m) Front Speaker and Surround Speaker. <br>  You can adjust the microphone in the standard Gnome audio settings ‚Äî on the ‚ÄúInput‚Äù tab, select a microphone and raise the volume. <br><br><h6>  Bluetooth </h6><br>  <b>Symptom:</b> in the properties of Bluetooth says that the device is missing.  At the same time, the bluetooth keyboard and mouse continue to work.  The problem is that the BCM2046 Bluetooth module (0a5c: 4500) will impersonate the HID device.  In this case, the utility hid2hci is provided in bluez.  In Ubuntu 10.04 and bluez 4.60, hdev2hci is in charge of udev, in particular the /lib/udev/rules.d/70-hid2hci.rules script.  However, for some reason, it was not possible to force him to work out our BCM2046.  As a result, Magic Mouse does not have scrolling, and the keyboard does not work extra.  keys (Fn and others). <br>  Attempting to connect an external USB Bluetooth module also failed.  The keyboard and mouse after a reboot deadly cling to the native HID BCM2046, ignoring the external module. <br>  <b>Treatment:</b> not found. <br><br><h5>  Total </h5><br>  The overall impression of the speed of Ubuntu 10.04 on iMac is positive.  Subjectively, Ubuntu is easier, faster than Mac OS X. Of all the equipment, only bluetooth does not work. <br>  In addition to the above, from time to time, problems with the nvidia driver arose and disappeared by themselves, which were expressed in the fact that sometimes after a reboot, the X11 started in ‚ÄúSafe‚Äù mode.  The nvidia driver itself was proposed by the system and installed via Hardware Drivers. <br>  Alas, these little things (bluetooth in HID mode without scrolling the mouse and without additional keyboard keys, nvidia driver) quickly became annoying, and as a result returned to Mac OS X. <br><br>  PS I tried to install both amd64 and i386 assemblies - I did not notice the difference in operation (hardware, speed). <br><br>  References: <br>  <a href="https://bugs.launchpad.net/ubuntu/%2Bsource/bluez/%2Bbug/575366">bugs.launchpad.net/ubuntu/+source/bluez/+bug/575366</a> <br>  <a href="https://bugs.launchpad.net/ubuntu/%2Bsource/bluez/%2Bbug/548720">bugs.launchpad.net/ubuntu/+source/bluez/+bug/548720</a> <br>  <a href="http://ubuntuforums.org/showthread.php%3Ft%3D1395339">ubuntuforums.org/showthread.php?t=1395339</a> <br>  <a href="http://ubuntuforums.org/showthread.php%3Ft%3D1439009">ubuntuforums.org/showthread.php?t=1439009</a> <br>  <a href="https://help.ubuntu.com/community/HdaIntelSoundHowto">help.ubuntu.com/community/HdaIntelSoundHowto</a> <br>  <a href="http://ubuntuforums.org/showthread.php%3Ft%3D1386790">ubuntuforums.org/showthread.php?t=1386790</a> </div><p>Source: <a href="https://habr.com/ru/post/92758/">https://habr.com/ru/post/92758/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../9275/index.html">Microsoft was defeated near Moscow</a></li>
<li><a href="../92753/index.html">Boot from an OEM image of a netbook from under Win7</a></li>
<li><a href="../92754/index.html">LiveStreet 0.4 release</a></li>
<li><a href="../92755/index.html">Nikola Tesla described smartphones exactly 100 years ago</a></li>
<li><a href="../92756/index.html">Using apr_socket_sendfile () from servlets under Tomcat</a></li>
<li><a href="../92759/index.html">Rare breed hull</a></li>
<li><a href="../92760/index.html">Campaign against mobile phones launched in Tajikistan</a></li>
<li><a href="../92761/index.html">Double Star Database</a></li>
<li><a href="../92763/index.html">Terminator T-800 loves Windows 7, hates Apple</a></li>
<li><a href="../92764/index.html">Manage gestures and hands in augmented reality with the help of a highly sensitive video camera YDreams</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>