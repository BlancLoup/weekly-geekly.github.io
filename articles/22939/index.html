<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We program for PSP: Part I, compiler setup</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let's agree right away: I follow the pattern of ‚Äúlearning by learning‚Äù, i.e. I study, at the same time studying, overtaking readers by 2-3 "steps" ahe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We program for PSP: Part I, compiler setup</h1><div class="post__text post__text-html js-mediator-article">  Let's agree right away: I follow the pattern of ‚Äúlearning by learning‚Äù, i.e.  I study, at the same time studying, overtaking readers by 2-3 "steps" ahead.  However, this does not mean that I do not know anything and everything I say is ordinary copy-paste: I try to sort out the topic before writing about it.  Therefore, feel free to ask questions, with this you will benefit both yourself and me: for questions, the answer to which I do not know, I will look for him, become aware of and tell you. <br><br>  So, in this topic there will be a small story about how to compile and run the first program on its console.  Immediately a warning: the article is a mega technical plan, almost all the content is tedious but quick to set up the compiler, and as a result you will receive only a banal ‚ÄúHello World‚Äù.  However, without it in any way. <br><a name="habracut"></a><br>  We will assume for granted that you have a Sony PSP prefix, flashed to the latest version - 3.90 M33-3 (the so-called custom firmware, unofficial firmware).  <a href="http://pspfaqs.ru/">Many</a> have already spoken about how to reflash, and I will not dwell on this.  We also assume that a flash drive is inserted into your brick, which has at least 50kb of free space, and you have access to them (for example, through the PSP itself). <br><br>  I will say right away: I am almost sure that nothing bad will happen to your prefix if you are careful enough, but unfortunately I cannot give any guarantees. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The programming language used is C, I will use the free IDE <a href="http://www.codeblocks.org/">Code :: Blocks</a> under Windows XP.  Users of other compilers or OS can try to configure IDE themselves, the benefit, the settings for all are similar;  I used what I found the manual for;) <br><br>  For starters, download a set of compilers, linkers and libraries for PSP called <a href="http://sourceforge.net/project/showfiles.php%3Fgroup_id%3D114505%26package_id%3D157350">DevKitPSP</a> .  Unpack it somewhere, I unpacked it into the root of the E: drive (I now have the E: \ devkitpsp \ folder). <br><br>  Now open Code :: Blocks.  In the menu, select Settings ‚Üí Compiler and Debugger, as the Selected Compiler, in the opened window, select GNU GCC (it should be the default), copy it, for example, DevKitPSP, and configure it: <br><br>  Search Directories ‚Üí Compiler tab (delete everything that is there, and click Add to add each path): <br><blockquote>  E: \ devkitPSP \ include <br>  E: \ devkitPSP \ psp \ include <br>  E: \ devkitPSP \ psp \ sdk \ include <br></blockquote>  Linker: <br><blockquote>  E: \ devkitPSP \ lib <br>  E: \ devkitPSP \ psp \ lib <br>  E: \ devkitPSP \ psp \ sdk \ lib </blockquote><br><br>  Toolchain Executables tab: <br><blockquote>  Compiler's installation directory: E: \ devkitPSP.  There is a note that there should be a bin subfolder in this folder, check. <br>  C-compiler: psp-gcc.exe <br>  C ++ - compiler: psp-g ++. Exe <br>  Linker for dynamic libs: psp-g ++. Exe <br>  Linker for static libs: psp-ar.exe <br>  I left three more fields empty. <br></blockquote><br><br>  Now you can press OK, and go on to create a new project (File ‚Üí New ‚Üí Project ..., on the left in the window, click Projects and select Empty).  We fill in the Project Title (it doesn't matter, let it be PSPHelloWorld), do not forget to put the folder for saving the project (I forgot for the first time, and got a bunch of glitches and errors);  the compiler, of course, put freshly created by us. <br><br>  Our project is pretty empty, we create a file (File ‚Üí New ‚Üí File ..., I don‚Äôt care for the name, I chose main.c) - don‚Äôt forget to choose C as the C language and tick the checkboxes ‚ÄúAdd to current project‚Äù, ‚ÄúDebug "And" Release "(why they do not stand by default?). <br><br>  Copy the <a href="http://text20.ru/353">code to the</a> created file (access key - habrakhabr).  I would throw it here if it weren‚Äôt for a hacker.  I did not write the code, by the way: there is not enough experience yet, although I fully understand what is happening there and how - in any case, I will not dwell on this topic. <br><br>  Now the final touches to customize.  We have already set up what we are going to compile with, but we haven‚Äôt set up how and what should come out of us.  Therefore, right-click on the project name on the right, select Properties, and there - Build targets.  <strong>Uncheck the</strong> ‚ÄúAuto-generate filename extension‚Äù checkbox, and in the Output filename, edit the ‚Äúexe‚Äù extension to ‚Äúelf‚Äù.  Perform the same for the Release configuration, click Ok. <br><br>  Click the right button on the project name again, select Build Options and, on the Linker Options tab, enter in the Other linker options: <br><blockquote>  -lpspdebug -lpspdisplay -lpspge -lpspctrl -lpspsdk -lpsplibc -lpspnet_inet -lpspnet_apctl -lpspnet_resolver -lpsputility -lpspuser -lpspkernel </blockquote>  .  Repeat for Release. <br><br>  Like everything (I hope this is the last article in a boring technical plan).  Now we are building a project (Build ‚Üí Build or the familiar Ctrl-F9) - if errors suddenly appear, then we think what we did wrong, and then ask in the comments (maybe I forgot what). <br><br>  In order not to set up again afterwards, you should save the project as a template (File ‚Üí Save Project as user-template ...). <br><br>  So, we have elf-file of our program.  Before you throw it on the PSP, you need to convert it to EBOOT.PBP (I did not come up with the name, honestly).  For this, I have such a bat-nickname: <br><br><blockquote>  "E: \ devkitPSP \ bin \ mksfo.exe"% 1 / bin / Debug /% 1% / bin / Debug /% 1.sfo <br>  "E: \ devkitPSP \ bin \ psp-fixup-imports.exe"% 1 / bin / Debug /% 1.elf <br>  "E: \ devkitPSP \ bin \ psp-strip.exe"% 1 / bin / Debug /% 1.elf -o% 1 / bin / Debug / stripped.elf <br>  "E: \ devkitPSP \ bin \ pack-pbp.exe"% 1 / bin / Debug / EBOOT.PBP% 1 / bin / Debug /% 1.sfo NULL NULL NULL NULL NULL% 1 / bin / Debug / stripped.elf Null </blockquote><br><br>  It is located in my pspprj directory, in which I create a folder for each project.  It is used like this: make_eboot.bat HelloWorld.  If you have a different folder organization, or you just want to rewrite it or run each program manually - just start by line, not forgetting to replace% 1 with the names or paths to the files.  As a result, you will have the EBOOT.PBP file, you will need to drop it into the / PSP / GAME150 / HelloWorld (or other name) / folder, and you can safely delete everything else.  Now check (exit - on the Home button). <br><br>  As a ‚Äúhomework assignment‚Äù - make sure that all the ‚ÄúHello Worlds‚Äù are from a new line.  See you! <br><br>  PS I cut out all the ‚Äúhumor‚Äù that I first entered.  Stupid jokes in such posts have always annoyed me the most, but I can't be sure that my jokes are stupid :) </div><p>Source: <a href="https://habr.com/ru/post/22939/">https://habr.com/ru/post/22939/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../22938/index.html">Pwnage for iPhone and iPod Touch</a></li>
<li><a href="../229381/index.html">Insomnia: game artificial intelligence is so artificial (video)</a></li>
<li><a href="../229383/index.html">Flying single Apollo mission vehicle on the moon: the story of one project</a></li>
<li><a href="../229385/index.html">On an effective software development process</a></li>
<li><a href="../229389/index.html">Lync 2013. Changing the domain name sip address</a></li>
<li><a href="../229391/index.html">Sound Blaster ROAR: Boombox XXI Century</a></li>
<li><a href="../229393/index.html">Travel Banking Transaction</a></li>
<li><a href="../229395/index.html">Generate pictures for Android applications from SVG</a></li>
<li><a href="../229401/index.html">DKIM signature in MS Exchange</a></li>
<li><a href="../229403/index.html">Amateur approach to computational linguistics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>