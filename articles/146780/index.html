<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Prototyping game projects on Unity3d</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It so happened that for the past year I have been living in cold Finland. Initially, I came here to study, but for the past few months I have been act...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Prototyping game projects on Unity3d</h1><div class="post__text post__text-html js-mediator-article">  It so happened that for the past year I have been living in cold Finland.  Initially, I came here to study, but for the past few months I have been actively looking for a job: I have been busy sending out my resume, have visited many events / conferences, visited several offices of various Finnish game-development offices.  There are quite a few of them, by the way: good, the local International Game Developers Association (unlike native Ukrainian) lives, lives and gathers people for free beer once a month.  So, I noticed that many companies (with a capacity of 10-20 people) are either switching, or have already moved to Unity3D. <br><br>  Initially, the article was planned as a philosophical reflection on the balance of what_proger_writes / what_ player_vide, with admixtures of useful snippets / hints for working with Unity.  In fact, during the execution of the test task in one of the companies, <a href="">a muse suddenly appeared to me</a> to write a similar article, therefore I still do not know what will come of it. <br><br><a name="habracut"></a><br>  For a start, a couple of <s>dozen</s> words about myself: the 10th year has already gone, as I am interested in game-development - exactly 10 years ago I riveted the first game in Pascal, Sea Wars, aka sea battle.  He was engaged at the amateur level, mainly in enthusiastic projects, a couple of times worked in relatively large companies, gained experience.  He worked with many engines: first he worked with 3D Gamestudio, Ogre, Irrlicht, Leadwerks, and other Torque.  I didn‚Äôt like Unity3D until this year.  After <a href="http://globalgamejam.org/2012/tenderizer/">Global Game Jam</a> - changed the view dramatically. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      About studying: graduated from the Kiev Polytechnic Institute, he realized that the level of education leaves much to be desired (there were only 3 people in the group interested in programming), therefore he wanted it well and entered the Finnish university equally well. <br><br>  In general, I will tell you about life in Finland, universities and the details of IGDA'vykh drinking bouts another time, it‚Äôs time to move on to game development. <br><br>  The test task was as follows: it was necessary to write a prototype for the flight and landing of the aircraft, side view.  Editing its position (transform) directly is forbidden, you can only use force (force) and torque (torque).  I asked for time in 2 days, and finished the task after 2 days.  True, I played with physics for a few more days, and after 4 days I sent the final version, which almost completely satisfied me. <br><br>  So, this code criterion occurred to me: <br>  1) a lot of code and time-consuming, for the player the effect is minimal <br>  2) medium code, the effect is so-so <br>  3) a couple of lines of code, the effect is obvious, the public is in shock <br><br>  <b>1. A lot of code, the effect is almost invisible / or it does not pay attention</b> <br><br>  The most gemmorna and ungrateful part.  Without it, no one will play the game, but even if it is done perfectly, no one will pay attention to this: it is in the order of things.  But minor issues immediately struck.  The short title is " <i><b>It must be present if it is not present - the file</b></i> ". <br><br>  Physics, for example, I reworked from scratch several times: <br>  - at first I tried just formulas and real values ‚Äã‚Äãof mass / wingspan / engine power, however, later I still entered my coefficients.  For myself, otmazalsya that important are not exact values, but the order of increase: for example, the dependence of lift on speed.  As a result, the formulas have more of my "discoveries" than real formulas.  Feil <br>  - then I made a stern face, pumped up Sovkov books on aerodynamics, and began to do everything on science.  However, the result was not much better: there were fewer additions, but the flight qualities were still unsatisfactory. <br>  - it was useful to google similar flight simulators, it was played a bit with JSBSim.  I did not find anything satisfactory, but I took note of the formulas. <br>  - this time I scored on science and realism, put the aircraft minimum weight / span / power and began to combine all the new experience.  On the last day, on the advice of an amateur IL-2, he added ‚Äúpecking‚Äù with his nose, and on the whole it turned out very nice. <br><br>  However, all this work, of course, is hardly noticeable when playing: it should be so, otherwise why bother to show a project at all?  That, actually, is quite logical. <br><br>  A piece of code from there (the whole function of calculating physics is quite large, I will give the most interesting part).  I put more comments in this difficult place so that the reviewer could check out :) <br><br>  I usually write for Unity on Sharpe, but asked to write in JavaScript.  Well, JavaScript is so JavaScript ... <br><pre><code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ Thrust force /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ Ft = const * p * n^2 * d^4, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ where const = 1,3; p = 0.125; n = power; d = screw diameter (2,4 for F4U-1 Corsair) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ Ft = 5.39 * n^2 trustCoeff = rotorVelocity * power*power * powerCoeff; thrustVector = Vector3(1,0,0) * trustCoeff; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ Angle of attack, Lift force /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/wright.nasa.gov/airplane</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lifteq.html /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/wright.nasa.gov/airplane</span></span><span class="hljs-regexp"><span class="hljs-regexp">/incline.html /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ C = 2 * m * alpha /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ L = 1/</span></span><span class="hljs-number"><span class="hljs-number">2</span></span> * p * V^<span class="hljs-number"><span class="hljs-number">2</span></span> * A * C , where p = <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">125</span></span> [kg * sec^<span class="hljs-number"><span class="hljs-number">2</span></span> / meter^<span class="hljs-number"><span class="hljs-number">4</span></span>] at +<span class="hljs-number"><span class="hljs-number">15</span></span>C; A = <span class="hljs-number"><span class="hljs-number">9.172</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> F4U-<span class="hljs-number"><span class="hljs-number">1</span></span> Corsair /<span class="hljs-regexp"><span class="hljs-regexp">/ L = 1.14 * V^2 * (m * alpha) speedWeight = 0.0125 * (velocityForwardVectorSqr/</span></span><span class="hljs-number"><span class="hljs-number">2</span></span>); liftCoeff = wingspan * attackAlpha * speedWeight * weightCoeff; liftVector = Vector3(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) * liftCoeff; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Air resistance = base resistance + inductive resistance /<span class="hljs-regexp"><span class="hljs-regexp">/ http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/en.wikipedia.org/wiki</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Parasitic_drag /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/en.wikipedia.org/wiki</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Lift-induced_drag /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ resistBasic = Const * (p * V^2 * S) /</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> = Const<span class="hljs-string"><span class="hljs-string">' * V^2 * S // resistInductive = liftForce^2 / (p * V^2/2 * S) dragCoefficient = 2*airDrag + 2 * airDrag * horizonAngle * wingspanCoeff; dragVector = - airSpeedVector * dragCoefficient;</span></span></code> </pre> <br><br>  At the last moment I was also drawn by drawing.  So you have an exclusive opportunity to enjoy my skills :) <br>  Not hard to beat, I'm not an artist. <br><br><img src="https://habrastorage.org/storage2/274/bab/b61/274babb61e7fab62a355857e1a2c751a.png"><br><br>  <b>2. Medium code, so-so effect</b> <br><br>  The most average and nondescript part.  The short title " <i><b>If there is - well, if not, well, okay</b></i> ."  Forces are spent on average ... hmm, and still gives a small flight for fantasy. <br><br>  <s>Muse hit the table with her fist, and told me to do it.</s> I decided to show off a little and do a procedural generation of the landscape.  In this case, it can be of 2 types: ocean or land.  The land is realized in minecraft style, from cubes.  I do not even know which piece of code to bring so that it was not very long, but interesting.  I did, by the way, on the penultimate evening, looking at night, so there is much to refactor. <br><br><pre> <code class="hljs pgsql">var firstIslandLength: <span class="hljs-type"><span class="hljs-type">int</span></span> = Random.Range(<span class="hljs-number"><span class="hljs-number">70</span></span>, <span class="hljs-number"><span class="hljs-number">130</span></span>); // width <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> island generationDist = <span class="hljs-number"><span class="hljs-number">0</span></span>; GenerateIsland(generationDist, firstIslandLength); var firstOceanLength: <span class="hljs-type"><span class="hljs-type">int</span></span> = Random.Range(<span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>); generationDist += firstIslandLength + firstOceanLength; GenerateOcean(generationDist, firstOceanLength); var secondIslandLength: <span class="hljs-type"><span class="hljs-type">int</span></span> = Random.Range(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>); generationDist += firstOceanLength + secondIslandLength; GenerateIsland(generationDist, secondIslandLength); var secondOceanLength: <span class="hljs-type"><span class="hljs-type">int</span></span> = Random.Range(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">150</span></span>); generationDist += secondIslandLength + secondOceanLength; GenerateOcean(generationDist, secondOceanLength); var thirdIslandLength: <span class="hljs-type"><span class="hljs-type">int</span></span> = Random.Range(<span class="hljs-number"><span class="hljs-number">70</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>); generationDist += secondOceanLength + thirdIslandLength; GenerateIsland(generationDist, secondOceanLength); GenerateTargetObj(generationDist, secondOceanLength); } <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> GenerateOcean(pos: <span class="hljs-type"><span class="hljs-type">int</span></span>, length: <span class="hljs-type"><span class="hljs-type">int</span></span>) { var newOcean = Instantiate(waterObject, Vector3(pos - <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">-2</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>), Quaternion.<span class="hljs-keyword"><span class="hljs-keyword">identity</span></span>); newOcean.<span class="hljs-keyword"><span class="hljs-keyword">transform</span></span>.localScale.x = length/<span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Debug</span></span>.Log("Ocean. Pos: " + pos + ". Length: " + length); }</code> </pre><br><br>  The scheme will be something like this: <br><img src="https://habrastorage.org/storage2/ec1/be4/88e/ec1be488eef3186ae2b5f4c60f3afeab.png"><br><br>  <b>3. A couple of lines of code, the effect is obvious</b> <br><br>  The most important and interesting part of this opus, especially for those who take the first, second, third steps in game development and prototyping.  <s>And for those who were waiting for hints on Unity3d</s> .  The short title " <i><b>If it is - cool, if it is not there - the project looks raw</b></i> ." <br><br>  In Unity: <br>  - Import pack with skyboxes (Assets / Import package / skyboxes). <br>  - Create a new object (Game Object / Create Empty), you can take an existing one. <br>  - Create a new script SkyboxControl <br>  - In the script write as many as 3 lines <br><pre> <code class="hljs matlab"> var skyboxMaterials: Material[]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RenderSettings</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">skybox</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">skyboxMaterials</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[Random.Range(0, skyboxMaterials.length - 1)]</span></span></span><span class="hljs-function">; }</span></span></code> </pre><br>  - Drag the script to the newly created object, click on the arrow next to Skybox Materials, enter a number, for example 4: an array of 4 elements is created and opened <br>  - Open Standard Assets / Skyboxes and fill in the above array with any skybox to choose from <br><br>  What do we get?  1 minute was spent on actions (this, along with sipping beer and drying off), and a happy user each new restart of the game will observe a new random skybox. <br><br>  Another example: sound.  In my case, I had the sound of a rotating propeller, I wanted to demonstrate it beautifully. <br>  You are welcome: <br>  - We throw sound on the voiced object <br>  - In the depths of the <s>Tundra, otters in the sockets of the</s> script, somewhere in the Update () function we write as much as 1 line <br><pre> <code class="hljs">soundPlayer.audio.pitch = rotorVelocity;</code> </pre> <br>  rotorVelocity is the player-controlled screw rotation speed, changing over the interval [0..1], depending on how long the user presses the button. <br><br>  Everything, we receive profit.  The greater the value of the speed of rotation of the motor, the faster the sound will be played.  It's half a minute (along with beer drinking). <br><br><img src="https://habrastorage.org/storage2/ba9/eba/9f7/ba9eba9f7b62e22d2f53383b1bccc6a8.png"><br><br>  <b>Conclusion</b> <br><br>  Do not forget about such trifles.  They are made fairly quickly (in particular, in Unity3d), and the project benefits bring a lot. <br><br>  PS: yes, don‚Äôt believe it when they say on game dev competitions or on test tasks that the graphics are not important.  Graphics is very important if the gameplay is not ingenious (which is extremely rare, but noticeable right away - hi Notch).  In addition, it can be done very quickly, and the project will seem much more complete. <br><br>  PPS: and one more thing: if <a href="http://flashgameblogs.ru/blog/gamedesign/1018.html">you're</a> interested, <a href="http://flashgameblogs.ru/blog/gamedesign/1018.html">be sure to check out</a> this presentation.  No advertising: I see those guys for the first time in my life.  But they say it. <br><br>  PPPS: never got to that company.  Therefore, I <a href="https://dl.dropbox.com/u/84293295/LandThePlane/WebPlayer/WebPlayer.html">post a link to what happened</a> .  I like the implementation, in principle, I will rework the physics one more time (or I will bring this up to standard), I will do a couple of dozen levels, but I will try to release it to some Unity portal of games. <br><br>  Always open to constructive criticism. </div><p>Source: <a href="https://habr.com/ru/post/146780/">https://habr.com/ru/post/146780/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146774/index.html">Positive Management (Management without management - part 2)</a></li>
<li><a href="../146776/index.html">How to copy a file over RDP</a></li>
<li><a href="../146777/index.html">The first application for Flickr. Authorize oAuth 2.0, get a list of photos</a></li>
<li><a href="../146778/index.html">Skype for Linux customization. Notification of the appearance of "favorite" contacts in the network</a></li>
<li><a href="../146779/index.html">We have not written a book! Practical experience in creating a programming manual</a></li>
<li><a href="../146781/index.html">The practice of prototyping in a software company</a></li>
<li><a href="../146782/index.html">Coworking Incubator in Samara: opening July 13. Habr chooses a name</a></li>
<li><a href="../146784/index.html">Memory leaks in javascript closures</a></li>
<li><a href="../146785/index.html">IT student's view on ways to improve the quality of higher education</a></li>
<li><a href="../146786/index.html">True TrueType font names and export to PDF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>