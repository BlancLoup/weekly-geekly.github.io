<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bummer Live Apple</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The live broadcast of the presentation of the iPhone 6 and Apple Watch from the very beginning did not work out. Many users, including me, had problem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bummer Live Apple</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b91/16e/127/b9116e127950418b9762b03a81a0ffec.jpg"><br><br>  The live broadcast of the presentation of the iPhone 6 and Apple Watch from the very beginning did not work out.  Many users, including me, had problems viewing it.  At first, I sinned at the problems of the <a href="http://www.akamai.com/">Akamai</a> cloud service, but research on the Apple website page revealed that most of the problems arose because of how they set up Amazon S3 and some other elements of the site. <br><br>  Unlike the previous live broadcast, this time they decided to add interactivity to the page using JSON and display tweets related to the event at the bottom of the page.  As a result, the page was updated several times per second.  Because of the decision to use JSON ( <i>approx. Transl. - it seems to me that the author confuses JSON and Ajax</i> ) the site has stopped caching.  Typically, Apple uses Akamai caching for such broadcasts, but this time it was impossible to cache the page, which led to a strong sagging of page load rates and display of the video stream.  And since Apple inserted the video into the page, the page brakes led to video brakes.  Akamai didn‚Äôt want to comment on this problem, but judging by the page code, they still wouldn‚Äôt be able to cache it.  Because of this, Safari was also changing with me when I tried to open a page with a presentation on the iPad. <br><a name="habracut"></a><br>  Because of all these page updates, the player had to artificially underestimate the quality of the video, because there were too many requests on the server side.  In addition, Apple made a mistake and broadcast video with the wrong sound track through Akamai, so the first 27 minutes of the video was in a foreign (for the article's author) language.  Someone from Apple made a wrong video, besides, they still had out of sync sound and pictures.  In addition, it seems to me, I caught the moment when Apple had to restart the server that encoded the video once after the presentation began - because of this, errors like ‚ÄúI can't load the video‚Äù and ‚Äúno access right‚Äù got out. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      By studying the metadata of the page, you can establish that Apple is hosted on the Amazon S3 cloud service.  Apparently, Apple placed the content in the same <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html">batch</a> , with almost no margin for increasing loads, and it was incorrectly configured.  Amazon did not comment on this question, but it is clear that Apple had incorrectly configured the S3 storage, which resulted in problems with speed, because  all requests went to the same location. <br><br>  Akamai was the only <a href="https://ru.wikipedia.org/wiki/Content_Delivery_Network">CDN</a> used at Apple.  This showed traceroute from different points of the planet.  And since they did not have the opportunity to cache the broadcast page, its speed dropped dramatically.  If the page cannot be cached on the peripheral server of the cloud service, all requests are sent to the central server, due to which the whole point of the distributed network is lost.  On the above chart, received from a third-party service Cedexis, you can see a drop in the availability of Akamai servers in Western Europe from 100% to 96.5% during the broadcast. <br><br><img src="https://habrastorage.org/files/2c9/d5a/11c/2c9d5a11cf604a3a84d1bd8bca16b81b.png"><br><br>  According to data received from various data sources, the video presentation broadcast took up a 6-8 Tbps channel at the peak.  For comparison, the World Cup broadcast took at the peak of 6.8 Tbps.  So no extraordinary loads CDN experienced. <br><br>  The bottom line: video encoding, translation, javascript, video player, a single server on S3 and constant refresh pages and led to numerous presentation problems.  It would be possible to blame everything on the CDN, but as you can see, this was not the main reason - just the action was poorly planned and carried out. </div><p>Source: <a href="https://habr.com/ru/post/236905/">https://habr.com/ru/post/236905/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../236893/index.html">ESA specialists selected a primary and alternative landing point for the Philae / Rosetta probe on the comet Churyumov-Gerasimenko</a></li>
<li><a href="../236897/index.html">Catching unusual SNMP-trap messages in an unusual way</a></li>
<li><a href="../236899/index.html">Amateur and back-engineering. Part 1: Paths and Files</a></li>
<li><a href="../236901/index.html">Probabilistic law of the distribution of the duration of a session of an artificial Earth satellite with a ground object</a></li>
<li><a href="../236903/index.html">Behind smart carts the future of retail, or How I invented the wheel</a></li>
<li><a href="../236907/index.html">How I developed a markup language translator</a></li>
<li><a href="../236909/index.html">WikiLeaks Publishes FinFisher Client Countries</a></li>
<li><a href="../236911/index.html">The main trap of marketing and PR or what happens if you lie</a></li>
<li><a href="../236915/index.html">Interfaces CRM: the main thing that the suit sat?</a></li>
<li><a href="../236925/index.html">Samsung RD-PQ, change Tizen on Android (install board from S3 donor)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>