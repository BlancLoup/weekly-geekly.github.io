<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From bike to ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 This small essay is addressed to QA - specialists and more developers who are involved in automating web and mobile application testing. Tho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From bike to ...</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  This small essay is addressed to QA - specialists and more developers who are involved in automating web and mobile application testing.  Those who are simply interested in open source 'ohm are welcome too. <br><br>  Here I want to develop the thoughts expressed a year ago in the article <a href="http://habrahabr.ru/post/192742/">"About Selenium and one" bicycle "</a> . <a href="http://habrahabr.ru/post/192742/">"</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Plan:</b> <b><br></b>  <b>1. Basic features (overview)</b> <b><br></b>  <b>2. How to develop (lyrical digression)</b> <b><br></b>  <b>3. Conclusion.</b> <br><br>  You can immediately <a href="https://github.com/arachnidium/arachnidium-java">familiarize yourself with the solution</a> .  But if it is interesting to first read the article - <a name="habracut"></a><br>  go! <br><br><img src="https://habrastorage.org/files/e51/0d7/10e/e510d710e158495d96ed3cbcb18ebd7d.jpg"><br><br><h4>  <b>1. Basic features (overview)</b> </h4><br><img src="https://habrastorage.org/files/294/0f5/2f6/2940f52f601843ca909217fc6bcfe495.png"><br><br>  As you already understood, the solution is written in Java 8. The main components are Selenium (to provide interaction with desktop browsers), <a href="http://appium.io/">Appium</a> ( <a href="http://appium.github.io/java-client/">java-client</a> , to ensure interaction with mobile browsers and applications). <br><br>  If we talk about the principle and method of working with Selenium Webdriver, then it is somewhat similar to what offers such solutions as <a href="http://habrahabr.ru/company/yandex/blog/158787/">Html elements from Yandex</a> and <a href="http://habrahabr.ru/post/167941/">Thucydides</a> .  But all this is somewhat revised. <br><br>  What turned out, I am associated with some arthropod creature.  Considering that Selenium and Appium find their application in test automation + we all know the translation of the word bug, we got such a name for the solution - Arachnidium (lat. "Arachnid"). <br><br>  So. <br><br><h5>  <b>Cross-browser compatibility</b> </h5><br><img src="https://habrastorage.org/files/c01/a3e/c1d/c01a3ec1d321475ca1cedfc06379656f.jpg"><br>  I think this point is taken for granted.  But it is necessary to mention. <br><br>  Supported: <br>  - Firefox; <br>  - Chrome; <br>  - Internet Explorer; <br>  - Safari; <br>  - PhantomJS. <br>  - Remote launch of the browsers listed above. <br>  HtmlUnitDriver and OperaDriver had to be abandoned.  The first is not the successor of RemoteWebDriver and its support is fraught with crutches, the second is outdated (for example, it does not launch Opera on Windows 8 / 8.1).  But there is a current replacement: <br>  - Chrome for Android.  A little later I want to add support for the native browser Android and Chromium <br>  - Mobile Safari for iOS <br><br><h5>  <b>Support for automating interaction with native and hybrid mobile apps UI.</b> </h5><br><img src="https://habrastorage.org/files/c27/632/834/c2763283486e438ca8b72ede05ce7514.jpg"><br><br>  This is possible due to the intensive use of the capabilities of Appium. <br><br>  But even this is not, in my opinion, the most interesting. <br><br><h5>  <b>The ability to simulate the user interface of the application in parts and as a whole.</b> </h5><br><br>  I described these principles in detail <a href="https://github.com/arachnidium/arachnidium-java/wiki/Model">here</a> , <a href="https://github.com/arachnidium/arachnidium-java/wiki/Browser-Applications">here</a> and <a href="https://github.com/arachnidium/arachnidium-java/wiki/Android-%26-iOS">here</a> (in English).  But in order not to distract readers, I will probably quote something, something more effective. <br><br>  For my tests on Android, I use the BBC News app.  Its UI is very similar to the site's UI in terms of the visual composition of the elements.  Suppose you need to test both the site and the Android application.  Then you can describe the user interface as follows. <br><br>  List and view news: <br><br><div class="spoiler">  <b class="spoiler_title">Code under the cut</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Imagine that we have to check browser and Android versions * How?! See below. */</span></span> <span class="hljs-meta"><span class="hljs-meta">@IfBrowserURL</span></span>(regExp = <span class="hljs-string"><span class="hljs-string">"http://www.bbc.com/news/"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@IfMobileContext</span></span>(regExp = <span class="hljs-string"><span class="hljs-string">"NATIVE_APP"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@IfMobileAndroidActivity</span></span>(regExp = <span class="hljs-string"><span class="hljs-string">"HomeWwActivity"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BBCMain</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FunctionalPart</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Handle</span></span></span><span class="hljs-class">&gt;</span></span>{ <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"someClass1"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/articleWrapper"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;RemoteWebElement&gt; articles; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"someClass2"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/articleWebView"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RemoteWebElement currentArticle; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"someClass3"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/optMenuShareAction"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RemoteWebElement share; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"someClass4"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/optMenuWatchListenAction"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RemoteWebElement play; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"someClass5"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/optMenuEditAction"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RemoteWebElement edit; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"someClass6"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(uiAutomator = <span class="hljs-string"><span class="hljs-string">"new UiSelector().resourceId"</span></span> + <span class="hljs-string"><span class="hljs-string">"(\"bbc.mobile.news.ww:id/optMenuRefreshAction\")"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RemoteWebElement refresh; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BBCMain</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Handle context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context); load(); } <span class="hljs-meta"><span class="hljs-meta">@InteractiveMethod</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getArticleCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> articles.size(); } <span class="hljs-comment"><span class="hljs-comment">//some more staff //... }</span></span></code> </pre> <br></div></div><br><br>  Form selection of news by categories: <br><br><div class="spoiler">  <b class="spoiler_title">Code under the cut</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Imagine that we have to check browser and Android versions * How?! See below. */</span></span> <span class="hljs-meta"><span class="hljs-meta">@IfBrowserURL</span></span>(regExp = <span class="hljs-string"><span class="hljs-string">"http://www.bbc.com/news/"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@IfMobileContext</span></span>(regExp = <span class="hljs-string"><span class="hljs-string">"NATIVE_APP"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@IfMobileAndroidActivity</span></span>(regExp = <span class="hljs-string"><span class="hljs-string">"PersonalisationActivity"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopicList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FunctionalPart</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Handle</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@CacheLookup</span></span> <span class="hljs-meta"><span class="hljs-meta">@FindBys</span></span>({<span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(linkText = <span class="hljs-string"><span class="hljs-string">"someLink"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(linkText = <span class="hljs-string"><span class="hljs-string">"someLink2"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(linkText = <span class="hljs-string"><span class="hljs-string">"someLink2"</span></span>)}) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBys</span></span>({<span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/personalisationListView"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"android.widget.LinearLayout"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(uiAutomator = <span class="hljs-string"><span class="hljs-string">"new UiSelector()"</span></span>+ <span class="hljs-string"><span class="hljs-string">".resourceId(\"bbc.mobile.news.ww:id/feedTitle\")"</span></span>)}) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;WebElement&gt; titles; <span class="hljs-meta"><span class="hljs-meta">@CacheLookup</span></span> <span class="hljs-meta"><span class="hljs-meta">@FindBys</span></span>({<span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(linkText = <span class="hljs-string"><span class="hljs-string">"someLink3"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(linkText = <span class="hljs-string"><span class="hljs-string">"someLink4"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(linkText = <span class="hljs-string"><span class="hljs-string">"someLink5"</span></span>)}) <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBys</span></span>({<span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/personalisationListView"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(className = <span class="hljs-string"><span class="hljs-string">"android.widget.LinearLayout"</span></span>), <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(uiAutomator = <span class="hljs-string"><span class="hljs-string">"new UiSelector()."</span></span>+ <span class="hljs-string"><span class="hljs-string">"className(\"android.widget.CheckBox\")"</span></span>)}) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;WebElement&gt; checkBoxes; <span class="hljs-meta"><span class="hljs-meta">@AndroidFindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"bbc.mobile.news.ww:id/personlisationOkButton"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement okButton; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TopicList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Handle context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context); load(); } <span class="hljs-comment"><span class="hljs-comment">//some more staff //... }</span></span></code> </pre><br></div></div><br><br>  Test (the most simplified view): <br><br>  Android <br><br><div class="spoiler">  <b class="spoiler_title">Code under the cut</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">androidNativeAppTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Configuration config = Configuration .get(<span class="hljs-string"><span class="hljs-string">"android_bbc.json"</span></span>); Application&lt;?,?&gt; bbc = MobileFactory.getApplication( Application.class, config); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { BBCMain bbcMain = bbc.getPart(BBCMain.class); Assert.assertNotSame(<span class="hljs-number"><span class="hljs-number">0</span></span>, bbcMain.getArticleCount()); bbcMain.selectArticle(<span class="hljs-number"><span class="hljs-number">1</span></span>); Assert.assertEquals(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, bbcMain.isArticleHere()); bbcMain.edit(); TopicList&lt;?&gt; topicList = bbcMain.getPart(TopicList.class); topicList.setTopicChecked(<span class="hljs-string"><span class="hljs-string">"LATIN AMERICA"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); topicList.setTopicChecked(<span class="hljs-string"><span class="hljs-string">"UK"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); topicList.ok(); bbcMain.edit(); topicList.setTopicChecked(<span class="hljs-string"><span class="hljs-string">"LATIN AMERICA"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); topicList.setTopicChecked(<span class="hljs-string"><span class="hljs-string">"UK"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); topicList.ok(); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { bbc.quit(); } }</code> </pre><br></div></div><br><br>  Browser (desktop / mobile) <br><br><div class="spoiler">  <b class="spoiler_title">Code under the cut</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">webTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Configuration config = Configuration .get(<span class="hljs-string"><span class="hljs-string">"android_some_browser.json"</span></span>); Application&lt;?,?&gt; bbc = WebFactory.getApplication( Application.class, config, urlToBBCNews); <span class="hljs-comment"><span class="hljs-comment">//does the same</span></span></code> </pre><br></div></div><br><br>  About some things I will talk about later. <br><br>  I tried to implement a universal (rather, conditionally universal) model so that the developer of the framework for autotests (and I see myself in this role, for myself I don‚Äôt do well :)) did not multiply the code but could make it independent of the environment (I mean by the way the test is performed is in the browser or is it the native content / html content of the hybrid application). <br><br>  Used design - Page Object pattern.  My version assumes that pages / screenshots can be described both in whole and in parts, if there are duplicate widgets or sets of elements.  You can even make the whole application behave like a Page Object! <br><br>  Another feature is that many technical nuances associated with the need to manage an instance of WebDriver in situations where several browser windows are present at the same time (or contexts if the mobile application) and some of the content is placed in ifram are automated.  So you can fully focus on the description of the business logic! <br><br><h5>  <b>Architecture.</b> </h5><br><img src="https://habrastorage.org/files/d28/c04/978/d28c0497850b47e19a1a31dee4c6ce09.JPG"><br><br>  In modern conditions, my IMHO, decides not a monolithic architecture, but a modular or "transparent".  I tried to implement everything in such a way that it was possible to use both standard solutions of <a href="http://habrahabr.ru/post/134462/">Selenium</a> and <a href="https://github.com/appium/java-client/pull/68">Appium</a> (this method of decorating elements in my solution is used by default), for which I tried to provide convenient ways of working, and, theoretically, third-party solutions. <br><br>  Here are examples: <br><br>  - joint work with HtmlElements from Yandex.  <a href="https://github.com/arachnidium/arachnidium-java/tree/master/arachnidium-integration-samples/arachnidium-qatools-htmlelements">Link</a> <br>  - collaboration with Selenide from Codeborne.  <a href="https://github.com/arachnidium/arachnidium-java/tree/master/arachnidium-integration-samples/arachnidium-selenide">Link</a> <br>  - use of Thucydides.  <a href="https://github.com/arachnidium/arachnidium-java/tree/master/arachnidium-integration-samples/arachnidium-thucydides">Link</a>  Who is interested in - a <a href="">report</a> for the web (GoogleDrive) and a <a href="">report</a> for Android (BBC News, a Genymotion virtual machine that emulates an Android tablet).  Happy viewing and do not forget to unpack.  I want to do a similar sample for <a href="http://habrahabr.ru/company/yandex/blog/232697/">Allure</a> later. <br><br><h5>  <b>Setup Method</b> </h5><br>  In this case, I mean the transfer and storage of parameters for launching browsers and mobile applications (as was intended from the very beginning).  Described in detail <a href="https://github.com/arachnidium/arachnidium-java/wiki/Configuration">here</a> .  But how to be.  I will give an example. <br><br>  Let there is a general setting stored in the <b>settings.json</b> file attached to the project. <br><br><div class="spoiler">  <b class="spoiler_title">JSON with default parameters</b> <div class="spoiler_text"><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"settingA"</span></span>: { <span class="hljs-string"><span class="hljs-string">"aValue"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"STRING"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"AAA"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"settingB"</span></span>: { <span class="hljs-string"><span class="hljs-string">"bValue"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"STRING"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"bbb"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"settingC"</span></span>: { <span class="hljs-string"><span class="hljs-string">"cValue"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"STRING"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"C"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"settingD"</span></span>: { <span class="hljs-string"><span class="hljs-string">"dValue"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"STRING"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"D..."</span></span> } } }</code> </pre><br></div></div><br><br>  And there is a file, named differently, containing such data that, as it were, overlaps the data from the example above. <br><br><div class="spoiler">  <b class="spoiler_title">JSON with custom parameters</b> <div class="spoiler_text"><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"settingB"</span></span>: { <span class="hljs-string"><span class="hljs-string">"bValue"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"INT"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"1"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"settingC"</span></span>: { <span class="hljs-string"><span class="hljs-string">"cValue"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"BOOL"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"true"</span></span> } } }</code> </pre><br></div></div><br><br>  Code below <br><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.github.arachnidium.util.configuration.Configuration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.Before; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.Test; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DemoTest</span></span></span><span class="hljs-class"> </span></span>{ Configuration testConfig; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String aGroup = <span class="hljs-string"><span class="hljs-string">"settingA"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String bGroup = <span class="hljs-string"><span class="hljs-string">"settingB"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String cGroup = <span class="hljs-string"><span class="hljs-string">"settingC"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String dGroup = <span class="hljs-string"><span class="hljs-string">"settingD"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String aValue = <span class="hljs-string"><span class="hljs-string">"aValue"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String bValue = <span class="hljs-string"><span class="hljs-string">"bValue"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String cValue = <span class="hljs-string"><span class="hljs-string">"cValue"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String dValue = <span class="hljs-string"><span class="hljs-string">"dValue"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Before</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ testConfig = Configuration.get(<span class="hljs-string"><span class="hljs-string">"src/test/resources/test.json"</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Object a = Configuration.byDefault.getSettingValue(aGroup, aValue); Object b = Configuration.byDefault.getSettingValue(bGroup, bValue); Object c = Configuration.byDefault.getSettingValue(cGroup, cValue); Object d = Configuration.byDefault.getSettingValue(dGroup, dValue); System.out.println(a); System.out.println(a.getClass()); System.out.println(b); System.out.println(b.getClass()); System.out.println(c); System.out.println(c.getClass()); System.out.println(d); System.out.println(d.getClass()); System.out.println(); System.out.println(); System.out.println(<span class="hljs-string"><span class="hljs-string">"Showtime! Customized setting see below."</span></span>); System.out.println(); System.out.println(); a = testConfig.getSettingValue(aGroup, aValue); b = testConfig.getSettingValue(bGroup, bValue); c = testConfig.getSettingValue(cGroup, cValue); d = testConfig.getSettingValue(dGroup, dValue); System.out.println(a); System.out.println(a.getClass()); System.out.println(b); System.out.println(b.getClass()); System.out.println(c); System.out.println(c.getClass()); System.out.println(d); System.out.println(d.getClass()); } }</code> </pre><br></div></div><br><br>  gives this output to the console <br><br><div class="spoiler">  <b class="spoiler_title">what console output</b> <div class="spoiler_text"><pre> <code class="markdown hljs">AAA class java.lang.String bbb class java.lang.String C class java.lang.String D... class java.lang.String Showtime! Customized setting see below. AAA class java.lang.String 1 class java.lang.Integer true class java.lang.Boolean D... class java.lang.String</code> </pre><br></div></div><br><br>  Thus, it is assumed that there is a general setting in which the default data is indicated, and a set of such configurations that partially overlap or refine this data.  Moreover, if the data is not specified in such a custom - general information will be used. <br><br>  I intend to use such a mechanism to start browsers and mobile applications.  But, in principle, it can find wider application due to its flexibility and extensibility. <br><br>  At this point I finish my review.  There are other interesting things here.  Maybe I will talk about them in another article or in comments to this. <br><br><h4>  <b>2. How to develop (lyrical digression).</b> </h4><br><img src="https://habrastorage.org/files/3c9/160/3b5/3c91603b5eba45c5b300f9ec631be5fe.jpg"><br><br>  For most of my professional biography, I was involved in automating the testing of desktop software, mainly using <a href="http://smartbear.com/products/qa-tools/automated-testing-tools/">Test Complete</a> .  There was a lot of interesting and non-trivial.  But I'm tired.  Drawn on some creativity. <br><br>  Later I found out about Selenium Webdriver (and who doesn't know now?).  At first there were just experiments.  Then ideas began to appear.  Although ... I took them from the accumulated practice.  For example, such a concept as Page Object and examples of implementation did not cause my Wow effect.  Something similar had to be done for desktop applications. <br><br>  The experiment described in the chapter above was discontinued and resumed several months later. <br><br>  Next, I learned about Appium.  I even happened to participate in this project!  Participation began spontaneously - with reporting bugs and what seemed to me problematic.  Later a client library for java: <a href="https://github.com/appium/java-client">java-client appeared</a> .  Here the contribution is more serious.  I managed to implement features for working with <a href="http://habrahabr.ru/post/134462/">PageFactory</a> and help with library redesign, as a result of which <a href="">AndroidDriver</a> and <a href="">IOSDriver</a> appeared and flexibility appeared, if you need to add support for Firefox OS and Windows Mobile.  Hope this helped many other people around the world. <br><br><h4>  <b>3. Conclusion.</b> </h4><br>  I would be glad to communicate in the comments. <br><br>  I brought this experiment to such a state that it is not a shame to say that <a href="http://search.maven.org/">builds are available in the maven central</a> .  For now, I would suggest playing with them or trying to automate some simple test case. <br><br>  If someone finds a bug, it's awesome!  Please describe it <a href="https://github.com/arachnidium/arachnidium-java/issues">here</a> .  And in the comments it would be great to read criticism, ideas, if someone praises - that‚Äôs good too. <br><br>  On the described do not want to stop.  There is an idea to continue the banquet - to implement plug-ins for JUnit, TestNG and Jbehave.  You can make a plugin, for example, for the Eclipse IDE, but I can hardly imagine its functions for now.  In addition - there is still an empty C # project.  But!  All this makes sense if basic functionality is needed.  Always happy pull requests! <br><br>  See you! <br><br><img src="https://habrastorage.org/files/c8f/c01/5d8/c8fc015d8c104b62bcc94c45e664b023.jpg"></div><p>Source: <a href="https://habr.com/ru/post/241798/">https://habr.com/ru/post/241798/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241778/index.html">How we did the school of mobile developers in Saransk</a></li>
<li><a href="../241784/index.html">Incompatibility between the String.split method in Java 8 and Java 7</a></li>
<li><a href="../241788/index.html">Subtleties nodejs. Part I: the notorious app.js</a></li>
<li><a href="../241792/index.html">E-mail marketing: about the frequency of mailings - bluntly</a></li>
<li><a href="../241796/index.html">HTML5 standard has reached W3C recommendation status</a></li>
<li><a href="../241804/index.html">JBOSS 4.2.3 Manual</a></li>
<li><a href="../241810/index.html">GDP, money supply and dynamic equilibrium</a></li>
<li><a href="../241812/index.html">Untranslatable word game about CLANG, LLVM and msp430</a></li>
<li><a href="../241814/index.html">Jump Start materials published October 7: Upgrading the company's IT infrastructure using Windows Server 2012 R2</a></li>
<li><a href="../241816/index.html">Return of the Joker: how was the main Russian Java conference</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>