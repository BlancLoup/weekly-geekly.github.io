<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Basics of relational algebra</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Relational algebra is based on set theory and is the basis of the logic of database operation. 
 When I first studied the database and SQL device, a p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Basics of relational algebra</h1><div class="post__text post__text-html js-mediator-article">  Relational algebra is based on set theory and is the basis of the logic of database operation. <br>  When I first studied the database and SQL device, a preliminary acquaintance with relational algebra greatly helped further knowledge to properly fit in my head, and I will try to make this article have a similar effect. <br><br>  So if you are going to start your training in this area or you just became interested, I ask under the cat. <br><br><a name="habracut"></a><br><h5>  Relational database </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To begin with, we introduce the concept of a relational database in which we will perform all the actions. <br><br>  A relational database is a set of relations containing all the information that should be stored in the database.  In this definition, we are interested in the term relation, but for the time being we will leave it without a strict definition. <br>  Better imagine a table of products. <br><br>  PRODUCTS table <br><table><tbody><tr><td>  ID </td><td>  NAME </td><td>  COMPANY </td><td>  PRICE </td></tr><tr><td>  123 </td><td>  Cookies </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  190 </td></tr><tr><td>  156 </td><td>  Tea </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  60 </td></tr><tr><td>  235 </td><td>  Pineapples </td><td>  JSC ‚ÄùFruits‚Äù </td><td>  100 </td></tr><tr><td>  623 </td><td>  Tomatoes </td><td>  LLC ‚ÄùVegetables‚Äù </td><td>  130 </td></tr></tbody></table><br><br>  A table consists of 4 rows, a row in a table is a tuple in relational theory.  The set of ordered tuples is called a relation. <br>  Before we define the relationship, we introduce another term - the domain.  Domains in relation to a table are columns. <br><br>  For clarity, we now introduce a strict definition of a relationship. <br><br>  Let N be the sets D1, D2, ....  Dn (domains), the relation R over these sets is the set of ordered N-tuples of the form &lt;d1, d1, ... dn&gt;, where d1 belongs to D1 and so on.  The sets D1, D2, .. Dn are called the domains of the relation R. <br>  Each element of a tuple is the value of one of the attributes corresponding to one of the domains. <br><br><h6>  Keys in a relationship </h6><br>  In relation to the requirement is that all tuples must differ.  To uniquely identify a tuple, there is a primary key.  The primary key is an attribute or a set of the minimum number of attributes that uniquely identifies a particular tuple and does not contain additional attributes. <br>  It is understood that all attributes in the primary key must be necessary and sufficient to identify a specific tuple, and the exclusion of any of the attributes in the key will make it insufficient for identification. <br>  For example, in such a table, the key will be a combination of attributes from the first and second columns. <br><br>  DRIVERS table <br><br><table><tbody><tr><td width="100">  COMPANY </td><td width="100">  DRIVER </td></tr><tr><td width="100">  LLC ‚ÄùThe Dark Side‚Äù </td><td width="100">  Vladimir </td></tr><tr><td width="100">  LLC ‚ÄùThe Dark Side‚Äù </td><td width="100">  Michael </td></tr><tr><td width="100">  JSC ‚ÄùFruits‚Äù </td><td width="100">  Ruslan </td></tr><tr><td width="100">  LLC ‚ÄùVegetables‚Äù </td><td width="100">  Vladimir </td></tr></tbody></table><br><br>  It can be seen that there can be several drivers in an organization, and in order to unambiguously identify a driver, it is necessary to have a value from the column ‚ÄúName of organization‚Äù and from ‚ÄúDriver‚Äôs name‚Äù.  Such a key is called composite. <br><br>  In a relational database, tables are interrelated and correlated with each other as main and subordinate.  The connection of the main and subordinate tables is carried out through the primary key (primary key) of the main table and the foreign key (foreign key) of the subordinate table. <br>  A foreign key is an attribute or set of attributes that is the primary key in the main table. <br><br>  This preparatory theory will be enough to become familiar with the basic operations of relational algebra. <br><br><h4>  Relational algebra operations </h4><br>  The basic eight operations of relational algebra were proposed by <a href="http://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25B4%25D0%25B4,_%25D0%25AD%25D0%25B4%25D0%25B3%25D0%25B0%25D1%2580">E. Codd</a> . <br><ul><li>  Union </li><li>  Intersection </li><li>  Subtraction </li><li>  Cartesian product </li><li>  Sample </li><li>  Projection </li><li>  Compound </li><li>  Division </li></ul><br>  The first half of operations is similar to the same operations on sets.  Some operations can be expressed through other operations.  Consider most of the operations with examples. <br><br>  For understanding, it is important to remember that the result of any operation of algebra on relations is another relation, which can then also be used in other operations. <br>  Create another table, which is useful to us in the examples. <br><br>  table SELLERS <br><br><table><tbody><tr><td width="100">  ID </td><td width="100">  SELLER </td></tr><tr><td width="100">  123 </td><td width="100">  OOO ‚ÄúDart‚Äù </td></tr><tr><td width="100">  156 </td><td width="100">  OJSC ‚ÄùVedro‚Äù </td></tr><tr><td width="100">  235 </td><td width="100">  CJSC ‚ÄúVegetable Base‚Äù </td></tr><tr><td width="100">  623 </td><td width="100">  OJSC ‚ÄùFirm‚Äù </td></tr></tbody></table><br>  We agree that in this table ID is the foreign key associated with the primary key of the PRODUCTS table. <br><br>  To begin, consider the simplest operation - the name of the relationship.  Its result will be the same relationship, that is, performing the PRODUCTS operation, we will receive a copy of the PRODUCTS relationship. <br><br><h5>  Projection </h5><br>  A projection is an operation in which attributes are selected from a relationship only from specified domains, that is, only necessary columns are selected from a table, and if there are several identical tuples, then only one instance of such a tuple remains in the resulting ratio. <br>  For example, let's make a projection on the PRODUCTS table by selecting from it ID and PRICE. <br><br>  Operation syntax: <br>  <font>œÄ</font> <sub>(ID, PRICE)</sub> PRODUCTS <br><br>  As a result of this operation, we obtain the relation: <br><table><tbody><tr><td width="100">  ID </td><td width="100">  PRICE </td></tr><tr><td width="100">  123 </td><td width="100">  190 </td></tr><tr><td width="100">  156 </td><td width="100">  60 </td></tr><tr><td width="100">  235 </td><td width="100">  100 </td></tr><tr><td width="100">  623 </td><td width="100">  130 </td></tr></tbody></table><br><br><h5>  Sample </h5><br>  A sample is an operation that selects a set of rows in a table that satisfy specified conditions.  The condition can be any logical expression. <br>  For example, let's make a selection from a table with a price greater than 90. <br><br>  Operation syntax: <br>  <font>œÉ</font> <sub>(PRICE&gt; 90)</sub> PRODUCTS <br><br><table><tbody><tr><td>  ID </td><td>  NAME </td><td>  COMPANY </td><td>  PRICE </td></tr><tr><td>  123 </td><td>  Cookies </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  190 </td></tr><tr><td>  235 </td><td>  Pineapples </td><td>  JSC ‚ÄùFruits‚Äù </td><td>  100 </td></tr><tr><td>  623 </td><td>  Tomatoes </td><td>  LLC ‚ÄùVegetables‚Äù </td><td>  130 </td></tr></tbody></table><br><br>  In the sample condition, we can use any logical expression.  Let's make another sample with a price of more than 90 and product ID less than 300: <br><br>  <font>œÉ</font> <sub>(PRICE&gt; 90 ^ ID &lt;300)</sub> PRODUCTS <br><br><table><tbody><tr><td>  ID </td><td>  NAME </td><td>  COMPANY </td><td>  PRICE </td></tr><tr><td>  123 </td><td>  Cookies </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  190 </td></tr><tr><td>  235 </td><td>  Pineapples </td><td>  JSC ‚ÄùFruits‚Äù </td><td>  100 </td></tr></tbody></table><br><br>  Let's combine the projection and sampling operators.  We can do this because any of the operators returns a relation as a result and also uses the relation as arguments. <br>  From the table with products we will select all companies selling products that are cheaper than 110. <br><br>  <font>œÄ</font> <sub>COMPANY</sub> <font>œÉ</font> <sub>(PRICE &lt;100)</sub> PRODUCTS <br><br><table><tbody><tr><td>  COMPANY </td></tr><tr><td>  LLC ‚ÄùThe Dark Side‚Äù </td></tr><tr><td>  JSC ‚ÄùFruits‚Äù </td></tr></tbody></table><br><br><h5>  Multiplication </h5><br>  Multiplication or Cartesian product is an operation performed on two relations, as a result of which we obtain a relationship with all domains from two initial relations.  Tuples in these domains will be all possible combinations of tuples from the initial relationship.  The example will be clearer. <br><br>  We obtain the Cartesian product of the PRODUCTS and SELLERS tables. <br>  Operation syntax: <br><br>  PRODUCTS √ó SELLERS <br>  You may notice that these two tables have the same domain ID.  In this situation, domains with the same name get a prefix in the form of the name of the corresponding relationship, as shown below. <br>  For brevity, we multiply not complete relations, but samples with the condition ID &lt;235 <br><br>  (the same tuples are highlighted) <br><table><tbody><tr><td>  PRODUCTS.ID </td><td>  NAME </td><td>  COMPANY </td><td>  PRICE </td><td>  SELLERS.ID </td><td>  SELLER </td></tr><tr><td>  <font color="#2e8b57">123</font> </td><td>  <font color="#2e8b57">Cookies</font> </td><td>  <font color="#2e8b57">LLC ‚ÄùThe Dark Side‚Äù</font> </td><td>  <font color="#2e8b57">190</font> </td><td>  <font color="#8b00ff">123</font> </td><td>  <font color="#8b00ff">OOO ‚ÄúDart‚Äù</font> </td></tr><tr><td>  <font color="#62281a">156</font> </td><td>  <font color="#62281a">Tea</font> </td><td>  <font color="#62281a">LLC ‚ÄùThe Dark Side‚Äù</font> </td><td>  <font color="#62281a">60</font> </td><td>  <font color="#ff0000">156</font> </td><td>  <font color="#ff0000">OJSC ‚ÄùVedro‚Äù</font> </td></tr><tr><td>  <font color="#2e8b57">123</font> </td><td>  <font color="#2e8b57">Cookies</font> </td><td>  <font color="#2e8b57">LLC ‚ÄùThe Dark Side‚Äù</font> </td><td>  <font color="#2e8b57">190</font> </td><td>  <font color="#ff0000">156</font> </td><td>  <font color="#ff0000">OJSC ‚ÄùVedro‚Äù</font> </td></tr><tr><td>  <font color="#62281a">156</font> </td><td>  <font color="#62281a">Tea</font> </td><td>  <font color="#62281a">LLC ‚ÄùThe Dark Side‚Äù</font> </td><td>  <font color="#62281a">60</font> </td><td>  <font color="#8b00ff">123</font> </td><td>  <font color="#8b00ff">OOO ‚ÄúDart‚Äù</font> </td></tr></tbody></table><br><br>  For an example of using this operation, let us imagine the need to choose sellers with prices less than 90. Without a product, you would first need to get product IDs from the first table, then use the second table to get the necessary SELLER names, and using the product you will receive such a query: <br><br>  <font>œÄ</font> <sub>(SELLER)</sub> <font>œÉ</font> <sub>(RODUCTS.ID = SELLERS.ID ^ PRICE &lt;90)</sub> PRODUCTS √ó SELLERS <br><br>  As a result of this operation, we obtain the relation: <br><br><table><tbody><tr><td>  SELLER </td></tr><tr><td>  OJSC ‚ÄùVedro‚Äù </td></tr></tbody></table><br><br><h5>  Compound and natural compound </h5><br>  The join operation is the reverse of the projection operation and creates a new relation from the two already existing ones.  A new relation is obtained by concatenating the tuples of the first and second relations, and the concatenations are subjected to relations in which the values ‚Äã‚Äãof the given attributes match.  In particular, if you combine the PRODUCTS and SELLERS relationships, these attributes will be the attributes of the ID domains. <br><br>  Also, for clarity, you can imagine the connection as the result of two operations.  First, the product of the original tables is taken, and then from the obtained relation, we make a selection with the condition of equality of attributes from the same domains.  In this case, the condition is equality of PRODUCTS.ID and SELLERS.ID. <br><br>  Let's try to connect the relationship PRODUCTS and SELLERS and get the relationship. <br><br><table><tbody><tr><td>  PRODUCTS.ID </td><td>  NAME </td><td>  COMPANY </td><td>  PRICE </td><td>  SELLERS.ID </td><td>  SELLER </td></tr><tr><td>  123 </td><td>  Cookies </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  190 </td><td>  123 </td><td>  OOO ‚ÄúDart‚Äù </td></tr><tr><td>  156 </td><td>  Tea </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  60 </td><td>  156 </td><td>  OJSC ‚ÄùVedro‚Äù </td></tr><tr><td>  235 </td><td>  Pineapples </td><td>  JSC ‚ÄùFruits‚Äù </td><td>  100 </td><td>  235 </td><td>  CJSC ‚ÄúVegetable Base‚Äù </td></tr><tr><td>  623 </td><td>  Tomatoes </td><td>  LLC ‚ÄùVegetables‚Äù </td><td>  130 </td><td>  623 </td><td>  OJSC ‚ÄùFirm‚Äù </td></tr></tbody></table><br><br>  A natural connection gets a similar relationship, but if we have a correctly configured scheme in the database (in this case, the primary key of the PRODUCTS ID table is associated with the foreign key of the SELLERS ID table), then in the resulting relationship there is only one domain ID. <br><br>  Operation syntax: <br>  PRODUCTS ‚ãà SELLERS; <br><br>  It turns out this attitude: <br><br><table><tbody><tr><td>  PRODUCTS.ID </td><td>  NAME </td><td>  COMPANY </td><td>  PRICE </td><td>  SELLER </td></tr><tr><td>  123 </td><td>  Cookies </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  190 </td><td>  OOO ‚ÄúDart‚Äù </td></tr><tr><td>  156 </td><td>  Tea </td><td>  LLC ‚ÄùThe Dark Side‚Äù </td><td>  60 </td><td>  OJSC ‚ÄùVedro‚Äù </td></tr><tr><td>  235 </td><td>  Pineapples </td><td>  JSC ‚ÄùFruits‚Äù </td><td>  100 </td><td>  CJSC ‚ÄúVegetable Base‚Äù </td></tr><tr><td>  623 </td><td>  Tomatoes </td><td>  LLC ‚ÄùVegetables‚Äù </td><td>  130 </td><td>  OJSC ‚ÄùFirm‚Äù </td></tr></tbody></table><br><br><h5>  Intersection and subtraction. </h5><br>  The result of the intersection will be a relation consisting of tuples that are fully included in both relations. <br>  The result of the subtraction will be a relation consisting of tuples that are tuples of the first relation and are not tuples of the second relation. <br>  These operations are similar to the same operations on sets, so I think there is no need to describe them in detail. <br><br><h6>  Information sources </h6><br><ul><li>  Basics of using and designing databases - V. M. Ilyushechkin </li><li>  lecture course Introduction to Databases - Jennifer Widom, Stanford University </li></ul><br><br>  <font color="grey"><sub>I will be grateful for the reasoned comments</sub></font> </div><p>Source: <a href="https://habr.com/ru/post/145381/">https://habr.com/ru/post/145381/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145375/index.html">Do you know what your phone is capable of?</a></li>
<li><a href="../145376/index.html">[Translation] HTML5 Responsive Image</a></li>
<li><a href="../145377/index.html">40 great QR codes</a></li>
<li><a href="../145379/index.html">15 extensions for the external design of the browser under Firefox 13</a></li>
<li><a href="../145380/index.html">Web anthropometry: yesterday, today, tomorrow</a></li>
<li><a href="../145382/index.html">Acer M3-581TG-72636G52Mnkk Laptop Review</a></li>
<li><a href="../145383/index.html">Tables in accounting systems</a></li>
<li><a href="../145385/index.html">Forecasting purchases: hellish, but very useful math</a></li>
<li><a href="../145387/index.html">John Carmack makes a virtual reality helmet</a></li>
<li><a href="../145388/index.html">Randomized search trees</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>