<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>My first game development history</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It all started with the fact that I played a super-popular game called ‚ÄúFlappy bird‚Äù. Everybody knows her well and it makes no sense to describe the g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>My first game development history</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/a86/1fe/9ff/a861fe9ff9a94e0398b1a991e8acb3e9.png" align="left">  It all started with the fact that I played a super-popular game called ‚ÄúFlappy bird‚Äù.  Everybody knows her well and it makes no sense to describe the game.  But I still have to say one thing: Flappy bird caught me with its simplicity of control and complexity of the gameplay.  I could play it for hours on end and suddenly I thought - could it make the same exciting, yet easy to manage and concept game?  It's easy, work for 2 weeks, I thought.  And so it began. <br><a name="habracut"></a><br>  About what?  What is the game to do?  These are the questions I asked myself for a few days.  But later a very interesting and exciting moment came to mind in Valiant Hearts.  In one scene of this game, the main character (soldier) fled under a hail of bombs and at a certain point he needed to stop in order not to fall under the explosion of shells. <br><br>  So I came up with the gameplay and the concept for the game, and the name is simple - <b>Crazy Crazy</b> .  Now I had to start creating this masterpiece. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/2a4/754/b20/2a4754b20988431e9da612e1ddc27320.jpg" alt="image"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  <b>Graphics</b> </h3><br>  For a long time I could not choose the desired graphic style for my game.  Ran from one to another.  But in the end I realized that this style must be simple in drawing (so as not to spend a lot of time creating textures) and special.  I always loved a certain contrast of black, white and red, which was ideally suited for my game, so the choice fell on a style with these shades. <br><br>  At first I tried to fill my main character with details to be remembered, but after looking at the heroes of other runners, the choice was made to simplify it.  And in my opinion, it turned out only better. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ef9/3a7/c40/ef93a7c4085946c4bf9712a4da3d0bb4.jpg"></div><br><br>  The animation was done in the good old way, i.e.  she was time-lapse.  I don‚Äôt know how to do another, so I didn‚Äôt have much choice.  There are only a few animations in the game: the hero's run, the hero's stop, the appearance of a bomb shadow, a bomb explosion.  So I spent not much time on its creation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bef/ebc/78f/befebc78f5d34034a981a09f7490111c.jpg"></div><br><br>  But with the creation of the bomb, it turned out to be a little more interesting: first, I drew a fascist sign in the middle of its texture so that there was no emptiness there.  But looking ahead, I will tell you that this was not the best solution.  When setting age restrictions, both in the App Store and Google Play, this item is taken into account, since this symbolism is a sign of extremism in many countries. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/33f/68d/dab/33f68ddabea148c7b3cf8d74fb2c0c26.jpg"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/274/761/c0e/274761c0e854e47acabb83a681f496fa.png" alt="image"></div><br><br><h3>  <b>Technical part</b> </h3><br>  So I started writing the software part for my game. <br><br>  <b>Attempt # 1:</b> <br>  I, as a naive little boy, decided that I could write a game from scratch using OpenGl, with which I already had previous experience (I wrote small games like a snake).  But after 2 weeks of programming under Android, I realized the disadvantages of my choice: <br>  1. It was necessary to write a lot of code from scratch, which would take a lot of time. <br>  2. I would have to program the game again under ios, where I still need to know Swift / Objective-C.  It would take more time. <br><br>  Therefore, I realized that this scheme would not allow to finish the game by the beginning of summer, because of this I had to change tactics. <br><br>  <b>Attempt # 2:</b> <br>  Now I finally realized that in order to quickly create a game for Android and iOS, I needed a cross-platform free framework with a small number of functions.  And so my choice fell on LibGDX.  It has simple and clear documentation and it works on both Android and iOS.  Soon I came across a great article on Habr√© <a href="http://habrahabr.ru/post/243471/">"[LibGDX] Create a clone Flappy Bird - Zombie Bird"</a> .  Using it (thanks to the translator of the <a href="http://habrahabr.ru/users/eliotik/" class="user_link">eliotik</a> article) in 10 days I was able to create a prototype of my game with textures and the main gameplay.  There was no menu, no GameOver output and no music there.  But I already liked my game.  Easy to manage, but also a little hardcore in the gameplay. <br><br>  <b>Attempt # 3:</b> <br>  It seems that I liked everything in the game and the code, but thanks to the comment from <a href="http://habrahabr.ru/users/1nt3g3r/" class="user_link">1nt3g3r</a> in that article, I realized that I did a lot of things wrong and ugly.  There was no initial screen, during which textures were loaded in another thread, there was just a terrible game architecture and many other minor problems.  I could not afford this, so I had to rewrite the game, based already on Western articles about libGDX. <br><br>  But at the end of the development I had two main problems: <br><br>  <i>Support for various screen resolutions.</i> <i><br></i>  <i>Stupid respawn bombs on the map.</i> <br><br><img src="https://habrastorage.org/files/ae4/da4/0fa/ae4da40fa49c4709a1ace3fa537c77ba.jpg"><br><br><h3>  <b>Multi-screen support</b> </h3><br>  As you know, on Android there is such a terrible and at the same time beautiful thing, like fragmentation.  At first, I created the game only for my tablet (Nexus 7 2013), although I knew that I would have to add support for other screens in the game sooner or later.  I thought to solve this problem this way: simply multiplying the width and height of textures by a certain coefficient, but unfortunately this did not help.  On a tablet with a small resolution, it was displayed well, but on an old phone with a screen from the 90s, not really.  Therefore, I divided the virtual world of the game into 2 main screens (or viewport), which are supported in libGDX: <br><br>  <b>StretchViewport</b> is a screen that stretches to the full width and length of the real screen, without preserving the proportions.  On it I placed the background texture of the game.  Those.  even on the iPad, even on my Nexus, the wallpaper was visible in full screen. <br><br>  <b>FillViewport</b> - a screen that stretches to a certain size in accordance with its proportions.  In this case, I made a virtual screen of size 800/450, i.e.  the aspect ratio is 16 to 9. On it I placed all the remaining objects of the game world.  Because of its special characteristics, it does not completely occupy the screen on some devices (for example, on Aipad), which is why such absurdity appears as the departure of bombs from the invisible border of this screen (see figure).  But the gameplay on all devices is the same and the bombs fly on the iPhone for the same amount of time as on nexus 7. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bf8/096/480/bf80964803da48a6b11653785369eb28.png"></div><br><br><h3>  <b>Respawn Bombs</b> </h3><br>  With the advent of bombs, things are not so straightforward.  What is there with bombs?  Yes, everything is simple: first a shadow appears, it increases and darkens, at the same time a bomb falls from the sky, and when it collides with the earth, an explosion forms and the shadow disappears.  It is the explosion that kills the character. <br><br>  Several times I reworked the algorithm for the appearance of bombs, but did not come to perfection.  Now I will explain everything to you. <br>  Let's start with how it actually works: <br>  1. Find the random X coordinates of the bomb's new shadow in the virtual screen width (800 pixels) + 400 pixels. <br>  2. Check the coordinates of the new bomb shadow to ensure that it is at a previously set minimum distance from other shadows (namely, shadows, and not bomb explosions). <br>  3. If everything is good with verification, then a new shadow from the bomb appears, and after that an explosion. <br><br>  Here is the actual code (forgive me, it is terrible): <br><br><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkCollision</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bombx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> minderuction)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> good=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">short</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;bombs.size(); i++){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!bombs.get(i).getRocket().isHaveDamage()){ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> curbombx = bombs.get(i).getShadow().getX(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> curbombwidth = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(bombs.get(i).getShadow().getWidth()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(curbombx&gt;bombx){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(bombx+curbombwidth+minderuction &gt;= curbombx){ good = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(curbombx+curbombwidth+minderuction &gt;= bombx){ good = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> good; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> minderuction, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> minx)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> createbomb = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(getRandomInt(<span class="hljs-number"><span class="hljs-number">2</span></span>)==<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(bombs.size()&lt;<span class="hljs-number"><span class="hljs-number">16</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> newbombx = getRandomFloat((<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)(screenWidth+<span class="hljs-number"><span class="hljs-number">400</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(newbombx &gt; minx &amp;&amp; checkCollision(newbombx, minderuction)){ CreateBomb(newbombx); createbomb = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> createbomb; }</code> </pre> <br><br>  What is wrong?  This algorithm is based on an unmanaged random.  A player may be bored for 5 minutes due to the fact that the bombs do not prevent him from running through the playing field, and then die instantly due to two nearby bombs.  According to the idea, you can increase the minimum distance between the bombs, but that's not so simple.  This distance was calculated based on the length of the stopping distance of the main character, as well as its width.  And because of its increase, the game may become too easy -&gt; uninteresting. <br><br><img src="https://habrastorage.org/files/a86/4d7/484/a864d74840cd4b03b9cc6886d07c06fa.png"><br><br><h3>  <b>Game release</b> </h3><br>  So, the development of the game took me about 2 months (almost completed a couple of weeks).  Now it's time to post the game on Google Play.  Everything is very simple here: I registered with the developer on Google, filled out all the fields in the console, posted screenshots.  Although I was surprised that because of the new age limit system, my rating in the United States has risen to 12+, but I have nothing to do here.  After sending the application for processing and proceeded to release the game in the App Store. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5a/73f/4b5/b5a73f4b5e3375d8066fa27168aa4572.png" alt="image"><br><br>  As you know, for iOS development, you need a Mac.  And I did not have it (and now no).  So I had to get out.  I learned that you can run a pirated version of OS X on a virtual machine in Windows.  I did this for about a week.  I could install the necessary version of this OS only from 7 times.  Programs on it terribly braked, only XCode was downloaded and installed about 8 hours.  But later, by setting up a virtual machine, I was able to squeeze a non-inhibiting picture out of it (and then the game with the framework compiled for about an hour and a half). <br><br>  Now I had to connect the Game Center and AdMob ads to the iOS project.  This was not particularly difficult, since I already had experience with the Android application. <br><br>  I have some problems with debugging.  It turned out that to test your game on the iPad (which a friend lent me to develop) you need to have developer status.  I went to the Apple site, left the necessary application, sent my card details and after about 2 days my company withdrew money from it, and the key that they sent to activate the developer account was non-working.  On this issue, I wrote to them about 5 times within 2 days, waiting for an answer.  Only on the 3rd day, when I was about to finally spam their support, they sent me the working activation key from the developer account.  The support itself answered only on the fourth day, but this is no longer important.  (Now I am thinking that I should not have written so many appeals for support.) <br><br>  The game was ready for iOS and now I had to release it.  I made screenshots for different diagonal devices for the App Store using Photoshop, the description for the game helped me translate into English my friend.  Finally the game was sent.  At first I asked for an accelerated verification of the application from Apple, but they answered that they were already very busy, and I had to wait for the moderation of the game for 8 days. <br><br><img src="https://habrastorage.org/files/21b/8fd/afd/21b8fdafd4de42c092061bd6f335b0cc.jpg"><br><br>  That, in fact, was my first game for Android and iOS.  I am very happy about this and hope you enjoyed my development history for these two great operating systems.  If it is interesting to learn something else, I will be happy to answer all your questions, and maybe I will write a new post. <br><br>  <i>Thanks to <a href="http://habrahabr.ru/users/tibr/" class="user_link">Tibr</a> for helping <a href="http://habrahabr.ru/users/tibr/" class="user_link">me</a> write this article.</i> </div><p>Source: <a href="https://habr.com/ru/post/260461/">https://habr.com/ru/post/260461/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260451/index.html">Why Go surpasses mediocrity</a></li>
<li><a href="../260453/index.html">SAM solutions - complete order in IT infrastructure</a></li>
<li><a href="../260455/index.html">Oracle Database In-Memory</a></li>
<li><a href="../260457/index.html">Job Stories for Interface Design</a></li>
<li><a href="../260459/index.html">Attackers used stolen digital certificate for Duqu2 malicious campaign</a></li>
<li><a href="../260463/index.html">Looking at the code with eyes closed</a></li>
<li><a href="../260467/index.html">Explosive GameDev. The history of my game</a></li>
<li><a href="../260469/index.html">Kolab Groupware (Part 1 - Overview)</a></li>
<li><a href="../260471/index.html">We use the built-in microcontroller in Intel Edison</a></li>
<li><a href="../260475/index.html">How we implanted voice calls in Megaplan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>