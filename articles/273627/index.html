<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Corporate GitHub: how Azure increased the number of employees on GitHub to two thousand</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We at Latera are creating billing for telecom operators . In a blog on Habr√©, we not only talk about the features of our system and the details of its...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Corporate GitHub: how Azure increased the number of employees on GitHub to two thousand</h1><div class="post__text post__text-html js-mediator-article">  <i>We at Latera are creating <a href="http://www.hydra-billing.ru/">billing for telecom operators</a> .</i>  <i>In a blog on Habr√©, we not only talk about the features of our system and the details of its development (for example, <a href="http://habrahabr.ru/company/latera/blog/267083/">ensuring fault tolerance</a> ), but also publish materials about how other companies work with IT infrastructure.</i>  <i>Today we bring to your attention an adapted translation of the <a href="https://azure.microsoft.com/en-us/blog/enterprise-scale-github-at-azure/">note</a> by Azure‚Äôs main developer, Jeff Wilcox, about how more than two thousand project team members moved to GitHub.</i> <br><br>  Over the past four years, Azure has learned a lot from the opensource community, so we had to reconsider approaches to work and minimize the number of manual operations needed to maintain a large GitHub organization.  We automated most of the management functions by creating an open source web application that uses some of the Azure services (these are App Service, Active Directory and Azure Storage), the GitHub API, and other free solutions. <br><br>  In this post, I will introduce you to our portal for working with GitHub, the source code of which is now available there.  I will talk about the functions, features and main software blocks of the application, as well as share with you the story of how GitHub contributed to our development.  At the end I will add a few links where you can get more information.  I also prepared a separate <a href="http://www.jeff.wilcox.name/2015/11/azure-on-github">post</a> , revealing the details of the project: how it all began, and what we came to. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Developers and organizations of any size will immediately feel how useful our portal can be: Azure Active Directory gives the engineering team access to the tools to work with GitHub. <br><br> <a href="http://habrahabr.ru/company/latera/blog/273627/"><img src="https://habrastorage.org/files/e56/854/eaf/e56854eaf4ce44d4ba78598d2619e022.png"></a> <br><br>  <i>A web portal created using Azure, the GitHub API and Node.js allows you to automate GitHub and speed up the adaptation of new employees.</i> <a name="habracut"></a><br><br><h4>  Azure open source portal for GitHub </h4><br>  To invite someone to a GitHub organization, an administrator must send an invitation to a person, stating their username on GitHub, which is often not related to the company name or email address. <br><br>  GitHub is a great service for teams of small and medium sizes: simple solutions that it offers work in most cases.  However, we have outgrown it - we needed not simplicity, but automation, in order not to waste time on routine tasks and concentrate on important tasks. <br><br>  Although GitHub Enterprise has some integration capabilities, in the case of GitHub.com, where we interact with the world of open source software, every employee needs an official account. <br><br>  The Azure portal for GitHub began as a project for the hackathon, when we needed to offer a new solution to the problem of the complexity of manually managing organizations and teams.  By giving users the ability to authenticate using both personal and corporate accounts and automating the process of joining teams, we can significantly simplify working with GitHub, take a course on open source software and make our lawyers happier. <br><br>  Over time, we adjusted to the <a href="https://github.com/orgs/improved-permissions">changes made</a> by GitHub and set up integration with other systems in the company.  Microsoft also went through this. <br><br>  New tools and simple organization of the workflow allowed delegating part of the tasks to the maintainers (specialists who are directly related to the project who are not administrators), which increased the productivity of engineers, giving them the opportunity to work at a comfortable pace. <br><br>  Despite the fact that we were interested in developing our project, we hope that with the development of GitHub we will be able to reduce part of the portal‚Äôs functionality.  GitHub is our reliable partner, and we are happy to grow together. <br><br>  Let's take a look at some simple work scenarios and features of the portal. <br><br><h4>  Instant introduction to the work of new employees </h4><br>  With the growing number of organizations there is a need to increase the number of administrators, but this is not the best solution.  Administrators have all the rights to read / write, access to critical areas of the repository, manage teams and organization, because they probably have more important tasks than manually inviting new members to the group.  When employees become too many, you have to ask important questions: ‚ÄúIs this user an employee of Microsoft?  Do we know who he is?  Is this girl still working with us, or has she quit long ago? ‚Äù <br><br>  The portal uses the <a href="https://developer.github.com/v3/">GitHub API</a> to allow some operations to be performed as an administrator.  Using the open OAuth authorization protocol, we can send invitations to users and accept their requests without delay, and also check whether they have two-factor authentication enabled (this is necessary for full compliance with standards).  After that we offer them the opportunity to join the teams in which they will work. <br><br>  Another portal provides an opportunity to share experiences, distribute links to available training materials and guidelines.  Some of our engineers start working with GitHub for the first time, so their training is a very important aspect. <br><br><h5>  Support for multiple organizations </h5><br>  The portal supports many organizations.  Users can join several at once.  When personnel changes occur, we can be sure that we have excluded all former employees from all organizations.  An administrator can be assigned to only one organization, since each of them has its own unique credentials. <br><br><h5>  Distribution of roles between administrators </h5><br>  There are no administrators in the Azure Github family of organizations that are regular users - all administrator accounts are specifically protected and assigned to roles.  This reduces the likelihood of errors and eliminates random "push" commits to the repository. <br>  Each organization has a special command that issues individual sudo-rights to the users - they will help in cases when the administrator is unavailable for some reason, as well as in emergency situations. <br><br><h5>  The list of employees is mapped to usernames on github </h5><br>  The list of employees and their GitHub data are displayed side by side during any of the operations on the portal: adding team members and maintainers, viewing requests to join the team, viewing requests to create new repositories.  This simplifies the process of joining workers to teams, since they no longer need to additionally recognize their username on GitHub. <br><br>  The application also provides several hooks and REST APIs that allow other open source tools used by Microsoft (including the <a href="https://azure.microsoft.com/en-us/blog/simple-contribution-to-azure-documentation-and-sdk/">Azure CLA</a> bot) to interact with the data store. <br><br><h5>  Transferring some tasks to the maintainer </h5><br>  We trust our engineers, so part of the important decisions are made not by the administrators, but by <a href="https://help.github.com/articles/giving-team-maintainer-permissions-to-an-organization-member/">team maintainers</a> .  They have their own access rights.  Each organization has a special team whose task is to approve the creation of repositories. <br><br>  Accompanying people have several big rights and can make the repositories public, add new team members, manage access rights, web-hooks and connect freelancers to the work. <br><br>  Until October 2015, our portal had such a ‚Äúposition‚Äù as a team owner.  These people could attract new members to their work and manage repositories.  After GitHub released an update of organizations, we switched to a new model. <br><br><h4>  Approving Requests Using Tasks in GitHub </h4><br>  Instead of a database for managing admissions and creating repositories, we use a lightweight NoSQL database combined with tasks in GitHub.  When a request is made to join a team in a private repository, a task is opened, to which all team members have access, and the team maintainer receives a notification with a link by which this request can be processed.  With this approach, we have achieved a new degree of transparency and simplicity. <br><br><h5>  Using Azure Cloud Infrastructure </h5><br>  The portal uses open source software, in particular, it uses the following Azure services: <br><br><ul><li>  Application hosting, high availability, continuous deployment and configuration are all possible thanks to the <b>Azure App Service</b> .  CI / CD are customized in order to simplify the process of scanning and testing, to speed them up.  Deployment slots allow you to release updates on the fly using the preparatory Git branch.  In extreme cases, the Diagnostic Log Stream service, which operates in real time, can quickly and painlessly diagnose problems, and Application Settings will notify you of an existing API or portal problem. </li><li>  Using <b>Azure Active Directory</b> and a list of Microsoft employees, our application can authenticate and authorize employees. </li><li> Virtual links to user profiles are stored in the <b>Azure Table Storage</b> , a storage service element.  This is a fast and inexpensive highly reliable, distributed storage (geo-redundant storage). </li><li>  <b>Azure Redis Cache</b> is a managed cache whose task is to reduce the load on the GitHub API, storage, and other important work data.  This allows you to deploy the required number of applications with shared cache in any number of regions or instances. </li><li>  <b>Visual Studio Application Insights</b> and the Node.js NPM module are used to monitor the performance of the web client, monitor the response time from the server, and conduct availability tests from anywhere in the world. </li></ul><br><img src="https://habrastorage.org/files/d2a/0b1/4e9/d2a0b14e91794d53987470653e664fc7.png"><br>  <i>This is what the Azure portal looks like.</i>  <i>The main page contains basic data and information about the portal.</i>  <i>Here you can find analytical data of the application, response time graphs and time graphs of the number of get / set Redis requests.</i>  <i>Also from here you can quickly go to other Azure services and follow the current sweep process on the App Service</i> <br><br><h4>  Excellent open source tools </h4><br>  Among the front-end components used in the project are Bootstrap, jQuery and a few other small plug-ins of the latter.  The portal itself is a Node.js application that uses the following NPN modules: applicationinsights, async, azure-storage, express, jade, moment, node-uuid, octonode, passport-passport-azure-ad, passport-github, redis.  The application is available on Mac, Windows and Linux platforms. <br><br>  In the development process, we participated in the creation of <a href="https://github.com/pksunkara/octonode">octonode</a> Pavan Kumar Sunkara - <a href="https://github.com/pksunkara">pksunkara</a> , implementing a large number of additional API calls for the GitHub organization management service. <br><br>  I hope that many of you will be able to benefit from our work, as well as share your thoughts with us, because the code is publicly available, and everyone can contribute.  Azure coordinates its work with the Microsoft office responsible for distributing open source software, delivering the portal as part of the corporation‚Äôs Open Source tools. <br><br><h4>  Azure on GitHub: four years later </h4><br>  When we created our first organization at the end of 2011, we already had a development plan, set out before <a href="http://weblogs.asp.net/scottgu/meet-the-new-windows-azure">June 2012</a> , and GitHub was part of it: a new space outside of the area familiar to Microsoft.  It all started with the fact that we pulled out a corporate credit card to pay for GitHub, and immediately hired 20 people as administrators of organizations. <br><br>  Instead of developing projects ‚Äúin secret from everyone‚Äù, we got the opportunity to work in a team and created many of our open projects right on GitHub.  Early feedback gathering and code verification by the programmer community had a positive effect on product quality.  It turns out that a huge number of Azure clients use GitHub - working with them was very exciting. <br><br>  Today, our GitHub organization has more than 2,000 people from all corners of Microsoft.  At the same time, we have a small amount of reporting documentation, a contract with the GitHub sales department, a high level of involvement in the work of the organization, and many engineers enjoying the newfound opportunities. <br><br>  Part of the decision-making tasks were given to the maintainers, who understand the subtleties of the development process.  Our engineering teams consult the Open Source community on a wide range of issues: from resource templates ( <a href="https://github.com/Azure/azure-quickstart-templates/tree/master/node-mongodb-high-availability">deploy a</a> highly reliable MongoDB cluster in the cloud directly from GitHub) to better documentation on the Azure website, SDK and trial versions of the service.  I'd like to see what happens next. <br><br><h4>  Additional materials </h4><br><h5>  An open source portal for github </h5><br><ul><li>  <a href="http://www.jeff.wilcox.name/2015/11/azure-on-github">A blog</a> in which Jeff Wilcox tells in detail the story of creating an open source portal and describes its architecture; </li><li>  Azure <a href="https://github.com/Azure/azure-oss-portal">portal</a> for GitHub on GitHub - you can use clone (), you can fork (), or you can just see; </li><li>  <a href="http://engineering.microsoft.com/2015/10/29/moving-azure-engineering-to-git/">Check out</a> how the Azure engineering team started using Git version control at Microsoft. </li></ul><br><h5>  Node.js on Azure </h5><br><ul><li>  <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-nodejs-develop-deploy-mac/">Tutorial</a> : Create a Node.js web application in the Azure App Service; </li><li>  <a href="https://azure.microsoft.com/en-us/documentation/articles/storage-nodejs-how-to-use-table-storage/">Learn</a> about the capabilities of Azure Table Storage and Node.js; </li><li>  <a href="https://github.com/Azure/azure-sdk-for-node">Azure SDK</a> for Node.js and <a href="https://github.com/Azure/azure-storage-node">Azure Storage SDK for Node.js</a> on GitHub. </li></ul><br><h5>  Azure services and cloud infrastructure </h5><br><ul><li>  <a href="https://azure.microsoft.com/en-us/services/app-service/">Azure App Service</a> : Build and deploy smart mobile and web apps; </li><li>  <a href="https://azure.microsoft.com/en-us/services/active-directory/">Azure Active Directory</a> : Access control for the cloud; </li><li>  <a href="https://azure.microsoft.com/en-us/services/cache/">Azure Redis Cache</a> : Dedicated Redis running Microsoft; </li><li>  <a href="https://azure.microsoft.com/en-us/services/storage/">Azure Storage</a> : Storage for blobs, tables, queues, and other important service data; </li><li>  <a href="https://azure.microsoft.com/en-us/services/application-insights/">Visual Studio Application Insights</a> : Find problems, diagnose problems, and use statistics for your web applications. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/273627/">https://habr.com/ru/post/273627/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273617/index.html">Remote registration of SPD (FOP) in Ukraine - 2.0</a></li>
<li><a href="../273619/index.html">Powershell String Optimization</a></li>
<li><a href="../273621/index.html">Playing in the hospital or as we studied and tested the work of the health care system in a European country</a></li>
<li><a href="../273623/index.html">The Hacking PostgreSQL course is coming soon</a></li>
<li><a href="../273625/index.html">Webolomka 2016</a></li>
<li><a href="../273629/index.html">Accidents are not accidental?</a></li>
<li><a href="../273633/index.html">The story about msdb size of 42 GB</a></li>
<li><a href="../273635/index.html">Autonomous robot runs on the "eight"</a></li>
<li><a href="../273637/index.html">Spotify: User Interface Formation</a></li>
<li><a href="../273639/index.html">The main prize of a series of marathons "Mastercard" Master of Code took the team from Singapore</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>