<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Virtual Pentest Laboratory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Formulation of the problem 

 Some time ago I decided to update my knowledge in pentest . 

 He made a plan that included both a theoretical aspect an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Virtual Pentest Laboratory</h1><div class="post__text post__text-html js-mediator-article"><h2>  Formulation of the problem </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pl/kt/iz/plktiz4--uu26c-5zdl94vlurvg.jpeg"></div><br>  Some time ago I decided to update my knowledge in <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D1%2581%25D0%25BF%25D1%258B%25D1%2582%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25BD%25D0%25B0_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25BD%25D0%25B8%25D0%25BA%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">pentest</a> . <br><br>  He made a plan that included both a theoretical aspect and a practical one: the application of the knowledge gained in practice and its consolidation.  Everything was clear from the theoretical part: books, courses, etc., there is a mass of materials and resources on the Internet - I don‚Äôt want to read. <br><br>  The practical part should be in the form of pentest labs <s>with blackjack and indecency</s> from several machines with different vulnerabilities. <br><a name="habracut"></a><br>  With practice, it turned out to be more difficult because of the limitations that I personally have - there is no possibility to make a test stand at home / at work. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Thinking over the problem from different angles again, I turned <s>Austerlitz</s> into the <s>sky</s> in the clouds ... I used to use the Microsoft Azure cloud resource. <br><br>  A quick search on Google gave a good catch: Google Cloud, Microsoft Azure, AWS Amazon, Oracle Ravellosystems. <br><br>  These services are conditionally free to use their resources, there is even the possibility of raising a Kali Linux machine from a prepared image (from Amazon, Microsoft). <br><br><h4>  The first approach to the projectile </h4><br>  Since, in the context of creating a virtual laboratory, none of the resources was used, I started on the list: <br><br>  Candidate # 1: Google, a statement about $ 300 for free, looked tempting, but it ended badly at the registration stage - we work only with legal entities.  The face did not come out. <br><br><img src="https://habrastorage.org/webt/wv/us/yj/wvusyjacf-5inae-sbcgjzty_2y.jpeg"><br><br>  Candidate # 2: Microsoft Azure is also $ 300 to try the service, but not for me, these loans were previously spent on other projects, so I had to pay for a virtual machine with my own money. <br><br><img src="https://habrastorage.org/webt/z3/d8/mb/z3d8mbb8jk0chux_z635pseynvc.jpeg"><br><br>  In addition, like Amazon, Microsoft provides 750 hours of work every month for a year from the date of registration. <br><br>  There is an image of the Kali Linux machine. <br><br>  Candidate # 3: Amazon AWS - gives 750 hours of work every year for a year for free, but with heavily trimmed machines, there is an image of the Kali Linux machine. <br><br><img src="https://habrastorage.org/webt/8r/nm/ud/8rnmudkl--_nnpu0wpceooce5py.jpeg"><br><br>  Candidate # 4: Oracle - $ 300 for 1 month, the ability to upload your own image. <br><br><img src="https://habrastorage.org/webt/6b/ai/3p/6bai3pcfuobg-7jpvypt_6tw0rk.jpeg"><br><br><h4>  Crocodile is longer than wide </h4><br>  <i><b><a href="https://azure.microsoft.com/">Microsoft Azure</a></b></i> <br><br>  Since Google didn‚Äôt work out right away, we‚Äôll go straight to candidate No. 2 Microsoft. <br><br>  <i>check in</i> <br>  The account has already been additional registration is not required. <br><br>  <i>Interface</i> <br>  The control panel is quite visual and informative, although in my opinion, it is somewhat overloaded with details that allow you to configure what you need. <br><br>  <i>The picture is clickable</i> <br> <a href=""><img src="https://habrastorage.org/webt/0_/z7/4o/0_z74ocwe8jkx2v69hgmq-xcq84.jpeg"></a> <br>  <i>MS Azure interface screenshot</i> <br><br>  <i>Create a virtual machine</i> <br>  Virtual machine picked up quickly and effortlessly. <br>  Here is a <a href="https://docs.microsoft.com/ru-ru/azure/virtual-machines/windows/quick-create-portal%3Ftoc%3D%252Fazure%252Fvirtual-machines%252Fwindows%252Ftoc.json">link</a> to the manual. <br><br>  <i>Cost control</i> <br>  In various information sections, it is clearly seen where and how the money was spent. <br><br>  <i><b><a href="https://aws.amazon.com/">AWS Amazon</a></b></i> <br><br>  <i>check in</i> <br>  Registration is not difficult, you will need to additionally check your bank card and telephone. <br><br>  <i>Interface</i> <br>  The interface is simpler than, in MS Azure, all the necessary settings are available. <br><br>  <i>The picture is clickable.</i> <br> <a href=""><img src="https://habrastorage.org/webt/l9/iz/sl/l9izsll2htstwppyr-mr75ylk40.jpeg"></a> <br>  <i>AWS Amazon Screenshot Screenshot</i> <br><br>  <i>Create a virtual machine</i> <br>  Virtual machine picked up quickly standard distribution.  The virtual machine can also be run from its own distribution. <br><br>  It is worth noting that in order to access a virtual machine, you need to create a pair of keys; an administrator password will be obtained on the basis of the private key. <br><br>  <i>Cost control</i> <br>  I will say this: without features. <br><br>  <i><b><a href="https://cloud.oracle.com/en_US/ravello">Oracle Ravellosystems</a></b></i> <br><br>  <i>check in</i> <br>  Registration is similar to previous members. <br><br>  <i>Interface</i> <br>  Much attention is paid to the visual component, while there are the necessary settings, although it is not always obvious where the item is located and how it works. <br><br>  <i>The picture is clickable.</i> <br> <a href=""><img src="https://habrastorage.org/webt/zz/me/m1/zzmem1itrajx4fea63t-epup4ha.jpeg"></a> <br>  <i>Screenshot Oracle Ravello interface</i> <br><br>  <i>Create a virtual machine</i> <br>  You can use an already pre-configured image or download your own distribution. <br>  Virtual machine picked up quickly from its own distribution. <br>  <a href="https://www.vladan.fr/how-to-create-a-simple-vm-in-ravello/">Instructions</a> for deploying a virtual machine. <br><br>  <i>Cost control</i> <br>  The most important thing is clear - how much and for what should money <br><br>  <i>Special features</i> <br>  Good visual component.  All data centers are located in the USA, so communication is not instantaneous. <br><br><h4>  I have to tell you </h4><br>  The final choice fell on Oracle.  Uploaded and installed the image of Kali Linux in the Oracle cloud.  Since I also needed RDP in Kali, I used the commands from <a href="https://gist.github.com/Erreinion/f2eda80adfa06cf330d9874dc667e998">the</a> configuration <a href="https://gist.github.com/Erreinion/f2eda80adfa06cf330d9874dc667e998">instructions</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Configuring RDP Kali Linux</b> <div class="spoiler_text"><pre><code class="hljs pgsql">OS: Kali Linux <span class="hljs-number"><span class="hljs-number">2016.2</span></span> AMI: Updated <span class="hljs-number"><span class="hljs-number">19</span></span> Oct <span class="hljs-number"><span class="hljs-number">2016</span></span> Bash: #   sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> -y &amp;&amp; apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> upgrade -y sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> dist-upgrade -y sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install xrdp lxde-core lxde tigervnc-standalone-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> -y sudo <span class="hljs-keyword"><span class="hljs-keyword">update</span></span>-alternatives <span class="hljs-comment"><span class="hljs-comment">--config x-session-manager #  xfce4-session () #  xrdp.ini,     sudo nano /etc/xrdp/xrdp.ini autorun=sesman-any max_bpp=16 [sesman-any] ip=127.0.0.1 #      sudo nano /etc/X11/Xwrapper.config allowed_users=anybody #   sudo service xrdp start sudo service xrdp-sesman start #         sudo update-rc.d xrdp enable sudo systemctl enable xrdp-sesman.service</span></span></code> </pre> <br></div></div><br><h4>  Summary table </h4><br><table><tbody><tr><th>  Service </th><th>  Terms of payment </th><th>  Interface </th><th>  Other </th></tr><tr><td>  MS Azure </td><td>  $ 300 when registering for the first time </td><td>  Quite difficult </td><td>  not </td></tr><tr><td>  AWS Amazon </td><td>  750 working hours monthly for a year </td><td>  Relatively simple </td><td>  not </td></tr><tr><td>  Oracle </td><td>  $ 300 per month at registration </td><td>  Plain / visual </td><td>  Data Centers in the USA </td></tr></tbody></table><br><h4>  Conclusion </h4><br>  In conclusion, the following should be noted.  If you just need a virtual machine for pentest, the difference between the services is not great, I personally liked MS Azure. <br><br>  If you need to create a lab of several virtual machines on your own images, then you should pay attention to Oracle with the service bring your own image, but <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/classic/createupload-vhd">MS Azure</a> and <a href="https://aws.amazon.com/ru/ec2/vm-import/">Amazon AWS</a> have similar capabilities for loading images. <br><br>  There are already prepared images of vulnerable systems for training, for example, <br>  <a href="https://information.rapid7.com/metasploitable-download.html">Metasploitable</a> <br><br>  There is a good book: <i>‚ÄúProfessional Penetration Testing: Creating and Learning in a Hacking Lab‚Äù</i> by Thomas Wilhelm. <br><br>  Please note that some companies that provide machine images for pentesters require <u>permission</u> for such activities.  Here is Amazon's AWS <a href="https://aws.amazon.com/ru/security/penetration-testing/">policy</a> as an example. <br><br>  In addition, there are paid pentest laboratories for both companies and individuals. <br><br>  <b>PS</b> In the process of searching for material for the article I found a good comparison of cloud <a href="https://blogs.endjin.com/2016/07/aws-vs-azure-vs-google-cloud-platform/">services</a> .  The publication dates from July 2016, but in any case it may be useful to read. </div><p>Source: <a href="https://habr.com/ru/post/343780/">https://habr.com/ru/post/343780/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343770/index.html">Lecture Yandex: Advanced UI, Part One</a></li>
<li><a href="../343772/index.html">‚ÄúI am watching you‚Äù or how to make SCADA from CADa (MultiCAD.NET API)</a></li>
<li><a href="../343774/index.html">Hole from a hosting provider or how to get access to a remote (not active) account</a></li>
<li><a href="../343776/index.html">Ideal catalog, data sample optimization</a></li>
<li><a href="../343778/index.html">Entity-Component-System Design Pattern - implementation and sample game</a></li>
<li><a href="../343782/index.html">Two years of successful use of Edition-Based Redefiniton in Oracle databases</a></li>
<li><a href="../343784/index.html">C ++ crashes in WebAssembly on different browsers</a></li>
<li><a href="../343788/index.html">Patties in go</a></li>
<li><a href="../343790/index.html">Configuring Authentication in SAP Netweaver AS Java (Part 3 of 3)</a></li>
<li><a href="../343792/index.html">Digital events in Moscow from December 4 to 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>