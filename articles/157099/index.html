<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why do so many certified fault-tolerant data centers crash?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are two main documents that are most often mentioned when discussing data center standards: these are the TIA 942 standard and the level classif...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why do so many certified fault-tolerant data centers crash?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/3c5/1a3/632/3c51a3632e4503f6c59f5b3914175b4b.jpg"><br><br>  There are two main documents that are most often mentioned when discussing data center standards: these are the <b>TIA 942</b> standard and the level classification from the <b>Uptime Institute</b> .  Both of these documents regulate levels (Tier), which often leads to confusion: for example, the Tier III by TIA 942 and Tier III by the Uptime Institute are two big differences. <br><br><h4>  TIA vs Uptime </h4><br>  <b>TIA 942 - Telecommunications Industry Association - Telecommunications Infrastructure Standard for Data Centers:</b> <br><ul><li>  This standard was developed by the United States Telecommunications Industry Association and, above all, concerns the organization of structured cabling systems in the data center, and to a lesser extent, fault tolerance and other engineering subsystems. </li><li>  Is <b>advisory in</b> nature. </li><li>  There are step-by-step instructions and recommended schemes (assistance to the engineer).  "Do as it is written here and get a good result." </li><li>  Compliance with the standard is declared by the owner of the object or the executor of the project (at the level ‚ÄúI did what you said, <font color="red"><i>honestly</i></font> ‚Äù). </li><li>  Usually, only project documentation is checked for compliance with the standard. </li><li>  Once implemented, the object does not lose the level. </li></ul><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Uptime Institute - Tier Classifications Define Site Infrastructure Performance</b> <br><ul><li>  This document is not a standard, but rather a methodology developed specifically for standardizing the fault tolerance of the data center.  For example, the telecommunications infrastructure is practically not considered. </li><li>  Is <b>mandatory</b> (if you want to get a certificate, of course). </li><li>  There are no step-by-step instructions (they quickly become obsolete), but there are formulated basic design principles and approaches.  "Do according to these principles and get a fault-tolerant object." </li><li>  Certification is carried out only by the Uptime Institute. </li><li>  Both the project and the result obtained are certified (running platform). </li><li>  It is checked what exactly happened as a result - without much emphasis on how this result was achieved, that is, flexibility is allowed in the design plan in a particular situation (if it plays into the result). </li><li>  First, the project is certified (Tier Certification of Design Documents), then the finished site (Tier Certification of Constructed Facility), and then regularly, at intervals, for example, once a year, three or five already operational (Operational Sustainability Certification) for its compliance standard.  The latter is done to evaluate the operation, monitor the equipment life and other things that change in the process. </li></ul><br><br>  At the same time, the classification of levels in TIA 942 was proposed by the Uptime Institute, and in essence they are very similar.  In this case, the principles of evaluation are fundamentally different.  Once again: TIA says, ‚ÄúDo exactly as it is written, and everything will be OK,‚Äù the Uptime Institute says, ‚ÄúYou should have everything OK by any methods, in accordance with the given principles, and then we will check that it works.‚Äù <br><br><h4>  Levels I-IV </h4><br>  Essentially, both for the TIA 942 standard and for the Uptime Institute methodology, the classification by levels is the <b>same</b> .  Roughly describe them as follows: <br><ul><li>  <b>Tier I</b> - without reservation.  Availability of 99.671%. </li><li>  <b>Tier II</b> - backup critical nodes.  Availability of 99.741%. </li><li>  <b>Tier III</b> - reservation of critical nodes, ways of obtaining electricity and routes of delivery of the coolant.  At the same time, it is possible to decommission any node for maintenance, while maintaining the full functionality of the facility as a whole.  Availability 99.982% </li><li>  <b>Tier IV</b> is the most fault-tolerant level, where one accident is allowed (and not a planned decommissioning of a node) at a time.  As an example of an accident - a critical human error.  In essence, these are two Tier-2s that are built in the same building around the server racks.  Availability 99.995%, which provides downtime of just 26 minutes per year. </li></ul><br><br>  As an example: if we make a system with the delivery of a heat transfer fluid through pipes, a double ring should be made in Tier III, and you can do with one in Tier II.  In this case, the redundancy level of chillers and fan coils may be the same.  The same goes for power supply and other systems.  Level IV is even cooler: for example, UPSs and power lines should not just be duplicated, but also spaced into different rooms: if the first unit explodes (an emergency, not a planned stop), then the second should not suffer.  If the pipeline breaks through in some place, it does not affect the duplicating electronics in any way - there is a physical separation of the systems. <br><br>  Speaking in narrow-minded language (very rudely), the levels look like this: the first works and can refuse, the second as a whole works normally and withstands some of the most common failures, the third survives in any non-critical conditions, the fourth is suitable for work in military conditions. <br><br>  At the same time, for the United States, the cost of the object fluctuates as follows: 30K, 50K, 65K and 100K dollars per rack (these are very approximate figures for estimating the cost ratio between the levels).  In Russia, usually even more expensive.  Thus, if you choose between Tier II and Tier III, the budget does not increase very much, but uptime - more than.  But the question is not even in costs, but how well everything is designed and protected from operational problems on the spot. <br><br><img src="https://habrastorage.org/storage2/2b3/73a/13c/2b373a13c23f874694a2ddb51d2f6e41.png"><br><br><h4>  Why do we need these standards? </h4><br>  Thinking about the standards of classification of data centers in the early 90s: then the Uptime Institute began to write down on paper the basic principles of building fault-tolerant objects.  The task of the Uptime Institute was to study the methodology for the construction of reliable high-tech facilities and to investigate every problem that resulted in a failure in the data center.  At the time of launch, the company had documented experience in building data centers and their ‚Äúwarm tube counterparts‚Äù since the 1970s, and those computer centers were very large and completely fault-tolerant.  In these centers, there was also a statistic of the main problems: starting from the famous moth and ending with all sorts of minor repairs. <br><br>  As a result, approximately in the 95th year, a data center classification was proposed by levels based on their fault tolerance.  This classification was proposed so that customers could choose the infrastructure that meets their needs according to the task.  Roughly speaking, if the customer builds a call center, then he does not have to think about the availability of four nines (99.99% uptime), but if the data center where systems are critical for the bank‚Äôs business, then yes, then it‚Äôs worth it.  This classification was taken into account in the first edition of the TIA 942. <br><br>  In 1996, the first document appeared describing the requirements for the engineering infrastructure of computer centers according to the methodology of the Uptime Institute.  The main four levels were introduced based on failure statistics and organization experience.  The fault tolerance level indicated a possible uptime, and without intermediate stages: that is, there were no II + and III + and there wasn‚Äôt - even if it had not reached due to one non-redundant valve on a not-so-important backup system up to three - a two was assigned anyway.  Actually, this is how the level is assigned now, so the words about the Tier II + is a personal fantasy of the owner, and it has nothing to do with the standard itself. <br><br>  The basic concepts with which documents operate are redundancy, the ability to service nodes without stopping the operation of an object as a whole, plus resistance to failures and accidents.  At the same time, a number of things that are very unusual for our reality are postulated: for example, according to the Uptime standard, it is considered that at levels I and II network power from the urban network can be the main source of electricity generation, but for levels III and IV it is not.  A city at this level of standard suddenly ceases to be reliable and is considered only as a cost-effective additional power source.  At the same time, the DGS system must ensure operation at full power, with no duration limitations. <br><br>  The purpose of creating a TIA is to help design engineers not to invent something of their own, but to design it in the manner suggested by the standard, which takes into account the experience of creating so many large objects.  The standard illustrates and describes the best techniques and solutions.  For its part, Uptime focuses on the principles, the implementation of which can achieve a given fault tolerance. <br><br>  <b>That's the difference</b> : TIA shows in great detail how to organize structured cabling systems, information links, and another engineer (which is logical, since in these things tips from best practice are quite important).  At the same time, Uptime does not focus on SCS or power supply, for example, but examines the influence of all engineering systems on the fault tolerance of equipment in the data center as a whole.  Or again (refuting one of the most common misconceptions): Uptime, in fact, does not regulate the choice of site, there is only an application in the spirit of "we noticed that Tier IV data centers usually have such sites, III has such and so on. P." <br><br><h4>  Practice </h4><br>  In our practice of preparing data centers for Uptime certification, several "unexpected ones" have surfaced.  For example, when we had our own data center certified by Tier III, it took quite specifically to organize the management of synchronization of diesel generators (the <a href="http://habrahabr.ru/company/croc/blog/151065/">details are right here</a> ) - in fact, few people in Russia even thought about it.  Or another example ‚Äúout of the unexpected‚Äù: when designing uninterruptible power systems, they usually look at the type of battery, capacity, tightness, maintainability, and so on ‚Äî that is, only the basic parameters of the batteries are considered.  In fact, the design of the data center should take into account the more "subtle" characteristics.  For example, the batteries also have different discharge curves (roughly speaking, different capacities at different discharge rates) - at part load everything is fine, but at full load the system will not be able to keep the set time, the diesel generator set will not have time to go to the required mode, and a failure will occur. <br><br>  And here is an example from the practice of one of the customers: nobody gets to the bottom of the state of diesel fuel on paper.  Roughly speaking, there are generators, there are backup lines for the delivery of fuel, and he is a solar diesel, the main thing is to refill it on time.  The data center can be rated as TIA compliant.  But in practice, <a href="http://habrahabr.ru/company/croc/blog/151065/">diesel</a> fuel in our country has a pair of magical properties, and <a href="http://habrahabr.ru/company/croc/blog/151065/">diesel engines may well be choked</a> .  This discrepancy is checked at the operational level.  Roughly speaking, the TIA will never have the question ‚Äúwhat if there is water in the tank instead of diesel fuel?‚Äù And ‚Äúwhen was the last time you changed the fuel?‚Äù.  The Uptime Institute has a debag team that aims to test such things in practice.  The guys took into account this fact and now they know not only about the fact that the fuel can suddenly fail (according to the methodology it is), but they also take into account how specifically. <br><br>  It is clear, everything can not be checked.  For example, there is always a <b>human factor</b> that creates extremely unpredictable situations.  Among the engineers goes bike, that even in the two thousand years in Israel, one of the data centers of a large IT-company stopped thanks to our compatriot in the new year.  He celebrated the holiday, drank right at the shift, then continued.  After midnight, the power from the city was gone, and diesel engines came up (no human involvement was required, automatic equipment worked).  But the hero was very much disturbed by the noise, and he manually raised all the generators in an emergency to continue the rest in a comfortable atmosphere.  There are no official confirmations of the story, but for some reason I believe in it, at least as an example of an extremely wild and illogical situation. <br><br><h4>  Automation </h4><br>  And finally - in the standards there are no recommendations on the organization of automation, triggered in emergency situations and recommendations on the organization of personnel such as emergency services.  At home we use the good old "Soviet" approach, when everything is done very simply and reliably, almost on the relay: no complicated microcontrollers with their own logic and no "machine uprising".  We bring automation to where the situation is unambiguous and we need a speed exceeding the speed of human reaction.  At the same time, everything where a balanced solution is required is left for manual control.  As a private example, automation switches from city to diesel.  Translation from a diesel engine back to the city (with the diesel engine disconnected) is done strictly by hand on the installation, and not by clicking in the interface.  The task is to ensure that important actions are not performed on ‚Äúautopilot‚Äù: many accidents occur precisely because of what people first do and then think.  Actually, I think that if there is a professional in the data center who does a good job, this is much more important and, more importantly, more reliable than the most intelligent engineering solutions. <br><br><h4>  Summary </h4><br>  So why can certified data center stand up?  The answer is because with the same level names (for example, Tier II) there is a huge difference between project certification without on-site verification and certification of a working site with a specific on-site verification.  If you do not fully understand how exactly the data center is certified (by TIA or Uptime), you should check the certification <a href="http://uptimeinstitute.com/TierCertification/certMaps.php">here</a> . <br><br>  Yes, look, geek porn with our data center increased responsibility in the title role can <a href="http://habrahabr.ru/company/croc/blog/147474/">be here</a> .  Even if you have already been in this topic, you may note a couple more details after explaining what was done and why according to the methodology of the Uptime Institute. </div><p>Source: <a href="https://habr.com/ru/post/157099/">https://habr.com/ru/post/157099/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../157085/index.html">TechCrunch: Crunchies Awards 2012 has started. We nominate Russian projects!</a></li>
<li><a href="../157087/index.html">Introduction to SVG graphics</a></li>
<li><a href="../157089/index.html">The tale of Skype, free-speech, Ballmer and Stallman</a></li>
<li><a href="../157093/index.html">Fuel UX - Twitter controls Bootstrap</a></li>
<li><a href="../157097/index.html">Richard Stallman suggests limiting software patents</a></li>
<li><a href="../157101/index.html">Friday at Parcsis</a></li>
<li><a href="../157105/index.html">Favorite number% username%</a></li>
<li><a href="../157111/index.html">Attractive experimental JavaScript plugins</a></li>
<li><a href="../157113/index.html">AWS: ElasticBeanstalk now supports Ruby applications and VPC integration</a></li>
<li><a href="../157115/index.html">Progressive Enhancement or Graceful Degradation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>