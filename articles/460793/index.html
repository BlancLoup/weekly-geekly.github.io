<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Structuring React Applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The material, the translation of which we publish today, reveals the approaches used by its author when structuring React applications. In particular,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Structuring React Applications</h1><div class="post__text post__text-html js-mediator-article">  The material, the translation of which we publish today, reveals the approaches used by its author when structuring React applications.  In particular, we will discuss here the folder structure used, the naming of entities, the places where the test files are located, and other similar things. <br><br>  One of the most pleasant features of React is that this library does not force the developer to strictly observe certain conventions regarding the structure of the project.  Much of this remains at the discretion of the programmer.  This approach is different from that, say, adopted in the Ember.js or Angular frameworks.  They give developers more standard features.  These frameworks provide for conventions regarding the structure of projects and rules for naming files and components. <br><br> <a href="https://habr.com/ru/company/ruvds/blog/460793/"><img src="https://habrastorage.org/webt/k6/9y/ug/k69yugvbt27p3wtccvzeqrf_v4w.jpeg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Personally, I like the approach adopted by React.  The fact is that I prefer to control something myself, without relying on certain ‚Äúagreements‚Äù.  However, there are many advantages to the approach to structuring projects that Angular offers.  The choice between freedom and more or less rigid rules comes down to what is closer to you and your team. <br><br>  Over the years of working with React, I have tried many different ways to structure applications.  Some of the ideas I applied turned out to be more successful than others.  Therefore, here I am going to talk about everything that has proven itself in practice.  I hope you find something here that is useful to you. <br><a name="habracut"></a><br>  I‚Äôm not trying to show here some ‚Äúonly right‚Äù way of structuring applications.  You can take some of my ideas and change them to fit your needs.  You may well disagree with me by continuing to work as you did before.  Different teams create different applications and use different means to achieve their goals. <br><br>  It is important to note that if you look at the <a href="https://www.thread.com/">Thread</a> website, which I participate in the development, and look at the device of its interface, you will find places in which those rules that I will talk about are not respected.  The fact is that any ‚Äúrules‚Äù in programming should be taken only as recommendations, and not as comprehensive standards that are valid in any situation.  And if you think that some kind of ‚Äúrules‚Äù do not suit you, you, for the sake of improving the quality of what you are working on, should find the strength to deviate from these ‚Äúrules‚Äù. <br><br>  Actually, now, without further ado, I offer you my story about structuring React applications. <br><br><h2>  <font color="#3AC1EF">Don't worry too much about the rules.</font> </h2><br>  Perhaps you decide that the recommendation that you don‚Äôt worry too much about the rules looks strange at the beginning of our conversation.  But I mean exactly this when I say that the main mistake that programmers have in terms of observing the rules is that the programmers attach too much importance to the rules.  This is especially true at the beginning of work on a new project.  At the time of the creation of the first <code>index.jsx</code> simply impossible to know what is best for this project.  As the project develops, you will naturally come to some kind of file and folder structure, which is likely to be quite good for this project.  If during the continuation of the work it turns out that the existing structure is somewhat unsuccessful, it can be improved. <br><br>  If you read this and catch yourself thinking that there is nothing in your application that is being discussed, then this is not a problem.  Each application is unique, there are no two absolutely identical development teams.  Therefore, each team, working on a project, comes to some agreements regarding its structure and methods of working on it.  This helps team members work productively.  Do not strive to, having learned about how someone is doing something, immediately introduce this to yourself.  Do not try to introduce into your work what is called in certain materials, and even in this, the "most effective way" to solve a problem.  I have always adhered to and adhere to the following strategy regarding such recommendations.  I have my own set of rules, but, reading about how others act in certain situations, I choose what seems to me successful and suitable for me.  This leads to the fact that over time, my working methods improve.  At the same time, I do not have any shocks and there is no desire to rewrite everything from scratch. <br><br><h2>  <font color="#3AC1EF">Important components are located in separate folders</font> </h2><br>  The approach to placing component files in folders that I came to is that those components that can be considered ‚Äúimportant‚Äù, ‚Äúbasic‚Äù, ‚Äúbasic‚Äù in the application context are placed in separate folders.  These folders, in turn, are located in the <code>components</code> folder.  For example, if we are talking about an application for an electronic store, then the <code>&lt;Product&gt;</code> component used to describe the product can be recognized as a similar component.  Here is what I mean: <br><br><pre> <code class="plaintext hljs">- src/  - components/    - product/      - product.jsx      - product-price.jsx    - navigation/      - navigation.jsx    - checkout-flow/      - checkout-flow.jsx</code> </pre> <br>  In this case, the "secondary" components that are used only by certain "main" components are located in the same folder as these "main" components.  This approach has proven itself in practice.  The fact is that due to its application, a certain structure appears in the project, but the level of folder nesting is not too large.  Its application does not lead to the appearance of something like <code>../../../</code> in the component import commands, it does not make it difficult to move around the project.  This approach allows you to build a clear hierarchy of components.  That component, whose name matches the name of the folder, is considered to be ‚Äúbasic‚Äù.  Other components located in the same folder serve the purpose of dividing the "base" component into parts, which simplifies working with the code of this component and its support. <br><br>  Although I am a supporter of the presence of a certain folder structure in the project, I believe that the most important thing is the selection of good file names.  Folders themselves are less important. <br><br><h2>  <font color="#3AC1EF">Using subfolders for subcomponents</font> </h2><br>  One of the drawbacks of the above approach is that its use can lead to the appearance of folders of ‚Äúbasic‚Äù components containing a lot of files.  Consider, for example, the <code>&lt;Product&gt;</code> component.  CSS files will be attached to it (we'll talk about them later), test files, many subcomponents, and, possibly, other resources - such as images and SVG icons.  The list of ‚Äúadditions‚Äù is not limited to this.  All this will fall into the same folder as the "base" component. <br><br>  I really don‚Äôt really care about that.  This suits me if the files have well-thought-out names, and if they can be easily found (using the file search tools in the editor).  If this is the case, then the folder structure fades into the background.  <a href="https://twitter.com/adamwathan/status/1145109572081860610">Here is a</a> tweet on this topic. <br><br>  However, if you prefer your project to have a more extensive structure, there is nothing difficult in moving subcomponents to their own folders: <br><br><pre> <code class="javascript hljs">- src/  - components/    - product/      - product.jsx      - ...      - product-price/        - product-price.jsx</code> </pre> <br><h2>  <font color="#3AC1EF">Test files are located in the same place as the files of the components under test.</font> </h2><br>  We begin this section with a simple recommendation, which is that the test files should be placed in the same place as the files with the code that they are checked with their help.  I will also talk about how I prefer to structure the components, trying to ensure that they would be close to each other.  But now I can say that I find it convenient to place the test files in the same folders as the component files.  In this case, the names of the files with the tests are identical to the names of the files with the code.  To the test names, before the file name extension, the suffix <code>.test</code> only added: <br><br><ul><li>  Component file name: <code>auth.js</code> </li><li>  Test file name: <code>auth.test.js</code> </li></ul><br>  This approach has several strengths: <br><br><ul><li>  It makes it easy to find test files.  At a glance, you can understand if there is a test for the component I'm working with. </li><li>  All necessary import commands are very simple.  In the test, to import the tested code, you do not need to create structures that describe, say, the exit from the <code>__tests__</code> folder.  Such teams look extremely simple.  For example, like this: <code>import Auth from './auth'</code> . </li></ul><br>  If we have certain data used during the test, for example, something like API request mocks, we put them in the same folder where the component and its test already lie.  When everything that may be needed lies in one folder, this contributes to the growth of productivity.  For example, if you use a branched folder structure and the programmer is sure that a certain file exists, but cannot remember its name, the programmer will have to look for this file in many subdirectories.  With the proposed approach, just look at the contents of one folder and everything will become clear. <br><br><h2>  <font color="#3AC1EF">CSS Modules</font> </h2><br>  I am a big fan of <a href="https://css-tricks.com/css-modules-part-1-need/">CSS modules</a> .  We found that they are great for creating modular CSS rules for components. <br><br>  In addition, I really like <a href="https://www.styled-components.com/">styled-components</a> technology.  However, in the course of work on projects in which many developers participated, it turned out that the presence of real CSS files in the project increases the usability. <br><br>  As you probably already guessed, our CSS-files are located, like other files, next to the component files, in the same folders.  This greatly simplifies the movement between files when you need to quickly understand the meaning of a class. <br><br>  A more general recommendation, the essence of which permeates all this material, is that all the code related to a certain component should be kept in the same folder in which this component is located.  Gone are the days when separate folders were used to store CSS and JS code, test code and other resources.  The use of complex folder structures complicates the movement between files and does not have any obvious benefit, except that it helps to "organize the code."  Keep interconnected files in the same folder - this means spending less time moving between folders during work. <br><br>  We even created a Webpack loader for CSS, the capabilities of which correspond to the features of our work.  It checks the declared class names and throws an error in the console if we refer to a class that does not exist. <br><br><h2>  <font color="#3AC1EF">Almost always, only one component code is placed in one file</font> </h2><br>  My experience shows that programmers are usually too strict in adhering to the rule that one and only one React component code should be in one file.  At the same time, I fully support the idea that it is not worth placing too many components in one file (just imagine the difficulty of naming such files!).  But I believe that there is nothing wrong with putting in the same file in which the code of a certain "large" component is located, and the code of the "small" component associated with it.  If such a move helps preserve the purity of the code, if the "small" component is not too large to be placed in a separate file, then this will not harm anyone. <br><br>  For example, if I create a <code>&lt;Product&gt;</code> component, and I need a small piece of code to display the price, then I can do this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Price = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ price, currency }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    {currency}    {formatPrice(price)}  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Product = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-comment"><span class="hljs-comment">// ,      !  return (    &lt;div&gt;      &lt;Price price={props.price} currency={props.currency} /&gt;      &lt;div&gt;loads more stuff...&lt;/div&gt;    &lt;/div&gt;  ) }</span></span></code> </pre> <br>  The good thing about this approach is that I did not have to create a separate file for the <code>&lt;Price&gt;</code> component, and that this component is available exclusively to the <code>&lt;Product&gt;</code> component.  We do not export this component, so it cannot be imported elsewhere in the application.  This means that when asked whether to put <code>&lt;Price&gt;</code> in a separate file, you can give a clear, positive answer if you need to import it somewhere else.  Otherwise, you can do without putting the <code>&lt;Price&gt;</code> code into a separate file. <br><br><h2>  <font color="#3AC1EF">Separate folders for universal components</font> </h2><br>  We have recently been using universal components.  They, in fact, form our design system (which we plan to publish someday), but so far we have started small - with components like <code>&lt;Button&gt;</code> and <code>&lt;Logo&gt;</code> .  A component is considered to be ‚Äúuniversal‚Äù if it is not tied to a specific part of the site, but is one of the building blocks of the user interface. <br><br>  Similar components are located in your own folder ( <code>src/components/generic</code> ).  This greatly simplifies the work with all universal components.  They are in one place - it is very convenient.  Over time, as the project grows, we plan to develop a style guide (we are big fans of <a href="https://github.com/styleguidist/react-styleguidist">react-styleguidist</a> ) in order to further simplify the work with universal components. <br><br><h2>  <font color="#3AC1EF">Using Aliases to Import Entities</font> </h2><br>  The relatively flat folder structure in our projects ensures that the import commands do not have too long structures like <code>../../</code> .  But it‚Äôs hard to do without them.  Therefore, we used <a href="https://github.com/tleunen/babel-plugin-module-resolver">babel-plugin-module-resolver</a> to configure aliases that simplify import commands. <br><br>  You can do the same with Webpack, but thanks to the use of the Babel plugin, the same import commands can also work in tests. <br><br>  We configured this with a pair of aliases: <br><br><pre> <code class="javascript hljs">{  <span class="hljs-attr"><span class="hljs-attr">components</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/components'</span></span>,  <span class="hljs-string"><span class="hljs-string">'^generic/([\\w_]+)'</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/components/generic/\\1/\\1'</span></span>, }</code> </pre> <br>  The first is extremely simple.  It allows you to import any component, starting the command with the word <code>components</code> .  In the normal approach, import commands look something like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Product <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../components/product/product'</span></span></code> </pre> <br>  Instead, we can write them like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Product <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/product/product'</span></span></code> </pre> <br>  Both commands import the same file.  This is very convenient, as it allows you not to think about the folder structure. <br><br>  The second alias is a little more complicated: <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">'^generic/([\\w_]+)'</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/components/generic/\\1/\\1'</span></span>,</code> </pre> <br>  We use regex here.  It finds import commands that begin with <code>generic</code> (the <code>^</code> sign at the beginning of the expression allows you to select only those commands that begin with <code>generic</code> ), and captures what is after <code>generic/</code> into the group.  After that, we use the captured fragment ( <code>\\1</code> ) in the <code>./src/components/generic/\\1/\\1</code> construct. <br><br>  As a result, we can use the import commands for universal components of this kind: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'generic/button'</span></span></code> </pre> <br>  They are converted to the following commands: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'src/components/generic/button/button'</span></span></code> </pre> <br>  This command, for example, serves to import a JSX file describing a universal button.  We did all this because this approach greatly simplifies the import of universal components.  In addition, it will serve us well if we decide to change the structure of the project files (this, since our design system is growing, is quite possible). <br><br>  Here I would like to note that you should be careful when working with pseudonyms.  If you have only a few of them, and they are designed to solve standard import problems, then everything is fine.  But if you have a lot of them, they can bring more confusion than good. <br><br><h2>  <font color="#3AC1EF">Universal lib folder for utilities</font> </h2><br>  I would like to regain all the time that I spent on finding the perfect place for code that is not component code.  I shared this all according to different principles, highlighting the code of utilities, services, auxiliary functions.  All this has so many names that I won‚Äôt mention all of them.  Now I'm not trying to figure out the difference between the "utility" and the "auxiliary function" in order to find the right place for a certain file.  Now I use a much simpler and more understandable approach: all this falls into a single <code>lib</code> folder. <br><br>  In the long run, the size of this folder may turn out to be so large that you have to structure it somehow, but this is completely normal.  It is always easier to equip something with a certain structure than to get rid of errors of excessive structuring. <br><br>  In our Thread project, the <code>lib</code> folder contains about 100 files.  They are divided approximately equally into files containing the implementation of certain features, and into test files.  It did not cause difficulties in finding the necessary files.  Thanks to the intelligent search <code>lib/name_of_thing</code> built into most editors, I almost always have to enter something like <code>lib/name_of_thing</code> , and what I need is found. <br><br>  In addition, we have an alias that simplifies import from the <code>lib</code> folder, allowing you to use commands of this kind: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> formatPrice <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lib/format_price'</span></span></code> </pre> <br>  Do not be alarmed by the flat folder structures that can cause multiple folders to be stored in one folder.  Usually such a structure is all that is needed for a certain project. <br><br><h2>  <font color="#3AC1EF">Hiding third-party libraries behind native APIs</font> </h2><br>  I really like the <a href="https://sentry.io/welcome/">Sentry</a> bug monitoring system.  I often used it when developing server and client parts of applications.  With its help, you can catch exceptions and receive notifications about their occurrence.  This is a great tool that allows us to keep abreast of the problems encountered on the site. <br><br>  Whenever I use a third-party library in my project, I think about how to make it so that, if necessary, it can be replaced as easily as possible with something else.  Often, as with the same Sentry system that we really like, this is not necessary.  But, just in case, it never hurts to think out a way to avoid using a certain service or a way to change it to something else. <br><br>  The best solution to this problem is to develop your own API that hides other people's tools.  This is something like creating a <code>lib/error-reporting.js</code> module that exports the <code>reportError()</code> function.  The core of this module uses Sentry.  But Sentry is directly imported only in this module and nowhere else.  This means that replacing Sentry with another tool will look very simple.  To do this, it will be enough to change one file in one place.  As long as the public API of this file remains unchanged, the rest of the project will not even know that when calling <code>reportError()</code> , it is not Sentry that is used, but something else. <br><br>  Please note that the module‚Äôs public API is called the functions it exports and their arguments.  They are also called the public interface of the module. <br><br><h2>  <font color="#3AC1EF">Using PropTypes (or tools such as TypeScript or Flow)</font> </h2><br>  When I do programming, I think of three versions of myself: <br><br><ul><li>  Jack from the past and the code he wrote (sometimes dubious code). </li><li>  Today's Jack, and the code that he writes now. </li><li>  Jack from the future.  When I think about this future myself, I ask myself the present about how I can write code that will make my life easier in the future. </li></ul><br>  It may sound weird, but I found it useful, thinking about how to write code, ask the following question: ‚ÄúHow will it be perceived in six months?‚Äù. <br><br>  One simple way to make yourself present and yourself more productive is to specify the types of properties ( <code>PropTypes</code> ) used by the components.  This will save time searching for possible typos.  This will save you from situations where, using the component, properties of the wrong types are applied, or they completely forget about the transfer of properties.  In our case, the <a href="">eslint-react / prop-types</a> rule is a good reminder of the need to use <code>PropTypes</code> . <br><br>  If you go even further, it is recommended to describe the properties as accurately as possible.  For example, you can do this: <br><br><pre> <code class="javascript hljs">blogPost: PropTypes.object.isRequired</code> </pre> <br>  But it would be much better to do this: <br><br><pre> <code class="javascript hljs">blogPost: PropTypes.shape({  <span class="hljs-attr"><span class="hljs-attr">id</span></span>: PropTypes.number.isRequired,  <span class="hljs-attr"><span class="hljs-attr">title</span></span>: PropTypes.string.isRequired,  <span class="hljs-comment"><span class="hljs-comment">//    }).isRequired</span></span></code> </pre> <br>  In the first example, the minimum necessary check is performed.  In the second, the developer is given much more useful information.  They will come in very handy, for example, if someone forgets about a certain field used in the object. <br><br><h2>  <font color="#3AC1EF">Third-party libraries are used only when they are truly needed.</font> </h2><br>  This tip is more relevant than ever with the advent of <a href="https://javascriptplayground.com/refactoring-to-react-hooks/">React hooks</a> .  For example, I was engaged in a large alteration of one of the parts of the Thread site and decided to pay special attention to the use of third-party libraries.  I suggested that using hooks and some of my own developments, I can do a lot of things without using someone else's code.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My guess (which was a pleasant surprise) turned out to be true. </font><font style="vertical-align: inherit;">You can read about this </font></font><a href="https://kentcdodds.com/blog/application-state-management-with-react"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the material about managing the state of React-applications. </font><font style="vertical-align: inherit;">If you are attracted to such ideas, consider that these days, thanks to the React and Context API hooks, you can go very far in implementing these ideas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, some things, like Redux, are necessary in certain circumstances. </font><font style="vertical-align: inherit;">I would advise you not to strive to completely avoid such decisions (and you should not give priority to avoiding them if you already use them). </font><font style="vertical-align: inherit;">But, if you have a thought about including a new library in the project, you should know that this is far from always the only solution to a certain problem.</font></font><br><br><h2> <font color="#3AC1EF">   </font> </h2><br>   ‚Äî   ,       ,   .      . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     emitter.send('user_add_to_cart') //     emitter.on('user_add_to_cart', () =&gt; {  //  -  })</span></span></code> </pre> <br>      ,            .     ,             .      ,   ¬´   ¬ª.   ,      ,   ,    .         . ¬´¬ª      - ,       .  ,    ,        . <br><br>      Redux.       .     ,  .  ,     ,  <code>user_add_to_cart</code> ,   .       .  , ,       Redux,      .     ,    Redux    ,     . <br><br>  ,       ,   ,  ,     : <br><br><ul><li>  ,   , .         . </li><li>  ,  ,   .       ,    . </li><li>  ,  -  , . ,     ,    . </li></ul><br>    - ,    .    ,        ,   .      ,        ,   ,           ¬´¬ª . <br><br>       ,       ,  API Context  <a href="https://kentcdodds.com/blog/prop-drilling">-</a> . <br><br><h2> <font color="#3AC1EF">     </font> </h2><br>         ,    (, ,    <a href="https://javascriptplayground.com/testing-react-enzyme-jest/"> </a> ).     :    ,      . <br><br> ,    ,          ,     .        : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapper = mount(  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">UserAuth.Provider</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ComponentUnderTest</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">UserAuth.Provider</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> )</span></span></code> </pre> <br>      : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapper = mountWithAuth(ComponentUnderTest, {  <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>,  <span class="hljs-attr"><span class="hljs-attr">userId</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, })</code> </pre> <br>       : <br><br><ul><li>     .       ‚Äî     ,     ,   ,      . </li><li>      ‚Äî    <code>mountWithAuth</code>       .    ,          . </li></ul><br>   ,           <code>test-utils.js</code> . ,       ‚Äî   .       . <br><br><h2>  <font color="#3AC1EF">Summary</font> </h2><br>       .     ,     , ,  ,      .         ,  ,              .        ,   :       .               .           -     ,   . <br><br>  <b>Dear readers!</b>     React-? <br><br> <a href="https://ruvds.com/turbo_vps/"><img src="https://habrastorage.org/webt/rw/6v/yn/rw6vyn2bxx4usoqc39holmj2z8m.jpeg"></a> </div><p>Source: <a href="https://habr.com/ru/post/460793/">https://habr.com/ru/post/460793/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460777/index.html">This is a twist: why Apple changed the requirements for application developers</a></li>
<li><a href="../460779/index.html">Advanced Debug</a></li>
<li><a href="../46078/index.html">Erotic social networks Ning left month</a></li>
<li><a href="../460783/index.html">Consensus on the reputation of the node. Do I need?</a></li>
<li><a href="../46079/index.html">Office behind the glass - now on the Internet</a></li>
<li><a href="../460795/index.html">12 tips for improving JavaScript application performance</a></li>
<li><a href="../460797/index.html">Responsible JavaScript Development Part 2</a></li>
<li><a href="../460799/index.html">Standard Browser API Payment Request</a></li>
<li><a href="../4608/index.html">The trend in the blogosphere: "subzamochnye" records</a></li>
<li><a href="../460801/index.html">27 awesome VS Code tools for modern JavaScript developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>