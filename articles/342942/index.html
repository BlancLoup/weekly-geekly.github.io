<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analysis of the tasks of the second stage of the School Programmers HeadHunter 2017</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The second stage of selection in the School of Programmers is over. Many of those who entered the School asked to tell the algorithms for solving prob...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analysis of the tasks of the second stage of the School Programmers HeadHunter 2017</h1><div class="post__text post__text-html js-mediator-article">  The second stage of selection in the School of Programmers is over.  Many of those who entered the School asked to tell the algorithms for solving problems, and most importantly, to send combinations in which their program does not work.  In this article, the solutions of the proposed tasks will be described, and at the end of the article you will see a link to github, where the code for the described solutions, the code for the verification program and test cases are posted.  All code is written in java (although the solution to the second problem is easier to write in python).  I will not argue that these are the only correct solutions, there are others, but these I like the most. <br><br><img src="https://habrastorage.org/webt/ha/7q/d0/ha7qd0dejzqnlgocvcfwluviuve.jpeg"><br><a name="habracut"></a><br>  Some statistics: slightly more than 900 people submitted an application, 450 people passed the first stage, about 300 people completed the task of the second stage and 105 people came for an interview.  The school enrolled 25 people.  Interviews lasted 6 weeks.  Approximately 15 HeadHunter employees participated in the selection of students. <br><br><h3>  Task 1. Tropical Island </h3><br>  <b>Task text:</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Suppose one day you are on a rectangular island.</i> <i><br></i>  <i>The landscape of this island can be described using an integer matrix of size MxN, each element of which sets the height of the corresponding area of ‚Äã‚Äãthe island above sea level.</i> <i><br></i>  <i>For example, here‚Äôs a small 3x3 island:</i> <i><br><br></i>  <i>4 5 4</i> <i><br></i>  <i>3 1 5</i> <i><br></i>  <i>5 4 1</i> <i><br><br></i>  <i>During the rainy season, the island is completely flooded with water, and water accumulates in the lowlands.</i>  <i>Lowland will be considered such an area of ‚Äã‚Äãthe island, the cells of which are adjacent to cells that are large in height.</i>  <i>In this case, the diagonal neighbors are not taken into account, and the sea level is taken as 0. In the example above, there is only one lowland on the island - a cell with a value of 1 in the middle of the island (it borders on 3, 5, 5, and 4 cells).</i> <i><br><br></i>  <i>Thus, after the rain, the height of the island‚Äôs cells will change and become the following:</i> <i><br><br></i>  <i>4 5 4</i> <i><br></i>  <i>3 3 5</i> <i><br></i>  <i>5 4 1</i> <i><br><br></i>  <i>We see that in this example, the height of the lowlands changed from 1 to 3, after which the water began to overflow into neighboring cells, and then into the sea.</i>  <i>The total volume of water accumulated on the island is 2 cubic cells.</i> <i><br><br></i>  <i>Here is an example more complicated:</i> <i><br><br></i>  <i>5 3 4 5</i> <i><br></i>  <i>6 2 1 4</i> <i><br></i>  <i>3 1 1 4</i> <i><br></i>  <i>8 5 4 3</i> <i><br><br></i>  <i>After the rain, the island‚Äôs map takes the following form:</i> <i><br><br></i>  <i>5 3 4 5</i> <i><br></i>  <i>6 3 3 4</i> <i><br></i>  <i>3 3 3 4</i> <i><br></i>  <i>8 5 4 3</i> <i><br><br></i>  <i>The total volume of water accumulated after the rain on such an island is as much as 7 cubic cells!</i> <i><br><br></i>  <i>A two-dimensional array is input to the function; the output is expected to be int - the values ‚Äã‚Äãof the total volume of water accumulating on the island after the rainy season for each of the input examples.</i> <i><br></i>  <i>Limitations:</i> <i><br><br></i>  <i>The size of the island N and M are integers in the range [1, 50]</i> <i><br></i>  <i>Heights on the island can take values ‚Äã‚Äãfrom the range [1, 1000].</i> <br><br>  The simplest solution to the problem is to ‚Äúdrain‚Äù the island: we assume that the island is a cube filled with water, where the height of the cube is the highest point of the island. <br><br>  The algorithm works as follows: <br><br><ul><li>  We supplement everything, except extreme points, to the maximum height. </li><li>  We pass on the island, starting from the edges, and "merge" it: <br><ul><li>  At each point we look for the minimum height of its neighboring points (we do not take diagonal points into account according to the condition of the problem). </li><li>  If the found minimum value is less than the height of the current point, then reduce the value of the current point to the minimum or to the original height of this point. </li><li>  Pass through all points until the values ‚Äã‚Äãstop changing. </li><li>  Then we simply calculate the accumulated water: elementwise we subtract empty from the filled island and add the resulting values. </li></ul><br></li></ul><br>  Java source code: <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getWaterVolume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer[][] island)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      int length = island.length; int width = island[0].length; //      ( ,       ) Integer[][] floodedIsland = new Integer[length][width]; int max = Arrays.stream(island).flatMap(Arrays::stream).max(Integer::compareTo).get(); for (int row = 0; row &lt; length; row++) { for (int col = 0; col &lt; width; col++) { if (row == 0 || row == length - 1 || col == 0 || col == width - 1){ floodedIsland[row][col] = island[row][col]; }else{ floodedIsland[row][col] = max; } } } // ""  boolean isChange = true; while (isChange) { isChange = false; for (int row = 1; row &lt; length - 1; row++) { for (int col = 1; col &lt; width - 1; col++) { if (floodedIsland[row][col] != island[row][col]) { int minHeight = getMinHeight(floodedIsland, row, col); if (floodedIsland[row][col] &gt; minHeight) { //    if (island[row][col] &lt; minHeight) { floodedIsland[row][col] = minHeight; } else { floodedIsland[row][col] = island[row][col]; } isChange = true; } } } } } int waterCnt = 0; for (int row = 1; row &lt; length - 1; row++) { for (int col = 1; col &lt; width - 1; col++) { waterCnt += floodedIsland[row][col] - island[row][col]; } } return waterCnt; } private int getMinHeight(Integer[][] island, int row, int col) { return Arrays.stream(new int[]{ island[row-1][col], island[row][col-1], island[row+1][col], island[row][col+1] }).min().getAsInt(); }</span></span></code> </pre> <br>  You can, of course, solve this problem and fill the island, but it is much more difficult and longer (especially if there are several lowlands).  Most of these solutions did not work in all situations and were long processed on big data.  Although several people sent such solutions that worked correctly, but still not very quickly. <br><br><h3>  Task 2. Infinite sequence </h3><br>  <b>Task text:</b> <br>  <i>Take an infinite digital sequence formed by gluing together successive positive numbers: S = 123456789101112131415 ...</i> <i><br></i>  <i>Determine the first occurrence of a given sequence A in an infinite sequence S (numbering starts with 1).</i> <i><br><br></i>  <i>Sample input:</i> <i><br><br></i>  <i>6789</i> <i><br></i>  <i>111</i> <i><br><br></i>  <i>Sample output:</i> <i><br><br></i>  <i>6</i> <i><br></i>  <i>12</i> <br><br>  To solve this problem, you need to take a slightly different look at the condition: we will look for a sequence of numbers in a given string, rather than a given string in an infinite sequence.  Agree, if you transform the task in this way, you will have to perform significantly fewer iterations.  We will search for a number in a given sequence, starting from a sequence of single-digit numbers to numbers equal to the length of the string, until we find it.  If the number does not consist of any numbers, then the answer will be the position of the first digit of this number. <br>  I will describe the sequence of actions in more detail: <br><br><ul><li>  There will be 2 cycles: <br><ul><li>  By the digits of the number (starting with 1 and ending with the size of the number we are looking for); </li><li>  According to the shift: the coming number does not have to start from the beginning of a certain number; it can begin in the middle of one number and end in the middle of another. </li></ul></li><li>  During the execution of these two cycles, we check whether the number consists of consecutive numbers of the selected digit.  If not, continue searching;  if yes, we go through all the possible numbers of the given digit, as it may happen that the first found is not the smallest. </li></ul><br>  <b>The simplest case: the</b> number 123 consists of a sequence of single-digit numbers 1, 2 and 3: <br><br><img src="https://habrastorage.org/webt/5e/uf/so/5eufsoi6d8-yoybszwgumg_spfe.png" alt="image"><br><br><h4>  Let's take a closer look at what exceptional cases may arise. </h4><br>  <b>The number can not start from 0</b> <br><br>  Everything is simple: if the number starts from 0, then this is a continuation of another number. <br><br>  <b>The number that is part of the desired sequence may not have an end</b> <br><br>  For example, the number 293. The answer in the problem is not the position of the first digit of the number 293, but the position of the first digit of the number 29. At the same time, the number 30 has no end in the desired sequence. <br><br><img src="https://habrastorage.org/webt/hy/5c/o5/hy5co5tsw_hpsdhhv5upusfy5f8.png" alt="image"><br><br>  <b>The number that is part of the desired sequence may not have a beginning</b> <br><br>  For example, the sequence is 930. The answer in the problem will not be the position of the first digit of the number 930, but the position of the second digit of the number 29. At the same time, the number 29 has no beginning in the desired sequence. <br><br><img src="https://habrastorage.org/webt/jo/rh/pm/jorhpmn2xflcye7wau6dx_tacus.png" alt="image"><br><br>  <b>With the passage of the sequence, we can go to the numbers of higher order</b> <br><br>  There is nothing complicated, it just needs to be taken into account in our passage, otherwise you can get the wrong result.  If we reach the last number of this digit, then the next number will be 1 bit higher. <br><br>  Example: sequence 8910. When we reach 9, we need to understand that the next number will be two-digit. <br><br><img src="https://habrastorage.org/webt/q-/j5/le/q-j5leuult3fiku83bwzwuvrr8i.png" alt="image"><br><br>  <b>The first number found is not necessarily the maximum.</b> <br><br>  Example: the number 92. At the beginning it may seem that the correct answer is the first digit of the number 92. But in fact, the correct answer is the second digit of the number 19. From this we can conclude that when we found the answer in the desired sequence, you need to go to the end all iterations of numbers of a given dimension, and if several answers are found, then choose the smallest one. <br><br><img src="https://habrastorage.org/webt/sv/lw/ma/svlwma8oauu511gnfk3xzonzpio.png" alt="image"><br><br>  <b>The number consisting of one zeros</b> <br><br>  It is easiest to disassemble this situation separately.  If the number consists of only zeros, then the answer will be the position of the second digit of the number 1 and the given number of zeros.  For example, 5 zeros.  Answer: the second digit of the number 100 000. <br><br><img src="https://habrastorage.org/webt/2f/9m/uh/2f9muh61vymjcr4ugouagzezskk.png" alt="image"><br><br>  Java source code: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findSequence</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> strLen = str.length(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxNumRank = strLen; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BigDecimal(str).equals(BigDecimal.ZERO)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getPosition(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BigDecimal(<span class="hljs-string"><span class="hljs-string">"1"</span></span>+str), <span class="hljs-number"><span class="hljs-number">0</span></span>, strLen) + <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numLen = <span class="hljs-number"><span class="hljs-number">1</span></span>; numLen &lt;= maxNumRank; numLen++) { List&lt;Long&gt; positions = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> shift = <span class="hljs-number"><span class="hljs-number">0</span></span>; shift &lt; numLen; shift++) { <span class="hljs-comment"><span class="hljs-comment">//      0 if (str.charAt(shift) == '0') { continue; } BigDecimal firstNum; if (numLen + shift &lt;= maxNumRank) { firstNum = new BigDecimal(str.substring(shift, shift + numLen)); } else { String greatRanks = str.substring(shift, maxNumRank); String lessRanksPrev = str.substring(maxNumRank - numLen, shift); DecimalFormat df = new DecimalFormat(String.format("%0" + numLen + "d", 0)); String lessRanks = df.format(new BigDecimal(lessRanksPrev).add(BigDecimal.ONE)) .substring(numLen - lessRanksPrev.length(), numLen); firstNum = new BigDecimal(greatRanks + lessRanks); } //       String firstNumMinus1 = String.valueOf(firstNum.subtract(BigDecimal.ONE)); if (shift != 0 &amp;&amp; !firstNumMinus1.substring(firstNumMinus1.length() - shift).equals(str.substring(0, shift))) { continue; } boolean isFound = true; int j = shift; int numLenForIter = numLen; BigDecimal firstNumForIter = firstNum; //     while (j &lt; strLen - numLenForIter) { j += numLenForIter; if (firstNumForIter.equals(new BigDecimal(Math.pow(10, numLenForIter) - 1))) { numLenForIter += 1; } if (j + numLenForIter &lt;= strLen) { //    BigDecimal secondNum = new BigDecimal(str.substring(j, j + numLenForIter)); if (!firstNumForIter.add(BigDecimal.ONE).equals(secondNum)) { isFound = false; break; } firstNumForIter = secondNum; } else { //       DecimalFormat df = new DecimalFormat(String.format("%0" + numLenForIter + "d", 0)); if (!df.format(firstNumForIter.add(BigDecimal.ONE)).substring(0, strLen - j).equals(str.substring(j))) { isFound = false; break; } return getPosition(firstNum, shift, numLen); } } if (isFound) { positions.add(getPosition(firstNum, shift, numLen)); } } if (!positions.isEmpty()) { return Collections.min(positions); } } return -1; } private long getPosition(BigDecimal num, int shift, int numLen) { int minus = 0; for (int i = 1; i &lt; numLen; i++) { minus += Math.pow(10, i); } return num.multiply(new BigDecimal(numLen)).subtract(new BigDecimal(minus)).subtract(new BigDecimal(shift)).longValue(); }</span></span></code> </pre><br>  Some used one of the standard substring search algorithms to solve the second problem.  For example, the Knut-Morris-Pratt algorithm or the Boyer-Moore algorithm.  This, of course, is better than a full search for a substring in a string, but still longer than searching for a sequence of numbers in a given string. <br><br>  If we consider the most difficult case, that is, when the number does not contain any subsequences and the index of the first digit of this number is the answer, then any implementation of the search for a sequence in the line will require search operations (in one form or another), if very roughly, of the order of 10 to the extent (m-1).  But when searching for a pattern in the search string, we get a maximum of m in the 3rd degree of operations, where m is the length of the input string.  Thus, it can be seen that the complexity of any search algorithm in the string will have an exponential order of the length of the incoming sequence, while the search for a pattern will quietly work even for large values ‚Äã‚Äãof m. <br><br>  We did not make decisions where the number is searched by brute force.  And, unfortunately, the majority of those who implemented this algorithm did not pass all the tests. <br><br>  The most frequent errors: <br><br><ul><li>  Begin the sequence with 0 </li><li>  Wrong if the number was all zeros. </li><li>  Did not consider one of the exceptional situations described above. </li></ul><br>  The complete code for solving problems, the verification program and, most importantly, the file for verification can be viewed <a href="https://github.com/iriss22/school2017">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/342942/">https://habr.com/ru/post/342942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342930/index.html">Wireless Fiber Siklu</a></li>
<li><a href="../342932/index.html">HPE ProLiant for Microsoft Azure Stack: a piece of Azure cloud under your complete control</a></li>
<li><a href="../342934/index.html">Visualization of the neural network learning process using TensorFlowKit</a></li>
<li><a href="../342936/index.html">App for CarPrice Inspectors</a></li>
<li><a href="../342938/index.html">HolyJS 2017 Moscow program overview: from WebAssembly to Yarn</a></li>
<li><a href="../342946/index.html">Versioning and Deploying PostgreSQL Code</a></li>
<li><a href="../342948/index.html">Migration from mainframe: how to convince management?</a></li>
<li><a href="../342950/index.html">The battlefield is augmented reality. Part I: The Basics of Object Recognition</a></li>
<li><a href="../342952/index.html">How to create a stable and harmonious system of indentation in the design for faster development</a></li>
<li><a href="../342954/index.html">Features of manual testing in ALM Works and Odnoklassniki</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>