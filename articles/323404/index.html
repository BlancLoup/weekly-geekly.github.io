<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Application we made for Russian Railways</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selling and booking tickets on the carrier‚Äôs official website has long been no surprise. But the yard is not 2010, but 2017. And while citizens are no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Application we made for Russian Railways</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/7ac/382/529/7ac3825291eb4b449634e52489736705.jpg" alt="image"><br><br>  Selling and booking tickets on the carrier‚Äôs official website has long been no surprise.  But the yard is not 2010, but 2017.  And while citizens are not without pleasure watching the rise in oil prices and with displeasure - at the prices of many other things, Russian Railways decided to modernize their mobile direction. <br><br>  Russian Railways had its own application before, and not for the spherical Yotafon or Elbrus, but for a completely modern Android platform, which has the largest user base in Russia.  Add support for other platforms was planned later. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This ‚Äúlater‚Äù came six months ago.  We won an order to develop an updated Android application and two other mobile operating systems: iOS and many not quite deservedly driven by Windows Phone.  Several months of active development, testing and improvements - the beta version is ready. <br><br>  About how we did it, tell under the cut. <br><a name="habracut"></a><br>  RZD released its first mobile application last year for the Google Play store.  Called "Train Tickets".  This is the only official carrier application.  All that is presented in the storach besides him is either the software of intermediaries who take the agency commission reaching up to 15%, or something unofficial and not always working as it should. <br><br>  We were given the task of reworking the application, taking into account the accumulated user experience and posting a new version at once to all the main app stores: Google Play, AppStore and Windows Store. <br><br>  In the course of development, we tried to strike a balance between the classic applications for the sale of tickets and the desire to introduce something new that will help users customize everything for themselves.  This is how the application ‚ÄúRussian Railways.  Train tickets". <br><img src="https://habrastorage.org/files/7c4/cc3/bda/7c4cc3bda6ac46f3ac718c6aaaa23f44.jpg"><br>  <i>The evolution of the interface of the main pages of the application</i> <br><br>  <b>Interface</b> <br><br>  When designing the UI, we were guided by three simple rules: <br><br>  ‚Ä¢ Predictability. <br>  ‚Ä¢ Easy for beginner and convenience for the advanced user. <br>  ‚Ä¢ Repeated interaction with the application should be faster than the first. <br><br>  <i><b>Predictability</b></i> <br><br>  Applications that offer a mass standard service should be predictable, especially when it comes to ticket sales.  Even without launching the application, the user must be aware of what is waiting for him inside, and the task of the developer is not to deceive his expectations. <br><br>  It is like coming to any railway station in the Russian Federation or Europe: everywhere you see approximately the same picture.  The passenger knows that somewhere there is a ticket office, a waiting room, a food court or a couple of cafes, and here you can reach the platforms using typical signs. <br><br>  Therefore, you should not experiment too much with the UI in order not to leave a puzzled user in the wilds of an unreadable interface.  It is better to abandon radical ideas and focus on the creative development of existing norms. <br><br>  <i><b>Simplicity for the beginner and convenience for the experienced user</b></i> <br><br>  If a person has just installed the application, you should not be frightened by the abundance of buttons, speakers and the complexity of the menu.  For Russian carriers, for example, S7 or Aeroflot, with the understanding of this rule, everything is in order: the user is immediately met by the flight search window, no frills.  This is a user-friendly solution for new users.  In turn, the regular user of the application should receive additional features due to enhanced functionality and customization. <br><br>  <i><b>Repeated interaction with the application should be faster than the first</b></i> <br><br>  All data must be entered only once - during the first use of the application.  Once logged in?  Great, no need to log in anymore.  Bought a ticket?  Great, now we have data about the passenger and his last flight, which will not have to be driven again. <br>  We believe that in mobile applications you need to save everything except billing information.  Most people are nervous about the fact that the data of the cards can be kept incomprehensibly where and by whom, even if it is Russian Railways, Aeroflot or any other company from the top 20.  The exceptions are banking and payment systems, which users traditionally trust. <br><br>  Guided by these three points, we tried to make our application as friendly as possible for all categories of users.  Everything else: from which side the ‚Äúburger‚Äù button, the color scheme, the navigation of the sidebar, can be called important, but secondary.  After all, if a login and password is required each time, the forms of the entered route data will not be saved, or you will have to enter your first and last name again and again (imagine that someone Innokentiy Krestovozdvizhensky uses the application), he will sooner or later stop using the application.  And rightly so. <br><br>  <b>Application features</b> <br><br>  Rolling smoothly with the UI, I would like to tell you that our application can.  As we believe - everything that a potential passenger with a smartphone in his hands may need. <br><br>  Namely: <br><br>  ‚Ä¢ Purchase of tickets (one way and round trip). <br>  ‚Ä¢ Return tickets. <br>  ‚Ä¢ Purchasing tickets for bonus points and tracking a bonus account. <br>  ‚Ä¢ Purchase and use of transport cards (maybe you hear about them for the first time, but they exist). <br>  ‚Ä¢ Storage and export of electronic tickets. <br>  ‚Ä¢ Schedule of trains and the withdrawal of interesting routes to the main page, plus the storage of search history. <br>  ‚Ä¢ Saving user data. <br>  ‚Ä¢ Displaying announcements of Russian Railways (for example, messages about changes in the schedule of long-distance trains or commuter trains). <br>  ‚Ä¢ Navigation at train stations. <br>  ‚Ä¢ FAQ. <br><br><img src="https://habrastorage.org/files/bc8/0bb/653/bc80bb65385f48e6b276d20a47327932.jpg"><br>  <i>Demonstration of the main functional pages of the mobile application</i> <br><br>  In addition, I would like to talk about some specific solutions that are not included in the global list. <br><br>  <i><b>Educational slides</b></i> <br><br>  When you first start the application shows three training slide.  While the decision may seem annoyingly trivial, it is worth remembering that the target audience of the application is not only hipsters or IT specialists, but completely ordinary passengers of trains and electric trains, who in the bulk rarely use something other than mail, maps and hangouts. . <br><br>  Therefore, in the starting slides, which we hope will be able to help many, we added background information about the additional features of the application that a not very attentive or experienced user might not find.  We also explain why authorization is needed and we remind you that this is the official application, and you will not have to pay any additional agency commissions for the purchased tickets.  The focus group showed that it is important for people to clearly know how much money they will pay: users fear hidden fees and other ‚Äúcontract clauses with an asterisk in small print‚Äù. <br><img src="https://habrastorage.org/files/493/244/bf1/493244bf1d3e461cb4b5e4f33421ecc8.jpg"><br>  <i>Demonstration of educational slide screens</i> <br><br>  <i><b>No re-authorization</b></i> <br><br>  We understand that doing a forced authorization to purchase a ticket is cruel.  Alas, the Railways API is built in such a way that no actions can be performed with tickets without logging into your personal account. <br><br>  However, we made sure that the user came across authorization only once during the whole period of using the application.  We have provided an opportunity to skip the authorization stage and go directly to booking tickets, but you still have to log in, however, at the purchase stage.  If you have been authorized once, the application will automatically tighten your data, and you will not have to remember this procedure anymore. <br><br>  Of course, the possibility of using an existing account from the Russian Railways website has been implemented, so you will not need to come up with a new login and password.  Profiles in the application and on the Russian Railways website are identical - you can log in with an existing username and password or create a new account.  Accordingly, it will be possible to enter it from the site.  Data on all purchased tickets are transferred to the account on the site, and purchased on the site - in the app. <br><br>  Who used the official website of the carrier, know that when booking tickets have to re-authorize.  We managed to get rid of this procedure. <br><br>  <i><b>Home page</b></i> <br><br>  On the "main" we implemented several pleasant trifles.  For example, by clicking on a geolocation symbol, the departure point will be determined based on your location.  We made a date selection in the form of a calendar, rather than a ‚Äúdrum‚Äù, in order to save users a few seconds.  In the calendar, the current date is entered by default. <br><br><img src="https://habrastorage.org/files/8bf/216/d58/8bf216d5852547f2a794a5cfd2c0a18e.jpg"><br><br>  We also placed four modules here: Favorite Routes, Query History, My Tickets and Company News.  Ideally, they cover almost all the patterns of user behavior for our audience. <br><br>  You can add any interesting directions to the ‚ÄúFavorite Routes‚Äù.  To do this, you need to mark the heart icon at the stage of flight selection.  After that, the nearest flights will be displayed in the module.  If several routes are selected, you can switch between them using the swipe.  In the module settings, you can select the categories of trains that should be shown.  For example, it is convenient to get the current schedule of trains. <br><br>  ‚ÄúSearch History‚Äù shows the last two routes that the user was looking for.  There is a separate button to view all searches. <br><br>  ‚ÄúMy tickets‚Äù show the last three travel documents purchased.  By clicking the user goes to the ticket page with a bar code, where, if necessary, you can export it from the application.  Say, send yourself an email or save to the archive of photos. <br><br>  ‚ÄúCompany News‚Äù is actually ads for the region, first of all changes in the schedule of electric trains and trains.  What kind of information to display, you can configure through filters. <br><br>  <i><b>Features of buying a ticket in the application</b></i> <br><br>  We have been thinking for a long time how to make the procedure as clear as possible, but at the same time allowing us to fully customize the future trip.  As a result, they didn‚Äôt come up with anything better than to do several stages, each of which gradually specifies the conditions of travel.  Prior to this, we attempted to fit the booking in 2-3 steps, but the interface was so cumbersome that we decided to abandon such an idea. <br><img src="https://habrastorage.org/files/c03/375/4d0/c033754d03034d9abf16920c962c57f1.jpg"><br>  <i>The process of buying tickets in the app Railways</i> <br><br>  Here are some of our solutions: <br><br>  1. At the stage of choosing a place in the car, we show the direction of the train, the location of toilets and luggage storage. <br><br>  2. When choosing a place, the application immediately shows the final cost of the reservation.  This is important because the price of the lower, upper seats and some of the ‚Äúsides‚Äù is different. <br><br>  3. Even if you buy a ticket for the first time, the system will offer to fill in the lines with data from your profile in your personal account, and you will only need to enter your passport number.  With the next purchases it will be enough just to choose the desired passenger from the available profiles. <br><br>  4. In the application, you can enter the card data RZD-bonus for the accrual of bonuses for the trip and / or data of the transport card - for discounts.  Or choose the benefits that Railways permits to issue online.  For example, to issue a children's ticket. <br><br>  5. On the Russian Railways website, a not very convenient phenomenon was observed: if you go to the stage of confirming an order, and then go back, the place you chose was considered reserved for some time, and you could not arrange it again anew.  In the application, we repaired it: now if you return from the confirmation screen back, the ticket will be unlocked. <br><br>  6. We made the payment in the VTB web gateway, and not in the application itself.  No payment details are saved.  The purchase is confirmed via 3D-secure.  Support for cards with non-standard numbers is provided (as in some Sberbank packages). <br><br>  <i><b>There are a couple more things that we would like to talk about.</b></i> <br><br>  First, we implemented in the application the purchase of transport maps.  Technically, these are ordinary discount cards that can be bought at the station or on the Russian Railways site.  For example, now for 1000 rubles sold 10% of the multiple discount on travel on any trains.  The card is valid for 1 month. <br><br>  Secondly, inside the application there is a station navigator.  It is located in the left menu in the "Stations" tab.  Now the navigator works for eight objects, but we will expand it for all stations of cities that host the World Cup 2018 football games.  From there, you can also contact the services of the station where you are located - from the information desk to the stationmaster. <br><br><img src="https://habrastorage.org/files/2b9/b11/a82/2b9b11a827494e9c9d71d2fedbb0524b.jpg"><br>  <i>Background information on train stations</i> <br><br>  <b>Development details</b> <br><br>  Finally, a little about the technical side of the application.  The server backend includes a cluster of application servers using free software.  We used Redhat Wildfly, Nginx, Apache HTTP server, Memcached and PostgreSQL as base software.  The backend provides the interaction of mobile clients with a whole set of accounting automated information systems of Russian Railways with data caching for a quick response of the mobile client interface and the ability to dynamically filter data without re-accessing the Russian Railways integration services.  In addition, on it lies the implementation of horizontal scalability and the provision of processing up to 1 million requests per day. <br><br>  <b>Where to get a new application</b> <br><br>  We received permission from RZD to conduct a closed beta test of the application before the official release. <br><br>  To get the beta version, just send an email to <a href="">rzd-mobile@i-teco.ru</a> with the subject ‚ÄúTesting Russian Railways Application‚Äù, and we will quickly send instructions and a link to the application.  In the letter you need to specify the operating system for which you want to receive the application, and the name of your account in the application store of this platform. <br><br>  Be careful: the current version allows you to do almost everything in the finished application, even buy a ticket.  But, as is usually the case at the beta test stage, we still do not guarantee that everything works as it should. <br><br>  Now the application is available for mobile devices running iOS version 8 and higher, on Android version 4.0.4 and higher, and also on Windows Phone version 8 and higher.  And even on Windows Mobile (owners of lumy, we have not forgotten about you!). <br><br>  So we invite everyone to the beta test.  We are pleased to hear the opinions, accept the criticism with understanding and are happy to discuss the proposals in the mail or in the comments to this publication. </div><p>Source: <a href="https://habr.com/ru/post/323404/">https://habr.com/ru/post/323404/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../323394/index.html">Promotion of reality quests in million-plus cities and outback</a></li>
<li><a href="../323396/index.html">What do Uber, Volkswagen and Zenefits have in common? They all used hidden code to bypass the law.</a></li>
<li><a href="../323398/index.html">Why the February update HPE 3PAR StoreServ - the most important since the launch line</a></li>
<li><a href="../323400/index.html">Where do the clouds go? RightScale Study Overview</a></li>
<li><a href="../323402/index.html">How does it feel to write articles</a></li>
<li><a href="../323410/index.html">New on PHDays VII: Hacking IPv6 Networks, Future WAFs, and POS Terminals</a></li>
<li><a href="../323412/index.html">OOP is beautifully cracked with C ++ 14</a></li>
<li><a href="../323414/index.html">The history of the engineer-radiophysics, who decided to watch</a></li>
<li><a href="../323416/index.html">Yii2, quick start. The easiest site on Yii2 with static pages without using a database</a></li>
<li><a href="../323420/index.html">My Material Design Framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>