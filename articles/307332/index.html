<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Code samples from the summer school on Node.js and JavaScript in KPI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comrades engineers, I report to you on the successes in the preparation of scientific and technical personnel in software engineering at the Faculty o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Code samples from the summer school on Node.js and JavaScript in KPI</h1><div class="post__text post__text-html js-mediator-article"><p><img align="right" src="https://habrastorage.org/files/014/c98/210/014c982107d74c4bb01d65ff8ef78a06.jpg">  Comrades engineers, I report to you on the successes in the preparation of scientific and technical personnel in software engineering at the <a href="http://fiot.kpi.ua/ru/">Faculty of IWT</a> at the <a href="http://kpi.ua/">Kiev Polytechnic Institute</a> and publish interesting code examples that were written for the training course, but I hope that they will be interesting from a practical point of view.  The idea to introduce JavaScript and <a href="https://nodejs.org/">Node.js</a> into the learning process has been matured for me for several years.  But for mastering basic things in programming, I prefer C so that people can feel the machine, learn to control themselves and their code.  But for applications, in which the level of abstraction C is no longer sufficiently illustrative, multi-paradigm and flexible JavaScript has taken root.  With the help of the powerful and simple Node.js API, you can write conceptual code directly on a pair.  In addition, knowledge of JavaScript is sure to be useful in practice to any engineer working in IT.  Part of the code developed by the students of the course has already fallen into serious open source projects and this is an excellent practice that everyone can repeat, because we gradually <a href="https://github.com/HowProgrammingWorks">spread the</a> laboratory work <a href="https://github.com/HowProgrammingWorks">on github</a> and will continue to do so, supplying them with methodological instructions and not caring that students will write off forks, because all this is necessary first of all for them.  These materials were used in the preparation of about 300 students of a polytechnic university for the 2015-2016 academic year.  I will once again arrange the examples on the shelves at the summer school, which runs from August 9 to August 26, 2016, and the schedule of which <a href="http://www.meetup.com/KievNodeJS/">can be found here</a> .  So, go to the most illustrative examples of code. <a name="habracut"></a></p><br><h1>  Example number 1.  Live tables </h1><br><p>  Writing something like Google Spreadsheets live Googleglox tables can even inspire losers.  Let it be a small 6x5 spreadsheet, but several people can enter it and the data entered by them will be synchronized over the network in real time.  It is vivid, effective and applicable in practice.  In addition, this task hides additional topics, the use of WebSocket and EventEmitter, write its simple implementation on its own, and expand the capabilities of EventEmitter to subscribe to all events.  The main objective of this work, designed for 1 lecture and 2 practices, is to master the event-reactive model of calculations, instead of passing through a cycle and broadcasting events through the network. </p><br><p>  You can start no longer from scratch, the base server code is 41 lines, and 53 lines the client is written and laid out along with the task in the githaba: <a href="https://github.com/HowProgrammingWorks/EventDrivenProgramming">https://github.com/HowProgrammingWorks/EventDrivenProgramming</a> </p><br><h1>  Example number 2.  Distributed computing </h1><br><p>  How to captivate students with distributed computing?  I think they just need to give something simple that they will be able to realize in one or two pairs.  No one in his right mind, of course, will write large computational tasks on Node.js, but it is very brief and indicative in the sense that JavaScript has a single-threaded execution model.  We can visually parallelize the calculations, translating them into an asynchronous paradigm and distributing among several processes.  To do this, it is proposed to move from cycles to iterators.  In this case, the loop variables and state disappear, i.e.  The original data set can already be cut and transferred to different processes.  This is suitable for tasks in which the sequence of processing the elements of a data set is not important, and there are a lot of such tasks.  In addition, iterators can be redefined, intercepted, or written by your own.  We can implement interprocess communication and network sharing, hiding it behind the iterator abstraction.  The application code will not change, only the implementation of the iterator will cut the task into parts, store the indices of the parts, and then, when getting the results (even if in a different order), they can be glued together in the correct sequence. </p><br><p>  You can also start from scratch, there are blanks of the code on the githabab <a href="https://github.com/HowProgrammingWorks/InterProcessCommunication">https://github.com/HowProgrammingWorks/InterProcessCommunication</a> containing two options for exchanging between processes: via IPC (built into the operating system and having a wrapper in Node.js API) and via TCP sockets .  The latter can be used not only for parallelization within a single server, but also for building a cluster of several multicore servers. </p><br><p>  This task can be developed indefinitely, if a student is small and has the ability and desire to dig deeper, he can write a resource manager for a computing cluster in which he will keep the state of each computing process and distribute computing tasks to free resources or in general their performance.  You can collect performance statistics for different tasks and optimize load balancing.  You can implement calculations on the server, and send requests from many clients, but you can, on the contrary, have many workers and send them requests from one master.  You can even make a request broker, then we have one TCP server that has two types of clients: the customer and the performer.  Customers send tasks, and the broker (server) distributes them to the executors, then collects them and parts of the solution and sends integrated solutions to customers. </p><br><h1>  Example number 3.  Sandboxes, control inversion and dependency injection </h1><br><p>  Another important topic is screening application code in sandboxes.  In this sense, Node.js gives us access to the V8 virtual machine API and this allows us to create code execution contexts dynamically.  Sandboxes have their own global context and absolutely do not have access to the main global context of the application, unless we specifically forward to them references to certain objects.  Thanks to this, we can demonstrate the principles of inversion control and dependency injection for modules, not just for classes.  We can take a link to an object or function from one sandbox, and inject it into another sandbox.  We can wrap any API in the sandbox, adding logging, speed measurements, distributed computing, security functions and anything else to its behavior.  Sandboxes, this is one of the most powerful features of a node, but unfortunately, so far little used in application applications. </p><br><p>  Generally speaking, dependency management in a node out of the box is all for itself, everything is done through DL (dependency lookup), the implementation of which is the notorious require.  This is the way in which the modules themselves load other modules into their context, indicating the full path to the file or the module name in the npm repository.  At the same time, loadable modules get full access to the global context of the application and can change anything in it, for example, remove setTimeout, override Array.prototype.forEach () or replace require with its function.  In general, JavaScript libraries often modify the base classes of the language and this leads to code conflicts.  There is no salvation from this, except for how to run conflicting code in sandboxes and implement screening, and inject dependencies from the main application, creating links to them in the global context of sandboxes. </p><br><p>  It is best to go to the external declarative description of dependencies, on the similarity of what we have in package.json.  But require in the node duplicates in the imperative style, the declarative description that is contained in package.json.  In large projects, it often happens that two different components of an application depend on different versions of the same library (this is terrible of course, but as it is), and only one can be described in package.json.  You can arrange all these components as separate npm packages and raise your npm server or upload them to a private repository, of course.  But it is much more beautiful to solve two problems at once with the help of sandboxes and dependency injection.  The main module can read the dependency description file and load the required dependency versions into the right sandboxes, while protecting their contexts. </p><br><p>  Link to the repository <a href="https://github.com/HowProgrammingWorks/InterProcessCommunication">https://github.com/HowProgrammingWorks/InterProcessCommunication</a> and it has 3 folders: </p><br><ul><li>  sandboxedModule is about using sandboxes </li><li>  interfaceWrapper - about interface wrapper </li><li>  dependencyInjection - about dependency injection </li></ul><br><h1>  Links </h1><br><ul><li>  Organization with all repositories on github: <a href="https://github.com/HowProgrammingWorks">https://github.com/HowProgrammingWorks</a> </li><li>  Letters to students of the course: <a href="https://github.com/HowProgrammingWorks/Letters">https://github.com/HowProgrammingWorks/Letters</a> </li><li>  Lectures schedule: <a href="">https://github.com/HowProgrammingWorks/Letters/blob/master/KPI-2016-Summer/Meetings.md</a> </li><li>  Questions can be asked on the guitar here: <a href="https://gitter.im/nodeua/NodeJS">https://gitter.im/nodeua/NodeJS</a> </li><li>  Groups at the meeting: <a href="http://www.meetup.com/KievNodeJS/">http://www.meetup.com/KievNodeJS/</a> and <a href="http://www.meetup.com/NodeUA/">http://www.meetup.com/NodeUA/</a> </li></ul><br><h1>  Conclusion </h1><br><p>  Next time I will show even more code samples from our labs, for example: web chat via web sockets, practical application of metaprogramming, extensible HTTP server for old web, asynchronous composition of functions, increasing code abstraction, development of specialized protocols, serializers and servers on TCP and UDP, directory synchronization over the network, building DSL languages, for example, a query language for in-memory data structures, etc.  Thank you for your attention. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/307332/">https://habr.com/ru/post/307332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307320/index.html">Multigrain: Features of PoS Terminal Malware</a></li>
<li><a href="../307324/index.html">When unit testing is really needed</a></li>
<li><a href="../307326/index.html">Project Management in L & D</a></li>
<li><a href="../307328/index.html">Systematization of publications in the web. Part 3 of 3: Strategy placement of scientific publications</a></li>
<li><a href="../307330/index.html">How to hire programmers. Interview with Katerina Gavrilova from DigitalHR</a></li>
<li><a href="../307334/index.html">Threejs editor</a></li>
<li><a href="../307336/index.html">Physicists from the Delft University of Technology have created an atomic data warehouse</a></li>
<li><a href="../307338/index.html">Setting up wifi authorization via sms under ubuntu 16.04</a></li>
<li><a href="../307340/index.html">We control the computer through a browser</a></li>
<li><a href="../307342/index.html">Kerio Control 9.1 opens up new next-generation firewall (NGFW) capabilities for SMB companies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>