<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Prefix to the router (USB HUB + USB HDD + UPS)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After acquiring a sufficiently powerful router with USB ports (it was ASUS RT-N16), I wondered how to use the router to its fullest? 
 What I needed: ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Prefix to the router (USB HUB + USB HDD + UPS)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/abc/ddc/8f4/abcddc8f40102f0205cd5b7cef907a93.jpg"><br>  After acquiring a sufficiently powerful router with USB ports (it was ASUS RT-N16), I wondered how to use the router to its fullest? <br>  What I needed: <br><ul><li>  network storage, </li><li>  rocking torrent, </li><li>  and of course, so that all this does not fall during shots / interruptions in the power supply network. </li></ul><br><a name="habracut"></a><br><h4>  Concept </h4><br>  The easiest way to implement this is to connect a USB HDD, USB HUB and UPS (new or used) to the router, but I didn‚Äôt like this option because  all this will be lying loose on the closet and I began to think how to put it all in one box, and even to look decent. <br><br><h4>  Component selection </h4><br><h5>  BP / UPS </h5><br>  First of all, I refused to use the UPS in favor of a power source with a buffer battery due to the fact that the router itself and all peripherals are powered from a constant voltage source, while the UPS does not have a 12 V output and will have to use a power supply.  A search on the Internet gave several models of the company Mean Well, unfortunately I did not find cheaper analogues: <br><ol><li>  SCP-50-12 ( <a href="http://www.meanwell.com/search/scp-50/default.htm">pdf link</a> ) </li><li>  AD-55A ( <a href="http://www.meanwell.com/search/ad-55/default.htm">pdf link</a> ) </li><li>  ADD-55A ( <a href="http://www.meanwell.com/search/add-55/default.htm">pdf link</a> ) </li><li>  PSC-60A ( <a href="http://www.meanwell.com/search/psc-60/default.htm">pdf link</a> ) </li></ol><br>  Of all of the above, ADD-55A stands out, since  it has two outputs: 12 V and 5 V, which is very convenient for connecting USB peripherals, but its price is higher (around 1500 p.) and it is the most dimensional.  AD-55A is the same as ADD-55A, only there is no 5 V output. SCP-50-12 is the simplest: a simple charge circuit through a diode, there is no protection of the battery from overdischarge.  PSC-60A, in turn, has the functions of protecting the battery, and the dimensions are small. <br>  In one electronics store I found AD-55A in about 1100 rubles, I didn‚Äôt like it, because  dimensional (152.5 x 97 mm) and a lot of empty places with unsealed components (apparently, one board with ADD-55A). <br>  I decided to purchase ADD-55A, or PSC-60A.  Searches for the sale of ADD-55A were unsuccessful, no one wanted to get involved in a 1-piece party, or they broke prices.  I was more lucky with the PSC-60A: one company sold me a version in the package (PSC-60A-C) for 886 p. <br>  To power the drive and USB peripherals, I used a homemade DC-DC converter for 5 V, 1 A on an LM2575 chip. <br><br><h5>  Battery </h5><br>  The battery was chosen by the Leoch company of the DJW series, since  used such before.  Here I chose from what is in stock and fits me in capacity, size. <br>  Since  for a long time, electricity rarely disappears from me, and more often it cuts me down for a couple of minutes, I decided that I should have enough 30-60 minutes of autonomy, so I took the battery DJW12-3.2 (12 V, 3.2 Ah) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  USB HUB </h5><br>  It's simple.  I bought a cheap one with 4 USB ports, with one USB on the end, and I used it to connect a hard disk. <br><br><h5>  HDD </h5><br>  I decided to take a hard drive for a laptop, not for desktop PCs, since  it is smaller, consumes less and does not require 12 V power supply, by the way, I already had a USB-SATA box.  I didn‚Äôt plan to do a ‚Äúmega-ball‚Äù, so I managed to buy a 320 GB drive - that‚Äôs enough for the first time. <br><br><h5>  Housing </h5><br>  But with the case it is somewhat more difficult - I didn‚Äôt want to do it myself, but the case for small PCs is a little expensive, so I decided to buy a case for GIANTA‚Äôs electronics, since  in stores they are.  I estimated the dimensions of all the components, looked at it and bought the G753A case, its dimensions are 260 x 180 x 85 mm: <br><img src="https://habrastorage.org/storage2/d56/b34/b17/d56b34b1727553cc6a604328a0ac2d89.png"><br><br><h4>  Assembly </h4><br>  Arrange everything planned as follows: <br><img src="https://habrastorage.org/storage2/734/63a/4d3/73463a4d3d566c93b5c6daf63e12ef97.png"><br>  At first I thought about getting by with cable ties for fixing everything, but then I changed my mind and made simple HDD and battery fixings from the remnants of some 2 mm of metal. <br>  Prefix assembly: <br><img src="https://habrastorage.org/storage2/79e/85c/8b1/79e85c8b1ae773a2fada51c88acda5d5.jpg"><br><br>  Behind: <br><img src="https://habrastorage.org/storage2/635/91b/149/63591b149644785686a51e52057a2c22.jpg"><br><br>  Front: <br><img src="https://habrastorage.org/storage2/9a2/06f/787/9a206f787effce73397c788bdf499394.jpg"><br><br>  I brought 3 LEDs to the front panel: a small dual one - from USB-SATA (indication of operation and disk access), just soldered on a loop;  green and red - signals ‚ÄúAC OK‚Äù and ‚ÄúBatt.  Low ‚Äùfrom BP.  The PSC-60A pulls these leads to the ground with the appropriate event - I connected the LEDs through resistors of 510 ohms to +5 V, now if the power is present, then the green light comes on, and if the battery is low, then red (true of this moment, when I test it) and did not catch). <br><br><h4>  Testing </h4><br>  I use ASUS RT-N16 with firmware <a href="http://code.google.com/p/wl500g/">from enthusiasts</a> and torrent client transmission.  There are not many torrents loaded, nevertheless, according to information from smartctl, when distributing (even with a 200 Kb / s limit) the hard disk is somewhat hot - 41 ¬∞ C, I didn‚Äôt want to put a fan, so I armed myself with a drill, patience and drilled holes in the lid Over AC-DC converter: <br><br><img src="https://habrastorage.org/storage2/449/276/3cd/4492763cd20b988ce0448812c4667de5.jpg"><br><br>  After that, the temperature at full idle became 35 ¬∞ C, and 38 ¬∞ C during distribution with a limit of 200 Kb / s, and with active downloading it rises to 40 ¬∞ C.  Should I put a fan - not yet decided. <br><br>  Installed battery 3.2 Ah enough for about an hour of work. <br><br><h4>  Price issue </h4><br>  What I collected and how much it cost me: <br><table><tbody><tr><td>  AC-DC converter PSC-60A </td><td>  886 r. </td></tr><tr><td>  DC-DC 12 V - 5 V, 1 A (was available, self-made) </td><td>  - </td></tr><tr><td>  Battery DJW12-3.2 </td><td>  372 r. </td></tr><tr><td>  Enclosure G753A </td><td>  437 r. </td></tr><tr><td>  HDD Hitachi Z5K500-320G </td><td>  1,590 r. </td></tr><tr><td>  USB SATA (was available) </td><td>  - </td></tr><tr><td>  USB HUB </td><td>  ~ 150 p. </td></tr><tr><td>  Fasteners, connectors, etc. trivia </td><td>  ~ 150 p. </td></tr><tr><td>  <b>Total:</b> </td><td>  <b>~ 3 600 p.</b> </td></tr></tbody></table><br><br><h4>  What else do you want to finish and what can be done differently </h4><br>  Now I plan to make a sticker on the front part to hide the uneven edges of the cutout for USB ports.  Well, the question of cooling remained half-closed, is 40 ¬∞ C normal under load?  For example, the disk of my laptop warmed up to 41 ¬∞ C when writing this article, although only the browser is open, but with a bunch of tabs. <br><br>  Power for the router and USB, I brought the wires, but "in an amicable way" it was necessary to put the connectors on the back wall. <br><br>  The disadvantage of AC-DC from the buffer battery in comparison with the UPS is its ‚Äúuncontrollability‚Äù - the router does not know if it works from the battery or from the network.  This disadvantage can be compensated by transmitting the information on the status of the outputs ‚ÄúAC OK‚Äù and ‚ÄúBatt.  Low ¬ªPSC-60A, for these purposes, you can connect a USB controller and write a simple script for the router, which wakes up to poll it once a minute. <br><br>  Also, if everything is arranged more compactly, then, probably, you can build in the giblets of the router. </div><p>Source: <a href="https://habr.com/ru/post/157743/">https://habr.com/ru/post/157743/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../157731/index.html">Imagine Cup 2013: Games Competition!</a></li>
<li><a href="../157733/index.html">A new type of wind generator produces electricity without blades.</a></li>
<li><a href="../157735/index.html">Parallel programming using computational graph</a></li>
<li><a href="../157737/index.html">AOL comes out of the crisis and is rapidly gaining momentum</a></li>
<li><a href="../157739/index.html">"Poster": The History of the Russian Internet</a></li>
<li><a href="../157745/index.html">Updated Maps of Mars by Google</a></li>
<li><a href="../157747/index.html">Friday post good or how Samsung builds an online school of solar energy</a></li>
<li><a href="../157749/index.html">Competition Ivideon. Continuation</a></li>
<li><a href="../157753/index.html">Working with Yandex.Webmaster API</a></li>
<li><a href="../157755/index.html">All videos and presentations from the Autumn Forum Technologies Mail.Ru Group 2012</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>