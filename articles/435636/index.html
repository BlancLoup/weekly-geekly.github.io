<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to learn using machine learning from Dota 2 experts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article from the St. Petersburg Tower, we showed how using machine learning you can search for bugs in the program code. In this post ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to learn using machine learning from Dota 2 experts</h1><div class="post__text post__text-html js-mediator-article"><p>  In the previous article from the St. Petersburg Tower, we showed how using machine learning you can search for bugs in the program code.  In this post we will talk about how, together with JetBrains Research, we are trying to use one of the most interesting, modern and rapidly developing sections of machine learning - reinforcement learning - both in real practical problems and in model examples. </p><br><p><img src="https://habrastorage.org/webt/td/bt/ej/tdbtejjvm4mckpe4g5w5mcenuh0.jpeg"></p><a name="habracut"></a><br><h2 id="o-sebe">  About myself </h2><br><p>  My name is Nikita Sazanovich.  Until June 2018, I studied for three years at SPbAU, and then, together with the rest of my group mates, I transferred to HSE St. Petersburg, where I now finish my undergraduate degree.  Recently, I also work as a researcher at JetBrains Research.  Before entering university, I was fond of sports programming and played for the national team of Belarus. </p><br><h2 id="obuchenie-s-podkrepleniem">  Reinforcement training </h2><br><p>  Reinforcement training is such a machine learning branch in which an agent, interacting with the environment, receives reinforcement (hence the name) in the form of a positive or negative reward.  Depending on these prompts, the agent changes its behavior.  The ultimate goal of this process is to get as much reward as possible, or, in a different way, to achieve those actions that have been set for the agent. </p><br><p>  Agents operate on states and select actions.  For example, in the task of leaving the labyrinth, our states will be the coordinates x and y, and the actions of moving up / down / left / right.  The general scheme looks like this: </p><br><p><img src="https://habrastorage.org/webt/jq/9d/t1/jq9dt1vohjof_41bskzm7otn-mu.png"></p><br><p>  The main problem in the transition from fictional / simple tasks (like the same maze) to real / practical tasks is this: rewards in such tasks are usually very rare.  If we want an agent, for example, to deliver pizza on a map of a city, he will understand that he did something good only by delivering an order to the door, and this will happen only if you complete a long and correct sequence of actions. </p><br><p>  This problem can be solved by giving the agent at the start examples of how to ‚Äúplay‚Äù - the so-called expert demonstrations. </p><br><h2 id="zadacha-dlya-obucheniya">  Task for learning </h2><br><p>  The model problem that will be discussed in the article is Dota 2. </p><br><p>  Dota 2 is a popular MOBA game in which a team of five heroes must defeat the opposing team, destroying their ‚Äúfortress‚Äù.  Dota 2 is considered a rather difficult game, it has esports with prizes in the main tournament of <a href="https://liquipedia.net/dota2/The_International/2018">$ 25000000</a> . </p><br><p>  You could hear about the recent success of OpenAI in Dota 2. First, they created a one-on-one bot and <a href="https://blog.openai.com/dota-2/">defeated professional players</a> , and then switched to 5x5 and showed <a href="https://blog.openai.com/the-international-2018-results/">impressive results</a> this summer, although they lost to professional teams. </p><br><p><img src="https://habrastorage.org/webt/vj/ym/zs/vjymzsfis8dcyqsc1drqwh3k7jk.png"></p><br><p>  The only problem is that they trained the one-on-one agent, <a href="https://blog.openai.com/openai-five/">according to their own words</a> , on 60,000 CPUs and a 256 K80 GPU on the Azure cloud.  They, of course, have the opportunity to order so much power.  But if you have less power, you have to use tricks.  One of such tricks is the use of games already played by people. </p><br><h2 id="demonstracii-v-igre">  Demonstrations in the game </h2><br><p>  In most cases, the demonstrations are recorded artificially: you just perform a task / play a game and somehow collect the actions you have taken.  So you will collect some data that can be embedded in training in various ways.  I have done so far, but how exactly it will be clear after the part about the scheme of interaction with the client of the game. </p><br><p>  A more ambitious and adventurous goal is to get more data from open access.  One of the reasons for choosing Dota 2 to speed up learning was a resource such as <a href="https://www.dotabuff.com/">dotabuff</a> .  There are collected different statistics on the game, but more importantly, there are complete replays of games.  And they can be sorted by rating. </p><br><p>  So far I have not tried out how much a gigabyte of such data will help in comparison with several episodes.  Implementing the same data collection was quite simple: you get links to games on dotabuff, download games and use <a href="https://github.com/skadistats/clarity">the Dota 2 games parser</a> . </p><br><h2 id="svyazka-s-klientom-igry-dlya-obucheniya">  Bundle with game client for training </h2><br><p>  We have Dota 2 game, the client of which exists for Windows, Linux and macOS platforms.  But still, learning usually happens in some kind of python script, and in it you create an environment, be it a labyrinth, <a href="">climb a car on a hill</a> or something like that.  But there is no environment for Dota 2.  Therefore, I myself had to create this wrapper, which was quite interesting technically.  It turned out to do this: </p><br><p><img src="https://habrastorage.org/webt/6w/pa/ih/6wpaihltadad5gce1s7kq-fhhwm.png"></p><br><p>  The first part is a script for communicating with the game client.  Fortunately, for Dota 2 there is an official API for creating bots: <a href="https://developer.valvesoftware.com/wiki/Dota_Bot_Scripting">Dota Bot Scripting</a> .  It is implemented as insertions in the Lua language, which, as it turned out, is popular in game development.  The bot script, interacting with the game client, pulls out the information we need at the right moment (for example, coordinates on the map, positions of opponents) and sends json with it to the server. </p><br><p>  The second part is the actual wrapper itself.  This is designed in the form of a server that processes all the logic of launching Steam, Dota-s and getting json-s from the script inside the game.  Managing the launch of games and clients is arranged through <a href="https://pyautogui.readthedocs.io/">pyautogui</a> , and communication with the lua-insert in the game is <a href="https://pyautogui.readthedocs.io/">done</a> via the Flask server. </p><br><p>  The third part consists of the learning algorithm itself.  This algorithm selects actions, receives the following states and rewards from the server, behind which all communication with the game is hidden, and improves its behavior. </p><br><h2 id="uchimsya-u-ekspertov">  Learning from the experts </h2><br><p>  The algorithm itself is not particularly important in this article, because these techniques can be used with any algorithm.  We used DQN (about which it is possible to <a href="https://habr.com/post/279729/">esteem on Habr√©</a> ).  In fact, this is a deep neural network + <a href="https://ru.wikipedia.org/wiki/Q-%25D0%25BE%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">Q-learning</a> algorithm.  Yes, this is exactly the DQN that DeepMind created to play Atari games. </p><br><p>  It is also more interesting to talk about how to use previous games.  I experienced two approaches: potential-based reward shaping and action advice. </p><br><p>  The general idea of ‚Äã‚Äãthe approaches is that the agent will receive the reward not only for the objectives of the task (for example, after completing the maze or climbing the mountain), but also during the training at each step.  This additional reward will show how well the agent is acting to achieve the final goal.  I would like to ask it, of course, automatically, and not select rules / conditions.  The following approaches help to achieve this. </p><br><p>  The essence of the potential-based reward shaping is that some states initially seem to us more promising than others, and on the basis of this we modify the real rewards that the algorithm receives.  We do it like this: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>r</mi><mo>&amp;#x2032;</mo></msup><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>r</mi><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>s</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="45.781ex" height="2.66ex" viewBox="0 -832 19711.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2032" x="638" y="513"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6C" x="996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-65" x="1294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-66" x="1761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="2311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="2673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="3202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="3654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6F" x="4105" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-77" x="4591" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="5307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2B" x="5981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-67" x="7232" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="7712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6D" x="8242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6D" x="9120" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="9999" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="10778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="11530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="12106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="12452" y="0"></use><g transform="translate(12841,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="0" y="0"></use><g transform="translate(469,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-31" x="1140" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="14571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2212" x="15182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="16433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="17185" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="17761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="18107" y="0"></use><g transform="translate(18496,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="663" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="19321" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>r</mi><mo>‚Ä≤</mo></msup><mtext>&nbsp;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>r</mi><mo>+</mo><mtext>&nbsp;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> r '\ leftarrow r + \ gamma \ Phi (s_ {t + 1}) - \ Phi (s_t) </script>  where <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>r</mi><mo>&amp;#x2032;</mo></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.733ex" height="2.178ex" viewBox="0 -832 746.3 937.7" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2032" x="638" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>r</mi><mo>‚Ä≤</mo></msup></math></span></span><script type="math/tex" id="MathJax-Element-2"> r '</script>  - modified award <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.049ex" height="1.455ex" viewBox="0 -520.7 451.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> r </script>  - a real reward <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.237ex" height="1.817ex" viewBox="0 -520.7 3546.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-67" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6D" x="1260" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6D" x="2138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="3017" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ gamma </script>  - discount factor from the learning algorithm (not very important to us), but <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.193ex" height="2.66ex" viewBox="0 -832 3527.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="1578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="1923" y="0"></use><g transform="translate(2313,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="663" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="3138" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ Phi (s_t) </script>  and there is our potential for the state we visited during <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>t</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.84ex" height="1.937ex" viewBox="0 -728.2 361.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> t </script>  .  A simple example is overcoming the maze. </p><br><p>  Suppose there is a labyrinth in which we want to come from a cell (0,0) into a cell (5.5).  Then our potential for the state (x, y) can be minus the Euclidean distance from (x, y) to our goal (5.5): <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>5</mn><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>5</mn><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.199ex" height="2.901ex" viewBox="0 -935.7 17307.9 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="1578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="1923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-78" x="2702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2C" x="3275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-79" x="3720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4607" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-3D" x="5274" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2212" x="6330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="7359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-71" x="7828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="8289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="8740" y="0"></use><g transform="translate(9102,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2212" x="1184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-35" x="2184" y="0"></use><g transform="translate(2685,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-32" x="550" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2B" x="3751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="4751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-79" x="5141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2212" x="5861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-35" x="6861" y="0"></use><g transform="translate(7362,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-32" x="550" y="513"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>x</mi><mo>‚àí</mo><mn>5</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>y</mi><mo>‚àí</mo><mn>5</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></math></span></span><script type="math/tex" id="MathJax-Element-7"> \ Phi ((x, y)) = - \ sqrt {(x-5) ^ 2 + (y-5) ^ 2} </script>  .  That is, the closer we are to the finish line, the greater the potential of the state (for example, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mn>5</mn><mo>,</mo><mn>5</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.706ex" height="2.66ex" viewBox="0 -832 6762.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="1578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="1923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-35" x="2702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2C" x="3203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-35" x="3648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4148" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-3D" x="5205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-30" x="6261" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-8"> \ Phi ((5,5)) = 0 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mo>=</mo><mo>&amp;#x2212;</mo><mn>3.61</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.066ex" height="2.66ex" viewBox="0 -832 9070.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="1578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="1923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-32" x="2702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2C" x="3203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-33" x="3648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4148" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-3D" x="5455" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2212" x="6511" y="0"></use><g transform="translate(7290,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-36" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-31" x="1279" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mo>=</mo><mo>‚àí</mo><mn>3.61</mn></math></span></span><script type="math/tex" id="MathJax-Element-9"> \ Phi ((2,3)) ~ = -3.61 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>,</mo><mn>5</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.514ex" height="2.66ex" viewBox="0 -832 7540.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="1578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="1923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-31" x="2702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2C" x="3203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-35" x="3648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4148" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="4538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-3D" x="5205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2212" x="6261" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-34" x="7040" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo>‚àí</mo><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-10"> \ Phi ((1,5)) = - 4 </script>  ).  So we motivate the agent by any means to approach the goal. </p><br><p>  For Dota 2, the idea is the same, but the potentials are a little more complicated: </p><br><p><img src="https://habrastorage.org/webt/60/eq/e1/60eqe1c6m5gq3xygyrg8et9l5pq.png"></p><br><p>  Imagine that we just want to go through the same states as the demonstrator.  Then the more states we pass, the higher the potential.  We put the potential of the state on the percentage of completion of the replay, if there is a state close to ours.  It has a different meaning in different tasks.  But in Dota 2, this means that at first we want the bot to reach the center (after all, at the beginning of the demonstrations, there are only steps to the center), and then to keep the player‚Äôs states (great health, safe distance to opponents, etc.). ). </p><br><p>  The second method, action advice, was taken from this <a href="https://www.ijcai.org/Proceedings/15/Papers/472.pdf">article</a> .  Its essence is that now we advise the agent not the usefulness of states, but the usefulness of actions.  For example, in our game Dota 2 there can be such tips: if you have an enemy minion near you, then attack it;  if you have not reached the center, then go in his direction;  if you lose health, then retreat to your tower.  And this article describes the method of setting such advice without any hesitation by the programmer himself - automatically. </p><br><p>  Potentials generated by this principle: action potential <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.23ex" height="1.455ex" viewBox="0 -520.7 529.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-11"> a </script>  capable of <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>s</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.09ex" height="1.455ex" viewBox="0 -520.7 469.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi></math></span></span><script type="math/tex" id="MathJax-Element-12"> s </script>  increases in the presence of close states <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>s</mi><mi>d</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.182ex" height="1.817ex" viewBox="0 -520.7 939.7 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-64" x="663" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-13"> s_d </script>  with the same <br>  by action <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.23ex" height="1.455ex" viewBox="0 -520.7 529.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-14"> a </script>  in demonstrations.  Further reward for action on the scheme above <br>  varies as <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>r</mi><mo>&amp;#x2032;</mo></msup><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>r</mi><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>s</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>,</mo><msubsup><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mo>&amp;#x2032;</mo></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>s</mi><mi>t</mi></msub><mo>,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="54.061ex" height="3.021ex" viewBox="0 -832 23276.3 1300.8" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2032" x="638" y="513"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6C" x="996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-65" x="1294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-66" x="1761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="2311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="2673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="3202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="3654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6F" x="4105" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-77" x="4591" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-72" x="5307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2B" x="5981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-67" x="7232" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="7712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6D" x="8242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-6D" x="9120" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="9999" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="10778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="11530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="12106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="12452" y="0"></use><g transform="translate(12841,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="0" y="0"></use><g transform="translate(469,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-31" x="1140" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2C" x="14571" y="0"></use><g transform="translate(15016,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2032" x="748" y="445"></use><g transform="translate(529,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-31" x="1140" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="16805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2212" x="17417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-50" x="18668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-68" x="19419" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-69" x="19996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-28" x="20341" y="0"></use><g transform="translate(20731,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="663" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-2C" x="21556" y="0"></use><g transform="translate(22001,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMATHI-74" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/435636/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhp8zCxILaWbgQJLPzu9rwjNM9MYA#MJMAIN-29" x="22886" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>r</mi><mo>‚Ä≤</mo></msup><mtext>&nbsp;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>r</mi><mo>+</mo><mtext>&nbsp;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>,</mo><msubsup><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mo>‚Ä≤</mo></msubsup><mo stretchy="false">)</mo><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>P</mi><mi>h</mi><mi>i</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo>,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-15"> r '\ leftarrow r + \ gamma \ Phi (s_ {t + 1}, a' _ {t + 1}) - \ Phi (s_t, a_t) </script>  . <br>  It is worth noting here that we are already setting the potentials for actions in states. </p><br><h2 id="rezultaty">  results </h2><br><p>  To begin with, I note that the goal of the game was slightly simplified, because I taught it all on my laptop.  The agent‚Äôs goal was to inflict as many attacks as possible, which seems to be a real target in some approximation.  To do this, you first need to get to the center of the map and then attack the opponents, trying not to die.  To speed up the training, only a few (from 1 to 3) two-minute demonstrations recorded by myself were used. </p><br><p>  Training an agent using any of the approaches takes only 20 hours on a personal computer (most of the time it takes to draw the game Dota 2), and judging by the OpenAI schedules, training on their servers goes for weeks. </p><br><p>  A short excerpt of the game when using the potential-reward shaping approach: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/D8pgqN1HNI0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  And for the action advice approach: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/eWXsa4J1pSg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  These recordings were made at a training speed of x10.  Inaccuracies in the behavior of the agent when moving to the center are still visible, but the struggle in the center still shows the learned maneuvers.  For example, retreat back with low health. </p><br><p>  You can also see the differences of approaches: when a potential-based reward shaping agent moves smoothly, because  "goes by potential";  with action advice, the bot plays more aggressively in the center, as it receives hints on the attack. </p><br><h2 id="itogi">  Results </h2><br><p>  Immediately, I note that some points were deliberately omitted: what was the algorithm exactly, how the state appeared, and whether it is possible to train an agent to play with real players, etc. </p><br><p>  First of all, I wanted to show in this article that in the case of training with reinforcements, you do not always have to choose between a very simple environment (escape from a maze) or a very large cost of training (according to my cursory calculations, OpenAI managed those Azure training servers for $ 4715 at one o'clock).  There are techniques that allow you to speed up the training, and I told only about one of them - the use of demonstrations.  It is important to note that in this way you do not just repeat the demonstrator, but only ‚Äúrepelled‚Äù from it.  It is important that with further training the agent has the opportunity to surpass the experts. </p><br><p>  If you are interested in the details, the learning process code can be found on <a href="https://github.com/niksaz/dota2-expert-demo">GitHub</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/435636/">https://habr.com/ru/post/435636/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../435622/index.html">AT & T "switched" to 5G, changing the icon on the screen</a></li>
<li><a href="../435624/index.html">A selection of interesting reports from the conference 35C3</a></li>
<li><a href="../435626/index.html">How we found the critical vulnerability of AspNetCore.Mvc and switched to our own serialization</a></li>
<li><a href="../435628/index.html">Chrome browser‚Äôs built-in ad blocker starts July 9</a></li>
<li><a href="../435630/index.html">Network security in the cloud: 5 trends in 2019</a></li>
<li><a href="../435638/index.html">About the happiness of developers and where to find it</a></li>
<li><a href="../435640/index.html">The event digest for HR-specialists in the field of IT in January 2019</a></li>
<li><a href="../435642/index.html">Pentax Auto 110: ‚Äúin which cam the camera?‚Äù</a></li>
<li><a href="../435644/index.html">Zoo afl phasers</a></li>
<li><a href="../435646/index.html">NB-IoT, Narrow Band Internet of Things. General information, technology features</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>