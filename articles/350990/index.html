<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúWe'll have to write by ourselves. They sat down and wrote ": the life of the developers of the laboratory cluster of super-arrays in Sbertech</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is a myth that banks are very stiff structures, in which there is no room for experiment. In order to refute this myth, we conducted a brief int...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúWe'll have to write by ourselves. They sat down and wrote ": the life of the developers of the laboratory cluster of super-arrays in Sbertech</h1><div class="post__text post__text-html js-mediator-article"><p>  There is a myth that banks are very stiff structures, in which there is no room for experiment.  In order to refute this myth, we conducted a brief interview with Valery Vybornov, head of the department for developing a laboratory cluster of super-arrays in Sberbank-Technologies.  In their own team, they are not afraid to use all the power of Scala, Akka, Hadoop, Spark, and even write prototypes on Rust. </p><br><img width="400" align="left" src="https://habrastorage.org/webt/ks/dy/0z/ksdy0zqx-ph4yhzphgv_mludlqw.png"><br><h1 id="osnovnye-voprosy">  Main questions: </h1><br><ul><li>  Discussion of a pilot project example (working with a social graph) with technical details; </li><li>  Used languages ‚Äã‚Äãand technologies (Scala, Akka, Hadoop, Spark, Rust, etc.); </li><li>  Can I come to Sbertech immediately to a management position?  How is everything inside organized, what are the grades? </li><li>  How does a simple developer live?  Details of the introduction of Sberjail; </li></ul><br><p><br clear="all"></p><a name="habracut"></a><br><p>  <strong>- Tell us a little about yourself?</strong> </p><br><p>  - I came to Sbertech almost three years ago, I was engaged in building Big Data, took part in building big data infrastructure.  We worked in a single team, including with specialists from Sberbank itself. </p><br><p>  What tasks did we have to solve?  Anything, including recruiting.  Now there are 47 staff members in the department.  I hired employees, built a department job.  He took part in the construction of the cluster, the development of the pilot and the prototype (this was the first phase of the construction of Big Data). </p><br><p>  <strong>- Where did you come to Sberbank?</strong> </p><br><p>  - From the company Video International.  We were engaged, in fact, technical support for online advertising.  They made an advertising twister that was used there for some time.  Building Big Data there was also involved, participated in the creation of the platform - which was then separated, and until recently was known in the market as Amber Data.  Now they bought NMG. </p><br><p>  <strong>- When a person came to a large company immediately to a management position, the question usually arises: what were the key skills that made it possible to reach such heights?</strong> </p><br><p>  - It is difficult to say what was more important: different skills came in handy to different degrees.  First, of course, experience with people, management experience.  Anyway, I have been working in managerial positions for quite a long time, for more than ten years already.  The second thing that helped - for all these ten years, managed not to break away from technology.  I have not forgotten how to do something with pens. </p><br><p>  <strong>- Did you do this in your free time?</strong>  <strong>How much time was spent on programming?</strong> </p><br><p>  - Let's just say, if you take Sberbank, then in the early stages, when it all started up - up to 80% of the time.  As soon as the department appeared, it gradually fell to the current level of twenty, or even lower. </p><br><p>  <strong>- Do you miss programming?</strong> </p><br><p>  - There is a slight nostalgia.  On the other hand, those tasks that are at a higher level are also quite interesting.  Management tasks. </p><br><p>  <strong>‚ÄúWhen you were programming, which tasks did you like most?‚Äù</strong>  <strong>You also got not just some kind of division, but a division of Big Data.</strong>  <strong>Does this have something to do with personal preferences?</strong> </p><br><p>  - Of course.  As a result of the development of the division, it turned out what is now - the IT Area of ‚Äã‚Äãthe development of Big Data applications. </p><br><p>  <strong>- What is it, IT Area?</strong> </p><br><p>  - In Sbergile matrix structure.  Vertically there are ‚Äútribes‚Äù, horizontally - ‚ÄúIT Areas‚Äù and business chapters.  In essence, the IT Area is a group of people of the same IT competence, working in different teams. </p><br><p>  <strong>- People, when they hear about Sbertech, they are interested not only in specific technologies.</strong>  <strong>Moreover, these technologies are difficult to use, because they are all yours and very special.</strong>  <strong>Let's discuss the HYIP themes, including the agile.</strong>  <strong>After the report of German Oskarovich only the lazy does not know about it.</strong>  <strong>So how do you feel about him (if at all)?</strong> </p><br><p>  - This is a complex topic, there are many interesting problems.  What specifically to tell? </p><br><p>  <strong>- What are the prospects for the introduction of Ajail for such a large company?</strong>  <strong>Lived earlier with usual design management somehow.</strong>  <strong>German Oskarovich talks about high-level abstractions, but what does this mean for specific people?</strong>  <strong>Specific developers?</strong>  <strong>A specific unit manager?</strong>  <strong>In short, you need an insider, how to implement a large agile.</strong> </p><br><p>  - Specifically, this means several things.  For example, debossing.  Leaders are no longer as ‚Äúleaders‚Äù as they were before. </p><br><p>  <strong>- ‚ÄúDebossing.‚Äù</strong>  <strong>Take the boss and reduce it.</strong>  <strong>Eliminate!</strong> </p><br><p>  - Yes :-) This is what is happening now.  Probably, it is better to formulate differently.  IT professionals used to sit separately from the business, and now we sit together with the business.  It changes our working conditions and some tasks.  We work together to understand customer needs and improve products. </p><br><p>  <strong>- How does it affect the life of a specific developer?</strong>  <strong>The rules are becoming stricter, or, on the contrary, softer, or - what?</strong> </p><br><p>  - Neither more severe nor softer.  The degree of responsibility of each team and individual employee increases.  There is no one to ask a question and no one to throw off the agreement - you make decisions yourself and you bear responsibility for it. </p><br><p>  If before Sbergile IT specialists were sitting in one location, in one office, now even in Moscow they are scattered across several offices.  If earlier people were sitting inside the department, now they are sitting on teams with the business. </p><br><p>  <strong>- Who is your product manager?</strong> </p><br><p>  - There is a product owner, and if we are talking about business projects, then usually this is a person from business.  He is engaged in the development of this product, prioritizes backlog, helps solve problems the team faces.  The concept is that the team is created with the product, for the entire life of the product.  Previously, the team was formed only at the time of the project. </p><br><p>  <strong>- Does an ordinary person really go from one product to another product?</strong>  <strong>How are you doing with Internal Mobility?</strong>  <strong>For example, you have worked for three years on one product, you can somehow from there ...</strong> </p><br><p>  - Of course.  If a person has reached the limit of development within the current team, he can initiate a rotation and pick up another team. </p><br><p>  <strong>- Cool.</strong>  <strong>And how are things with people from whom you can learn?</strong>  <strong>So that they have a level, an order of magnitude higher than your current knowledge and skills.</strong>  <strong>To progress not only career, but also in terms of knowledge.</strong> </p><br><p>  - Of course, there are experts in all IT areas.  If you take their knowledge, then the gap between the 12 Grade expert and the novice 8 Grade developer is exactly what you said.  We are trying to stimulate such processes in every way at the IT area level.  First of all, in the form of sharing knowledge, sharing competencies.  Just yesterday, there was a meeting on this topic: it was decided to launch periodic meetings on the main product phases in which our IT area participates.  Plus, they decided to launch their own internal messaging in order to stimulate the exchange of knowledge and the following growth of competencies. </p><br><p>  <strong>- By the way, how do you look at making a couple of mitaps in Moscow?</strong>  <strong>Can you find interesting speakers with interesting stories?</strong> </p><br><p>  - Yes, we look positive.  There will be speakers.  Our speakers will participate, including, at conferences such as JBreak and JPoint.  We often have internal reports, but the level is such that you can go outside with them. </p><br><p>  <strong>- Returning to the topic, what is the developer's progression in the company?</strong>  <strong>Here you said, 8 grade - novice developer.</strong>  <strong>As it is called there, the usual "engineer", without the prefixes "senior" and "chief".</strong>  <strong>What further career can be built?</strong> </p><br><p>  - As competencies grow, it can grow up to 9 and 10 grades - these are specialists without a management burden, but with higher competencies.  Growing grade - increasing compensation.  Starting from 11 - this is more serious things.  11 grade was formerly called a ‚Äúdevelopment manager‚Äù - that is, a team leader.  Now with the transition to Sberdzhayl everything has changed a bit.  Now there is debossing, and there are no tmlids as such.  In fact, these are people through whom the architectural policy is carried out, their role is very, very large, in the sense that they can tell other employees how to do it so that everything is correct.  12 grade - this is the coolest specialists who can organize and synchronize several teams. </p><br><p>  <strong>- After 12 grade there is life?</strong> </p><br><p>  - There are 13 grades - the leading head of the direction and the expert strategist for development.  The grades above are managerial competencies. </p><br><p>  <strong>- We discussed Sbergile and organizational issues.</strong>  <strong>Tell me about your department?</strong>  <strong>What do you do?</strong> </p><br><p>  - We develop applications that deal with various kinds of data processing on the Hadoop platform.  Map-Reduce, Spark, Hive, and so on.  And of course, machine learning too.  We take tasks and turn them into code that runs on these platforms. </p><br><p>  <strong>- You said that you have an application development IT area?</strong> </p><br><p>  - Yes, IT Area - in fact, the union of people with the same competencies.  This is what the ‚Äúdepartment‚Äù in the Competence Center is turning into a Sbergile. </p><br><p>  <strong>- That is, you are developing applications that automate some business processes?</strong> </p><br><p>  ‚ÄúThese are applications that simply do something for a business or for an infra-structure, and they precisely solve various tasks for them.  Perhaps this is a somewhat artificial term for our team.  Initially, it so happened that we have two large departments in the center of competence, divided according to a very simple feature - the main development tool.  The platforms are the same, and the programming language is different.  I have this Scala, and the department of Vadim Surpina - Java.  His unit is called the IT area of ‚Äã‚Äãthe development of the Big Data platform, and mine is the IT area of ‚Äã‚Äãapplication development.  But we must understand that this division is connected with our internal issues, and both IT areas are engaged in approximately the same tasks.  For example, we differ slightly in business clients: I have ‚Äúsecurity‚Äù, and he has ‚Äúrisks‚Äù.  But again, now this boundary is being erased. </p><br><p>  <strong>- And what tribe?</strong> </p><br><p>  - Our employees work in different tribes.  Tribe - is another axis.  I have infrastructural tribe and corporates, while Vadim has more risks and retailers, it seems. </p><br><p>  <strong>- Now I understand where you are in common coordinates: we talked about the horizontal axis of the charters and about tribes.</strong>  <strong>Now let's discuss a little technology.</strong>  <strong>You said that you use Scala everywhere.</strong>  <strong>Why Scala, not Java?</strong>  <strong>Does everyone have java usually?</strong> </p><br><p>  - I'm not sure that everyone has only Java, there are quite large companies that have Scala one of the main development tools, the same Tinkoff, QIWI ... </p><br><p>  <strong>- Well, just in Sberbank, the main tool is Java, it is registered everywhere.</strong>  <strong>And you took and used Scala.</strong>  <strong>What's happening?</strong> </p><br><p>  - As a matter of fact, no one demanded from me that I use Java.  As the head of the department then, I had to choose a tool that would be interesting for my people to use, develop, and develop themselves, to develop their competencies in this area.  In addition, Scala was chosen for many reasons.  As a development language, Scala is very convenient. <br>  Plus, I‚Äôm exactly the people who want to develop in this direction: I had an idea to make a community of Scala-development, able to solve our problems. </p><br><p>  <strong>- Why Scala?</strong>  <strong>What do you like about it?</strong>  <strong>What is it good for you as a department manager, for example?</strong> </p><br><p>  ‚ÄúFirstly, it is compatible with Java, and all Hadoop, Spark - they all work on the JVM.  This is a serious requirement, greatly narrowing the range of options.  Therefore, it had to be either a Java or a JVM-compatible language.  JVM-compatible languages ‚Äã‚Äãare not many.  For example, Clojure was also interesting to us, but in reality it didn‚Äôt take off because we have a special feature - it‚Äôs difficult to write really big applications with a large team.  In addition, Scala was chosen as the most dynamically developing language providing the features we need. </p><br><p>  <strong>- There are still Groovy and Kotlin.</strong>  <strong>What's wrong with them?</strong> </p><br><p>  - Kotlin then, we can assume, has not yet been, he was in childhood.  Groovy was, but Groovy is still in its original purpose - a scripting language, and its applicability for large projects raised questions. </p><br><p>  <strong>- You chose Scala because everything else has fallen off, in a deductive way?</strong>  <strong>Or because Scala has some cool features?</strong> </p><br><p> - Cool features.  I watched him for a long time, starting from my work in Beeline.  At a previous job in Video International, I was thinking of using it, but then there was still not enough supply on the labor market.  After I came to Sberbank, I realized that it was time to start, because quite a lot of specialists had already appeared. </p><br><p>  <strong>- You did not think to do any of your events dedicated to Scala?</strong>  <strong>Inside the company, to carry the word Scala to the corporate masses.</strong>  <strong>Or even for the whole of Russia.</strong> </p><br><p>  - We think, and, most likely, we will do it. </p><br><p>  <strong>- How can a programmer, conditional novice developer of the 8th grade, develop, when he was given Scala?</strong>  <strong>What is there better to learn?</strong>  <strong>Maybe some frameworks ...</strong> </p><br><p>  - First, we have quite intensive training on this topic.  This course, full-time.  There are courses online.  We take people who do not even know about Scala, but are eager to study it, and have a background in development.  Online courses - any, starting with Coursera, they can be held at the expense of the company's budget for training.  Basic training, of course, in the workplace ‚Äî performing tasks, reading documentation, and sharing experience ‚Äî is what your older colleagues tell you.  You come, they give you a task, and you do it while studying in parallel. </p><br><p>  <strong>- Are there any things whose attainment would help dramatically in the life of a developer?</strong>  <strong>For example, learn some specific technology.</strong>  <strong>The concrete part of Hadoop.</strong>  <strong>All Hadoop, probably, cannot be learned - because it is huge.</strong> </p><br><p> - Of course.  Experience shows that even if a person perfectly learns something small, such as how a <code>JOIN</code> is done inside Spark, he is strongly promoted in his competences in general, and in the perception of his colleagues. </p><br><p>  <strong>- I remember your presentation in Innopolis.</strong>  <strong>There was about social graphs.</strong> </p><br><p>  - Yes, that was a year ago.  We had a laboratory cluster project, and there was a multi-generation ... pilot project on Big Data, when management decided whether Big Data was ripe enough to be used here, or even need to wait.  And one of the prototypes was associated with the social graph, with which difficulties arose, which the entire team had to tackle.  This is work with an ultra-large graph in interactive.  The prototype was made, and because of this the project ‚ÄúLaboratory cluster‚Äù took place, it was recognized as a success, and after that, what started is happening.  Here is a background. </p><br><p>  <strong>- What is the scale of the problem, and what is it?</strong> </p><br><p>  - In terms of technology, the task is simple.  There is a certain social graph, people with connections in social networks.  And there are several social networks, and there is a comparison of people ... entities from different social networks, and you need to understand that this is one and the same person. </p><br><p>  <strong>- What is the business problem?</strong> </p><br><p>  - Very simple: search for people in social networks to solve problem debts. </p><br><p>  <strong>- Are we talking only about problem debts, or are there more applications?</strong> </p><br><p>  - There are many different uses.  But when we were solving the problem, the client was the department for work with problem assets.  It was a prototype. </p><br><p>  <strong>- How big is the task?</strong>  <strong>Roughly speaking, do we need ten people to analyze, or the whole of Facebook?</strong> </p><br><p>  - No, actually, the whole problem is that the graph is big.  There are billions of nodes.  Much of the big social network. </p><br><p>  <strong>- You cross-joins between different social networks, or remained within the same network?</strong> </p><br><p>  - There were several networks, and we tried to compare the data from them. </p><br><p>  <strong>- Just if you use some conditional GraphQL on Facebook, you can, while remaining inside it, make requests for free.</strong>  <strong>And then you had to write for each social network your adapter, lead to one universal form, right?</strong> </p><br><p>  - Not.  See how it was done: at the beginning there was one big graph, and there each person had several vertices, and each vertex corresponded to a social network.  We compare them, connect, and get one person who is present in several networks. </p><br><p>  <strong>- And what was primary: you took the already existing base of Sberbank, and for each of its elements mine in social networks, or all social networks were analyzed abstractly for coincidences.</strong> </p><br><p>  - And social networks, and also participated the base Sberbank. </p><br><p>  <strong>- That is, she was ‚Äúinvolved‚Äù, and was not the source.</strong>  <strong>Was equal in this column?</strong> </p><br><p>  - Yes. </p><br><p>  <strong>- What data was collected?</strong> </p><br><p>  - The data of public profiles.  There was no classified information. </p><br><p>  <strong>- As a whole, was this prototype successful?</strong> </p><br><p>  - In general, yes.  It was recognized successful, it was possible to achieve interactive, the user interface was written.  When they showed the result and the interface, they all said that it turned out great and we need to continue.  But the continuation has not started yet :-) </p><br><p>  <strong>- How is it technically implemented?</strong> </p><br><p>  - The binary file of the graph was formed from the sources, then these binary data were loaded into the RAM via the Unsafe JVM interface.  It is clear that in the JVM the array is indexed by the integer, that is, it is two billion maximum, and our numbers were much higher, and we had to bring them to off-heap.  Then connected Akka, developed some of your messaging model.  Similar to Bulk Synchronous Processing, used in Giraph and HANA.  Implemented Dijkstra's distributed algorithm, Crauser - Meyer - Mehlhorn - Sanders.  Based on it, they achieved very good performance results.  How the task looked like a la: there is a point A, a point B, to find the shortest path in the interactive (that is, quickly enough).  Interactive achieved. </p><br><p>  <strong>- You usually talk about different algorithms, Dijkstra, Bidirectional Shortest Path, etc.</strong>  <strong>How are they used on this big graph?</strong> </p><br><p>  - These are all variations on the topic of how to find the shortest distance between two points, and as soon as possible.  These are solutions to the same problem. </p><br><p>  <strong>- How does this help in finding people who are connected to each other?</strong> </p><br><p>  - "What is the shortest way they are connected."  For example, if we see two points on the graph and the distance between them is one, then most likely it‚Äôs the same person.  Because one connection.  There are many aspects, analysts understand this very well. </p><br><p>  <strong>- These are the ‚Äúspaces‚Äù on which the graph is built, are they names-surnames, or something else?</strong> </p><br><p>  - "Spaces"?  There are vertices and connections in the graph. </p><br><p>  <strong>- OK, what is the distance in this column?</strong> </p><br><p>  - We have edges (links), and each has weight.  The shortest path is a set of edges between vertices with the lowest total weight. </p><br><p>  <strong>- How is the weight for the rib?</strong>  <strong>What does it consist of?</strong> </p><br><p>  - This is determined on the basis of, for example, how reliable this communication is for us, from what source we received it.  There may be several scales, and you need to search depending on the characteristics. </p><br><p>  <strong>- Are these weights eventually reduced to one number, or remain as a vector?</strong> </p><br><p>  - No, we are looking for a way and watch it.  We need a path entirely.  If the task needs to collapse, it can be done. </p><br><p>  <strong>- Already several times the word "interactive" sounded.</strong>  <strong>Can you decipher what it is?</strong> </p><br><p>  - This is when a person sits in front of a computer, sets a task, and expects to receive an answer in a time acceptable to him.  With a delay measured by seconds.  Maximum, minute.  It is clear that this is different from how Hadoop usually works: there are batch tasks, large batches that can spin for hours and hours.  It is important to understand that here we had to get away from the main paradigm of Hadoop. </p><br><p>  <strong>- But does Hadoop respond to requests anyway?</strong> </p><br><p>  - No, Spark is used here only for data preparation.  It makes a binary file, which is dragged into RAM, and then it already works - in principle, this can also be considered Big Data, but Hadoop is not used there, the main thing used there is Akka. </p><br><p>  <strong>- Hadoop works as an Internet crawler, I understand correctly?</strong> </p><br><p>  - In general, yes.  He prepares data, collects, processes ... </p><br><p>  <strong>- pulls out of the internet and puts it in that structure?</strong> </p><br><p>  - Let's just say, our Hadoop does not directly pull them from the Internet.  It was a complex multi-step combination, there were other automated systems involved, I cannot say the exact picture now. </p><br><p>  <strong>- Who stole?</strong> </p><br><p>  - Contractor.  We ourselves have not stolen anything.  Not quite in our competence.  Such questions were raised, but in the end they decided to deal directly with their specialty - processing Big Data. </p><br><p>  <strong>- Any interesting problems arose during the implementation of this whole thing?</strong> </p><br><p>  - Of course they did.  At first, we simply took a graph database of one large supplier out of the box and it turned out that the waiting time there was a clock. </p><br><p>  <strong>- Waiting time in which scenario?</strong> </p><br><p>  - Say, an employee of the Problem Assets Department dealing with search for affiliated companies, saw two points on the graph, wanted to check the connections between them, set the task to find the shortest path, and it worked for several hours.  Of course, this is no longer interactive.  This approach was rejected, and after going over several solutions, they realized that they would have to write it themselves.  They sat down and wrote.  The solution on the JVM was written second.  The prototype was written in Rust. </p><br><p>  <strong>- Why did they refuse Rust?</strong> </p><br><p>  - First, Hadoop is not written in Rust.  And it cannot be said that they completely refused, because in the future, maybe we will still write on it.  To write applications for it under Hadoop is, to put it mildly, inconvenient, because it is not a JVM language.  In this case, Rust was used simply because our employees who wrote the prototype were good at Rust. </p><br><p>  <strong>- All the same, because you need to receive data from the Hadupov stack and transfer them to Rust.</strong>  <strong>How to organize interop?</strong> </p><br><p>  - Data is prepared by Spark.  The application on Spark, of course, was not written on any Rust.  It was written in Scala.  The prepared data is shifted into RAM. </p><br><p>  <strong>- That is, they communicated with each other using a file?</strong> </p><br><p>  - Yes.  Spark generated a binary file, very large, and then this application - first written in Rust, and then rewritten under JVM, on Scala from Akka - this file was enough, sucked, and worked on it. </p><br><p>  <strong>- When switching from Rust to Scala and JVM, has the execution speed changed?</strong> </p><br><p>  - Has changed, but only slightly.  One hundred percent impossible to say for sure, because the application, which was originally made on Rust, did not exist very long.  It was such a proof of concept.  To make sure that this approach works in principle.  Nobody really benchmarked it with respect to the finished application on Scala.  It became clear that if we make an industrial solution to this particular problem, we will still do it on Scala, because we do not yet have people with experience in Rust.  At that time, there was already a question about how such people are available in the labor market.  Now these questions also remain, although the language is developing very dynamically, but still, it is not clear how accessible this competence is in the market.  Then we just agreed that once you need to quickly check, we will do it like this, on Rust, and then we will redo it so that other people can come and accompany, based on accepted standards for development tools. </p><br><p>  <strong>- You said that in the future you can apply it again.</strong>  <strong>What he liked so much that you memorized him at all among all these experiments?</strong> </p><br><p>  - This is a kind of development of the same branch on which C and C ++ sit.  System development  But he is deprived of the majority of all the significant problems that C and C ++ have.  Moreover, he does not have a number of significant problems that his more modern competitors have, such as Golang.  Better performance, no overhead in the form of GC, there are language abstractions that allow you to effectively make large applications.  If you suddenly need to do a system-level low-level development, then most likely it will be on Rust. </p><br><p>  <strong>- If you suddenly imagine that there will be as many Rust specialists as rockies.</strong>  <strong>Rust vs Scala.</strong>  <strong>What is better and when?</strong> </p><br><p>  - The question is not worth it, because there is Hadoop.  The main thing for us, after all, is not a development tool, but a platform.  If Hadoop with Spark is rewritten on Rust, then, indeed, such a question will rise.  But so far this has not happened, and there is no question. </p><br><p>  <strong>- As a result of the project, which we are now talking about, what happened except for the prototype?</strong>  <strong>There was some kind of FastGraph.</strong>  <strong>What is it, can a few words?</strong> </p><br><p>  - Yes, there was an application that quickly searched for the shortest path, a user interface was written (which was called, it seems ‚Äúthe workplace of the problem assets researcher‚Äù - you can ask Vadim Surpin for more details).  In general, it was handed over as part of a laboratory cluster project.  According to it, it was already decided to build a large industrial cluster.  The management decided that the direction of Big Data is ripe, and it needs to be launched. </p><br><p>  The prototype under discussion has not yet received further development.  Because there were attempts to launch it somewhere, but for various reasons they did not shoot.  As far as I understand, the main official reason is other priorities, in favor of more urgent projects.  Which we are doing now. </p><br><p>  <strong>- What are the interesting technical conclusions, solutions you have learned from the whole story?</strong> </p><br><p>  - We understood that the choice of the stack (including Scala as a tool) was made absolutely correctly.  This tool is quite ripe to use in industrial development, even in such a serious and large company as Sber.  The project that we studied is waiting in the wings - as the opportunity arises, we continue to develop it immediately.  In essence, we realized that our approach was correct. </p><br><p>  <strong>- It was such a business-level conclusions.</strong>  <strong>And the technical level?</strong>  <strong>Have you written a system that uses Dijkstra's algorithm on social graphs, and does it really work?</strong> </p><br><p>  - Yes.  Well, here it is clear, Dijkstra can be implemented in a comprehensive way, but the approach that we have chosen is that it works quite effectively on large graphs. </p><br><p>  <strong>- And what kind of approach?</strong> </p><br><p>  - Layout of the application, for example.  It could be done differently.  We are still being asked, why didn't you use GraphX?  But we say that GraphX ‚Äã‚Äãis a batch system, which in general does not produce results interactively.  You could try to work out with him, so that he began to work interactively.  There were many options, but we chose this one, and he fired. </p><br><p>  Also, we immediately laid distribution, for very, very large graphs.  While this issue has been postponed, the current system is successfully working on one JVM, but the architecture has the possibility of using several JVMs with not very big modifications that will not cause a fundamental review of decisions. </p><br><p>  <strong>- You brought Akka there.</strong>  <strong>Why do you need Akka, how did she recommend herself?</strong> </p><br><p>  - This is just for messaging, and in order to support our message model.  So far no problems have been found with her. </p><br><p>  <strong>- Messaging who exchanges and who?</strong> </p><br><p>  - The architecture is such that there are workers, each serves some subset of the graph vertices.  Workers communicate with each other in order to do some kind of distributed computing, for example, CMMS, which we talked about.  All the cores of the machine on which it all turns are used. </p><br><p>  <strong>- Distribution at what level?</strong>  <strong>At the machine level, at the cluster level?</strong> </p><br><p>  - Now - at the level of the machine, it will parallel within the same machine.  Generally - at the cluster level.  We just did not have time to do it yet, one project has already ended, and the other has not yet begun. </p><br><p>  <strong>‚ÄúDistribution within one machine means that you have nailed sixty-four processes to sixty-four cores, or ...‚Äù</strong> </p><br><p>  - No, the process is one, but uses all the cores.  It is multi-threaded. </p><br><p>  <strong>- So you are using java threads.</strong>  <strong>Or do you use Akka, and it automatically does everything?</strong> </p><br><p>  - Of course, we ourselves are not controlled by threads, it all happens at the level of Akka. </p><br><p>  <strong>- I see in your presentations the term ‚Äúconical messaging model‚Äù, what is it?</strong> </p><br><p>  - Yes, this is the same messaging model.  This is a kind of formalization that says how workers must exchange messages in order to organize parallel computations.  This is analogous to Bulk Synchronous Processing, a term used in Giraph and HANA. </p><br><p>  <strong>- Is that her clone?</strong> </p><br><p>  - In a sense, we can assume that this is her clone, but in fact we wrote everything from scratch and looked at BSP a little.  Then our experts made a comparison and came to the conclusion that different things turned out.  It would probably be interesting to write BSP on our platform and see how it works, but for the same reasons, the hands have not reached this point yet. </p><br><p>  <strong>- You said something about PageRank and MPI.</strong>  <strong>How do they generally relate to the project?</strong> </p><br><p>  ‚ÄúThese were experimental things that we did in an optional way to ensure the completeness of the features in the prototype, in order to show it to someone in the future. </p><br><p>  <strong>- Clear.</strong>  <strong>We need to get round, so the last question.</strong>  <strong>For those people who are now reading us on Habr√©, do you have any instructions, wishes, and so on?</strong>  <strong>Maybe you need a team to code people in Scala?</strong>  <strong>Something like this.</strong> </p><br><p>  - Yes, we always need smart rockers, and there are a lot of interesting projects to get experience with Big Data and ML.  For example, the execution of machine learning models in the sale.  This is a topic for another conversation! </p><br><p>  <strong>- Since we have already touched the topic of hiring.</strong>  <strong>Describe the profile of the developer that you want to see at home?</strong> </p><br><p>  - A developer who knows Scala.  Or the one who wants to study it - but at the same time having development experience.  I would like in some form knowledge of the tools Big Data, Hadoop, Spark.  Specialists who are ready to do tasks on the user interface are also needed - we use ScalaJS. </p><br><p>  <strong>- Dedicated specialized mathematics, data scientists - do you need them?</strong> </p><br><p>  - Yes of course.  Now begins some interesting products related to machine learning, in particular, News Monitoring - highlighting the news of organizations of interest to us.  Specialists in machine learning would be very useful to us. </p><br><p>  <strong>- Thank you, Valery!</strong>  <strong>It was a very rich interview, which I hope our readers will like.</strong>  <strong>I hope to see you again at our conferences, for example at JPoint / JBreak / Joker or SmartData.</strong>  <strong>Come with reports!</strong> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/350990/">https://habr.com/ru/post/350990/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350978/index.html">Drupal 8 + Varnish: Cache HTML correctly</a></li>
<li><a href="../350982/index.html">6 myths about Service Fabric</a></li>
<li><a href="../350984/index.html">First steps in machine learning</a></li>
<li><a href="../350986/index.html">Centralized continuous deployment for the year vol 2</a></li>
<li><a href="../350988/index.html">Recruitment: play, hitting the target</a></li>
<li><a href="../350992/index.html">Organization of information systems production processes. Part 2. Formation of the design solution</a></li>
<li><a href="../350994/index.html">31 business cybersecurity tips</a></li>
<li><a href="../350996/index.html">Java and Project Reactor</a></li>
<li><a href="../351000/index.html">Find him if you can. How to select letters in the general stream</a></li>
<li><a href="../351002/index.html">Fantastic-Elasticsearch. How we "tamed" smart search through documents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>