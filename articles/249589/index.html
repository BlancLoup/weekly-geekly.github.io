<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>XSS on sites using the Instagram API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="While developing an application using the Instagram API, I noticed that I‚Äôm not receiving converted tags. Of course, this problem is solved in a coupl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>XSS on sites using the Instagram API</h1><div class="post__text post__text-html js-mediator-article">  While developing an application using the Instagram API, I noticed that I‚Äôm not receiving converted tags.  Of course, this problem is solved in a couple of lines of code.  But I thought, what if not all developers convert the tags to the essence before outputting to the page, completely trusting the API.  Who would expect that in the description of the Instagram page there will be a JS script instead of text? <br><br>  I found such sites. <br><a name="habracut"></a><br>  To begin with, I added the connection of the remote script js to the profile description, and a line to the description of some photos <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="javascript"><span class="javascript">alert(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.cookie);</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  and several hashtags, including #instagramapi. <br><br>  The first site I found is <a href="http://iconosquare.com/">Iconosquare</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  <b>IconoSquare</b> is a useful application for analyzing and managing your account on Instagram.  A convenient web interface saves time and helps in communicating with subscribers.  Through IconoSquare, you can view profiles or search by hashtag </blockquote><br><br>  On this site, I decided to look for my photo using the #instagramapi <a href="http://iconosquare.com/tag/instagramapi">hashtag</a> , in my case it was a photo with a cat. <br><br>  When I clicked on a photo, I was transferred to the page containing the description of the photo, but Iconosquare forgot to convert html tags to its essence.  This made it possible to perform XSS. <br><br><div class="spoiler">  <b class="spoiler_title">View image</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/872/520/485/8725204853f5e914fbc4d630284ddb7a.jpg" alt="image"><br></div></div><br>  Having opened the source of the page, it immediately became clear that they had forgotten to convert the tags in the meta description of the page. <br><br><div class="spoiler">  <b class="spoiler_title">View image</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/352/a6c/b35/352a6cb35760a22ff25043cee26752ed.jpg" alt="image"><br></div></div><br>  On <a href="http://iconosquare.com/asset_93">the user‚Äôs page,</a> they didn‚Äôt convert the name and description of the Instagram profile - and here‚Äôs the result. <br><br><div class="spoiler">  <b class="spoiler_title">View image</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/222/0b4/e24/2220b4e2410d8d5b65d46fabb56ddc83.jpg" alt="image"><br></div></div><br>  The next site I found is <a href="http://facegram.io/">facegram.io</a> . <br><br>  As I understand it, facegram.io is another Instagram Web Viewer.  The service has about 50,000 followers on Facebook, so I think it can be considered popular. <br><br>  Here we are also looking for the #instagramapi <a href="http://facegram.io/s/instagramapi/">hashtag</a> and here is the result: <br><br><div class="spoiler">  <b class="spoiler_title">View image</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/90e/60c/65d/90e60c65d0975b0d3ea9b309f33525ff.jpg" alt="image"><br></div></div><br>  Similarly on <a href="http://facegram.io/u/asset_93%26Asset-Mamyraimov%26220257738">the user page</a> . <br><br>  In fact, I found 27 sites where you can conduct a XSS attack.  I think that it is not necessary to paint them all, here are links to pages with XSS. <br><br><div class="spoiler">  <b class="spoiler_title">List of all sites</b> <div class="spoiler_text">  <a href="http://iconosquare.com/p/783308509456027184_220257738">iconosquare.com/p/783308509456027184_220257738</a> <br>  <a href="https://tagboard.com/instagramapi/search">tagboard.com/instagramapi/search</a> <br>  <a href="http://pinsta.me/asset_93">pinsta.me/asset_93</a> <br>  <a href="http://yooying.com/p/783308509456027184_220257738">yooying.com/p/783308509456027184_220257738</a> <br>  <s><a href="http://instaliga.com/asset_93/783308509456027184_220257738">instaliga.com/asset_93/783308509456027184_220257738</a></s> <br>  <a href="http://collec.to/i/783308509456027184_220257738">collec.to/i/783308509456027184_220257738</a> <br>  <a href="http://songery.net/img/783308509456027184_220257738">songery.net/img/783308509456027184_220257738</a> <br>  <a href="http://carouselle.me/">carouselle.me/#/by/asset_93</a> <br>  <a href="http://picbi.com/asset_93">picbi.com/asset_93</a> <br>  <a href="http://webgram.ru/p/asset_93/">webgram.ru/p/asset_93</a> <br>  <a href="http://twitnow.ru/instagram/u%3Fq%3D220257738%26u%3Dasset_93">twitnow.ru/instagram/u?q=220257738&amp;u=asset_93</a> <br>  <a href="http://instagramsearchonline.com/tag/instagramapi/">instagramsearchonline.com/tag/instagramapi/#.VL7H3EesXfI</a> <br>  <a href="http://japastagram.com/ph/%3Fq%3D902278032086716165_220257738">japastagram.com/ph/?q=902278032086716165_220257738</a> <br>  <a href="http://www.lakako.com/post/783308509456027184">www.lakako.com/post/783308509456027184</a> <br>  <a href="http://pingram.me/asset_93">pingram.me/asset_93</a> <br>  <a href="http://www.netstagram.com/user/220257738">www.netstagram.com/user/220257738</a> <br>  <a href="http://tagstag.com/user/asset_93">tagstag.com/user/asset_93</a> <br>  <a href="http://the-photo-flow.com/search.html%3Fq%3Dasset_93">the-photo-flow.com/search.html?q=asset_93</a> <br>  <a href="http://instaprof.appspot.com/profile/asset_93">instaprof.appspot.com/profile/asset_93</a> <br>  <a href="http://facegram.io/u/asset_93%26script-alert-script%26220257738">facegram.io/u/asset_93&amp;script-alert-script&amp;220257738</a> <br>  <a href="http://instagramology.com/media/902278032086716165_220257738">instagramology.com/media/902278032086716165_220257738</a> <br>  <a href="http://bitroad.net/u/asset_93%26Asset-Mamyraimov">bitroad.net/u/asset_93&amp;Asset-Mamyraimov</a> <br>  <a href="http://sharetagram.com/user/220257738/asset_93">sharetagram.com/user/220257738/asset_93</a> <br>  <a href="http://www.vinevideoviewer.com/u/220257738">www.vinevideoviewer.com/u/220257738</a> <br><br>  It is necessary to search by the hashtag instagramapi, or by the user asset_93. <br><br>  <a href="http://techslides.com/demos/instagram-viewer/">techslides.com/demos/instagram-viewer</a> <br>  <a href="http://instaviewer.net/">instaviewer.net</a> <br>  <a href="http://findgram.com/">findgram.com</a> <br></div></div><br>  I tried to write in Iconosquare and in support of several other sites, but they didn‚Äôt respond.  Maybe one of you will be able to inform the developers of these sites about the vulnerability. <br><br>  PS This article is written to inform developers that you should not trust the data received from Instagram API. <br><br>  PPS The situation is similar with applications using the Facebook API. </div><p>Source: <a href="https://habr.com/ru/post/249589/">https://habr.com/ru/post/249589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249573/index.html">C # for AS3 developers. Part 5: Static Classes, Destructors, and Techniques for Working with Constructors</a></li>
<li><a href="../249575/index.html">Best Practices for SSL / TLS Deployment, Part 1. Theory</a></li>
<li><a href="../249577/index.html">How to connect different types of processes in Microsoft Dynamics CRM 2013. Real business case</a></li>
<li><a href="../249579/index.html">Unconventional React Overview</a></li>
<li><a href="../249581/index.html">Difficulties in monetizing stolen data</a></li>
<li><a href="../249591/index.html">Microsoft is changing good Windows Store apps for certificates</a></li>
<li><a href="../249597/index.html">(Kiev) On February 5, a video stream of the seminar ‚ÄúENS 15.1: Advanced Switch Operation, Configuration and Management‚Äù will be held</a></li>
<li><a href="../249603/index.html">Create a standalone drone on Intel Edison</a></li>
<li><a href="../249605/index.html">Streaming audio in iOS using Yandex.Disk as an example</a></li>
<li><a href="../249609/index.html">Professional development in information security</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>