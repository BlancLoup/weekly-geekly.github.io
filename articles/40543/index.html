<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Again about the layout of Birman, and the switching of layouts in general in the coming 8.10</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Disclaimer 
 Everything described below applies to Ubuntu 8.10 (interpid), although it is likely to affect future stable versions. 

 Pay attention th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Again about the layout of Birman, and the switching of layouts in general in the coming 8.10</h1><div class="post__text post__text-html js-mediator-article"><h2>  Disclaimer </h2><br>  Everything described below applies to Ubuntu 8.10 (interpid), although it is likely to affect future stable versions. <br><br>  Pay attention that some of the steps described below can lead to unpredictable :) consequences. <br><br><h2>  Prehistory </h2><br>  Some time ago, <a href="https://habrahabr.ru/users/o4kapuk/" class="user_link">o4kapuk</a> described in the article <a href="http://habrahabr.ru/blogs/ubuntu/25150/">And again about the layout of Birman</a> how to ‚Äúget support for the‚Äú typographic ‚Äùfunctionality by means as close as possible to the standard ones.‚Äù 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For me, both at home and at work, this decision led to the following problems: <br><ol><li>  After the reboot, the layout did not switch.  This problem each time had to be solved by calling the configuration applet and changing some parameter in the ‚ÄúAdditional parameters‚Äù. </li><li>  After some updates, the layout broke down completely.  I had to reinstall the necessary files </li><li>  After updating to 8.10, the method stopped working completely. </li></ol><br><a name="habracut"></a><br><h2>  Who is to blame and what to do? </h2><br><h6>  Step 1 </h6><br>  To begin with, since some time the winkeys version has become the ‚Äúdefault option‚Äù in the file <br>  / etc / X11 / xkb is not mentioned in the layout.  In spite of this, let us repeat the third step from the article mentioned: add the variant winkeys_typo: <br><br><pre>       &lt;layout&gt;
       &lt;configItem&gt;
         &lt;name&gt; ru &lt;/ name&gt;
         &lt;shortDescription&gt; Rus &lt;/ shortDescription&gt;
         &lt;description&gt; Russia &lt;/ description&gt;
       &lt;/ configItem&gt;
       &lt;variantList&gt;
         &lt;variant&gt;
           &lt;configItem&gt;
             &lt;name&gt; winkeys_typo &lt;/ name&gt;
             &lt;description&gt; Winkeys + Typography &lt;/ description&gt;
           &lt;/ configItem&gt;
         &lt;/ variant&gt;
         &lt;variant&gt;
</pre><br><br><h6>  Step 2 </h6><br>  And here we are in for a surprise: now the / etc / X11 / xkb / symbols / ru file is not the most suitable place to add the winkeys_typo variant.  Open the file / usr / share / X11 / xkb / symbols / ru and add the already familiar code: <br><pre> partial alphanumeric_keys
 xkb_symbols "winkeys_typo" {
 include "ru (winkeys)"

 name [Group1] = "Russia - Typography";

 key.type [group1] = "FOUR_LEVEL";

 key &lt;TLDE&gt; {[Cyrillic_io, Cyrillic_YO, acute, approxeq]};
 key &lt;AE01&gt; {[1, exclam, onesuperior, onesuperior]};
 key &lt;AE02&gt; {[2, quotedbl, twosuperior, twosuperior]};
 key &lt;AE03&gt; {[3, numerosign, threesuperior, threesuperior]};
 key &lt;AE04&gt; {[4, semicolon, section, section]};
 key &lt;AE05&gt; {[5, percent, 0x01002030, 0x01002030]};
 key &lt;AE11&gt; {[minus, underscore, emdash, hyphen]};
 key &lt;AE12&gt; {[equal, plus, notequal, plusminus]};
 key &lt;AD01&gt; {[Cyrillic_shorti, Cyrillic_SHORTI, q, onequarter]};
 key &lt;AD03&gt; {[Cyrillic_u, Cyrillic_U, EuroSign, oneeighth]};
 key &lt;AD04&gt; {[Cyrillic_ka, Cyrillic_KA, registered, R]};
 key &lt;AD05&gt; {[Cyrillic_ie, Cyrillic_IE, trademark, onethird]};
 key &lt;AD09&gt; {[Cyrillic_shcha, Cyrillic_SHCHA, masculine, O]};
 key &lt;AC01&gt; {[Cyrillic_ef, Cyrillic_EF, approxeq, A]};
 key &lt;AC02&gt; {[Cyrillic_yeru, Cyrillic_YERU, section, S]};
 key &lt;AC03&gt; {[Cyrillic_ve, Cyrillic_VE, degree, D]};
 key &lt;AC04&gt; {[Cyrillic_a, Cyrillic_A, sterling, F]};
 key &lt;AC06&gt; {[Cyrillic_er, Cyrillic_ER, h, onehalf]};
 key &lt;AC07&gt; {[Cyrillic_o, Cyrillic_O, doublelowquotemark, J]};
 key &lt;AC08&gt; {[Cyrillic_el, Cyrillic_EL, left double dupotemark, lefts single quotemark]};
 key &lt;AC09&gt; {[Cyrillic_de, Cyrillic_DE, right double dupotemark, rights singlequotemark]};
 key &lt;AC10&gt; {[Cyrillic_zhe, Cyrillic_ZHE, leftsinglequotemark, seconds]};
 key &lt;AC11&gt; {[Cyrillic_e, Cyrillic_E, rightsinglequotemark, minutes]};
 key &lt;AB02&gt; {[Cyrillic_che, Cyrillic_CHE, multiply, 0x010022C5]};
 key &lt;AB03&gt; {[Cyrillic_es, Cyrillic_ES, copyright, copyright]};
 key &lt;AB08&gt; {[Cyrillic_be, Cyrillic_BE, guillemotleft, doublelowquotemark]};
 key &lt;AB09&gt; {[Cyrillic_yu, Cyrillic_YU, guillemotright, rightdoublequotemark]};
 key &lt;AB10&gt; {[period, comma, ellipsis, comma]};
 key &lt;SPCE&gt; {[space, space, nobreakspace, nobreakspace]};

 include "level3 (ralt_switch)"
 };
</pre><br><h6>  Step 3 </h6><br>  The layout appeared in the list and it all worked?  Well, you were lucky ... but I was not very lucky: there were no layouts on the list. <br>  In search of a solution, I <a href="https://bugs.launchpad.net/ubuntu/%2Bsource/xkeyboard-config/%2Bbug/259489">stumbled upon such a discussion</a> . <br>  Having tried different options, I stopped at the following: <br><br><h6>  Step 3.1 </h6><br>  Edit the / etc / default / console-setup file: <br><br><pre> XKBMODEL = "logimel"
 XKBLAYOUT = "us, ru"
 XKBVARIANT = ", winkeys_typo"
</pre><br><br>  Pay attention to XKBMODEL = "logimel" - this is a model of your keyboard, some additional keys did not work for me until I stopped at this one.  By the way, it is possible to understand which one you have; the file /usr/share/X11/xkb/rules/base.lst will help you. <br><br><h6>  Step 3.2 </h6><br>  sudo dpkg-reconfigure console-setup :) <br>  Here you can simply press enter, but if it doesn‚Äôt click - press tab first :) <br>  As a result, get a bunch of messages like "WARNING: Undefined kernel key code for xxx" - do not pay attention.  At the end there should be a message ‚Äú[OK] update-initramfs: Generating /boot/initrd.img-2.6.27-3-generic‚Äù <br><br><h6>  Step 4 </h6><br>  And now let's solve the old problem of switching failures upon reboot - for this, let's clear the gnome's keyboard configuration file: sudo gedit ~ / .gconf / desktop / gnome / peripherals / keyboard / kbd /% gconf.xml -&gt; ctrl + a -&gt; ctrl + s: ) <br><br><h6>  Step 5 </h6><br>  Yes, no matter how awful it sounds - we reboot and everything should work.  If not ... check everything again. <br><br><h2>  Conclusion and sentence </h2><br><br>  The disadvantages of this method, like the previous one, are problems with compatibility with future versions of ubuntu, but it is better to spend an hour or two to solve these problems and get a perfectly working typographic layout than to watch what Habr did with quotes here. <br><br>  On the other hand, why not include this option in the basic delivery?  This I appeal to developers who will not be difficult to make changes to the distribution. <br></div><p>Source: <a href="https://habr.com/ru/post/40543/">https://habr.com/ru/post/40543/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../40536/index.html">JAVA class for determining free space under * nix</a></li>
<li><a href="../40537/index.html">Attempting to understand the financial crisis</a></li>
<li><a href="../40538/index.html">Modern culture and how to deal with it.</a></li>
<li><a href="../40539/index.html">HTC Touch HD - a new Taiwanese flagship is being prepared</a></li>
<li><a href="../40540/index.html">Two wise men</a></li>
<li><a href="../40545/index.html">Another PHP threading implementation</a></li>
<li><a href="../405457/index.html">Not really smart, but very safe house from Xiaomi</a></li>
<li><a href="../405461/index.html">Do not believe what they write about nutrition</a></li>
<li><a href="../405465/index.html">We could have cell phones decades ago</a></li>
<li><a href="../40549/index.html">Removing clicks on Mac mini (and Macbook)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>