<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Harmful spells in programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Since I watched the legendary video of Wat Gary Bernhardt, I am fascinated by the strange behavior of some programming languages. Some of them are mor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Harmful spells in programming</h1><div class="post__text post__text-html js-mediator-article">  Since I watched the legendary video of <a href="https://www.destroyallsoftware.com/talks/wat">Wat</a> Gary Bernhardt, I am fascinated by the strange behavior of some programming languages.  Some of them are more surprises than others.  For example, for Java a <a href="https://www.amazon.com/gp/product/032133678X/">whole book is</a> written describing borderline situations and strange specificity.  For C ++, you can just read <a href="https://www.iso.org/standard/68564.html">the specifications</a> for as little as $ 200. <img src="https://habrastorage.org/webt/f6/vi/a8/f6via8mofb-nwvsfgrc8xs96ohm.png"><br><br>  Next, I‚Äôll share with you my collection of the most unexpected, funny and still valid programming spells.  In essence, using these features of PL behavior is considered harmful, since your code should in no way be unpredictable.  It is good that many linter are already aware and ready to laugh at you if you try any of the listed tomfoolery.  But as they say, knowledge is power, so let's start. <br><a name="habracut"></a><br><h1>  Enemy Reassignment True in Python 2 </h1><br>  It rhymes with <i>true</i> , so you know that it is a <i>poo</i> ("turd"). <br><br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">True</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br>  Fortunately, this code prints <code>SyntaxError</code> in Python version 3, since <a href="https://docs.python.org/3.0/whatsnew/3.0.html">True, False and None are now reserved words</a> .  Such a prank is still far from being mean in C ++ when you insert <code>#define true false</code> into the standard header file on a co-worker‚Äôs machine. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Ghostly interaction with an object in Java and Python </h1><br>  The <code>==</code> semantics often perplex beginner Java programmers, but even more complicates the situation by the inconstancy of the operator, even in trivial situations, even if it is for performance. <br><br><pre> <code class="java hljs">Integer a = <span class="hljs-number"><span class="hljs-number">100</span></span>; Integer b = <span class="hljs-number"><span class="hljs-number">100</span></span>; System.out.print(a == b); <span class="hljs-comment"><span class="hljs-comment">// prints true Integer c = 200; Integer d = 200; System.out.print(c == d); // prints false</span></span></code> </pre> <br>  The JVM uses the same reference for values ‚Äã‚Äãin the range <code>[-128, 127]</code> .  What is even stranger is the appropriate behavior of Python. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x = <span class="hljs-number"><span class="hljs-number">256</span></span> &gt;&gt;&gt; y = <span class="hljs-number"><span class="hljs-number">256</span></span> &gt;&gt;&gt; x <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; x = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; y = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; x <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br>  So far, nothing <i>too</i> surprising. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x = <span class="hljs-number"><span class="hljs-number">-5</span></span> &gt;&gt;&gt; y = <span class="hljs-number"><span class="hljs-number">-5</span></span> &gt;&gt;&gt; x <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; x = <span class="hljs-number"><span class="hljs-number">-6</span></span> &gt;&gt;&gt; y = <span class="hljs-number"><span class="hljs-number">-6</span></span> &gt;&gt;&gt; x <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br>  It looks like the lower limit for the Python interpreter is the same ... <code>-5</code> .  Integers in the range <code>[-5, 256]</code> get the same ID.  But still it works somehow strange. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x = <span class="hljs-number"><span class="hljs-number">-10</span></span> &gt;&gt;&gt; y = <span class="hljs-number"><span class="hljs-number">-10</span></span> &gt;&gt;&gt; x <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt;&gt; x, y = [<span class="hljs-number"><span class="hljs-number">-10</span></span>, <span class="hljs-number"><span class="hljs-number">-10</span></span>] &gt;&gt;&gt; x <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br>  Apparently, the use of destructive assignment immediately changes the rules.  I'm not sure why this is happening, and even asked a <a href="https://stackoverflow.com/questions/47958141/what-is-the-difference-between-destructured-assignment-and-normal-assignment">question on Stack Overflow</a> in an attempt to figure it out.  Maybe duplicate values ‚Äã‚Äãin the list point to the same object to save memory. <br><br><h1>  Write back with index in C </h1><br>  The reverse record with the index instantly gives a headache to any developer. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x[<span class="hljs-number"><span class="hljs-number">1</span></span>] = { <span class="hljs-number"><span class="hljs-number">0xdeadbeef</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%x\n"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>[x]); <span class="hljs-comment"><span class="hljs-comment">// prints deadbeef</span></span></code> </pre> <br>  The reason for the operation of such code is that <code>array[index]</code> is actually just syntactic sugar for <code>*(array + index)</code> .  Thanks to the commutative property of addition, you can swap them and get the same result. <br><br><h1>  Operator "transition" in C </h1><br>  At first glance, the <code>--&gt;</code> operator looks like a syntax error.  But when you understand that it compiles normally, you start thinking that this is an undocumented function of the language.  Fortunately, this is neither. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (x = <span class="hljs-number"><span class="hljs-number">3</span></span>; x --&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>;) { <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%d "</span></span>, x); <span class="hljs-comment"><span class="hljs-comment">// prints 2 1 0 }</span></span></code> </pre> <br>  "Operator" <code>--&gt;</code> - these are actually two operators, which are understood in this context as <code>(x--) &gt; 0</code> .  It is known that such a thing causes <a href="https://stackoverflow.com/questions/1642028/what-is-the-operator-in-c">considerable confusion</a> when used in production - pure evil. <br><br><h1>  Operator <code>sizeof</code> in C </h1><br>  The <code>sizeof</code> operator is processed during the compilation process, which gives it interesting properties. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(x += <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"wtf?"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// this will be printed }</span></span></code> </pre> <br>  Since the objects of the <code>sizeof</code> operator are analyzed during the compilation process, the expression <code>(x += 1)</code> will never be run.  Also curious: studies show that <code>printf("wtf?")</code> Is the most popular line of code that never goes into production. <br><br><h1>  The beginning of the indices with units in Lua, Smalltalk, MATLAB, etc ... </h1><br>  The forums <a href="https://www.reddit.com/r/ProgrammerHumor/">/ r / programminghumor is</a> full of memes about " <a href="https://www.reddit.com/r/ProgrammerHumor/comments/7dj3jg/arrays_start_at_1/">indexes</a> <a href="https://www.reddit.com/r/ProgrammerHumor/comments/6nmzj9/dont_trust_americans_their_floor_arrays_start_at_1/">that</a> <a href="https://www.reddit.com/r/ProgrammerHumor/comments/730yd6/my_calculator_is_broken_the_lists_start_at_1/">start</a> with <a href="https://www.reddit.com/r/ProgrammerHumor/comments/6mwwkg/arrays_start_at_1/">one</a> ."  Amazingly, many programming languages ‚Äã‚Äãactually use 1-indexed arrays.  For a more complete list, see <a href="https://en.wikipedia.org/wiki/Comparison_of_programming_languages_%2528array%2529">here</a> . <br><br><h1>  0 is <code>true</code> in Ruby </h1><br>  ... and only in Ruby.  * <br><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> print <span class="hljs-string"><span class="hljs-string">'thanks, ruby'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-comment"><span class="hljs-comment"># prints thanks, ruby</span></span></code> </pre> <br>  * edit: In the Reddit discussion, I was told that this is also true for Lua, Lisp and Erlang. <br><br><h1>  Trigraphs, digraphs and tokens in C </h1><br>  For historical reasons, there are alternative spellings in C for non-numeric characters. <br><br><table><thead><tr><th>  Trigraph </th><th>  Symbol </th><th></th><th>  Digraph </th><th>  Symbol </th><th></th><th>  Token </th><th>  Symbol </th></tr></thead><tbody><tr><td> <code>??=</code> </td> <td> <code>#</code> </td> <td></td><td> <code>&lt;:</code> </td> <td> <code>[</code> </td> <td></td><td> <code>%:%:</code> </td> <td> <code>##</code> </td> </tr><tr><td> <code>??/</code> </td> <td> <code>\</code> </td> <td></td><td> <code>:&gt;</code> </td> <td> <code>]</code> </td> <td></td><td> <code>compl</code> </td> <td> <code>~</code> </td> </tr><tr><td> <code>??'</code> </td> <td> <code>^</code> </td> <td></td><td> <code>&lt;%</code> </td> <td> <code>{</code> </td> <td></td><td> <code>not</code> </td> <td> <code>!</code> </td> </tr><tr><td> <code>??(</code> </td> <td> <code>[</code> </td> <td></td><td> <code>%&gt;</code> </td> <td> <code>}</code> </td> <td></td><td> <code>bitand</code> </td> <td> <code>&amp;</code> </td> </tr><tr><td> <code>??)</code> </td> <td> <code>]</code> </td> <td></td><td> <code>%:</code> </td> <td> <code>#</code> </td> <td></td><td> <code>bitor</code> </td> <td> <code>|</code> </td> </tr><tr><td> <code>??!</code> </td> <td> <code>|</code> </td> <td></td><td></td><td></td><td></td><td> <code>and</code> </td> <td> <code>&amp;&amp;</code> </td> </tr><tr><td> <code>??&lt;</code> </td> <td> <code>{</code> </td> <td></td><td></td><td></td><td></td><td> <code>or</code> </td> <td> <code>||</code> </td> </tr><tr><td> <code>??&gt;</code> </td> <td> <code>}</code> </td> <td></td><td></td><td></td><td></td><td> <code>xor</code> </td> <td> <code>^</code> </td> </tr><tr><td> <code>??-</code> </td> <td> <code>~</code> </td> <td></td><td></td><td></td><td></td><td> <code>and_eq</code> </td> <td> <code>&amp;=</code> </td> </tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td> <code>or_eq</code> </td> <td> <code>|=</code> </td> </tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td> <code>xor_eq</code> </td> <td> <code>^=</code> </td> </tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td> <code>not_eq</code> </td> <td> <code>!=</code> </td> </tr></tbody></table><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// same as if (true &amp;&amp; true) printf("thanks, c"); }</span></span></code> </pre> <br>  Some alien equipment like the IBM 3270 did not allow typing some commonly used characters in C / C ++, so they introduced the use of diagrams, trigraphs, and tokens to maintain compatibility with certain encodings. <br><br>  I hope the article was interesting.  You can read the <a href="https://www.reddit.com/r/programming/comments/7ltryz/evil_coding_incantations/">discussion on Reddit</a> . </div><p>Source: <a href="https://habr.com/ru/post/345690/">https://habr.com/ru/post/345690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345668/index.html">A bit about IT in New Zealand</a></li>
<li><a href="../345670/index.html">JetBrains CLion for microcontrollers</a></li>
<li><a href="../345672/index.html">Search under the hood Chapter 1. Network spider</a></li>
<li><a href="../345674/index.html">Product Design Digest, December 2017</a></li>
<li><a href="../345688/index.html">How to capture / protect an open-source project</a></li>
<li><a href="../345692/index.html">Installing 1C Fresh from scratch using Linux and PostgreSQL</a></li>
<li><a href="../345694/index.html">My experience is to get into IT in comparison with a tambovka taxi driver</a></li>
<li><a href="../345696/index.html">Do you want a 6.5 deposit? Calculation of the rate of return on shares and full return using the Moex API and the dividend parser</a></li>
<li><a href="../345698/index.html">We turn speakers into speakers on the example of HighLoad ++</a></li>
<li><a href="../345700/index.html">Mobile retargeting - the main tool for promoting mobile applications in 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>