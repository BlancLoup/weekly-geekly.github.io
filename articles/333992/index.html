<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Optical alignment and user interfaces</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, my name is Ivan Grekov, I work in the Badoo frontend team, I am engaged in imposition of user interfaces on the company's projects. 


 In working...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Optical alignment and user interfaces</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/2dd/9b1/990/2dd9b199012346ecb49987c02fab3ae4.png"></p><br><p>  Hi, my name is Ivan Grekov, I work in the Badoo frontend team, I am engaged in imposition of user interfaces on the company's projects. </p><br><p>  In working with interface layouts, I use graphic editors such as Adobe Photoshop and Sketch.  In them, all layers by default are rectangular containers.  When we align one layer in the center relative to another, the centers of rectangular containers are used for alignment.  Such an approach is extremely inconvenient when working with icons, since the figures to be leveled may differ greatly from rectangular containers.  And the more an asymmetric figure differs in area and in points of coordinates from the rectangle in whose borders it is inscribed, the more noticeable is the difference between the centers of the figure and its container.  This leads to an imbalance of the composition in the interface icons. </p><br><p>  This situation is well known to specialists in the field of design, it is usually solved manually, which requires certain knowledge and skills.  That is why it can create difficulties for designers and developers who solve this problem with tools at hand. </p><a name="habracut"></a><br><p>  I will give an example.  Let's make an icon in a graphic editor - a diamond inscribed in a circle.  The illustration shows that the bottom of the diamond is inferior in size to the top.  It seems that the diamond is shifted upwards relative to the center of the image, although it is not. </p><br><p><img src="https://habrastorage.org/web/959/fda/490/959fda49003249f2992aefb55c3bc13e.png"></p><br><p>  This is the imbalance of which I spoke above.  It becomes noticeable at the stage of layout of user interface elements.  In order to identify the problem in advance, when accepting a design and evaluating the quality of the layouts, it is necessary to pay attention to how visually the figures in the icons are aligned.  If inside the icons they do not look balanced (as in our example), they will need optical compensation. </p><br><p>  Optical compensation is the distance that the shape should be moved to achieve visual balance relative to other layers.  To do this, we change the coordinates of the center of the container so that they correspond to the coordinates of the center of the shape, and then by aligning the shape relative to the new center. </p><br><p>  The search for the coordinates of the center of the shape and the subsequent alignment of the layers in this post I will call optical alignment.  This term is used by graphic designers to indicate the balancing of the size of letters and the distances between them in fonts.  However, in the articles on Medium ( <a href="https://medium.com/%40lukejones/optical-adjustment-b55492a1165c">article 1</a> and <a href="https://medium.com/%40erqiudao/the-play-button-is-not-optical-alignment-4cea11bda175">article 2</a> ) it is mentioned that this method is suitable for aligning the figures within the group of layers. </p><br><p>  Optical alignment can also be done "by eye": designers with a lot of experience and a developed sense of balance can do it.  In this approach, there are no strict criteria for the allowable distances and dimensions of the figures: the designer independently determines how many percent should move the figure or change its size to achieve an optical balance on the screen.  But this approach often leads to subjectivism: the designer's opinion may not coincide with the opinion of users or the customer.  How to determine that in one case the image is visually aligned, and this should not cause doubts, and in the other - the center of the figure has an error of 5‚Äì10% due to the work ‚Äúby eye‚Äù, and there is a shift inside the icon?  In graphic design, the grid, distance, alignment, and padding are defined by a brand book or guideline, which describes the design style and design elements.  This helps in resolving element alignment disputes.  For user interfaces, such solutions, alas, are not common practice. </p><br><p>  If the project has no documentation for user interfaces, design systems are not applied, alignment is the responsibility of the designers.  It is important for designers and developers to discuss such issues with designers.  However, it is not always possible to do this, for various reasons: the project timeline has already been designated, there is no time for redesign, designers are loaded with other tasks, a design project has been made on an outsourcing and so on.  I have met many situations with such introductory ones: a ‚Äúready‚Äù design is provided in the file, and it needs to be implemented well and quickly.  In this vein, we will talk about what you need to know about the optical alignment of icons to layout designers and developers so that the tasks of developing new user interfaces are performed qualitatively and without losing development speed. </p><br><p>  To begin, let's try to understand the existing solutions.  Let's get acquainted with the fact that they wrote about optical alignment earlier.  In 2015, Habr√© published a translation of one of the two previously mentioned articles from Medium ( <a href="https://habrahabr.ru/post/258571/">Article 1</a> ).  There were examples of simple icons and it was proposed to align their layers in two ways: by inscribing a figure in a circle or turning it around its axis.  The main advantage of these methods is ease of use.  And I decided to try it - the benefit of different projects, there are at least one hundred variations of different icons. </p><br><h3 id="instrukciya-po-opticheskomu-vyravnivaniyu">  Optical alignment instructions </h3><br><p><img src="https://habrastorage.org/web/392/9ff/c02/3929ffc0278e4a4287e349b50ebad75f.png"></p><br><p>  What does the alignment of icons with the methods mentioned above and the process of drawing an owl have in common?  The fact that the most interesting in both cases remains ‚Äúbehind the scenes‚Äù.  If we talk about icons, then with automatic alignment out of focus, the question of determining the center of the figure appears.  Translated articles often mention that the positioning of figures is done ‚Äúmanually‚Äù at the discretion of the reader. </p><br><p>  By default, the center of the layer with the shape is set in advance as the center point of the rectangular container containing the shape.  This approach does not provide for the possibility of finding the center of the figure.  And if the coordinates of the center of the container are determined automatically, then the coordinates of the center of the figure can be found through the optical alignment.  We find the center of the shape and relative alignment. </p><br><p>  If you try to create an instruction, then in order to apply optical alignment in your daily work you will need to complete only three simple steps: </p><br><ul><li>  determine what shape the figure in front of us; </li><li>  find the center of the figure; </li><li>  perform alignment. </li></ul><br><p>  The approach is slightly different for simple and composite shapes in the second step. </p><br><p>  So, at the first stage we need to determine the type of each shape.  Let's try to sort out the steps in detail so that after the first application the developer will immediately have an understanding of how optical alignment works. </p><br><h3 id="prostaya-figura">  Simple figure. </h3><br><h4 id="shag-1">  Step 1 </h4><br><p>  The graphical editor initially defines the center of any shape as the center of its rectangular container.  This is a prerequisite for understanding what kind of figure is in front of us.  When we are dealing with a relatively simple figure, its center can be found in a special form of definition of the barycenter.  There are separate formulas for triangles, parallelepipeds and other non-composite figures;  they help to find the point relative to which the icons should be centered. </p><br><p>  We fit the shape into the borders of the circle, and its center can be aligned relative to the container.  This approach works fine if the figure has symmetry in at least one plane. </p><br><p>  Let us examine an example with the video playback icon.  It is quite primitive and is often a typical example of optical imbalance.  Let's try to reproduce this situation: open any graphics editor, create a triangle and a circle.  And now we try to align two figures automatically.  Let's see what happened: </p><br><p><img src="https://habrastorage.org/web/5fb/965/a70/5fb965a703844f3bb8797277133a372c.png"></p><br><p>  In the icon, something is definitely wrong.  Let's try to figure out what causes the optical imbalance: </p><br><p><img src="https://habrastorage.org/web/9bc/3ae/f13/9bc3aef13da442e29279451e80275641.png"></p><br><h4 id="prostaya-figura-shag-2">  Simple figure.  Step 2 </h4><br><p>  The illustration shows that on the left circle a triangle is uniformly inscribed in a rectangle, or rather, in a square.  The geometric center of the triangle does not coincide with the center of its square layer. </p><br><p><img src="https://habrastorage.org/web/8d8/6c8/ca3/8d86c8ca304a4fd98a86e23756f6d6be.png"></p><br><p>  Fix this: add a third shape - a circle, as in the illustration to the right.  Let's enter a triangle in this circle and group them.  Then this group of elements must be aligned with the background circle. </p><br><p><img src="https://habrastorage.org/web/d31/8b0/3a0/d318b03a07654edf976aaa854f643918.png"></p><br><p>  Check the location of the figures: </p><br><p><img src="https://habrastorage.org/web/e5a/7b4/579/e5a7b45794544d56a4bf7b8c2ac04b09.png"></p><br><p>  Now the figures are optically aligned with each other.  Let's try to compare the icons, removing the circular container for clarity: </p><br><p><img src="https://habrastorage.org/web/162/f4f/300/162f4f3009924942abd4ce3aed79181a.png"></p><br><p>  The right icon looks neat, as it is optically aligned.  We got a quick fix for simple shapes. </p><br><h3 id="slozhnaya-figura">  Difficult figure. </h3><br><h4 id="shag-1-1">  Step 1 </h4><br><p>  If we have a complex figure (for example, a composite one), we need to perform another action to align it.  This approach is required when working with figures without pronounced symmetry, such as company logos or social networks. </p><br><p>  Let's try to understand by the example of the Hot or Not application icon. </p><br><p>  For a complex shape, it is necessary to determine the required minimum radius of a circle (it must fully contain all the details of the shape being aligned).  As with working with a simple figure, we first fit the figure into a circular container.  Then, for a complex shape, the required radius is determined by rotating the shape around its axis relative to its center. </p><br><p><img src="https://habrastorage.org/web/614/8df/d63/6148dfd63f3345eea1a64ec22980539a.gif"></p><br><p>  When turning the figure should not go beyond the boundaries of the circle.  Once this happens, you need to increase the radius of the circle.  A circular container of such figures is always larger than that of simple figures of approximately the same area. </p><br><h4 id="slozhnaya-figura-shag-2">  Difficult figure.  Step 2 </h4><br><p><img src="https://habrastorage.org/web/931/995/a73/931995a73dce49b298b4579378dc29a7.png"></p><br><p>  In the second step, we align the circular shape container with the element ‚Äúparent‚Äù.  Now the icon should be aligned, let's see this: </p><br><p><img src="https://habrastorage.org/web/5c7/6d5/4ab/5c76d54abb524fbe915f0337306846df.png"></p><br><p><img src="https://habrastorage.org/web/95e/688/38b/95e68838b1774c7ba8874d3b1c2d813e.png"></p><br><p><img src="https://habrastorage.org/web/1b1/005/96c/1b100596c5a84042b69025704835cce3.png"></p><br><p>  Inside each container, the figure is in the center, at one distance from the container borders.  This is a good way to check the alignment of complex icons. </p><br><p>  When working with certain icons, these methods allow you to align figures quickly and efficiently.  However, checking them with the example of a large number of icons for the desktop version of the Badoo site, I discovered this: </p><br><ul><li> The articles do not specify the criteria for determining the method of finding a center for different shapes (which method is ideal for a triangle, and which one is suitable for a polygon logo?); </li><li>  these methods indicate different coordinates, and subsequently the check is done ‚Äúby eye‚Äù; </li><li>  There are no descriptions how the methods listed in the articles work (they work, but not for all icons); </li><li>  there is no clear list of figures and their signs for which any of the described methods of optical alignment work (in some cases, both methods will not work). </li></ul><br><p>  It is unlikely that someone will use a cone or polygon inscribed in a circle without a definite meaning as an icon for the interface.  But still I would like to understand how to make different icons aligned, and this is not in doubt.  The above methods are not a panacea and are time consuming if you are not a graphic design guru.  Let's try to apply one of the ways to illustrate all of the above. </p><br><p>  Let's continue the example with the diamond icon.  Below are two options for alignment inside the icon: the figure on the left is inscribed in a rectangle, the figure on the right is inscribed in a circle, both containers are centered with respect to the purple circle. </p><br><p><img src="https://habrastorage.org/web/341/b00/cb4/341b00cb4e884afcb29b404f75ed7442.png"></p><br><p>  As you can see, both options are far from solving the task of aligning the figures in the center.  I want to place the left icon below, and the right one - above.  It turns out that the approach with the circle is not optimal here.  I also tried the approach with the rotation of the icon, and it gave the third result.  In all three cases, additional optical compensation actions will be required, and this will have to be done "by eye". </p><br><p>  But not everyone has an innate sense of vertical rhythm and a sense of golden section;  It means that instead of aligning ‚Äúby eye‚Äù, it is necessary to proceed from a universal, maximum abstract algorithm that allows you to find the center of any shape.  Ideally, this optical alignment process should be automated.  But to automate the process, you need to understand it.  Therefore, I decided to go beyond the boundaries of graphic design and studied the existing solutions and theory in order to perform optical alignment with minimal time and effort. </p><br><h3 id="nemnogo-teorii">  Some theory </h3><br><p>  I consider the optical alignment of icons as a solution from the field of geometry.  For alignment it is necessary to find the center point of the geometric figure.  In geometry, this is called the task of searching for a barycenter, a geometric center of a figure, or a centroid in English-language sources.  In <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D0%25B0%25D1%2580%25D0%25B8%25D1%2586%25D0%25B5%25D0%25BD%25D1%2582%25D1%2580">Wikipedia, they</a> write that in physics and geometry, a barycenter is the intersection point of the medians.  It acts as the geometric center of any two-dimensional region. </p><br><p>  The barycenter can be represented as the arithmetic average of the positions of all points of the figure.  The center of mass, the center of gravity, the barycenter will be considered as one point of the figure for us.  This assumption is possible, as we work with user interfaces.  If we search for the center of a 3D object model or the center of a geographical perimeter through the definition of a barycenter, then we will need to separate the above concepts and add many exceptions to the general rules.  But in this post we are talking only about the optical alignment of user interface icons. </p><br><p>  The definition of the barycenter extends to any object in n-dimensional space ‚Äî the barycenter is the average position of all points of the figure in all coordinate directions.  Roughly speaking, this is the equilibrium point of the figure.  For user interfaces, it is important to use the formula for determining the barycenter to find the correct point for aligning shapes. </p><br><p>  The search for a barycenter begins with determining which figure is in front of us.  For a number of icons, the task is trivial: </p><br><ul><li>  the barycentre of the <strong><em>square, rectangle and parallelogram</em></strong> is at the intersection of the diagonals, and graphic editors, when working with these figures, set the correct coordinates by default, optical alignment is not required; </li><li>  the barycentre of the <strong><em>circle, the ring and the hexagon</em></strong> is located at the center point of these figures; the graphic editors again cope with the alignment of the layers; </li><li>  The barycenter of the <strong><em>ellipse</em></strong> lies at the intersection point of the axes, the automatic alignment also works correctly. </li></ul><br><p>  Conclusion: if the icon has a center of symmetry, then its barycenter coincides with the center of symmetry.  In the illustration below, the circle and the square have one barycenter.  A pencil is not. </p><br><p><img src="https://habrastorage.org/web/8df/c20/54f/8dfc2054f4f34823b593aa4e069c65cd.png"></p><br><p>  Many shapes, such as a pencil shape, require additional calculations: </p><br><ul><li>  the barycenter of the <strong><em>triangle</em></strong> lies at the intersection point of the medians (the triangles are different, so it is necessary to apply optical alignment after calculating the barycenter; </li><li>  the barycenter of the <strong><em>semicircle is</em></strong> determined by the formula (4 <em>Radius) / 3</em> œÄ.  (relative to this point, we can apply optical compensation to the figure); </li><li>  the <strong><em>trapezium</em></strong> barycenter lies on the straight line connecting the centers of the bases. </li></ul><br><p>  Barycenters of <strong><em>more complex or compound figures</em></strong> require additional calculations.  For example, if a figure can be divided into equal parts, like a diamond in the examples above, then the following barycenter search rule applies to it: </p><br><ul><li>  if the icon has an axis of symmetry, then its center of gravity lies on this axis. </li></ul><br><p>  The list of formulas for different figures can be found on the Wikipedia page (it is slightly different <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BF%25D0%25B8%25D1%2581%25D0%25BE%25D0%25BA_%25D1%2586%25D0%25B5%25D0%25BD%25D1%2582%25D1%2580%25D0%25BE%25D0%25B8%25D0%25B4%25D0%25BE%25D0%25B2">in Russian</a> and <a href="https://en.wikipedia.org/wiki/List_of_centroids">in English</a> ). </p><br><p>  So we can determine the degree of alignment of the figure on one of the axes.  This is almost half the battle.  But what if the figure is asymmetric? </p><br><p>  Let us analyze three ways to search for the barycenter, applicable to most of the figures, regardless of symmetry: the method of geometric decomposition, the method of integration and the search for barycenter for a finite set of points. </p><br><p>  In the first method, we break a complex shape into simpler forms, and then apply this formula to search for coordinates: </p><br><p><img src="https://habrastorage.org/web/c87/fa2/590/c87fa2590a434f2bbbdbec7174f04994.png"></p><br><p>  where the coordinates of the barycenters of simple figures are denoted by Gi (respectively for the X and Y axes), and the areas of the figures are denoted by Ai. </p><br><p>  However, since we use graphic editors and plan to automate the solution to this problem, we can refuse to split the figure into primitives, ignore the symmetry and calculate the barycenter of the figure.  To do this, you can use the integration method: </p><br><p><img src="https://habrastorage.org/web/1c7/18b/59e/1c718b59e09a4da4912b002d8e321f98.png"></p><br><p>  In this case, g is a characteristic function of a subset that takes 1 inside X and 0 outside of it.  From this formula, we obtain the coordinates along the X and Y axes: </p><br><p><img src="https://habrastorage.org/web/6f7/f12/151/6f7f1215195e4ed38323a178cdc511fe.png"></p><br><p>  We can further simplify the task for automation, since we always know the coordinates of the points of the alignment points and their number.  We find the coordinates of the geometric center of the figure in the following way: each coordinate of the center is the sum of all quantities divided by the number of coordinates of the figure along this axis (this approach is most convenient for automation).  At this stage, there is a basis for the process of automation of optical alignment and to create a technical solution.  For irregular use can be limited to the method of optical alignment "by eye".  However, when you have to deal with large volumes of icons and user interface elements, it makes sense to think about automation. </p><br><h3 id="avtomatiziruem-eto">  Automate it </h3><br><p>  Studying solutions on the <a href="https://forums.adobe.com/thread/318758">Internet</a> , I found a solution for Adobe Illustrator CS3 based on JavaScript: </p><br><pre><code class="hljs pgsql"><span class="hljs-comment"><span class="hljs-comment">/* JET_Centroid.jsx A Javascript for Adobe Illustrator CS3. Purpose: Finds the centroid (center of gravity) of selected triangles and other straight-sided multigon paths and draws a user-defined circle at that location. To Use: Make a selection which includes normal paths. Call the script. */</span></span> var docRef = activeDocument; var markerSize = prompt("How large (in points) do you want the centroid marker to be?", <span class="hljs-number"><span class="hljs-number">6</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(s = <span class="hljs-number"><span class="hljs-number">0</span></span>; s &lt; docRef.selection.length; s++){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(docRef.selection[s].typename == "PathItem"){ var currPath = docRef.selection[s]; var xTotal = <span class="hljs-number"><span class="hljs-number">0</span></span>; var yTotal = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (p = <span class="hljs-number"><span class="hljs-number">0</span></span>; p &lt; currPath.pathPoints.length; p++){ var currPoint = currPath.pathPoints[p]; xTotal += currPoint.anchor[<span class="hljs-number"><span class="hljs-number">0</span></span>]; yTotal += currPoint.anchor[<span class="hljs-number"><span class="hljs-number">1</span></span>]; } //<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> var centroidX = xTotal / currPath.pathPoints.length; var centroidY = yTotal / currPath.pathPoints.length; var marker = docRef.pathItems.ellipse(centroidY + (markerSize / <span class="hljs-number"><span class="hljs-number">2</span></span>),centroidX - (markerSize / <span class="hljs-number"><span class="hljs-number">2</span></span>), markerSize, markerSize, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); marker.strokeColor = docRef.swatches.getByName("Black").color; marker.filled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; }//<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> }//<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span></code> </pre> <br><p>  Having studied the solution, I decided to modify it under Adobe Photoshop - and I got this sequence of steps to determine the geometric center: </p><br><ol><li>  In Photoshop, align the shapes in the center automatically. </li><li>  Select a layer with curves in the layers palette (Path). </li><li>  Open the "Scripts" menu. </li><li>  Select "Browse". </li><li>  Run GetCentroid.jsx. </li><li>  The point of intersection of the two guides is a guideline for alignment, the center of the figure should be placed on top of its coordinates. </li></ol><br><p>  The "under the hood" script performs the following steps: </p><br><ol><li>  Resets all coordinates to pixels. </li><li>  Finds selected layers containing curves. </li><li>  On each layer, in each curve, the coordinates of the points are collected to create for each curve its own object with coordinates. </li><li>  Finds the area for each object. </li><li>  Finds the centroid coordinates for each object. </li><li>  As values ‚Äã‚Äãfor guides, it applies the difference between the width of the page and the value along the X axis, the height and the value along the Y axis. </li><li>  Build guides inversely for each coordinate axis. </li></ol><br><p>  This allows you to estimate the required amount of optical compensation before alignment. </p><br><p><img src="https://habrastorage.org/web/5a6/b67/0fc/5a6b670fc0c346e692cb732c82d2af80.jpg"><br>  <em>An example of alignment using a script.</em> </p><br><p>  The script code can be viewed (and downloaded) in my repository <a href="https://gist.github.com/Winner95/0cdf485bf45a04dbc6fd63afdc783621">on GitHub</a> . </p><br><p>  This script can be used in other programs.  JS-library D3 already contains such a mechanism.  This means that if you wish, you can implement a similar procedure in the assembly system or in the design system of the company.  Or use the plugin for Sketch.  Or write your own.  It is not necessary to use a manual solution to align all the icons on the project.  There are plug-ins and solutions for graphic editors, for example, the <a href="http://sketchapp.rocks/plugins/optically/">Optically</a> paid plugin for Sketch. </p><br><p>  If you have not yet applied such optical alignment solutions in your work, it makes sense to look at the user interfaces being developed: most likely, you will need to correct the alignment of some of their elements. </p><br><h3 id="kogda-primenyat-opticheskoe-vyravnivanie">  When to use optical alignment? </h3><br><p>  The answer to this question depends on the organization of work.  If possible, you can give it to the designers.  In theory, this is possible, but in practice the design should be checked at the design and layout stages, as user interface elements may require adjustments. </p><br><p>  In Badoo, when preparing icons for user interfaces, all images are pre-optimized: lines in SVG are combined into a single Path, and it is aligned relative to the container.  Some of these actions are automated.  The developer aligns the shapes using a graphical editor.  When working with some icons, this can lead to a shift of the centers of the figures relative to each other.  At this stage, optical alignment should be applied to avoid image distortion. </p><br><h3 id="praktika-primeneniya-i-osobennosti">  Application practice and features </h3><br><p>  Badoo's user interfaces use many different icons: actions, statuses and settings icons.  And often they are placed in a row, so it is important that they are all aligned.  Using optical alignment, we improve the quality of user interfaces while maintaining the speed of layout and development. </p><br><p>  Optical alignment allows you to maintain a balance within the composition for individual icons, rows of icons of the same type and one size.  Suppose we have three icons arranged in a row.  When they have the same background, size and alignment of the figures inside, they will look harmonious.  Optical alignment will help correct design flaws, but is not a panacea for violating the basic rules of UI design - this is a completely different story, which is worked out exclusively by designers (talking about the violation of vertical page rhythms and individual blocks, image quality, etc.). </p><br><p>  As for the optical alignment, there are certain limitations and difficulties that can be encountered. </p><br><p>  For example, anti-aliasing icons in different browsers.  SVG icons contain vector graphics, point coordinates and other information about shapes and layers.  In Badoo, we create icons with specific canvas sizes depending on the type - 16 or 22 pixels.  If a figure inside such an icon contains points with odd coordinates, then the alignment in the center will notice a loss in the sharpness of the SVG image.  In this case, changes in the size of the icon and its elements are allowed. </p><br><p>  In addition, there are features when using optical alignment: </p><br><ul><li>  thin or remote elements of the shape in certain conditions do not affect the centering of the image (this situation is usually handled by the script); </li><li>  different figures of the same color, located side by side, will appear in <a href="https://medium.com/%40lukejones/optical-adjustment-b55492a1165c">different shades</a> on the monitor screen; </li><li>  figures of the same color and with the same width / height, but of different shapes will appear not aligned with each other.  For example, any circle will visually appear smaller next to a square of the same size, so the circle must be increased in size. </li></ul><br><p>  The first restriction can be circumvented by the developer.  The remaining issues are in the competence of the designer, but the developer when working with user interfaces should also pay attention to these points - this will avoid additional burden in the future when working on the introduction of new interface designs. </p><br><p>  Aligning icons relative to other elements on a page is often perceived as a limitation.  Suppose an icon is single-layered, aligned with its container.  We insert it on a page where there can be any context and surrounding elements with different heights and alignment.  So it should not be. </p><br><p>  In most cases, the placement of elements is preceded by the design of the user interface, where the position of the objects is indicated, the visual alignment is performed and the vertical rhythm of the elements is observed.  Preparing a full page design will help to avoid such questions and inaccuracies when developing user interfaces: the developer gets a clear idea of ‚Äã‚Äãthe context of the layout of elements on the page and their display, and he just needs to follow the approved design. </p><br><p>  Why is this remark important for optical alignment of icons?  Many companies have libraries of items.  The library of elements is individual parts of user interfaces outside the context of the pages; its presence allows for faster development when using its elements in layout.  However, when new page designs or design prototypes do not take into account dimensional grids, positioning of library elements, this advantage stops working.  Therefore, it is important that a systematic approach is present in working with the design and library of elements: </p><br><ol><li>  Based on the primary design, a library of elements is created with information about the sizes and variations of user interface elements. </li><li>  The subsequent design of the pages is repelled by the library of elements. </li><li>  The alignment in the design and the size of the lines should not contradict the options existing in the library of elements (otherwise, adjustments should be made to the library). </li><li>  Layout of icons and user interfaces should correspond to the design and library of elements. </li></ol><br><h3 id="kak-pravilno-primenyat-opticheskoe-vyravnivanie-v-rabote">  How to apply the optical alignment in the work? </h3><br><p>  Optical alignment helps correct user interface flaws regardless of whether an error was made in the design or in the layout.  This method acts as a litmus test for user interfaces: it allows you to evaluate in practice how the work with the icons.  It is worth paying attention to it both in the design and layout process, and in the process of evaluating the implementation of the finished user interface. </p><br><p>  When colleagues in general told me about this approach, I began to actively use their recommendations in my work.  To use optical alignment, it is important to understand the principles of its operation.  I can judge this by different projects with which I worked before joining Badoo: not all layout designers and developers adhere to the Pixel Perfect approach when creating templates and compare a ready-made template with a design.  Therefore, when you work in a team, it is important to agree with its members on the unity of the approaches used, and the new team members need to talk about them in a simple and understandable language. </p><br><h3 id="vmesto-zaklyucheniya">  Instead of conclusion </h3><br><p>  A good user interface is the result of the work of each specialist team.  It is created in the process of building the visual harmony of the elements on the user's screen.  Such harmony can be achieved by applying interdisciplinary knowledge and skills.  For example, competent application of approaches and methods of geometry in design and development.  In our case, this approach is optical alignment - it helps to improve the quality of user interfaces at the output. </p><br><p>  PS An attentive reader will notice that the diamond-shaped icon still remains unlined.  Curiously, this is one of those forms that is difficult to align using geometric formulas.  But you can always refer to fellow designers and come to a consensus. </p><br><p>  PPS If you make the corners of the diamond sharp, then the alignment script shows a good result. </p><br><p><img src="https://habrastorage.org/web/3fa/784/d07/3fa784d07ec1454792fd1ddcfd2d5cc8.jpg"></p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/333992/">https://habr.com/ru/post/333992/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../333980/index.html">Take care of your points or how to resist fraud in loyalty programs</a></li>
<li><a href="../333982/index.html">Hummingbirds for Phantom</a></li>
<li><a href="../333984/index.html">Found new version of the program. Install?</a></li>
<li><a href="../333986/index.html">Why we chose TypeScript: the history of developers from Reddit</a></li>
<li><a href="../333988/index.html">A team of web enthusiasts introduced the P2P browser Beaker</a></li>
<li><a href="../333996/index.html">Take out the local server to the network using another external server</a></li>
<li><a href="../333998/index.html">Bluetooth Mesh - the development of data transfer standard for IoT</a></li>
<li><a href="../334000/index.html">Printing on any paper size in Linux</a></li>
<li><a href="../334004/index.html">Inside Docker Networks: Linking Docker Swarm Containers and Overlay Networks</a></li>
<li><a href="../334006/index.html">How the advertising network Vungle tries to make life difficult for its customers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>