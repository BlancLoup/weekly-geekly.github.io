<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Another “switch for strings” - but not only for strings and not just “switch”</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article was provoked by an interesting topic on habrahabr.ru/post/166201 about the Switch Operator for C ++ and the desire to provide the communi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Another “switch for strings” - but not only for strings and not just “switch”</h1><div class="post__text post__text-html js-mediator-article">  This article was provoked by an interesting topic on <a href="http://habrahabr.ru/post/166201/">habrahabr.ru/post/166201</a> about the Switch Operator for C ++ and the desire to provide the community with another idea and embodiment for evaluation. <br><br>  One of the drawbacks of the Switch operator in C ++ is the limitation on the type of data to which it can be used and the author of the article has provided an interesting solution by reference. <br><br>  I will try to propose another solution, perhaps not so good, but not requiring additional language features and working for any type of variables in C ++ and also processing all possible truth options for the conditions given. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Those.  Another “switch for strings” - but not only for strings and not just “switch”. <br><br>  The given solution does not claim originality and it is quite expected that the idea has already appeared on the web pages more than once, but in the form in which I have not yet seen it, I apologize if this option has already been described by someone. <br><br>  The idea is to use the ternary operator?: In the Switch condition <br><br>  let's say “test” test variable and “var_ i” i = 1, .., 4 are variables with which to compare it <br><br>  from the design <br><br>  bool bool_1, bool_2, bool_3, bool_4; <br>  bool_1 = (test == var_1); <br>  bool_2 = (test == var_2); <br>  bool_3 = (test == var_3); <br>  bool_4 = (test == var_4); <br><br>  it can be seen that bool_ ii = 1, .., 4 are logical conditions and the variables test and var_i i = 1, .., 4 can be of any type, most importantly they are of the same type. <br><br>  idea in the next line <br><br>  switch ((bool_1? 1: 0) | (bool_2? 2: 0) | ((bool_3? 4: 0) | (bool_4? 8: 0)) <br><br>  and is that the switch will receive for deciding the result of the operation “or” on binary powers of twos. <br><br>  This gives not only the classic switch, but also the promised processing of all truthful variants, i.e.  all 16 options for 4 conditions. <br><br>  Conditions in switch can be added in any quantity while maintaining successive powers of two in the second argument of each ternary operator <br><br>  The explanation further: <br><br><a name="habracut"></a><br><br>  First, about the ternary operator - he, as is known, will choose the power of two or the next 0, according to the truth of the variable bool_ ii = 1, .., 4.  The powers of two are chosen, of course, not by chance, they provide an opportunity to process all possible truthful variants. <br><br>  If we have one and only one of the conditions of bool_ i, then the switch will work in the classic way and choose bool_ i since all the others will give 0. That is,  The result of the switch is the condition in which the variable bool_ i is true. <br><br>  If several different bool_ i variables are true, then in the switch condition a mathematical disjunction of several different powers of two will appear.  Since these are different binary powers of twos, they have units at different places and will remain as a result of the disjunction while the remaining places will have 0 <br><br>  Those.  Switch will give a switch to the case where just these several different bool_ i variables are true and the other conditions are false. <br><br>  Below is a working version in which in the classical case of truth of only one of the conditions bool_ i, the test variable test is assigned the corresponding value of the var_i variable. <br>  For the remaining variants of the truth distribution, I gave the corresponding descriptions of truth in English. <br><br>  switch ((bool_1? 1: 0) | (bool_2? 2: 0) | ((bool_3? 4: 0) | (bool_4? 8: 0)) <br>  { <br>  case 1: test = var_1; <br>  break; <br>  case 2: test = var_2; <br>  break; <br>  case 4: test = var_3; <br>  break; <br>  case 8: test = var_4; <br>  break; <br>  case 3: std :: cout &lt;&lt; «bool_1 bool_2 true bool_3 bool_4 false» &lt;&lt; std :: endl; <br>  break; <br>  case 5: std :: cout &lt;&lt; «bool_1 bool_3 true bool_2 bool_4 false» &lt;&lt; std :: endl; <br>  break; <br>  case 9: std :: cout &lt;&lt; «bool_1 bool_4 true bool_2 bool_3 false» &lt;&lt; std :: endl; <br>  break; <br>  case 6: std :: cout &lt;&lt; «bool_2 bool_3 true bool_1 bool_4 false» &lt;&lt; std :: endl; <br>  break; <br>  case 10: std :: cout &lt;&lt; «bool_2 bool_4 true bool_1 bool_3 false» &lt;&lt; std :: endl; <br>  break; <br>  case 12: std :: cout &lt;&lt; «bool_3 bool_4 true bool_1 bool_2 false» &lt;&lt; std :: endl; <br>  break; <br>  case 7: std :: cout &lt;&lt; «bool_3 bool_2 bool_1 true bool_4 false» &lt;&lt; std :: endl; <br>  break; <br>  case 11: std :: cout &lt;&lt; «bool_4 bool_2 bool_1 true bool_3 false» &lt;&lt; std :: endl; <br>  break; <br>  case 14: std :: cout &lt;&lt; «bool_4 bool_2 bool_3 true bool_1 false» &lt;&lt; std :: endl; <br>  break; <br>  case 13: std :: cout &lt;&lt; «bool_4 bool_1 bool_3 true bool_2 false» &lt;&lt; std :: endl; <br>  break; <br>  case 15: std :: cout &lt;&lt; «bool_4 bool_1 bool_3 bool_2 true» &lt;&lt; std :: endl; <br>  break; <br><br>  default: std :: cout &lt;&lt; «this is the same as 0 bool_1 bool_2 bool_3 bool_4 false» &lt;&lt; std :: endl; <br>  } <br><br>  The given variant is checked under debian. <br><br>  Of course, you can write a script that automatically generates such a switch not only for 4 but also for any number of conditions.  Since switch has no limit on the number of conditions, only the memory used will be the limit. <br><br>  Thank you in advance for all comments and considerations. </div><p>Source: <a href="https://habr.com/ru/post/167309/">https://habr.com/ru/post/167309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../167293/index.html">Cyber ​​Monday 2013 in Russia</a></li>
<li><a href="../167295/index.html">From the “stone jungle” to the “smart city”</a></li>
<li><a href="../167297/index.html">Step by step, or How we built your search</a></li>
<li><a href="../167303/index.html">Interview with Opera Mobile Store: Focus on Quality</a></li>
<li><a href="../167307/index.html">SignalR to help, or how to animate the web</a></li>
<li><a href="../167311/index.html">Cypher desktop application written based on the node-webkit platform</a></li>
<li><a href="../167313/index.html">Business Modeling and IT Simulation with Witness 12</a></li>
<li><a href="../167315/index.html">Android: use Fragments to optimize the interface</a></li>
<li><a href="../167317/index.html">Breaking "matches" or "Breaking" matches</a></li>
<li><a href="../167319/index.html">Implement Delay in AVR assembler without timers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>