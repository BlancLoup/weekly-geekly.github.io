<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FFmpeg audio / video file converter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introduction 

 Each user at least once used the computer to watch movies or listen to music. Most of you are aware of the existence of various for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FFmpeg audio / video file converter</h1><div class="post__text post__text-html js-mediator-article"> 1. Introduction <br><br>  Each user at least once used the computer to watch movies or listen to music.  Most of you are aware of the existence of various formats, both audio and video.  Each format is designed for its purpose. <br>  So MP4 is convenient for playback on mobile devices due to the high degree of compression.  MKV format files are huge, but at the same time high-quality video and sound.  The AVI format is not even a standalone format, but a wrapper for packaging media data of other formats.  Strictly speaking, MKV is also a container based on the binary analogue of the XML language <a href="http://ru.wikipedia.org/wiki/Matroska">[1]</a> .  This allows you to expand the format without losing compatibility with old programs. <br>  The list can be continued for a long time.  Often there is a need to translate, for example, a film from one format to another.  For example, this may be needed to watch videos on a mobile phone or DVD player that do not support playback of the original format. <br>  In this case, you can use a simple, but at the same time extremely powerful tool - FFmpeg converter. <br><a name="habracut"></a><br>  1.1 General characteristics <br><br>  The description in this section is based on Wikipedia <a href="http://ru.wikipedia.org/wiki/Ffmpeg">[2]</a> and the MAN help pages for the Ubuntu 10.04 LTS operating system. <br>  So, FFmpeg is a set of open source libraries.  The project was created by Fabrice Bellar.  Since the source code is open, the program can be compiled (created) for any operating system.  The FFmpeg utility is the interface for these libraries.  It works from the command line.  This may not seem convenient to many modern users, however, the command line allows you not to take system resources away to display graphic elements, which speeds up the work of the program. <br>  FFmpeg is a whole system.  It includes codecs, a streaming server, a utility for converting video files, and even a simple player.  We will now be interested mainly in the file conversion capabilities of this system. <br>  FFmpeg supports most common formats.  Since the development of the system has not been stopped until now, it will be difficult to provide a complete list of them.  Of course, FLV, AVI, MP4 are among them.  For all the time I could not find a single format that would not be supported in FFmpeg. <br>  In addition to the ability to convert files to different formats, FFmpeg can convert video format to an audio track, ‚Äúcapture‚Äù streaming video, or arrange a broadcast broadcast.  The possibilities are enormous.  In addition, the command line interface was designed to be intuitive.  For example, most formats are recognized by the specified extensions of the input and output files. <br>  FFmpeg has a wide range of audio and video data processing capabilities.  For example, you can change the sampling rate for the audio format, the sound track of the film, trim or scale frames. <br>  FFmpeg can be used for streaming video or audio converter.  You can continue to list the advantages of the system, but let's move on to its study and get acquainted with them along the way. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1.2 First steps <br><br>  Any road begins with the first step.  So let's get started.  Immediately make a reservation: I assume that the FFmpeg utility is already installed on your system.  If this is not the case, you will have to take care of this yourself.  The fact is that the installation for different operating systems is very different.  In order for the article to be universal and not to contain an extra volume, only the description of the process of use is contained here. <br>  So, suppose we have a video file film.mkv.  This format provides a very high image quality, but is picky about system resources.  In addition, mobile devices often do not support it.  There is a MP4 format.  It compresses video data very well and is supported by most devices with low system requirements.  To transfer our file to this format, go to the directory with the film.mkv file and give the command: <br><br> <code>ffmpeg -i film.mkv film.mp4</code> <br> <br>  The film.mp4 file will appear in the same directory.  Just right?  Most of the settings are set to "default."  File formats are automatically detected.  But I do not advise doing this, and here's why: modern video data is of very good quality.  It depends on many parameters, but, in my opinion, three are decisive: bit rate, frame rate and codec. <br>  Bitrate is the amount of information in bits that must be processed per second to the program that will show your movie or play your sound.  By default, the bitrate is set to 200 kb / s.  Even if the sound track has 64 kb / s, and the frame rate is 15 fps (15 frames per second), it means that about 9 kb or about kilobyte falls on one frame.  Even with modern video compression technology, there is no question of what quality. <br>  As you understand, the size of the final file directly depends on the bitrate.  In each case, the bitrate is selected individually and general recommendations cannot be given here.  To set the maximum bitrate, the command needs to be added as follows: <br><br> <code>ffmpeg -i film.mkv -b 1200k film.mp4</code> <br> <br>  Now the maximum bitrate is 6 times higher than the set ‚Äúdefault‚Äù and the image quality will increase very noticeably. <br>  The frame rate is the number of frames that passes on the screen per second.  The standard television frequency is 24 fps, which means that 24 frames are played in one second.  Each frame is essentially a picture.  The standard frequency for digital video is 15-16 fps.  Thus, it is possible to increase the bit rate, but to win in the file size by reducing the frame rate.  For the human eye, this will be almost not noticeable, and the size of the video will be reduced by about one and a half times. <br>  To set the frame rate, the previous command must be added as follows: <br><br> <code>ffmpeg -i film.mkv -b 1200k -r 16 film.mp4</code> <br> <br>  After executing the command, the file will appear in the directory film.mp4, the maximum bitrate of which is 1200 kb / s, and the frame rate is 16 fps. <br>  Conversion to a lower frequency occurs by removing the "extra" frames.  Transformation to a higher frequency, presumably, by duplicating adjacent frames.  As you understand, such a conversion does not affect the quality, but the size is very even. <br>  And one more basic operation: resizing a frame.  Such a change is possible by scaling or cropping each frame.  Here I will only consider scaling. <br>  Situation: our film has a frame size of 640 √ó 480. Your mobile phone plays only MP4 format and has a screen size of 320 √ó 240. In order to change the size of each frame of the film, the previous command needs to be changed as follows: <br><br> <code>ffmpeg -i film.mkv -b 1200k -r 16 -s 320x200 film.mp4</code> <br> <br>  A film.mp4 file will appear in the directory with a maximum bit rate of 1200 kb / s, a frame rate of 16 fps and a frame size of 320 √ó 240 pixels.  Increasing the size of frames is not necessary for the same reasons as their frequency. <br>  Thus, you can set any frame size, not even a multiple of the original (this will lead to image deformation, but possible).  Most films and commercials have standard sizes.  For example, 320 √ó 240, 640 √ó 480, 1024 √ó 768, 1600 √ó 1200 and so on.  For most of them (and possibly for all) there are letter symbols.  So the previous command can be written in the form: <br><br> <code>ffmpeg -i film.mkv -b 1200k -r 16 -s qvga film.mp4</code> <br> <br>  The result is completely the same.  Remembering the formats (at least, the basic ones) is quite simple.  For example, 640 √ó 480 is, as you know, VGA;  320 √ó 240 is QVGA (i.e., a quarter of a VGA).  Why a quarter?  Mentally draw two lines on the VGA field dividing them vertically and horizontally in half.  It turns out four rectangles, dimensions 320 √ó 240. That's why a quarter of the VGA.  The letter designations are given below.  The list of formats is not full, but the other frame sizes are just crazy and are rarely found.  You can learn about them from the FFmpeg reference page, although you are unlikely to ever need them. <br><br> <code>sqcif - 128 √ó 96 <br> qqvga - 60 √ó 120 <br> uxvga - 1600 √ó 1200 <br> qcif - 176 √ó 144 <br> qvga - 320 √ó 240 <br> qxga - 2048 √ó 1536 <br> cif - 352 √ó 288 <br> vga - 640 √ó 480 <br> sxga - 1280 √ó 1024 <br> 4cif - 704 √ó 576 <br> svga - 800 √ó 600 <br> qsxga - 2560 √ó 2048 <br> 16cif - 1408 √ó 1152 <br> xvga - 1024 √ó 768 <br> hsxga - 5120 √ó 4096</code> <br> <br>  What do you think will happen if you give the system a command: <br><br> <code>ffmpeg -i film.mkv film.mp3</code> <br> <br>  Exactly: the audio track will be copied to the film.mp3 file.  So just you can separate the video from the sound. <br>  Often there is a need to convert a video file to a format suitable for recording on standard media (for example, a DVD).  Such carriers have a special structure and some limitations.  Just writing a file to disk is not enough.  To take all this into account, we would have to tell FFmpeg a lot of parameters, many of which neither you nor I even know.  Fortunately, the authors of the program took care of this.  It is enough to specify one parameter, and the rest are set automatically.  So, in order to prepare to burn a film.mkv file to a DVD, you need to give the command: <br><br> <code>ffmpeg -i film.mkv -target dvd film.mpg</code> <br> <br>  As always, the final file appears in the directory, ready to be written to disk.  A list of common formats (their name should be substituted into the command instead of dvd) can be found on the program's manual page.  The most common of them are <code>vcd, svcd, dvd, dv, dv50, pal- vcd, ntsc-svcd</code> .  These symbols can be directly substituted into the <code>-target</code> field of the last command.  If your operating system is not sensitive to the extension (you have Linux, for example), the file extension does not matter. <br>  You can set the format of the output file regardless of the extension.  To do this, give the command: <br><br> <code>ffmpeg -f mp4 -i film.mkv -b 1200k -r 16 -s qvga film</code> <br> <br>  A film file without an extension will appear in the directory, but in MP4 format.  The names of the formats coincide with the extensions for the files of these formats. <br>  The article mentioned codecs and file formats.  You can find out which ones are available for you.  For this you need to give the command: <br><br> <code>ffmpeg -codecs <br> ffmpeg -formats <br></code> <br><br>  The first command will display a list of available codecs, the second - a list of available formats (including audio). <br>  That's all.  You have successfully completed the basic course of work with the FFmpeg program.  Now you can perform most of the tasks of converting files and those encountered by the average user.  If you have any questions, ask them at mailto: mna-norn@mail.ru with the subject ‚ÄúFFmpeg‚Äù.  Letters from unfamiliar addresses without this topic will be deleted without reading.  This article is over.  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/119834/">https://habr.com/ru/post/119834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119827/index.html">We order laser cutting and bending of the housing for a 90 TB file storage.</a></li>
<li><a href="../119829/index.html">Google FalseStart 30% faster SSL handshake</a></li>
<li><a href="../119831/index.html">Introduction to Pygame Subset for Android</a></li>
<li><a href="../119832/index.html">I twist, twirl, I want to charge</a></li>
<li><a href="../119833/index.html">How to overcome Facebook EdgeRank and get into the news feed</a></li>
<li><a href="../119837/index.html">Competition for developers with a prize pool of $ 100,000 and the first affiliate conference for participants in the Evernote Gallery</a></li>
<li><a href="../119838/index.html">14-year-old caught "hacker" is now working on Microsoft</a></li>
<li><a href="../119839/index.html">Modeling PHP flight on the wings of Erlang</a></li>
<li><a href="../119840/index.html">Completed HTML5 Games Contest</a></li>
<li><a href="../119841/index.html">Five ways to call a function</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>