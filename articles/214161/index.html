<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How much is one error in our programs, or what errors happen in PVS-Studio and CppCat</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the list of questions that always ask us after reading our articles there is a question: ‚ÄúDo you check the code of your analyzer by yourself?‚Äù. And...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How much is one error in our programs, or what errors happen in PVS-Studio and CppCat</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/cf1/7e7/b84/cf17e7b84782b5276c019f880365e21b.png" align="left" alt="Found a bug in PVS-Studiuo and CppCat">  In the list of <a href="http://www.viva64.com/ru/a/0085/">questions</a> that always ask us after reading our articles there is a question: ‚ÄúDo you check the code of your analyzer by yourself?‚Äù.  And the answer is given in the vein, that we always check the code while writing using the incremental analysis mode (checking the files immediately after compilation).  And also run night checks for the whole code.  And in this connection we, unfortunately (irony), can never write an article about errors in our software products. <br><br>  However, today it is an article about one of our mistakes and about how much it cost us.  Intrigued? <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      My story today will be in faces, so first the ‚Äúcredits‚Äù: <ul><li>  Michael, user CppCat; </li><li>  Evgeny (I), the author of the article, is related to PVS-Studio and CppCat; </li><li>  Andrew, my colleague, sometimes writes different articles; </li><li>  Pavel, my colleague, knows everything about integration into Visual Studio; </li></ul>  Once on Friday, February 21, we published an article " <a href="http://habrahabr.ru/company/pvs-studio/blog/213423/">A side effect: we check Firebird with PVS-Studio</a> ", in the comments to which Mikhail appeared with the following <a href="http://habrahabr.ru/company/pvs-studio/blog/213423/">comment</a> : <br><br>  <i>CppCat - what you need!</i>  <i>You would make a separate post about it.</i>  <i>I will ask for guidance, tea is cheap :)</i> <br><br>  Smiling, my colleague Andrei answered him that already three articles were about CppCat.  True colleague immediately received a "scolding" for the fact that no one knows about our new product.  It was at 16:16 Moscow time ... <br><br>  Already at 4:21 pm in my CppCat-mail there was a letter from Michael with the Wishlist.  Michael wanted the CppCat error messages to be displayed not in a separate window, as now, but in the standard Visual Studio error window.  From my point of view as the ‚Äúcustodian of the product‚Äù CppCat, this wish did not seem to be expedient, and I tried to explain in the mail that we had a specially made separate window so as not to confuse our messages and Visual Studio messages.  That it is very convenient, as it allows us to make the window specialized, etc.  But Mikhail "did not let up," giving a simple argument: <br><br>  - And how can I see then after recompiling the error file?  If only they would immediately be thrown out the window ... <br><br>  But for this very purpose, we have a ‚Äúkiller feature‚Äù incremental analysis!  After recompilation of files, the code analyzer is automatically launched.  And only if there were real errors, a notification is issued in the tray and the title of the analyzer window changes.  A phrase appears in the window stating that new errors have been found.  Incremental analysis mode can be turned on / off in the menu. <br><br>  ‚ÄúWell, yes,‚Äù answered Mikhail, ‚ÄúI have an‚Äú Incremental Analysis ‚Äùcheckbox.  But how do I know if there are errors? <br><br>  After five letters, including screenshots, it became clear that although everything is set up correctly, no notification is issued in the tray, nor is the window text changed.  And the time was six o'clock on Friday evening ... <br><br>  With the thought: ‚ÄúI haven‚Äôt taken checkers for a long time (from the day before yesterday)!‚Äù, I asked for Michael to the computer via remote access from AMMYY Admin.  Stumbling into my program, I realized that there really are no notifications about new errors, although the program seems to be working.  The time was nearing six in the evening, and I went to my colleague Pavel, who is responsible for the integration in Visual Studio.  Showed him what I was doing on the user's computer and that the notification was not working. <br><br>  Thirty seconds later, Paul said: <br><br>  - Eugene ... Well, you forgot that with the ‚ÄúRebuild All‚Äù / ‚ÄúRebuild All‚Äù command, we don't specifically start the incremental analysis.  This is done consciously and everything is correct.  And in general, you need to look at your own product more often.  And already forgot everything.  If only to answer the letters in the mail, yes write articles about business ... <br><br>  Reddening, I went to check ... However, there was no notification either when reassembling one file or when reassembling several files.  I tried on another project - the result is the same.  Does not work.  And the very important function that is the killer feature of our tool does not work.  Let me remind you that I tried all this on a remote user machine.  I went to Paul again, but it was almost six.  And the user wanted to go home, and Paul ... Perhaps in this regard, we together could not understand why it does not work.  Deciding on Monday to issue a version with debug logs, we went home. <br><br>  All weekend I thought about this issue.  Is our product to blame?  If so, when could this problem appear in the code?  And how many people DIDN'T BUY our product, as a very important thing did not work as it should. <br><br>  On this sad note came Monday.  We gave the user a special version with debug logs.  He sent them to us.  The logs were not clear, unfortunately.  We made more detailed logs, described the instructions for reproducing as detailed as possible ... It did not help.  The logs looked as if the code was not working, although it could not work. <br><br>  For Monday and Tuesday, we gave Michael several versions with the most detailed debug logs.  But to understand what is happening could not.  Notifications of new errors simply did not exist.  Him.  And we had, always. <br><br>  In the middle of Tuesday, Paul called me: <br><br>  - Yevgeny, you won‚Äôt believe ... But I don‚Äôt see a notice about errors found in CppCat! <br><br>  Do you think the debug logs helped us?  No, Pavel RANDOMLY clicked on the auto-hide button in the CppCat window inside Visual Studio.  And our window was automatically hidden when you move the mouse away from it.  Since none of the developers use the auto-hide button with us, we could not have imagined that in this mode our notification doesn‚Äôt work! <br><br>  That is, if auto-hide is turned off (normal mode), there are notifications of new errors, and if auto-hide is turned on, there are no notifications of new errors. <br><br>  I asked the user Michael to check whether the matter is in auto-hide.  He confirmed that in him. <br><br>  After that, it was already a matter of technique to correct the error.  It turned out that the plugin code did not correctly handle a particular window style.  For programmers, I asked Paul to describe the problem and its solution, but I don‚Äôt provide this text here, as it will be understood only by the developers of plug-ins for Visual Studio. <br><br>  So, we were able to repeat the mistake on Tuesday afternoon.  On Wednesday, issued a revised beta version of Michael. <br><br>  While Pavel was doing the patch, I talked with Mikhail about the licensing policy of our CppCat and PVS-Studio products.  Although Michael got the mistake when he became acquainted with CppCat, upon further communication, it turned out that PVS-Studio could be useful for his team. <br><br>  Let me remind you for those readers who are not familiar with what we are doing.  We develop, promote and sell two of our own software products CppCat for individual developers for $ 250 and PVS-Studio, whose minimum license for a team of up to 9 people costs a little more than ‚Ç¨ 5,000. <br><br>  So after discussing the licensing issues, Mikhail apparently sent a letter to the management and on Tuesday evening I discussed with his boss licensing issues of PVS-Studio.  We talked about everything pretty quickly, they came to the conclusion that they didn‚Äôt need CppCat, but PVS-Studio. <br><br>  But what about that mistake?  On Wednesday we gave Mikhail a revised beta version, he checked that everything works.  On Wednesday, I sent my boss Mikhail a bill to pay for PVS-Studio.  On Thursday, I saw a license fee on our account.  And I decided that it would be nice to describe this story, all of a sudden it will seem interesting to someone. <br><br>  So fixing one mistake in a $ 250 product gave us the sale of another product of ours for completely different money.  And all this in one week, because today, on Friday, February 28, you are already reading an article about this story! <br><br>  If you ask why I wrote all this, my answer is very simple.  I am proud of my team that we can quickly correct our mistakes and that our customers appreciate it. <br><br>  PS Many thanks to our user Michael, who helped us diagnose the error, without him this story would not exist.  Our client programmers are the best users in the world! <br><br>  <b>UPDATE1: For some reason, in the comments I write about the fact that it was necessary to give a discount.</b>  <b>Of course, a discount was given, what other options might there be?</b>  <b>:-)</b> <br><br>  <b>UPDATE2: Michael was noted in the <a href="http://habrahabr.ru/company/pvs-studio/blog/214161/">comments</a> below.</b>  <b>Give him a plus in karma, for what helps developers catching bugs :-).</b> <br><table><tbody><tr><td>  Unfortunately, we no longer develop or support the CppCat project.  You can read about the reasons <a href="http://habrahabr.ru/company/pvs-studio/blog/256637/">here</a> . </td></tr></tbody></table></div><p>Source: <a href="https://habr.com/ru/post/214161/">https://habr.com/ru/post/214161/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214141/index.html">Vulnerabilities of cryptocontainers with remote attack</a></li>
<li><a href="../214147/index.html">New life old synthesizer. Part 1</a></li>
<li><a href="../214153/index.html">How to make printed circuit boards: a tour of the factory Tehnoteh</a></li>
<li><a href="../214155/index.html">Samsung introduced a new line of LED components for smartphones and tablets</a></li>
<li><a href="../214159/index.html">Frames decide everything</a></li>
<li><a href="../214163/index.html">Zillion adventures (mini-review)</a></li>
<li><a href="../214165/index.html">Visual analysis of the quality of the code</a></li>
<li><a href="../214169/index.html">Connected Volvo at MWC 2014</a></li>
<li><a href="../214171/index.html">Management tools: mind map ‚ÄúFormula of working with people‚Äù</a></li>
<li><a href="../214173/index.html">Devise authorization helper for use with Capybara</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>