<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The test of knowledge of the C language, found in April Fool's joke</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is April 1st. Often, April Fools' jokes posted on the Internet continue their march, and float completely at unexpected times. About such a joke ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The test of knowledge of the C language, found in April Fool's joke</h1><div class="post__text post__text-html js-mediator-article">  It is April 1st.  Often, April Fools' jokes posted on the Internet continue their march, and float completely at unexpected times.  About such a joke about the C language and this article will be.  In every joke there is only a share of jokes.  I adopted the code from it for a quick test of knowledge of the C language. <br><br>  It is necessary to write a program (with explanations) in which the following line will work: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(;P(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>),R--;P(<span class="hljs-string"><span class="hljs-string">"|"</span></span>))<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(e=C;e--;P(<span class="hljs-string"><span class="hljs-string">"_"</span></span>+(*u++/<span class="hljs-number"><span class="hljs-number">8</span></span>)%<span class="hljs-number"><span class="hljs-number">2</span></span>))P(<span class="hljs-string"><span class="hljs-string">"| "</span></span>+(*u/<span class="hljs-number"><span class="hljs-number">4</span></span>)%<span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  Only one line, but it is possible to determine the depth of human understanding of the C language.  This line will also work in C ++.  I advise you to try your hand.  It will not be funny.  It may be useful. <br><a name="habracut"></a><br>  At the dawn of his programming career, a friend showed me an article about the fact that the C language and UNIX is an April Fool's joke.  As evidence of the absurdity of the language, the above line of code was cited.  In my opinion, quite working.  After some time during the interview I remembered this joke.  As with many other tests, the result is not the result (it sets the goal of the work), but the process of analysis and understanding. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Where we took the article I do not remember.  Every time I find him in a search engine for the phrase <a href="https://yandex.ru/search/%3Ftext%3D%25D1%2581%25D0%25B8%2520%25D0%25B8%2520unix%2520%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B2%25D0%25BE%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B5%25D0%25BB%25D1%258C%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F%2520%25D1%2588%25D1%2583%25D1%2582%25D0%25BA%25D0%25B0">"Si and unix April Fool's joke"</a> ( <a href="https://forum.windowsfaq.ru/showthread.php%3Ft%3D51">for example, here</a> ).  In these reposts, one minus in the increment after ‚ÄúR‚Äù and ‚Äúe‚Äù was once lost, and the second backslash appeared in the "\ n" line. <br><br>  Try to deal with the task yourself.  Do not think about the meaning of the program. <br><br><div class="spoiler">  <b class="spoiler_title">Formatting works wonders</b> <div class="spoiler_text">  I strongly advise you to bring this one-line disgrace in a readable form, placing line breaks, indents and spaces. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( ; P(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>), R--; P(<span class="hljs-string"><span class="hljs-string">"|"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (e = C; e--; P(<span class="hljs-string"><span class="hljs-string">"_"</span></span> + (*u++ / <span class="hljs-number"><span class="hljs-number">8</span></span>) % <span class="hljs-number"><span class="hljs-number">2</span></span>)) P(<span class="hljs-string"><span class="hljs-string">"| "</span></span> + (*u / <span class="hljs-number"><span class="hljs-number">4</span></span>) % <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  This is quite easy if you have seen the text of normal programs.  You can close your eyes to spaces, but the cycles should be on different lines with different indents. </div></div><br><div class="spoiler">  <b class="spoiler_title">You need to write an elementary program, such as "Hello world!"</b> <div class="spoiler_text">  Instead of displaying greetings to the whole world, you need to insert the text of the task itself and declare certain variables (this will be further). <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdio.h&gt; int main() { ... for ( ; P("\n"), R--; P("|")) for (e = C; e--; P("_" + (*u++ / 8) % 2)) P("| " + (*u / 4) % 2); return 0; }</span></span></span></span></code> </pre> <br>  This can already be discussed.  Why do I need include?  And is he needed here?  Is it possible without return?  And quite a cruel question.  What are the parameters of the main function? <br><br>  Do not be lazy, and try to answer these questions yourself. </div></div><br><div class="spoiler">  <b class="spoiler_title">Parse external loop</b> <div class="spoiler_text">  If a person has successfully reached this stage, then he already understands that there are two nested loops.  We analyze the external. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( ; P(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>), R--; P(<span class="hljs-string"><span class="hljs-string">"|"</span></span>))</code> </pre> <br>  Here we meet a very simple problem.  There is no initializer (a semicolon immediately follows the open parenthesis).  Some are confused.  This is often the case if a person writes programs in another language, for example, in Pascal. <br><br>  A real stumbling block, even for sufficiently experienced programmers, meets the expression "P (" \ n "), R--".  Many simply do not know that there is such a ‚Äúcomma‚Äù operation, and that the result of his work will be the result of the expression after the comma.  The expression to the comma is also calculated, but its result is not used.  Moreover, this operation has <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B8_(%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">the lowest priority</a> .  Therefore, P ("\ n") is executed first, and then R--. <br><br>  The result of the expression R-- here is the condition of execution.  This also confuses some, although this technique is often used.  Many programmers find it unnecessary to write in if statements, if (a! = 0) expressions ... There is a similar case (R--! = 0).  It is time to add the declaration of the first variable.  The increment says that this is definitely not a real number.  Any integer type, even unsigned, will do.  This variable must not only be declared, but also initialized with some positive value (preferably small). <br><br>  Usually, having reached here, it is already clear to everyone that there is a function P that accepts a string as input.  There are no problems here.  It is necessary to declare this function.  Since the meaning is not important to us, it may even be empty.  I prefer the function that displays the text on the screen (here it was useful in advance written in #include &lt;stdio.h&gt;).  I believe that a programmer of any level should be able to write this function. </div></div><br><div class="spoiler">  <b class="spoiler_title">Analysis of the internal cycle</b> <div class="spoiler_text"><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (e = C; e--; P(<span class="hljs-string"><span class="hljs-string">"_"</span></span> + (*u++ / <span class="hljs-number"><span class="hljs-number">8</span></span>) % <span class="hljs-number"><span class="hljs-number">2</span></span>) )</code> </pre> <br>  Here in the cycle, everything is already familiar.  Decrement in the check on the execution of the cycle, as it was above.  We add the variable e, by analogy with R. You can immediately declare a variable C of the same type, although it can be a constant, or even define.  Here is the author's will. <br><br>  Interest here is a call to the function P. <br><br><pre> <code class="cpp hljs"> P(<span class="hljs-string"><span class="hljs-string">"_"</span></span> + (*u++ / <span class="hljs-number"><span class="hljs-number">8</span></span>) % <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  If we look further, we will see a similar construction in the function body. <br><br><pre> <code class="cpp hljs"> P(<span class="hljs-string"><span class="hljs-string">"| "</span></span> + (*u / <span class="hljs-number"><span class="hljs-number">4</span></span>) % <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  Here it is necessary to have patience.  The goal is close.  This is the crown of this "masterpiece".  Do not rush to open the following explanation, think. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Highlight</b> <div class="spoiler_text">  Parse two expressions: <br><br><pre> <code class="cpp hljs"><span class="hljs-string"><span class="hljs-string">"_"</span></span> + (*u++ / <span class="hljs-number"><span class="hljs-number">8</span></span>) % <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><pre> <code class="cpp hljs"><span class="hljs-string"><span class="hljs-string">"| "</span></span> + (*u / <span class="hljs-number"><span class="hljs-number">4</span></span>) % <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br>  Further we will consider the first expression.  It is more complicated.  It is clear that here the expression in brackets is first calculated, then the remainder from division by 2 is taken from it, at the end this number is added to the string. <br><br>  The simplest is the calculation of the remainder of the division.  Occasionally there are programmers who do not use such an operation.  They may be embarrassed.  The main thing is that this operation is performed on integer types and the result is also integer.  An insidious question for self-study, can the result of the expression (* u ++ / 8)% 2 be negative? <br><br>  Since the result of the expression in parentheses must be integer, then the division operation is integer, and the dividend is integer.  For novice programmers, the expression * u ++ can cause uncertainty: in the presence of post-increment in the expression and in the priority of executing post-increment operations and pointer dereference.  This technique is sometimes used in C programs when moving along an array.  The expression returns the value at the current pointer (before incrementing) and shifts the pointer to the next element.  Therefore, the variable u is not just a pointer, but is also an array.  An additional question, what size (in the elements) should this array be? <br><br>  The most "beautiful" technique is adding a number to a string.  We must remember that this is C language.  You should not wait for the conversion of a number into a string, and even more so the lines into a number.  Everything is much more strange than it may seem at first glance, but very logical for C.  A string is an array of characters, which means a pointer to the memory where the first character is located.  If this is a pointer, then adding an integer to it means calculating an address that is shifted relative to the original pointer by a specified number of elements.  In this example, after obtaining the remainder of division by 2, either 0 or 1. is output. Accordingly, the string is passed to the P function without offset (as it is), or shifted by one character to the end of the string.  The simple question is, can there be problems when shifting by one character in a string consisting of one character (as in our case)? <br><br>  The expression (X / 8)% 2 is just getting the fourth bit.  For an unsigned integer this is equivalent to (X &gt;&gt; 3) &amp; 1. Finally, an additional task is to check this statement for negative numbers. </div></div><br>  Especially I will not give the text of the program.  I believe that after all the hints this program can be easily written. <br><br>  If you think this is a made-up example, then I can argue.  Really comes across a code much harder to parse.  And do not think that I urge to write such a horror. <br><br>  For those who fall for such testing: the main thing here is not to be intimidated, you will probably be hired without this task. <br><br>  For those who want to use for an interview: if you decide to give this task for an interview, and a smile flashes in the eyes of the applicant, it means that you both read this post.  But you do not worry, let him repeat with an explanation ... <br><br>  For readers: I know only one person who did this task right away (and it was not me). <br><br>  PS <br>  Thanks <a href="https://habrahabr.ru/users/nwalker/" class="user_link">nwalker</a> : <br>  "This is one of the winners of <a href="http://www.ioccc.org/years-spoiler.html">IOCCC 1985</a> , <a href="">shapiro.c by Carl Shapiro</a> , the code draws a maze in stdout. ... In the process of the search, there was also an interesting post about obfuscation C and labyrinths: <a href="https://tromp.github.io/maze.html">The art of obfuscation</a> ." </div><p>Source: <a href="https://habr.com/ru/post/325880/">https://habr.com/ru/post/325880/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../325866/index.html">101 free services for the designer</a></li>
<li><a href="../325868/index.html">Starting your blog on Ghost using docker-compose</a></li>
<li><a href="../325872/index.html">ASP.NET Core: Creating ASP.NET Web API Reference Pages with Swagger</a></li>
<li><a href="../325874/index.html">Returning to Unallocated Final Interpreters with Dotty</a></li>
<li><a href="../325876/index.html">Using Zabbix API. When there is not enough standard statistics</a></li>
<li><a href="../325882/index.html">Vulnerability of the Xen hypervisor allows access to host memory from a virtual machine</a></li>
<li><a href="../325884/index.html">7 bad tips to the REST API designer</a></li>
<li><a href="../325888/index.html">ThinkPHP # 14 Mitap in Kharkov. 5 years together</a></li>
<li><a href="../325890/index.html">Review of the section "Design" at the conference DUMP-2017</a></li>
<li><a href="../325892/index.html">Management of risks. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>