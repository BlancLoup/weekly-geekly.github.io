<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Difficult forms in Django</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. I will try to talk about complex forms in Django. It all started when in my diploma it took to make a form that would consist of other forms...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Difficult forms in Django</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/721/a31/efb/721a31efb10d4e8f7988048e6fa74dfc.gif" alt="image"><br>  Good day.  I will try to talk about complex forms in Django.  It all started when in my diploma it took to make a form that would consist of other forms.  After all, if you have two forms that you use, and then another one is needed, which is just a container of those two, you will not create a new one by copying all the fields from the old ones into it, this is very stupid.  Therefore, we must somehow combine them.  At one time, FormWizard was in Django, but it was extremely inconvenient, so in the new version it was redone on WizardView.  Django is of course MVC, but I will try to demonstrate everything in the article as thoroughly as possible, and then you can compress everything using the ModelForm and the cycles in the templates. <br>  Let's look at our models, nothing special, but to make it clearer, we will demonstrate. <br><br><a name="habracut"></a><br><pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Citizenship</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> name = models.CharField(max_length = <span class="hljs-number"><span class="hljs-number">50</span></span>,verbose_name = <span class="hljs-string"><span class="hljs-string">u''</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CertificateType</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> name = models.CharField(max_length = <span class="hljs-number"><span class="hljs-number">50</span></span>,verbose_name = <span class="hljs-string"><span class="hljs-string">u''</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Student</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> SEX_CHOICES = ( (<span class="hljs-string"><span class="hljs-string">'m'</span></span>,<span class="hljs-string"><span class="hljs-string">u""</span></span>), (<span class="hljs-string"><span class="hljs-string">'w'</span></span>,<span class="hljs-string"><span class="hljs-string">u""</span></span>), ) sex = models.CharField(max_length=<span class="hljs-number"><span class="hljs-number">1</span></span>,verbose_name=<span class="hljs-string"><span class="hljs-string">u""</span></span>,choices=SEX_CHOICES) citizenship = models.ForeignKey(Citizenship, verbose_name = <span class="hljs-string"><span class="hljs-string">u""</span></span>) doc = models.CharField(max_length = <span class="hljs-number"><span class="hljs-number">240</span></span>,verbose_name = <span class="hljs-string"><span class="hljs-string">u"doc"</span></span>) student_document_type = models.ForeignKey(CertificateType, related_name = <span class="hljs-string"><span class="hljs-string">'student_document'</span></span>,verbose_name = <span class="hljs-string"><span class="hljs-string">u" "</span></span>) parent_document_type = models.ForeignKey(CertificateType, related_name = <span class="hljs-string"><span class="hljs-string">'parent_document'</span></span>, verbose_name = <span class="hljs-string"><span class="hljs-string">u" "</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__unicode__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> unicode(self.fiochange_set.latest(<span class="hljs-string"><span class="hljs-string">'event_date'</span></span>).fio) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> FioChange.DoesNotExist: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">u'No name'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Contract</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> student = models.ForeignKey(Student,verbose_name = <span class="hljs-string"><span class="hljs-string">u''</span></span>) number = models.CharField(max_length=<span class="hljs-number"><span class="hljs-number">24</span></span>,verbose_name = <span class="hljs-string"><span class="hljs-string">u" "</span></span>) student_home_phone = models.CharField(max_length = <span class="hljs-number"><span class="hljs-number">180</span></span>, verbose_name = <span class="hljs-string"><span class="hljs-string">u"  "</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FioChange</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> event_date = models.DateField(verbose_name = <span class="hljs-string"><span class="hljs-string">u'  '</span></span>, null = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, blank = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) student = models.ForeignKey(Student,verbose_name = <span class="hljs-string"><span class="hljs-string">u""</span></span>) fio = models.CharField(max_length = <span class="hljs-number"><span class="hljs-number">120</span></span>, verbose_name = <span class="hljs-string"><span class="hljs-string">u""</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__unicode__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> unicode(self.fio)</code> </pre> <br><br>  Now more to the point, as they say.  Let's look at our forms. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Forms (forms.py) </h3><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NameModelChoiceField</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(forms.ModelChoiceField)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">label_from_instance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, obj)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"%s"</span></span>%obj.name <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StudentForm</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(forms.Form)</span></span></span><span class="hljs-class">:</span></span> SEX_CHOICES = ( (<span class="hljs-string"><span class="hljs-string">'m'</span></span>,<span class="hljs-string"><span class="hljs-string">u""</span></span>), (<span class="hljs-string"><span class="hljs-string">'w'</span></span>,<span class="hljs-string"><span class="hljs-string">u""</span></span>), ) sex = forms.ChoiceField(label=<span class="hljs-string"><span class="hljs-string">u''</span></span>, choices = SEX_CHOICES) citizenship = NameModelChoiceField(label = <span class="hljs-string"><span class="hljs-string">u''</span></span>,queryset = Citizenship.objects.order_by(<span class="hljs-string"><span class="hljs-string">'-name'</span></span>),initial = Citizenship.objects.get(id=<span class="hljs-number"><span class="hljs-number">1</span></span>)) doc = forms.CharField(label = <span class="hljs-string"><span class="hljs-string">u''</span></span>,max_length = <span class="hljs-number"><span class="hljs-number">50</span></span>) student_document_type = NameModelChoiceField(label = <span class="hljs-string"><span class="hljs-string">u' '</span></span>, queryset = CertificateType.objects.order_by(<span class="hljs-string"><span class="hljs-string">'-name'</span></span>),initial = CertificateType.objects.get(id = <span class="hljs-number"><span class="hljs-number">1</span></span>)) parent_document_type = NameModelChoiceField(label = <span class="hljs-string"><span class="hljs-string">u' '</span></span>, queryset = CertificateType.objects.order_by(<span class="hljs-string"><span class="hljs-string">'-name'</span></span>), initial = CertificateType.objects.get(id = <span class="hljs-number"><span class="hljs-number">1</span></span>)) event_date = forms.DateTimeField(required = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, label = <span class="hljs-string"><span class="hljs-string">u' : '</span></span>, initial = datetime.date.today,help_text = <span class="hljs-string"><span class="hljs-string">u' '</span></span>) fio = forms.CharField(label = <span class="hljs-string"><span class="hljs-string">u' '</span></span>, max_length = <span class="hljs-number"><span class="hljs-number">60</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContractForm</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(forms.Form)</span></span></span><span class="hljs-class">:</span></span> number = forms.CharField(label = <span class="hljs-string"><span class="hljs-string">u' '</span></span>, max_length = <span class="hljs-number"><span class="hljs-number">5</span></span>) phone = forms.CharField(label = <span class="hljs-string"><span class="hljs-string">u'  '</span></span>, max_length = <span class="hljs-number"><span class="hljs-number">7</span></span>)</code> </pre><br>  Two forms: one to fill out student data, and another form - student agreement data.  They are connected 1: N, that is, 1 student can have N contracts.  Therefore, we need to have a form right away to add a student and conclude a contract with him (let's say that).  Immediately begs to do so: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AddStudentForm</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(StudentForm,ContractForm)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br><br>  But this is fundamentally wrong, because with such inheritance all StudentForm functions will contract Contract, because they are identical in names and parameters (because they are inherited from the same forms.Form class). <br><br>  For this and use WizardView.  I will describe a more complicated case with SessionWizardView.  It allows you to fill in the data step by step, keeping the intermediate form data - this is very cool, and it does not lose individual form validation.  Who watched the documentation of the django, agree, an example of what is generally flimsy and not very clear, not much.  So, what we need: we need to display 2 forms, after filling in all the forms, correctly create the student and his contract and, say, for the sake of prikalyukh, transmit a message to the subsequent form that the previous one is correctly filled.  In essence, the view keeps a list of forms and when moving to another form, calls validation methods, and if the form has not passed validation, returns the user to an incorrect form and asks to fill in correctly.  We describe our view. <br><br><h3>  View (view.py) </h3><br><br><pre> <code class="python hljs">FORMS = [ (<span class="hljs-string"><span class="hljs-string">"student"</span></span>, StudentForm), (<span class="hljs-string"><span class="hljs-string">"contract"</span></span>, ContractForm) ] TEMPLATES = { <span class="hljs-string"><span class="hljs-string">"student"</span></span> : <span class="hljs-string"><span class="hljs-string">"student.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"contract"</span></span> : <span class="hljs-string"><span class="hljs-string">"contract.html"</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AddStudentWizard</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(SessionWizardView)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_template_names</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [TEMPLATES[self.steps.current]] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_context_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, form, **kwargs)</span></span></span><span class="hljs-function">:</span></span> context = super(AddStudentWizard, self).get_context_data(form=form, **kwargs) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.steps.current == <span class="hljs-string"><span class="hljs-string">'contract'</span></span>: context.update({<span class="hljs-string"><span class="hljs-string">'ok'</span></span>: <span class="hljs-string"><span class="hljs-string">'True'</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> context <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">done</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, form_list, **kwargs)</span></span></span><span class="hljs-function">:</span></span> student_form = form_list[<span class="hljs-number"><span class="hljs-number">0</span></span>].cleaned_data contract_form = form_list[<span class="hljs-number"><span class="hljs-number">1</span></span>].cleaned_data s = Student.objects.create( sex = student_form[<span class="hljs-string"><span class="hljs-string">'sex'</span></span>], citizenship = student_form[<span class="hljs-string"><span class="hljs-string">'citizenship'</span></span>], doc = student_form[<span class="hljs-string"><span class="hljs-string">'doc'</span></span>], student_document_type = student_form[<span class="hljs-string"><span class="hljs-string">'student_document_type'</span></span>], parent_document_type = student_form[<span class="hljs-string"><span class="hljs-string">'parent_document_type'</span></span>] ) f = FioChange.objects.create( student = s, event_date = student_form[<span class="hljs-string"><span class="hljs-string">'event_date'</span></span>], fio = student_form[<span class="hljs-string"><span class="hljs-string">'fio'</span></span>] ) c = Contract.objects.create( student = s, number = contract_form[<span class="hljs-string"><span class="hljs-string">'number'</span></span>], student_home_phone = contract_form[<span class="hljs-string"><span class="hljs-string">'phone'</span></span>] ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HttpResponseRedirect(reverse(<span class="hljs-string"><span class="hljs-string">'liststudent'</span></span>))</code> </pre><br><br><pre> <code class="python hljs">FORMS = [ (<span class="hljs-string"><span class="hljs-string">"student"</span></span>, StudentForm), (<span class="hljs-string"><span class="hljs-string">"contract"</span></span>, ContractForm) ]</code> </pre><br><br>  Describes a simple list of forms with names, if you pass [StudentForm, ContractForm], then the form will be accessible via the key '0' or '1'. <br><br><pre> <code class="python hljs">TEMPLATES = { <span class="hljs-string"><span class="hljs-string">"student"</span></span> : <span class="hljs-string"><span class="hljs-string">"student.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"contract"</span></span> : <span class="hljs-string"><span class="hljs-string">"contract.html"</span></span> }</code> </pre><br><br>  Description of how you can get the necessary template to the form through the key, because I‚Äôm paranoid and prefer that all the data transferred to the template through the form be described manually, because then go to something else (except Bootstrap) for registration It will be easier. <br><br>  Go through the functions. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_template_names</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [TEMPLATES[self.steps.current]]</code> </pre><br><br>  Returns the pattern to us when moving or first displaying the form.  As you can see, self.steps we get the options for steps, in the very first display of the form self.steps.current will return ‚Äústudent‚Äù, and if we did not describe FORMS, would return '0'. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_context_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, form, **kwargs)</span></span></span><span class="hljs-function">:</span></span> context = super(AddStudentWizard, self).get_context_data(form=form, **kwargs) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.steps.current == <span class="hljs-string"><span class="hljs-string">'contract'</span></span>: context.update({<span class="hljs-string"><span class="hljs-string">'ok'</span></span>: <span class="hljs-string"><span class="hljs-string">'True'</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> context</code> </pre><br><br>  Returns the context data of the form for the template.  So, in the task we have to display that the previous form is filled in correctly, let's add the data for the contract template with the value ok.  Yes, ok is exactly the string 'True', because I once encountered the ambiguity True, like booelean under the option None, etc., so now I always write unambiguous match options. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">done</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, form_list, **kwargs)</span></span></span></span></code> </pre><br><br>  The function that is called when all forms are filled in correctly, at this stage we have to do something with the correct form data and send the user further. <br>  So we do here, create a student, his full name and contract.  And redirected to the page with the name of the students.  We now describe the templates for displaying forms.  Let's start with the base. <br><br><h3>  base.html </h3><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> {% load static %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{% static 'bootstrap/js/jquery.js'%}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{% static 'bootstrap/css/bootstrap.css'%}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{% static 'bootstrap/js/bootstrap.js'%}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#main-conteiter</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding-top</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">5%</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> {% block head %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>{% block title %}Example Wizard{% endblock %}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> {% endblock %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main-conteiner"</span></span></span><span class="hljs-tag">&gt;</span></span> {% block content %} <span class="hljs-comment"><span class="hljs-comment">&lt;!-- body --&gt;</span></span> {% endblock %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  It does not make much sense to paint something specifically here. <br>  We describe our basic template for displaying complex shapes. <br><br><h3>  wizard_template.html </h3><br><pre> <code class="html hljs xml">{% extends "base.html" %} {% block head %} {{ block.super }} {{ wizard.form.media }} {% endblock %} {% block content %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-info"</span></span></span><span class="hljs-tag">&gt;</span></span> ,  {{ wizard.steps.step1 }}  {{ wizard.steps.count }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>{% block title_wizard %}{% endblock %}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"well form-horizontal"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag">&gt;</span></span>{% csrf_token %} {{ wizard.management_form }} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"control-group"</span></span></span><span class="hljs-tag">&gt;</span></span> {% block form_wizard %} {% endblock %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-actions"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"padding-left: 50%"</span></span></span><span class="hljs-tag">&gt;</span></span> {% block button_wizard %} {% endblock %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> {% endblock %}</code> </pre><br><br>  wizard.management_form need our form to work, to indicate this thing always when working with WizardView. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"control-group"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Our form will be described here. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-actions"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"padding-left: 50%"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  There are buttons for managing actions.  Yes, yes, I put the style here, it was too lazy to put it into the file. <br>  Let's look at the template with the description of the form for entering student data. <br><br><h3>  student.html </h3><br><pre> <code class="html hljs xml">{% extends "wizard_template.html" %} {% load i18n %} {% block title_wizard %}   {% endblock %} {% block form_wizard %} {% include "input_field.html" with f=wizard.form.sex %} {% include "input_field.html" with f=wizard.form.citizenship %} {% include "input_field.html" with f=wizard.form.doc %} {% include "input_field.html" with f=wizard.form.student_document_type %} {% include "input_field.html" with f=wizard.form.parent_document_type %} {% include "input_field.html" with f=wizard.form.event_date %} {% include "input_field.html" with f=wizard.form.fio %} {% endblock %} {% block button_wizard %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-primary"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"icon-user icon-white"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"icon-arrow-right icon-white"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> {% endblock %}</code> </pre><br><br>  Here we describe all the form fields manually.  As you can see, our form is available through wizard.form, and so we can bypass all the fields of the form.  For a more complete description of the fields we use another template - the description of the form field. <br><br><h3>  input_field.html </h3><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"control-group {% if f.errors %}error{% endif %}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{f.id_for_label}}"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ f.label|capfirst }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"controls"</span></span></span><span class="hljs-tag">&gt;</span></span> {{f}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"help-inline"</span></span></span><span class="hljs-tag">&gt;</span></span> {% for error in f.errors %} {{ error|escape }} {% endfor %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  I use this template to describe error messages to fields. <br><br>  Let's look at the template for describing the form of a contract, it's almost the same here, just add a button back to the student's data and a save button that will create the student and his contract for us, and then transfer it to the page with the list of students. <br><br><h3>  contract.html </h3><br><pre> <code class="html hljs xml">{% extends "wizard_template.html" %} {% block title_wizard %}   {% endblock %} {% block form_wizard %} {% if ok == 'True' %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"alert alert-success"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"close"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-dismiss</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"alert"</span></span></span><span class="hljs-tag">&gt;</span></span>√ó<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>      . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {% endif %} {% include "input_field.html" with f=wizard.form.number %} {% include "input_field.html" with f=wizard.form.phone %} {% endblock %} {% block button_wizard %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wizard_goto_step"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-primary"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ wizard.steps.prev }}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"icon-user icon-white"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"icon-arrow-left icon-white"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-primary"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">/&gt;</span></span> {% endblock %}</code> </pre><br><br>  Fuh, like everything is described, now you need to pick up the whole thing to the url and run the project. <br><br><pre> <code class="python hljs">url(<span class="hljs-string"><span class="hljs-string">r'^addstudent/$'</span></span>,AddStudentWizard.as_view(FORMS),name=<span class="hljs-string"><span class="hljs-string">'addstudent'</span></span>), url(<span class="hljs-string"><span class="hljs-string">r'^liststudent$'</span></span>,StudentsView.as_view(),name=<span class="hljs-string"><span class="hljs-string">'liststudent'</span></span>),</code> </pre><br><br>  Oh yeah, let's describe another view for the list of students. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StudentsView</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(TemplateView)</span></span></span><span class="hljs-class">:</span></span> template_name = <span class="hljs-string"><span class="hljs-string">"list.html"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_context_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kwargs)</span></span></span><span class="hljs-function">:</span></span> context = super(StudentsView, self).get_context_data(**kwargs) context.update({ <span class="hljs-string"><span class="hljs-string">'students'</span></span> : Student.objects.all() }) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> context</code> </pre><br><br>  We describe the template for this view. <br><br><pre> <code class="html hljs xml">{% extends "base.html" %} {% block content %} {% for s in students %} {{ s }}<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> {% endfor %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{% url addstudent %}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-primary"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> {% endblock %}</code> </pre><br>  Now that's it.  Now to practice. <br><br>  The initial form view. <br><br>  After incorrect input. <br><img src="http://habrastorage.org/storage2/4de/71b/b88/4de71bb88d8acef0025dd3c72f7d0245.png"><br><br>  Transition to the form with the contract with the correct filling of the previous form. <br><img src="http://habrastorage.org/storage2/a6e/f16/a3b/a6ef16a3baa9b2a6e48849a3a5c99edc.png"><br><br>  After incorrect input. <br><img src="http://habrastorage.org/storage2/8f1/03d/a66/8f103da6615ac6dfc2f05d25449d233d.png"><br><br>  When everything is correctly filled out and clicked on ‚ÄúSave‚Äú, we are thrown to the page with the students. <br><img src="http://habrastorage.org/storage2/2d2/582/100/2d2582100efc09acb050e32fd4b847a9.png"><br><br>  That's all.  Thank you all for your attention. </div><p>Source: <a href="https://habr.com/ru/post/158969/">https://habr.com/ru/post/158969/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158955/index.html">Call of Duty: Black Ops 2 earned $ 500 million per day</a></li>
<li><a href="../158959/index.html">Microsoft Surface as an attempt to lift your hair</a></li>
<li><a href="../158961/index.html">Using RabbitMQ in django projects without Celery, and what's new in Celery 3.0</a></li>
<li><a href="../158963/index.html">Eliminating the artifacts of compression PVRTC textures</a></li>
<li><a href="../158965/index.html">Understanding MSP430 and Toilet Automation</a></li>
<li><a href="../158971/index.html">Scripting Techniques in Bash</a></li>
<li><a href="../158973/index.html">Good Practice on setting up a small local network based on Active Directory</a></li>
<li><a href="../158975/index.html">Introduction to Pedestrian Modeling</a></li>
<li><a href="../158977/index.html">The digest of interesting news and materials from the world of PHP over the past two weeks, ‚Ññ4 (03.11.2012 - 16.11.2012)</a></li>
<li><a href="../158979/index.html">Experiment with kanban board or how to do everything</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>