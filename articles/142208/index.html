<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Gigapixel panoramas of two capitals</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! We are a CityScanner company, known for shooting panoramas for Yandex.Maps in many cities. In addition, we solve other interesting problems rel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Gigapixel panoramas of two capitals</h1><div class="post__text post__text-html js-mediator-article">  Hello!  We are a CityScanner company, known for shooting panoramas for Yandex.Maps in many cities.  In addition, we solve other interesting problems related to panoramas - both for different clients and as our own projects.  You can learn more about what we do on our <a href="http://cityscanner.ru/">website</a> , and today we wanted to tell you about our two works: gigapixel panoramas of Moscow and Astana. <br><br> <a href="http://giga.cityscanner.ru/msk"><img src="https://habrastorage.org/storage2/9cf/491/f6d/9cf491f6d97c3090d7dc689bdec8a917.png"></a> <a href="http://giga.cityscanner.ru/astana1"><img src="https://habrastorage.org/storage2/8ee/84f/7ed/8ee84f7edd5b0cfc698530178ebbf935.png"></a> <a href="http://giga.cityscanner.ru/astana2"><img src="https://habrastorage.org/storage2/9c4/92a/557/9c492a557e610ec2d24865d16b81b85c.png"></a> <br>  <i>Click on the pictures above to see the panoramas.</i> <br><br><a name="habracut"></a><br><h4>  Technology </h4><br>  Gigapixel panorama is a photo panorama with a resolution of several billion pixels.  To achieve this resolution, many photographs are taken (several thousand) that are glued together into one large image.  Photos are made with a lens with a long focal length, and for sequential shooting, the most often used is a robotized panoramic head, which bypasses the shooting area in rows or columns. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We use Canon DSLRs and Sigma lenses (two lenses with a maximum EGF of 300mm and 500mm for different situations).  As a panoramic head - Gigapan Epic Pro (fully autonomous and automated head, convenient and reliable thing).  Fundamentally, the shooting process is as follows: the head with the camera is mounted on a tripod, the pitch and viewing angles are set to bypass, the overlap size of neighboring photos and time per frame, the camera is set up and shooting starts, which then takes place in automatic mode.  In practice, the task is complicated by several factors, for example, the autofocus mode: with fully automatic focus, you need to carefully monitor each frame, since  The lens regularly cannot focus on uniform objects without contrasting details (water, a house without windows, a roof).  This problem is solved by shooting with the focus set manually and fixed for each individual row (it can be assumed that all objects in the row are approximately equidistant from the point of shooting), however, this also requires care and accuracy.  There are also non-trivial moments related to the exposure mode (M or Av), changing lighting, etc. <br><br><img src="https://habrastorage.org/storage2/c3d/db4/6a2/c3ddb46a2a6cc11e91e426f182ed2b02.jpg"><br><br>  After all the pictures are taken (it usually takes several hours), they are glued together in one large panorama on a computer with fast disks and a large amount of RAM.  An assembly of a panorama can take from several hours to a day, while the total resolution of the panorama is much less than the total resolution of the original photos, since  in each photo, at least half of the pixels go to overlap with adjacent frames.  In addition, if the original photos are far from pixel sharpness (in situations where the lens resolution at the selected settings leaves much to be desired), we specifically reduce the resulting panorama resolution so that there is no soap at the maximum approximation. <br><br>  To view the image of such a large resolution, they usually use a viewer that can work with cutting a large picture into tiles for several levels of approximation - just as it happens with most online maps.  When viewing tiles load dynamically, depending on what area and with what approximation the user views.  We use krpano for this purpose, which we have long loved for the flexibility of customization, an excellent set of auxiliary tools and continuous development. <br><br>  Usually, the configuration of the roof of a skyscraper, from which the shooting is carried out, does not allow to choose a point that gives an overview of all 360 degrees.  Therefore, we remove parts of the panorama from 2-3 different points, which is why they cannot be glued together into a single circular panorama.  In this case, we merge the parts into a single whole with the help of arrows that lead to the next view (arrows appear when reviewing the panorama edge). <br><br><h4>  Moscow </h4><br>  In Moscow, we were not very lucky with the weather, but time was running out, so we decided to shoot in the conditions that were.  Due to the variable cloudiness in some panoramas, the lighting was not entirely uniform, but on the whole, the weather did not interfere too much, only haze significantly limited the viewing range.  We really hope that this is not the last time we shot Moscow! <br><br>  The shooting was carried out from two points - the tower of the Federation East and the LCD Triumph Palace in the summer of 2011. <br><br>  At the Federation Tower, we conducted surveys from the crane site installed on the roof of the building (66 floors built).  We managed to remove two partial panoramas: one towards east (about 60 degrees horizontally), and another one from the north (about 160 degrees).  This configuration was due to the relative position of the skyscrapers in Moscow-City - the neighboring skyscrapers covered most of the circular view.  In total, about 3700 photos were taken, the total resolution of the glued panoramas is 10 gigapixels. <br><br><img src="https://habrastorage.org/storage2/a04/9b1/2a5/a049b12a549b7a2a9e1229215b6232af.jpg"><br>  <i>View of the Federation Tower from Triumph Palace.</i>  <i>The arrow indicates the location</i> <br><br>  I would like to specifically thank the PR service of Nazvanie.Net (now known as Potok8), who gladly met us, provided an opportunity for filming from a crane of a building under construction and provided assistance in organizing. <br><br>  The second point is the highest accessible observation deck of the LCD "Triumph Palace" (about 200m).  The view from it is excellent, so we shot two 180-degree panoramas from different sides of the site.  A total of 5200 photos, the total resolution of panoramas is 12 gigapixels. <br><br>  Please note that when viewing <a href="http://giga.cityscanner.ru/msk">Moscow panoramas, the</a> URL in the address bar is updated when you change the viewing direction and approximation, so you can use it to show someone something interesting in the panorama. <br><br><h4>  Astana </h4><br>  We shot the panoramas of Astana at the request of the Akimat of Astana, thanks to which we received all possible assistance from the staff of the Akimat during the surveys, for which they also would like to express appreciation. <br><br>  In Astana, we conducted surveys in the spring of 2011, in the new part of the city, the gigapixel panorama was taken from the roof of the residential complex ‚ÄúNorthern Lights‚Äù (44 floors), and in the old part, the surveys were conducted from the LCD ‚ÄúSeventh Continent‚Äù (22 floors) and LCD ‚ÄúCapital‚Äù (30 floors). <br><br><img src="https://habrastorage.org/storage2/400/6e5/a50/4006e5a50dcdbe019505a61d7613e901.jpg"><br><br>  During the shooting from ‚ÄúNorthern Lights‚Äù, the weather was perfect, there was almost no haze, which resulted in one of our best gigapixel panoramas.  The total viewing angle is 360 degrees, a total of about 2,700 photos were taken, the resolution of the three parts of the panorama was about 14 gigapixels.  From <a href="http://giga.cityscanner.ru/astana1">this panorama</a> almost all the sights of which modern Astana is proud are visible: the residence of the President of the Republic of Kazakhstan, the Bai-Terek monument, the Nur Astana mosque, the Khan Shatyr shopping center. <br><br><img src="https://habrastorage.org/storage2/70f/f2b/14c/70ff2b14cd36657cc91aa45391f43507.jpg"><br><br>  We removed the <a href="http://giga.cityscanner.ru/astana2">old part of the city</a> in two steps from different buildings in order to achieve a circular view without overlappings by neighboring high-rise buildings.  During the shooting with the LCD ‚ÄúCapital‚Äù, the weather slightly deteriorated, which, however, did not prevent us from taking a high-quality panorama (only in the sky there are traces of very variable clouds).  In total here we took about 2550 photos, the total resolution of the three parts of the panorama is about 9 gigapixels. <br><br>  Hope you enjoyed our panoramas!  I think that this year we will be able to please you with new shots from skyscrapers.  If there are any questions - we will try to answer them in the comments. </div><p>Source: <a href="https://habr.com/ru/post/142208/">https://habr.com/ru/post/142208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142202/index.html">SEGA strangled remake of the game "Streets of Rage"</a></li>
<li><a href="../142203/index.html">Why fun to be more profitable than smart: EQ research in the IT environment</a></li>
<li><a href="../142204/index.html">WinPhone DevHub - a mobile application that should be at hand with every WP7 developer</a></li>
<li><a href="../142206/index.html">codestre.am - terminal stream recording</a></li>
<li><a href="../142207/index.html">Should you use .Net for your startup?</a></li>
<li><a href="../142209/index.html">Moody's lowered Nokia‚Äôs status to ‚Äúhigh-risk investment‚Äù</a></li>
<li><a href="../142210/index.html">Gearman - Queue Server: Use in PHP Projects</a></li>
<li><a href="../142211/index.html">Minesweeper on DCPU-16</a></li>
<li><a href="../142212/index.html">Using Grab: Spider for parsing sites</a></li>
<li><a href="../142213/index.html">Open Source Photo Realism on GPU: Cycles Render</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>