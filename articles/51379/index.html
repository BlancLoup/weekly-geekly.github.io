<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTTP headers - is it a lot of garbage?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="HTTP protocol is the main data transfer protocol in the world wide web (www). 
 It was developed for a long time by the standards of the IT industry, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTTP headers - is it a lot of garbage?</h1><div class="post__text post__text-html js-mediator-article">  HTTP protocol is the main data transfer protocol in the world wide web (www). <br>  It was developed for a long time by the standards of the IT industry, the specification of version 1.0 was published in 1996, and the current version 1.1 - in 1999 ( <a href="http://tools.ietf.org/html/rfc2616">RFC 2616</a> ). <br><br>  The total amount of daily http traffic is incalculable.  I see a problem in that most of the data transferred is HTTP headers, mostly unnecessary. <br>  Some may say that this is not so important in our century of high speeds and unlimited tariffs, and will be partly right.  But there are other considerations. <br><br><a name="habracut"></a><br><h4>  What browsers send </h4><br>  Consider, for example, yandex.ru. <br>  When you first load the main page, the browser loads 19 resources via the HTTP protocol, with a total amount of 44Kb (add more headings to this, depending on the browser).  It can be said, Yandex engineers did a good job on optimizing the load.  But, according to approximate calculations, 10% (about 4-5Kb) of information in the headers are superfluous. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It would seem that 10% are insignificant, but you can look at it from different sides. <br>  On the part of the user, the page load speeds up by 10% (hello to the regions on the dialup) <br>  On the part of the site owner, it is possible to reduce traffic by 10%, which also means the ability to serve 10% more users or, if we consider a cluster system, buy 9 servers instead of 10. <br>  And in relation to web developers, it turns out to be ugly at all - press png down to the smallest possible size of (for example) 250 bytes, and you get as many more trailers in the headers. <br><br>  Below are the headlines sent by modern browsers (for example, took the title page yandex.ru).  Even lower are further thoughts on this. <br><br>  <b>Firefox 3.0</b> <br><blockquote>  GET / HTTP / 1.1 <br>  Host: yandex.ru <br>  User-Agent: Mozilla / 5.0 (Windows; U; Windows NT 5.1; ru; rv: 1.9.0.6) Gecko / 2009011913 Firefox / 3.0.6 <br>  Accept: text / html, application / xhtml + xml, application / xml; q = 0.9, * / *; q = 0.8 <br>  Accept-Language: ru, en-us; q = 0.7, en; q = 0.3 <br>  Accept-Encoding: gzip, deflate <br>  Accept-Charset: windows-1251, utf-8; q = 0.7, *; q = 0.7 <br>  Keep-Alive: 300 <br>  Connection: keep-alive <br></blockquote><br><br>  <b>IE7</b> <br><blockquote>  GET / HTTP / 1.1 <br>  Accept: image / gif, image / x-xbitmap, image / jpeg, image / pjpeg, application / x-shockwave-flash, application / xaml + xml, application / vnd.ms-xpsdocument, application / x-ms-xbap, application / x-ms-application, * / * <br>  Accept-Language: ru <br>  UA-CPU: x86 <br>  Accept-Encoding: gzip, deflate <br>  User-Agent: Mozilla / 4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30) <br>  Host: yandex.ru <br>  Connection: Keep-Alive <br></blockquote><br><br>  <b>Safari 3.1</b> <br><blockquote>  GET / HTTP / 1.1 <br>  User-Agent: Mozilla / 5.0 (Windows; U; Windows NT 5.1; en-RU) AppleWebKit / 525.19 (KHTML, like Gecko) Version / 3.1.2 Safari / 525.21 <br>  Accept-Encoding: gzip, deflate <br>  Accept: text / xml, application / xml, application / xhtml + xml, text / html; q = 0.9, text / plain; q = 0.8, image / png, * / *; q = 0.5 <br>  Accept-Language: en-RU <br>  Connection: keep-alive <br>  Host: yandex.ru <br></blockquote><br><br>  <b>Opera 9</b> <br><blockquote>  GET / HTTP / 1.1 <br>  User-Agent: Opera / 9.63 (Windows NT 5.1; U; en) Presto / 2.1.1 <br>  Host: yandex.ru <br>  Accept: text / html, application / xml; q = 0.9, application / xhtml + xml, image / png, image / jpeg, image / gif, image / x-xbitmap, * / *; q = 0.1 <br>  Accept-Language: ru-RU, ru; q = 0.9, en; q = 0.8 <br>  Accept-Charset: iso-8859-1, utf-8, utf-16, *; q = 0.1 <br>  Accept-Encoding: deflate, gzip, x-gzip, identity, *; q = 0 <br>  Cache-Control: no-cache <br>  Connection: Keep-Alive, TE <br>  TE: deflate, gzip, chunked, identity, trailers <br></blockquote><br><br>  <b>Chrome</b> <br><blockquote>  GET / HTTP / 1.1 <br>  User-Agent: Mozilla / 5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit / 525.19 (KHTML, like Gecko) Chrome / 1.0.154.48 Safari / 525.19 <br>  Accept: text / xml, application / xml, application / xhtml + xml, text / html; q = 0.9, text / plain; q = 0.8, image / png, * / *; q = 0.5 <br>  Accept-Encoding: gzip, deflate, bzip2, sdch <br>  Accept-Language: en-US, ru, en-US, en <br>  Accept-Charset: windows-1251, *, utf-8 <br>  Host: yandex.ru <br>  Connection: Keep-Alive <br></blockquote><br><br>  This is approximately what our browsers send when loading each resource (html pages, javascript, css, images).  Add to this another cookie (cookie), which are often present. <br>  Because  HTTP protocol has no state (stateless protocol), then the headers have to be repeated with each request. <br><br>  With all this, the minimum "valid" HTTP / 1.1 request is as follows: <br><blockquote>  GET / HTTP / 1.1 <br>  Host: yandex.ru <br>  Accept: * / * <br>  Accept-Encoding: gzip, deflate <br>  Connection: keep-alive <br></blockquote><br><br>  HTTP request / 1.0 and even less: <br><blockquote>  GET / HTTP / 1.0 <br></blockquote><br>  but to use it is impractical, because  compression, proxy, etc. are not supported. <br><br><h4>  Detailed header analysis </h4><br>  <b>User-Agent</b> - historically always present and theoretically allows you to determine the type of browser.  But for some reason, instead of the string ‚Äú <i>MSIE 7.0.5730.13</i> ‚Äù, the browser sends an incredibly long string with data that no one, in principle, uses. <br><br>  <b>Accept</b> is an unnecessary header.  Specify at least a dozen sites that filter incoming requests for this parameter (I do not even know where it might be useful).  The idea is to serve as a pointer to the server, what types of files can the browser handle.  Practically, it is always transmitted ‚Äú <i>* / *</i> ‚Äù, which means that the browser is ready to accept any files, which makes the header meaningless. <br><br>  <b>Accept-Language</b> - it makes sense to transfer to specify the default language for multilingual sites.  In practice, this value is extremely rarely used by sites, and even giants like google use geolocation (geoIP) to determine the display language. <br><br>  <b>Accept-Charset</b> - also practically not used.  In reality, browsers accept any charset, even those that are not in the list. <br><br><h4>  Conclusion </h4><br>  It would be great if the browser developers excluded unnecessary headers from the http requests sent so as not to increase the entropy of the Internet beyond what was needed. <br>  I think harsh supervisors will prevent such liberties. <br><br>  The web developer has one way out - optimize.  Without this, the results can be deplorable (uploading 50 small pictures when loading a page gives a noticeable delay).  You can learn more about optimization methods, for example, on <a href="http://webo.in/">webo.in</a> <br><br>  By the way, the information provided in this article may be useful to the developer of web parsers (robots, crawlers), indistinguishable from a real browser.  I advise you to honestly send ‚Äú <i>User-Agent: crawler</i> ‚Äù, but sometimes you need to send a request that is identical to the real one. </div><p>Source: <a href="https://habr.com/ru/post/51379/">https://habr.com/ru/post/51379/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../51366/index.html">ExtJs are increasingly used in the creation of CMS</a></li>
<li><a href="../51368/index.html">Automate writing ajax form handlers</a></li>
<li><a href="../51372/index.html">Unsupervised learning or ‚Äúgo there, I don‚Äôt know where, find it, I don‚Äôt know what‚Äù</a></li>
<li><a href="../51375/index.html">Interesting coincidences. Part Three: Aunt Asya arrived :)</a></li>
<li><a href="../51377/index.html">Google Web Toolkit released - GWT 1.6 M1</a></li>
<li><a href="../51384/index.html">Corporate CMS on .NET - what are the options?</a></li>
<li><a href="../51388/index.html">Access Ruby 1.9 documentation from OS X Dictionary and Spotlight</a></li>
<li><a href="../51389/index.html">Twitter, what's next?</a></li>
<li><a href="../51390/index.html">The Beginning of a Scientific Career (Part 5)</a></li>
<li><a href="../51394/index.html">Resolution is more than 1024 * 768 on eeePC in Ubuntu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>