<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Graphics Optimization for Retina Screens</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After the recent release of the Retina MacBook Pro and The new iPad, screens with increased pixel density began to actively enter our lives. What does...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Graphics Optimization for Retina Screens</h1><div class="post__text post__text-html js-mediator-article">  After the recent release of the Retina MacBook Pro and The new iPad, screens with increased pixel density began to actively enter our lives.  What does this mean for web developers? <br><br>  First, let's look at the terminology. <br><br><h2>  Physical pixels </h2><br><img src="https://habrastorage.org/storage2/9f8/ec5/8f2/9f8ec58f21aa59e7acfb829c0ee73f27.png"><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Physical pixels</strong> (device pixel or physical pixel) are familiar pixels: the smallest elements of any display, each of which has its own color and brightness. <br><br>  Screen density is the number of physical pixels of the display.  Usually measured in pixels per inch (PPI: pixels per inch).  Apple, having developed dual pixel density Retina screens, argues that the human eye is not able to distinguish between greater density. <br><h2>  CSS pixels </h2><br><img src="https://habrastorage.org/storage2/cec/c28/a88/cecc28a88c13a04b8dd3a752f89fcd3c.png"><br><br>  <strong>CSS pixels</strong> (CSS pixels) - an abstract value used by browsers to accurately display content on pages, regardless of screen (DIPs: device-independent pixels).  Example: <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"300"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Such a block on conventional screens will occupy an area of ‚Äã‚Äã200x300 pixels, and on Retina-screens the same block will receive 400x600 pixels. Thus, on Retina-screens, the pixel density is 4 times greater than on conventional ones: <br><img src="https://habrastorage.org/storage2/613/876/096/61387609681df49112c1ed2d51944439.png"><br><br>  The ratio between physical and CSS pixels can be set as follows: <br><pre> <code class="css hljs"> <span class="hljs-selector-tag"><span class="hljs-selector-tag">device-pixel-ratio</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">-o-device-pixel-ratio</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">-moz-device-pixel-ratio</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">-Webkit-device-pixel-ratio</span></span> { ‚Ä¶ }</code> </pre><br><br>  Or so: <br><pre> <code class="css hljs"> <span class="hljs-selector-tag"><span class="hljs-selector-tag">device-pixel-ratio</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">-o-min-device-pixel-ratio</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">min--moz-device-pixel-ratio</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">-Webkit-min-device-pixel-ratio</span></span> { ‚Ä¶ }</code> </pre><br><br>  In javascript this can be achieved using <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.devicePixelRatio</code> </pre><br><br><h2>  Raster pixels </h2><br><img src="https://habrastorage.org/storage2/40a/688/b3f/40a688b3fed0475120346979c7d31967.png"><br>  <strong>Bitmap pixels</strong> - the smallest parts that make up the bitmap image (PNG, JPF, GIF, etc.) Each pixel contains information about the color and location in the image coordinate system.  In some formats, a pixel may contain additional information, such as transparency. <br><br>  In addition to raster resolution, images on the Internet have abstract dimensions in CSS pixels.  The browser compresses or stretches the image in accordance with its CSS width and length.  When displayed on a regular screen, one raster pixel corresponds to one CSS pixel.  On Retina screens, each raster pixel is multiplied 4 times: <br><img src="https://habrastorage.org/storage2/880/802/7dc/8808027dc96bf374d9b51b62f94cf6a0.png"><br><br><h2>  Optimization </h2><br>  There are several ways to optimize graphics for displaying on Retina screens.  Each has both advantages and disadvantages. It is necessary in each particular case to choose which has a higher priority: performance, ease of implementation, browser support, or some other parameters. <br><br><h2>  HTML and CSS scaling </h2><br>  The easiest way to prepare graphics for the Retina display is to simply divide the physical dimensions of the image in half.  For example, to show a photo of 200x300 pixels on a screen with increased pixel density, you need to upload a photo of 400x600 pixels and reduce it using CSS attributes or HTML parameters.  This will display on a normal screen: <br><img src="https://habrastorage.org/storage2/b7b/5eb/c5c/b7b5ebc5cd600dac61a0a729f534a0f8.png"><br><br>  And so on Retina: <br><img src="https://habrastorage.org/storage2/2a3/786/ab2/2a3786ab29f0e59babbbaa0a3f37ecc8.png"><br><br>  There are several ways to implement HTML and CSS scaling: <br><br><h3>  HTML </h3><br>  The easiest way is to simply set the width and height parameters to the img tag: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example@2x.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"300"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br>  <strong>Where to use:</strong> on single-page sites with multiple images. <br><br><h3>  Javascript </h3><br>  The same result can be achieved using Javascript in order to halve the size of images for Retina screens.  Using the jQuery library, it looks like this: <br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>).load(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> images = $(<span class="hljs-string"><span class="hljs-string">'img'</span></span>); images.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).width($(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).width() / <span class="hljs-number"><span class="hljs-number">2</span></span>); }); });</code> </pre><br><br>  <strong>Where to use:</strong> on sites with multiple images in the content. <br><br><h3>  CSS (SCSS) </h3><br>  You can also use an image as a background with the necessary dimensions (background-size) of a particular div.  The background-size parameter is not supported in IE 7 and 8. <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.image</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example@2x.png); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span> <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* Alternatively background-size: contain; */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span>; }</code> </pre><br><br>  You can use the pseudo-elements: before or: after <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.image-container</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example@2x.png); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span> <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>:<span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span>; }</code> </pre><br><br>  The technique works when using sprites: <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example@2x.png); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span> <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">25px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">25px</span></span>; &amp;.trash { <span class="hljs-attribute"><span class="hljs-attribute">background-position</span></span>: <span class="hljs-number"><span class="hljs-number">25px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } &amp;<span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-position</span></span>: <span class="hljs-number"><span class="hljs-number">25px</span></span> <span class="hljs-number"><span class="hljs-number">25px</span></span>; } }</code> </pre><br><br>  <strong>Where to use:</strong> on sites with a limited number of background images (for example, one as a sprite). <br><br><h3>  HTML and CSS scaling: pros </h3><br><ul><li>  Ease of implementation </li><li>  Cross-browser compatibility </li></ul><br><br><h3>  HTML and CSS scaling: cons </h3><br><ul><li>  Devices with regular screens will download extra megabytes </li><li>  On conventional screens, image clarity may suffer due to compression algorithms. </li><li>  The background-size parameter is not supported in IE 7 and 8. </li></ul><br><br><h2>  Determination of screen pixel density </h2><br><img src="https://habrastorage.org/storage2/b63/226/503/b632265037d6bf9eef5377210788c4eb.png"><br>  Perhaps this is the most popular way to optimize graphics for Retina displays.  Used CSS or Javascript. <br><br><h3>  CSS </h3><br>  This method uses device-pixel-ratio to set the desired ratio between physical and CSS pixels: <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example.png); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span> <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span>; } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and (-Webkit-min-device-pixel-ratio: <span class="hljs-number"><span class="hljs-number">1.5</span></span>), only screen and (-moz-min-device-pixel-ratio: <span class="hljs-number"><span class="hljs-number">1.5</span></span>), only screen and (-o-min-device-pixel-ratio: <span class="hljs-number"><span class="hljs-number">3</span></span>/<span class="hljs-number"><span class="hljs-number">2</span></span>), only screen and (min-device-pixel-ratio: <span class="hljs-number"><span class="hljs-number">1.5</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example@2x.png); } }</code> </pre><br><br>  <strong>Where to use:</strong> on websites or in applications that use background-image for design elements.  Not suitable for images inside content. <br><br><h3>  pros </h3><br><ul><li>  Devices do not download extra images </li><li>  Cross-browser compatibility </li><li>  Control pixel density on the site </li></ul><br><br><h3>  Minuses </h3><br><ul><li>  Tedious to implement, especially on large sites </li><li>  Using image content as a background is semantically incorrect. </li></ul><br><br><h3>  Javascript </h3><br>  The same result can be achieved using window.devicePixelRatio: <br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.devicePixelRatio &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lowresImages = $(<span class="hljs-string"><span class="hljs-string">'img'</span></span>); images.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lowres = $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'src'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> highres = lowres.replace(<span class="hljs-string"><span class="hljs-string">"."</span></span>, <span class="hljs-string"><span class="hljs-string">"@2x."</span></span>); $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'src'</span></span>, highres); }); } });</code> </pre><br><br>  There is a special Javascript plugin <a href="http://retinajs.com/">Retina.js</a> , which can do all of the above, but with additional features, such as skipping external images and skipping internal, but not having retina copies. <br><br>  <strong>Where to use:</strong> on any sites with images in the content. <br><br><h3>  pros </h3><br><ul><li>  Ease of implementation </li><li>  Devices do not download extra images </li><li>  Control pixel density on the site </li></ul><br><br><h3>  Minuses </h3><br><ul><li>  Retina devices download both versions of each image. </li><li>  Image substitution is noticeable on retina devices </li><li>  Does not work in some popular browsers (IE and Firefox) </li></ul><br><br><h2>  Scalable vector graphics </h2><br><img src="http://koulikov.com/wp-content/uploads/2012/08/svg1.png" title="svg1" width="500" height="286"><br>  Regardless of the method used, raster images by their nature remain limited in scaling.  Here we can help vector graphics.  The SVG (Scalable Vector Graphics) XML-based format is supported by most browsers.  The easiest way to use SVG images is in the img tag or with the background-image and content: url () CSS parameters. <br><br>  In this example, a simple SVG image can be scaled as desired: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"300"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br>  The same thing happens with CSS: <br><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.image</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example.svg); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span> <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/*  content:url() */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.image-container</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example.svg); <span class="hljs-comment"><span class="hljs-comment">/* width and height do not work with content:url() */</span></span> }</code> </pre><br><br>  Support for IE 7 or 8 and Android 2.x will require the use of replacement PNG images.  This can be easily done using <a href="http://modernizr.com/docs/">Modernizr</a> : <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.image</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example.png); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span> <span class="hljs-number"><span class="hljs-number">300px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.svg</span></span> { .image { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example.svg); } }</code> </pre><br><br>  For better cross-browser compatibility, to avoid <a href="http://dbushell.com/2012/03/11/svg-all-fun-and-games/">rasterization problems</a> in Firefox and Opera, you should make each SVG image corresponding to its parent HTML element. <br><br>  In HTML, you can implement the same using the desired data in the a tag: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-png-fallback</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example.png"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br>  Using jQuery and Modernizr: <br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!Modernizr.svg) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> images = $(<span class="hljs-string"><span class="hljs-string">'img[data-png-fallback]'</span></span>); images.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'src'</span></span>, $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).data(<span class="hljs-string"><span class="hljs-string">'png-fallback'</span></span>)); }); } });</code> </pre><br><br>  <strong>Where to use:</strong> on any sites, suitable for icons, logos and simple vector illustrations. <br><br><h3>  pros </h3><br><ul><li>  A single set of images for all devices </li><li>  Ease of implementation </li><li>  Infinite scaling </li></ul><br><br><h3>  Minuses </h3><br><ul><li>  No exact pixel anti-aliasing </li><li>  Not suitable for complex graphics due to large file sizes. </li><li>  No built-in support in IE 7, 8 and in earlier versions of Android </li></ul><br><br><h2>  Icon Fonts </h2><br><img src="https://habrastorage.org/storage2/776/d6d/711/776d6d71163b43c4d907c42b824ec61e.png"><br>  Popular with <a href="http://twitter.github.com/bootstrap/">Twitter, the Botstrap</a> method is to replace the letters in the font with the desired characters and then display them on the page using CSS.  There are many icon fonts with symbols for every taste, but you can also create your own using <a href="http://fontello.com/">Fontello</a> , <a href="https://github.com/fontello/font-builder">Font Builder</a> or even <a href="http://www.webdesignerdepot.com/2012/01/how-to-make-your-own-icon-Webfont/">Inkscape</a> . <br><br>  The most common way to use icon fonts is to apply the desired class to a specific page element: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"icon"</span></span></span><span class="hljs-tag">&gt;</span></span>a<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  And in the styles indicated the desired font: <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: <span class="hljs-string"><span class="hljs-string">'My Icon Font'</span></span>; }</code> </pre><br><br>  You can also use the: before pseudo-element and the content parameter with a unique class for each icon: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"glyph-heart"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[class^="glyph-"]</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: <span class="hljs-string"><span class="hljs-string">'My Icon Font'</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.glyph-heart</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">'h'</span></span>; }</code> </pre><br><br>  <strong>Where to use:</strong> on sites with a large number of icons and for rapid prototyping. <br><br><h3>  pros </h3><br><ul><li>  Infinite scaling </li><li>  Cross-browser compatibility </li><li>  A more versatile solution than a set of graphic elements. </li></ul><br><br><h3>  Minuses </h3><br><ul><li>  No exact pixel anti-aliasing </li><li>  The complexity of implementation: a separate font character for each icon </li><li>  The method is based on semantically incorrect markup. </li></ul><br><br><h2>  Favicon </h2><br>  Favicon's are increasingly being used outside the browser as a graphical representation of a site or application.  To optimize a favicon for Retina devices, you need to prepare .ico in two sizes: 16x16 and 32x32 pixels. <br><br><h2>  A look into the future </h2><br>  There is a special Apple-Webkit-image-set, <a href="http://trac.webkit.org/changeset/111637">introduced in the spring</a> , which allows you to use several variants of a single image in CSS: <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.image</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">-Webkit-image-set</span></span>(url(example.png) <span class="hljs-number"><span class="hljs-number">1</span></span>x, <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(example@2x.png) <span class="hljs-number"><span class="hljs-number">2</span></span>x); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span> <span class="hljs-number"><span class="hljs-number">300px</span></span>; }</code> </pre><br><br>  But this method does not apply to images inside the img tag. <br><br>  Another tool is <a href="https://github.com/scottjehl/picturefill">Picturefill</a> by Scott Jehl.  This is an HTML and Javascript solution: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example.png"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example@2x.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-media</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"(min-device-pixel-ratio: 1.5)"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Fallback content for non-JS browsers --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">noscript</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example.png"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">noscript</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Despite this markup, this is quite a normal cross-browser solution. <br><br>  Another ambitious proposal is the use <a href="http://www.w3.org/community/respimg/wiki/Picture_Element_Proposal">of the picture element</a> , which allows you to use several adaptive images that replace each other depending on the size and pixel density of the screen. <br><br><h2>  Conclusion </h2><br>  Like many other big changes in web design, the search for a universal solution for images on Retina-based devices will be a long one.  You can sit and wait for it, and you can now make sites that are nice to visit from any device. </div><p>Source: <a href="https://habr.com/ru/post/150071/">https://habr.com/ru/post/150071/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150065/index.html">23 reasons not to believe in bullshit about working in large companies</a></li>
<li><a href="../150066/index.html">Major Steam Community Update</a></li>
<li><a href="../150067/index.html">Homomorphic DIY Encryption</a></li>
<li><a href="../150068/index.html">Path with direction signs on a map using Yandex Map Kit for Android</a></li>
<li><a href="../150069/index.html">On the RAII idiom and locks</a></li>
<li><a href="../150075/index.html">Interlocks in InnoDB (cheat sheet)</a></li>
<li><a href="../150076/index.html">After 3000 years, all people will have a common ancestor living today.</a></li>
<li><a href="../150080/index.html">Radio-86RK on Maximite hardware</a></li>
<li><a href="../150081/index.html">Oracle shell call alternative method</a></li>
<li><a href="../150082/index.html">Do you use bitcoin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>