<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smart Wi-Fi outlet: from idea to design and launch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, friends. 

 We are developing in the field of IoT solutions, produce innovative products, constantly monitor the global and Russian IoT mark...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smart Wi-Fi outlet: from idea to design and launch</h1><div class="post__text post__text-html js-mediator-article"> Good day, friends. <br><br>  We are developing in the field of IoT solutions, produce innovative products, constantly monitor the global and Russian IoT markets, monitor the latest trends and developments. <br><br>  We already wrote in a previous article about how the <a href="https://geektimes.ru/company/rubetek/blog/292657/">Control Center was created</a> - the brain of our smart home.  In this article we want to tell you about one of our latest developments - a <b>smart Wi-Fi outlet</b> , gradually examining the stages of creation: from idea to development and launch. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We have long followed the development of similar devices from our competitors, looked at the reports and the demand for smart sockets and decided to introduce such a product in our product portfolio.  For us it was important to create a product that consumers really want to use.  A simple, intuitive and convenient device that makes life easier for people: not to worry anymore on the way to the airport and not to think about the iron left turned on, so as not to think what electricity bill will be, because they left the heated floor in the country house.  And of course, they wanted to make the product better than the competition. <br><a name="habracut"></a><br>  Studying the market of ‚Äúsmart sockets‚Äù and consumer needs has helped us to determine the necessary set of functions of the device being developed.  At the initial stage, the Rubetek smart socket was supposed to be a compact module that is connected to the C / E / F electrical outlets. <br><img src="https://habrastorage.org/webt/59/e8/87/59e8874137e90078386794.jpeg" alt="image"><br>  Socket control was assumed using the Rubetek Control Center, using the Z-Wave protocol. <br><br>  As the main functions of the device, our R &amp; D department determined the possibility of local and remote control of the electrical load connected to the outlet and the measurement of the electrical network and load parameters (current, voltage and active power).  To do this, we installed a special processor with a network parameter meter STPM32. <br><br>  Outlet Options: <br><br>  Network voltage up to 230 V. <br><br>  The switched current is up to 11 A with a resistive load (cos œÜ = 1) and up to 5.5 A with an inductive load (cos œÜ = 0.4). <br><br>  Power consumption is up to 2.5 kW with a resistive load (cos œÜ = 1) and up to 1.3 kW with an inductive load (cos œÜ = 0.4). <br><br>  Of course, during the development process, after long discussions, many initial ideas had to be abandoned.  The Z-Wave module was eventually replaced by a Wi-Fi module.  Despite all the advantages of the Z-Wave module, for example, low power consumption, it did not allow the device to connect directly to a smartphone or router.  The purchase of the Rubetek Control Center was obligatory for the use of the socket.  The Wi-Fi module solved this issue, but it required a more powerful power source. <br><br>  Replacing the Z-wave with Wi-Fi made it possible to make the outlet more autonomous and, thus, more comfortable and accessible to the user.  The Rubetek smart socket was able to connect to the smartphone and the Internet without using any hubs, it was enough to have a Wi-Fi router that is now in almost every apartment.  It turns out that the user pays only for the outlet, no additional devices are needed. <br><br>  We paid no less attention to the design and dimensions of the device. <br><br>  The primary task was to create the most functional and compact device.  We wanted the Rubetek Wi-Fi socket to be one of the smallest among Schuko standards (a system of power plugs and sockets for alternating current, officially defined as Type F). <br><br>  As a result, we have created one of the smallest outlets of the European type, the dimensions of the device are only: 53 x 68 mm. <br><br>  We made our board multi-level to significantly reduce its size. <br><br><img src="https://habrastorage.org/webt/59/e8/88/59e888a236e17594627581.jpeg" alt="image"><br><br><img src="https://habrastorage.org/webt/59/e8/88/59e888a236c3d088537129.jpeg" alt="image"><br><br>  The material from which the smart socket is made - heat-resistant plastic. <br><br><img src="https://habrastorage.org/webt/59/e8/89/59e88945e5252722434258.jpeg" alt="image"><br><br>  The question remained - how to display the current load level of the connected devices directly on the outlet? <br><br>  We came up with an LED bezel that would change color depending on the load.  In the off state, the display color is white.  Further, the colors smoothly change depending on the connected load.  For smart sockets provided the possibility of dimming the backlight. <br><br><img src="https://habrastorage.org/webt/59/e8/89/59e889789129a955291221.jpeg" alt="image"><br><br><img src="https://habrastorage.org/webt/59/e8/8b/59e88b6fadc36084660992.jpeg" alt="image"><br><br><img src="https://habrastorage.org/webt/59/e8/8b/59e88b6fd56fc879352579.jpeg" alt="image"><br><br><img src="https://habrastorage.org/webt/59/e8/8a/59e88ac77d71f884847629.jpeg" alt="image"><br><br>  After overcoming the threshold of 2500 W, the LED starts to flash red. <br><br>  <b>Rosette - the center of the smart home</b> <br><br>  We have built in the design of the RF-receiver (433 MHz), it allowed us to significantly expand the functionality.  It became possible to connect up to 100 RF devices to the device simultaneously.  When triggered sensors will be notified in the mobile application.  Also, by triggering the sensor, you can turn on, turn off the device or change its state. <br><br><img src="https://habrastorage.org/webt/59/e8/89/59e889d60505f258017370.jpeg" alt="image"><br><br>  The following Rubetek sensors can be connected to a smart Wi-Fi outlet: <br><br>  ‚óè smoke detector <br>  ‚óè motion sensor <br>  ‚óè gas leak sensor <br>  ‚óè opening sensor <br>  ‚óè leakage sensor <br><br>  Connection with wireless sensors of the Wireless RF WiFi series is established by the device using EV1527 communication protocols with a learning code. <br><br>  The range of the sensors reaches hundreds of meters. <br><br>  In fact, we have turned a compact outlet into a real center of a smart home.  The consumer can buy an outlet and, for example, a sensor for opening, movement and smoke.  It turns out that by paying 5 thousand rubles a little, the consumer receives a security complex - he can control the light and electrical appliances remotely, receives notifications when opening doors and windows, smoke and traffic. <br><br>  <b>Let's talk about the features of our outlet.</b> <br><br>  <b>1. Integration with Apple Homekit</b> <br><br>  One of the features widely used in the operation of our devices is compatibility with the Apple Homekit. <br><br>  Apple Homekit is a platform that allows you to control smart devices with voice from the ‚ÄúHome‚Äù application on iOS.  It is necessary to connect the socket, set up its work in the application and ask Siri, for example: ‚ÄúSiri, turn on the floor lamp in the bedroom.‚Äù And voila, the light turned on, the command was given quickly and simply, without even touching the smartphone. <br><br>  How does this happen? <br><br>  In addition, our developers are in the test mode preparing the integration of a smart outlet with Amazon Alexa. <br><br>  <b>2. Ability to create scripts</b> <br><br>  Smart socket allows you to set scenarios between the connected sensors, as well as adjust the operation of the device over time.  For example, when the opening sensor worked - a floor lamp or other device connected to the socket is turned on.  You can set up to ten on timers and up to ten off timers simultaneously.  Timers are implemented on the device itself and operate independently of the connection to the Wi-Fi network and the Internet. <br><br>  All Rubetek Wi-Fi devices can communicate with each other while connected to the same local area network.  They can be combined to create different scenarios of device operation. <br>  For example: <br><br>  ‚óè device status (on / off) <br>  As an example: turn on the light when the roller shutters are closed. <br><br>  ‚óè measured parameters (current, voltage, power) <br>  As an example: send a notification if the device in the outlet consumes more than 2500W for 2 hours. <br><br>  ‚óè triggering connected RF sensors. <br>  As an example with the participation of the sensor: if there is movement in the room, the socket turns on, and with it the floor lamp connected to it lights up. <br><br>  When setting up device operation scenarios, you can use RF sensors that are connected to other Rubetek Wi-Fi devices, thereby significantly increasing the radio reception area from the sensors. <br><br>  <b>3. Statistics and energy consumption in rubles</b> <br><br>  Agree, the user is much more comfortable not to keep statistics on consumption himself, but to entrust this function to a smart device.  Our outlet can not only provide the owner with information about the energy consumption of each connected device, but also is capable of counting in rubles, in accordance with the utility tariffs of a particular house. <br><br>  <b>4. Upgrade firmware over the air (FOTA)</b> <br><br>  For smart Wi-Fi sockets available software update over the air.  To get the latest version of the software for the device, you do not need to carry it to a service center or connect to a PC, it‚Äôs enough that the socket is connected to a Wi-Fi network with Internet access. <br><br>  After a successful download of the firmware update, the device will be rebooted. <br><br>  <b>5. And how is security implemented?</b> <br><br>  Data security when communicating with the Rubetek server at the protocol level is ensured as follows. <br><br>  Connection to the server is established using TLS 1.2 secure protocol using two-way authorization.  Each device has its own client certificate, as well as a certificate from a certificate authority (CA).  In the process of connecting the device to the server, mutual authentication takes place: the device presents to the server certificates from the trust chain down to the client, certified by a signature, the server‚Äôs authenticity on the client side is verified using the certificate of the certification authority. <br><br>  In order to protect against device cloning, a unique MAC address is checked.  The local connection between the device and the smartphone / tablet is protected using standard WiFi encryption.  Traffic authentication is provided by digitally signing each message using a control key and a running session key.  At the same time, obtaining a control key is impossible without physical access to the device (obtaining a key is activated only by pressing a button on the device). <br><br>  <b>6. It's beautiful</b> <br><br>  Our outlet was not only one of the smallest in the world, but also the most beautiful.  Illumination of the LED rim is enough to use it as a nightlight, the socket is really very beautiful and looks spectacular in any interiors. <br><br><img src="https://habrastorage.org/webt/59/e8/8b/59e88bec16d5a828726885.jpeg" alt="image"><br><br>  A smart socket is only one of several devices in the Wi-Fi line of devices developed by our company.  The Control Module has already been on sale (it allows controlling air conditioners and convectors from a smartphone), other devices are also planned - we‚Äôre not going to stop on this. <br><br>  The price of a <a href="https://rubetek.com/umnaja-wi-fi-rozetka-re-3301">smart outlet</a> from Rubetek is only 2990 rubles, and you can get it, along with other smart devices, on our website in the ‚ÄúStore‚Äù section, or in the LeroyMerlin chain of stores. </div><p>Source: <a href="https://habr.com/ru/post/373915/">https://habr.com/ru/post/373915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../373905/index.html">Why not shout at your HDD</a></li>
<li><a href="../373907/index.html">AI instead of HR: HYIP or new recruiting opportunities?</a></li>
<li><a href="../373909/index.html">We analyze three water-proof readers: a different approach to protection and radically different results.</a></li>
<li><a href="../373911/index.html">Creating 3D Models with DJI and Agisoft Photoscan Drone</a></li>
<li><a href="../373913/index.html">Arduino! What's next? We make a bike computer</a></li>
<li><a href="../373917/index.html">Top 3D Shop invites video bloggers</a></li>
<li><a href="../373919/index.html">AlphaGo Zero's AI platform honed the skill of playing go without human intervention</a></li>
<li><a href="../373921/index.html">The power of known physical interactions</a></li>
<li><a href="../373923/index.html">Switch PRIMES and its leader Rob Roy</a></li>
<li><a href="../373925/index.html">What electric cars did Russians buy in 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>