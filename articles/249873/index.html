<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The technical side of Supl.biz</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. My name is Alexey Krasnoperov and I am the founder and technical director of the Supl.biz project - a trading platform for small and medium ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The technical side of Supl.biz</h1><div class="post__text post__text-html js-mediator-article">  Good day.  My name is Alexey Krasnoperov and I am the founder and technical director of the <a href="http://supl.biz/">Supl.biz</a> project - a trading platform for small and medium businesses.  I want to tell you how the project works from the inside. <br><br><h4>  General project architecture </h4><br><img src="https://habrastorage.org/files/0e0/f04/0e6/0e0f040e6da643f68893a45f3f5c1432.png" alt="The technical side of Supl.biz"><br><a name="habracut"></a><br><br>  The project is based on the popular Django and AngularJS frameworks.  Moreover, to add sharpness to the project, the frontend is implemented as a Single Page Application, python 3.4 is used on the server, and all the static is laid out in the CDN. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Oddly enough, this choice of technologies did not add problems when using the site.  To index the search engines used to generate pages on the server through PhantomJS.  As a result, both Google and Yandex perfectly index the project. <br><br>  PostgreSQL 9.4 is used as the main data storage.  Also, the data is uploaded to ElasticSearch for quick search and construction of statistical reports. <br><br>  A separate pool of Postfix servers is responsible for sending emails.  For the normal deliverability of letters, it was necessary to set up email domains: SPF / DKIM / PTR, as well as to correctly prepare the technical headers of letters.  As a result, it is possible to track the delivery status of each individual letter and clean the mailing from inactive users. <br><br>  Trigger mailing of messages based on user behavior is implemented using Mixpanel.  This allowed to increase the involvement of the audience, without wasting time on the development of complex functionality. <br><br>  Services <a href="http://postmaster.mail.ru/">Postmaster@mail.ru</a> and <a href="http://postoffice.yandex.ru/">Yandex.Post office</a> provide statistics about mailing lists.  And Feedback Loop allows you to find out which email users send to spam and draw conclusions. <br><br><h4>  Infrastructure </h4><br>  The project is deployed in the cloud Selectel in St. Petersburg.  Both cloud servers and CDN for statics and user files are used.  The cloud basis of the project allows you to put into operation new servers and scale the project under the current load. <br><br>  At the moment, the site is hosted on one server, this is enough to handle 400,000 visits per day. <br><br>  Selectel, among other things, provides detailed reports on consumed resources.  No need to set up your own monitoring. <br><br>  Ansible is used to manage the servers: the deployment, the commissioning of new servers and the update of the project are automated and run in one command. <br><br><h4>  Development </h4><br>  The developer's environment is as close as possible to the real environment in which the site operates.  For this, a miniature copy of the project is deployed in a Vagrant virtual machine.  This minimizes problems from differences in environments.  In addition, a new developer can be entered into the project in just one hour. <br><br>  For development, use Git Workflow.  The source code is stored in Git on Bitbucket.  The new functionality is implemented and tested in separate branches, then merged into the main branch of the project. <br><br>  The project is configured Continuous Deployment: each release is automatically published and tested in the sandbox.  If everything is fine, the publication on the working site starts.  On the day, invisibly to users, about five site changes are published. <br><br>  Sentry is used to monitor ticks.  We learn about the error that occurred even before the user sees the error message. <br><br><h4>  Development </h4><br>  There are many ideas on how to develop a project.  Doing them all will not be enough any resources.  And why?  Each idea turns into a hypothesis, the minimum necessary functional is realized and metrics are checked.  Only successful ideas are developed. <br><br>  Work is underway to localize the site and bring the project outside of Russia and the CIS. <br><br>  The launch of the mobile application is planned: the AngularJS website is perfectly packed into the application using PhoneGap.  The practical possibility is checked, it remains to correct the UI for display on small screens and you can run it. <br><br><h4>  PS </h4><br>  The project was implemented and launched by my forces.  Since November 2014, wonderful developer Tatyana has joined the development and has already managed to contribute.  But I also need bright minds for the further development of the project.  <a href="http://spark.ru/job/1893">I invite you to join our team</a> . </div><p>Source: <a href="https://habr.com/ru/post/249873/">https://habr.com/ru/post/249873/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249861/index.html">MYO: how we made a paper airplane on the radio</a></li>
<li><a href="../249863/index.html">Design and development of corporate web applications</a></li>
<li><a href="../249867/index.html">Disabling Facebook affects sites that use their authentication system.</a></li>
<li><a href="../249869/index.html">Bacup 1C: Seven small trips in search of one big utility</a></li>
<li><a href="../249871/index.html">How to fix the car on the Internet: the history of the auto parts search engine</a></li>
<li><a href="../249875/index.html">How to release the game and make friends</a></li>
<li><a href="../249877/index.html">Microsoft paid a record $ 125k for an exploit</a></li>
<li><a href="../249879/index.html">HP Helion OpenStack Cloud High Availability</a></li>
<li><a href="../249881/index.html">DevExpress on Go # Moscow - ASP.NET Day</a></li>
<li><a href="../249883/index.html">Educational programs for students of financial and IT specialties!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>