<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Package organization with css-suki</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Styles and their corresponding images are grouped into one module. For each module - a separate directory. Links to images are set relative to the par...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Package organization with css-suki</h1><div class="post__text post__text-html js-mediator-article">  Styles and their corresponding images are grouped into one module.  For each module - a separate directory.  Links to images are set relative to the parent directory.  For example, for the pager module, a directory of the same name is created in which one or more css with an arbitrary name is put (for example, with the same name ‚Äúpager.css‚Äù), next to it is the image ‚Äúpager-current_bg.png‚Äù, the link to which looks like this "../page/pager-current_bg.png".  The picture from the example sets the background for the element containing the current page number in the pager.  Image names are composed of the element name (pager-current, pager-next, pager-prev ..), the location of the image (bg, top, left, top-left, icon ..) and modifiers (hover, active, selected ..) separated by an underscore.  Complex example: pager-next_icon_hover.png <br><br>  Grouping into module occurs by relationship.  For example, the ‚Äútext‚Äù module may contain styles for standard hypertext elements (em, strong, q ..), in ‚Äúform‚Äù - styles for elements of forms, in ‚Äútable‚Äù - everything related to tables.  The markup is performed as described in the <a href="http://habrahabr.ru/blogs/css/96426/">article about independent elements</a> . <br><br>  The bonus from these shamans is a high degree of independence of visual modules from each other, which makes it easy to transfer them between projects and packages without worrying about the order of their connection.  Some modules require connection at the beginning (for example, css-reset) - they can be called by adding a digit at the beginning (for example, ‚Äú0_reset‚Äù). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As mentioned above, the modules are assembled into packages - by simple grouping by directories.  The package to the end user comes in one file.  The developer can switch to the download mode for all css files separately. <br><a name="habracut"></a><br><blockquote><code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">link</font> <font color="#ff0000">href</font> <font color="#0000ff">="client/style/?name=main"</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#ff0000">rel</font> <font color="#0000ff">="stylesheet"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt;-   "main"       &lt;br&gt;&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">link</font> <font color="#ff0000">href</font> <font color="#0000ff">="client/style/?name=main&amp;mode=compiled"</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#ff0000">rel</font> <font color="#0000ff">="stylesheet"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt;-   ,      &lt;br&gt;&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">link</font> <font color="#ff0000">href</font> <font color="#0000ff">="client/style/main/~/compiled.css"</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#ff0000">rel</font> <font color="#0000ff">="stylesheet"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt;-   -,   </font></code> </blockquote> <br>  For sprites start up a separate module.  But it is not necessary, unless absolutely necessary, to thrust all the pictures into one file - it is better to group them by meaning and form factor. <br><br>  The described file structure allows you to compile styles by simply merging all the files, without breaking the relative links to the pictures.  When running, css-suki creates in the specified package a pseudomodule with the name "~" where it writes down index.css, compiled.css and, if necessary, page = page = *. Css.  Thanks to automatic pagination, the package can be up to 900 css-files, even in IE. <br><br>  To create a new module, you simply create a directory inside the package and in it a css file.  You do not need to prescribe it anywhere else - everything will be done automatically.  Transfer to another package is carried out accordingly.  Work with packages is completely similar.  Thanks to relative paths, you don‚Äôt need to worry about which directory you want to place the styles in, "/ css /", "/ client / styles /" or wherever. <br><br>  And here is the compiler itself (packages need to be created right next to it): <br><br><blockquote> <code><font color="black"><font color="#000000"><font color="#0000BB">&lt;?php</font> <font color="#FF8000"># css-suki # rev: 2 # license: public domain <br> <br> #   <br></font> <font color="#0000BB">$mode</font> <font color="#007700">= @</font> <font color="#0000BB">$_GET</font> <font color="#007700">[</font> <font color="#DD0000">'mode'</font> <font color="#007700">] or</font> <font color="#0000BB">$mode</font> <font color="#007700">=</font> <font color="#DD0000">'index'</font> <font color="#007700">; <br> if(</font> <font color="#0000BB">$mode</font> <font color="#007700">===</font> <font color="#DD0000">'source'</font> <font color="#007700">)</font> <font color="#0000BB">highlight_file</font> <font color="#007700">(</font> <font color="#0000BB">__FILE__</font> <font color="#007700">) and die(); <br></font> <font color="#0000BB">$name</font> <font color="#007700">=</font> <font color="#0000BB">preg_replace</font> <font color="#007700">(</font> <font color="#DD0000">'![^\w-]+!'</font> <font color="#007700">,</font> <font color="#DD0000">''</font> <font color="#007700">, @</font> <font color="#0000BB">$_GET</font> <font color="#007700">[</font> <font color="#DD0000">'name'</font> <font color="#007700">] ) or</font> <font color="#0000BB">$name</font> <font color="#007700">=</font> <font color="#DD0000">'main'</font> <font color="#007700">; <br> <br></font> <font color="#FF8000">#  <br></font> <font color="#0000BB">$pageLimit</font> <font color="#007700">=</font> <font color="#0000BB">30</font> <font color="#007700">; <br> <br></font> <font color="#FF8000">#    <br></font> <font color="#0000BB">chdir</font> <font color="#007700">(</font> <font color="#0000BB">$name</font> <font color="#007700">); <br> @</font> <font color="#0000BB">mkdir</font> <font color="#007700">(</font> <font color="#DD0000">'~'</font> <font color="#007700">,</font> <font color="#0000BB">0777</font> <font color="#007700">,</font> <font color="#0000BB">true</font> <font color="#007700">); <br> <br></font> <font color="#FF8000">#     <br></font> <font color="#0000BB">$files</font> <font color="#007700">=</font> <font color="#0000BB">glob</font> <font color="#007700">(</font> <font color="#DD0000">"??*/*.css"</font> <font color="#007700">,</font> <font color="#0000BB">GLOB_BRACE</font> <font color="#007700">); <br></font> <font color="#0000BB">sort</font> <font color="#007700">(</font> <font color="#0000BB">$files</font> <font color="#007700">); <br></font> <font color="#0000BB">$filesCount</font> <font color="#007700">=</font> <font color="#0000BB">count</font> <font color="#007700">(</font> <font color="#0000BB">$files</font> <font color="#007700">); <br> if(</font> <font color="#0000BB">$filesCount</font> <font color="#007700">&gt;</font> <font color="#0000BB">pow</font> <font color="#007700">(</font> <font color="#0000BB">$pageLimit</font> <font color="#007700">,</font> <font color="#0000BB">2</font> <font color="#007700">) ) print</font> <font color="#DD0000">'too many files'</font> <font color="#007700">and die(); <br> <br></font> <font color="#FF8000">#     <br></font> <font color="#0000BB">$compile</font> <font color="#007700">= array(); <br> foreach(</font> <font color="#0000BB">$files</font> <font color="#007700">as</font> <font color="#0000BB">$file</font> <font color="#007700">): <br></font> <font color="#0000BB">$compile</font> <font color="#007700">[]=</font> <font color="#DD0000">"/* @import url( '../{$file}' ); */"</font> <font color="#007700">; <br></font> <font color="#0000BB">$compile</font> <font color="#007700">[]=</font> <font color="#0000BB">file_get_contents</font> <font color="#007700">(</font> <font color="#0000BB">$file</font> <font color="#007700">) .</font> <font color="#DD0000">"\n"</font> <font color="#007700">; <br> endforeach; <br></font> <font color="#0000BB">$compile</font> <font color="#007700">=</font> <font color="#0000BB">implode</font> <font color="#007700">(</font> <font color="#0000BB">$compile</font> <font color="#007700">,</font> <font color="#DD0000">"\n\n"</font> <font color="#007700">); <br></font> <font color="#0000BB">file_put_contents</font> <font color="#007700">(</font> <font color="#DD0000">"~/compiled.css"</font> <font color="#007700">,</font> <font color="#0000BB">$compile</font> <font color="#007700">); <br> <br></font> <font color="#FF8000">#   <br></font> <font color="#007700">if(</font> <font color="#0000BB">$filesCount</font> <font color="#007700">&lt;</font> <font color="#0000BB">$pageLimit</font> <font color="#007700">): <br></font> <font color="#0000BB">$index</font> <font color="#007700">=</font> <font color="#0000BB">preg_replace</font> <font color="#007700">(</font> <font color="#DD0000">'!(.+)!'</font> <font color="#007700">,</font> <font color="#DD0000">'../$1'</font> <font color="#007700">,</font> <font color="#0000BB">$files</font> <font color="#007700">); <br> else: <br></font> <font color="#0000BB">$index</font> <font color="#007700">= array(); <br> for(</font> <font color="#0000BB">$page</font> <font color="#007700">=</font> <font color="#0000BB">0</font> <font color="#007700">; (</font> <font color="#0000BB">$page</font> <font color="#007700">*</font> <font color="#0000BB">$pageLimit</font> <font color="#007700">) &lt;</font> <font color="#0000BB">$filesCount</font> <font color="#007700">; ++</font> <font color="#0000BB">$page</font> <font color="#007700">): <br></font> <font color="#0000BB">$index</font> <font color="#007700">[]=</font> <font color="#DD0000">"page={$page}.css"</font> <font color="#007700">; <br> endfor; <br> endif; <br> <br></font> <font color="#FF8000">#     <br></font> <font color="#0000BB">$index</font> <font color="#007700">=</font> <font color="#0000BB">preg_replace</font> <font color="#007700">(</font> <font color="#DD0000">'!(.+)!'</font> <font color="#007700">,</font> <font color="#DD0000">'@import url( "$1" );'</font> <font color="#007700">,</font> <font color="#0000BB">$index</font> <font color="#007700">); <br></font> <font color="#0000BB">$index</font> <font color="#007700">=</font> <font color="#0000BB">implode</font> <font color="#007700">(</font> <font color="#0000BB">$index</font> <font color="#007700">,</font> <font color="#DD0000">"\n"</font> <font color="#007700">); <br></font> <font color="#0000BB">file_put_contents</font> <font color="#007700">(</font> <font color="#DD0000">"~/index.css"</font> <font color="#007700">,</font> <font color="#0000BB">$index</font> <font color="#007700">); <br> <br></font> <font color="#FF8000">#           <br></font> <font color="#007700">if(</font> <font color="#0000BB">$filesCount</font> <font color="#007700">&gt;=</font> <font color="#0000BB">$pageLimit</font> <font color="#007700">): <br> for(</font> <font color="#0000BB">$page</font> <font color="#007700">=</font> <font color="#0000BB">0</font> <font color="#007700">; (</font> <font color="#0000BB">$page</font> <font color="#007700">*</font> <font color="#0000BB">$pageLimit</font> <font color="#007700">) &lt;</font> <font color="#0000BB">$filesCount</font> <font color="#007700">; ++</font> <font color="#0000BB">$page</font> <font color="#007700">): <br></font> <font color="#0000BB">$pageFiles</font> <font color="#007700">=</font> <font color="#0000BB">array_slice</font> <font color="#007700">(</font> <font color="#0000BB">$files</font> <font color="#007700">,</font> <font color="#0000BB">$page</font> <font color="#007700">*</font> <font color="#0000BB">$pageLimit</font> <font color="#007700">,</font> <font color="#0000BB">$pageLimit</font> <font color="#007700">); <br></font> <font color="#0000BB">$pageFiles</font> <font color="#007700">=</font> <font color="#0000BB">implode</font> <font color="#007700">(</font> <font color="#0000BB">preg_replace</font> <font color="#007700">(</font> <font color="#DD0000">'!(.+)!'</font> <font color="#007700">,</font> <font color="#DD0000">'@import url( "../$1" );'</font> <font color="#007700">,</font> <font color="#0000BB">$pageFiles</font> <font color="#007700">),</font> <font color="#DD0000">"\n"</font> <font color="#007700">); <br></font> <font color="#0000BB">file_put_contents</font> <font color="#007700">(</font> <font color="#DD0000">"~/page={$page}.css"</font> <font color="#007700">,</font> <font color="#0000BB">$pageFiles</font> <font color="#007700">); <br> endfor; <br> endif; <br> <br></font> <font color="#FF8000">#       <br></font> <font color="#007700">switch(</font> <font color="#0000BB">$mode</font> <font color="#007700">){ <br> case</font> <font color="#DD0000">'index'</font> <font color="#007700">: case</font> <font color="#DD0000">'compiled'</font> <font color="#007700">: <br></font> <font color="#0000BB">header</font> <font color="#007700">(</font> <font color="#DD0000">"Content-Type: text/css"</font> <font color="#007700">,</font> <font color="#0000BB">true</font> <font color="#007700">,</font> <font color="#0000BB">200</font> <font color="#007700">); <br> echo</font> <font color="#DD0000">"@import url( '{$name}/~/{$mode}.css' );\n"</font> <font color="#007700">; <br> break; <br> default: <br> echo</font> <font color="#DD0000">"wrong mode"</font> <font color="#007700">; <br> } <br> <br> exit();</font> <font color="#0000BB">?&gt; <br></font> <br> : <br> mode -   <br> name -   <br> <br>  : <br> source -  css-suki <br> index -       ,      <br> compiled -       </font></font></code> </blockquote> </div><p>Source: <a href="https://habr.com/ru/post/96434/">https://habr.com/ru/post/96434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../96422/index.html">Transistors operating at a voltage of 0.2 V</a></li>
<li><a href="../96426/index.html">Markup independent elements</a></li>
<li><a href="../96428/index.html">Nokera N100: the first solar-powered bulb</a></li>
<li><a href="../96430/index.html">Microsoft: new thin Xbox 360 and LIVE in Russia</a></li>
<li><a href="../96431/index.html">Trac 0.12 released</a></li>
<li><a href="../96435/index.html">Audience Habrhabra</a></li>
<li><a href="../96436/index.html">Flash game "Mafia" in the conditions of "in contact"</a></li>
<li><a href="../96440/index.html">Win-win contest testing. Show yourself a connoisseur - win laptop</a></li>
<li><a href="../96441/index.html">Free cheese or about how Beeline robbed me</a></li>
<li><a href="../96442/index.html">Zombies on newsweek.com</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>