<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Zabbix 3.2 released</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We would like to inform you about the release of a new version of the open source monitoring system Zabbix. The release is fundamentally new features ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Zabbix 3.2 released</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/a3b/e41/a93/a3be41a935ec4ede96aed0f5702920b3.png"><br><br>  We would like to inform you about the release of a new version of the open source monitoring system Zabbix.  The release is fundamentally new features such as: <br><br><ul><li>  Additional event fields (tags) </li><li>  Manual closing problems </li><li>  Event correlation </li><li>  Nested host groups </li><li>  Determination of individual conditions for creating accidents and their recovery </li><li>  Non-strict calculation of trigger expressions </li><li>  Interface in loadable modules for replicating historical data to external storage </li></ul><br>  ‚Ä¶and much more.  Under the cut a brief talk about some of the innovations <br><a name="habracut"></a><br><h1>  Event tags </h1><br>  The new version has a basis for displaying, filtering and other actions on trigger events - tags.  The first time you stumble upon them when setting up triggers: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/3d3/c99/fdd/3d3c99fddaab41608d03aae93b0e8c4e.png"><br><br>  And then you can see them again in the new section <b>Monitoring -&gt; Problems</b> . <br>  Think of tags as additional event fields that can also be used to filter when displayed or under automatic action conditions (and conditions for sending notifications and their escalations), and most importantly, they can be used to correlate various accidents. <br><br><h1>  Event correlation </h1><br><img src="https://habrastorage.org/files/ec5/72a/6ac/ec572a6ac5dc43e9af7c140e7431ed70.png"><br><br>  Now it is possible to use a single data element to track a multitude of unrelated events.  A unique identifier in Zabbix will be the tag value that will allow you to connect together the occurrence of a specific problem with an event announcing its end.  So, it's okay if several applications are written to one log file - the crashes of each application will be created and restored without interfering with each other.  Another useful application of this functionality is the processing of SNMP traps. <br><br><h1>  Global correlation </h1><br><img src="https://habrastorage.org/files/ccc/ec6/279/cccec627961c4c41ae3a8ac439eaba3a.png"><br><br>  There was also an opportunity to connect among themselves the events arising from completely different triggers and even on different nodes of the network.  The new configuration section "Correlation of events" will not allow a critical accident, the very accident that you want to see, and requiring action, to drown in the stream of sprinkled symptoms.  All redundant incoming events will be correlated and removed from sight.  And yes, this is also customizable based on tags. <br><br><h1>  Nested host groups </h1><br>  Nested host groups will create a hierarchy of monitoring objects, <br><br><img src="https://habrastorage.org/files/ed5/a69/693/ed5a69693092419f9e4133043801c708.png"><br><br>  This will simplify both navigation and access rights management inside Zabbix. <br><br><h1>  New quick open problems screen </h1><br><img src="https://habrastorage.org/files/b52/d94/1a7/b52d941a78ae4cafa8b7772c95b2ecdd.png"><br><br>  All current and current issues are now available in the new Monitoring-Problems section (instead of Monitoring-Events).  The history of problems in the database has moved, and in the new version lies separately from the current problems, which gave an excellent performance boost.  A flexible filter will allow you to quickly find the information you need, and the timeline will help you navigate in time. <br><br><h1>  Manual closure of accidents </h1><br><img src="https://habrastorage.org/files/b16/c2d/e85/b16c2de8525a4240aa8c178b47668bcf.png"><br><br>  Now this is possible in Zabbix.  Remove from the list of problems old or irrelevant events, as well as confirm and close the alarm messages about a backup that did not last at night (after you fixed it, of course) or having read a critical error from the log file.  In this case, it will be possible to close only those problems whose triggers were previously marked with the corresponding checkbox when setting up in the template. <br><br><h1>  Simplified hysteresis and a separate condition for accident recovery </h1><br><img src="https://habrastorage.org/files/da0/2d0/69e/da02d069e1154e27bace66350f2a9f9f.png"><br><br>  To combat the blinking of problems earlier, Zabbix had to resort to rather difficult to understand trigger expressions, for example, to the expression of the form: <br><br><pre><code class="hljs pgsql">({<span class="hljs-keyword"><span class="hljs-keyword">TRIGGER</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">VALUE</span></span>}=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">temp</span></span>.last()}&gt;<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> ({<span class="hljs-keyword"><span class="hljs-keyword">TRIGGER</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">VALUE</span></span>}=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">temp</span></span>.last()}&gt;<span class="hljs-number"><span class="hljs-number">15</span></span>)</code> </pre> <br>  It helped fight the bounce of the accident, when the temperature fluctuated around 20 degrees - the accident was created at 20 degrees, but recovery occurred only after the temperature dropped below 15. <br><br>  Now everything is easier. <br><br><img src="https://habrastorage.org/files/00c/5bb/24a/00c5bb24ab464d33a6cb2f59b4bd5528.png"><br><br>  Just a separate optional window in the trigger settings, where the criterion for ending the accident can be declared: <br><br>  And that's all, and no more logic inside out with {TRIGGER.VALUE}. <br><br><h1>  View data items, triggers and graphs created via LLD </h1><br><img src="https://habrastorage.org/files/aa4/a1b/5ba/aa4a1b5bac114e52afb5e2b4baa54baf.png"><br><br>  A small but very useful feature that was not enough - the ability to manipulate objects created through low-level detection (LLD) was also implemented.  Everything just listed can now be deleted, disconnected and viewed just like ordinary objects. <br><br>  I think that to many it will save a couple of mouse clicks when setting up, as it will simplify the removal of various debris that could leak through the LLD detection filter. <br><br><h1>  Redesigned action setup screen </h1><br><img src="https://habrastorage.org/files/132/d05/0e7/132d050e7cc94686a0cfc4876388dae4.png"><br><br>  The action settings page has been redesigned.  Now, all the operations that need to be performed at the end of the accident (whether it is an alert or script launch) are configured in a separate tab.  It also reworked the mechanism for the work of delayed notifications from network nodes, which are in maintenance mode. <br><br><h1>  Import / export of web monitoring scripts </h1><br><img src="https://habrastorage.org/files/89a/269/b19/89a269b19f13457dab9522243ffff6bb.png"><br><br>  After adding the ability to import / export value maps (value maps) in 3.0, web scripts remained non-downloadable.  Today, this unfairness is eliminated, and now web-checking solutions can also be uploaded to XML with all the steps for later uploading to other Zabbix servers.  We expect web monitoring templates to <a href="http://share.zabbix.com/">appear</a> on <a href="http://share.zabbix.com/">share.zabbix.com</a> <br><br><h1>  Trigger functions for NOTSUPPORTED data items </h1><br>  The nodata () function has been reworked to make triggering easier in cases where the data item becomes unavailable. <br><br>  In addition, the <b>date ()</b> , <b>dayofweek ()</b> , <b>dayofmonth ()</b> , <b>now ()</b> , <b>time ()</b> functions, which in general do not really depend on the value of the data element, are now always calculated, regardless of what state the data element is in. <br><br>  But the most important thing is that now the trigger will not go into the <b>UNKNOWN</b> state until at least one part of the logical OR can be checked.  This will allow combining several different data collection methods for the same event (for example, through collecting SNMP counters and reading the log file), or create aggregated crashes without fear that they will not work due to the unavailability of one of the data elements. . <br><br><h1>  Work with fast-growing log files </h1><br>  Added new options for working with fast-growing log files.  The main problem with such files is the huge number of messages that are written to the log in certain situations. <br><br>  Since all the lines must be analyzed by Zabbix-agent, and the lines matched with the filter are sent to the Zabbix-server, with large volumes there can be significant delays, in addition, a large number of duplicate lines are written to the database. <br><br>  To work with such logs, a new <b>maxdelay</b> parameter has been <b>added</b> , which sets a time frame for which new incoming messages should be analyzed. <br>  If it turns out that all the lines can not be sorted out within the prescribed period, then the older message is skipped in favor of more recent ones. <br><br>  Also added are new data elements of Zabbix agent <b>log.count</b> and <b>logrt.count</b> , which return the number of processed lines, instead of them. <br><br><h1>  Regex support in count () function </h1><br><img src="https://habrastorage.org/files/fda/d36/8a9/fdad368a957a4a368560d8816573d276.png"><br><br>  Very small, but nice addition.  The <b>count ()</b> function has acquired the ability to use regexp and iregexp operators for all types of data elements. <br><br>  Thus, it is now possible to count the number of values ‚Äã‚Äãcollected for a certain period of time that correspond to a regular expression. <br><br><h1>  Macro value conversion </h1><br><img src="https://habrastorage.org/files/64e/da9/313/64eda93130a24cb1851f127c06c43a77.png"><br>  Now you can change the value of a macro, such as, for example, <b><b>{ITEM.LASTVALUE}</b></b> .  Using the regsub and iregsub functions, you can pull out, for example, a part of a line from a log file and use the result in event tags or in the alert text <br><br><h1>  Read more </h1><br>  More information about these and other innovations can be found by following the links below in the documentation: <br><br><ul><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Event tags</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">New screen Monitoring-&gt; Problems</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Manual closing problems</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Macro value conversion</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Work with fast-growing log files</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Simplified hysteresis and a separate condition for accident recovery</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Setup actions for recovery</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Maintenance Mode Escalation Rules</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">View data items, triggers and graphs created via LLD</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Import / export of web monitoring scripts</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Various frontend improvements</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Zabbix process improvements</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">New data items log.count, logrt.count</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">New VMware Data Items</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">New Trigger Functions</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Changes in the database</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/introduction/whatsnew320">Non-strict calculation of trigger expressions</a> </li><li>  <a href="https://www.zabbix.com/documentation/3.2/manual/config/items/loadablemodules">Historical modules</a> </li></ul><br>  The version is already available for download <a href="http://www.zabbix.com/download.php">here</a> .  The update procedure is very simple, you can read it <a href="https://www.zabbix.com/documentation/3.2/manual/installation/upgrade">here</a> .  Additional actions may be needed only by those who use partitioning in MySQL and PostgreSQL ‚Äî the changes <a href="https://www.zabbix.com/documentation/3.2/manual/installation/upgrade_notes_320">made</a> to the schema in the new version may not be compatible with the current table partition settings. </div><p>Source: <a href="https://habr.com/ru/post/309964/">https://habr.com/ru/post/309964/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309954/index.html">Samsung Solid State Drives: Gaining Momentum</a></li>
<li><a href="../309956/index.html">5 classic personality types in business and how to work with each of them</a></li>
<li><a href="../309958/index.html">React.js: build an isomorphic / universal application from scratch. Part 1: build the stack</a></li>
<li><a href="../309960/index.html">6 statistical indicators of IT outsourcing in 2016</a></li>
<li><a href="../309962/index.html">Functions of higher orders and monads for PHP`s</a></li>
<li><a href="../309966/index.html">Trend Convergence: Dell PowerEdge FX Architecture</a></li>
<li><a href="../309968/index.html">Why I refused to Rust</a></li>
<li><a href="../309970/index.html">How we helped to return to the client 60 thousand dollars accrued for international communication</a></li>
<li><a href="../309972/index.html">Communication opportunities of Internet projects</a></li>
<li><a href="../309974/index.html">Apple Pay will be available in Russia this fall.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>