<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Advanced Threat Protection in Windows Defender</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In early February, we told you about the detection of criminals using the ATP service in Windows Defender. In the comments there were various question...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Advanced Threat Protection in Windows Defender</h1><div class="post__text post__text-html js-mediator-article">  In early February, we <a href="https://aka.ms/habr_321698_1">told</a> you about the detection of criminals using the ATP service in Windows Defender.  In the comments there were various questions regarding the work of the service, so we decided to share a detailed description of its functionality. <br><br><img src="https://habrastorage.org/files/a89/cef/ad9/a89cefad9edb4284a985271ef5c2cebb.jpg"><br><a name="habracut"></a><br>  In short, the ATP service in Windows Defender is a security service that allows you to detect security threats in your networks, investigate them and take countermeasures.  The service is based on a combination of technologies built in Windows 10 and the Microsoft cloud service.  These technologies include: <br><br><ul><li>  <b>Sensors of behavior on the hosts</b> .  These sensors are built into Windows 10. They collect and process operating system signals about behavior (for example, process, registry, file, and network interactions) and send data to your private, isolated cloud instance of the ATP service. </li><li>  <b>Cloud security analysis</b> .  In essence, it makes it possible to convert behavioral signals into analytical data to identify threats, and also helps with recommendations for eliminating them. </li><li>  <b>Threat Intelligence</b> .  Microsoft has individual experts and data security departments, in addition to this, analyzing threats from partners are used.  This allows the ATP service to identify the means, technologies, and methods of attack.  Notify users when they find relevant signs in the collected data. </li></ul><br>  Schematically, these service components are presented below. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/0fa/c7a/bf3/0fac7abf3eb042ef96ad8e824a6ce1b1.png"><br><br>  The capabilities of the host research service allow you to receive detailed alerts, understand the nature and scope of a possible invasion. <br><br>  The ATP service in Windows Defender works with various Windows security technologies: <br><br><ul><li>  Windows Defender </li><li>  Applocker </li><li>  Device guard </li></ul><br>  It can also work in parallel with third-party security solutions. <br><br><h2>  Overview of Advanced Threat Protection Portal in Windows Defender </h2><br>  ATP Portal can be used to monitor and respond to threats.  It solves the following tasks: <br><br><ul><li>  View, sort and classify alerts from hosts. </li><li>  Search for additional information related to the detected indicators.  These can be specific files or IP addresses. </li><li>  Change various service settings: time zone and alert rules. </li></ul><br>  The portal interface includes four main work areas: <br><ul><li>  (1) Settings Area </li><li>  (2) Navigation area </li><li>  (3) Main portal </li><li>  (4) Search </li></ul><br><img src="https://habrastorage.org/files/7ef/bcf/b7d/7efbcfb7d3bc451fa3921df0968e24cd.png"><br><br>  With the settings, everything is quite obvious. <br><img src="https://habrastorage.org/files/eb9/495/c3f/eb9495c3fc904c2a97176507d3e58452.png"><br>  The following views are available in the Navigation Panel: <br><br><ul><li>  <b>Information panel</b> (the dashboard itself, which displays basic information); </li><li>  <b>Alert queue</b> (New, In process, Allowed and so on). </li></ul><br><img src="https://habrastorage.org/files/360/752/ec0/360752ec0fc94e648e8c30ccb5f9fc3c.png"><br>  <b>The computers section</b> displays a list of computers that are protected by the ATP service, and some information about them. <br><img src="https://habrastorage.org/files/03e/db6/e32/03edb6e3208e4b2888cee697f27d76a7.png"><br>  <b>Setting priorities</b> allows you to set up email notifications or a data retention policy (in other words, how much data will be stored in the tenant). <br><img src="https://habrastorage.org/files/c25/924/e94/c25924e94807406390fe7c650a798ecd.png"><br><br>  In the <b>host management</b> section <b>,</b> you can download a package to prepare machines for working with ATP. <br><img src="https://habrastorage.org/files/8b5/0ca/ea6/8b50caea659641fea30808cc8cb3f5f2.png"><br>  The ATP service and uses the following conventions: <br><br><blockquote><img src="https://habrastorage.org/files/893/a19/1ac/893a191ac01f40a8bd7e202e9e1a9d0d.png" align="left" width="30">  Alert - a message about the activity that correlates with attacks of increased complexity. <br><br><img src="https://habrastorage.org/files/178/bd3/26e/178bd326e9584ceb95e0f38d886ccd85.png" align="left" width="30">  Detection is a sign of a detected malware threat. <br><br><img src="https://habrastorage.org/files/f05/081/e75/f05081e758564d809fed7c792717de06.png" align="left" width="30">  Active threat - threats that were actively executed at the time of detection. <br><br><img src="https://habrastorage.org/files/de6/5e7/62f/de65e762fc954c3482177b197d9e78be.png" align="left" width="30">  Eliminated - the threat was removed from the computer. <br><br><img src="https://habrastorage.org/files/7fb/041/bb5/7fb041bb53364bee88c8b2290dbbdec0.png" align="left" width="30">  Not resolved - the threat is not removed from the computer. </blockquote><br>  In general, the approach to researching security breaches using ATP can be broken down into the following steps: <br><br><ol><li>  View alerts on a dashboard or alert queue. </li><li>  Analysis of indicators of compromise (IOC) or attack (IOA). </li><li>  Analysis of the timeline of alerts, behavior and computer events. </li><li>  Manage alerts, understand the threat or potential hacking, gather information to determine what action is needed and handle the alert. </li></ol><br><img src="https://habrastorage.org/files/7cc/ded/bef/7ccdedbef46b470ba65b8d237598b578.png"><br><br><h2>  View the Advanced Threat Protection Service Dashboard in Windows Defender </h2><br>  Since we start working with ATP with data analysis on the information panel, we will consider it in more detail.  Information about alerts and computers allows you to quickly establish the fact, place and time of suspicious activity on the network - this provides the necessary context for understanding the situation.  It also displays a summary of event data that helps identify significant events or behavior on a computer.  You can also open event and indicator details at a lower level.  Active tiles give visual clues to evaluate the overall state of the security systems.  Clicking on such a tile opens a detailed view of the corresponding component. <br><br><h4>  ATP service alerts </h4><br>  When you click on the <b>ATP Alerts</b> tile, the total number of active ATP alerts on the network for the last 30 days is displayed.  Alerts are divided into two groups: New and Running. <br><br><img src="https://habrastorage.org/files/7a1/7d9/4e1/7a17d94e17a746a488ff0f935dd48021.png"><br><br>  Each group has subcategories by severity level.  By clicking on the number inside each, you can display a view of the queue of the corresponding category. <br><br><h4>  Computers at Risk </h4><br>  This tile shows a list of computers with the most active alerts.  The total number of alerts for each computer is shown in a circle next to the computer name.  On the opposite side of the tile, the number of alerts is presented, grouped by severity levels.  It is not difficult to guess that dark color is more dangerous, and lighter is less. <br><br><img src="https://habrastorage.org/files/0b3/854/a7a/0b3854a7a73e4373815b6cd135a0c69f.png"><br><br>  The <b>Status</b> tile contains information about whether the service is active and whether there are problems, as well as the number of computers that sent reports to the service in the last 30 days. <br><img src="https://habrastorage.org/files/34c/4a5/695/34c4a569506744cca4a9b66a7dedec76.png"><br>  Tiles <b>Reports from computers</b> contains a histogram showing the number of computers that sent alerts, by day.  You can see the exact number of computers that sent alerts on a particular day by hovering the cursor over the individual columns of the histogram. <br><img src="https://habrastorage.org/files/273/96f/802/27396f80274f4f5297d6027b6f80e7f6.png"><br><h4>  Computers with active malware detected </h4><br>  Tile <b>Computers with active malware detected is</b> displayed only if Windows Defender is used at your endpoints.  Active malware means threats that were actively executed at the time of detection.  By hovering the mouse over each of the columns, you can see the number of active malware detected and the number of hosts on which at least one active malware was detected in the last 30 days. <br><br><img src="https://habrastorage.org/files/4d8/620/da5/4d8620da5e6948c7bfc45dcf07a33930.png"><br><br>  The scheme contains five categories of malware: <br><br><ul><li>  <b>Password steal program</b> - threats that steal credentials. </li><li>  <b>Blackmailing program</b> - threats aimed at blocking user access to a computer or files and soliciting money to restore access. </li><li>  <b>Exploit</b> - threats that exploit software vulnerabilities to infect computers. </li><li>  <b>Threat</b> - all other threats that do not belong to the categories of password theft programs, blackmailers and exploits.  Trojans, worms, backdoors (‚Äúbackdoors‚Äù) and viruses belong to this category. </li><li>  <b>Low severity</b> - threats with low severity, including advertising programs and potentially unwanted programs, such as browser modifiers. </li></ul><br>  Threats are considered active if there is a very high probability that the malware was running on your network, and not just been locally stored on disk. <br><br>  By clicking on any of these categories, you can go to the <b>Computers</b> view, where the data will be filtered for the relevant category.  So you can get detailed information on which computers have active malware detected and how many threats are registered on each of them. <br><br><h2>  View and organize your Advanced Threat Protection alert queue </h2><br>  You can manage ATP alerts in Windows Defender as part of regular daily tasks.  The alerts are arranged in a queue according to the current status. By default, alerts in the queue are sorted in order from last to oldest. The following table and screen shot show the main areas of the <b>Alert Queue</b> . <br><img src="https://habrastorage.org/files/cf2/81c/2fd/cf281c2fd26345e0aa448af1658dad29.png"><br><table><tbody><tr><th width="100"><h4>  Selected area </h4></th><th width="100"><h4>  Region Name </h4></th><th width="150"><h4>  Description </h4></th></tr><tr><td>  (one) </td><td>  Alert Queue </td><td>  Choose to show <b>New</b> , <b>Running</b> or <b>Allowed alerts.</b> </td></tr><tr><td>  (2) </td><td>  Alerts </td><td>  Each alert contains the following data: <br><ul><li>  The severity level of the alert as a colored column. </li><li>  Brief description of the alert, including the name of the subject of the threat (in cases where attribution is possible). </li><li>  The last case of sending alerts to any of the computers. </li><li>  How many days the alert is in the queue. </li><li>  The severity level of the alert. </li><li>  General category of alert type or stage of the alert removal process. </li><li>  Affected computer (if there are several of them, the number of affected computers is displayed). </li><li>  <b>Alert management</b> menu icon that allows you to update the status of the alert and add comments. </li></ul><br>  Clicking on the alert reveals additional information about the threat, and the timeline moves to the date the alert was created. <br></td></tr><tr><td>  (3) </td><td>  Sort and alert filters </td><td>  Sorting of alerts is possible according to the following parameters: <br><ul><li>  Most recent (by the date the threat last appeared on your network). </li><li>  Time in the queue (by the duration of the threat in the queue) </li><li>  Seriousness. </li></ul><br>  In addition, the displayed alerts can be filtered by parameters: <br><ul><li>  Seriousness. </li><li>  Period of time. </li></ul><br></td></tr></tbody></table><br>  You can filter and sort the alert queue (make a summary) to identify the necessary alerts based on certain criteria.  Three mechanisms are available for this: <br><ol><li>  Sort the queue using the drop-down menu in the <b>Sort by</b> field with one of the following options: <br><br><ul><li>  <b>Most recent</b> - sorting alerts by the date of the last appearance at the endpoints. </li><li>  <b>Queuing time</b> - sorting alerts by the duration of their queue. </li><li>  <b>Severity</b> - sort by severity. </li></ul><br></li><li>  To filter alerts by severity, you can select one or more checkboxes in the drop-down menu in the <b>Filter by</b> field: <br><br><ul><li>  High (red): threats usually associated with persistent threats of increased complexity (APT).  Such alerts indicate a high risk due to the seriousness of the damage that may be caused to hosts. </li><li>  Medium (orange): rarely occurring threats, for example, abnormal registry changes, the execution of suspicious files and behavior typical of various phases of attacks. </li><li>  Low (yellow): Threats associated with common malicious programs and hacking tools that do not indicate a threat of increased complexity. <br><br></li></ul></li><li>  The displayed part of the queue can be limited to various specified periods using the drop-down menu in the date range field (the default value is <b>6 months</b> ). </li></ol><br>  To change the sort order (for example, show the oldest alerts first instead of the new ones), click the sort order icon. <br><br><h2>  Analyzing Advanced Threat Protection Alerts in Windows Defender </h2><br>  To start the analysis, and get detailed information you need to click on the alert in any queue. <br><br>  Alert details include the following: <br><br><ul><li>  Date and time of the last alert creation. </li><li>  Description of the alert. </li><li>  Recommended actions. </li><li>  Count of the incident. </li><li>  Indicators that led to the creation of an alert. </li></ul><br>  For alerts that have been correlated with the actions of an attacker or a subject, a colored tile is displayed with the name of the subject. <br><img src="https://habrastorage.org/files/91d/9b3/f61/91d9b3f61a82459dacca5ac56a1ac901.png"><br>  By clicking on the subject's name, you can view the threat analytics profile for him, including a brief overview of the subject, information about his interests or goals, tactics, methods and procedures, as well as information about his activities around the world.  A set of recommended responses will also appear. <br><img src="https://habrastorage.org/files/80b/117/ddd/80b117ddd6e84a74bfb77068ecf3af92.png"><br><img src="https://habrastorage.org/files/cc1/f5a/80a/cc1f5a80a5fd4eac8f6cfb5c82d13bd5.png"><br><img src="https://habrastorage.org/files/e93/16f/244/e9316f244b8e4760895dc3493178bd51.png"><br><br>  The incident graph includes a visual representation of the location of the alert, the events that led to its creation, and other computers affected by this event.  The graph shows the effect of alerts on the source computer, as well as how this event affected the alerts on other computers. <br><br>  You can click the circle on the incident graph to expand the nodes and view the events or files that are associated with the alert. <br><img src="https://habrastorage.org/files/376/d1e/d12/376d1ed12b3c4e2caafa0e03b1291a3b.png"><br><img src="https://habrastorage.org/files/9ec/a7b/aa4/9eca7baa4db240d9bd47a7c045b75540.png"><br><br>  We remind you that the <a href="https://aka.ms/habr_321698_2">ATP service</a> in Windows Defender is built into the core of Windows 10 Corporate, its work can be evaluated for free. </div><p>Source: <a href="https://habr.com/ru/post/321698/">https://habr.com/ru/post/321698/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../321688/index.html">‚ÄúLike an Iceberg in the Ocean‚Äù: Data Center Cooling Technologies</a></li>
<li><a href="../321690/index.html">Iterative Design and GitHub</a></li>
<li><a href="../321692/index.html">Distributed xargs, or Execution of Heterogeneous Applications on Hadoop Cluster</a></li>
<li><a href="../321694/index.html">Personal experience: Raiffeisen, Alfa-Bank and VTB24</a></li>
<li><a href="../321696/index.html">Remotely reinstalling Linux via ssh without accessing the console</a></li>
<li><a href="../321700/index.html">Stream WebRTC video stream from browser to YouTube Live in 65 lines of JavaScript / HTML code</a></li>
<li><a href="../321702/index.html">Incremental analysis in PVS-Studio: now also on the assembly server</a></li>
<li><a href="../321704/index.html">Multifactor analyzer of arbitrary enterprise activity on the IEM platform</a></li>
<li><a href="../321708/index.html">A note about licensing Windows Server or how not to bankrupt a company during a licensed audit</a></li>
<li><a href="../321710/index.html">Free QGIS and NextGIS geographic information solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>