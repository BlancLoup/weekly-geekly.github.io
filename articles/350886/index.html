<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple static webpack site 4</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After reading a number of articles (for example, this one ), I decided to switch to the modern approach using Node.js when writing simple websites fro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple static webpack site 4</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/fl/vw/eh/flvwehnhdu_8wyji37-vai4rxnm.png"></p><br><p>  After reading a number of articles (for example, <a href="https://habr.com/company/mailru/blog/340922/">this one</a> ), I decided to switch to the modern approach using Node.js when writing simple websites from the “dinosaur” approach.  Below is an example of an assembly of a simple static site using <a href="https://webpack.js.org/">Webpack 4</a> .  The article was written as I did not find instructions with the solution to my problem: I had to collect everything in pieces. <a name="habracut"></a></p><br><h2 id="postanovka-zadachi">  Formulation of the problem </h2><br><p>  A website is a simple set of HTML pages with its CSS styles and a JavaScript file.  It is necessary to write a project that would collect our site from source: </p><br><ul><li>  from SASS (more precisely SCSS) files one CSS file is formed; </li><li>  one JavaScript file is formed from various JavaScript libraries and user code; </li><li>  HTML pages are collected using a template engine, where the contents of the header and footer can be split into separate files. </li></ul><br><p>  The collected site should not use React, Vue.js. </p><br><p>  When choosing technologies, the most popular ones are selected as far as possible.  For this reason, I refused both Grunt and Gulp in favor of the Webpack, although, frankly, I liked the Gulp syntax more because of its monotony. </p><br><p>  For example, several pages based on Bootstrap 4 will be put together. But this is just for example. </p><br><p>  It is assumed that <a href="https://nodejs.org/">Node.js is</a> installed (on Windows, the installer is simply downloaded and installed in the “Next, Next” style), and you know how to work with the command line. </p><br><p>  <strong>Update.</strong>  You need to get a set of ready-made HTML pages that can be uploaded to the hosting without additional settings (for example, on GitHub Pages) or opened locally on the computer. </p><br><h2 id="struktura-proekta">  Project structure </h2><br><p>  The overall structure of the project is presented below: </p><br><pre><code class="hljs css">. ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">dist</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> ,     ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">src</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>     │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">favicon</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>       │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">fonts</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>    │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">HTML</span></span>  │ │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">includes</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>     (<span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">footer</span></span>) │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">views</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>    <span class="hljs-selector-tag"><span class="hljs-selector-tag">HTML</span></span>  │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">img</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>     (,   .) │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">js</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">JavaScript</span></span>  │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">scss</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">SS</span></span>  │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">uploads</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>     (,   .) ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">package</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.json</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">Node</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span> └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">webpack</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.config</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">Webpack</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">The same structure, but with the display of files that are present in the example:</b> <div class="spoiler_text"><pre> <code class="hljs css">. ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">dist</span></span> ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">src</span></span> │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">favicon</span></span> │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">favicon</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ico</span></span> │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">fonts</span></span> │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">Roboto-Regular</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ttf</span></span> │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> │ │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">includes</span></span> │ │ │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">footer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.html</span></span> │ │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.html</span></span> │ │ └─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">views</span></span> │ │ ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">index</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.html</span></span> │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">second</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.html</span></span> │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">img</span></span> │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">logo</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.svg</span></span> │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">js</span></span> │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">index</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span> │ ├─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">scss</span></span> │ │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.scss</span></span> │ └─┬ <span class="hljs-selector-tag"><span class="hljs-selector-tag">uploads</span></span> │ └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">test</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.jpg</span></span> ├── <span class="hljs-selector-tag"><span class="hljs-selector-tag">package</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.json</span></span> └── <span class="hljs-selector-tag"><span class="hljs-selector-tag">webpack</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.config</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span></code> </pre> </div></div><br><p>  Under favicon, the whole folder is highlighted, as in the modern web you cannot do with the usual one ico file.  But for example, only this one file is used. </p><br><p>  A controversial decision may seem to divide the images into two folders: <code>img</code> and <code>uploads</code> .  But here I used the ideology of the location of files from Wordpress.  In my opinion, throwing all the images into one folder is not a good idea. </p><br><p>  To work with the project I use <a href="https://code.visualstudio.com/">Visual Studio Code</a> , which I am very satisfied with.  I especially like that the command line is built into the program and called up via <strong>Ctrl + `</strong> . </p><br><p><img src="https://habrastorage.org/webt/1l/lt/op/1lltoppibzkbqy162oothgtycl4.png"></p><br><p>  Let's make a draft of Node.js.  To do this, create a folder of our project with the above structure and go to it on the command line, where we call the command to create the <code>package.json</code> file. </p><br><pre> <code class="hljs swift">npm <span class="hljs-keyword"><span class="hljs-keyword">init</span></span></code> </pre> <br><p>  All questions can simply be answered by pressing <code>Enter</code> , if you do not want to fill in the detailed information. </p><br><p>  We will install three common packages that we will need in any case: <code>webpack</code> , <code>webpack-cli</code> (the command line in the webpack was taken in a separate package) and <code>webpack-dev-server</code> (to start the local server so that the browser immediately displays the saved changes to the project) . </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> webpack webpack-cli webpack-dev-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">The package.json file now looks something like this:</b> <div class="spoiler_text"><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"static-site-webpack-habr"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"ISC"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"webpack"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.1.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"webpack-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.0.11"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"webpack-dev-server"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.1"</span></span> } }</code> </pre> </div></div><br><p>  Also a file <code>package-lock.json</code> will be created, which we don’t touch at all.  But in the git repository you need to add this file, in contrast to the <code>node_modules</code> folder, which you need to register in the <code>.gitignore</code> file if you use git. </p><br><h2 id="sobiraem-javascript">  We collect JavaScript </h2><br><p>  Since the Webpack was created primarily to build js files, this part will be the easiest.  In order to be able to write javascript in a modern form of ES2015, which is not supported by browsers, put the packages <code>babel-core</code> , <code>babel-loader</code> , <code>babel-preset-env</code> . </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> babel-core babel-loader babel-preset-env <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><p>  After creating the configuration file <code>webpack.config.js</code> with the following contents: </p><br><pre> <code class="hljs pgsql">const <span class="hljs-type"><span class="hljs-type">path</span></span> = require(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); module.exports = { entry: [ <span class="hljs-string"><span class="hljs-string">'./src/js/index.js'</span></span>, ], output: { filename: <span class="hljs-string"><span class="hljs-string">'./js/bundle.js'</span></span> }, devtool: "source-map", module: { rules: [{ test: /\.js$/, <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>: <span class="hljs-type"><span class="hljs-type">path</span></span>.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/js'</span></span>), use: { loader: <span class="hljs-string"><span class="hljs-string">'babel-loader'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: { presets: <span class="hljs-string"><span class="hljs-string">'env'</span></span> } } }, ] }, plugins: [ ] };</code> </pre> <br><p>  In the <code>entry</code> section ( <code>entry</code> points) we indicate which js file we will collect, in the <code>output</code> section we indicate the path in the <code>dist</code> folder where the assembled file will be placed.  Please note that in the webpack 4 in the <code>output</code> path you do not need to specify the <code>dist</code> folder itself!  And yes, how can I not like that in one webpack file in some cases you need to write a relative path, in other cases a relative path in a special folder, in the third cases you need an absolute path (for example, we get it with this command <code>path.resolve(__dirname, 'src/js')</code> ). </p><br><p>  The <code>devtool</code> parameter value is also set to: <code>source-map</code> , which will allow creating <a href="https://habr.com/post/178743/">source maps</a> for js and css files. </p><br><p>  For processing specific files (by extension, by location), webpack creates rules in the <code>rules</code> section.  Now we have a rule there that we skip all js files through the Babel translator, which converts our new-fashioned ES2015 into a standard javascript version that is understandable to browsers. </p><br><p>  In our test case, we impose our page on Boostrap 4. Therefore, we will need to install three packages: <code>bootstrap</code> , <code>jquery</code> , <code>popper.js</code> .  We install the second and third packages on demand of Bootstrap. </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> bootstrap jquery popper.js <span class="hljs-comment"><span class="hljs-comment">--save</span></span></code> </pre> <br><p>  Please note that we need these three packages for the site itself, and not for its assembly.  Therefore, we install these packages with the <code>--save</code> flag, not <code>--save-dev</code> . </p><br><p>  Now you can start writing our <code>index.js</code> file: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> jQuery <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'jquery'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> popper <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'popper.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> bootstrap <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'bootstrap'</span></span>; jQuery(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ jQuery(<span class="hljs-string"><span class="hljs-string">'body'</span></span>).css(<span class="hljs-string"><span class="hljs-string">'color'</span></span>, <span class="hljs-string"><span class="hljs-string">'blue'</span></span>); });</code> </pre> <br><p>  As an example of custom code, js just repainted the text color to blue. </p><br><p>  Now you can proceed to build the js file.  To do this, in the <code>package.json</code> file in the <code>scripts</code> section we write the following npm scripts: </p><br><pre> <code class="hljs objectivec"> <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"dev"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack --mode development"</span></span>, <span class="hljs-string"><span class="hljs-string">"build"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack --mode production"</span></span>, <span class="hljs-string"><span class="hljs-string">"watch"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack --mode development --watch"</span></span>, <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --mode development --open"</span></span> },</code> </pre> <br><p>  Now, when you start the <strong>npm run dev</strong> line on the command line, the project will be built (css and html files will also be collected by this command later), and the files <code>/dist/js</code> <code>bundle.js</code> and <code>bundle.js.map</code> will appear in the <code>/dist/js</code> <code>bundle.js.map</code> . </p><br><p>  When you run the <strong>npm run build</strong> command, the project will also be built, but the final (with optimization, maximum file minimization), which you can upload to the hosting. </p><br><p>  When you start <strong>npm run watch</strong> , the mode of automatic viewing of changes in project files with automatic addition of modified files is launched.  Yes, to disable this mode in the command line (for example, so that you can write other commands), you can press <code>Ctrl + C</code> (at least in PowerShell). </p><br><p>  When you start <strong>npm run start, the</strong> local server will start, which will launch the html page and will also track changes in the files.  But while we are not using this command, we haven’t added the assembly of html pages. </p><br><p>  The project build mode creates or rewrites files in the <code>dist</code> folder.  But during the development of a project with different assemblies, files can be renamed, deleted.  And Webpack will not ensure that unnecessary files left over from previous builds are deleted from the <code>dist</code> folder. <del>  Therefore, we will add another <code>clean-webpack-plugin</code> that will clear the <code>dist</code> folder before each build of the project. </del></p><br><p>  <strong>Update 2018.04.11.</strong>  I had to abandon the <code>clean-webpack-plugin</code> .  Why?  When you start the server through the <code>npm run start</code> <code>webpack-dev-server --mode development --open</code> ( <code>webpack-dev-server --mode development --open</code> ), then webpack compiles files automatically, without saving them into the <code>dist</code> folder.  And that's fine.  But at the same time, the <code>dist</code> folder is cleared due to the presence of a <code>clean-webpack-plugin</code> .  As a result, in the local server operation mode, the <code>dist</code> folder is empty, which negatively affects the work with git (only if you keep the project build in the git repository, as I do): after each server launch, a lot of changes appear due to deleted files.  It would be good if the <code>dist</code> folder was cleaned up only with a full build, for example, <code>npm run build-and-beautify</code> (about this command below).  Plugin <code>clean-webpack-plugin</code> could not be configured in the desired way.  Therefore, I use another <code>del-cli</code> that is not related to the webpack and works separately. </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> del-cli <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><p>  Make changes to the <code>package.json</code> file. </p><br><pre> <code class="hljs objectivec">{ ... <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { ... <span class="hljs-string"><span class="hljs-string">"clear"</span></span>: <span class="hljs-string"><span class="hljs-string">"del-cli dist"</span></span> }, ... }</code> </pre> <br><h2 id="sborka-css-fayla">  Building CSS file </h2><br><p>  The CSS file will be collected from the SCSS files, for which the <code>src/scss</code> folder is reserved for us.  In it we will create a <code>style.scss</code> file, for example, with the following contents: </p><br><pre> <code class="hljs perl">$font-stack: -apple-<span class="hljs-keyword"><span class="hljs-keyword">system</span></span>, BlinkMacSystemFont,Roboto,<span class="hljs-string"><span class="hljs-string">'Open Sans'</span></span>,<span class="hljs-string"><span class="hljs-string">'Helvetica Neue'</span></span>,sans-serif; @import <span class="hljs-string"><span class="hljs-string">"~bootstrap/scss/bootstrap"</span></span>; @font-face { font-family: <span class="hljs-string"><span class="hljs-string">'Roboto'</span></span>; font-style: normal; font-weight: <span class="hljs-number"><span class="hljs-number">400</span></span>; src: url(../fonts/Roboto-Regular.ttf); } body { font-family: $font-stack; <span class="hljs-comment"><span class="hljs-comment">#logo { width: 10rem; } .container { img { width: 20rem; } } }</span></span></code> </pre> <br><p>  Please note that the styles of Bootstrap are connected not through its CSS file, but through SSS ( <del> <code>@import "node_modules/bootstrap/scss/bootstrap"</code> </del> <code>@import "~bootstrap/scss/bootstrap";</code>  ), which will allow in case of need to rewrite certain properties of the library, use its mixins, etc. But what is sad.  If, when assembling a js file when connecting a js file to the Bootstrap library, the Webpack library knows where the necessary files are located, then when connecting the styles you need to specify the path to the folder in <code>node_modules</code> . </p><br><p>  To handle css files, we will need the following modules: <code>node-sass</code> , <code>sass-loader</code> , <code>css-loader</code> and <code>extract-text-webpack-plugin</code> (they say that in the next version of Webpack, the last plugin will not need). </p><br><p>  Important!  At the time of this writing, the plug-in <code>extract-text-webpack-plugin</code> in the stable version does not know how to work with Webpack 4. Therefore, you need to install its beta version via <code>@next</code> : </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> node-sass sass-loader css-loader <span class="hljs-keyword"><span class="hljs-keyword">extract</span></span>-<span class="hljs-built_in"><span class="hljs-built_in">text</span></span>-webpack-<span class="hljs-keyword"><span class="hljs-keyword">plugin</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">next</span></span> <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><p>  I hope that soon it will be possible to install all the plugins in the normal way: </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> node-sass sass-loader css-loader <span class="hljs-keyword"><span class="hljs-keyword">extract</span></span>-<span class="hljs-built_in"><span class="hljs-built_in">text</span></span>-webpack-<span class="hljs-keyword"><span class="hljs-keyword">plugin</span></span> <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><p>  Add the following changes to <code>webpack.config.js</code> : </p><br><pre> <code class="hljs java">... <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ExtractTextPlugin = require(<span class="hljs-string"><span class="hljs-string">"extract-text-webpack-plugin"</span></span>); ... <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = { entry: [ ... <span class="hljs-string"><span class="hljs-string">'./src/scss/style.scss'</span></span> ], ... <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>: { rules: [{ ... { test: /\.(sass|scss)$/, include: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/scss'</span></span>), use: ExtractTextPlugin.extract({ use: [{ loader: <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>, options: { sourceMap: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, minimize: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, url: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> } }, { loader: <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>, options: { sourceMap: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> } } ] }) }, ] }, plugins: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ExtractTextPlugin({ filename: <span class="hljs-string"><span class="hljs-string">'./css/style.bundle.css'</span></span>, allChunks: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, }), ... ] };</code> </pre> <br><p>  Notice that at the entry <code>entry</code> points we added a new input file <code>style.scss</code> , but the output file was not specified in <code>output</code> , but in the call to the ExtractTextPlugin plugin in the <code>plugins</code> section.  We include support for sourceMap source maps for <code>sass-loader</code> and <code>css-loader</code> packages. </p><br><p>  You may also notice that there is no <code>style-loader</code> package, which is most often mentioned when working with css in a Webpack.  This package embeds css code in the HTML file, which can be convenient for single-page applications, but not for multi-page ones. </p><br><p>  And the most controversial moment.  For the <code>css-loader</code> package, we added a <code>url</code> parameter equal to <code>false</code> .  What for?  By default, <code>url=true</code> , and if Webpack, when building css, finds links to external files: background images, fonts (for example, in our case there is a link to the <code>url(../fonts/Roboto-Regular.ttf)</code> font file <code>url(../fonts/Roboto-Regular.ttf)</code> ), then it these files will ask to somehow handle.  To do this, most often use <code>file-loader</code> packages (copies files to the build folder) or <code>url-loader</code> (trying to embed small files into HTML code).  In this case, the relative relative paths to the files in the compiled css can be changed. </p><br><p>  But what problem encountered in practice.  I have a <code>src/scss</code> with scss code.  There is a <code>src/img</code> folder with images that are referenced in the SSS code.  All is well.  But, for example, I needed to connect a third-party library to the site (for example, lightgallery).  Its SCSS code is located in the <code>node_modules/lightgallery/src/sass</code> , which refers to the pictures from the <code>node_modules/lightgallery/src/img</code> folder through relative paths.  And if we add library styles to our <code>style.scss</code> , the <code>file-loader</code> will look for pictures of the <code>lightgallery</code> library in my <code>src/img</code> folder, and not where they are.  And I could not overcome it. </p><br><p>  <strong>Update.</strong>  The last problem can be <a href="https://habr.com/users/odrin/" class="user_link">solved</a> , as <a href="https://habr.com/users/odrin/" class="user_link">Odrin</a> suggested, with the help of the <a href="https://github.com/bholloway/resolve-url-loader">resolve-url-loader</a> and file-loader packages. </p><br><div class="spoiler">  <b class="spoiler_title">Solution example</b> <div class="spoiler_text"><pre> <code class="hljs coffeescript">... <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { ... module: { rules: [ ... { test: <span class="hljs-regexp"><span class="hljs-regexp">/\.(png|jpg|gif)$/</span></span>, use: [ { loader: <span class="hljs-string"><span class="hljs-string">'file-loader'</span></span>, options: {name: <span class="hljs-string"><span class="hljs-string">'img/[name].[ext]'</span></span>} } ] }, { test: <span class="hljs-regexp"><span class="hljs-regexp">/\.(sass|scss)$/</span></span>, include: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/scss'</span></span>), use: ExtractTextPlugin.extract({ use: [{ loader: <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>, options: { sourceMap: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, minimize: <span class="hljs-literal"><span class="hljs-literal">true</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>url: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }, { loader: <span class="hljs-string"><span class="hljs-string">"resolve-url-loader"</span></span> }, { loader: <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>, options: { sourceMap: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } } ] }) } ... ] }, ... };</code> </pre> <br><p>  That is, the resolve-url-loader package instead of relative paths sets the paths that the webpack will understand.  And already file-loader will copy the necessary files.  The problem is the name property in the file-loader.  If you specify it as <code>name: '[path]/[name].[ext]'</code> , then in my example the folder <code>dist\node_modules\lightgallery\src\img</code> appears in the dist folder, in which there are already images.  No, the css will have the correct paths to this folder, but it will not be nice.  Therefore, it is better to specify the file name without a path (for example, <code>name: 'img/[name].[ext]'</code> ).  True, then all the pictures will go into one folder - it will not always be useful. </p></div></div><br><p>  Therefore, by setting the <code>url=false</code> we say that we don’t touch all the links to the files in the SCSS code, we don’t change the paths, we don’t copy and we don’t embed any files: we’ll deal with them separately.  Perhaps this solution is bad, and you suggest a more correct approach. </p><br><h2 id="sborka-html-stranic">  Building HTML Pages </h2><br><p>  Let's turn to the funniest one: to build the HTML pages, where I have the most difficulties. </p><br><p>  To build HTML pages we will use the <code>html-webpack-plugin</code> that supports various types of templating tools.  We also need the <code>raw-loader</code> package. </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> html-webpack-<span class="hljs-keyword"><span class="hljs-keyword">plugin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">raw</span></span>-loader <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><p>  As HTML template we will use default template template lodash.  This is what a typical HTML page will look like before build: </p><br><pre> <code class="hljs kotlin">&lt;% <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> = { title: <span class="hljs-string"><span class="hljs-string">" | "</span></span>, author: <span class="hljs-string"><span class="hljs-string">"Harrix"</span></span> }; %&gt; &lt;%= _.template(require(<span class="hljs-string"><span class="hljs-string">'./../includes/header.html'</span></span>))(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) %&gt; &lt;p&gt;text&lt;/p&gt; &lt;%= _.template(require(<span class="hljs-string"><span class="hljs-string">'./../includes/footer.html'</span></span>))(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) %&gt;</code> </pre> <br><p>  First, in the <code>data</code> variable, we register all our variable pages that we want to use on this page.  Then we embed the header and footer templates via <code>_.template(require())</code> . </p><br><p>  An important clarification.  In articles about building HTML pages via the <code>html-webpack-plugin</code> , you usually <code>html-webpack-plugin</code> embedded templates via the command: </p><br><pre> <code class="hljs lisp">require('html-loader!./../includes/header.html')</code> </pre> <br><p>  But at the same time, the syntax of lodash will not work in these embedded templates (I still do not understand why this happens).  And the data from the <code>data</code> variable will not be transferred there.  Therefore, we force the webpack to say that we embed exactly the template that needs to be processed as a lodash template. </p><br><p>  Now we can use full lodash syntax in embedded templates.  In the code file <code>header.html</code> below through <code>&lt;%=title%&gt;</code> print the title of the article. </p><br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!doctype html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"favicon/favicon.ico"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"css/style.bundle.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=title%</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/logo.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"logo"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  The html-webpack-plugin package <a href="https://github.com/jantimon/html-webpack-plugin">has the ability to</a> generate several HTML pages: </p><br><pre> <code class="hljs pgsql"> plugins: [ <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> HtmlWebpackPlugin(), // Generates <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.html <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> HtmlWebpackPlugin({ // <span class="hljs-keyword"><span class="hljs-keyword">Also</span></span> generate a test.html filename: <span class="hljs-string"><span class="hljs-string">'test.html'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'src/assets/test.html'</span></span> }) ]</code> </pre> <br><p>  But to prescribe for each page the creation of its own instance of the plugin is definitely not good.  Therefore, we automate this process by finding all the HTML files in the <code>src/html/views</code> folder and create our own versions of <code>new HtmlWebpackPlugin()</code> for them. </p><br><p>  To do this, make the following changes in the <code>webpack.config.js</code> file: </p><br><pre> <code class="hljs javascript">... const HtmlWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-webpack-plugin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateHtmlPlugins</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">templateDir</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> templateFiles = fs.readdirSync(path.resolve(__dirname, templateDir)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> templateFiles.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> parts = item.split(<span class="hljs-string"><span class="hljs-string">'.'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = parts[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> extension = parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">.html`</span></span>, <span class="hljs-attr"><span class="hljs-attr">template</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${templateDir}</span></span></span><span class="hljs-string">/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">.</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${extension}</span></span></span><span class="hljs-string">`</span></span>), <span class="hljs-attr"><span class="hljs-attr">inject</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, }) }) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> htmlPlugins = generateHtmlPlugins(<span class="hljs-string"><span class="hljs-string">'./src/html/views'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { ... { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.html$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">include</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/html/includes'</span></span>), <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [<span class="hljs-string"><span class="hljs-string">'raw-loader'</span></span>] }, ] }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: [ ... ].concat(htmlPlugins) };</code> </pre> <br><p>  The <code>generateHtmlPlugins</code> function will search all HTML pages.  Please note that the function code has an <code>inject: false</code> setting that tells Webpack that you do not need to embed links to the js and css file into the HTML code yourself: we will do everything manually in the <code>header.html</code> and <code>footer.html</code> . </p><br><p>  It should also be noted that embedded templates are processed by the plugin <code>raw-loader</code> (the file contents are simply loaded as text), and not by the <code>html-loader</code> , as is most often suggested.  And also, as in the case of CSS, I don’t use the <code>file-loader</code> or <code>url-loader</code> packages. </p><br><p>  And there remains the last optional moment for working with HTML.  JavaScript file and CSS file will be minimized.  But I want to make HTML files, on the contrary, beautiful and not minify.  Therefore, after the assembly of all HTML files, I want to go through some beautify plugin.  And then a setup was waiting for me: I did not find a way to do this in the Webpack.  The problem is that you need to process the files after the embedded templates are inserted. </p><br><p>  Found a <a href="https://www.npmjs.com/package/html-cli">html-cli</a> package that can do this independently of the Webpack.  But he has 38 installations per month.  That is, it means two options: either no one needs to bring HTML files to a beautiful appearance, or there is another popular solution I don’t know about.  And for the sake of just this one function, Gulp doesn't want to be screwed. </p><br><p>  Install this plugin: </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> html-cli <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><p>  And in the <code>package.json</code> file, we register two more scripts, which, after the Webpack work, will result in a beautiful appearance of the HTML files with a tab setting in two spaces. </p><br><pre> <code class="hljs objectivec"> <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"build-and-beautify"</span></span>: <span class="hljs-string"><span class="hljs-string">"del-cli dist &amp;&amp; webpack --mode production &amp;&amp; html dist/*.html --indent-size 2"</span></span>, <span class="hljs-string"><span class="hljs-string">"beautify"</span></span>: <span class="hljs-string"><span class="hljs-string">"html dist/*.html --indent-size 2"</span></span> },</code> </pre> <br><p>  <strong>Update 2018.04.11</strong> Notice that I have added <code>del-cli dist</code> to the <code>build-and-beautify</code> <code>del-cli dist</code> , which clears the <code>dist</code> folder before building. </p><br><p>  Therefore, for the final build, I recommend using not the * <strong>npm run build command</strong> , but the <strong>npm run build-and-beautify command</strong> . </p><br><h2 id="kopirovanie-ostavshihsya-faylov">  Copy remaining files </h2><br><p>  We generated js, css files, HTML pages.  There are still files of images, fonts, etc., which we did not touch and deliberately did not copy via <code>file-loader</code> or <code>url-loader</code> .  Therefore, we will copy all the remaining folders through the <code>copy-webpack-plugin</code> : </p><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> copy-webpack-<span class="hljs-keyword"><span class="hljs-keyword">plugin</span></span> <span class="hljs-comment"><span class="hljs-comment">--save-dev</span></span></code> </pre> <br><p>  In the <code>webpack.config.js</code> file <code>webpack.config.js</code> will make changes: </p><br><pre> <code class="hljs cs">... <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> HtmlWebpackPlugin = require(<span class="hljs-string"><span class="hljs-string">'html-webpack-plugin'</span></span>); ... module.exports = { ... plugins: [ ... <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CopyWebpackPlugin([{ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/fonts'</span></span>, to: <span class="hljs-string"><span class="hljs-string">'./fonts'</span></span> }, { <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/favicon'</span></span>, to: <span class="hljs-string"><span class="hljs-string">'./favicon'</span></span> }, { <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/img'</span></span>, to: <span class="hljs-string"><span class="hljs-string">'./img'</span></span> }, { <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/uploads'</span></span>, to: <span class="hljs-string"><span class="hljs-string">'./uploads'</span></span> } ]), ]... };</code> </pre> <br><p>  Everything.  Now with the <strong>npm run build-and-beautify</strong> command we <strong>build the</strong> project and the collected static site appears in the <code>dist</code> folder. </p><br><p><img src="https://habrastorage.org/webt/ia/1g/dg/ia1gdgshhgtaieb8f9nghnloves.png"></p><br><h2 id="itogovye-fayly">  Summary files </h2><br><div class="spoiler">  <b class="spoiler_title">Package.json file:</b> <div class="spoiler_text"><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"static-site-webpack-habr"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"HTML template"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"dev"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack --mode development"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"build"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack --mode production"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"build-and-beautify"</span></span>: <span class="hljs-string"><span class="hljs-string">"del-cli dist &amp;&amp; webpack --mode production &amp;&amp; html dist/*.html --indent-size 2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"watch"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack --mode development --watch"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --mode development --open"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"beautify"</span></span>: <span class="hljs-string"><span class="hljs-string">"html dist/*.html --indent-size 2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"clear"</span></span>: <span class="hljs-string"><span class="hljs-string">"del-cli dist"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"bootstrap"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"jquery"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.3.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"popper.js"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"babel-core"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.26.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"babel-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"babel-preset-env"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.6.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"copy-webpack-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.5.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.28.11"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"del-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"extract-text-webpack-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0.0-beta.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"html-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"html-webpack-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.2.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.8.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"raw-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.5.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.6"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"webpack"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.5.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"webpack-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.0.14"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"webpack-dev-server"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.3"</span></span> } }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Webpack.config.js file:</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ExtractTextPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"extract-text-webpack-plugin"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CopyWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'copy-webpack-plugin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> HtmlWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-webpack-plugin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateHtmlPlugins</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">templateDir</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> templateFiles = fs.readdirSync(path.resolve(__dirname, templateDir)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> templateFiles.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> parts = item.split(<span class="hljs-string"><span class="hljs-string">'.'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = parts[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> extension = parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">.html`</span></span>, <span class="hljs-attr"><span class="hljs-attr">template</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${templateDir}</span></span></span><span class="hljs-string">/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">.</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${extension}</span></span></span><span class="hljs-string">`</span></span>), <span class="hljs-attr"><span class="hljs-attr">inject</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, }) }) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> htmlPlugins = generateHtmlPlugins(<span class="hljs-string"><span class="hljs-string">'./src/html/views'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: [ <span class="hljs-string"><span class="hljs-string">'./src/js/index.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'./src/scss/style.scss'</span></span> ], <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'./js/bundle.js'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">devtool</span></span>: <span class="hljs-string"><span class="hljs-string">"source-map"</span></span>, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.js$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">include</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/js'</span></span>), <span class="hljs-attr"><span class="hljs-attr">use</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'babel-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">presets</span></span>: <span class="hljs-string"><span class="hljs-string">'env'</span></span> } } }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(sass|scss)$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">include</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/scss'</span></span>), <span class="hljs-attr"><span class="hljs-attr">use</span></span>: ExtractTextPlugin.extract({ <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">sourceMap</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">minimize</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">sourceMap</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } } ] }) }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.html$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">include</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/html/includes'</span></span>), <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [<span class="hljs-string"><span class="hljs-string">'raw-loader'</span></span>] }, ] }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ExtractTextPlugin({ <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'./css/style.bundle.css'</span></span>, <span class="hljs-attr"><span class="hljs-attr">allChunks</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CopyWebpackPlugin([{ <span class="hljs-attr"><span class="hljs-attr">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/fonts'</span></span>, <span class="hljs-attr"><span class="hljs-attr">to</span></span>: <span class="hljs-string"><span class="hljs-string">'./fonts'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/favicon'</span></span>, <span class="hljs-attr"><span class="hljs-attr">to</span></span>: <span class="hljs-string"><span class="hljs-string">'./favicon'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/img'</span></span>, <span class="hljs-attr"><span class="hljs-attr">to</span></span>: <span class="hljs-string"><span class="hljs-string">'./img'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">from</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/uploads'</span></span>, <span class="hljs-attr"><span class="hljs-attr">to</span></span>: <span class="hljs-string"><span class="hljs-string">'./uploads'</span></span> } ]), ].concat(htmlPlugins) };</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Template file index.html:</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">var</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title:</span></span></span><span class="hljs-tag"> " | ", </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">author:</span></span></span><span class="hljs-tag"> "</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Harrix</span></span></span><span class="hljs-tag">" }; %&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">_.template</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">require</span></span></span><span class="hljs-tag">('</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">..</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">includes</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">header.html</span></span></span><span class="hljs-tag">'))(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag">) %&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"uploads/test.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">_.template</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">require</span></span></span><span class="hljs-tag">('</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">..</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">includes</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footer.html</span></span></span><span class="hljs-tag">'))(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag">) %&gt;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Header header file file.html:</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!doctype html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"favicon/favicon.ico"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"css/style.bundle.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=title%</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/logo.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"logo"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Template file footer.html:</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=author%</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/bundle.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Generated index.html:</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!doctype html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"favicon/favicon.ico"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"css/style.bundle.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/logo.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"logo"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"uploads/test.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span>Harrix<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/bundle.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><h2 id="ishodniki">  Sources </h2><br><p>  <a href="https://github.com/Harrix/static-site-webpack-habr">Link</a> to the repository with the draft. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/350886/">https://habr.com/ru/post/350886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350874/index.html">When business grows: virtual numbers in DEF format</a></li>
<li><a href="../350878/index.html">Everything about IP addresses and how to work with them</a></li>
<li><a href="../350880/index.html">Lightweight finite state machine with a tree autogenerator for embedded projects</a></li>
<li><a href="../350882/index.html">(Not) original greeting for March 8</a></li>
<li><a href="../350884/index.html">Analog Clock, CSS and Nothing More</a></li>
<li><a href="../350888/index.html">Service Portal: how does a single interface work for interacting with an IaaS provider?</a></li>
<li><a href="../350890/index.html">The Power of Open: The Power of Openness</a></li>
<li><a href="../350892/index.html">Customize Syncthing. Blue insulating tape in small business and at home</a></li>
<li><a href="../350894/index.html">Digest of interesting materials for the mobile developer # 244 (March 5 - March 11)</a></li>
<li><a href="../350896/index.html">Effective data compression methods when training neural networks. Lecture in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>