<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Open letter to JS leaders regarding semicolons</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I received such a letter from Shaun Silva last night: 
 I was reviewing your code for the npm.js project (specifically this file: https://github.com/i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Open letter to JS leaders regarding semicolons</h1><div class="post__text post__text-html js-mediator-article">  I received such a letter from Shaun Silva last night: <br><blockquote>  I was reviewing your code for the npm.js project (specifically this file: <a href="">https://github.com/isaacs/npm/blob/master/lib/npm.js</a> ), and noticed that you align commas under 'r 'in var expressions, and under [and {in array / object literals.  I really like this way of formatting, but I hesitate to use it, since most of the resources about js instill fear of the chaos that reigns in the code due to the automatic semicolon if you don‚Äôt finish the lines with something that suggests continued <br>  Is it safe to place commas in this way in the ‚Äúbrowser‚Äù code, or is it only possible in a node? </blockquote><br>  I wrote several paragraphs, and decided to shorten them to the following answer: <br><blockquote>  Yes, it is completely safe, and it is a completely valid JS, understood by every browser.  Closure compiler, yuicompressor, packer, and jsmin - everyone can properly minify it.  Productivity will not anywhere. <br>  I am sorry that instead of teaching you, the leaders of this language‚Äôs community instilled in you lies and fears.  It's a shame.  I recommend learning how the JS instructions are actually terminated (and in which cases they are non-determinable) ‚Äîand you can write code that you find fine. </blockquote><br><a name="habracut"></a><br>  Inimino posted a <a href="http://inimino.org/~inimino/blog/javascript_semicolons">very clear explanation</a> .  In his style - clear, clear, authoritative, with good research - and he, as always, kept his opinion to himself. <br>  I'm going to be a little more biased. <br><br><h3>  rules </h3> In general, <code>\n</code> always ends expressions, except for the following cases: <br><ul><li>  The expression carries an unclosed parenthesis, an array literal, an object literal, or ends in any other way that is not a legal way to close an expression (for example, ends with <code>.</code> Or); </li><li>  The string is a <code>--</code> , <code>++</code> (in the event that the next token is decremented / incremented); </li><li>  These are <code>for()</code> , <code>while()</code> , <code>do</code> , <code>if()</code> , or <code>else</code> , and there is no line <code>{</code> </li><li>  The next line starts with <code>[</code> , <code>(</code> , <code>+</code> , <code>*</code> , <code>/</code> , <code>-</code> ,,, <code>.</code> , Or any binary operator that can be in one expression only between two tokens. </li></ul><br>  The first rule is pretty obvious.  Even JSLint does not object to <code>\n</code> characters in JSON, in constructions with brackets, and in <code>var</code> expressions that extend over several lines ending in,. <br>  The second is very strange.  I have never met such things (except for these kinds of conversations) that someone would like to write <code>i\n++\nj</code> , but, in fact, it is parsed as <code>i; ++j</code>  <code>i; ++j</code> , not like <code>i++; j</code> <code>i++; j</code> <br>  The third is well understood, although they are usually neglected: <code>if (x)\ny()</code> equivalent to <code>if (x) { y() }</code> .  This construct does not end until a block or expression is encountered. <code>;</code>  is a valid JavaScript expression, so <code>if(x);</code>  is equivalent to <code>if(x){}</code> or "if x, do nothing." This usually applies to cycles in which the check is also an update of the counter.  Unusually, but occurs. <br>  The fourth, usually <a href="http://ru.wikipedia.org/wiki/FUD">FUD</a> suggestive, ‚Äúoh, neta, you need a semicolon!‚Äù Is the case.  But it turns out, it‚Äôs quite simple to prefix such lines with semicolons if you didn‚Äôt want to make them continue with the previous ones. <br>  For example, instead of: <pre> <code class="javascript hljs">foo(); [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>].forEach(bar);</code> </pre>  can write: <pre> <code class="javascript hljs">foo() ;[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>].forEach(bar)</code> </pre> <br>  The advantage is that prefixes are <i>easier to</i> notice, since you decided to never start a line with <code>(</code> or <code>[</code> without a semicolon. <br><br><h3>  Limited rule </h3>  Another standard argument for semicolons is related to AIS and restricted rules.  For example, if you have <code>\n</code> right after the token <code>return</code> , <code>throw</code> , <code>break</code> , <code>continue</code> , or <code>++</code> or <code>--</code> in postfix form (for example, <code>x++\n</code> or <code>y--\n</code> ), then this will end the expression - without exception . <pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// return 7 //,  return 7</span></span></code> </pre>  And once again: in spite of this, it is <i>easier to</i> notice and prevent such things as soon as you unaccord yourself with completing each expression with a semicolon.  When I meet the second rule, my brain instinctively associates <code>\n</code> c "ok, that's all," because a <code>return</code> always enough to terminate <code>return</code> . <br>  Aligning the most important tokens on the left side of the screen makes them clearly easier for quick human analysis.  Piles of fast-reading studies and eye movements state that the missing token on the right is overlooked more likely than the missing token on the left.  So - I repeat - move less important things to the right, and put more important things to the left. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  So which style is better? </h3>  To the extent that there is an objectively ‚Äúbest style‚Äù at all, it seems to me that the ‚Äúminimum commas / commas first‚Äù style is <b>slightly</b> better;  for two reasons: because this style is better readable and because it encourages developers to better understand the language they use. <br>  I can guarantee that no matter how little you care, my JS code worries me less than mine cares about you.  This is not an article where I try to convince you to write code in my style.  <a href="http://groups.google.com/group/nodejs/msg/428220ab8cd199d2">Everyone must decide what the policy of wearing pants in his house</a> . <br>  As a manifestation of goodwill ... <br><br><h3>  Good reasons to dot the semicolon </h3>  The reasons for the overuse of semicolons are aesthetics and politics. <br>  "I put semicolons in JS, because otherwise it will not be valid C / C ++ / Java / More."  If you have to write a lot of Java or C code in a project, and you want your JS to not stand out too much, then this is a good argument.  (Project <a href="http://cassisjs.org/">Cassis</a> brings this argument to an absurd conclusion). <br>  "We do it because we use a linter, and the linter tells it so."  Consistency is important, and linters are one of the ways to achieve code consistency for a group.  The task of writing a linter that is compatible with npm is on my todo list, but not very high. <br><br><h3>  The most terrible reasons everywhere to put a semicolon </h3>  ‚ÄúThey are mandatory because ASI is unreliable‚Äù Oh, come on ?? <br>  These rules go back to the dawn of the JS, to the late 90s.  They are not new, and my opinion - there is no forgiveness to anyone who calls himself a professional in JS and does not understand the rules for interrupting expressions.  <b>It is frankly irresponsible on the part of the JS community leaders to continue spreading ambiguity instead of understanding.</b> <br>  Moreover, the typical place where AIS attacks by sneak is limited rules.  <b>Adding semicolons in each line will not force <code>return\nfoo</code> return anything other than <code>undefined</code> .</b>  The problem is that you <b>use a newline</b> , and not that you <b>do not put a semi-colon</b> . <br>  The only way to <i>permanently</i> prevent errors with limited rules is to always use semicolons and <i>never line breaks</i> .  No one offers this.  So stop talking about it as if it matters, or suggest redundant semicolons as an alternative to understanding ASI.  You must understand ASI to be a competent JS programmer, period. <br>  And this leads us to the fact that ... <br><br><h3>  I become all of myself biased and enrage you (despite the noble attempt to do the opposite) </h3>  If you don‚Äôt understand how expressions are terminated in JS, then you simply don‚Äôt know JS properly, and you don‚Äôt have to write to JS professionally without supervision, and <i>definitely</i> don‚Äôt give advice on how to write it. <br>  I think I just insulted you.  Very sorry.  I know that you know a lot of things <i>about</i> JS - such as DOM, and CSS, and MSIE bugs, and jQuery.  You probably spent some time studying closures, and prototypes, and scopes, and activation objects, and even wrote several extensions for V8 or SpiderMonkey.  You are not stupid, I am sure.  In fact, you are probably smarter than me, and probably prettier and look better.  I am sure: we have a lot in common, and we could be friends. <br>  But if you do not understand <i>what an expression is in JS</i> , then in your understanding of what is probably the most fundamental aspect of language is a huge hole. <br>  And that's fine.  I don't speak Spanish very well and my C is, in general, at a novice level;  and I do not call myself an expert in these things - although I know enough to get out in most situations.  If I was going to a job that involves a lot of conversations in Spanish or a lot of C - I would like someone to look after me in order to help avoid some serious mistakes. <br>  Like most things in JS, the expression termination rules are <i>not well</i> designed, but they are <i>not very difficult</i> to understand and use.  This understanding just takes a little time and effort. <br>  Sit back with hot chocolate and the ECMAScript specification sometime Saturday night.  Practice it.  Play with the test programs.  This is a good pastime. <br>  Or do not do it if you do not want.  This is your life.  Surely you have better classes. <br>  Just stop making authoritative statements like "end all lines with a semicolon to be safe."  It is no safer or more reliable. <br><br><h3>  Addition 1: "Leaders" </h3><blockquote>  So, mr-ironing-against-wool, who are these ‚Äúleaders‚Äù that you are talking about?  Why don't you name names? </blockquote><br>  Because there are so many of them, and I do not know them all. <br>  If you have been writing to JS for some time and giving advice or supervising someone who has less experience, then I appeal to you.  Being a leader is a responsibility.  Take it seriously.  Do not spread lies.  Be an expert, or admit that you are not.  But do not drive this car without a license. <br><br><h3>  Addition 2: Adepts of Literate Programming </h3>  <i>(comment of the translator: literary programming means)</i> <blockquote>  But in English we put punctuation marks at the end, not at the beginning. </blockquote><br>  JavaScript is not English.  We also do not denote possession (or an object-verb relation) using a point in English.  There are no object literals in English, and we indent only the first line of the paragraph, not all sentences. <br>  This is such a stupid argument that I have no choice but to fall in love with him. <br>  I started to insult you, but you have won my heart, the Adept of Competent Programming.  From now on, I will put line breaks only at the end of functions, not in the middle, and indent the first line of each of them. <br><br><h3>  Addition 3: Pedantry </h3><blockquote>  What are you getting into my code?  Are you a pedant stol? </blockquote><br>  Write the code as you wish.  I don't have the slightest deal. <br>  Just please don't lie to people.  That is all I ask.  This is only a small politeness.  It is not difficult.  Just tell the truth instead of lying - that's what I'm talking about. <br><br>  <i>(from the translator: as a translator, I want to express my gratitude for the help with the translation and proofreading work of my beloved philologist)</i> </div><p>Source: <a href="https://habr.com/ru/post/136860/">https://habr.com/ru/post/136860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136852/index.html">PostgreSQL: Unique keys for a distributed database. Practice</a></li>
<li><a href="../136853/index.html">Restore defocused and blurred images</a></li>
<li><a href="../136855/index.html">API maps from 2GIS: review</a></li>
<li><a href="../136858/index.html">Japanese operator shows ads in the alert zone on their Android phones</a></li>
<li><a href="../136859/index.html">Anonymous will launch their MegaUpload</a></li>
<li><a href="../136861/index.html">28 years ago the first Mac was released</a></li>
<li><a href="../136862/index.html">Udacity: first 2 courses</a></li>
<li><a href="../136863/index.html">YouTube - one hour per second</a></li>
<li><a href="../136864/index.html">Implementing Iterators in C # (Part 2)</a></li>
<li><a href="../136865/index.html">Check list of stupid things - Limoncelli</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>