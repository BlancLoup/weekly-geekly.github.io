<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data Ensemble Workflow Visualization with InterSystems DeepSee</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When automating business processes in an enterprise, a person still has to do some of the tasks: coordination of various information, enrichment of da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data Ensemble Workflow Visualization with InterSystems DeepSee</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/219/abb/b93/219abbb933794c598f39ed97c72ec254.png" alt="DeepSeeWeb"><br><br>  When automating business processes in an enterprise, a person still has to do some of the tasks: coordination of various information, enrichment of data from analog sources and much more.  The InterSystems Ensemble integration bus for solving this class of problems has an <a href="https://habrahabr.ru/company/intersystems/blog/251611/">Ensemble Workflow</a> subsystem that allows people to participate in automated business processes.  As a result of the work of the Ensemble Workflow subsystem, a large amount of information is accumulated about who performed the tasks and how many.  In this article, using the BI-technology InterSystems DeepSee, about which I recently <a href="https://habrahabr.ru/company/intersystems/blog/335586/">wrote on Habr√©,</a> we will analyze and visualize this information. <a name="habracut"></a></p><br><h3 id="analitika">  Analytics </h3><br><p>  By default, Ensemble provides <a href="">business metrics</a> and the Workflow Tasks Workflow Portal page (Management Portal ‚Üí Ensemble ‚Üí Manage ‚Üí Workflow ‚Üí Workflow Tasks or SMP ‚Üí Ensemble ‚Üí Management ‚Üí Work Flow ‚Üí Work Flow Tasks) for high-level task management: </p><br><p><img src="https://habrastorage.org/web/735/75c/358/73575c3589d24a72a3c050bf76e861f3.png" alt="Workflow assignments"><br><br>  Doesn't this look like a fact table for a DeepSee cube?  This is true, so I decided to build a <a href="">DeepSee cube</a> based on the <a href="">EnsLib.Workflow.TaskResponse</a> class: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/web/624/145/425/6241454250e748a4a92f0434ba55113f.png" alt="Cube"><br><br>  In this cube, I store information about each task, namely: </p><br><ul><li>  The user who completed the task </li><li>  Role of task </li><li>  When it was created and completed </li><li>  A priority </li><li>  Current status </li><li>  Completed the task </li><li>  Time spent on the task </li></ul><br><p>  Most of the elements of the cube are created by simply dragging the class property onto the cube area, but here are the most interesting ones: </p><br><p> CompletionTime - task execution time in minutes.  It is calculated as follows: <code>$System.SQL.DATEDIFF("minute",%source.%TaskStatus.TimeCreated,%source.%TaskStatus.TimeCompleted)</code> </p><br><p>  The SQL listing is defined as follows ( <code>$$$SOURCE</code> is the fact table, and <code>$$$RESTRICT</code> is the filter used by DeepSee): </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TaskStatus_RoleName <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"Role"</span></span>, TaskStatus_IsComplete <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> IsCompleted, %<span class="hljs-keyword"><span class="hljs-keyword">Status</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"Status"</span></span>, TaskStatus_Source <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> BusinessProcess, TaskStatus_AssignedTo <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"User"</span></span>, %Subject <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"Subject"</span></span>, %Message <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"Message"</span></span>, TaskStatus_TimeCreated <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"TimeCreated"</span></span>, TaskStatus_TimeCompleted <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"TimeCompleted"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">DATEDIFF</span></span>(<span class="hljs-string"><span class="hljs-string">'minute'</span></span>, TaskStatus_TimeCreated, TaskStatus_TimeCompleted) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-string"><span class="hljs-string">"CompletionTime"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> $$$<span class="hljs-keyword"><span class="hljs-keyword">SOURCE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> $$$RESTRICT</code> </pre> <br><p>  Now let's build a cube and some widgets.  I decided to build one dashboard showing the main indicators: </p><br><ul><li>  Average time spent by the user and role to complete the task </li><li>  The number of tasks that are currently not working or not completed </li><li>  The number of tasks completed during the period </li></ul><br><p>  <a href="http://37.139.6.217:57772/dsw/index.html">Here is a demo</a> dashboard (Login: dev / Password: 123).  It is displayed using <a href="https://github.com/intersystems-ru/DeepSeeWeb">DeepSeeWeb</a> (web application on AngularJS and Highcharts for rendering DeepSee dashboards in the browser. <br><br><img src="https://habrastorage.org/web/219/abb/b93/219abbb933794c598f39ed97c72ec254.png"><br><br>  Data drill down and drill down are also available: <br><br><img src="https://habrastorage.org/web/bda/36d/a58/bda36da589ce41aaa62539bebef4a2b2.png"><br><br>  You can perform workflow tasks <a href="">on the test server</a> using the HelpDesk application and see the changes on the dashboard (the cube is built once per hour). </p><br><p>  Login: dev / Password: 123 <br>  Here‚Äôs what Ensemble Workflow looks like when using <a href="https://habrahabr.ru/company/intersystems/blog/251611/">EnsembleWorkflowUI</a> : <br><br><img src="https://habrastorage.org/web/b4e/9b5/0da/b4e9b50da6c24e52a7a56da2367c6c09.png"><br><br><img src="https://habrastorage.org/web/5f0/5b2/6e3/5f05b26e3e994902a8105a151896a57f.png"></p><br><h3 id="zaklyuchenie">  Conclusion </h3><br><p>  Ensemble Workflow data can be visualized and analyzed using InterSystems DeepSee BI technology.  This is a basic OLAP solution project, and can be easily extended as needed. </p><br><h3 id="ssylki">  Links </h3><br><ul><li>  <a href="https://github.com/intersystems-ru/EnsembleWorkflowBI">Github</a> </li><li>  <a href="">Documentation</a> </li><li>  <a href="https://habrahabr.ru/company/intersystems/blog/335586/">Article about DeepSee on Habr√©</a> </li><li>  <a href="https://habrahabr.ru/company/intersystems/blog/251611/">Article about Ensemble Workflow on Habr√©</a> </li><li>  <a href="https://community.intersystems.com/post/ui-ensemble-workflow-angular">Ensemble Workflow article on Community</a> </li><li>  <a href="">EnsLib.Workflow.TaskResponse</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/337262/">https://habr.com/ru/post/337262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../337252/index.html">Epic Growth Conference - grocery marketing conference in Moscow</a></li>
<li><a href="../337254/index.html">Nonfictional stories about advertising budgets</a></li>
<li><a href="../337256/index.html">How to enter IT: a new set of HeadHunter School of Programmers</a></li>
<li><a href="../337258/index.html">SCS Protection Day - how to remove more gigabit from Wi-Fi</a></li>
<li><a href="../337260/index.html">Visual Explanation of Floating Numbers</a></li>
<li><a href="../337264/index.html">Poker AI: how to teach algorithms to bluff</a></li>
<li><a href="../337268/index.html">The largest manufacturer of avionics, Rockwell Collins will buy for $ 30 billion</a></li>
<li><a href="../337270/index.html">Top 10 internships for IT professionals</a></li>
<li><a href="../337272/index.html">How to create a racist AI, without even trying. Part 2</a></li>
<li><a href="../337274/index.html">Abbreviated Properties</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>