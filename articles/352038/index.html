<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we won the mess with iron and became bureaucrats from scratch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The difference between documentation and knowledge base: the documentation says that this device cools the air to +18 degrees Celsius, and the knowled...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we won the mess with iron and became bureaucrats from scratch</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/7x/0b/sg/7x0bsgh6mxscm3uacgwkz1eez3c.jpeg"><br>  <i>The difference between documentation and knowledge base: the documentation says that this device cools the air to +18 degrees Celsius, and the knowledge base suggests that there is a rare bug when two sensors immediately show -51 thousand degrees and the device starts to feverishly warm the air for servers.</i> <br><br>  <b>When you start a new small project, then you have a piece of iron lying on the floor, there is no documentation, there is no nifiga at all, and work can be done.</b>  Then the project grows to the size of several hundred people and thousands of pieces of iron, and you need to know where everything exactly lies, how to do it, and so on. <br><br>  Need a normal account of everything.  Need documentation.  There is no need for situations where you do not know how much and what is in your warehouse.  There is no need for a story that when an engineer gets sick, the others call him at home and ask how he configured the server a year ago.  There is no need for a story when someone said to raise 10 servers and two different people did it differently. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But we started with a simple one.  The questions were: Who updates the server firmware?  Who is responsible for the result?  How it's done?  Who should be warned?  How to write a rollback plan and what to do if the server crashes?  Someone recorded all the phones you need in advance at least? <br><br>  In general, the very first rake will either kill you to hell or teach you to do everything right.  We had the second and without a rake.  Almost without a rake.  If you already have chaos, then our experience may be useful, because now we feel better. <br><a name="habracut"></a><br><h3>  Accounting for iron </h3><br>  The very first and simple thing is to consider where the iron is and what it does.  It is necessary for working with changes, for inventories and for proper accounting.  For example, the memory bar burned in the server - you need to start an incident with the vendor and change it.  The vendor will immediately ask what the FRU number is.  The number of the strip is written on the piece of iron itself, and also the number can be viewed in IMM (but only when it works).  That is, if there is no accounting, the engineer will go to the computer room, turn off the server, pull out the bar (that is, because he does not know the FRU, but he knows the DIMM) and, squinting his eyes, will tell her number. <br><br>  It would be correct to scan all the numbers from the bar itself and start the server, or after starting the server, read the data from the bars remotely (workers can be viewed remotely) to quickly understand where the failed memory is and what is its number. <br><br>  Well, in general it would be good to understand what the server is in, when the warranty expires, which project is used for, which configuration, and so on.  When servers become more than a hundred, it is already difficult to manage infrastructure without a constantly updated map.  I do not want to leave it to the carriers of unique knowledge, such as experienced operators, who know as a souvenir as a souvenir. <br><br>  You also need to have the described service-resource model, have some kind of spare parts, understand what is in case of an incident.  In the case of a new client in the same part that is closed under the GIS PD, we must understand well what equipment and how many licenses we have, what resources we have, which we could connect. <br><br>  We started with such cards for each server: <br><br><img src="https://habrastorage.org/webt/su/md/nh/sumdnh19of_aq-fct0txukbpdla.png"><br><br>  As you can see, all serials have been taken into account, the hardware performance characteristics have been rewritten and there may be service operators comments on specific pieces of iron.  And the card indicates when it started and when support will end, that is, you can set up reports on this ‚Äî this is useful for planning expenses. <br><br><img src="https://habrastorage.org/webt/ej/3w/r4/ej3wr4byeytozeslx0itkgim_hm.png"><br><br>  And the card says where it all stands and what is stuck inside.  You can see the following hierarchy: <br><br><img src="https://habrastorage.org/webt/1c/ca/mf/1ccamf9wi4p3mqu9-nzlywp2ace.png"><br><br><img src="https://habrastorage.org/webt/2v/19/gb/2v19gbouzomtskjkvycxsh7pnym.png"><br><br><img src="https://habrastorage.org/webt/fa/zv/lm/fazvlmdaxyrboe_dufiout1midc.png"><br><br>  Cards are visible here in this list: <br><br><img src="https://habrastorage.org/webt/kc/ts/s4/kctss4q9jr9ojbmftyt3m1ew8sy.png"><br><br>  We started with the servers, then we went to the switches, transceivers, then we began to make the elements of the SCS - how much is there, where everything is, how it is connected.  All servers are described - you can open any, see where it is, in which data center, in which room, in which rack, in which unit, what is plugged in, how it is connected.  We made a bundle with the accounting department with fixed assets - they have the server counted as a unit, and now we know which card and network drives are installed in it.  The disks are generally the same, differ in serials, and where it is - before that it was unclear.  And now even a contract is attached to each one, according to which it is delivered.  Practical convenience is that in the accounting department a large amount of equipment is included in one main asset, and in our country it is separated by racks, which can be in different halls, or in general in spare parts.  Now, with any query (inventory) of the accounting department and the client, we can quickly find all items of the asset. <br><br><img src="https://habrastorage.org/webt/we/_p/fv/we_pfvsnso1c8s8v1tb4nhk6pjq.png"><br>  <i>An example of a disk card, we know everything about it</i> <br><br><h3>  Now the processes </h3><br>  When ordering the soul with iron, for its further maintenance it is necessary to begin to prescribe processes.  For example, a bank drives into a cloud and you need to add capacity for it.  We need a formulation of the problem with the architecture and the description to determine what to add, where to add, how to configure, how to organize the network. <br><br>  Previously, we discussed this in the mail, the task was described in the task tracker, and then, when everything was agreed, the operation went and did. <br><br>  Now there are two types of processes.  If the changes are standard, then all the individual parts of the processes ‚Äúselect the port there‚Äù are already described (including the work plan, the return plan, the test plan, whether the executors are defined, etc.), and each can get on the calendar changes in ServiceNow.  Since the process is standard, there is no need for approvals, responsibility is immediately appointed, deadlines are set, and all this falls on specific performers.  There is an SLA for each change, the applicant understands the time frame for his task. <br><br>  An example is port allocation.  The port can not be allocated everywhere.  First, there are, for example, 100 switches, different, each with 48 ports.  Ports 100 * 48, but this does not mean that any can be distinguished.  The switches are located in different data centers, halls.  You need to understand which ports you can select, which ones you don‚Äôt.  According to the standard change plan, the engineer knows where and which ports to allocate, does not allocate previously reserved ones.  The second is that the port should interact with something, respectively, different settings should be applied (security, speed, band limitation, QOS setting, etc.), all this is either described in the request or indicated in the change plan.  Third - we know how much is allocated for us, how much is reserved, this is very useful for the subsequent design. <br><br>  If the changes are non-standard, then the change after registration falls on the change-manager.  There is a design of what and how, the architecture for implementing changes, work plans, risks, rollback plans are evaluated, the idle time is determined, who is responsible for the work, after which everything is sent for approval ... In general, the same script sequence is written with all forks from the last item.  The person who writes this describes the risks (which he sees) and prepares a rollback plan for each case.  After that, the process of change falls on the change committee.  CAB members are pre-determined for areas of responsibility.  Then each participant looks at the change plan and rollback plans and agree or not.  If necessary - refinement.  If necessary, the windows will agree.  After all approvals, tasks are set for the performers.  But in practice it turned out that we are not so big.  In the combat system, the KAB is left ‚Äúfor growth‚Äù as an entity in the system; in fact, these are managers and / or architects. <br><br>  Each change has a change-manager (executive officer), he is responsible for the change, a shift watch follows all changes, monitors monitoring and communicates with customers in emergency situations.  The change is closed only after the shift on duty confirms its working capacity, the change-manager checks according to the test plan and updates the CMDB and documentation. <br><br>  The fact is that the result should be recorded in the documentation, and everything that was done during the change should be reflected in the asset database.  Elementary update connectivity.  That's just after that, everything will be closed. <br><br>  These are the processes we began to write: <br><br><img src="https://habrastorage.org/webt/t6/yw/ev/t6ywevih2oayi1dvhlnbf0f7xcu.png"><br><br>  The difference with the process and without it is that there is more documentation and bureaucracy with the process, but it is clearer what to do.  Previously, whoever he wanted, he did so.  It is clear that while there are few people, all this was kept on unwritten standards.  Grew up - it took them to write, plus without this it is impossible to manage a large number of processes.  Appeared area of ‚Äã‚Äãresponsibility.  Appeared different SLA for different cases.  There was a duty to prepare plans, to warn all concerned, and also to coordinate and document everything at the end.  Then it all automated in ITSM: <br><br><img src="https://habrastorage.org/webt/ep/5p/ag/ep5page3nx77hko55_kaei56jus.png"><br><br><h3>  Knowledge base </h3><br>  All work within the changes associated with the configuration elements.  By registering a change, we know that there is a standardized process: how the work should be performed, on what equipment, and a circle of people is defined - who agrees, who performs, who does what, if something goes wrong, and so on. <br><br>  We immediately see the risks, and in the future - and the cost of work. <br><br>  But this is not enough. <br><br>  You need a knowledge base that describes what the process does not describe.  For example - a rare bug in the firmware.  Or how best to assemble a rack.  Or how to connect.  Here is an example entry: <br><br><img src="https://habrastorage.org/webt/u9/ct/tl/u9cttlrfwuiwc4via88mayaevzy.png"><br><br>  This is done mainly from the documents that the architect writes at the planning stage.  But sometimes engineers and change-managers add something new after doing the work. <br><br>  You have no idea what a thrill to look at the records about the piece of iron and know what was done with it and how it was before.  And what a thrill it will be in 3-4 years - just can not convey. <br><br><img src="https://habrastorage.org/webt/e9/xv/dc/e9xvdcxvanmp6r0m8miaypp4o8o.png"><br><br><h3>  Stock </h3><br>  The next part of the story is warehousing.  We have spare parts, tools, packaging from test equipment.  We kept all this right in the offices where the shift shift, the maintenance department and the architects were sitting.  When engineers assembled for installation in the data center, they sometimes went to cabinets to collect equipment and consumables (patchcords, transceivers, etc.).  This leads to chaos, and chaos is cool at first. <br><br>  Again, a little bureaucracy - and here we have described the spare parts (more precisely, most, a number of things are still in the "box with small things").  There is address storage in the software, but for now the warehouse is not ready to implement it organizationally - each piece will have coordinates in the form of a place on the rack.  When the engineer is assigned the task of installation, something like ‚Äútake this switch there, then these SFPs here, these patchcords are attached to the task.  Here are their shelves, shelves. <br><br><h3>  Roles to change </h3><br>  In part, I have already described change management.  Another thing in this story is that we have a role distribution: <br><br><img src="https://habrastorage.org/webt/ey/5n/jj/ey5njjtkzfzf7omushhksqwoehu.png"><br><br>  That is, if you are from the VMWare network group, you can submit an application only in the VMWare zone.  Each role has a list of processes that it can do, and a list of tasks that its members can set.  That is, the entire organizational structure of the company can also be entered into ITSM. <br><br><h3>  Who fights chaos? </h3><br>  We fight the whole team, but I am responsible for the result.  By the way, there is still a lot of work.  My position is called ‚Äúprogram manager‚Äù.  This is something like a project manager with the task of maintaining a plan and a list of interdependent projects that must be implemented to achieve a common goal. <br><br>  Before that, I was engaged in putting things in order in retail, in particular, automated accounting and deliveries in a large retail network of stores for correct accounting, reducing costs for acceptance and accounting of goods, and reducing the time for goods to be delivered to the shelf.  I can say that in an IT company the process of change goes much more smoothly - everyone understands why it is. <br><br>  When it became clear that any new engineer could raise the documentation, pick up what was done, read the tuner logs (not only those where someone took care of the descendants out of spiritual kindness, but any) and did not collect the bikes from colleagues I understand where we are going. <br><br>  There was nothing at the start, and we started work from several sides.  The full result has not yet been achieved, but in six months we have become more understandable in working with iron, processes and changes.  The cloud is evolving, and this is his logical step.  It was not necessary to do it right away, but now is the time. <br><br>  The other day we are introducing a new warehouse into test operation and continuing to fight chaos along other vectors.  Work before the fence, but the results are visible to all.  If it is interesting, I can tell a couple of stories from retail - there the same projects are complicated by the fact that they, it happens, are actively resisted by the end users and the leaders of other departments.  Well, and plus - all need to be taught, and for many - to win thinking "we already worked normally, do not touch." <br><br><blockquote>  The text was prepared by Boris Kosolapov, project manager for automation of <a href="http://ts-cloud.ru/%3Futm_source%3Dhabrahabr%26utm_medium%3Dreferral%26utm_campaign%3DKak_my_pobezhdali_bardak_s_zhelezom_i_stanovilis_byurokratami_s_nulya">Technoserv Cloud</a> . </blockquote></div><p>Source: <a href="https://habr.com/ru/post/352038/">https://habr.com/ru/post/352038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352028/index.html">IT asset management: how myths affect projects</a></li>
<li><a href="../352030/index.html">Static site optimization: tenfold acceleration</a></li>
<li><a href="../352032/index.html">Interview with designer Alexander Burt about work and life in Brussels</a></li>
<li><a href="../352034/index.html">How we model the subject area in second-order predicates and do not notice this</a></li>
<li><a href="../352036/index.html">Presented by Jenkins X for CI / CD cloud applications at Kubernetes</a></li>
<li><a href="../352040/index.html">Seminar ‚ÄúHow does ERP live in the cloud? Experience, scripts, rakes ", March 29, St. Petersburg</a></li>
<li><a href="../352042/index.html">As in 2009, we began to build a cloud, and where we made a mistake</a></li>
<li><a href="../352044/index.html">We found a large company that has not been engaged in information security for 5 years and is still alive</a></li>
<li><a href="../352048/index.html">Hackathon Design</a></li>
<li><a href="../352050/index.html">Reverse "Neuromant". Part 1: Sprites</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>