<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TsOD: model for assembly</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My name is Sergey Kubasov, I‚Äôm deputy technical director of the Mail.Ru Group. Recently on the DCDE forum, I talked about our experience in creating a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TsOD: model for assembly</h1><div class="post__text post__text-html js-mediator-article">  My name is Sergey Kubasov, I‚Äôm deputy technical director of the Mail.Ru Group.  Recently on the DCDE forum, I talked about our experience in creating and organizing our own data center.  Now I decided to share our discoveries with Habr's readers. <br><img src="https://habrastorage.org/getpro/habr/post_images/20f/ab2/254/20fab2254c534e490d1f15512311f116.jpg"><br><br><h1>  How it was </h1><br>  At the beginning of the history of our own data center, we collaborated with five service organizations that serviced air conditioning and ventilation, diesel generator sets, uninterruptible power supplies, automatic electricity and gas fire suppression systems.  At that moment it seemed that this was the best solution, since  ‚ÄúThe same people‚Äù are built and exploited ‚Äî that is, they know the system completely. <br><a name="habracut"></a><br>  Having worked in this way for three years, we summarized the results and made a list of the most serious risks that can be encountered in this mode of operation.  The first is <b><i>oversale services</i></b> ;  this is when the contractor promises to react to an emergency within five hours, but cannot comply with this deadline if the accident occurs even among one of his clients.  For example, if it serves three facilities and an emergency has already happened on two, then on the third it will not have time not only during the time specified in the contract, but also in any adequate time period.  By the way, geographic features and traffic congestion in Moscow play their role here.  No matter how hard you try, in rush hour, in less than two hours, do not reach the object located on the outskirts of the city. <br><br>  The second risk in using the full range of services from contractors is related to the <b><i>supply of spare parts and consumables</i></b> .  When buying a package of services from a contractor, he will surely wind up to at least 10% of the cost.  We are faced with a surcharge of 50‚Äì100% of the base price, for which the same parts can be bought in the ‚Äúnearby store‚Äù.  At the same time, the contractor also tried to save on time, delaying delivery to 4-6 weeks, while consumables were sometimes needed right now, or urgent supplies of spare parts were also offered at an inflated price ‚Äúfor urgency‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And last but not least, <b><i>after a long cooperation, some companies relax</i></b> , and regardless of how critical the situation is, they react only after payment.  There was a force majeure, and the contractor says that he is ready to come to you only after you transfer the money for the services and they will be credited to the account (within 1-2 business days).  What happens to the equipment left without air conditioning or electricity backup, I think everyone understands. <br><br>  After evaluating all the risks, we decided to create our own operation service. <br><br>  Now Mail.Ru Group projects are located in five leased data centers and in our own data center. <br><br><h1>  Filling: data center service </h1><br>  In our data center (total area - 2100 sq. M., The building has about 450 racks, the equipment on which is able to consume up to 4 MW of electricity) we have created our own data center service system.  It can be divided into two components. <br><br>  <b><i>Maintenance of engineering systems</i></b> - power supply, ventilation, diesel generator sets, UPS, fire extinguishing systems and others.  The direction is led by a leading electrical engineer, who has shift engineers on duty as well as an air conditioning and ventilation engineer serving the entire facility.  It is these people who perform daily rounds, respond to incidents, repair malfunctions right on the spot, without ringing up and figuring out who to call and how to escape.  Thus, we have provided for our data center an immediate response to any emergency.  In addition, employees themselves carry out planned work and measurements, correct deficiencies in the operation of the system, and provide facility upgrades. <br><br>  <b><i>Server fleet maintenance</i></b> .  This direction is managed by the head of service of hardware-engineers.  Also here is a shift on duty.  Their main task is to monitor and ensure response: in other words, if they see red instead of a green signal, they need to open the corresponding instruction, find out who is responsible for such situations, and contact this person. <br><br><h1>  Monitoring as a guarantee of health data center </h1><br>  Speaking of monitoring.  In the work of the data center it is extremely important to detect in time a deviation from acceptable indicators and react to it promptly.  Naturally, competent monitoring plays a major role here.  We organized monitoring of all the critical elements of our system, while trying not to get into the technological wilderness, when another service is required to maintain the monitoring system itself. <br><br>  <b><i>Electricity</i></b> <br><br>  We monitor the status of the UPS from several sides, as it is a key element of the entire system.  Here we have several control systems involved;  for example, if there are any changes in the network state, the entire management team of the operation service receives an SMS with information about the failure.  About six people were signed to the newsletter, of which someone will necessarily respond and take measures to eliminate the problem. <br><br>  To monitor the state of the introductory lines, we decided to use not modern, but tried and tested military technologies used in rocket mines.  These are ordinary control panels on lamps: the green lamp is on - everything is fine, the red lamp is on.  In the case of a sophisticated monitoring system, a situation is possible when the data center rushes, and you don‚Äôt even know about it, because you are busy repairing the system itself.  And our control panels (at a cost of several thousand rubles) are very reliable - there is simply nothing to break! <br><br>  <b><i>Temperature and humidity</i></b> <br><br>  Another important point is the control of temperature and humidity in the data center.  We have developed a system for monitoring these indicators, while also taking the cheapest solution - sensors that collect statistics and visualize the situation on the map.  We did not use the boxed solution, but simply bought about a hundred sensors and assembled ourselves a system that constantly shows in which corner of the building we have what temperature.  In the event of a change in the allowable limits, it also sends SMS to those responsible and issues alerts to the centralized monitoring system. <br><br>  <b><i>Bypass checklists and permissible limits</i></b> <br><br>  If earlier we had just instructions for rounds, now we have made checklists.  The checklist is a piece of paper in which it is written, what to look for during the tour, and the lower and upper permissible limits for each item are indicated.  There is also a graph, which describes what to do if the value has gone beyond the specified limits.  According to the results of each inspection, we have a completed checklist;  rounds are made every 4 hours.  Completed checklists are filed in a journal, at which you can look at any moment and find out what the situation was yesterday or, say, last spring.  Our magazine is very ordinary, paper;  we chose this option of data storage because people who are engaged in electrics are sometimes very far from IT technologies, and it may be necessary to check the indicators.  A person with any qualification can take a folder from the shelf, open and view the necessary information;  we simply removed another barrier to responding to an emergency. <br><br><h1>  Hole placement strategy and other discoveries </h1><br>  Unfortunately, in practice, not everything went so smoothly.  We found out many things when creating a data center solely on our own hard experience.  As a result, we managed to resolve all emergency and unforeseen situations, but some cases are still remembered with laughter and shudder at the same time. <br><br>  There were funny cases that could lead to very serious consequences.  For example, we entrusted contractors with the purchase of air conditioners for the data center.  As it turned out later, contractors were guided by what was massively represented on the market, and settled on one of the simple solutions from a well-known company. <br><br>  To ensure a proper level of redundancy, we use dual-circuit air conditioning.  During regular checks, we were surprised to find that on one evaporator the <b><i>boiling point of the refrigerant</i></b> is normal and an expected + 3 ¬∞ C, and on the other it drops to -0.5 ¬∞ C.  That is, our air conditioner has become a freezer.  And this did not happen at any time, but only under certain weather conditions. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/193/b77/90a/193b7790a4541e5293abebddbea8064c.png"><br><br>  It turned out that the engineers had made a mistake in the location of the evaporators relative to the air intake opening - they were offset from the center, and as a result, the air flow and heat load were not evenly distributed between the circuits.  We finally repaired this file from the manufacturer very simply - we saw the missing window in the case. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b2/0d9/664/4b20d9664c5995b5e2725134d4b0d673.png"><br><br><h1>  Results </h1><br>  After all the perturbations and changes, we were able to organize such a service, which previously we could only dream of.  We reduced the response time to the incident from two hours to five minutes, optimized the purchase of spare parts and consumables, reduced maintenance costs. <br><br>  In our own data center, we are constantly improving our engineering systems, working on upgrading the monitoring and dispatching system.  Since we ourselves operate the system, we have the opportunity to analyze the existing shortcomings and take measures to eliminate them. <br><br>  For three years we have worked exclusively with contractors.  Two years ago, we had our own exploitation service, which we are pleased with.  Of course, we continue to use the services of third parties, but now within the framework of risk reduction.  We have our own engineers who alone serve the whole facility.  In case such a person cannot go on duty for some reason, we have a service contract with a minimum cost for each of the systems - just to let us call and request help if necessary. <br><br>  Another big bonus is that we now have the qualifications and extensive experience to control the work of contractors.  Since we ourselves serve our data center, we can evaluate the quality of the work of third-party companies: from complete solutions to the weld.  And, of course, we have the opportunity to choose the performer of work.  We are not tied to any service organization: we can solve the problem ourselves, but we can order inspection and repair from a third-party company. <br><br>  We apply the accumulated experience in rented data centers.  I hope that it will be useful for you too - and maybe you want to share your own in the comments. </div><p>Source: <a href="https://habr.com/ru/post/219409/">https://habr.com/ru/post/219409/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219389/index.html">Epson Connect - printing from anywhere in the world</a></li>
<li><a href="../219393/index.html">New cloud solutions based on IBM System z mainframe</a></li>
<li><a href="../219395/index.html">Phishers extend front</a></li>
<li><a href="../219397/index.html">Smart City: Are you ready to sacrifice privacy for efficiency?</a></li>
<li><a href="../219399/index.html">Google buys Titan AeroSpace, despite the uncertainty about the commercial use of drones</a></li>
<li><a href="../219413/index.html">Development of alternative energy in the private sector. Difficult path to customer</a></li>
<li><a href="../219417/index.html">From the ISS will try to conduct data transmission to Earth using lasers</a></li>
<li><a href="../219419/index.html">Suggestions for learning programming language</a></li>
<li><a href="../219423/index.html">System and business intelligence in anticipation of the most significant event of the sphere!</a></li>
<li><a href="../219425/index.html">Adventure game that is played by changing its Javascript code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>