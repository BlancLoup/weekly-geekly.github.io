<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video hosting development on Erlang</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We present to your attention the report by Maxim Lapshin made at the Application Developer Days conference. We have put together video and audio, pres...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video hosting development on Erlang</h1><div class="post__text post__text-html js-mediator-article">  We present to your attention the report by Maxim Lapshin made at the <a href="http://addconf.ru/">Application Developer Days</a> conference.  We have put together video and audio, presentation slides, as well as a transcript of the report.  The latter required tremendous effort, but it is clearly worth it.  The forty-minute report can be ‚Äúheard‚Äù several times faster. <br><br>  Brought together the video and presentation into a single video clip, and also recorded the transcript of Stas Fomin (man and <s>steamboat</s> locomotive :)). <a name="habracut"></a><br><br><h4>  annotation </h4><br>  <a href="http://maksim-lapshin.moikrug.ru/">Maxim Lapshin</a> ( <a href="https://habrahabr.ru/users/erlyvideo/" class="user_link">erlyvideo</a> ), developer of scalable web services, spoke about the development of video streaming server for Erlang.  This is an open-source project <a href="http://erlyvideo.org/">ErlyVideo</a> - a growing, reliable, scalable and free server for broadcasting any video - from security cameras to video conferencing.  Of particular interest is the technology, because it was the choice of such a little-known language like Erlang, which ensured high reliability, scalability and speed of development. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Erlang is a reliable object language for creating network services.  The concepts of processes and data uncomfortableness adopted in it make it the only platform in which both garbage collection and the fixed time of death of an object exist at the same time.  The semantics of the language is one of the simplest among the common ones on the market. <br><br>  These features make Erlang an excellent choice for serving statefull clients: a video streaming server (erlyvideo), the most common jabber server (ejabberd), poker servers (OpenPoker), etc.  The report examines why it is very convenient to do this at Erlang. <br><br><h4>  Video </h4><br><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/17406277&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhiJt0gdGbnfFjL8qqKgJXxx2kC9hg" width="560" height="315" frameborder="0" title="Video hosting development on Erlang (Maxim Lapshin on ADD-2010)" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br><br><h4>  Podcast </h4><br>  <a href="http://belonesox.podfm.ru/addconf/19/">Link to the podcast</a> . <br><br><h4>  Presentation </h4><br>  <a href="http://lib.custis.ru/images/7/72/%25D0%25A0%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D0%25B2%25D0%25B8%25D0%25B4%25D0%25B5%25D0%25BE%25D1%2585%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0_%25D0%25BD%25D0%25B0_Erlang_%2528%25D0%259C%25D0%25B0%25D0%25BA%25D1%2581%25D0%25B8%25D0%25BC_%25D0%259B%25D0%25B0%25D0%25BF%25D1%2588%25D0%25B8%25D0%25BD_%25D0%25BD%25D0%25B0_ADD-2010%2529.pdf">Link to PDF with slides</a> . <br><br><h4>  Transcript </h4><br><blockquote>  The transcript of the video recorded Stas Fomin. </blockquote><br><h5>  What is streaming? </h5><br>  Good afternoon, my name is Maxim Lapshin, I am the author of the <a href="http://erlyvideo.org/">ErlyVideo</a> video streaming server written in <a href="http://ru.wikipedia.org/wiki/Erlang">Erlang</a> , and today I would like to tell you what this product is, why it was made, what it is, why I did it all. <br><br>  So, what is streaming in general? <br><blockquote>  <b>Slide:</b> <br>  YouTube is not streaming </blockquote>  What is YouTube?  A huge number of different videos are stored there, but this is not a streaming project, there is no streaming.  There are just ten-second videos that are given to you by nginx-ohm, well, or another web server. <br><br>  Each browser comes in, gets some video and loses it.  But this has nothing to do with streaming video.  Where, then, is all this used, what is it all about? <br><br><h5>  Custom TV </h5><blockquote>  <b>Slide:</b> <br>  User uploads video files <br><ul><li>  Makes a playlist </li><li>  At the request of other playlist starts playing </li><li>  If no one needs, then the video is not played </li></ul></blockquote>  Let's look at the task of custom television, which I recently had.  So, the idea is what the user uploads his files, almost like on YouTube, then he creates a playlist of them, which he wants to be shown as a TV program on ordinary television. <br><br>  After that, other users come at some time, not necessarily at the right time.  They come whenever they want, they see his interesting playlist, they like his program, they want to see what he has taken.  And then, when all users diverge, they became uninteresting, it was necessary to release all these resources that were downloaded. <br><br>  Why not do it all on the usual nginxe? <br><br>  It seems like a run-in technology, for the same YouTube it works, but no, it does not work. <br><br><h5>  What makes a streamer? </h5><blockquote>  <b>Slide:</b> <br>  What makes a streamer? <ul><li>  Unpacks video and audio from file containers </li><li>  Packs in shipping container </li><li>  Sends frames synchronously with real time </li></ul></blockquote>  The problem is that it is necessary to transfer the available files to the video stream.  Because it is necessary monotonously for all users to show the same thing. <br><br>  For this task, you just need a streamer, that is, a streaming video server that will do this. <br><ol><li>  He will take the necessary files from those containers in which they lie on your disk. </li><li>  Packs them in a shipping container, which will be able to deliver the video to those users who came to see it. </li><li>  And it is very important to understand that it sends frames synchronously with real time. </li></ol>  So, if you log in, in half an hour you get real time by the hour, you get half an hour in real time, which is from a file.  If you just download a file, you could download it much faster. <br><br><h5>  Codecs Retreat </h5><br>  A small digression for everyone to understand what codecs and containers are, so that there is no confusion.  A codec is something that you really want ..., this is the format of the raw data captured from the matrix of a video camera, or there from a microphone. <br><br>  The container is what the already encoded data is packed into.  For example, if you met h264 or AAC, then these are video and audio codecs, respectively.  And MP4 ... - there is no such codec, it is a container into which absolutely any video and absolutely any sound can be removed. <blockquote>  <b>Slide:</b> <ul><li>  Codec - format for presenting compressed audio and video data </li><li>  Container - the packaging format of one or more audio and video streams in a file or stream </li><li>  H.264 / AAC - the best codecs </li><li>  MP4 - the smallest file container </li></ul></blockquote><h5>  Stages User TV </h5><blockquote>  <b>Slide:</b> <br>  Stages User TV <br><ul><li>  Download playlist </li><li>  Unzip file </li><li>  Pack frames into a transport container (RTMP, MPEG-TS, ...) </li><li>  Clean up everything when customers leave. </li><li>  Allow to update the code without disconnecting clients </li></ul></blockquote>  So, what is the server doing, showing custom television?  It downloads playlists, unpacks files, repacks them, cleans up everything, and a very important thing, which I did not mention separately, is that in this task it is very important to update the code without disconnecting clients, because there are up to a thousand, ... many thousands customers who came to see an interesting video.  If we want to roll out an update for them at this moment, then these thousands of clients will come to us again, reconnect. <br><br>  Besides the fact that it is banal just inconvenience for users, it is also very, very, very expensive, because our traffic will be completely blocked. <br><br><h5>  Traditional solutions </h5><br>  What do people usually do on such decisions?  Traditional solutions are traditional tools - Java, C ++, they have products that stream video.  For example, Red5, free, paid Wowza, written in Java, or rtmpd, written in C ++. <br><br><h5>  Parsing mp3 to java </h5><br>  What is the problem‚Ä¶?  Well, I gave an example, this is a small piece of code, like parsing RTMP in Java, this is a small piece of code, one hundredth of a file. <br><br>  This is how any Java server looks like, you can look closely - this is a small, small, part of the file.  To understand this is very difficult. <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (id3v1 <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> ID3V1_1Tag) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Add the track property graph.add(mp3Resource, processor.resolveIdentifier(IdentifierProcessor.TRCK), factory.createLiteral("" + ((ID3V1_1Tag) id3v1).getAlbumTrack())); } catch (GraphException graphException) { throw new ParserException( "Unable to add track number to id3v1 resource.", graphException); } catch (GraphElementFactoryException graphElementFactoryException) { throw new ParserException( .... —ê 600   graphElementFactoryException); } }</span></span></code> </pre> <br><h5>  Parsing mp3 to Erlang </h5><br>  This is all you need to write on Erlange to decode MP3s.  Everything.  Five lines.  It is already all unpacked and can be sent to users. <br><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&lt;&lt;</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2#11111111111</span></span></span></span><span class="hljs-function"><span class="hljs-params">:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">11</span></span></span></span><span class="hljs-function"><span class="hljs-params">, VsnBits:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, LayerBits:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, _:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, BitRate:</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span><span class="hljs-function"><span class="hljs-params">, _/binary&gt;&gt; = Packet)</span></span></span><span class="hljs-function"> -&gt;</span></span> Layer = layer(LayerBits), Version = version(VsnBits), &lt;&lt;Frame:(framelength(bitrate({Version,Layer}, BitRate))/binary, Rest/binary&gt;&gt; = Packet, {ok, Frame, Rest}.</code> </pre> <br>  Accordingly, what we get - starting from the very beginning, when unpacking a file, something is not right, both in Java and in C ++, a lot of code, a lot of laid-back logic, we write in our code. <br><br>  But everything becomes ... all this syntactic sugar, it all becomes completely unimportant when thousands of clients come to us. <br><br>  And we have problems of a completely new character, without regard to whether it is convenient or inconvenient to write code there. <br><br>  What is the problem?  Well, this is all as always: memory management, so that segfolts are not flowed and caught, this is control over the resources of the clients who came to us, who need to be remembered, and who needs what and when, in order to effectively free up memory. <br><br>  In the case of C ++, we have another problem, Java allows you to somehow protect the code due to the lack of direct work with memory.  In C ++, a bug in one place, especially if you have a multi-application, it can destroy the entire application and you can never debug this bug.  You can be sure that there is a bug in any C ++ program, especially multi-thread, that you haven‚Äôt found yet, do not even expect it to be there. <br><br>  And another problem is that when you start thousands of customers, you need to be difficult to organize input-output.  It is not enough for you to just use threads, and just to write to a socket, you need to use complex libraries or events that use different complex mechanisms. <br><blockquote>  <b>Slide:</b> <br>  Problems of classic solutions with thousands of customers <br><ul><li>  Memory management: leaking or premature release </li><li>  Control over customer resources </li><li>  Chaotic destruction of the system in case of failure in one place </li><li>  I / O when serving thousands of customers </li></ul></blockquote><br>  What happens?  Red5 server crashes under a hundred users.  Ah, here unfortunately, not red turned out <br><img src="https://habrastorage.org/getpro/habr/post_images/0fc/e62/931/0fce629311585cebb18fcb29a1ea2465.jpg" alt="image"><br>  Already a hundred users server falls and does not serve customers.  Why?  Yes, because it is written poorly, when it was developed, people did not take into account the input-output issue, and now it just stops servicing. <br><br>  In the case of Wowza, we have other problems that arose with my clients - they have Vovza flows, despite the fact that there is a garbage collector in Java, somewhere some link remains, resources are not released, the server swells, and so here it looks scary. <br><img src="https://habrastorage.org/getpro/habr/post_images/bfa/86a/ed5/bfa86aed5626910019e07fee18034548.jpg" alt="image"><br>  How does this work?  Well, for example, our streaming server serves some other message delivery channel.  The user logs in, the object that was created for him is registered via some channel in the list, the link to it is remembered, the test for the object is held, the user is disconnected, but we forgot, we forgot to remove the link to it.  Everything. <br><br>  His data remained forever, we can not get information that needs to be disabled.  And that's all, until the server restarts. <br><blockquote>  <b>Slide:</b> <br>  epoll / kqueue are difficult for long connections due to memory management. </blockquote>  As for I / O, the epoll / kqueue mechanisms, for which there are libevent libraries, are the only way to serve thousands of sockets, they are very, very complex, for ... when you start complicated business logic ..., because effective memory management is Event model, in my opinion, is incredibly difficult. <br><img src="https://habrastorage.org/getpro/habr/post_images/34d/c11/202/34dc112021a9e8288660c8e8cecb5078.jpg" alt="image"><br>  Here, it turns out such a construction with a C ++ server.  You are guaranteed to start your working day by raking out the cores that have survived overnight on the file system and well, if you have enough hard disk. <br><br><h5>  Roots of problems </h5><br>  In some ways, the roots of these problems that lie, common to traditional solutions.  First, it is a shared memory. <br><img src="https://habrastorage.org/getpro/habr/post_images/b63/a49/139/b63a49139c6ecf36ba2997350b9cc101.jpg" alt="image"><br>  Here, unfortunately, the picture is not visible again. <br><br>  Shared memory that is shared between all objects that are in the system.  Anyone can go anywhere, take a link to anything, and in the end, it turns out such a construction, when all objects cross each other are referenced, and it is much more difficult for us in this situation to control the memory, who captured what, and who needs what . <br><img src="https://habrastorage.org/getpro/habr/post_images/103/5b3/940/1035b39401deb35640994a3b0a2544ba.jpg" alt="image"><br>  We must understand that these problems do not interest us when we write a website in PHP.  They do not interest us, for the reason that your application that works when servicing a web service lives one second maximum.  In one second, everything that it used can be destroyed, because all this becomes unnecessary, we already have a new request, a new connection. <br><blockquote>  <b>Slide:</b> <br>  Web approach ‚Üí ‚Äúlet it flow, we will soon arrive‚Äù ‚Üí does not work. </blockquote>  Here this will not happen, clients connected for hours, days and even more.  And it is necessary that your code works effectively, without leaking, for weeks. <br><br><h5>  Erlang solves these problems radically </h5><br>  Erlang turned out to be a platform that, surprisingly, radically solved these problems, and almost completely closed the problems I was talking about. <br><br>  This was done at 90% due to its concept of processes. <br><blockquote>  <b>Slide:</b> <br>  Processes <br><ul><li>  Parallel threads </li><li>  Isolated memory area </li><li>  Exchange by sending messages </li><li>  Variable variables </li><li>  No data outside processes </li></ul></blockquote>  Processes in Erlange, this is something like threads, in conventional systems.  They are lightweight, they take up much less space, and most importantly, they are completely isolated. <br><br>  Each process in Erlange is a box from which nothing flows out.  And we know for sure that all the memory that is in the system is guaranteed to belong to some process.  There can be no data outside the process.  That is, always, if there is a gigabyte piece of memory, like a draw, but we know what process it owns and we can beat it in order to free this data. <br><blockquote>  <b>Q:</b> But binaries are passed by reference between processes? </blockquote>  Well, this is the subtleties of implementation, but in fact these binaries can always be tracked.  They are being investigated. <br><blockquote>  <b>Question:</b> What and how? </blockquote>  We know the process knows which binaries and what size it refers to. <br><br>  Therefore, what we get is: all the data that is in the system is stored solely within enumerated processes.  You can go through all the processes in the system to find out who devoured all the memory, and stop this mockery of the system. <br><blockquote>  <b>Slide:</b> <br>  All data is stored inside enumerated objects. </blockquote>  The next feature of the process approach to organizing data within and threads of execution is that the errors that occur are hard ???  process.  If we have a mistake that we didn‚Äôt handle, which we didn‚Äôt want to intercept, we decided, letting it fall further, we are not interested in its fate, this is a fatal mistake, our process ends.  And most importantly, it is very, very similar to the release, the destruction of the object, because it is a time-known procedure, that is, we know that once the error has occurred, the process has ceased.  It will not be in an hour, not in two days, it will be right now.  And it is important to understand that the processes that have ordered ..., who want to monitor its condition, other processes that are neighboring, will receive information about it that their neighbor has died. <br><blockquote>  <b>Slide:</b> <br>  Error processing <br><ul><li>  You can catch them </li><li>  If not to catch, the process ends. </li><li>  Neighbors will find out about it through messages </li><li>  Guaranteed cleanup of resources </li></ul></blockquote>  The result is that we can monitor the status of the processes.  For example, we start a separate process that serves the connections with the user, we begin to monitor him, and if there was any error, our error in the code, most likely, the process that follows him finds out, ‚Äúaha, we have died process serving socket ".  So, in principle, there is no further sense to serve the user, there is still nothing to serve him, and it is necessary to cascadely complete all those processes that were created to serve him. <br><br>  Accordingly, in the system that is proposed, the platform that comes with this language has a system of supervisors, ready-made mechanisms, a very streamlined set of programs, there are practically no errors in them, that is, I don‚Äôt know that they have found errors lately, they work stably and allow you to restart your processes. <br><br>  Why do you need it?  For example, you have one of the most important processes in the system, this is a demon, this is a process that listens to a socket.  It is fixed on the socket, and accepts connections from the system.  You can be sure that it will work guaranteed, otherwise your entire system may all fall off (???).  Now, if it fell off, there is no point in tormenting your server. <br><blockquote>  <b>Slide:</b> <br>  Process tracking <br><ul><li>  Connections </li><li>  Supervisors </li><li>  appmon </li></ul></blockquote>  Unfortunately, I can not show on my laptop, I do not have an adapter, but I would like to show such a thing as an app monitor.  It comes with, again, a platform mechanism that allows you to graphically see a list of all the processes that you have, with their tree.  That is, we can ... this is a very useful thing, when you can see that a user is coming to you, you have created an object for him, he has requested some resources, for them just crawled (???) into some processes ... The user leaves, the processes remain - in fact it is a leak of processes, and with the help of app monitora, it all seems very clear. <br><br>  But, unfortunately, I will not show you.  :( <br><br><h5>  Erlang is a real hot code update. </h5><br>  And in Erlang there is probably the only one of all existing platforms, a real, hot code update.  It looks like this - clients are not disconnected, they continue to work, in the case of a video streamer, they continue to receive video, in the case of online games, the connection is not lost, and the code is already serving a new one. <br><blockquote>  <b>Slide:</b> <br>  Without disconnecting customers! </blockquote>  Other systems that allow this to do, I do not know. <br><br><h5>  What are the results of using Erlang? </h5><br>  And what was the result, after I decided to use the Erlang to create my own server?  It turned out our video streaming server Erlyvideo, which is now in the top two, the best in its field, according to the set of implemented features, in terms of development speed, stability and efficiency. <br><blockquote>  <b>Slide:</b> <br>  Erlyvideo: <br><ul><li>  Multiprotocol server </li><li>  Keeps thousands of clients on one server. </li><li>  Existing plugin infrastructure </li></ul></blockquote>  For example, it serves thousands of clients from one server in a perfectly normal way, now it is in production at BD (???) and works. <br><br>  It turned out to be very effective and simple, due to the dynamic typing of the language, which is naturally dynamic, because we cannot find out what the process is, therefore all communication between processes comes down to the exchange of messages.  Therefore, this language ... we can talk about the dynamic typification of this language. <br><br>  Therefore, it turned out very convenient infrastructure for plug-ins, which is also very actively developing. <br><br>  But this is a very painful topic for any product, how to correctly build a system of plug-ins.  It is very incomprehensible where to make these places, where you can stick this plugin. <br><br>  As a result, Erlyvideo perfectly solves the voiced task, the server can stand for weeks, and without restarts and without any memory leaks, there is no problem with that.  I, for example, even stand for months, and do not swell, preserving the memory at the same mark. <br><br><h5>  findings </h5><br><blockquote>  <b>Slide:</b> <br>  Tasks for streaming video have specificity that distinguishes them from the web: <br><ul><li>  Efficient and high-level tools are needed at the same time. </li><li>  Erlang fits perfectly into this niche </li><li>  Practical use has shown the effectiveness of the choice </li></ul></blockquote>  In the end, what conclusions can be drawn from the use of Erlanga for this task? <br><br>  The tasks of streaming video on the Internet have their own specifics, which greatly distinguishes them from the web.  And unfortunately, many solutions are run-in and reliable, and so understandable ... and it seems that you can easily find programmers for them, carry within themselves, in their structure, the roots of the problems that were originally suppressed in Erlange. <br><br>  You will not have these problems because ... simply because of the specifics of the organization of the code. <br><br>  Therefore, erlang fits very well in the task of servicing statefull clients.  And, practical application, showed the extreme effectiveness of this choice. <br><br><h5>  Applicability erlang </h5><br>  Well, it is clear that the niche of streaming video is a rather narrow thing, these products are only five in the market, and in principle, this is probably enough.  It makes no sense to write another server streaming video on Erlang. <br><blockquote>  <b>Slide:</b> <br><ul><li>  Video streaming (erlyvideo) </li><li>  Jabber server (ejabberd) </li><li>  Banking Processing (Privat Bank) </li><li>  Online Games (Online Poker) </li></ul></blockquote>  However, he has other niches of applicability, for example, the very best Jabbera server is made on the same erlang, this is ejabberd, it is so cool that in Yandex, for example, despite the terrible antipathy to the Erlang, they decided to use it, yes, Yash?  Doesn't Grisha love Erlang (bobuk) much?  He swore very much, spat, but they had no choice left - it says a lot about the product.  Also, for example, it is reliably known that banks make banking processing systems.  I don‚Äôt know, of course, which particular details, details, of course, are not disclosed, but I know that Privat Bank also has a number of companies transferring their long-lived processing systems to erlang, because it turns out to be convenient for them. <br><br>  And of course, online games.  People regularly appeal to me, after our success with the unwinding of the top-end VKontakte toy, that is, people turn to "we would have to make it work well and conveniently." <br><br>  I look at their problems, and I understand that they should implement their toy on an erlang, most likely.  Because business logic is not very much, but it is very specific, and all the problems that I described, they scrape using the usual technologies, rails there, or java. <br><br>  And even there is an online implementation of poker on the Erlang. <br><br><h5>  Questions? </h5><br>  So, in general, I probably have everything, so this report has turned out.  If you have any questions, I will be happy to answer them. <br><blockquote>  <b>Slide:</b> <br><ul><li>  Max Lapshin </li><li>  max@maxidoors.ru </li><li>  <a href="http://erlyvideo.org/">erlyvideo.org</a> </li></ul></blockquote><br><br>  Sessions of answers and questions did not fit into the size of habro-publication, so it should be searched <a href="http://addconf.ru/event.sdf/ru/add_2010/authors/115/154">on the conference website</a> via the ‚Äútranscript‚Äù link. </div><p>Source: <a href="https://habr.com/ru/post/114560/">https://habr.com/ru/post/114560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../114551/index.html">Generalization of the median filter</a></li>
<li><a href="../114552/index.html">Cultural differences. Experience with the French</a></li>
<li><a href="../114554/index.html">We watch any streaming video from VKontakte site, practically on any android-smartphone or tablet without flash support</a></li>
<li><a href="../114557/index.html">The second conference. NET developers in Chelyabinsk</a></li>
<li><a href="../114558/index.html">A look at auditing through the prism of the standard PCI DSS</a></li>
<li><a href="../114561/index.html">GPS monitoring - direction towards commercial vehicles</a></li>
<li><a href="../114562/index.html">HighScreen Cosmo Review: Template Break</a></li>
<li><a href="../114563/index.html">Why love your customers?</a></li>
<li><a href="../114564/index.html">Sony will release a new PlayStation 3</a></li>
<li><a href="../114565/index.html">Minibuh.ru - mini-bookkeeping for small companies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>