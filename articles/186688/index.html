<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Backup site in the cloud using vSphere Replication</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For the vast majority of companies, having two or more of their own sites is still an unaffordable luxury. And what to do with ensuring the continuity...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Backup site in the cloud using vSphere Replication</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/cd6/087/e7f/cd6087e7feccbe89b48285cca8504422.png" title="Backup platform in the cloud" alt="   " align="left"><br><br>  For the vast majority of companies, having two or more of their own sites is still an unaffordable luxury.  And what to do with ensuring the continuity of the provision of IT services in this situation?  The conclusion is obvious: if for some reason it is not possible to use the public cloud as the main site - it can be successfully used as a backup! <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      With the development of cloud technologies, an increasing number of organizations are ready to abandon their own infrastructure in favor of high-available services for <a href="http://www.it-grad.ru/uslugi/iaas/vmware-vcloud/">hosting virtual machines in the public cloud</a> . <br><br>  However, there are situations arising from the specifics of the company‚Äôs activities, the presence of projects already in place to <a href="http://www.it-grad.ru/oborudovanie/">build a private cloud</a> , specific performance, security, etc. requirements that may be temporary, but do not allow using the public cloud to host their IT services. <br><br>  Is there a technical possibility to place a backup site in a public cloud?  What difficulties will you have to face in project implementation?  Such questions increasingly arise both in the open spaces of the network and among potential consumers of cloud services.  Service providers add questions about multi-tenancy, resource efficiency, compatibility, and network infrastructure requirements. <br><br><h4>  Classic DRS Solutions </h4><br>  Classic solutions for creating backup sites or Data Recovery sites have always amazed the man in the street with its complexity.  In the first place, this concerned data replication, which was to be carried out by means of storage systems, which, in turn: <br>  ÔÉº <ul><li>  greatly raised the bar for storage requirements, </li><li>  impose restrictions on the choice of storage vendors to ensure compatibility, </li><li>  required the purchase of expensive licenses. </li></ul><br>  Yes, and the software itself to manage the backup and recovery had (and has at the moment) a significant cost.  A vivid example of such a solution is VMware Site Recovery Manager.  However, technology does not stand still, and increasing competition in the market forces manufacturers to open new opportunities to solve old problems. <br><br><h4>  New approach - replication at the hypervisor level </h4><br>  One of these new features was <i>VMware vSphere Replication</i> technology, which debuted as part of VMware Site Recovery Manager version 5.0, and then included in the vSphere 5.1 virtualization platform, <i>free of charge and in almost all editions!</i> <br><br>  This technology has provided the ability to replicate data between sites <i>at the hypervisor level</i> , without using the special storage capabilities.  And almost immediately there was an interest of companies with their own virtual infrastructures based on vSphere, to the potential to organize a backup copy of their information systems with ‚Äúlittle blood‚Äù. <br><br>  But the decoupling from the storage system did not only reduce the cost and simplify the replication systems, it also provided an important opportunity for replication between the ‚Äúuncoordinated‚Äù across the storage systems and independently managed infrastructures.  And, in fact, opened the way to a simple and effective implementation of the backup platform in the cloud. <br><br><h4>  VSphere Replication technology </h4><br>  The vSphere Replication technology from the user's point of view is very simple.  Changes made to the virtual machine disks on the main site are monitored by the hypervisor, and then synchronized with the backup site in accordance with the specified RPO (Recovery point objective) policies.  In this case, the synchronization is managed by the virtual appliance virtual machines of the VR Appliance located in both sites, and the data between the sites is transferred from the hypervisor on the primary site to the VR Appliance on the backup. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b94/5b8/6ef/b945b86efab7ed7379f5ca66a45fce40.png" title="The vSphere Replication technology, in fact, opened the way to a simple and efficient implementation of a backup platform in the cloud" alt="image"><br><br>  At the same time, this technology is available to both ordinary users of the vSphere platform for organizing data replication with manual control, and as part of the Site Recovery Manager, which allows flexible management of the failover and giveback process, with appropriate automated network reconfiguration, periodic non-destructive testing, and more .P. <br><br><h4>  Using vSphere Replication in practice </h4><br>  When another client approached us with a proposal to organize a backup site, less than a month had passed since vSphere 5.1 was released.  But almost immediately, this technology of replication became the main option considered in this project. <br><br>  Using vSphere as a virtualization platform on both sides, differences in the used storage systems all determined the choice of replication technology, and the lack of business need to implement automatic failover made it possible to avoid the extra cost of using SRM. <br><br>  The first stage of the project was the formation and implementation of a network diagram that ensures the secure and fast transfer of replicated data over dedicated channels, and in the case of a failover, a painless transition of users to work with a backup site. <br><br>  The channels were organized on the basis of a provider who already provided the client with services for merging branches based on a ‚Äúvirtual switch‚Äù, to which a new link to the service provider was added, to provide routing and ‚Äúintegration‚Äù of the reserve site into the existing infrastructure of the customer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/842/0a3/1aa/8420a31aaa90a3695c57d7501aa25426.png" title="When replication is functioning (direct or reverse) in such a scheme, traffic is routed to the service provider‚Äôs site or client‚Äôs headquarters using routers; in the event of a failover, client gateways change to the client‚Äôs server networks in which virtual machines are located" alt="   (  )           -     ,   failover-         ,     "><br><br>  When replication is functioning (direct or reverse) in such a scheme, traffic is routed to the service provider‚Äôs site or client‚Äôs headquarters using routers; in the event of a failover, client gateways change to the client‚Äôs server networks in which virtual machines are located.  Thus, the entire infrastructure is working at the site of the service provider without reconfiguring the network on the virtual machines. <br><br>  The second stage of the project was the configuration and testing of the vSphere Replication itself in relation to this task.  It must be said that the technology, which in fact has already experienced its second release, is successfully operating out of the box, in standard configurations.  However, the specifics of this implementation ‚Äî independent infrastructures on both sides of the replication ‚Äúlink‚Äù, the need to differentiate users' rights to the service provider's infrastructure ‚Äî required considerable time to tinker with the settings and even make some changes in the infrastructure to enable the previously unused technology to function. <br><br>  During testing, attention was paid not only to functional testing of the circuit, but also to load testing on real data ‚Äî it was necessary to ensure that the RPO was maintained at the selected channel width.  As a result, it was decided to expand the previously configured 100Mbps channel to 1Gbps to ensure the replication rate margin when conducting regular maintenance operations on client servers ‚Äî for example, reindexing and database rebuilding, generating an increased amount of changes. <br><br>  The third and final stage of the project was the initial replication of more than 10TB of data to the service provider's site and the launch of the system for industrial use.  At the same time, in order to conduct periodic testing of the possibility of restoring the infrastructure, an additional routing scheme was created, in which only the artificial user group performs the work with the infrastructure raised in the private network located at the service provider‚Äôs infrastructure. <br><br><h4>  Conclusion <br></h4><br>  Is it possible to <a href="http://www.it-grad.ru/resheniya/disaster-recovery-infrastructure-drs/">organize a backup site</a> in the cloud now? <br><br>  The principal answer is yes, it is possible. <br><br>  Customers still have to reckon with some assumptions - with incomplete compliance of such solutions with the ideology of ‚Äúcloudiness‚Äù - for example, with insufficient elasticity and the need to use the service provider‚Äôs support service instead of self-service interfaces in some cases.  Service providers, in turn, have to reckon with the limited applicability of technologies in a multi-tenant environment, while there are still restrictions on the compatibility of various virtualization platforms. <br><br>  However, the world does not stand still, and the first project is usually followed by new ones, and with the support of vendors, I am sure that the practice of organizing backup sites in the cloud will soon become ubiquitous. </div><p>Source: <a href="https://habr.com/ru/post/186688/">https://habr.com/ru/post/186688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../186674/index.html">Using CMAK to automate VPN client connections</a></li>
<li><a href="../186676/index.html">Babbage</a></li>
<li><a href="../186678/index.html">Overview and tests of the new MacBook Air (2013)</a></li>
<li><a href="../186682/index.html">Without knowing the ford, do not go into the water. Part n4</a></li>
<li><a href="../186684/index.html">AdvoCam-FD2 Mini-GPS Review: Compact and Lightweight Recorder</a></li>
<li><a href="../186698/index.html">UK police can confiscate phones and personal data of travelers at the border without giving a reason</a></li>
<li><a href="../186700/index.html">Goodbye office. Asia and freelance my sweet and sour sauce</a></li>
<li><a href="../186702/index.html">The US Immigration Service recognized League of Legends as a professional sport.</a></li>
<li><a href="../186704/index.html">The digest of interesting news and materials from the world of PHP for the last two weeks, ‚Ññ21 (07/01/2013 - 07.15.2013)</a></li>
<li><a href="../186708/index.html">Creating your own hub to publish open data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>