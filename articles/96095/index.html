<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring Mercurial and Visual Studio interaction</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After a short trial of using TFS, I was disappointed in him, because he consumes so many resources, and for me alone, there is little exhaust from him...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring Mercurial and Visual Studio interaction</h1><div class="post__text post__text-html js-mediator-article">  After a short trial of using TFS, I was disappointed in him, because he consumes so many resources, and for me alone, there is little exhaust from him.  After a brief inspection of other options for replacing the version control system, I stopped at <a href="http://mercurial.selenic.com/">Mercurial</a> .  For: <br>  1. Works without problems on Windows and NIX; <br>  2. Stable; <br>  3. A decent list of features; <br>  4. Many utilities for integration with a variety of IDE and shells; <br>  5. Uses a minimum of resources; <br>  6. Many plugins. <br><a name="habracut"></a><br>  Having a little rummaged in Google, I found a plug-in for Visual Studio 2010 - <a href="http://visualhg.codeplex.com/">VisualHG</a> , judging by the description, is pretty decent.  It remains for him to get access to Mercurial's repositories on another server under Windows 2008. Since VisualHG works only in conjunction with TortoiseHG, I had to create a separate web interface to the repositories, the benefit of IIS is already on the server. <br>  To begin with, we will create a separate directory in the IIS site tree, although in principle a separate website is also possible. <br>  For clarity, let it be: <i>localhost / hg /</i> , and the physical path will correspond to <i>V: \ hg \</i> . <br>  Together with the Mercurial distribution kit, <a href="http://www.python.org/">Python</a> 'e scripts are distributed to create a repository web page.  They are located in the library.zip archive in the distribution directory, if it was finitely indicated to extract them during installation.  This very archive is unpacked into some child directory from localhost / hg /, for example <i>localhost / hg / lib /</i> , as a physical path it will be - <i>V: \ hg \ lib \</i> . <br>  To run scripts under IIS from additional software, you will only need Python 2.6 x86.  If you use the distribution kit with amd64 binaries, then the scripts simply will not work.  What is the reason, I did not understand. <br>  Connection of Python'a occurs through the IIS panel in the settings of "Mapping Handlers".  There you need to add a "script mapping" with the following parameters: <br><blockquote>  Request Path: <i>* .cgi</i> <br>  Executable file: <i>C: \ Python26_x86 \ python.exe -u "% s% s"</i> <br>  Name: <i>Python</i> <br></blockquote><br>  The name and path to the Python distribution can naturally be different. <br>  To check the performance, you can create a file <i>V: \ hg \ test.cgi</i> with the contents: <br><blockquote><pre> print 'Status: 200 OK'
 print 'Content-type: text / html'
 print '' 
 print '&lt;html&gt; &lt;head&gt; &lt;title&gt; Test Page &lt;/ title&gt; &lt;/ head&gt;'
 print '&lt;body&gt;'
 print '&lt;h1&gt; Test page! &lt;/ h1&gt;'
 print '&lt;/ body&gt; &lt;/ html&gt;
</pre></blockquote><br>  If everything is displayed normally, then you can proceed further. <br>  After this, you need to add the <i>hgwebdir.cgi</i> file to the <i>hg</i> folder to run python scripts. <br>  After editing it, the changes look like this: <br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/9b3/6e9/a4c/9b36e9a4ca8a8c9d15de6ab6298d2620.jpg"></a> <br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/fab/d40/0cf/fabd400cf39cbf60d4b760748a8f7435.jpg"></a> <br>  Also in this directory you need to add the hgweb.config file with the following contents: <br><blockquote><pre> [paths]
 / = repos / *

 [web]
 baseurl = / hg
 push_ssl = false
 allow_push = *
</pre></blockquote><br>  Where repos is the repository directory, the full path to which is <i>v: \ hg \ repos</i> . <br>  For more convenient and visual use, you can still attach URL Rewrite.  It allows you to remove hgwebdir.cgi from the address <i>bar</i> .  To do this, you need to create a rule with similar parameters: <br><blockquote>  Requested URL: <i>Matches and Pattern</i> <br>  Using: <i>Wildcards</i> <br>  Pattern: <i>*</i> <br>  Action type: <i>Rewrite</i> <br>  Rewrite URL: <i>hgwebdir.cgi / {R: 1}</i> <br></blockquote><br>  All other parameters by default. <br>  To create a repository as a test, you can use the console command: <i>hg.exe init v: \ hg \ repos \ test</i> . <br>  View repository list: <br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/9d2/23d/c86/9d223dc86f18684dd40d671dcd838799.jpg"></a> <br>  Now to use the repository, as a minimum requirement, there will only be TortoiseHG on an arbitrary computer.  To use Mercurial's repositories from MS VS 2010, simply install the VisualHG plugin, create a repository in the project directory and open this project in the studio.  Now it will be possible to manage the commits from there, and from TortoiseHG upload them to the server. <br><br>  Used software: <br>  Mercurial 1.5.4 <br>  TortoiseHG 1.0.4 <br>  Python 2.6.4 x86 <br>  IIS 7.5 <br>  MS VS 2010 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/96095/">https://habr.com/ru/post/96095/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../96087/index.html">Shmoonqee os</a></li>
<li><a href="../96088/index.html">Top 10 stop-motion videos on YouTube</a></li>
<li><a href="../96090/index.html">Tom York: "The Music Industry on the Verge of Collapse"</a></li>
<li><a href="../96091/index.html">Some aspects of the development of payment systems. Part I. Three-link without three-link</a></li>
<li><a href="../96092/index.html">Akopov was marked in VKontakte</a></li>
<li><a href="../96096/index.html">Distributed computing and p2p business model</a></li>
<li><a href="../96098/index.html">Microsoft Dynamics CRM. Plug-ins (plug-ins) and extensions (add-ons)</a></li>
<li><a href="../96099/index.html">SMS notifications from Nagios with little blood</a></li>
<li><a href="../96101/index.html">Monitor changes to network device configuration files</a></li>
<li><a href="../96104/index.html">Autoportal KhMAO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>