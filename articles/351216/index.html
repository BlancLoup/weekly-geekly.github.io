<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Strong typing for TypeScript Vue.js applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Q : What are the weakest points of Vue? 

 The answer : At the moment, probably, unfriendly to typification. Our API was developed without scheduling ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Strong typing for TypeScript Vue.js applications</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  <strong>Q</strong> : What are the weakest points of Vue? <br><br>  <strong>The answer</strong> : At the moment, probably, unfriendly to typification.  Our API was developed without scheduling support for typed languages ‚Äã‚Äã(such as TypeScript), but we made great improvements in 2.5. <br><br>  <strong>Q</strong> : Tony Hoare called null a billion-dollar error.  What was the most unfortunate technical decision in your career? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>The answer</strong> : It would be nice to use TypeScript initially, even when I started to rewrite the code for Vue 2.x. <br><br>  <em>from the interview <a href="https://habrahabr.ru/post/350290/">"Creator Vue.js answers Habra"</a></em> </blockquote><p>  Vue.js unfriendliness to typing forces the use of crutches to take advantage of TypeScript.  One of the options proposed in the official documentation Vue.js is the use of decorators together with the library "vue-class-component". </p><br><p>  I use another version of "crutches" to solve the problem of strong typing in Vue.js applications (without decorators and vue-class-component).  Through the explicit definition of interfaces for the "data" and "props" options used in the instance constructor of Vue components.  In some cases it is easier and more convenient. </p><br><p>  This tutorial uses Visual Studio 2017 with applications Vue.js + Asp.Net Core MVC + TypeScript to illustrate both approaches to typing (with and without decorators).  Although the examples given here can be placed in another environment (Node.js + Webpack). </p><br><p>  Along the way, it demonstrates how to quickly alter a JavaScript component under the ‚Äúfull-fledged‚Äù TypeScript with strong typing enabled. </p><a name="habracut"></a><br><p>  <strong>Content</strong> </p><br><p>  <a href="https://habr.com/ru/post/351216/">Introduction</a> <br>  <a href="https://habr.com/ru/post/351216/">Used mechanisms</a> <br>  <a href="https://habr.com/ru/post/351216/">- Enable Strong Typing Options</a> <br>  <a href="https://habr.com/ru/post/351216/">- Typing through decorators</a> <br>  <a href="https://habr.com/ru/post/351216/">- Typing via input and output interfaces</a> <br>  <a href="https://habr.com/ru/post/351216/">Project TryVueMvcDecorator</a> <br>  <a href="https://habr.com/ru/post/351216/">- Test application</a> <br>  <a href="https://habr.com/ru/post/351216/">- configuration correction</a> <br>  <a href="https://habr.com/ru/post/351216/">- Correction Index.cshtml</a> <br>  <a href="https://habr.com/ru/post/351216/">- Transition to decorators</a> <br>  <a href="https://habr.com/ru/post/351216/">- Build and run the project</a> <br>  <a href="https://habr.com/ru/post/351216/">Project TryVueMvcGrid</a> <br>  <a href="https://habr.com/ru/post/351216/">- Test application</a> <br>  <a href="https://habr.com/ru/post/351216/">- Create AppGrid blank</a> <br>  <a href="https://habr.com/ru/post/351216/">- Build and run the project</a> <br>  <a href="https://habr.com/ru/post/351216/">- Adaptation for strict typing</a> <br>  <a href="https://habr.com/ru/post/351216/">Conclusion</a> </p><br><h1 id="anchorintroanchor-vvedenie"><a name="intro"></a>  Introduction </h1><br><p>  This article is a continuation of a series of articles: </p><br><ul><li>  <a href="https://habrahabr.ru/post/349880/">Vue.js + Asp.NETCore + TypeScript application without Webpack</a> </li><li>  <a href="https://habrahabr.ru/post/350056/">RequireJS for Vue.js + Asp.NETCore + TypeScript applications</a> </li><li>  <a href="https://habrahabr.ru/post/350332/">Vue.js + Asp.Net Core MVC + TypeScript and more Bootstrap4</a> </li></ul><br><p>  In the examples that were cited in these articles, TypeScript was only used in half ‚Äî strict typing was deliberately disabled.  Now let's try to fully use TypeScript. </p><br><p>  On the vast expanses of the Internet, you can find a lot of quality examples and ready-made applications that use Vue.js.  But the vast majority of these examples are written in JavaScript.  Therefore, pushing these examples into the TypeScript Procrustean Bed requires some effort. </p><br><p> The API, which is offered in the <a href="https://ru.vuejs.org/v2/guide/typescript.html">official documentation Vue.js</a> , allows you to define a Vue component based on classes using the officially supported decorator <a href="https://github.com/vuejs/vue-class-component">vue-class-component</a> .  The use of decorators requires the installation of the compiler option <code>{"experimentalDecorators": true}</code> , which is somewhat annoying (there is a possibility of significant changes in future versions of TypeScript).  In addition, an additional library is required. </p><br><p>  The paranoid desire to get rid of "extra" libraries led me to use the explicit definition of interfaces for properties and data of a Vue component when solving the problem of strong typing in Vue.js + TypeScript applications. </p><br><p><img src="https://habrastorage.org/webt/wq/zc/q3/wqzcq3naytvuwkalp4hpeqm1e0s.jpeg" alt="cat"></p><br><p>  In this tutorial, we first describe the mechanisms for using both crutches, then create 2 projects: TryVueMvcDecorator, TryVueMvcGrid. </p><br><h1 id="anchortheoryanchor-ispolzuemye-mehanizmy"><a name="theory"></a>  Used mechanisms </h1><br><p>  If the source code of the Vue components that are driven to the TypeScript module is written in JavaScript, you can first try to compile it by simply disabling all compiler options that are responsible for control (they are disabled by default).  Then, in the working code of the application, we tighten the screws, by including the necessary options and eliminating the causes of abuse of the TypeScript compiler. </p><br><p>  After enabling a number of compiler options, the Vue component code may stop compiling.  Since  there is no explicit definition of the variables listed in "data" and "props".  Below we describe the way to solve this problem with and without decorators. </p><br><h2 id="anchortheory1anchor-vklyuchenie-opciy-strogoy-tipizacii"><a name="theory1"></a>  Enable Strong Typing Options </h2><br><p>  The option <code>{"strict": true}</code> immediately turns on many checks (noImplicitAny, noImplicitThis, alwaysStrict, strictNullChecks, strictFunctionTypes, strictPropertyInitialization), so it is useful to include these checks in sequence.  You can then further tighten the control, for example, by turning on checking for unused variables and parameters. </p><br><div class="spoiler">  <b class="spoiler_title">hidden text fragment tsconfig.json</b> <div class="spoiler_text"><pre> <code class="hljs ruby">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span>: { ... <span class="hljs-string"><span class="hljs-string">"experimentalDecorators"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-string"><span class="hljs-string">"noImplicitAny"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-string"><span class="hljs-string">"noImplicitThis"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-string"><span class="hljs-string">"alwaysStrict"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-string"><span class="hljs-string">"strictNullChecks"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-string"><span class="hljs-string">"strictFunctionTypes"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-string"><span class="hljs-string">"strictPropertyInitialization"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"strict"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"noUnusedLocals"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"noUnusedParameters"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-string"><span class="hljs-string">"include"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"./ClientApp/**/*.ts"</span></span> ] }</code> </pre> </div></div><br><p>  Gradually tightening control of the TypeScript compiler ("tightening the screws") allows you to quickly turn on strong typing, without particularly delving into the logic of the Vue-components. </p><br><h2 id="anchortheory2anchor-tipizaciya-cherez-dekoratory"><a name="theory2"></a>  Typing through decorators </h2><br><p>  The definition of a Vue component looks like a class definition, but in reality it is a call to the <code>Vue.extend()</code> function, which creates and registers an instance of a <code>Vue</code> object with certain properties and methods.  Since the definition of properties and methods are specified in the parameter of the function call <code>Vue.extend()</code> , the TypeScript compiler does not know everything about them. </p><br><p>  In the example above, it is assumed that the Vue instance has properties: name, initialEnthusiasm, enthusiasm, and also methods: increment (), decrement (), exclamationMarks ().  Naturally, the TypeScript compiler can start swearing with a good language when trying to enable the appropriate type control options. </p><br><p>  The vue-class-component decorator allows you to use the definition of a Vue component as a full-fledged class.  Accordingly, it becomes possible to define all the properties and methods of the Vue component explicitly.  And such a TypeScript compiler is quite normal to digest. </p><br><div class="spoiler">  <b class="spoiler_title">hidden text fragment Hello.ts</b> <div class="spoiler_text"><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    Vue- <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Vue.extend({ template:<span class="hljs-string"><span class="hljs-string">'#hello-template'</span></span>, props: [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'initialEnthusiasm'</span></span>], data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { enthusiasm: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.initialEnthusiasm } }, methods: { increment() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.enthusiasm++; }, decrement() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.enthusiasm &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.enthusiasm--; } } }, computed: { exclamationMarks(): string { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Array(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.enthusiasm + <span class="hljs-number"><span class="hljs-number">1</span></span>).join(<span class="hljs-string"><span class="hljs-string">'!'</span></span>); } } });</code> </pre> <br><pre> <code class="hljs pgsql">//   Vue-    @Component({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#hello-template'</span></span>, props: [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'initialEnthusiasm'</span></span>] }) export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> HelloComponent extends Vue { enthusiasm!: number; initialEnthusiasm!: number; data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { enthusiasm: this.initialEnthusiasm } }; // methods: <span class="hljs-keyword"><span class="hljs-keyword">increment</span></span>() { this.enthusiasm++; }; decrement() { if (this.enthusiasm &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { this.enthusiasm<span class="hljs-comment"><span class="hljs-comment">--; } }; // computed: get exclamationMarks() { return Array(this.enthusiasm + 1).join('!'); } };</span></span></code> </pre> </div></div><br><h2 id="anchortheory3anchor-tipizaciya-cherez-interfeysy-vhodnyh-i-vyhodnyh-dannyh"><a name="theory3"></a>  Typing via input and output interfaces </h2><br><p>  Using strong typing through defining interfaces for properties and data is based on the following point: <code>Vue</code> instances have corresponding proxies ( <code>this.$props, this.$data</code> ). </p><br><blockquote>  <strong>vm. $ data</strong> <br><br>  The data object on which the Vue instance is monitoring.  An instance proxies here calls to its fields.  (For example, vm.a will point to vm. $ Data.a) <br><br>  <strong>vm. $ props</strong> <br><br>  An object that provides access to the current input data of the component.  A Vue instance proxies access to the properties of its input data object. <br><br>  For details, see the <a href="https://ru.vuejs.org/v2/api/index.html">official documentation</a> . </blockquote><p>  Due to this, in the above example for Vue-components we get: <code>this.initialEnthusiasm</code> equivalent to <code>this.$props.initialEnthusiasm</code> , and also <code>this.enthusiasm</code> equivalent to <code>this.$data.enthusiasm</code> .  It remains to explicitly define interfaces for properties and data, and also to provide explicit type conversion when using <code>this.$props, this.$data</code> . </p><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     interface HelloProps { name: string; initialEnthusiasm: number; } interface HelloData { enthusiasm: number; } <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        Vue ... enthusiasm = (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$props <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> HelloProps).initialEnthusiasm; ... var thisData = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$data <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> HelloData; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (thisData.enthusiasm &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { thisData.enthusiasm--; } ...</code> </pre> <br><p>  For a better understanding of the approach used here, we present a more complex example of using interfaces for strong typing: </p><br><div class="spoiler">  <b class="spoiler_title">hidden text fragment DemoGrid.ts</b> <div class="spoiler_text"><pre> <code class="hljs lua">//  ClientApp/components/DemoGrid.ts interface DemoGridProps { rows: Array&lt;any&gt;; columns: Array&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt;; filterKey: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>; } interface DemoGridData { sortKey: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>; sortOrders: { [index: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>]: number }; } export default Vue.extend({ ... computed: { filteredData: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { var thisData = (this.$data as DemoGridData); var thisProps = (this.$props as DemoGridProps); var sortKey = thisData.sortKey; var filterKey = thisProps.filterKey &amp;&amp; thisProps.filterKey.toLowerCase(); var order = thisData.sortOrders[sortKey] || <span class="hljs-number"><span class="hljs-number">1</span></span>; var rows = thisProps.rows; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filterKey) { rows = rows.filter(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(row)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Object.keys(row).some(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(key)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String(row[key]).toLowerCase().indexOf(filterKey) &gt; <span class="hljs-number"><span class="hljs-number">-1</span></span> }) }) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortKey) { rows = rows.slice().<span class="hljs-built_in"><span class="hljs-built_in">sort</span></span>(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b)</span></span></span></span> { a = a[sortKey] b = b[sortKey] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (a === b ? <span class="hljs-number"><span class="hljs-number">0</span></span> : a &gt; b ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">-1</span></span>) * order }) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rows; } }, ... methods: { sortBy: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(key: string)</span></span></span></span> { var thisData = (this.$data as DemoGridData); thisData.sortKey = key thisData.sortOrders[key] = thisData.sortOrders[key] * <span class="hljs-number"><span class="hljs-number">-1</span></span> } } });</code> </pre> </div></div><br><p>  As a result, we get a simple way to move to strict typing - after explicitly defining property and data interfaces, we stupidly look for <code>this.someProperty</code> and use explicit type conversion in these places.  For example, <code>this.columns</code> will turn into <code>(this.$props as DemoGridProps).columns</code> . </p><br><h1 id="anchortryvuemvcdecoratoranchor-proekt-tryvuemvcdecorator"><a name="TryVueMvcDecorator"></a>  Project TryVueMvcDecorator </h1><br><p>  In this tutorial section, we create a TypeScript application Vue.js with a solution to the problem of strong typing with the help of the "vue-class-component" designer. </p><br><h2 id="anchortryvuemvcdecorator1anchor-testovoe-prilozhenie"><a name="TryVueMvcDecorator1"></a>  Test application </h2><br><p>  As a starting point for a test application, we take the <a href="https://github.com/schavelev/starter-vue-mvc/tree/master/TryVueMvc">TryVueMvc</a> project for Visual Studio 2017 on github. Either create this project from scratch in the previous tutorial <a href="https://habrahabr.ru/post/350332/">Vue.js + Asp.Net Core MVC + TypeScript and more Bootstrap4</a> .  You can build and run the project in the VS2017 environment either via the command line in the project directory: </p><br><pre> <code class="dos hljs">npm install dotnet build dotnet bundle dotnet run</code> </pre> <br><p>  In the browser, open the page, the address of which dotnet reports in the console, for example, <a href="http://localhost:52643/">http: // localhost: 52643</a> . </p><br><p>  For those who prefer single-file Vue components and an assembly using a Webpack, the <a href="https://github.com/schavelev/starter-vue/tree/master/TryVueWebpack">TryVueWebpack</a> project can be used as a starting point for a test application.  To build and run the application, via the command line in the project directory, do the following: </p><br><pre> <code class="dos hljs">npm install npm run build</code> </pre> <br><p>  Then you can also use <code>dotnet run</code> , or you can simply open the file wwwroot \ index.html. </p><br><h2 id="anchortryvuemvcdecorator2anchor-korrektirovka-konfiguracii"><a name="TryVueMvcDecorator2"></a>  Configuration adjustment </h2><br><p>  In the tsconfig.json file, add the compiler option <code>{"experimentalDecorators": true}</code> . </p><br><p>  Add to the file package.json the installation of the NPM package "vue-class-component". </p><br><div class="spoiler">  <b class="spoiler_title">hidden text package.json</b> <div class="spoiler_text"><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"asp.net"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"private"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"jquery"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.3.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"popper.js"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.12.9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bootstrap"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"vue"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.5.13"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"systemjs"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.21.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"vue-class-component"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.2.0"</span></span> } }</code> </pre> </div></div><br><p>  Correcting bundleconfig.json to enable vue.js and vue-class-component.js to be copied from the node_modules directory to wwwroot / vendor. </p><br><div class="spoiler">  <b class="spoiler_title">hidden text bundleconfig.json</b> <div class="spoiler_text"><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/dist/vendor1.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"node_modules/jquery/dist/jquery.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"node_modules/popper.js/dist/umd/popper.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"node_modules/bootstrap/dist/js/bootstrap.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"node_modules/systemjs/dist/system.src.js"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"renameLocals"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"sourceMap"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/dist/vendor1.css"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"node_modules/bootstrap/dist/css/bootstrap.css"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/dist/vendor1.min.css"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"node_modules/bootstrap/dist/css/bootstrap.min.css"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/vendor/vue.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"node_modules/vue/dist/vue.js"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"renameLocals"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"sourceMap"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/vendor/vue-class-component.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"node_modules/vue-class-component/dist/vue-class-component.js"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"renameLocals"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"sourceMap"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/dist/main.css"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"ClientApp/**/*.css"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/dist/app-bandle.min.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"wwwroot/dist/app-bandle.js"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"renameLocals"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"outputFileName"</span></span>: <span class="hljs-string"><span class="hljs-string">"wwwroot/dist/app-templates.html"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"inputFiles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"ClientApp/**/*.html"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"minify"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"renameLocals"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } ]</code> </pre> </div></div><br><h2 id="anchortryvuemvcdecorator3anchor-korrektirovka-indexcshtml"><a name="TryVueMvcDecorator3"></a>  Adjustment Index.cshtml </h2><br><p>  Since we started using the vue-class-component, you need to tell the SystemJS where to load this library from.  To do this, modify the Razor-rendering code in Views / Home / Index.cshtml. </p><br><div class="spoiler">  <b class="spoiler_title">hidden text Views / Home / Index.cshtml</b> <div class="spoiler_text"><pre> <code class="cs hljs">@* Views/Home/Index.cshtml *@ @<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.AspNetCore.Hosting @inject IHostingEnvironment hostingEnv @{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> suffix = hostingEnv.IsDevelopment() ? <span class="hljs-string"><span class="hljs-string">""</span></span> : <span class="hljs-string"><span class="hljs-string">".min"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vueUrl = <span class="hljs-string"><span class="hljs-string">$"vendor/vue</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{suffix}</span></span></span><span class="hljs-string">.js"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vueClassComponentUrl = <span class="hljs-string"><span class="hljs-string">$"vendor/vue-class-component</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{suffix}</span></span></span><span class="hljs-string">.js"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mainUrl = <span class="hljs-string"><span class="hljs-string">$"dist/app-bandle</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{suffix}</span></span></span><span class="hljs-string">.js"</span></span>; ViewData[<span class="hljs-string"><span class="hljs-string">"Title"</span></span>] = <span class="hljs-string"><span class="hljs-string">"TryVueMvc Sample"</span></span>; } &lt;section id=<span class="hljs-string"><span class="hljs-string">"app-templates"</span></span>&gt;&lt;/section&gt; &lt;div id=<span class="hljs-string"><span class="hljs-string">"app-root"</span></span>&gt;loading..&lt;/div&gt; @section Scripts{ &lt;script&gt; System.config({ map: { <span class="hljs-string"><span class="hljs-string">"vue"</span></span>: <span class="hljs-string"><span class="hljs-string">"@vueUrl"</span></span>, <span class="hljs-string"><span class="hljs-string">"vue-class-component"</span></span>: <span class="hljs-string"><span class="hljs-string">"@vueClassComponentUrl"</span></span> } }); $.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"dist/app-templates.html"</span></span>).done(function (data) { $(<span class="hljs-string"><span class="hljs-string">'#app-templates'</span></span>).append(data); SystemJS.import(<span class="hljs-string"><span class="hljs-string">'@mainUrl'</span></span>).then(function (m) { SystemJS.import(<span class="hljs-string"><span class="hljs-string">'index'</span></span>); }); }); &lt;/script&gt; }</code> </pre> </div></div><br><h2 id="anchortryvuemvcdecorator4anchor-perehod-na-dekoratory"><a name="TryVueMvcDecorator4"></a>  Go to the decorators </h2><br><p>  To switch to decorators in our application, it is enough to change the code of the modules AppHello.ts and Hello.ts. </p><br><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / components / AppHello.ts</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/AppHello.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Component <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue-class-component"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> HelloComponent <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./Hello"; @Component({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#app-hello-template'</span></span>, components: { HelloComponent } }) export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AppHelloComponent extends Vue { data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-type"><span class="hljs-type">name</span></span>: "World" } } };</code> </pre> </div></div><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / components / Hello.ts</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/Hello.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Component <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue-class-component"; @Component({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#hello-template'</span></span>, props: [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'initialEnthusiasm'</span></span>] }) export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> HelloComponent extends Vue { enthusiasm!: number; initialEnthusiasm!: number; data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { enthusiasm: this.initialEnthusiasm } }; // methods: <span class="hljs-keyword"><span class="hljs-keyword">increment</span></span>() { this.enthusiasm++; }; decrement() { if (this.enthusiasm &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { this.enthusiasm<span class="hljs-comment"><span class="hljs-comment">--; } }; // computed: get exclamationMarks() { return Array(this.enthusiasm + 1).join('!'); } };</span></span></code> </pre> </div></div><br><p>  If the TryVueWebpack project was used as a starting point, then the code for the AppHello.ts and Hello.ts modules will be slightly different. </p><br><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / components / AppHello.ts</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/AppHello.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Component <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue-class-component"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> HelloComponent <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./Hello.vue"; @Component({ components: { HelloComponent } }) export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AppHelloComponent extends Vue { data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-type"><span class="hljs-type">name</span></span>: "World" } } };</code> </pre> </div></div><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / components / Hello.ts</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/Hello.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Component <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue-class-component"; @Component({ props: [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'initialEnthusiasm'</span></span>] }) export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> HelloComponent extends Vue { enthusiasm!: number; initialEnthusiasm!: number; data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { enthusiasm: this.initialEnthusiasm } }; // methods: <span class="hljs-keyword"><span class="hljs-keyword">increment</span></span>() { this.enthusiasm++; }; decrement() { if (this.enthusiasm &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { this.enthusiasm<span class="hljs-comment"><span class="hljs-comment">--; } }; // computed: get exclamationMarks() { return Array(this.enthusiasm + 1).join('!'); } };</span></span></code> </pre> </div></div><br><h2 id="anchortryvuemvcdecorator5anchor-sborka-i-zapusk-proekta"><a name="TryVueMvcDecorator5"></a>  Build and run the project </h2><br><p>  Building and running applications are traditional for the VS2017 environment.  Bundling is performed via the "Bundler &amp; Minifier \ Update Bundles" command of the context menu on the file bundleconfig.json.  Also, assembly and launch can be done via the command line in the project directory.  Should get something like the one shown in the screenshot. </p><br><div class="spoiler">  <b class="spoiler_title">hidden screenshot of apphello</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wh/cq/ha/whcqhakpvt-zrdeltjn8j7p6vjs.png" alt="image AppHello"></p></div></div><br><p>  You can compare your result of performing the described actions with the <a href="https://github.com/schavelev/starter-vue-mvc/tree/master/TryVueMvcDecorator">TryVueMvcDecorator</a> project on github. </p><br><h1 id="anchortryvuemvcgridanchor-proekt-tryvuemvcgrid"><a name="TryVueMvcGrid"></a>  Project TryVueMvcGrid </h1><br><p>  Now we create an application Vue.js in TypeScript with a solution to the problem of strong typing by explicitly defining the types for the input (this. $ Props) and output (this. $ Data) data of the Vue component.  At this time, we do without a decorator and an additional library. </p><br><p>  The application is a bit more complicated by embedding an example from the official site Vue.js <a href="https://vuejs.org/v2/examples/grid-component.html">Grid Component Example</a> .  You can see the same example on <a href="http://jsfiddle.net/yyx990803/23qze30k/">jsfiddle</a> . </p><br><p>  We go from simple to complex.  To facilitate understanding, we will break down the creation of AppGrid into four steps: </p><br><ul><li>  preparing a test application (cloning TryVueMvc); </li><li>  creating an AppGrid application skeleton; </li><li>  transfer of the main source code of the example from the official site Vue.js; </li><li>  inclusion of strictly typing options with adaptation of the application code. </li></ul><br><h2 id="anchortryvuemvcgrid1anchor-testovoe-prilozhenie"><a name="TryVueMvcGrid1"></a>  Test application </h2><br><p>  As a starting point for a test application, as well as in the previous case, take the <a href="https://github.com/schavelev/starter-vue-mvc/tree/master/TryVueMvc">TryVueMvc</a> project for Visual Studio 2017 on github. </p><br><h2 id="anchortryvuemvcgrid2anchor-sozdanie-zagotovki-appgrid"><a name="TryVueMvcGrid2"></a>  Creating an AppGrid Stub </h2><br><p>  Replace the AppHello application with the blank (skeleton) of the AppGrid application.  To do this, we change the contents of the ClientApp / index.ts file, and instead of the old files in the ClientApp / components folder, we create blanks for new components: AppGrid, DemoGrid. </p><br><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / index.ts</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AppGrid <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./components/AppGrid"; <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Vue({ el: "#app-root", render: h =&gt; h(AppGrid), components: { AppGrid } });</code> </pre> </div></div><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / AppGrid</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/AppGrid.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DemoGrid <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./DemoGrid"; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Vue.extend({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#app-grid-template'</span></span>, components: { DemoGrid }, data: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { foo: <span class="hljs-number"><span class="hljs-number">42</span></span> } } });</code> </pre> <br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- ClientApp/components/AppGrid.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app-grid-template"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>AppGrid component<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">demo-grid</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / DemoGrid</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/DemoGrid.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Vue.extend({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#demo-grid-template'</span></span>, props: [<span class="hljs-string"><span class="hljs-string">'foo'</span></span>], data: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { bar: <span class="hljs-number"><span class="hljs-number">42</span></span> } } });</code> </pre> <br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- ClientApp/components/DemoGrid.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"demo-grid-template"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span>DemoGrid component<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  After rebuilding and running the application in the browser, you should get something like the one shown in the screenshot. </p><br><div class="spoiler">  <b class="spoiler_title">hidden screenshot of appgrid</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jg/kf/je/jgkfjelawkdkjzt1lkyq_oo2bti.png" alt="image AppGrid"></p></div></div><br><h2 id="anchortryvuemvcgrid2anchor-vstraivanie-primera-demogrid"><a name="TryVueMvcGrid2"></a>  Embedding the DemoGrid Example </h2><br><p>  We transfer the AppGrid.ts code and template contents.  <code>'gridData' -&gt; 'gridRows'</code> return property <code>'gridData' -&gt; 'gridRows'</code> , so as not to be confused with <code>data()</code> .  Compiling a ts code should proceed normally even after the inclusion of type control options, since  strict typing is not required here. </p><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / AppGrid</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/AppGrid.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DemoGrid <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./DemoGrid"; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Vue.extend({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#app-grid-template'</span></span>, components: { DemoGrid }, data: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { searchQuery: <span class="hljs-string"><span class="hljs-string">''</span></span>, gridColumns: [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'power'</span></span>], gridRows: [ { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Chuck Norris'</span></span>, power: <span class="hljs-keyword"><span class="hljs-keyword">Infinity</span></span> }, { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Bruce Lee'</span></span>, power: <span class="hljs-number"><span class="hljs-number">9000</span></span> }, { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Jackie Chan'</span></span>, power: <span class="hljs-number"><span class="hljs-number">7000</span></span> }, { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Jet Li'</span></span>, power: <span class="hljs-number"><span class="hljs-number">8000</span></span> } ] } } });</code> </pre> <br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- ClientApp/components/AppGrid.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app-grid-template"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search"</span></span></span><span class="hljs-tag">&gt;</span></span> Search <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"query"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"searchQuery"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">demo-grid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:rows</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gridRows"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:columns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gridColumns"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:filter-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"searchQuery"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">demo-grid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  We transfer the code DemoGrid.ts and the contents of the template.  Replace the input property <code>'data' -&gt; 'rows'</code> , so as not to be confused with <code>data()</code> .  Defining properties Vue-components are remade into an array of names ( <code>props: ['rows', 'columns', 'filterKey']</code> ). </p><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / DemoGrid</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/DemoGrid.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Vue.extend({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#demo-grid-template'</span></span>, props: [<span class="hljs-string"><span class="hljs-string">'rows'</span></span>, <span class="hljs-string"><span class="hljs-string">'columns'</span></span>, <span class="hljs-string"><span class="hljs-string">'filterKey'</span></span>], data: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> () { var sortOrders = {} this.<span class="hljs-keyword"><span class="hljs-keyword">columns</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">forEach</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (key) { sortOrders[key] = <span class="hljs-number"><span class="hljs-number">1</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { sortKey: <span class="hljs-string"><span class="hljs-string">''</span></span>, sortOrders: sortOrders } }, computed: { filteredData: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> () { var sortKey = this.sortKey var filterKey = this.filterKey &amp;&amp; this.filterKey.toLowerCase() var <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> = this.sortOrders[sortKey] || <span class="hljs-number"><span class="hljs-number">1</span></span> var <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> = this.<span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filterKey) { <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">row</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.keys(<span class="hljs-keyword"><span class="hljs-keyword">row</span></span>).<span class="hljs-keyword"><span class="hljs-keyword">some</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (key) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String(<span class="hljs-keyword"><span class="hljs-keyword">row</span></span>[key]).toLowerCase().indexOf(filterKey) &gt; <span class="hljs-number"><span class="hljs-number">-1</span></span> }) }) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortKey) { <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">slice</span></span>().sort(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (a, b) { a = a[sortKey] b = b[sortKey] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (a === b ? <span class="hljs-number"><span class="hljs-number">0</span></span> : a &gt; b ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">-1</span></span>) * <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> }) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> } }, filters: { capitalize: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (str) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str.charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>).toUpperCase() + str.<span class="hljs-keyword"><span class="hljs-keyword">slice</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) } }, methods: { sortBy: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (key) { this.sortKey = key this.sortOrders[key] = this.sortOrders[key] * <span class="hljs-number"><span class="hljs-number">-1</span></span> } } });</code> </pre> <br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- ClientApp/components/DemoGrid.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"demo-grid-template"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">thead</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key in columns"</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sortBy(key)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ active: sortKey == key }"</span></span></span><span class="hljs-tag">&gt;</span></span> {{ key | capitalize }} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arrow"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sortOrders[key] &gt; 0 ? 'asc' : 'dsc'"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">thead</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tbody</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"entry in filteredData"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key in columns"</span></span></span><span class="hljs-tag">&gt;</span></span> {{entry[key]}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tbody</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  Create a ClientApp / css / demo-grid.css file based on the styles of the DemoGrid component. </p><br><div class="spoiler">  <b class="spoiler_title">hidden ClientApp / css / demo-grid.css</b> <div class="spoiler_text"><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/* ClientApp/css/demo-grid.css */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Helvetica Neue, Arial, sans-serif; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">14px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#444</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">2px</span></span> solid <span class="hljs-number"><span class="hljs-number">#42b983</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">3px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: .<span class="hljs-number"><span class="hljs-number">5rem</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">th</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#42b983</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(255,255,255,0.66); <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: pointer; <span class="hljs-attribute"><span class="hljs-attribute">-webkit-user-select</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-moz-user-select</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-ms-user-select</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">user-select</span></span>: none; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">td</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#f9f9f9</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">th</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">td</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">min-width</span></span>: <span class="hljs-number"><span class="hljs-number">120px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">20px</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">th</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.active</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">th</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.active</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.arrow</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.arrow</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">vertical-align</span></span>: middle; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>: <span class="hljs-number"><span class="hljs-number">5px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.66</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.arrow</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.asc</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-left</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span> solid transparent; <span class="hljs-attribute"><span class="hljs-attribute">border-right</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span> solid transparent; <span class="hljs-attribute"><span class="hljs-attribute">border-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span> solid <span class="hljs-number"><span class="hljs-number">#fff</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.arrow</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dsc</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-left</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span> solid transparent; <span class="hljs-attribute"><span class="hljs-attribute">border-right</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span> solid transparent; <span class="hljs-attribute"><span class="hljs-attribute">border-top</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span> solid <span class="hljs-number"><span class="hljs-number">#fff</span></span>; }</code> </pre> </div></div><br><h2 id="anchortryvuemvcgrid3anchor-sborka-i-zapusk-proekta"><a name="TryVueMvcGrid3"></a>  Build and run the project </h2><br><p>  Building and running the application is the same as for the TryVueMvcDecorator project described earlier.  After rebuilding and running the application in the browser, you should get something like the one shown in the screenshot. </p><br><div class="spoiler">  <b class="spoiler_title">hidden screenshot of appgrid</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/2a/cb/x1/2acbx15jodua6yb1lqgc80dn2_s.png" alt="image AppGrid"></p></div></div><br><h2 id="anchortryvuemvcgrid4anchor-adaptaciya-pod-stroguyu-tipizaciyu"><a name="TryVueMvcGrid4"></a>  Strong Typing Adaptation </h2><br><p>  Now we begin to tighten the nuts.  If you try to put the <code>{"strict": true}</code> compiler option right away, you will get a bunch of TypeScript errors when compiling. </p><br><p>  As a rule, it is better to turn on the control step by step: turn on one option, eliminate the errors that have occurred, then do the same for the next option, etc. </p><br><p>  To adapt the existing code of Vue-components under strict typification, first of all, we define interfaces for input (props) and output data (data) components. </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">interface</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">DemoGridProps</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">rows</span></span>: Array&lt;any&gt;; <span class="hljs-attribute"><span class="hljs-attribute">columns</span></span>: Array&lt;string&gt;; <span class="hljs-attribute"><span class="hljs-attribute">filterKey</span></span>: string; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">interface</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">DemoGridData</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">sortKey</span></span>: string; <span class="hljs-attribute"><span class="hljs-attribute">sortOrders</span></span>: { [index: string]: number }; }</code> </pre> <br><p>  Then we set the compiler option <code>{"noImplicitThis": true}</code> and eliminate errors in the manner described earlier in the <a href="https://habr.com/ru/post/351216/">Typing section via the input and output interfaces</a> . </p><br><p>  After installing the compiler option <code>{"noImplicitAny": true}</code> with the other undefined types.  After that the inclusion of <code>{"strict": true}</code> does not give any errors (for our example).  The result of the adaptation of the module DemoGrid.ts is shown under the spoiler. </p><div class="spoiler">  <b class="spoiler_title">hidden text ClientApp / DemoGrid.ts</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// ClientApp/components/DemoGrid.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "vue"; interface DemoGridProps { <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">any</span></span>&gt;; <span class="hljs-keyword"><span class="hljs-keyword">columns</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>&lt;string&gt;; filterKey: string; } interface DemoGridData { sortKey: string; sortOrders: { [<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>: string]: number }; } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Vue.extend({ <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'#demo-grid-template'</span></span>, props: [<span class="hljs-string"><span class="hljs-string">'rows'</span></span>, <span class="hljs-string"><span class="hljs-string">'columns'</span></span>, <span class="hljs-string"><span class="hljs-string">'filterKey'</span></span>], //props: { <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">columns</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>, filterKey: String }, data: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> () { var sortOrders: <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> = {}; (this.$props <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> DemoGridProps).<span class="hljs-keyword"><span class="hljs-keyword">columns</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">forEach</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (key) { sortOrders[key] = <span class="hljs-number"><span class="hljs-number">1</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { sortKey: <span class="hljs-string"><span class="hljs-string">''</span></span>, sortOrders: sortOrders } <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> DemoGridData }, computed: { filteredData: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> () { var thisData = (this.$data <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> DemoGridData); var thisProps = (this.$props <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> DemoGridProps); var sortKey = thisData.sortKey var filterKey = thisProps.filterKey &amp;&amp; thisProps.filterKey.toLowerCase() var <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> = thisData.sortOrders[sortKey] || <span class="hljs-number"><span class="hljs-number">1</span></span> var <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> = thisProps.<span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filterKey) { <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">row</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.keys(<span class="hljs-keyword"><span class="hljs-keyword">row</span></span>).<span class="hljs-keyword"><span class="hljs-keyword">some</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (key) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String(<span class="hljs-keyword"><span class="hljs-keyword">row</span></span>[key]).toLowerCase().indexOf(filterKey) &gt; <span class="hljs-number"><span class="hljs-number">-1</span></span> }) }) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortKey) { <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">slice</span></span>().sort(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (a, b) { a = a[sortKey] b = b[sortKey] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (a === b ? <span class="hljs-number"><span class="hljs-number">0</span></span> : a &gt; b ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">-1</span></span>) * <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> }) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> } }, filters: { capitalize: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (str: string) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str.charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>).toUpperCase() + str.<span class="hljs-keyword"><span class="hljs-keyword">slice</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) } }, methods: { sortBy: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> (key: string) { var thisData = (this.$data <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> DemoGridData); thisData.sortKey = key thisData.sortOrders[key] = thisData.sortOrders[key] * <span class="hljs-number"><span class="hljs-number">-1</span></span> } } });</code> </pre> </div></div><br><p>  You can compare your result of performing the described actions with the <a href="https://github.com/schavelev/starter-vue-mvc/tree/master/TryVueMvcGrid">TryVueMvcGrid</a> project on github. </p><br><h1 id="anchorconclusionanchor-zaklyuchenie"><a name="conclusion"></a>  Conclusion </h1><br><p>  The method for determining a Vue component through a decorator has its advantages and disadvantages.  One of the drawbacks is the need to restructure the code when a working example is written in JavaScript.  What requires more accuracy. </p><br><p>  The strict typing option through the explicit definition of interfaces for the "data" and "props" options allows you to turn on the brains less at the stage of transferring the JavaScript code of the Vue component. </p><br><p>  In addition, the interfaces enable the reuse of type definitions for input and output data of a Vue component.  After all, the type of input data of one component often coincides with the output data of another. </p><br><p>  <strong>Thanks</strong> </p><br><ul><li>  Capital quotes are taken from an article on Habr√©: <a href="https://habrahabr.ru/post/350290/">"The creator of Vue.js responds to Habr"</a> </li><li>  Photo of a cat with a crutch taken <a href="https://www.tapetus.pl/65064,kotek-inwalida.php">here</a> . </li><li>  When creating examples partially used: <a href="https://github.com/Microsoft/TypeScript-Vue-Starter">"TypeScript Vue Starter"</a> . </li><li>  When creating the examples used: <a href="https://vuejs.org/v2/examples/grid-component.html">"Grid Component Example"</a> . </li></ul></div><p>Source: <a href="https://habr.com/ru/post/351216/">https://habr.com/ru/post/351216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351204/index.html">CUBA Platform: Roadmap 2018</a></li>
<li><a href="../351206/index.html">Own game analytics for $ 300 per month</a></li>
<li><a href="../351208/index.html">What should be the product manager. One opinion from Yandex</a></li>
<li><a href="../351212/index.html">Transient Woodpecker: a short history of the object "Chernobyl-2"</a></li>
<li><a href="../351214/index.html">Ideal requirements, and how to deal with it</a></li>
<li><a href="../351218/index.html">Flask Mega-Tutorial, Part XV: Improving Application Structure</a></li>
<li><a href="../351220/index.html">FastTrack Training. "Network Basics". "The Basics of Telephony." Part 1. Eddie Martin. December 2012</a></li>
<li><a href="../351222/index.html">Pros and cons of doing business in the United States: observations after a year of development of their company</a></li>
<li><a href="../351224/index.html">JD Humanoid Robot and Microsoft Cognitive Services</a></li>
<li><a href="../351226/index.html">I am a network architect and this worries me</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>