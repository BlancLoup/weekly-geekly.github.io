<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Drawing customer base on the card</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is rather a topic ‚Äúhow I started to do it, or help with a question - Am I right?‚Äù 

 I work in a trading company. Due to the crisis, we are forced ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Drawing customer base on the card</h1><div class="post__text post__text-html js-mediator-article">  It is rather a topic ‚Äúhow I started to do it, or help with a question - Am I right?‚Äù <br><br>  I work in a trading company.  Due to the crisis, we are forced to optimize the resources of our company as much as possible.  In order to really see (!) How agents walk around the city, I start this topic. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Introduction </h1><br>  Each of our agents is equipped with a PDA.  Order data is sent to the server, where various data is recorded including.  ‚ÄúClient code‚Äù, ‚Äúsession start‚Äù and ‚Äúend of session‚Äù, ‚Äúapplication data‚Äù, etc. (for each client). <br><br>  The server stores the following data on agent visits: <br><br><pre>  id |  customer id |  agent id |  Date |  HomeSessions |  EndSessions |  Successful |  Renouncement
 -------------------------------------------------- -----------------------------------------
   1 |  1031 |  15 |  09/10/2008 |  09:30:14 |  09:36:50 |  1 |  0
   2 |  1491 |  16 |  09/10/2008 |  19:30:14 |  09:36:50 |  1 |  0 </pre><br><br><h1>  Puzzled </h1><br><blockquote>  Problem number 1: Apply&gt; 4000 potential customers to the city map.  With binding ID. <br><br>  Problem number 2: Break into categories "Good", "Srednyachok" and "Greedy."  (In the cuts of the month, quarter, year - optional) <br><br>  Task number 3: Automate the process of drawing the route passed by the agent in his covered area. <br><br>  And other tasks that simplify the work of an agent to bypass his area. </blockquote><br><br><h1>  Process </h1><br>  There is a base of more than 1000 customers of this type: <br><br><pre>  Id |  Name |  Address
 -------------------------------------------------- ---------------
 1031 |  Rozhkova Local Store LLP |  st.  Pushkin 24
 1491 |  Island PI "Cookery" |  st.  Sadovaya, 13 Bldg.  17 </pre><br><br>  Of course, they must be applied using not very clever software written to maximize the simplification of this task. <br><br>  Add a field to the database: <br><pre>  Id |  Name |  Address |  &lt;b&gt; Coordinates &lt;/ b&gt;
 -------------------------------------------------- -------------------------
 1031 |  Rozhkova Local Store LLP |  st.  Pushkin d.24 |  &lt;b&gt; x = 2145; y = 504 &lt;/ b&gt;
 1491 |  Island PI "Cookery" |  st.  Sadovaya, 13 Bldg.  17 |  &lt;b&gt; x = 332; y = 1276 &lt;/ b&gt; </pre><br><br><h1>  Tool </h1><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/fce/c03/0de/fcec030de8a2c288c18667ddc329c355.jpg"></a> <br><br>  The screenshot shows that you can select customers (LIMIT 50): ‚Äúall‚Äù, ‚Äúmarked‚Äù, ‚Äúnot marked‚Äù, ‚Äúnot found‚Äù. <br><br>  After successfully putting customers on the card.  We can track agents for their movements, for a given territory. <br><br>  Having a map with clients, guided by the table of visits, using SVG, we can draw the path according to the available coordinates in the client base. <br><br>  <i>Main problems:</i> <br>  - Our area is not traced in detail in any of the services (google.com, yandex.ru) = ( <br>  - Map size 28000x28000 px is not displayed in the browser.  I had to break, it turned out a table of 14x14 pieces of 2000px <br><br>  <i>Some clarity:</i> <br>  - The main accounting system for Visits, Orders, Download, Delivery hangs in a Win32 shell on a FireBird. <br>  - The relief is that the tool is needed only for local access. <br>  - The tool is written in PHP + MySQL <br>  - Clients are applied as objects in the form ‚Äúimg‚Äù with client id = id <br><br>  <b>(To be continued)</b> <br><br>  ps If someone faced with similar tasks, or just have thoughts, please - share them </div><p>Source: <a href="https://habr.com/ru/post/48392/">https://habr.com/ru/post/48392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48383/index.html">Clear or overflow: hidden - clear the entire stream or create a formatting context?</a></li>
<li><a href="../48384/index.html">OpenLayers - ways to load data</a></li>
<li><a href="../48386/index.html">Batch scaling of images</a></li>
<li><a href="../48387/index.html">Js tips</a></li>
<li><a href="../48390/index.html">Nokia 5800 - Not Soon ...</a></li>
<li><a href="../48396/index.html">XSLT: Ideological Questions / Problems</a></li>
<li><a href="../48399/index.html">IE 7 CSS Tricks: -ms-interpolation-mode</a></li>
<li><a href="../48400/index.html">Is vinyl coming back?</a></li>
<li><a href="../48401/index.html">Manage utorrent downloads from ICQ</a></li>
<li><a href="../48402/index.html">How to earn on the program $ 10 000 per day</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>