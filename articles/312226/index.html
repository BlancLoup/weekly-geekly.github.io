<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ASP.NET Core Path [Level 1] Basics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ASP.NET Core - the newest framework for cross-platform web development. While his popularity (as well as the number of vacancies) is just beginning to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ASP.NET Core Path [Level 1] Basics</h1><div class="post__text post__text-html js-mediator-article">  ASP.NET Core - the newest framework for cross-platform web development.  While his popularity (as well as the number of vacancies) is just beginning to gain momentum it's time to learn more about him.  But to ensure that all knowledge does not evaporate immediately after reading - add an essential practical part.  Create a simple application to test read. <br><br>  If you think that you are already quite cool in the new framework, you can try to pass the test before you read the article.  <a href="http://aspnetcorehabr.azurewebsites.net/">Link</a>  The entire project code can be viewed on the <a href="https://github.com/gbdrm/AspNetCore/">githaba</a> . <br><br>  The first part includes: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  What are .NET Core and ASP.NET Core? </li><li>  Basics of creating an application and its structure </li><li>  Adding new items, scaffolding </li><li>  Basics of Embedded Dependency Injection </li><li>  Deployment in Azure </li></ul><br><img src="https://habrastorage.org/files/bf1/b65/fe5/bf1b65fe53aa441eb5577f03a38ceee5.jpg"><br><a name="habracut"></a><br>  We will understand in terms.  One of the most misunderstood points is the relationship between the old ASP.NET MVC framework and the new ASP.NET Core, as well as the differences between .NET and .NET Core.  Let's start with the last one.  .NET Core is a common software development platform.  In fact, this is another implementation of the .NET standard (other implementations are .NET, Mono).  The differences and features of this implementation ( <b>.NET Core</b> ) are that it: <br><br><ul><li>  Open source </li><li>  Cross Platform </li><li>  Flexible to install - can be inside the application and you can put multiple versions on the same machine </li><li>  All work scenarios are supported using console tools. </li></ul><br>  Let's go to <b>ASP.NET Core</b> .  This is a new Microsoft framework for developing Web applications, which appeared due to the redesign of the previously existing ASP.NET MVC framework.  You need to understand that ASP.NET Core does not have to be based on .NET Core.  You can create an ASP.NET Core application based on the good old .NET.  This option is in the standard dialog of creating a new project: <br><br><img src="https://habrastorage.org/files/242/34d/df3/24234ddf3f6c406cb4bca4c2b655a1b0.png"><br><br>  What, then, are the features and differences between ASP.NET Core and previous ASP.NET?  Some of these are: <br><br><ul><li>  The ability to much better control the necessary modules, assembly.  For example, there is no tight binding to IIS, System.Web.dll </li><li>  Built-in functionality for dependency injection </li><li>  Open source </li></ul><br>  In addition, the Core application is now unified with other types of applications.  Now, it includes the Main method in the same way, which is called when the application is started, and that in turn simply starts the Web part.  The minimal application looks like this: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> host = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebHostBuilder() .UseKestrel() .UseStartup&lt;Startup&gt;() .Build(); host.Run(); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Startup</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConfigureServices</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IServiceCollection services</span></span></span><span class="hljs-function">)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Configure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IApplicationBuilder app</span></span></span><span class="hljs-function">)</span></span> { } }</code> </pre> <br>  The Statup class can, to some extent, be described as a new version of Global.asax (This is the class for global configuration of the entire application in the previous version of ASP.NET).  Roughly speaking, we can say that the <b>ConfigureServices</b> method is needed for configuring the container for implementing dependencies and its services, and the <b>Configure</b> method for configuring the query processing pipeline. <br><br><h4>  Let's start the practical implementation </h4><br>  In order to better understand all the innovations, let's create an ASP.NET Core application based on .NET Core. <br><br><img src="https://habrastorage.org/files/242/34d/df3/24234ddf3f6c406cb4bca4c2b655a1b0.png"><br><br>  To make your life easier, choose Web Application and change the authentication to Individual User Accounts.  Thus, Visual Studio will already generate all the necessary code for the base application. <br><br><img src="https://habrastorage.org/files/cfc/b56/084/cfcb560845b74f03a2f3a785990bc37d.png"><br><br>  Let us consider in more detail what is new in ASP.NET Core.  From the point of view of development, the whole concept remains the same.  The project structure is based on the MVC pattern.  To work with the default data, we use the Entity Framework, the logic is described in controller classes, at the presentation level we use the syntax cshtml + new tag tag helpers. <br><br>  Check the classes Program.cs and Startup.cs, they really look the same as described above.  Of course, the Startup class is not completely empty, but already contains functionality for reading the configuration, setting up basic logging, routing, and binding to our database model. <br><br>  Let's add the database model with entities for creating and passing tests.  We will use the following entities: A set of test questions - TestPackage, The question itself (test) - TestItem, Test result - TestResult.  An example can be found <a href="https://github.com/gbdrm/AspNetCore/tree/master/src/AspNetCore/Models">here</a> .  I am glad that EntityFramework Core already supports most of the functionality and you can fully use Code First migrations. <br><br><h4>  Add logic </h4><br>  Now that we have a database model, we can start creating logic for our application.  The easiest way to create an admin is scaffolding.  To do this, right-click on the controller folder and select Add ‚Üí New Scaffold Item: <br><br><img src="https://habrastorage.org/files/744/5c5/35e/7445c535e5364289909c46271b2b01eb.png"><br><br>  Select "MVC Controller with views using the Entity Framework".  This template allows us to quickly create a controller and view to manage one specific model.  Let's do this trick for TestPackage and TestItem.  As a result, we have a ready prototype admin panel for our system.  You can run a project and go to the pages of these controllers, just add its name without the word Controller to the end of the address, for example, / testpackages.  Of course, everything is not perfect in it, so you need to finish some moments and make them more comfortable. <br><br>  After creating a model and a simple functional for working with it, you can proceed to the process of passing tests.  In general, everything looks simple.  The server sends a question, options, we send back the answer.  The server saves it.  At the end of the test we show the result.  Add <a href="">code</a> for this behavior. <br><br>  In general, all that is needed for the test we have. <br><br><h4>  Basics of Dependency Injection in an ASP.NET Core </h4><br>  An important innovation in the new version of ASP.NET is also the built-in dependency injection mechanism.  In 2016, no one will be surprised by the fact that the mechanism for introducing dependencies can be transferred inside the framework.  Few serious applications are written without using this approach.  DI in ASP.NET Core is implemented fairly basic, but at the same time allows you to solve most of the problems of dependency management. <br><br>  The container is configured in the ConfigureServices method of Startup.  Example: <br><br><pre> <code class="cs hljs"> <span class="hljs-comment"><span class="hljs-comment">// Add framework services. services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString("DefaultConnection"))); services.AddIdentity&lt;ApplicationUser, IdentityRole&lt;Guid&gt;&gt;() .AddEntityFrameworkStores&lt;ApplicationDbContext, Guid&gt;() .AddDefaultTokenProviders(); services.AddMvc(); // Add application services. services.AddTransient&lt;IEmailSender, AuthMessageSender&gt;(); services.AddTransient&lt;ISmsSender, AuthMessageSender&gt;();</span></span></code> </pre><br>  You may notice that for the database context and the Identity framework there are additional, not typical methods for their registration.  This allows them to be configured more flexibly.  The extension-methods are very nicely fit into this service registration approach. <br><br>  After registering services, the easiest way to get from in the code (for example, in controllers) is to simply add a parameter to the type constructor that was registered.  Such controllers are by default created by scaffolding. <br><br><h4>  Depla </h4><br>  Microsoft Azure remains one of the easiest ways to deploy.  The most basic settings are enough for us to complete the work.  Deploying a website to a server is just as easy - with a few clicks, starting from the context menu on the project file. <br><br><img src="https://habrastorage.org/files/d4b/5f4/5c2/d4b5f45c28f84cd280e7e9aef8b0b811.png"><br><br><h4>  findings </h4><br>  The future of the ‚Äúclassic‚Äù .NET framework is not yet known, since it is nevertheless more stable and proven, therefore it can exist for quite a long time (hello, Python 2), although the situation of the rapid migration of most developers to the Core version is possible (not this is already .NET and old - only 14 years old). <br><br>  Very pleased with the stability of the current version of frameworks and tools.  Although they are not perfect, but the main thing is that you can fully write code.  Microsoft frameworks, as always, are captivating by the fact that if you were familiar with the previous version, you already know more than half of the next one.  For a good ASP.NET developer, you can start writing on Core without reading the documentation at all, although many things will not be clear.  It is true then, it is difficult to write in ordinary ASP.NET, they quickly get used to the good. <br><br>  Also surprised by the number of questions on StackOverflow.  Questions that relate to basic things already googling perfectly with the prefix ASP.NET Core.  Often, the answers to them lead to Github and to the discussions of the developers of the framework itself, which is a completely new experience for the .NET world.  Very unusual and interesting. <br><br>  <a href="https://github.com/gbdrm/AspNetCore/">Sources</a> <br>  <a href="http://aspnetcorehabr.azurewebsites.net/">Pass the test</a> </div><p>Source: <a href="https://habr.com/ru/post/312226/">https://habr.com/ru/post/312226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312212/index.html">Meeting Logeek Night for Java and QA specialists of Karaganda</a></li>
<li><a href="../312214/index.html">ASP.NET Core: An Example of Implementing Design Patterns Unit of Work and Repository</a></li>
<li><a href="../312216/index.html">Google presented free Noto font with support for 800 languages ‚Äã‚Äãand 110 thousand characters</a></li>
<li><a href="../312222/index.html">Meet the Telerik AppBuilder</a></li>
<li><a href="../312224/index.html">GOST R 34.12 '15 on SSE2, or Not So Bad Grasshopper</a></li>
<li><a href="../312228/index.html">Installing Canon LBP series printers in Ubuntu</a></li>
<li><a href="../312230/index.html">Intellect cards: 5 ways that helped me turn chaos into order</a></li>
<li><a href="../312232/index.html">4 main lessons that we learned when starting our first service</a></li>
<li><a href="../312234/index.html">Kryptonomicon: great accordion, hello from the 90s and the best book about techies</a></li>
<li><a href="../312236/index.html">How MikroTik sees neighbors. Neighbor discovery update in RouterOS 6.38</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>