<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How not to shoot yourself in the foot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Without the use of unit tests and TDD it is very easy to shoot yourself in the foot. With tests and TDD, this is much more difficult, but if you succe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How not to shoot yourself in the foot</h1><div class="post__text post__text-html js-mediator-article">  <i>Without the use of unit tests and TDD it is very easy to shoot yourself in the foot.</i>  <i>With tests and TDD, this is much more difficult, but if you succeed, you will be left without a leg.</i> <br><br>  Recently, on Habr√© published quite a lot of articles on TDD, which cause <a href="http://habrahabr.ru/blogs/tdd/114142/">mixed reactions</a> from readers.  There are more and more words, young developers reading these articles, wander in a haze of definitions and terms, somewhere in the subconscious mind realizing that TDD is <i>probably</i> great. <br><br>  In this article I will try to explain what the conversation is about.  What is TDD and how to use it carefully. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What is TDD in a nutshell?  - This is the developer writing tests to implement the functionality. <br>  On the advice of <a href="http://osherove.com/">Roy Osherov,</a> we divide the question of the applicability of TDD into two: <br><br><ul><li>  Why write tests? </li><li>  Why write tests before implementation? </li></ul><br><a name="habracut"></a><br><h4>  You test anyway </h4><br><img src="https://habrastorage.org/storage/78d7915b/d9af7da6/81343b1c/64721209.jpg"><br>  There is not a single sensible developer who would not check it before delivering the program to the client.  What is there a developer, in any production, the product is tested at least visually.  Take even aircraft construction, even weaving bast shoes - everywhere one way or another the product is checked.  This applies to you and me.  So if we test anyway, why not automate this process?  Why, after each small change, manually check all the functionality, if you can do it with one click of a button? <br><br><h4>  Not everyone needs it. </h4><br><img src="https://habrastorage.org/storage/2b11cb01/5a2a29aa/d0495a97/8c10f420.jpg"><br>  In our projects of developers who do not write tests, we call ChakNorris, because they are incredibly cool and we sincerely envy them. <br><br><h4>  Why is Chuck not writing tests? </h4><br><h6>  His code is perfect </h6><br>  In the code of Chuck Norris there are never bugs.  He is never wrong.  If you find a bug in Chuck's code - try to talk to him about it - you will immediately realize that this is actually a necessary feature of the project. <br><br><h6>  It does not need code documentation and project communication. </h6><br>  In fact, documentation is just one of the ways to communicate.  Documenting the code, we communicate with the team (with the present and the future), which is working on the project.  Tests are the best documentation.  Developers do not read paper documentation at all, and these pieces of paper and files disappear all the time.  In the written comments to the code, it is not always possible to figure out what exactly the author meant.  In tests, you can immediately see how the code works, what they want to get from it. <br>  Chuck doesn't need all this - he works alone. <br><br><h6>  Perfect memory </h6><br>  What projects can you work on alone?  Only on those where you bought a plane ticket to a warm country in which the customer will not find you.  On all other projects you work at least together - you and you in the future.  And you need to communicate with yourself on the subject of implementation.  Chuck is doing very well without it - he remembers everything in his projects. <br><br><h6>  Refactoring without problems </h6><br>  Chuck does not refactor at all, because his code is perfect at once.  So there are no situations when you need to change or optimize something and try not to break anything in the process. <br><br><h4>  Why don't you write tests? </h4><br><h6>  I do not understand what it is and why </h6><br>  A strange excuse, especially after you read why Chuck Norris does not write tests. <br><br><h6>  No time </h6><br>  With the help of tests you will save time.  How much time do you spend now on debugging and manual testing of your applications?  Yes, tests take time to write, but it pays off. <br><br><h6>  It is impossible to test </h6><br>  Almost everything can be tested, and what is impossible - it is not necessary.  <a href="http://en.wikipedia.org/wiki/List_of_mock_object_frameworks">Mock frameworks are very helpful in this.</a>  Unit tests need to test logic in your project.  Testing the interaction with the base, with external services and so on - this is already a conversation about integration and functional tests. <br><br><h6>  This is not my job </h6><br>  We have testers - let them test.  The fewer bugs you leave to testers, the less you will work with them in the future.  Work more efficiently - employers appreciate it. <br><br><h6>  I'm fine as it is </h6><br>  Congratulations, you are Chuck Norris. <br><br>  Tests save time.  Tests prevent the repetition of errors.  With their help, the code is documented much more efficiently and you can feel much more comfortable during refactoring. <br><br><h4>  So why write them before implementation? </h4><br><br><img src="https://habrastorage.org/storage/933fb77a/56035142/42b426e6/cc83d9c9.jpg"><br>  This picture and Kent Beck‚Äôs " <b>Clean Code That Works</b> " phrase is all about TDD.  We want our code to work, and we want it to be clean.  That's all.  And with the help of the steps Red-&gt; Green-&gt; Refactoring, as practice shows, it is easier to achieve this. <br>  At the Red stage, we write a test, evaluate the design of our function, right there we correct it.  We are convinced that the functionality is not implemented and the test fails. <br>  At the Green stage we reach the goal - ‚ÄúCode That Works‚Äù - our implementation starts working. <br>  At the last stage of the Refactoring cycle, we realize the goal - ‚ÄúClean Code‚Äù and it is still ‚ÄúThat Works‚Äù ... and we go further. <br><br>  The main idea of ‚Äã‚ÄãTDD is not tests at all, it is a matter of design.  When you write a test, you ask yourself what you want to do and how best to implement it.  Here you test your design code, along with keeping the principles of <a href="http://ru.wikipedia.org/wiki/KISS_(%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF)">Keep It Simple Stupid</a> and <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_YAGNI">You Ain't Gonna Need It</a> . <br><br>  What TDD gives is confidence.  Are you sure that the test will be written - if you write tests after the functionality, then there are a thousand reasons not to do it.  You are confident in your design.  You are sure that everything you wanted is realized. <br><br><h4>  TDD is not a silver bullet </h4><br>  Unfortunately.  There are no silver bullets at all, as Frederick Brooks wrote in his <a href="http://www.ozon.ru/context/detail/id/83760/">book</a> .  And TDD is no exception.  You can still make mistakes, you can make mistakes in tests.  Unit tests will not be limited to everything, you may need integration and other types of tests.  TDD is definitely not enough to cover all your code.  And most importantly - you will still need to think :) And do not relax. <br><br><h4>  How to start using TDD? </h4><br>  ... described in <a href="http://habrahabr.ru/blogs/tdd/108638/">TDD</a> article <a href="http://habrahabr.ru/blogs/tdd/108638/">- this is like snowboarding</a> .  In short - you need to be careful.  You need to be aware of what you are doing and why.  And the best option is to learn from someone who already uses this approach.  If this is not possible - books, screencasts, articles + letters to those who write books, articles and write screencasts if something is not clear. <br><br><img src="https://habrastorage.org/storage/37b83235/14019eaf/c5d7e928/3ab70013.jpg"><br>  You will enjoy using TDD.  It's really great to see a green bar after a red one.  And it delays.  Although you need to be careful and see the limits of applicability of this wonderful thing TDD. <br><br><h4>  Risk of being left out </h4><br><h6>  Unprepared start </h6><br>  If you do not understand the essence of the issue and rush headlong into TDD, you risk throwing away a lot of your time.  And not every guide will tolerate it.  First you need to learn how to write tests.  And then go to TDD.  Smoothly, without sudden movements.  The brain switches itself at a certain moment. <br><br><h6>  TDD for TDD </h6><br>  TDD is cool, everyone writes about it, they talk more, let's be there.  Radically wrong.  Very close to an unprepared start - understand how it works, then begin. <br><br><h6>  Going beyond the limits of applicability </h6><br>  With TDD you need to test the logic of the project.  For everything else, there are other types of tests.  And not all logic lends itself to this approach - an excellent example is described in the article <a href="http://habrahabr.ru/blogs/development/92038/">Why unit tests do not work in scientific applications</a> <br><br><h6>  Fanaticism </h6><br>  We work primarily for customers.  If in half an hour you have an important presentation and you urgently need to implement some new function, then you will not understand if you start writing a test and do not have time to write the implementation.  You need to understand that sometimes TDD needs to be sacrificed for the sake of business challenges. <br><br><h4>  What to read to start </h4><br>  <a href="http://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530/ref%3Dsr_1_1%3Fie%3DUTF8%26qid%3D1300489758%26sr%3D8-1">Test Driven Development: By Example</a> <br><img src="https://habrastorage.org/storage/c45626e9/e107b680/3a150b4d/418f44dc.jpeg"><br>  The first book should be the book of Kent Beck - it contains all the basics of TDD from the author of this approach.  Required to read. <br><br>  <a href="http://www.amazon.com/Art-Unit-Testing-Examples-Net/dp/1933988274/ref%3Dsr_1_3%3Fie%3DUTF8%26qid%3D1300489758%26sr%3D8-3">The Art of Unit Testing: With Examples in .Net</a> <br><img src="https://habrastorage.org/storage/c56c2d30/ae930452/e41c4a41/2d62e21b.jpg"><br>  A book that will help you master the first skill - writing tests.  About TDD there are just a couple of words.  Examples in C #, but this is not essential - it will be useful to everyone.  A good book review can be read <a href="http://habrahabr.ru/blogs/net/107678/">here</a> . <br><br>  <a href="http://www.amazon.com/Refactoring-Improving-Design-Existing-Code/dp/0201485672/ref%3Dsr_1_1%3Fs%3Dbooks%26ie%3DUTF8%26qid%3D1300500261%26sr%3D1-1">Refactoring: Improving the Design of Existing Code</a> <a href="http://www.amazon.com/Refactoring-Improving-Design-Existing-Code/dp/0201485672/ref%3Dsr_1_1%3Fs%3Dbooks%26ie%3DUTF8%26qid%3D1300500261%26sr%3D1-1"><br></a> <img src="https://habrastorage.org/storage/2e4e4cfb/bfc44840/eb6584fe/8b823770.jpeg"><br>  Martin Faulerao's classic book refactoring, which helps you keep your code clean. <br><br>  <a href="http://www.amazon.com/Refactoring-Patterns-Joshua-Kerievsky/dp/0321213351">Refactoring To Patterns</a> <br><img src="https://habrastorage.org/storage/1f3026b5/2e7fd1c6/bf2896c9/f843d145.jpg"><br>  Another book about refactoring.  In it, Joshua Kirievski shows the connection of refactoring with design patterns.  I recommend reading right after Fowler. <br><br>  <a href="http://www.amazon.com/Working-Effectively-Legacy-Michael-Feathers/dp/0131177052/ref%3Dsr_1_1%3Fie%3DUTF8%26qid%3D1300489813%26sr%3D8-1">Working Effectively with Legacy Code</a> <br><img src="https://habrastorage.org/storage/208ddf28/dcd03f0d/479e04fd/4ca2e593.jpg"><br>  The book by Michael Fieters, which describes in detail how to work with inherited code.  It is interesting how the author defines the very concept of ‚Äúinherited code‚Äù - this is a code that is not covered by tests :) It will be very useful for those who work with such code. <br><br>  I hope that you will write tests and use TDD, but only where it is really necessary.  Take care of your feet. <br><br>  The article was prepared based on my recent <a href="http://vimeo.com/22117794">report</a> at <a href="http://www.dotnetconf.ru/">the .NET Developer Conference</a> . <br></div><p>Source: <a href="https://habr.com/ru/post/116514/">https://habr.com/ru/post/116514/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116509/index.html">Avtovaz and Glonass</a></li>
<li><a href="../116510/index.html">Android Market has launched an in-app payment system.</a></li>
<li><a href="../116511/index.html">We are writing the viewer of the MS Exchange mail database (part 2)</a></li>
<li><a href="../116512/index.html">PHP and API on uCoz</a></li>
<li><a href="../116513/index.html">"LiveJournal" has undergone a DDoS attack</a></li>
<li><a href="../116515/index.html">First Belarusian Mobile Developer Conference</a></li>
<li><a href="../116516/index.html">Startup Weekend - to Ekaterinburg to a nakhalyav</a></li>
<li><a href="../116517/index.html">ESKD and GOST 7.32 templates for Lyx 1.6.x</a></li>
<li><a href="../116518/index.html">Google‚Äôs ultra high-speed internet access goes to the city of Kansas City, Kansas</a></li>
<li><a href="../116519/index.html">+1 to search results</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>