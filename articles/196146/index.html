<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>(Archive) Matreshka.js - Introduction</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is outdated. The new documentation contains the most current information from this post. See bindNode and on . 

 Greetings to all readers...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>(Archive) Matreshka.js - Introduction</h1><div class="post__text post__text-html js-mediator-article">  <b>The article is outdated.</b>  <b>The <a href="http://ru.matreshka.io/">new documentation</a> contains the most current information from this post.</b>  <b>See <a href="http://ru.matreshka.io/">bindNode</a> and <a href="http://ru.matreshka.io/">on</a> .</b> <br><br>  Greetings to all readers and writers of Habr. <br><br>  I want to introduce you to a compact framework that allows you to somewhat change the view on the structuring of applications.  In the "Matryoshka" there is a little bit of magic, which will be revealed by a series of articles entitled as follows: <br><ul><li>  <b>Introduction</b> </li><li>  <a href="http://habrahabr.ru/post/200078/">Inheritance</a> </li><li>  <a href="http://habrahabr.ru/post/196886/">MK.Object</a> </li><li>  <a href="http://habrahabr.ru/post/198212/">MK.Array</a> </li><li>  <a href="http://habrahabr.ru/post/217241/">Matreshka.js v0.1</a> </li><li>  <a href="http://habrahabr.ru/post/231333/">Matreshka.js v0.2</a> </li><li>  <a href="http://habrahabr.ru/post/231347/">Implement TodoMVC</a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Code to attract attention: <br><pre><code class="javascript hljs">mk.on( <span class="hljs-string"><span class="hljs-string">'change:x'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert( <span class="hljs-string"><span class="hljs-string">'x is changed to '</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x ); }); mk.x = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">// alerts "x is changed to 2"</span></span></code> </pre> <br>  And it works in ... IE8. <br><br><h5>  What is a matryoshka? </h5><br>  <b>Matryoshka as a framework</b> <br>  Compact size and easy-to-learn architecture makes it possible to build large extensible applications.  This will surprise no one today, but I will try. <br>  <b>Matryoshka as library</b> <br>  If the features provided by Matryoshka you like, then it is not necessary to change your code.  Nested doll can be used as a set of classes with interesting methods. <br>  <b>Matryoshka as a platform for creating your own framework</b> <br>  Matryoshka is an extensible general purpose framework that is not positioned as MVC, MVVM or% your_design_pattern% framework, so the programmer has the opportunity to implement his own architecture, which will know how the desired set of design patterns. <br><br><h5>  What for? </h5><br>  I am sick of thinking about the idea and about changing it with the code I wrote.  All the crutches of data synchronization and presentation in Javascript cause me negative feelings, and the ambitious future-oriented Matryoshka goal is to completely forget about the fact that we have a UI, using only data.  Of course, this task cannot be solved 100%, but we, programmers, must squeeze the maximum out of the tools given to us in order to make the code cleaner, shorter and more flexible.  It's time to shake up your code and get angry. <br><div class="spoiler">  <b class="spoiler_title">Gifka to attract attention</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f10/053/4ed/f100534ed7279cd29fa7abf7ca9af868.gif"></div></div><br><a name="habracut"></a><br><h4>  Data binding </h4><br>  It is known that client applications in the browser require synchronization between the data and the view.  The classic task: there is data: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> };</code> </pre><br>  There is a <code>select</code> that should change this data: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  If you use pure JS + jQuery code, we will write something like the following: <br><pre> <code class="javascript hljs">$( <span class="hljs-string"><span class="hljs-string">'select'</span></span> ).on( <span class="hljs-string"><span class="hljs-string">'change'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ox = +<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value; });</code> </pre><br>  Then, when we want to change the data, we write: <br><pre> <code class="javascript hljs">ox = <span class="hljs-number"><span class="hljs-number">1</span></span>; $( <span class="hljs-string"><span class="hljs-string">'select'</span></span> ).val( ox );</code> </pre><br>  This is not very good, because it forces you to set the value for two "atoms" at once: the properties and the element. <br><br>  This problem is solved in different ways: Backbone (MVC) divides the application into a model (Model, Collection), a view (HTML code) and a controller (View).  Knockout and Angular (MVVM) bind data using the practice migrated from .NET to the client web: the part of logic that replaces the controller (in this case, the ViewModel) is written in HTML code (I apologize if the description is incorrect).  There are a bunch of frameworks that you‚Äôre not hijacking. <br><a name="how-matreshka-bindings-work"></a><br>  Matryoshka binds the data to the presentation in such a way that, firstly, the programmer does not touch the HTML code (unlike MVVM), secondly, the programmer stops thinking about the events of the HTML element to change the model (unlike Backbone). <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Matreshka; <span class="hljs-comment"><span class="hljs-comment">//  new MK; ,  MK === Matreshka,    mk.bindNode( 'x', 'select', { on: 'change', getValue: function() { return this.value; }, setValue: function( v ) { this.value = v; } });</span></span></code> </pre><br>  If we want to change the data, then simply write: <br><pre> <code class="javascript hljs">mk.x = <span class="hljs-number"><span class="hljs-number">2</span></span>;</code> </pre><br>  Such a code not only assigns a deuce to X, but also changes the state of the select, setting it to <code>.value = 2</code> . <br>  And this is without using methods like <code>.set</code> . <br>  <a href="http://jsbin.com/jikewipi/2/edit">jsbin.com/jikewipi/2/edit</a> <br><br>  What happened here? <br><pre> <code class="javascript hljs">mk.bindNode( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'select'</span></span> ... )</code> </pre><br>  The <code>bindNode</code> method, oddly enough, is responsible for binding an element to a property.  The first argument is the key of the object, the second is the selector, in this case <code>'select'</code> .  The type of the second argument is any value that is accepted by jQuery: selector, pure element, jQuery object, NodeList, array of elements ... That is, <code>'select'</code> can be replaced by <code>$( 'select' )</code> or <code>document.getElementsByTagName( 'select' )</code> or <code>document.querySelector( 'select' )</code> . <br><br>  The third argument is the most interesting one, let's sort it in order. <br><pre> <code class="javascript hljs">on: <span class="hljs-string"><span class="hljs-string">'change'</span></span></code> </pre>  Answers the question: ‚ÄúWhat event should happen on the element, so that we take the value from the element and assign it to the corresponding property?‚Äù <br><br><pre> <code class="javascript hljs">getValue: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value; }</code> </pre>  Answers the question: "How to extract the value of an element?", Returning the value. <br><br><pre> <code class="javascript hljs">setValue: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> v </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = v; }</code> </pre>  Answers the question: ‚ÄúHow do we set the value for an element?‚Äù, Where <code>v</code> is the value (in this case, <code>2</code> ). <br><br>  Link to dock: <a href="http://finom.github.io/matreshka/docs/Matreshka.html">finom.github.io/matreshka/docs/Matreshka.html#bindElement</a> <br><br>  Let's complicate the task.  Let's say we have a slider from jQuery UI: <a href="http://api.jqueryui.com/slider/">api.jqueryui.com/slider</a> and we have a task to bind it to our data.  We look at the documentation and see the event <code>"slide"</code> , which is triggered by dragging the slider. <br><br>  First, before binding, we will announce the slider: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"slider"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs">$( <span class="hljs-string"><span class="hljs-string">".slider"</span></span> ).slider({ <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span> });</code> </pre><br>  Secondly, we declare a copy of the Matryoshka: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Matreshka();</code> </pre><br>  Next, call the binding: <br><pre> <code class="javascript hljs">mk.bindNode( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'.slider'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">on</span></span>: <span class="hljs-string"><span class="hljs-string">'slide'</span></span>, <span class="hljs-comment"><span class="hljs-comment">// ,       getValue: function() { return $( this ).slider( 'option', 'value' ); //      (.  jQuery ui.slider)? }, setValue: function( v ) { $( this ).slider( 'option', 'value', v ); //      (.  jQuery ui.slider)? } });</span></span></code> </pre><br>  Now that we call the following code ... <br><pre> <code class="javascript hljs">mk.x = <span class="hljs-number"><span class="hljs-number">44</span></span>;</code> </pre>  ... the position of the slider will change. <br><br>  Conversely, when we drag the slider, our <code>mk.x</code> changes. <br><br>  <b>UPD</b> : Starting from version 0.2, the third argument has a new key <code>'initialize'</code> , which allows you to initialize an element before binding it.  <a href="http://habrahabr.ru/post/231333/">See article about 0.2</a> .  The code now looks like this: <br><pre> <code class="javascript hljs">mk.bindNode( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'.slider'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider({ <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span> }); }, <span class="hljs-attr"><span class="hljs-attr">on</span></span>: <span class="hljs-string"><span class="hljs-string">'slide'</span></span>, <span class="hljs-attr"><span class="hljs-attr">getValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> ); }, <span class="hljs-attr"><span class="hljs-attr">setValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> v </span></span></span><span class="hljs-function">) </span></span>{ $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span>, v ); } });</code> </pre><br>  A little more complicate the task by adding an HTML element that displays the value: <br><pre> <code class="javascript hljs">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"output"</span></span>&gt;Value is &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"x"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  And we tie it to the <code>'x'</code> : <br><pre> <code class="javascript hljs">mk.bindNode( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'.output .x'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">setValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> v </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.innerHTML = v; } });</code> </pre><br>  As you can see, the options for binding an element lack the <code>"on"</code> property and the method <code>"getValue"</code> .  This means that we will not extract the value from the <code>".output .x"</code> element, but only set. <br><br>  We can bind several elements to one property.  The converse is also true: we can bind many properties to one element.  Just remember that the Matryoshka can bind elements according to the rule ‚Äúmany to many‚Äù. <br><br>  Result: <a href="http://jsbin.com/bulobuhu/7/edit">jsbin.com/bulobuhu/7/edit</a> (open the Console tab and try changing <code>x</code> , for example, <code>mk.x = 42;</code> ) <br><br>  Great, we tied two elements, but got a bunch of redundant code (in my opinion).  What if we have a lot of sliders?  Every time to write ... <br><pre> <code class="javascript hljs">mk.bindNode( property, element, { <span class="hljs-attr"><span class="hljs-attr">on</span></span>: <span class="hljs-string"><span class="hljs-string">'slide'</span></span>, <span class="hljs-attr"><span class="hljs-attr">getValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> ); }, <span class="hljs-attr"><span class="hljs-attr">setValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> v </span></span></span><span class="hljs-function">) </span></span>{ $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span>, v ); } });</code> </pre>  ... not very beautiful. <br><br>  What to do?  You need to remember the common features of the elements that will be checked when linking elements.  It would be convenient to do so: <br><pre> <code class="javascript hljs">mk.bindNode( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'.slider'</span></span> );</code> </pre><br>  How to do it?  The Nested Doll has the static property <s><code>MK.elementProcessors</code></s> <code>MK.defaultBinders</code> (renamed), which is an array of functions.  The functions take the argument <code>el</code> , which is the element to be checked, and contain the condition: if the element matches a certain rule, then we return the options object, which in the examples <code>.bindNode</code> above are the third argument. <br><br>  For any slider, there is one rule: each has a <code>ui-slider</code> class.  Therefore, our condition function will look like this ( <b>UPD</b> : don't forget about the <code>'initialize'</code> property): <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> el </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( $( el ).hasClass( <span class="hljs-string"><span class="hljs-string">'ui-slider'</span></span> ) ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">on</span></span>: <span class="hljs-string"><span class="hljs-string">'slide'</span></span>, <span class="hljs-attr"><span class="hljs-attr">getValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> ); }, <span class="hljs-attr"><span class="hljs-attr">setValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> v </span></span></span><span class="hljs-function">) </span></span>{ $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span>, v ); } }; } }</code> </pre><br>  The example, I hope, is quite simple: we check if the element is a slider and, if so, return options. <br><br>  Insert the function into the array <code>MK.defaultBinders</code> : <br><pre> <code class="javascript hljs">MK.elementProcessors.push( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> el </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( $( el ).hasClass( <span class="hljs-string"><span class="hljs-string">'ui-slider'</span></span> ) ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">on</span></span>: <span class="hljs-string"><span class="hljs-string">'slide'</span></span>, <span class="hljs-attr"><span class="hljs-attr">getValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> ); }, <span class="hljs-attr"><span class="hljs-attr">setValue</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> v </span></span></span><span class="hljs-function">) </span></span>{ $( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ).slider( <span class="hljs-string"><span class="hljs-string">'option'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span>, v ); } }; } });</code> </pre><br>  The dock link: <a href="http://finom.github.io/matreshka/docs/Matreshka.html">finom.github.io/matreshka/docs/Matreshka.html#defaultBinders</a> <br><br>  After that, having at least a hundred sliders, in the <code>.bindNode</code> function <code>.bindNode</code> we define only the property and the binding element: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"slider1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"slider2"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs">$( <span class="hljs-string"><span class="hljs-string">".slider1, .slider2"</span></span> ).slider({ <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Matreshka(); mk.bindNode({ <span class="hljs-attr"><span class="hljs-attr">x1</span></span>: <span class="hljs-string"><span class="hljs-string">'.slider1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">x2</span></span>: <span class="hljs-string"><span class="hljs-string">'.slider2'</span></span> });</code> </pre><br>  Result: <a href="http://jsbin.com/celarefu/2/edit">jsbin.com/celarefu/2/edit</a> <br><br>  Pay attention to how in the example of the link the output is attached: <br><pre> <code class="javascript hljs">mk.bindNode({ <span class="hljs-attr"><span class="hljs-attr">x1</span></span>: <span class="hljs-string"><span class="hljs-string">'.output .x1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">x2</span></span>: <span class="hljs-string"><span class="hljs-string">'.output .x2'</span></span> }, MK.binders.innerHTML() );</code> </pre><br>  <code>MK.binders</code> is a static property containing custom bindings functions that should return the object described above (with <code>on, setValue, getValue</code> ).  The object can be extended with its own binder. <br>  <code>MK.binders.innerHTML</code> is a function that returns the binding options to a regular html element, changing its <code>innerHTML</code> . <br><br>  Doc: <a href="http://finom.github.io/matreshka/docs/Matreshka.binders.html">finom.github.io/matreshka/docs/Matreshka.binders.html#innerHTML</a> <br><br>  Why not create a rule that changes <code>.innerHTML</code> for any element that does not match any other rule?  In a word: convenience.  Sometimes there is a need to bind elements for which no value is required, but this is in the next article. <br><br>  By default, <code>MK.defaultBinders</code> contains one function that checks an element for compliance with trivial rules, making it possible to use simple elements ( <code>select</code> , <code>textarea</code> , <code>input[type="text"]</code> , <code>input[type="checkbox"]</code> , <code>input[type="radio"]</code> ). <br>  For example, <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my-select"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Using this code: <br><pre> <code class="javascript hljs">mk.bindNode( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'.my-select'</span></span> );</code> </pre>  ... Matryoshka herself learns when, how to get, how to set the value of an element, since the most common <code>select</code> . <br><br>  Example: <a href="http://jsbin.com/tepiyoso/2/edit">jsbin.com/tepiyoso/2/edit</a> (click, change the text of the input and look at the source) <br><br><div class="spoiler">  <b class="spoiler_title">Evaluation approach with class selector</b> <div class="spoiler_text">  Two days ago I <a href="http://javascript.ru/forum/project/42461-frejjmvork-matreshka-js.html">posted the announcement of the</a> Matryoshka on the javascript.ru forum.  The user <b>nerv_</b> reasonably described a critique of the approach with selectors, citing the code on AngularJS. <br><blockquote>  It turns out that you need to monitor at least the service selectors. <br>  And it turns out that all the "binding" must be written in js code.  And, as a rule, there are a lot of them, instead of asking declaratively - cheap and cheerful. <br></blockquote><br>  I agree that with a large number of bindable elements, you need to make sure not to change the classes of bound elements, therefore, in this case, it may be appropriate to specify the keys in the UI: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"a"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Wooden way: <br><pre> <code class="javascript hljs">$( <span class="hljs-string"><span class="hljs-string">'[data-key]'</span></span> ).each( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bindNode( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAttribute( <span class="hljs-string"><span class="hljs-string">'data-key'</span></span> ), <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ); });</code> </pre><br>  The correct way (for more on the <code>.each</code> method, <code>.each</code> the article about <code>MK.Object</code> ): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.each( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> v, key </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bindNode( key, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$( <span class="hljs-string"><span class="hljs-string">'[data-key='</span></span> + key + <span class="hljs-string"><span class="hljs-string">']'</span></span> ) ); });</code> </pre><br>  These two methods can be called the first steps to the MVVM pattern, which can be implemented on the basis of the Nested doll.  Preparing proof in the form of a plug-in and an article about it. <br><br>  I prefer to distinguish between "complex" elements of the application in such a way that each element is an elementary class (which I mean, will be clearer in the article on inheritance), in which there are not so many bindings.  Perhaps my approach is severely deformed by the conviction that the JS code and HTML should be as demarcated as possible: the layout designer, and the programmer, if he makes, then only minimal and necessary changes. <br><br></div></div><br><br><h4>  Developments </h4><br>  Matryoshka contains an event generator that works in the same way as in Backbone.js.  Initially, the framework was written for its own needs, so the part of the code responsible for the events was borrowed from this framework.  But the code of these methods turned out to be very stable, so it was decided to leave it. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Matreshka(); mk.on( <span class="hljs-string"><span class="hljs-string">'someevent'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> a, b </span></span></span><span class="hljs-function">) </span></span>{ alert( a + <span class="hljs-string"><span class="hljs-string">', '</span></span> + b ); }); mk.trigger( <span class="hljs-string"><span class="hljs-string">'Hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'World!'</span></span> ); <span class="hljs-comment"><span class="hljs-comment">// alerts "Hello, World!"</span></span></code> </pre><br>  Familiar? <br><br>  Reference to documentation: <a href="http://finom.github.io/matreshka/docs/Matreshka.html">finom.github.io/matreshka/docs/Matreshka.html#on</a> <br><br>  One of the tasty features mentioned at the beginning of the post is tracking the property change event: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Matreshka(); mk.on( <span class="hljs-string"><span class="hljs-string">'change:x'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert( <span class="hljs-string"><span class="hljs-string">'New x value is '</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x ); }); mk.x = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-comment"><span class="hljs-comment">//alerts "New x value is 5"</span></span></code> </pre><br>  We can also bind a property to an element and track the change in its value: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my-select"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Matreshka(); mk.bindNode( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'.my-select'</span></span> ); mk.on( <span class="hljs-string"><span class="hljs-string">'change:x'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert( <span class="hljs-string"><span class="hljs-string">'x is now '</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x ); });</code> </pre><br>  There is a huge difference in the approaches: we used to track changes in the DOM element, and now we track changes in the data, since for us only the data are important, the states of the elements change by themselves. <br>  Try it yourself: <a href="http://jsbin.com/dadakeba/1/edit">jsbin.com/dadakeba/1/edit</a> <br><br><h4>  Using the <code>.set</code> method </h4><br>  The <code>.set</code> method simply assigns a value to a given property.  It is used for two purposes: <br>  1. Passing properties to the <code>change:*key*</code> event object (for example, the <code>"silent"</code> flag).  <b>UPD:</b> Flags became more. <br><pre> <code class="javascript hljs">mk.on( <span class="hljs-string"><span class="hljs-string">'change:x'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> evtOpts </span></span></span><span class="hljs-function">) </span></span>{ alert( evtOpts.myFlag ); }); mk.set( <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, { <span class="hljs-attr"><span class="hljs-attr">myFlag</span></span>: <span class="hljs-string"><span class="hljs-string">'blah'</span></span> } ); <span class="hljs-comment"><span class="hljs-comment">//      "change:x" mk.set( 'x', 42, { silent: true } ); //       </span></span></code> </pre>  Note that even if the <code>silent: true</code> flag is passed, the value of the bound element will still change. <br>  2. Abbreviation code.  An object with properties can be passed to the <code>.set</code> method. <br><pre> <code class="javascript hljs">mk.set( { <span class="hljs-attr"><span class="hljs-attr">x1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">x2</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> } ); mk.set( { <span class="hljs-attr"><span class="hljs-attr">x1</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">x2</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">silent</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } );</code> </pre><br><br><h4>  Where to get? </h4><br>  Repository on github: <a href="https://github.com/finom/matreshka">github.com/finom/matreshka</a> (the framework code is in the <code>build/</code> folder) <br>  <s>Matryoshka requires jQuery, although it is planned to remove the dependence on it.</s>  Starting with version 0.1, jQuery is not required. <br><br><h4>  In conclusion </h4><br>  I introduced you to the main features that the Matryoshka carries.  The remaining functions can be found in the <a href="http://finom.github.io/matreshka/docs/Matreshka.html">documentation</a> .  There you will find other equally important methods: <br>  <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.off</code></a> , <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.off</code></a> off specified events <br>  <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.remove</code></a> removing property <br>  <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.define</code></a> , hanging custom accessories <br>  <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.defineGetter</code></a> , hanging a getter on an element <br>  <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.bound</code></a> , <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.boundAll</code></a> , returning an element or collection of elements, respectively, bound to a property <br>  <a href="http://finom.github.io/matreshka/docs/Matreshka.html"><code>.unbindElement</code></a> breaking the link between a property and an element <br>  ‚Ä¶ other. <br><br><h5>  Why version 0.0.X? </h5><br>  Just because the project, despite the fact that it has been developed for more than a year under a different name, is being presented for the first time just now (in this article). <br><br><h5>  What's next? </h5><br>  In the next article, I will tell you how to write my first application using the Nested Doll not just as a set of convenient functions, but as a full-fledged framework based on classes, and tell you why classes (I am familiar with the local indignation about this issue). <br>  Further it will be told about the <code>MK.Array</code> and <code>MK.Object</code> classes responsible for data. <br>  After that, if the reader is interested, I will tell you how magic works, and how I managed to implement <code>Object.defineProperty</code> support in IE8. <br><br>  Many thanks to all who could read the article to the end.  I wish you good luck and successful coding. </div><p>Source: <a href="https://habr.com/ru/post/196146/">https://habr.com/ru/post/196146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../196134/index.html">How VPN is arranged through SSTP</a></li>
<li><a href="../196136/index.html">Initial setup of Tomcat and its registration with NetBeans</a></li>
<li><a href="../196138/index.html">Explanatory head phraseological dictionary - with explanations</a></li>
<li><a href="../196140/index.html">Game Maker AI - How to start?</a></li>
<li><a href="../196144/index.html">Derby.js materials</a></li>
<li><a href="../196150/index.html">GPS tracker on arduino do it yourself</a></li>
<li><a href="../196152/index.html">The Tale of Selenium Testing</a></li>
<li><a href="../196154/index.html">Closes the project WebHostingHub Glyphs</a></li>
<li><a href="../196156/index.html">The company Bathys Hawaii presented the world's first atomic wristwatch</a></li>
<li><a href="../196158/index.html">Voice search "in Russian"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>