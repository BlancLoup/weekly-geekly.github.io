<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The most interesting of the vSphere 6 arsenal</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will touch on the sixth version of the VMware vSphere family of products for server virtualization. In this release, the company not only man...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The most interesting of the vSphere 6 arsenal</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/it-grad/blog/280862/"><img src="https://habrastorage.org/files/3af/804/835/3af80483512c472bbef220325b7340ca.png" width="700"></a> <br><br>  Today we will touch on the sixth version of the VMware vSphere family of products for server virtualization.  In this release, the company not only managed to increase the quantitative indicators of virtual machines (memory, processors), but also add other interesting <a href="http://iaas-blog.it-grad.ru/samoe-interesnoe-iz-arsenala-vsphere-6/">innovations</a> . <a name="habracut"></a><br><br>  We'll start with the changes that are related to Fault Tolerance (FT) technology, which has been positioned as an enhanced version of vSphere High Availability for business critical servers.  The idea was to ensure in a blink of an eye that switching to a backup VM in case of malfunctions with the main machine. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In order to achieve the desired result, VMware implemented a constant replication of processor instructions and the contents of the memory of virtual machines combined in FT.  Such a cluster helps a lot when a virtual machine or a hypervisor fails, but it does not protect against software failures at the guest system level. <br><br>  Improved mechanism Fault Tolerance should solve this problem.  Now supports 4 processors and up to 64 GB of memory per machine.  The increase in the number of vCPUs required a revision of the synchronization of processors and memory.  If previously, a mechanism for repeating instructions on a backup VM was used, now a new Fast Checkpointing scheme was implemented, which executes instructions simultaneously on both virtual machines. <br><br>  Among other improvements to the FT, it is worth highlighting the support for the technology of snapshots of a virtual machine and VADP backup.  Now you can use familiar backup tools at the VM image level. <br><br>  The next tool is vMotion, used for seamless VM migration between hosts.  It would seem, is it possible to add something else to the technology proven over the years?  It turned out that you can. <br><br>  Previously, it was impossible to transfer a virtual machine to another vCenter management server, but now this possibility has appeared, and additional metadata transfer will occur (HA settings, DRS rules, etc.). <br><br>  It also became possible to transfer the machine between the virtual switches vSS (Standard switch) and vDS (Distributed switch) in various combinations.  The only exception is the option of moving from vDS to vSS - vDS contains additional metadata that the standard switch will simply not be perceived. <br><br>  It was also impossible to transfer a virtual machine to a significantly remote data center.  Now - it is possible, since routed channels with delays up to 100 ms are supported.  True, you will have to manually change the IP addresses of the roaming machines, if the target data center has a different addressing. <br><br>  As for the distribution library, it has become global.  In the sixth version of vSphere we are offered a rather interesting Content Library tool.  The idea is simple: combine repositories of the necessary distributions among all vCenter repositories.  Thus, there is no need to look for a forgotten OS image or template for a new stand. <br><br>  The Content Library works in two modes: immediate download, when all the content of the published catalog is immediately uploaded to all subscribers, and uploading on demand, when instead of constantly copying new data only metadata (list) is taken.  In the latter case, the download of the data itself is initiated by the administrator. <br><br>  It is also worth mentioning that with the release of vSphere 6, VMware brought to market one of the most discussed storage <a href="http://iaas-blog.it-grad.ru/chto-stoit-znat-o-virtual-volumes/">technologies</a> - Virtual Volumes (VVol).  The idea is to manage storage policies at the virtual machine level, not the datastore.  Installations with VVol will help simplify operational tasks, improve the efficiency of allocation of disk resources and move to more flexible management tools. <br><br>  Regardless of the type of storage system (block or file), vSphere virtual machines are always stored in a storage logical entity called datastore. <br><br>  When shared external devices are used as storage, the datastore is almost always built from one large LUN.  Moreover, such a large partition is the smallest logical element in the storage system.  On non-virtualized systems, LUN-level granularity was perfectly acceptable, since there was only one server for each volume. <br><br>  With the advent of virtualization, the relationship between LUN and virtual machines has changed: now there are a lot of guests on one LUN / datastore, each of whom receives the same level of service. <br><br>  This architecture has demonstrated a number of problems.  QoS and other service policies could only be applied at the disk volume level.  Thus, any transfer of ‚Äúhot‚Äù data would occur for all virtual machines in this storage.  Until recently, VMware users had to resort to options like DRS in order to somehow distribute the load on storage systems. <br><br>  To solve the problem, VMware changed the approach to working with disks, implementing the technology of virtual volumes.  First of all, the virtual machine itself is otherwise stored on new volumes.  Each disk is located in the administrator's invisible logical directory on the storage system.  And not just as a file on a VMFS partition ‚Äî for each VMDK virtual disk, something like its own LUN is created. <br><br><img src="https://habrastorage.org/files/ccf/bfc/e48/ccfbfce4881a4f5f9d8d07b7382e0656.png" width="900"><br><br>  As you can see, VMDK from a simple file on a disk volume has become a full-fledged element of the internal hierarchy of the storage system. <br><br>  With the release of VVol, the company proposed a new approach to interacting with virtual machines, in which their disks become the main control element for storage systems.  The new idea allows for performing array-level operations (for example, snapshots) on individual VMDKs, which opens up possibilities for flexible application of various storage policies. <br><br>  The question remains: how <a href="http://iaas-blog.it-grad.ru/vaai-vvol-kto-teper-otvechaet-za-rabotu-s-hranilishhami/">are the</a> VAAI API for block devices, which improved VMFS performance, delegating some operations to a disk array, and VVol?  When working with virtual volumes, the ESXi host controls not only the data flow, but also the control channel to the array.  Thus, VVol looks like a more advanced VAAI NAS interface extension. <br><br>  Block VAAI describes basic SCSI primitives, with which the hypervisor shifts off some operations to the storage.  Much depends on the VMFS file system, which directs the process and directly sends VAAI commands. <br><br>  Thanks to VVol, storage systems are now aware of the presence of virtual disks and can create snapshots, clones and invalidate certain VMDKs. <br>  As for the VAAI NAS and VVol, then, in contrast to the block variant, all the functions of the VAAI NAS are provided via RPC calls using a plug-in from the storage manufacturer.  VVol extends this model with the VASA API suite, which allows you to transfer control of all vSphere operations to the repository. <br><br>  In the sixth version of vSphere, the already existing VAAI NAS storages will continue to work as before, but more advanced virtual volumes will clearly be faster and more functional.  Moreover, the use of VVol does not require the installation of a plugin from the storage vendor. <br><br>  We summarize what new features provided by VMware in the vSphere product: <br><br><ul><li>  The Fault Tolerance mechanism has been improved: a new Fast Checkpointing scheme has been introduced, as well as technologies of VM snapshots and normal backup via the VADP interface. </li><li>  Improvements in the vMotion tool: the ability to transfer a machine between virtual switches and to another vCenter control server has appeared. </li><li>  The appearance of the Content Library tool, which unites the distributions needed in the work between all vCenter repositories. </li><li>  Technology VVol, changed the approach to the placement of virtual machines. </li><li>  In the new version of its flagship product, VMware has added quite a few serious innovations and has taken a significant step towards virtualization of critical applications. </li></ul><br>  <i>PS Other materials from our blog on Habr√©:</i> <i><br><br></i> <ul><li>  <a href="https://habrahabr.ru/company/it-grad/blog/279225/">VCloud Tools: IT GRAD Experience</a> </li><li>  <a href="https://habrahabr.ru/company/it-grad/blog/277971/">How the VMware cloud works, as well as networking and network connectivity</a> </li><li>  <a href="https://habrahabr.ru/company/it-grad/blog/279223/">Disaster-resistant IaaS, as well as replication and backups</a> </li><li>  <a href="https://habrahabr.ru/company/it-grad/blog/276807/">Virtualization and Virtual Data Centers: Basic Questions</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/280862/">https://habr.com/ru/post/280862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280846/index.html">How to hack the defense of the project Allen-Bradley PLC</a></li>
<li><a href="../280848/index.html">FlashSort sorting method</a></li>
<li><a href="../280856/index.html">Checking the Samba project using PVS-Studio under Linux</a></li>
<li><a href="../280858/index.html">Why our studio does not make free concepts</a></li>
<li><a href="../280860/index.html">Competition GraphHPC-2016 for the fastest implementation of the parallel algorithm Community Detection: Results</a></li>
<li><a href="../280864/index.html">The near future of cloud technology and virtualization</a></li>
<li><a href="../280866/index.html">Firewalls Palo Alto Networks VM-Series</a></li>
<li><a href="../280868/index.html">IaaS-digest: 30 materials on the topic of virtualization</a></li>
<li><a href="../280870/index.html">Dokkur - the first PaaS from Russia</a></li>
<li><a href="../280872/index.html">Active / Passive PostgreSQL Cluster using Pacemaker, Corosync</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>