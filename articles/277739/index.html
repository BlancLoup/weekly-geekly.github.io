<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Zabbix 3.0: Encryption</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to review the new features of 3.0, we have already managed to tell you about the capabilities of the new version, separately dwelled on th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Zabbix 3.0: Encryption</h1><div class="post__text post__text-html js-mediator-article">  We continue to review the new features of 3.0, we have already managed to <a href="https://habrahabr.ru/company/zabbix/blog/277265/">tell you</a> about the capabilities of the new version, separately dwelled on the <a href="https://habrahabr.ru/company/zabbix/blog/277473/">possibility of predicting problems</a> based on the collected statistics, and today we will talk about encryption. <br>  <a href="https://www.zabbix.com/documentation/3.0/ru/manual/encryption">Encryption</a> was one of the most long-awaited and expected innovations in Zabbix, and during this time we had time to discuss several options for its implementation: from authentication using a pre-PSK key to full support for TLS and Kerberos.  A year ago, it was decided to stop at TLS. <br><img src="https://habrastorage.org/files/d00/f25/de2/d00f25de25e6449a9b63c9ad47a1aba9.png"><br><a name="habracut"></a><br><br>  And now in Zabbix 3.0 all components, such as server, agent and proxy, can be configured to use encryption, or can continue to communicate openly, as before.  All this makes it possible to use Zabbix in those systems where encryption between nodes is imperative.  In addition, support for secure connections has been added for command line utilities, such as zabbix_sender and zabbix_get. <br><br><h1>  Technical details </h1><br>  Zabbix can use one of the following libraries for encryption: <a href="https://www.openssl.org/">OpenSSL</a> , <a href="http://gnutls.org/">GnuTLS</a> or <a href="https://tls.mbed.org/">mbedTLS</a> (PolarSSL).  Such a decision was first made in order to always be able to change the library, if a critical vulnerability is found in the one used, the license type changes, or the development and support ends.  Another advantage is the neutrality of Zabbix to any of the listed sets. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      TLS is supported by version 1.2 - previous versions of the SSL / TLS protocol contained vulnerabilities, so we considered using them a bad idea. <br><br>  In addition to hiding transmitted messages from outsiders, authentication is also implemented.  Now it is possible to get answers to the questions ‚ÄúCan I trust the data source‚Äù or ‚ÄúDo we send a file with a list of passwords to our server?‚Äù  You can choose from for authentication: using a certificate (for those who have a public key infrastructure or high security requirements) or a PSK key (for small installations). <br><br>  There is no need to open any new ports - only the standard for Zabbix TCP / 10050-10051 are still used. <br>  If the user is not interested in encryption, then you can continue to use Zabbix as before.  At the same time, the updated Zabbix components will support the new feature, so you can start setting up secure connections at any time convenient for you. <br><br>  It is also important to note that we have added several new fields in the Zabbix database tables in order to store additional settings, made it possible to modify them via the web (logically) or API, and also added new parameters in the configuration files. <br>  An example of setting encryption is shown in the following screenshot. <br><br><img src="https://habrastorage.org/files/61d/65f/681/61d65f681fe54f4a86a04397732a5b72.png"><br><br>  Two parameters define how the server or proxy connects to the agent (for passive checks, "Connections to host") and a separate parameter that determines which types of connections are allowed from the agent (active checks and zabbix_sender, "Connections from host").  ‚ÄúConnections from host‚Äù is also used to limit server connections from those who got a stolen certificate or found out PSK. <br><br>  On the part of agents and utilities zabbix_get, zabbix_sender, the encryption setting is performed through the new parameters of the configuration files or command line arguments. <br><br>  At the time of testing, it is possible to allow several types of connections at once (ie, open and secure), further configure encryption and authentication based on a certificate or PSK, make sure everything works, and, finally, prohibit unencrypted connections. <br><br><h1>  Subsequent improvements </h1><br>  At the same time, of course there is still something to work on, for example: <br><ul><li>  Currently, reusing TLS sessions via caching is not supported, so now every connection initiates a connection from scratch, which is naturally slower. </li><li>  Add encryption support for Zabbix Java gateway. </li><li>  Support for X.509 certificates with RSA keys is now implemented.  ECDSA certificate support should help improve performance. </li><li>  Revoked certificates can only be checked through CRL files, the online verification of the publisher is not currently implemented. </li></ul><br><br>  Support for encryption and mutual authentication in Zabbix enables users to gradually and selectively improve the security of the monitoring system components.  We suggest you try it yourself and <a href="https://www.zabbix.com/documentation/3.0/ru/manual/introduction/whatsnew300">other innovations</a> .  The full specification on encryption can be found in the <a href="https://www.zabbix.com/documentation/3.0/ru/manual/encryption">documentation</a> , well, and <a href="https://habrahabr.ru/company/zabbix/blog/277265/">read</a> about the other innovations in Zabbix on Habr√©, if you suddenly missed it. <br><br>  Translation of an <a href="http://blog.zabbix.com/enable-safe-data-transmissions-with-zabbix-3-0-encryption-support/3894/">article</a> from our blog. </div><p>Source: <a href="https://habr.com/ru/post/277739/">https://habr.com/ru/post/277739/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277725/index.html">Microsoft Android emulator cooling beer with IoT and Windows 10 and The Maker Show for those who like to solder</a></li>
<li><a href="../277727/index.html">Another implementation of the is_function <T> metafunction for C ++ 98/03</a></li>
<li><a href="../277729/index.html">Build a hybrid Android application</a></li>
<li><a href="../277733/index.html">The history of one configuration "umbrella"</a></li>
<li><a href="../277737/index.html">Lazy list in C ++</a></li>
<li><a href="../277741/index.html">Backup and transfer of data in the browser Vivaldi</a></li>
<li><a href="../277743/index.html">IP PBX Askozia and Push Notifications in Telegram</a></li>
<li><a href="../277747/index.html">Anatomy of ransomware for Android, part 1</a></li>
<li><a href="../277751/index.html">How our techies in the army served</a></li>
<li><a href="../277753/index.html">How to color the Chrome tab</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>