<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cost Effective Nutanix Solution</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dutch partner Nutanix published in his blog interesting calculations comparing the cost-effectiveness of classic solutions, or ‚Äúconvergent 1.0‚Äù, such ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cost Effective Nutanix Solution</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/6a4/a11/e8a/6a4a11e8a7974dcaa34e7ad5da65c32a.jpg"><br><br>  Dutch partner Nutanix published in his <a href="http://www.nutinus.nl/%3Fp%3D51">blog</a> interesting calculations comparing the cost-effectiveness of classic solutions, or ‚Äúconvergent 1.0‚Äù, such as VCE / EMC vBlock, Cisco / NetApp FlexPod, and EMC VSPEX, taking their reference architectures (CVS, Citrix Validated Solutions) under VDI using XenDesktop, and repeating them on Nutanix.  Nutanix also has this document: <a href="http://www.nutanix.com/blog/2014/06/10/citrix-validated-solution-for-nutanix-2/">Citrix Validated Solution for Nutanix</a> . <br>  It is not difficult to do this, especially since Nutanix laid out its saiser for open access, which was made possible by the fact that Nutanix‚Äôs VDI load formulas are relatively simple, which is also due to its architecture. <br><br>  Here is the calculation process. <br><a name="habracut"></a><br>  When sizing, you can assume that a single computational node (node) of the 3000 series has a load of 110 VDI VM or 200 HSD (the so-called XenApp) users.  Accordingly, in the case of a full 2U block with 4 nodes, this will be 440 VDI VM XenDesktop and 800 XenApp users.  Further growth is linear with a step on one node. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the first two nodes of the system, we will place the virtual machines of the infrastructure of the project. <br>  The figure shows two options, the first for XenApp, the second for VDI. <br><br><img src="https://habrastorage.org/files/5cf/477/d72/5cf477d727bd42e0aadfd687aa7d290d.png"><br><br><img src="https://habrastorage.org/files/06f/f30/234/06ff30234c02419495c88389303f68b6.png"><br><br>  It can be assumed that the load profile characteristics of all vendors are approximately equal, since all designs were evaluated for performance using the <a href="http:">LoginVSI</a> : Medium Workload <a href="http:">benchmark</a> . <br><br>  The cost of electricity in the calculation was taken to be equal to the average for industrial consumers in the Netherlands ( <i>0.23 Euro per kWh</i> ), where the author wrote this comparison.  For Russia and possible other values ‚Äã‚Äãof the cost of electricity, only absolute indicators in money will change, but the relative value of savings will remain.  <i>By the way, who owns the information, tell me in the comments, what price per kilowatt should be taken for calculation in a data center in the Moscow region?</i> <i><br></i> <br>  Electricity consumption and heat dissipation are taken from vendor materials and reference architecture specified in the description, as well as from orline calculators, such as the <a href="https://mainstayadvisor.com/go/cisco/Cisco-UCS-Power-Calculator.aspx">Cisco UCS power calculator,</a> and are taken as a typical value, or taken as 75%, if only the peak value is indicated. <br><br>  The cost for the desktop is calculated based on the total cost of the infrastructure, as brokers, switches and other components are necessary for the work of the desktops. <br><br>  The method for calculating cooling costs is taken from this <a href="http:/www.vmguru.nl/2011/06/how-to-calculate-electrical-costs-for-cooling-and-power-consumption/">Edwin Weijdema publication</a> .  According to his calculations, in order to utilize 1000 BTU per hour, you need to spend 293 Watt / h for cooling.  We take his methodology for an approximate and use its results. <br><br>  Versions of XenDesktop may be slightly different (for example, versions 7.1 and 7.5 were used in different architectures. Hypervisors could also be different, in the case of Nutanix we used Hyper-V, in other architectures we used VMware vSphere. <br><br><h2>  Nutanix vs vce vblock </h2><br>  Let's start with the volume occupied by the solution, the so-called footprint.  VCE vBLOCK versus Nutanix for a 100% XenDesktop VDI system for 2500 desktops.  Take the reference design VCE <a href="http://www.vce.com/asset/documents/vss-xapp-vdi-citrix.pdf">here</a> . <br>  Below is a picture of the placement in the rack of both solutions. <br><br><img src="https://habrastorage.org/files/35d/b07/5b9/35db075b90d641dd896ee6b2b9025680.jpg"><br><br>  The VCE vBlock on the 2500 VDI XenDesktop occupies an almost full cabinet (35U of cabinet capacity 42U), while the Nutanix solution uses 20U in it.  According to the calculations, we will need 25 nodes in the cluster, and, as you can see in the diagram, you are using only one node in the top block.  6U at the top of the cabinet are Arista switches (2x 48-port Gigabit switch and 4x 24-port 10G switch) providing the necessary switching infrastructure of the cluster. <br>  Since the vBlock design uses Provisioning Services and 4 PVS servers, we removed the desktops from the first two nodes to accommodate 4 additional PVS servers.  This means that 2500 desktops run on 23 nodes (a total of 2,530 desktops). <br><br>  Now let's look at the calculations: <br><br><img src="https://habrastorage.org/files/cdd/a9d/8a4/cdda9d8a4aa84c579ea3836103890651.jpg"><br><br>  The calculation shows us that vBlock costs us at <b>69547 Euro per year the</b> cost of its operation (only power consumption and cooling, excluding administration and maintenance costs), based on 75% of the load.  Compared to him, the cost of operating a Nutanix solution costs about half the same price of a VCE vBlock.  Calculating the cost of the desktop gives us <b>27.81 Euro per year</b> for the desktop on vBlock, and only <b>13.85 Euro per year</b> for Nutanix.  The total savings is <b>50%</b> . <br><br><h2>  Nutanix vs NetApp / Cisco Flexpod </h2><br>  Now let's compare Nutanix with another solution, take the Cisco / NetApp reference design, which can be viewed <a href="http://www.cisco.com/c/dam/en/us/td/docs/unified_computing/ucs/UCS_CVDs/cisco_ucs_xd7esxi51_flexpod.pdf">here</a> , made for 2000 users, 75% work in XenApp and 25% in VDI. <br><br>  Occupied closet space: <br><br><img src="https://habrastorage.org/files/157/b96/88d/157b9688dfd040418ca302c143bbe006.png"><br><br>  Again, we see a significant difference in the occupied space.  FlexPod is better than vBlock in terms of space, but still worse than Nutanix, 30U versus 11U for Nutanix.  Nutanix uses 4 blocks, with only 2 nodes installed in the upper one.  On 2 infrastructure nodes, there are 100 XenApp users on each, so we need about 9 nodes for 1500 users in XenApp, and another 5 for VDI users.  We slightly exceeded the results on the desktop with the original design, by 100 XenApp users, and by 50 VDI, but this excess simplified our further calculations, and ‚Äúmore - no less‚Äù :). <br><br>  Results: <br><br><img src="https://habrastorage.org/files/00e/91a/54e/00e91a54e2dd48e180b5ea3e6b0a2f5d.jpg"><br><br>  The results speak for themselves.  <b>60%</b> cost reduction per year, with a desktop price of <b>9.49 Euro per year</b> .  Get a price for a desktop below 10 euros per year allowed the use of the Flexcast model in the Hosted Shared Desktop (XenApp), which allows you to be placed denser than when using VDI, while ‚Äúless equipment‚Äù means ‚Äúless cost‚Äù. <br><br>  Finally, the third comparison. <br><br><h2>  Nutanix vs Cisco UCS B bladeserver + EMC VSPEX </h2><br>  Compare Nutanix with the <a href="http://www.cisco.com/c/dam/en/us/td/docs/unified_computing/ucs/UCS_CVDs/ucs_vspex_xd75.pdf">Cisco + EMC VSPEX design</a> .  This is a design for 1000 users, divided in a 70% / 30% ratio between HSD XenApp and VDI.  Our rack volume was about 50% less for comparison with FlexPod, a ‚Äúconvergent solution v1.0,‚Äù and here we see how fatally inefficient the use of the classic storage system and the traditional server + storage solution looks like for the desktop virtualization task: <br><br><img src="https://habrastorage.org/files/844/1bd/02e/8441bd02e4ac4dd588bbf3f2c9e6ac7a.png"><br><br>  Based on our CVS (Citrix Validated Solution), we only needed 7 nodes for 750 HSD and 250 VDI users, which took us only 4U for Nutanix in the rack, plus 3U for switches at the top of the rack. <br><br>  Here is the result: <br><br><img src="https://habrastorage.org/files/46e/265/65d/46e26565d9cd48f5a11e426d30bd92c8.jpg"><br><br>  <b>70%</b> cost savings, or <b>25654 Euro per year</b> , with a desktop price of <b>11.23 Euro per year</b> .  Saving space in the closet at the same time - <b>80%</b> . <br><br><h2>  findings </h2><br>  It was not a big surprise that the hyperconvergent infrastructure gives us a significantly smaller footprint, that is, the space occupied in the datacenter rack by your infrastructure.  But you don't just take up less rack space using Nutanix.  Less are the costs of power supply, as well as cooling.  Many traditional solutions require large amounts of power supply, which sometimes is simply impossible in some data centers, and even if these additional resources are available, their use can cost a very large amount of additional costs per year compared to the Nutanix solution. <br><br>  And then, perhaps, this picture for some VCE vBlock clients will be prophetic.  :) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/346/e53/25f/346e5325f315aee4d9ee2815742ffe03.jpg" alt="image"><br><br><h2>  List of materials used: </h2><br>  <a href="http://www.nutanix.com/blog/2014/06/10/citrix-validated-solution-for-nutanix-2/">Citrix Validated Solution for Nutanix</a> <br>  <a href="http://www.vce.com/asset/documents/vss-xapp-vdi-citrix.pdf">VBlock Specialized System for Extreme Applications with Citrix XenDesktop 7.1</a> <a href="http://www.vce.com/asset/documents/vss-xapp-vdi-citrix.pdf"><br></a>  <a href="http://www.cisco.com/c/dam/en/us/td/docs/unified_computing/ucs/UCS_CVDs/cisco_ucs_xd7esxi51_flexpod.pdf">Flexpod Datacenter with Citrix XenDesktop 7.1 and VMware vSphere 5.1</a> <br>  <a href="http://www.cisco.com/c/dam/en/us/td/docs/unified_computing/ucs/UCS_CVDs/ucs_vspex_xd75.pdf">Cisco Desktop Virtualization Solution for EMC VSPEX with Citrix XenDesktop 7.5 for 1000 seats</a> <br>  <a href="https://mainstayadvisor.com/go/cisco/Cisco-UCS-Power-Calculator.aspx">Cisco UCS Power Calculator</a> <br>  <a href="http://www.vmguru.nl/2011/06/how-to-calculate-electrical-costs-for-cooling-and-power-consumption/">Blog Edwin Weijdema: How to calculate costs for power and cooling</a> <br>  <a href="http://www.xtremio.com/wp-content/uploads/2014/07/h12451.1-ss-xtremio-26june2014.pdf">EMC XtremIO System Specifications</a> <br>  <a href="https://store.emc.com/medias/sys_master/content/8799219154974/h8515-vnxe-ss.pdf">EMC VNXe Series Specifications</a> <br>  <a href="http://www.emc.com/collateral/software/specification-sheet/h8514-vnx-series-ss.pdf">EMC VNX Series Specifications</a> <br>  <a href="http://www.arista.com/assets/data/pdf/Datasheets/7048T-A_DataSheet.pdf">Arista 7048-A Datasheet</a> <br>  <a href="https://library.netapp.com/ecm/ecm_get_file/ECMP1112530">Netapp Site Requirements Guide</a> <br>  <a href="http://go.nutanix.com/rs/nutanix/images/Nutanix_Spec_Sheet.pdf">Nutanix spec sheet</a> <br><br>  Source <a href="http://www.nutinus.nl/%3Fp%3D51">http://www.nutinus.nl/?p=51</a> </div><p>Source: <a href="https://habr.com/ru/post/244237/">https://habr.com/ru/post/244237/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../244225/index.html">My password rules</a></li>
<li><a href="../244227/index.html">Master Keith reanimates his blog about DIY electronics on Habr√©</a></li>
<li><a href="../244229/index.html">Routes on Google Maps in the Android application</a></li>
<li><a href="../244231/index.html">Runet Prize 2014</a></li>
<li><a href="../244233/index.html">Router management: small joys of technical support</a></li>
<li><a href="../244239/index.html">Microsoft is branding the core of Windows 10</a></li>
<li><a href="../244241/index.html">Responsive images in practice (Part 3)</a></li>
<li><a href="../244243/index.html">How do we measure the download speed of Yandex. Mail</a></li>
<li><a href="../244245/index.html">Positive Hack Days V forum: open the doors of singularity</a></li>
<li><a href="../244247/index.html">How I document the development process.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>