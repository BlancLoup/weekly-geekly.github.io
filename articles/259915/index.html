<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Processing Russian text data in Azure Machine Learning</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Literally, Microsoft‚Äôs hackathon on Azure ML has just ended. In the process of solving one of the tasks, the processing of Russian-language text data ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Processing Russian text data in Azure Machine Learning</h1><div class="post__text post__text-html js-mediator-article">  Literally, Microsoft‚Äôs hackathon on Azure ML has just ended.  In the process of solving one of the tasks, the processing of Russian-language text data was required, and preferably within the system.  As a result, having spent significant time searching for a solution, I want to share it.  I hope that this will help someone to save time and not to beat his head against the wall in vain. <br><a name="habracut"></a><br>  As you know, Azure ML has two languages ‚Äã‚Äãfor developing scripts within the system.  Let's start with Python, where the problem is solved most easily. <br><br>  Standard function that is called for data processing: <br><br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">azureml_main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dataframe1 = None, dataframe2 = None)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> index, row <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dataframe1.iterrows(): search = str(row[<span class="hljs-string"><span class="hljs-string">'Search'</span></span>]).decode(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)</code> </pre> <br>  Here we take the Search column from the dataset, which is connected to the first input of the block ‚ÄúExecute Python Script‚Äù and convert it from utf-8.  After that, all string functions work with this line correctly.  In case we need to return text data, we need to perform the reverse operation: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="python hljs"> out_list.append(str.encode(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pandas.DataFrame(out_list)</code> </pre><br>  To use stemming, you need to import the RussianStemmer class, create an object, call the constructor with False parameters, and then use this object.  You cannot use the True parameter to load a standard set of stop words at the moment, an error is generated. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> nltk.stem.snowball <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RussianStemmer stemmer = RussianStemmer(<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) stemmer.stem(word)</code> </pre><br>  Solving a similar problem for R looks so simple that it seems an incredible time that I had to kill to find this solution. <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">search</span></span>&lt;-dataset1$<span class="hljs-keyword"><span class="hljs-keyword">Search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Encoding</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">search</span></span>)&lt;-<span class="hljs-string"><span class="hljs-string">'UTF-8'</span></span></code> </pre><br>  Similarly, select the Search column and set the encoding explicitly.  After this call, the string functions start working with the text correctly, I checked on the stringi library.  Reverse conversion is not required, everything works fine and so. <br><br>  Similarly, we implement stemming in R. I‚Äôll draw your attention to the need to specify the UTF-8 encoding, otherwise the stemmer will not do anything. <br><br><pre> <code class="hljs lisp">library(<span class="hljs-name"><span class="hljs-name">SnowballC</span></span>) stems &lt;- wordStem(<span class="hljs-name"><span class="hljs-name">words</span></span>, language = <span class="hljs-string"><span class="hljs-string">"russian"</span></span>)</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/259915/">https://habr.com/ru/post/259915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259903/index.html">Social networks in Russia, spring 2015. Figures, trends, forecasts</a></li>
<li><a href="../259905/index.html">Who Hacked the Electric Substation: Analysis of the Digital Substation Takeover Contest</a></li>
<li><a href="../259907/index.html">Creating games without canvas: Matreshka.js</a></li>
<li><a href="../259909/index.html">How-to: Typography in the design of email-letters</a></li>
<li><a href="../259911/index.html">How we tested a static analysis on our project of a training simulator of endovascular surgery</a></li>
<li><a href="../259917/index.html">Welcome to the Softlayer Workshop June 16</a></li>
<li><a href="../259919/index.html">USB adapter for a B7-28 digital voltmeter based on Arduino Mega</a></li>
<li><a href="../259921/index.html">Typical billing scheme</a></li>
<li><a href="../259923/index.html">Preparing reports for the board of directors in 20 minutes</a></li>
<li><a href="../259925/index.html">Arduino + ESP8266 from scratch on the example of a Wi-Fi thermometer, part one</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>