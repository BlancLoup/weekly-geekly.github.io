<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Notes on reactive programming. Technological landscape</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello dear readers! Today we bring to your attention the promised article with an overview of the possibilities of reactive programming. Pleasant and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Notes on reactive programming. Technological landscape</h1><div class="post__text post__text-html js-mediator-article">  Hello dear readers!  Today we bring to your attention the promised article with an overview of the possibilities of reactive programming.  Pleasant and fruitful reading. <br><a name="habracut"></a><br>  Reactive programming (again) is of interest, there is a lot of hype associated with it, which is not so easy for an uninitiated person or a simple Java enterprise developer to understand - such as the author of this article.  Perhaps this article will help you understand what is happening in this area.  I tried to adhere to the maximum specifics, and there is not a word about ‚Äúdenotational semantics‚Äù.  If you are interested in a more academic text and a lot of Haskell code - the Internet will help you, but you probably should not read this article. <br><br>  Reactive programming is often mixed with competitive and high-performance programming, and so much so that these concepts are difficult to separate, whereas in principle they are completely different.  This inevitably leads to confusion.  In addition, reactive programming is often identified or comes close to functional reactive programming (FER), here we will use these terms as synonyms.  Some people think that there is nothing new in reactivity, and that they somehow always use it (mostly JavaScript specialists).  Others believe that reactive programming is a gift from Microsoft (the company recently drew serious attention to such programming by releasing a number of C # extensions).  Recently, discussion of the topic has been stepped up in the Enterprise Java space (see for example the <a href="http://www.reactive-streams.org/">Reactive Streams initiative</a> ), and, as always with bright new technologies, it is easy to make mistakes in this area, not fully understanding when and where the technology can and should be used. <br><br><h3>  What it is? </h3><br>  Reactive programming is a micro-architectural style associated with intelligent routing and the consumption of events, which in sum allows you to influence behavior.  It sounds a bit abstract, in addition, many other definitions of reactive programming can be found on the Web.  Below we will try to more specifically describe what ‚Äúbeing reactive‚Äù is, or why it might be important. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The origins of reactive programming arise in the 1970s or even earlier, so the idea is not new.  However, it does find a serious response in some aspects of modern enterprise development.  The resonance (not by chance) coincided with the flourishing of microservices and the ubiquitous spread of multi-core processors. <br>  Here are a couple of helpful short definitions from other sources: <br><br><blockquote>  The basic idea of ‚Äã‚Äãreactive programming is that some types of data represent a value ‚Äúin time‚Äù.  The results of calculations associated with such time-varying values ‚Äã‚Äãwill also change with time. </blockquote><br>  and‚Ä¶ <br><br><blockquote>  To make a first impression about this, it is convenient to compare your program with a table, and all your variables with cells.  If the value in one of the cells of the table changes, then the values ‚Äã‚Äãin all other cells that refer to the first one also change.  In the FER all that way.  Now suppose that some cells change on their own (or rather), come from somewhere outside.  In a GUI situation, a good example is moving the mouse cursor. </blockquote><br>  (taken from <a href="http://stackoverflow.com/questions/1028250/what-is-functional-reactive-programming">Terminology Question on Stackoverflow</a> ) <br><br>  FRP has a lot in common with high performance, competitiveness, asynchronous operations and non-blocking I / O.  However, it does not hurt to proceed from the hypothesis that the FER has nothing to do with any of the above.  Indeed, it is quite natural to delegate the handling of all these problems to the caller when working on the reactive model.  But, with regard to the essence or efficiency of handling these problems, the result is completely dependent on the specific implementation (therefore, the implementation should be considered as critical as possible).  It is also possible to implement a completely logical and useful FRP framework in a synchronous single-threaded manner, but this is unlikely to help you if you want to practice with any new tools and libraries. <br><br><h3>  Reactive programming examples </h3><br>  Apparently, the newcomer is the most difficult to answer the question: "Why do I need reactive programming."  Below are a few examples from the enterprise-environment, illustrating the general principles of using such a paradigm. <br><br>  <b>Calling external services</b> .  Currently, many database services are implemented in the REST style (that is, they work over HTTP).  Therefore, their basic protocol is essentially blocking and synchronous.  It may not be the most obvious area for exercises with an FER, but in fact this is a very fruitful ground, since the implementation of such services often involves calling other services, and then following services, depending on the results of the first calls.  If, with such active I / O, you waited for the completion of one call, and only then sent the next request, then your poor client would simply get exhausted before you could generate a response.  So, the challenges of external services, and especially the complex orchestration of dependencies between calls, are those things that are really worth optimizing.  The FRP should provide the ‚Äúcomposability‚Äù of the logic underlying these operations, so that the work of the developer of the calling service is simplified. <br><br>  <b>Consumers highly competitive messages</b> .  Processing messages, in particular, highly competitive ones, is a typical task in an enterprise environment.  In the field of reactive frameworks like microbenchmarks, they boast about how many messages per second can be processed on the JVM.  The results are truly staggering (performance is easily achieved in tens of millions of messages every second), but perhaps they are somewhat artificial - not so impressive when it turns out that control points were set in a simple for loop.  However, you should not quickly write off such work;  it is easy to see that when performance is critical, any contribution to it is as found.  Reactive patterns are naturally combined with message processing (since the event is beautifully translated into a message), so this way to process even more messages faster deserves attention. <br><br>  <b>Tables</b>  Perhaps this is not quite an enterprise-example, but just one that everyone in the field of enterprise may well use.  In addition, this example well captures the philosophy and complexity of the embodiment of the FER.  If cell B depends on cell A, and cell C depends on both A and B, then how to propagate from A and ensure that C is updated before sending any change events to B?  If you have to base yourself on a truly active framework, then our answer is ‚Äúnothing, all you have to do is to declare dependencies,‚Äù and the whole essence of the true power of the tables is in it.  In addition, this example emphasizes the difference between FRP and ordinary event-oriented programming - it turns ‚Äúrouting‚Äù into ‚Äúintelligent routing‚Äù. <br><br>  <b>Abstraction (a) synchronous processing</b> .  This example is more abstract - one of those I was going to avoid.  In addition, it largely overlaps with the more specific cases already mentioned, but I hope it will still be useful to discuss it.  The main thesis is known (and) justified - if the developer is ready to do an additional level of abstraction, then you can simply not bother about whether the synchronous code has to be called or asynchronous.  Since asynchronous programming is a heavy load on your delicate gray cells, some useful ideas can be drawn from reactive programming.  Reactive programming is not the only approach to solving such problems, but some authors of the FER have so strongly reflected on this topic that they have turned out really effective tools for its solution.  This netflix <br><br><h3>  Comparison </h3><br>  If you have not lived in a cave since the 1970s, you have probably come across other concepts that are important for reactive programming. You noticed what problems people are trying to solve with the help of such concepts.  Here are some of these problems - I prioritized the subjective priority. <br><br>  <b>The event machine in ruby</b> .  <a href="https://github.com/eventmachine/eventmachine">Event Machine</a> is an abstraction of concurrent programming (usually associated with non-blocking I / O).  Rubists suffered for a long time trying to turn the language, sharpened for single-threaded scripting, into a tool for writing server applications that a) will work 2) will work quickly and 3) will survive under load.  In Ruby, streams have been around for quite some time, but they were not very actively used and had notoriety, as they did not always work normally.  The alternative that has now spread everywhere ‚Äî so much so that Ruby 1.9 was proposed to be included in the core of the language ‚Äî called <a href="http://ruby-doc.org/core-1.9.3/Fiber.html">Fibers</a> (yes, ‚Äúfibers‚Äù).  A fiber programming model resembles working with co-procedures (see below), where a separate native thread is used to process a large number of concurrent requests (often associated with I / O).  This programming model itself is a bit abstract, and it is difficult to talk about it, so most programmers use a wrapper, which is most often taken as an event machine.  An event machine does not necessarily use fibers (it abstracts the problems associated with them), but it is easy to find code examples from web applications in Ruby, where the event machine is used with fibers (see this <a href="https://www.igvita.com/2009/05/13/fibers-cooperative-scheduling-in-ruby/">article by</a> Ilya Grigorik or <a href="https://github.com/igrigorik/em-http-request/blob/master/examples/fibered-">an example</a> with fibers from em-http-request ).  This is done mainly for the sake of scalability, which is achieved by using the event machine in applications with active I / O, without the need for those ugly software models that are associated with many nested callbacks. <br><br>  <b>Actor model</b> .  The actor model, like object-oriented programming, is an ancient branch of computer science, whose origins date back to the 1970s.  Actors abstract calculations (and not data and not behaviors) and, therefore, ensure competitiveness.  Therefore, in practice, actors can serve as the basis for a competitive system.  Actors exchange messages, so in a sense they are reactive, therefore actor and reactive programming models largely overlap.  Often, the distinction is made at the implementation level (for example, <code>Actors</code> in <a href="http://doc.akka.io/docs/akka/current/java.html">Akka</a> can be distributed between processes, which is a distinctive feature of this framework). <br><br>  <b>Deferred results (Futures)</b> .  In Java 1.5, a whole host of new libraries appeared, including the <code>"java.util.concurrent"</code> from Doug Lea.  It was then that the concept of deferred result, encapsulated in the form of <code>Future</code> .  This is a good example of a simple asynchronous pattern abstraction that does not force us to go for an asynchronous implementation or use any particular model of asynchronous processing.  As well shown in the article <a href="http://techblog.netflix.com/2013/02/rxjava-netflix-api.html">Netflix Tech Blog: Functional Reactive in the Netflix API with RxJava</a> , Futures are great when you need to competitively handle a set of similar tasks, but as soon as you are going to create dependencies between them, or want them to be executed with some conditions, you immediately fall into the ‚Äúhell of callbacks‚Äù.  Reactive programming is the antidote to this disaster. <br><br>  <b>Map-reduce and fork-join</b> Parallel processing abstractions are useful, and you don‚Äôt need to go far for examples.  Map-reduce and fork-join have recently developed in the Java world under the influence of the massively distributed parallel processing tools ( <a href="http://static.googleusercontent.com/media/research.google.com/ru//archive/mapreduce-osdi04.pdf">MapReduce</a> and <a href="http://wiki.apache.org/hadoop/MapReduce">Hadoop</a> ), as well as within the framework of the JDK itself in version 1.7 ( <a href="http://gee.cs.oswego.edu/dl/papers/fj.pdf">Fork-Join</a> ).  These abstractions are useful, but (like pending results) they are too small.  An FER can also be used as an abstraction of simple parallel processing, but its capabilities are far from being limited to composability and declarative communication. <br><br>  <b>Soprocedury</b>  ‚Äú <a href="https://en.wikipedia.org/wiki/Coroutines">Soprocedura</a> ‚Äù is the generalization of ‚Äúsubprocedure‚Äù.  There is an entry point and exit point in it, as in the subprocedure, but after the exit, the coprocessor transfers control to another coprocedural (not necessarily the one that called it), and the acquired state is saved and stored until the next call.  Co-procedures can be used as "building blocks" for higher-level entities, such as actors or streams.  One of the goals of reactive programming is to provide such an abstraction for the communication of concurrently working agents, so co-procedures (if available) are very useful.  There are various options for co-procedures, some of which are generally stricter than others, but more flexible than simplified co-procedures.  Fibers (we discussed them above in connection with the event machine) - one of these varieties, the other variety is called ‚Äúgenerators‚Äù (found in Scala and Python). <br><br><h3>  Reactive Java programming </h3><br>  Java cannot be called ‚Äúreactive language‚Äù, as it does not natively support co-procedures.  There are other languages ‚Äã‚Äãfor JVM (Scala and Clojure) that more naturally support reactive models, but in Java itself this feature was not available until version 9. However, Java is a real engine of enterprise development, and recently a lot of work has been done on creating reactive levels over the JDK.  Here we will only briefly review some of them. <br><br>  <a href="http://www.reactive-streams.org/">Reactive streams</a> are a very low-level contract, expressed in the form of several Java interfaces (plus TCK), also applicable in other languages.  Interfaces provide the basic simplest elements of Publisher and Subscriber with pronounced back pressure, thereby forming a common language for interoperable libraries.  Reactive threads were implemented in the JDK as java.util.concurrent.Flow in version 9. <br><br>  <a href="https://github.com/ReactiveX/RxJava/wiki">RxJava</a> : Netflix used reactive patterns for a while at the corporate level, and released tools that were used under the free software license called <a href="https://github.com/ReactiveX/RxJavaReactiveStreams">Netflix / RxJava</a> (then rebranding: ‚ÄúReactiveX / RxJava‚Äù).  There is a transition to Reactive Streams.  RxJava is the ‚Äúsecond generation‚Äù library according to David Karnok‚Äôs classification of <a href="http://akarnokd.blogspot.ru/2016/03/operator-fusion-part-1.html">Generations of Reactive</a> . <br><br>  <a href="https://projectreactor.io/">Reactor</a> is a Java framework from the Pivotal development team (the one that Spring created).  It is built directly on Reactive Streams, so no transition is required.  The Reactor IO project provides wrappers for low-level network execution environments like Netty and Aeron.  Reactor is the fourth generation library according to David Karnok‚Äôs classification of <a href="http://akarnokd.blogspot.ru/2016/03/operator-fusion-part-1.html">Generations of Reactive</a> . <br><br>  <a href="http://projects.spring.io/spring-framework/">The Spring Framework 5.0</a> (the first results were announced in June 2016) is equipped with reactive capabilities ‚Äî for example, it has tools for creating HTTP servers and clients.  Current Spring users on the web tier will find a lot of familiarity in the programming model, where annotations are used to decorate controller methods to handle HTTP requests.  At the same time, dispatching of reactive requests and back pressure is mainly transmitted to the level of the framework.  Spring is built on the basis of Reactor, but also provides an API that allows you to express its capabilities using various libraries (for example, Reactor or RxJava).  You can work with Tomcat, Jetty, Netty (via Reactor IO) and Undertow for the server network stack. <br><br>  <a href="https://ratpack.io/">Ratpack</a> is a collection of libraries for creating high-performance HTTP services.  It is built on Netty and implements Reactive Streams for interoperability (for example, you can use other implementations of Reactive Streams higher up the stack).  Spring is supported as a native component and can be used to inject dependencies with some simple helper classes.  There is also some autoconfiguration that allows Spring Boot users to embed Ratpack into a Spring application, download the HTTP endpoint and listen to it, rather than using one of the built-in servers that ship directly with Spring Boot. <br><br>  <a href="http://akka.io/">Akka</a> is a toolkit for building applications using the Actor pattern on Scala or Java, with interprocess communication performed via Akka Streams, and Reactive Streams contracts are simply embedded.  Akka is the ‚Äúthird generation‚Äù library according to the David Karnok classification of <a href="http://akarnokd.blogspot.ru/2016/03/operator-fusion-part-1.html">Generations of Reactive</a> . <br><br><h3>  Why now? </h3><br>  What caused the increased interest in reactivity in Enterprise Java?  This is not just a technological fad - it would seem that people just pounced on a bag of new shiny toys.  The incentive lies in the efficient use of resources, more precisely, in savings on servers and data centers.  Reactive programming should help achieve more with smaller forces, namely, handle higher loads with fewer threads.  This is where reactive programming and non-blocking asynchronous I / O intersect.  If reactive programming is really good at solving a particular problem, then the effect is dramatic.  However, otherwise the situation can only worsen. <br><br><h3>  Conclusion </h3><br>  In this article, we have considered, in the most general terms, reactive programming in the context of modern enterprise development.  There are a number of reactive libraries and frameworks for the JVM, all of which are being actively developed.  In many ways, they are similar, but, thanks to Reactive Streams, they interact well with each other. </div><p>Source: <a href="https://habr.com/ru/post/307658/">https://habr.com/ru/post/307658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307644/index.html">‚ÄúTo get above average, we need some kind of motivation beyond money‚Äù - an interview with Ruslan Cheremin</a></li>
<li><a href="../307646/index.html">HelloHome Case Study</a></li>
<li><a href="../307648/index.html">Pokemon Go and IBM Watson: When AI Meets AR</a></li>
<li><a href="../307650/index.html">Creating an infinite JavaScript runner, background motion mechanics</a></li>
<li><a href="../307652/index.html">Internationalization of the application in React (and not only)</a></li>
<li><a href="../307660/index.html">How a failure in the data center can lead to the cancellation of thousands of flights of major airlines</a></li>
<li><a href="../307662/index.html">Security Week 32: Sauron project, iOS vulnerability, PLC worm</a></li>
<li><a href="../307666/index.html">The language problem of artificial intelligence</a></li>
<li><a href="../307668/index.html">Architecture Standards for Internet of Things</a></li>
<li><a href="../307670/index.html">Recommender systems in online education. Continuation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>