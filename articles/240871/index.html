<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Signature of object code with a certificate from StartSSL. Steps - paid, received, signed</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings I want to share my experience as I received a certificate for signing the object code. Many articles and posts are written about digital sig...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Signature of object code with a certificate from StartSSL. Steps - paid, received, signed</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/c40/0cc/746/c400cc7462ff43d5a870e660f2a4e6ba.png"><br>  Greetings  I want to share my experience as I received a certificate for signing the object code.  Many articles and posts are written about digital signatures, and budget StartSSL.  I decided to spend almost $ 60, try to go this way and share my experience with the community. <br>  To treat everything described below exclusively to my personal experience and applies to Windows. <br><a name="habracut"></a><br><h5>  StartSSL </h5><br><img src="https://habrastorage.org/files/de1/ae3/508/de1ae35089154b4296caeb7911c1fc20.png"><br>  <b>Step one</b> - Obtaining a personal certificate - on the website <a href="https://www.startssl.com/">www.startssl.com you can</a> enter your personal account using a certificate.  On the main page, click "Sign-up" and fill in all the fields.  We receive the nominal certificate and we install.  Immediately I ran into a problem - it works correctly - only in Mozilla Firefox, in other browsers there are problems logging into my account.  Make a backup copy of the certificate and save it to external media. <br><div class="spoiler">  <b class="spoiler_title">Certificate in the browser</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/729/b23/a73/729b23a738a04dccb32d7205d97d0e9e.png"><br></div></div><br>  <b>Step two</b> - confirmation of identity - class 2. This step requires payment.  In fact, to obtain a certificate, this is a necessary item.  Quote from the site: "The cost of checking individuals and organizations is US $ 59.90 each check." At this stage, you need to provide copies of documents - a passport, if you have a driver's license, you can ask for documents during the correspondence - I was asked for some document with a seal and my passport data.  Payment was made through ‚ÄúPayPal‚Äù - in the ‚ÄúTool Box‚Äù - ‚ÄúAdd Credit Card |  PayPal |  Ticket "you can choose several payment methods.  They invoice and wait for payment.  After payment is confirmed - send a registered letter with a verification code by mail.  This is the longest stage - the letter is about a month.  The notification comes to the electronic box that was sent by mail.  After 3 weeks, I began to get nervous and wrote in support - in response they sent a mailing number for which you can track where the letter is. <br><div class="spoiler">  <b class="spoiler_title">Path letters across Russia</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/23c/e71/7da/23ce717da6a641758709acb364b6f68f.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Letter itself</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/4d4/85d/f6f/4d485df6f5e64ec89b8b7d36c1d3dece.jpg"><br><img src="https://habrastorage.org/files/038/635/4b5/0386354b500d447e8a65ae792aa91ae0.jpg"><br></div></div><br>  <b>Step three</b> - confirmation of the code from the received ‚ÄúTool Box‚Äù letter - ‚ÄúSubmit Verification Code‚Äù <br><img src="https://habrastorage.org/files/145/e42/761/145e4276152e40fdbde5fd40cab927f1.png"><br>  Enter the letter number and confirmation code.  And if everything is correct, then we are congratulated and asked to be patient until 6 o'clock. <br><img src="https://habrastorage.org/files/a6d/55b/285/a6d55b28561f480ba31279d167cab894.png"><br>  After some time, we receive a letter with the contents: <br>  ‚ÄúCongratulations!  Your Class 2 Identity Validation has been confirmed and approved.  You are eligible for certificates at Class 2 level until 2015-10-04. ‚Äù- Bingo !!!  Now you can get a long-awaited certificate for signing code! <br><br>  <a href="https://antiwinlocker.startssl.com/">Personal identification card</a> <br><br>  <b>The fourth step</b> - I asked the support in advance how to make a signature - and they sent me a <a href="https://forum.startcom.org/viewtopic.php%3Ff%3D15%26t%3D1654%26st%3D0%26sk%3Dt%26sd%3Da">link to the forum.</a> <br>  At first I started to do everything according to the first instruction, but not successfully.  In order: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Files that I needed: <br>  1. <a href="http://slproweb.com/products/Win32OpenSSL.html">OpenSSL</a> for windows version 0.9.8 or higher.  <a href="">I used OpenSSL version 1.0.1 32 bit - full.</a> <br>  2. <a href="http://msdn.microsoft.com/ru-ru/library/8s9b9yaz(v%3Dvs.110).aspx">signtool.exe</a> is a utility from the .NET Framework.  I downloaded separately from somewhere on the Internet. <br><br>  Install OpenSSL - the default path for me is C: \ OpenSSL-Win32 \ bin - in this folder are the binary files needed to create the certificate.  Then open the command line and go to this folder and start openssl: <br><img src="https://habrastorage.org/files/c20/b8a/41f/c20b8a41f78f41ebb6e4ee5e3673bfc8.png"><br><pre><code class="dos hljs">req -new -newkey rsa:<span class="hljs-number"><span class="hljs-number">4096</span></span> -nodes -keyout codesign_privatekey.pem -out codesign_certificate_request.csr</code> </pre> <br><br>  The process will ask questions: <br>  1.Country 2 letters - in our case: RU <br>  2. State or province - the full name. <br>  3. City. <br>  4. Name of organization. <br>  5. The name of the unit. <br>  6. Domain Name or Name. <br>  7. Email address. <br>  - The rest can not be filled. <br>  In order to leave the field empty, you can put a dot instead of a value. <br>  The password for the private key can not be set, or rather, it is not recommended to be set, although I set it, I did not read the instructions well, but I did not notice any problems, I don‚Äôt forget the main password - the certificate is issued once. <br><br>  In the current folder, in my case ‚ÄúC: \ OpenSSL-Win32 \ bin‚Äù, two new files will appear: <br>  <b>codesign_privatekey.pem</b> - private key. <br>  <b>codesign_certificate_request.csr</b> - certificate request file. <br>  Both of these files can be opened with a text editor.  We need <b>codesign_certificate_request.csr</b> open it with a text editor - for example, a notepad, and copy all the contents into the clipboard &lt;ctrl-a&gt; &lt;ctrl-c&gt;. <br>  On the website <a href="https://www.startssl.com/">www.startssl.com we</a> go to the ‚ÄúCertificates Wizard‚Äù section, some items become only after passing the validation and in the ‚ÄúCertificate Target:‚Äù field in the drop-down menu, select the item ‚ÄúObject Code Signing Certificate‚Äù - then the window where you need to paste the previously copied text &lt;ctrl-v&gt;.  Then press the button to continue.  And again we see a sign asking you to wait a few hours while the request is checked.  After verification, a notification mail arrives with congratulations.  And now you can get a certificate in the ‚ÄúTool Box‚Äù - ‚ÄúRetrieve Certificate‚Äù - then select your certificate, click next and copy all the text from the ‚ÄúCertificate:‚Äù field - and then save it into a file as a text document, for example: <b>codesign_certificate.crt</b> .  Then run OpenSSL again from the command line. <br><img src="https://habrastorage.org/files/829/436/f16/829436f16069480b917c1ffef1d3e9c7.png"><br><pre> <code class="dos hljs">openssl pkcs12 -export -out codesign.pfx -inkey codesign_privatekey.pem -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> codesign_certificate.crt</code> </pre><br>  You will be asked for the password for the private key, if you set it, enter, then ask for the password to export the key - leave it blank. <br>  There should be one more file <b>codesign.pfx</b> - with which we will sign the programs. <br><br>  <b>The fifth step</b> , the final. <br><br>  Now we have <b>codesign.pfx</b> in it contains everything we need to digitally sign the file. <br><br>  To sign the file you need to run this command. <br><pre> <code class="dos hljs">signtool.exe sign /d "% %" /du "<span class="hljs-variable"><span class="hljs-variable">%http://%</span></span>" /f "codesign.pfx" /t "http://timestamp.verisign.com/scripts/timestamp.dll" /v "%   %"</code> </pre><br>  Naturally, the fields need to be filled in according to your tasks. <br><br>  I first had a problem trying to sign the file - it turned out that <b>signtool.exe</b> required <b><a href="http://www.microsoft.com/ru-ru/download/details.aspx%3Fid%3D25281">capicom.dll</a></b> after installation, you may have to register this library in the system - run the command line as Administrator, then go to the folder where <b>capicom.dll</b> is located and execute <pre> <code class="dos hljs">regsvr32 capicom.dll</code> </pre>  - after that, everything began to work and the files began to subscribe. <br><br>  Screenshots of the signed file: <br><br><img src="https://habrastorage.org/files/c40/0cc/746/c400cc7462ff43d5a870e660f2a4e6ba.png"><br><br><img src="https://habrastorage.org/files/800/ed6/563/800ed65631ad49809562f463f8ce8de6.png"><br><br>  For convenience, I wrote a small utility in which you can specify all the data and files and sign in batches. <br>  This certificate is created once, for one year.  The signature is valid in WindowsXP SP3 and higher. <br><br>  You can sign such a program with programs, dlls, services.  To sign the drivers will not work. <br>  Do I need a digital signature or not?  Everyone decides for himself.  For example, some antiviruses ruthlessly remove any unknown program from a flash drive, which happened in my practice - it is possible that their behavior will change when they see that the file has a signature. <br>  You need $ 60 and a month of time - and you are a happy owner of a digital signature. <br><br>  But you need to understand - if the certificate is not used for peaceful purposes - then it can be revoked and the signature will cease to be valid. <br><br>  If you have questions, welcome comments than I can - I will help.  Find errors - write in a personal. <br>  I hope this post will help those who doubt and do not dare to take such a step. </div><p>Source: <a href="https://habr.com/ru/post/240871/">https://habr.com/ru/post/240871/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240859/index.html">About Nutanix, Web-Scale, Convergent Platforms and Changing IT Infrastructure Building Paradigms</a></li>
<li><a href="../240861/index.html">Some interesting and useful things for web developer # 31</a></li>
<li><a href="../240865/index.html">FBI against encryption on smartphones</a></li>
<li><a href="../240867/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ 130 (October 12 - 19, 2014)</a></li>
<li><a href="../240869/index.html">Brick Drone - quadcopter from LEGO constructor</a></li>
<li><a href="../240875/index.html">We use MVVM in Unity3D using NData</a></li>
<li><a href="../240877/index.html">The role of big data in private investigations and analysis</a></li>
<li><a href="../240881/index.html">The story of how Apple taught me to make a quality product</a></li>
<li><a href="../240883/index.html">Discover the Oro Platform</a></li>
<li><a href="../240885/index.html">How to change the parameters of accelerating the movement of the mouse cursor in Mac OS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>