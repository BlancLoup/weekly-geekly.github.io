<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Workflow Viewer Series for Alfred</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the end of my previous article, I began to talk about how I was watching TV shows, but I decided that this was a topic for a separate note. 
 For t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Workflow Viewer Series for Alfred</h1><div class="post__text post__text-html js-mediator-article"><p>  At the end of my <abbr title="Python3 serials extension support"><a href="https://habrahabr.ru/post/304770/">previous article,</a></abbr> I began to talk about how I was watching TV shows, but I decided that this was a topic for a separate note. </p><br><div class="spoiler">  <b class="spoiler_title">For those who do not know what Alfred</b> <div class="spoiler_text"><p>  <a href="https://www.alfredapp.com/">Alfred</a> is <a href="https://support.apple.com/ru-ru/HT204014">Spotlight</a> on steroids.  He knows how little more than everything that Spotlight can do, plus, starting from the second version, he supports writing, <em>as well as using</em> <strong>workflows</strong> <em>written by other people</em> .  That is, functionality extensions samopisnymi scripts.  To write them, several scripting languages ‚Äã‚Äãare supported: </p><br><ul><li>  bash </li><li>  zsh </li><li>  php </li><li>  ruby </li><li>  python </li><li>  perl </li><li>  <abbr title="AppleScript">osascript</abbr> </li><li>  javascript </li></ul><br><p>  This article will discuss one of these extensions. </p></div></div><br><p>  Looking ahead a bit, I want to show what we have in the end ... <br>  When I find time to relax and turn on the serial, I launch Alfred, enter the "serials" and get back the list of downloaded ones. </p><br><p><img src="https://habrastorage.org/files/7e0/e8b/f11/7e0e8bf11b1947c8b1346622031e018a.png" alt="Beauty, is not it?"></p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">ls -R serials folders</b> <div class="spoiler_text"><pre><code class="bash hljs">./ ../   [  ]/ [Alexfilm]/ []/  [Lostfilm]/  [Lostfilm]/  [Lostfilm]/ [Newstudio]/ ./  [  ]: ./ ../ 3 / 4 / 5 / ./  [  ]/3 : ./ ../ Breaking.Bad.s03e04.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e05.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e06.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e07.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e08.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e09.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e10.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e11.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e12.rus.eng.Kybik.v.Kybe.avi Breaking.Bad.s03e13.rus.eng.Kybik.v.Kybe.avi ./  [  ]/4 : ./ ../ Breaking.Bad.s04e01.k3.avi Breaking.Bad.s04e02.k3.avi Breaking.Bad.s04e03.k3.avi Breaking.Bad.s04e04.k3.avi Breaking.Bad.s04e05.k3.avi Breaking.Bad.s04e06.k3.avi Breaking.Bad.s04e07.k3.avi Breaking.Bad.s04e08.k3.avi Breaking.Bad.s04e09.k3.avi Breaking.Bad.s04e10.k3.avi Breaking.Bad.s04e11.k3.avi Breaking.Bad.s04e12.k3.avi Breaking.Bad.s04e13.k3.avi ./  [  ]/5 : ./ ../ Vo.vse.tyazkie.(5.sezon.01.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.02.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.03.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.04.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.05.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.06.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.07.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.08.seriya.iz.16).2012.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.09.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.10.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.11.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.12.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.13.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.14.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.15.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv Vo.vse.tyazkie.(5.sezon.16.seriya.iz.16).2013.x264.WEB-DL.720p.Kubik.v.Kube.mkv ./[Alexfilm]: ./ ../ The.Code.E03.WEB-DLRip.Rus.Eng.AlexFilm.avi The.Code.E04.WEB-DLRip.Rus.Eng.AlexFilm.avi The.Code.E05.WEB-DLRip.Rus.Eng.AlexFilm.avi The.Code.E06.WEB-DLRip.Rus.Eng.AlexFilm.avi ./[]: ./ ../ 3 / 4 / ./[]/3 : ./ ../ Chuck.s03e01.HDRip.avi Chuck.s03e02.HDRip.avi Chuck.s03e03.HDRip.avi Chuck.s03e04.HDRip.avi Chuck.s03e05.HDRip.avi Chuck.s03e06.HDRip.avi Chuck.s03e07.HDRip.avi Chuck.s03e08.HDRip.avi Chuck.s03e09.HDRip.avi Chuck.s03e10.HDRip.avi Chuck.s03e11.HDRip.avi Chuck.s03e12.HDRip.avi Chuck.s03e13.HDRip.avi Chuck.s03e14.HDRip.avi Chuck.s03e15.HDRip.avi Chuck.s03e16.HDRip.avi Chuck.s03e17.HDRip.avi Chuck.s03e18.HDRip.avi Chuck.s03e19.HDRip.avi ./[]/4 : ./ ../ Chuck.s04e01.HDRip.avi Chuck.s04e02.HDRip.avi Chuck.s04e03.HDRip.avi Chuck.s04e04.HDRip.avi Chuck.s04e05.HDRip.avi Chuck.s04e06.HDRip.avi Chuck.s04e07.HDRip.avi Chuck.s04e08.HDRip.avi Chuck.s04e09.HDRip.avi Chuck.s04e10.HDRip.avi Chuck.s04e11.HDRip.avi Chuck.s04e12.HDRip.avi Chuck.s04e13.HDRip.avi Chuck.s04e14.HDRip.avi Chuck.s04e15.HDRip.avi Chuck.s04e16.HDRip.avi Chuck.s04e17.HDRip.avi Chuck.s04e18.HDRip.avi Chuck.s04e19.HDRip.avi Chuck.s04e20.HDRip.avi Chuck.s04e21.HDRip.avi Chuck.s04e22.HDRip.avi Chuck.s04e23.HDRip.avi Chuck.s04e24.HDRip.avi ./ [Lostfilm]: ./ ../ Mr.Robot.S02E03.1080p.rus.LostFilm.TV.mkv ./ [Lostfilm]: ./ ../ Dark.Matter.S02E04.720p.WEB.rus.LostFilm.TV.mp4 ./ [Lostfilm]: ./ ../ Wayward.Pines.S02E09.1080p.rus.LostFilm.TV.mkv ./[Newstudio]: ./ ../ Kingdom.s02e17.HDTV.720p.NewStudio.TV.mkv</code> </pre> </div></div><br><p>  That is, the title and subtitle are taken from directory names.  For example, the last line from the list above is the folder ‚ÄúChuck [VGTRK]‚Äù with the subfolders of the seasons.  If the folder name does not contain square brackets, its item in the Alfred list will not have a subtitle. </p><br><p>  When we select the item of interest, the player starts up (in my case, <a href="http://www.videolan.org/vlc/">VLC</a> ) and begins to play the first unvisited series from the selected section.  When playback ends, it closes itself (VLC has the --play-and-exit parameter).  After that, the script offers to delete the scanned episode, asks how much you liked it on the five-point scale and notes it viewed with the corresponding rating on <a href="https://myshows.me/">myshows.me</a> .  Notifies of success / failure.  And, if the notification states that everything is fine, by clicking on it you can go straight to the page of the episode you just watched.  Since version <em>1.5</em> , workflow does not require an account for myshows.me to fully function (meaning the corresponding functionality limitations). </p><br><p>  For notifications, the <a href="https://github.com/julienXX/terminal-notifier">terminal-notifier is used</a> , which is included in the workflow. <br>  The dependencies are the <a href="http://docs.python-requests.org/en/master/">requests</a> and <a href="https://github.com/deanishe/alfred-workflow">alfred-workflow</a> packages for python.  Both are also included in the workflow. </p><br><p>  Before use, workflow will offer to specify: </p><br><ul><li>  The folder in which the series are </li><li>  A player that will play them </li><li>  Login and password with myshows.me <em>(from version 1.5 - optional)</em> </li></ul><br><h2>  Bonuses </h2><br><p>  <em>The following only works if you specify credentials with myshows.me</em> </p><br><p>  In addition to watching the series, made the opportunity to see a list of already published, but not yet watched from the account on myshows.me. </p><br><p><img src="https://habrastorage.org/files/5fe/cd8/12e/5fecd812e6be47c78ff3e99b5e0c0b25.png" alt="Unwatched"></p><br><p>  And also, the list of those that will be released relatively soon.  Again using api myshows.me and a list of subscriptions. </p><br><p><img src="https://habrastorage.org/files/2a1/c69/0d2/2a1c690d25fd48338bd352dc6ab2ed9e.png" alt="Mr. Robot"></p><br><p><img src="https://habrastorage.org/files/c78/2bb/23e/c782bb23e15343fa980e22cdef9566c0.png" alt="TBBT"></p><br><p>  Entering the title of the series after the keyword, you can filter the output, and on the choice of the item in any of them, the page of the corresponding episode opens. </p><br><p>  <a href="https://github.com/fantomnotabene/NB-seies-player/raw/master/NB-series-player.alfredworkflow">Link to workflow</a> . <br>  Implemented auto-update using GitHub Releases. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/305346/">https://habr.com/ru/post/305346/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305336/index.html">Blocking of IP addresses of CloudFlare in Beeline. 149-FZ</a></li>
<li><a href="../305338/index.html">Let me go Meteor</a></li>
<li><a href="../30534/index.html">Where to look for literature for term papers?</a></li>
<li><a href="../305340/index.html">Interview on the programmer in Amazon</a></li>
<li><a href="../305342/index.html">Why tech support is (intentionally) unbearable</a></li>
<li><a href="../30535/index.html">Codeigniter - make your life easier (expanding the model)</a></li>
<li><a href="../305350/index.html">Introduction to ReactiveUI: Studying Teams</a></li>
<li><a href="../305352/index.html">6 "harmful" tips to the developer</a></li>
<li><a href="../305354/index.html">Guilloche</a></li>
<li><a href="../305356/index.html">The digest of interesting materials for the mobile # 161 developer (July 3-10)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>