<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How not to go crazy in the development of regulatory information management systems. From the history of our projects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Being engaged in large-scale automation projects and creating new information systems, each time we were faced with the need to implement the subsyste...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How not to go crazy in the development of regulatory information management systems. From the history of our projects</h1><div class="post__text post__text-html js-mediator-article">  Being engaged in large-scale automation projects and creating new information systems, each time we were faced with the need to implement the subsystem of reference books, classifiers, registers and other similar objects that make up the regulatory reference information (NSI) of the customer.  For 15 years of work in LANIT with the <abbr title="reference information">NSI</abbr> control systems, life has thrown us clients with the most diverse requirements.  And, of course, various situations arose on these projects.  I will tell about several instructive stories that have happened to us.  In the article you will find examples that will be useful to many who develop software.  Well, those who work directly with the <abbr title="reference information">NSI</abbr> will be even more interesting - their own shirt is closer to the body. <br><br>  For the illustrations, special thanks to the wonderful artist <a href="http://vasya-lozhkin.ru/">Vasya Lozhkin</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8a/os/gb/8aosgbsm9nzkymmqmr-wmntozpu.jpeg" width="600"></div><br><a name="habracut"></a><h2>  The first case.  How to load the car and small cart </h2><br>  Creating a single counterparty management system for a large manufacturing company with a multitude of factories throughout the country and abroad. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>The goal of the project</b> is to create a single counterparty database for all departments.  Counterparties are maintained on the basis of applications that are assigned priorities from low to urgent.  Urgent application must be processed by the NSI experts for 2 hours, regardless of the time difference between departments. <br><br>  <b>Living history</b> <br>  The project was agreed with all interested parties (the customer‚Äôs management assured us of this) and was developed in due time in accordance with the approved requirements. <br><br>  The presentation of the created counterparty management system went smoothly until one prominent woman got up - the head of the Siberian branch - and very vigorously, using Russian idiomatic expressions, brought to the attention of the audience that when she received the train car for loading finished products she would not wait 2 hours, while someone there in Moscow will consider the application for adding a buyer. <br><br>  She is not going to pay for a simple wagon while the application is being approved, and will bring the customer data into the system as it is and ship the goods, and the Moscow comrades can then sort out information about the customer as much as they like. <br><br>  This statement was supported by several more heads of the company's branches, which almost completely destroyed the centralized methodology for maintaining a single directory of contractors on the basis of applications. <br><br><blockquote>  As a result, the project was modified in such a way that all branches had access to the counterparty database and could make changes directly, but at the same time automatic search for similar records that were displayed to the branch employee was performed, and he decided to correct the data, which later tested by an expert group. </blockquote><br>  <b>What we have remembered:</b> do not trust the words of the managers and responsible persons on the part of the customer, that all decisions are agreed, everything is in the subject and there are no objections.  Identify all project stakeholders and try to figure out the system requirements and limitations directly from them. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wh/sr/ee/whsreejoy3ccgnu42ftgxnpeouq.jpeg" width="600"></div><br><h2>  Case two.  We want and use </h2><br>  Creating a centralized client management system for an insurance company with a large number of branches and agents throughout the country. <br><br>  <b>The goal of the project</b> is to create a consolidated customer base for use in analytical applications.  The database was collected from all branches, the data were verified, supplemented, duplicate objects were eliminated.  The number of clients in one branch is from one thousand to several millions.  At the same time, there are practically no intersections in clients between branches. <br><br>  <b>Living history</b> <br><br>  After creating a consolidated customer base, it should be periodically compared with the databases of branches to identify differences, their subsequent processing and upload changes to the consolidated database.  The increase in customer base between reconciliations amounted to several thousand entries. <br><br>  To perform the verification, a special module was created, the architecture of which was designed based on the fact that it must quickly compare a large number of records and form a relatively small XML file with the changes to be loaded.  XML format was chosen by the customer. <br><br>  After the introduction of the system, we received a message from the customer that the reconciliation module is extremely slow and generates a huge file for loading into the consolidated database, which they cannot open in any way. <br><br>  What turned out?  The customer made an initial download of data from the branches to the summary directory.  For experts, this work seemed tedious and time consuming, and they simply took the reconciliation module and slipped to it the complete data of the new branch, which had never been downloaded into the summary directory. <br><br>  The reconciliation module, which, in accordance with the TOR, was supposed to generate information about differences in the number of several thousand records, received two million entries as input, and they were all absent in the master directory. <br><br>  As a result, for several hours of inhuman efforts, the verification module still formed a file for downloading, which included all the branch data.  And yes, this file was huge. <br><br>  The reconciliation module was used by the customer for purposes other than intended, but the fact that the reconciliation allows the initial loading of the data was pleasant to the customer, and he was going to continue working in this way, only asked to significantly speed up the module‚Äôs operation and do something with the file being created. it could be opened in a text editor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kh/2c/hh/kh2chhqyhmdhw4tn3xfvxm-sr3a.jpeg" width="600"></div><br>  On our objection that the reconciliation module is not intended for initial data loading, the customer happily showed the TK and asked, but where is it written here?  As we want, and use! <br><br><blockquote>  As a result, we had to make changes to the architecture of the verification module in order to process large data arrays and generate the output file in CSV format, since the customer decidedly did not want to abandon such a convenient tool. </blockquote><br>  <b>What we have remembered:</b> always include a description of restrictions in the TOR - which your system should not do.  Well, or create solutions that take into account all possible usage scenarios, which is much more expensive. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bu/ai/69/buai69jtm8gxgg-gk9cqh40ohgy.jpeg" width="600"></div><br><h2>  The third case.  Not a baby elephant, but an elephant, and it should fly </h2><br>  Creation of a centralized NSI management system for a financial organization. <br><br>  <b>The goal of the project</b> is to create a centralized system for keeping reference books and classifiers with sending changes to interested systems and databases.  Providing access to external systems to directories through the web services of our system. <br><br>  Typically, customers have an average number of entries for one directory from several hundred to several thousand.  Our recent record holder is a directory with 11 million entries.  But this customer gave us a surprise.  His directory has over 100 million entries.  We loaded it more than a day, because  During the initial load, many data checks were performed.  This would not be a big problem, but the customer demanded that the directory load in a few minutes. <br><br><blockquote>  As a result, we had to greatly change the order of the system with this directory.  In fact, it is managed outside the system, and we only provide an interface for using it.  Now we are developing new ways for our system to work with very large directories.  We hope that the customer will like it. </blockquote><br>  <b>What we remember:</b> in the modern world, data is becoming more and more, and their growth rates are constantly increasing.  The system must be ready for high loads even where they were not originally intended.  We are constantly developing our solution taking into account current data growth trends and increasing requirements for their processing speed. <br><br><h2>  The fourth case.  Hard focus with files </h2><br>  Creation of a centralized system for managing NSIs in a large bank. <br><br>  <b>The goal of the project</b> is to create a centralized system for keeping reference books and classifiers with sending changes to interested systems and databases.  The peculiarity of the project is the very complicated processes of propagation of changes, affecting many systems. <br><br>  Since in the future I will have to mention our own solution for managing the NSI, I allow myself a small lyrical digression. <br><br><div class="spoiler">  <b class="spoiler_title">Read more about the NORMA system.</b> <div class="spoiler_text">  The tasks of our customers are similar in many respects, and we decided to reduce the cost of software development and reduce project time by creating our own universal platform for managing the master data and master data (Reference Data Management &amp; Master Data Management).  The system has existed for more than 10 years, and all these years we have been actively developing it in LANIT. <br><br>  NORMA supports centralized and distributed NSIs.  All data and meta-information are kept in the light of the change history and the system allows you to view and change the entire array of NSIs on an arbitrary date in the past or in the future.  For directories, the processes of agreeing and approving changes can be customized.  The system includes a dedicated change distribution server, which allows you to interact with external systems through various interfaces and create fairly complex integration business processes (a sort of mini BizTalk Server).  We have data export / import packages that can upload / download reference data to databases and files of various formats.  Recoding tables are maintained for external systems. <br><br>  NORMA includes a graphical query builder and report designer.  In addition to working with its own directories, the system allows through its interface to view and modify directories that are in the external, in relation to it, databases, as well as use these directories in the query builder and export / import packages. <br><br>  In response to the occurrence of various events in the system, for example, changes in the directory, plug-in software components written in C # can be launched, which can both check data and interact with external systems and, in fact, the NORMA system itself.  Almost all functions of the system are available through web services. <br><br>  The system can be scaled both vertically, by increasing the capacity of the application server and the database, or horizontally by using a multi-node application server, in which each node or group of nodes is responsible for performing a separate function.  The system can use Microsoft SQL Server, Oracle or PostgreSQL to store the master data. </div></div><br>  Typically, when creating directories and change propagation processes, the customer consults with our analysts which tool or set of tools provided by the system is best used for a specific task.  This time the customer said that he would create directories and processes on his own. <br><br>  After some time, one of the customer‚Äôs specialists complained to us that he was not loading data into the system.  In confirmation, we were sent a data import package, a source file with loadable records, and an error message stating that the data being loaded are of the wrong type. <br><br>  We start to understand.  We twist the package this way and that, we try different ways of presenting the source data, but we cannot repeat the mistake.  We contact the customer with questions, maybe the import package has connected software components, maybe some additional restrictions are imposed on the directory, maybe there is no data from this process?  We get the answer to everything - there is nothing like that, everything should be easy to load and work before. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gi/rr/pv/girrpvihscjhkd91em-vnzwk6qs.jpeg" width="600"></div><br>  It turns out that this import package was only the tip of the iceberg.  If briefly and greatly simplified, the following happened.  The import procedure loaded the correct data from the source file into the directory.  The source file was deleted.  Then, our system carried out the distribution of changes to several databases, one of which made a comparison of our own data with our changes and formed a file with discrepancies, which was returned to our system for download.  Moreover, to download this file, the customer used the same import procedure as for the source file.  And it was in this file, formed by the external system, there was data of the wrong type.  Obviously, when analyzing the source file, we could not find any errors, and we were told nothing about the second file and the spreading process of propagation of changes. <br><br>  <b>What we remember:</b> Always check the information received, even if you are told that we have a little problem here, and she is exactly in this place, I swear to my mother!  Analyze the problem in context. <br><br><h2>  The fifth case.  I'm getting used to mismatches </h2><br>  Creating a master data management system in a manufacturing company. <br><br>  <b>The goal of the project</b> is to create a system for managing NSIs in a management company with a multitude of branches, factories and design departments. <br><br>  This time we have not moved beyond several presentations.  Our system NORMA really liked techies.  She covered all their existing problems.  Then it was the turn to show the system to the leadership, and here there was a bummer of a decade.  The high manager looked, listened and said: ‚ÄúWe all work here on Apple products, they have a certain style, and your system does not fit into this style.  We will not even consider it. ‚Äù <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ul/t4/_x/ult4_xrpa_ifdjfk0z4d0fyzzr8.jpeg" width="600"></div><br>  <b>What we remember:</b> customers are different, and some you just do not fit.  The style is different. <br><br>  Similar stories happen in various projects.  What was interesting about your project life?  What was an unexpected lesson for you?  Share in the comments. <br><br><div class="spoiler">  <b class="spoiler_title">By the way, we are looking for specialists in our team.</b> <div class="spoiler_text"><ul><li>  <a href="http://job.lanit.ru/vacancy/Pages/CH-148.aspx%3Futm_source%3Dhabr%26utm_medium%3Dpost-2018-03-13%26utm_campaign%3Dhabr">Leading analyst (analytical systems)</a> </li><li>  <a href="http://job.lanit.ru/vacancy/Pages/CH-31.aspx%3Futm_source%3Dhabr%26utm_medium%3Dpost-2018-03-13%26utm_campaign%3Dhabr">BI System Analyst and Data Warehouses</a> </li></ul><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/349710/">https://habr.com/ru/post/349710/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349698/index.html">Comparative analysis of physical and functional objects</a></li>
<li><a href="../349700/index.html">OWASP Automated Threat: Automated Web Application Threats</a></li>
<li><a href="../349704/index.html">We expand the bundle of Nginx + Php-Fpm + MySQL with magento2 on board and decompose it in containers in the Docker</a></li>
<li><a href="../349706/index.html">Kill the Dragon: The Thorny Path to Agile</a></li>
<li><a href="../349708/index.html">We focused on the client (and not on competitors) - and over the year received over a million new users</a></li>
<li><a href="../349714/index.html">Using ReSwift: Writing the Memory Game Application</a></li>
<li><a href="../349716/index.html">A Cloud Guru portal interview with Kelsey Hightower: about DevOps, Kubernetes and serverless</a></li>
<li><a href="../349718/index.html">Creating a game on Lua and L√ñVE - 3</a></li>
<li><a href="../349720/index.html">Authorization using ssl certificate on nginx + Let's Encrypt</a></li>
<li><a href="../349722/index.html">How we built VDI with 14,000 jobs for the VTB Group</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>