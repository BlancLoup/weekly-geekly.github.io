<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Autorotation of complex interfaces in programs for iPad</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most programs for the iPhone and iPod touch only support portrait orientation. Many developers did not even think about adding landscape (landscape) o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Autorotation of complex interfaces in programs for iPad</h1><div class="post__text post__text-html js-mediator-article">  Most programs for the iPhone and iPod touch only support portrait orientation.  Many developers did not even think about adding landscape (landscape) orientation where it is really needed.  Apple, which in iPhone OS 2.x did not provide the best examples, is not an exception, without realizing support for landscape (landscape) orientation in important system programs (in iPhone OS 3.x, the company corrected its mistake). <br><br>  With the advent of the iPad, the situation has changed.  Apple has obliged all developers to support all orientations of the device in programs for the iPad.  Naturally, there may be exceptions, for example, games.  But programs that do not have a hard binding (functional) to orientation should be user friendly in any position of the device. <br><br>  There are no difficulties with simple interfaces.  Objects of the UIView class are assigned the necessary autoresizingMask property, which describes the frame change.  This method is no longer suitable for complex interfaces. <br><a name="habracut"></a><br>  I will tell you how to make a smooth and pleasant autorotation of the program interface using the layoutSubviews method.  Get detailed information about this method in the <a href="https://developer.apple.com/iphone/library/documentation/General/Conceptual/iPadProgrammingGuide/index.html">iPad Programming Guide</a> .  I just give you a real, practical example of its use (Apple‚Äôs documentation is stingy in this regard). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is one of the options, but the result of his work is very high quality.  Naturally, this option is suitable for iPad and iPhone / iPod touch. <br><br>  Suppose we want to have the following portrait and landscape (landscape) views: <br><br> <a href="http://img25.imageshack.us/i/84863510.png/"><img src="http://img25.imageshack.us/img25/157/84863510.th.png"></a> <a href="http://img535.imageshack.us/i/34893867.png/"><img src="http://img535.imageshack.us/img535/1489/34893867.th.png"></a> <br><br>  Immediately post the final draft of <a href="">RotateDemo</a> . <br><br>  And video: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/pN4nh0KadIA%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinMWjzD9RXoeOJpOkgwm84e7ABSQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Let's create a basic project for iPad (Window-based). <br><br>  I used to do the whole interface programmatically.  If you want, you can easily replace a part of the code with a mouse click in Interface Builder. <br><br>  Add the ContainerView class files (derived from UIView) to the project.  Leave it empty for now.  An object of this class will be a container of all UIView objects in our controller.  It is in this class that we will reassign the layoutSubviews method. <br><br>  Create class files DemoViewController (derived from UIViewController). <br><br>  Our interface file DemoViewController.h: <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#import &lt;UIKit/UIKit.h&gt; <br> #import <font color="#A31515">"ContainerView.h"</font> <br> <br> @ <font color="#0000ff">interface</font> DemoViewController : UIViewController <br> { <br> ContainerView *containerView; <br> } <br> <br> @end <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  In the class implementation, only one main loadView method is important to us: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">- ( <font color="#0000ff">void</font> )loadView <br> { <br> CGRect screenRect = [[UIScreen mainScreen] applicationFrame]; <br> <br> UIView *contentView = [[UIView alloc] initWithFrame:screenRect]; <br> contentView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth; <br> contentView.backgroundColor = [UIColor blueColor]; <br> self.view = contentView; <br> [contentView release]; <br> <br> containerView = [[ContainerView alloc] initWithFrame:CGRectMake(0, 0, screenRect.size.width, screenRect.size.height)]; <br> containerView.backgroundColor = [UIColor blueColor]; <br> containerView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth; <br> [self.view addSubview:containerView]; <br> <br> UIButton *button1 = [UIButton buttonWithType:UIButtonTypeRoundedRect]; <br> button1.frame = CGRectZero; <br> [button1 setTitle: <font color="#A31515">@"Object 1"</font> forState:UIControlStateNormal]; <br> button1.tag = 1001; <br> [containerView addSubview:button1]; <br> <br> UIButton *button2 = [UIButton buttonWithType:UIButtonTypeRoundedRect]; <br> button2.frame = CGRectZero; <br> [button2 setTitle: <font color="#A31515">@"Object 2"</font> forState:UIControlStateNormal]; <br> button2.tag = 1002; <br> [containerView addSubview:button2]; <br> <br> UIButton *button3 = [UIButton buttonWithType:UIButtonTypeRoundedRect]; <br> button3.frame = CGRectZero; <br> [button3 setTitle: <font color="#A31515">@"Object 3"</font> forState:UIControlStateNormal]; <br> button3.tag = 1003; <br> [containerView addSubview:button3]; <br> <br> UIButton *button4 = [UIButton buttonWithType:UIButtonTypeRoundedRect]; <br> button4.frame = CGRectZero; <br> [button4 setTitle: <font color="#A31515">@"Object 4"</font> forState:UIControlStateNormal]; <br> button4.tag = 1004; <br> [containerView addSubview:button4]; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Everything is simple here.  We create a container and add all our items to it.  In the example, these are just 4 UIButton buttons.  The frames of the buttons have no meaning (they will be set in the layoutSubviews method). <br><br>  Go back to our ContainerView class and override the layoutSubviews method: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">- ( <font color="#0000ff">void</font> )layoutSubviews <br> { <br> [super layoutSubviews]; <br> <br> <font color="#0000ff">if</font> (self.frame.size.width == 768) <br> { <br> UIView *view = [self viewWithTag:1001]; <br> view.frame = CGRectMake(184, 100, 400, 150); <br> <br> view = [self viewWithTag:1002]; <br> view.frame = CGRectMake(184, 300, 400, 150); <br> <br> view = [self viewWithTag:1003]; <br> view.frame = CGRectMake(184, 500, 400, 150); <br> <br> view = [self viewWithTag:1004]; <br> view.frame = CGRectMake(184, 700, 400, 150); <br> } <br> <font color="#0000ff">else</font> <br> { <br> UIView *view = [self viewWithTag:1001]; <br> view.frame = CGRectMake(74, 100, 400, 150); <br> <br> view = [self viewWithTag:1002]; <br> view.frame = CGRectMake(550, 100, 400, 150); <br> <br> view = [self viewWithTag:1003]; <br> view.frame = CGRectMake(74, 400, 400, 150); <br> <br> view = [self viewWithTag:1004]; <br> view.frame = CGRectMake(550, 400, 400, 150); <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  The example uses a comparison with absolute width.  Alternatively, you can use the universal check: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">if</font> (UIInterfaceOrientationIsPortrait([[UIApplication sharedApplication] statusBarOrientation]))</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Is done.  It remains only to activate our controller in the delegate class: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions <br> { <br> controller = [[DemoViewController alloc] initWithNibName:nil bundle:nil]; <br> window.backgroundColor = [UIColor blueColor]; <br> [window addSubview:controller.view]; <br> [window makeKeyAndVisible]; <br> <br> <font color="#0000ff">return</font> YES; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  So we got a smooth animation of changing a complex interface when changing orientation.  Minimum code and nothing complicated. </div><p>Source: <a href="https://habr.com/ru/post/95028/">https://habr.com/ru/post/95028/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../95012/index.html">Openbittorrent.com and TPB tracker are again</a></li>
<li><a href="../95016/index.html">Nanotechnology, for example</a></li>
<li><a href="../95019/index.html">Webmoney. Support. Is there any such thing?</a></li>
<li><a href="../95021/index.html">Would you like to button "Publish Vkontakte"?</a></li>
<li><a href="../95024/index.html">ASUS Eee Tablet - 2450 dpi notebook with touchscreen</a></li>
<li><a href="../95029/index.html">DesktopBSD is back!</a></li>
<li><a href="../95031/index.html">Yandex.Direct Popular bugs advertisers Direct</a></li>
<li><a href="../95037/index.html">Automation of temperature measurements using the ADC board</a></li>
<li><a href="../95039/index.html">Tivoli Foundations: an effective IT department in small and medium business</a></li>
<li><a href="../95040/index.html">Infin.Online - Internet business management</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>