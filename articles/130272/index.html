<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Float Arithmetic Operations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All Habr's readers are somehow connected with the IT direction. Whether you are a programmer or working with hardware, networks, and so on, we all kno...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Float Arithmetic Operations</h1><div class="post__text post__text-html js-mediator-article">  All Habr's readers are somehow connected with the IT direction.  Whether you are a programmer or working with hardware, networks, and so on, we all know common concepts. <br><br>  Sometime in the second year of university, I became acquainted with one of the things that, in my opinion, each of us should know, well, or at least hear about her in such an article.  This is the standard for representing floating point numbers (in other floating point sources).  How did I get this name: IEEE-754 standard. <a name="habracut"></a><br><br>  I am sure that each of the IT specialists at least once heard with floating point numbers, but for the first time it seemed to me utter nonsense.  And it‚Äôs not simple: after all, the subject on which we studied the standard was called ‚ÄúComputer Architecture‚Äù and the teacher was, and now there is a living legend.  Well, this is offtop. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So what is this IEEE-754 standard?  I will say right away that at the university we were given it electronically in Russian, but I could not find it on the Internet, even when I reached Google‚Äôs 30th page.  There was an example in English in which the author wrote it at 4:36 AM.  I even found a website that says that if Satan decided to take over the Earth slowly, he would have created this standard.  But it was created by people just like you and me. <br><br>  The standard itself is a description of binary floating-point arithmetic operations.  It also describes the exceptional situations that arise in such cases, writing to such a format, and much more.  Naturally, after reading it, and even with such difficulty, I did not understand anything!  After all, I did not know anything about the format with a floating point.  But this is rude, saying the fractional part of any number, only the accuracy must be known. <br><br>  On this subject, at the university, we calculated RGR (Settlement-Graphic Work), and for some reason, then I realized that if I spent more time with it than anything, I was right.  This was probably the turning point of my studies.  I sat at night over this standard and over the task specifically set before me: "Dividing two numbers in floating-point double precision format with replacing chains of continuous units with zeros and rounding to the nearest even one."  Then it was impossible to understand.  And the IEEE-754 standard always followed alongside this assignment.  In fact, there was everything, absolutely everything that I needed. <br><br>  Well, now in more detail about the IEEE-754 standard.  It consists of several chapters that I would like to describe in more detail. <br>  Everything starts as always with an introduction.  The fact that there are programs is much more complicated than what I saw.  It tells about the history of the creation of the standard.  After all, programs are becoming more and more difficult, and digital computers are aging and should be replaced with a new architecture.  This led to the fact that IEEE (Institute of Electrical and Electronics Engineers of the United States) at the end of the 70s created a commission that considered many proposals.  The result of the commission‚Äôs work was the IEEE 754 standard ‚ÄúBinary floating point arithmetic‚Äù (1985), which became international.  Its foundations were developed by William Kahan, a professor of mathematics at the University of Berkeley. <br>  In the following years, standards were developed based on IEEE 754 - 1985: <br><br>  - IEEE 854 - 1987, covering decimal arithmetic as well as binary; <br><br>  - IEC 60559 - 1989 IEC ‚â™ Binary floating point arithmetic for <br>  microprocessor systems (IEC - International Electrotechnical Commission). <br><br>  The IEEE 754 standard does not obligate, but recommends the use of a package of formats specified in it, methods of data coding, rounding of results, and much more.  The task of choosing the format for the designer of a universal digital computer was extremely simplified, and from that time the company began to produce universal digital computers with floating point arithmetic that satisfy the standard recommendations.  The task of programmers is also somewhat simplified, since  There is no need to study the features of binary floating-point arithmetic of different digital computers, it is enough to master the knowledge of the standard. <br>  But we must remember that standards are conservative, but not eternal.  And, nevertheless, this standard we all use with you, colleagues. <br><br>  The standard supports several formats: single precision (32 bits), double (64 bits) and double enhanced precision.  Other formats are also provided to prevent rounding errors, etc.  The standard describes cases of exceptional situations: Nan, infinity, division by zero, etc.  Nothing like?  A very important role is played by rounding numbers in floating point format.  This is also described in the standard. <br><br>  And finally, the main section - Performing floating-point operations on numbers.  This section describes all the arithmetic operations from comparison to division, as well as all the nuances when performing such operations.  About this section can not be said like this, "in a nutshell."  Let me just say that this is a real confusion, and I was faced with the task of understanding how this happens. <br>  I will briefly describe my algorithm for the work "Floating-point division".  After we received the operands A and B, we had to check them for all possible cases of exceptional situations.  This is the division by zero and Nan and infinity.  A little below, the table shows the types of numbers that the format supports: <br><br><img src="https://habrastorage.org/storage1/9d22b7dd/45a9e357/32ca99b5/a0e10c57.jpg" alt="image"><br><br>  If the operands were actually numbers in the IEEE-754 format, the second stage of the operation began: the reduction of orders.  It's no secret that floating-point numbers look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/67e/5f4/b6e/67e5f4b6eb902226d775489f8293fa95.gif" alt="image"><br><br>  This is a single precision representation of a number. <br>  The order of a number in a digital computer is, in my understanding, the ordinal number of a number in a digital computer, that is, its order.  Surely there is a scientific definition, but it only confuses even more.  So, since the numbers have different orders, they can not be divided.  You must first reduce the orders to the same type by the offset of the orders.  But for this purpose it was required to analyze the orders for min and max value.  And when the order shift occurs, the mantissas also shift.  If the orders are equal, you need to check the mantissas, whether they have flown out of the borders and whether they are not filled with zeros, etc.  After completing a series of checks, you can proceed to the most important thing: finally divide the mantissas.  Well, everything is simple, like all binary arithmetic.  I divided the divisor by the dividend, and wrote down the remainder in the register and added it.  There are still several ways to divide: with the restoration and without the restoration of the residue.  And that's not all!  In the end, it was necessary to round the result according to the desired condition and determine the sign of the quotient. <br><br>  It's just in words, even though it sounds scary, in fact it looks much better.  Then I openly ignored this standard, which brought me not only deeper knowledge in digital computers and binary arithmetic, but also the pleasure that I could do it, the pleasure of knowing that I know something very important. <br>  I have everything, in fact, the topic is very interesting and fascinating.  Who is interested, I will gladly throw off the IEEE-754 standard and answer your questions. <br><br>  Thank. </div><p>Source: <a href="https://habr.com/ru/post/130272/">https://habr.com/ru/post/130272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130262/index.html">Use ActiveRecord to work with Core Data</a></li>
<li><a href="../130264/index.html">IP telephony in the office</a></li>
<li><a href="../130265/index.html">ZeroNights Conference</a></li>
<li><a href="../130270/index.html">On games in alternate reality</a></li>
<li><a href="../130271/index.html">We switch WiFi to access point mode in Windows</a></li>
<li><a href="../130273/index.html">Prima-Kraskala problem in Prolog</a></li>
<li><a href="../130275/index.html">Doctrine 2 ORM User Repositories</a></li>
<li><a href="../130276/index.html">Combining javascript files</a></li>
<li><a href="../130277/index.html">CSS3 Gallery</a></li>
<li><a href="../130278/index.html">Document classification by support vector machine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>