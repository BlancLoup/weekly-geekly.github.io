<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity: familiarity with Scriptable Objects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this tutorial, you will learn how to create and use Scriptable Objects in Unity. Scriptable Objects will help improve your workflow, reduce the amo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity: familiarity with Scriptable Objects</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddb/365/357/ddb365357b74dc1e5d86d337d90c8398.gif" alt="image"></div><br>  In this tutorial, you will learn how to create and use Scriptable Objects in Unity.  Scriptable Objects will help improve your workflow, reduce the amount of memory used, and even allow you to separate the code architecture. <br><br>  According to the <a href="https://docs.unity3d.com/Manual/class-ScriptableObject.html">Unity</a> documentation, ScriptableObject is a class code that allows Scriptable Objects to be created in the game for storing large amounts of shared data that are independent of script instances. <br><br>  There are many reasons for using Scriptable Objects in Unity.  They can reduce the amount of memory used for each additional prefab, because in its essence Scriptable Object follows the <a href="http://www.gameprogrammingpatterns.com/flyweight.html">Flyweight</a> design pattern. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Another advantage of Scriptable Objects, which will be the main theme of this tutorial, is in their use for convenient data transfer.  We consider this property on the example of the creation of the shop of the dealer of swords, in which the parameters, prices and descriptions of various swords will be displayed. <br><a name="habracut"></a><br><blockquote>  <em>Note:</em> this tutorial assumes that you are familiar with the Unity editor.  You need to understand how to edit the code in the code editor and have basic knowledge of C #.  If you need to improve your Unity skills, study other <a title="Unity tutorials" href="https://www.raywenderlich.com/category/unity">Unity tutorials</a> . </blockquote><br><h2>  Getting Started </h2><br>  Let's start with the <a href="">download materials</a> that we need. <br><br>  Unzip the downloaded file in a convenient place for you and open the project <em>Scriptable Object Tutorial-Starter</em> in Unity. <br><br>  You should see the following folder, created as part of the project blank: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/046/8c3/b63/0468c3b63c16cb562f7d826a51ff8597.png"></div><br><ul><li>  <em>_Setup</em> : this folder is not needed for a tutorial. </li><li>  <em>Scenes</em> : contains the <em>Sword Merchant</em> scene, which we will deal with throughout the tutorial.  Open this scene. </li><li>  <em>Scripts</em> : so far there is only one script here, but during the tutorial we will create new ones. </li><li>  <em>Sword Icons</em> : contains still images of individual swords. </li><li>  <em>Sword Prefabs</em> : contains the prefabs of all swords in the Sword Merchant scene. </li></ul><br><h2>  Creating a Scriptable Object </h2><br>  To get started, go to the <em>Sword Merchant</em> scene.  It should look like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/372/6ea/e89/3726eae89b9ddb9f57a698ed5cd7626d.png"></div><br><h3>  Scriptable Object Preparation </h3><br>  It's time to create the first Scriptable Object! <br><br>  In the <em>Scripts</em> folder, create a new script called <em>SwordData</em> .  This class will be used as a container for all the sword data displayed in the sword merchant's shop. <br><br>  Inside this class, let's start by inheriting from <code>ScriptableObject</code> instead of <code>MonoBehaviour</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { }</code> </pre> <br>  This action tells Unity that we still want to use the features and methods of Unity, like the usual MonoBehaviour, but we no longer need to attach this script to the GameObject.  Instead, it will be processed like any ordinary asset that can be created in the same way as creating a prefab, stage or material. <br><br>  Fill the script with serialized fields that contain all the data corresponding to the information displayed in the UI Sword Merchant. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> swordName; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> description; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Sprite icon; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> goldCost; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> attackDamage; }</code> </pre> <br><ul><li>  <em>swordName</em> : <code>string</code> in which the name of the sword will be stored. </li><li>  <em>description</em> : <code>string</code> in which the sword description will be stored. </li><li>  <em>icon</em> : sprite, which will contain the sword icon. </li><li>  <em>goldCost</em> : <code>int</code> to store the value of the sword in gold. </li><li>  <em>attackDamage</em> : <code>int</code> for storing damage when attacking with a sword. </li></ul><br><blockquote>  <em>Note: SerializeField</em> <br><br>  In Unity, the SerializeField attribute allows you to have private script variables available in the Inspector.  It will allow you to set values ‚Äã‚Äãin the editor without providing access to the variable from other scripts. </blockquote><br>  Each sword will need its own unique implementation of Scriptable Object <em>SwordData</em> .  But before we can create these implementations, we need to add a Scriptable Object to the Asset Menu. <br><br>  Add our Scriptable Object to the Asset Menu, adding the following attribute to the <em>SwordData</em> class: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">CreateAssetMenu(fileName = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"New SwordData"</span></span></span><span class="hljs-meta">, menuName = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Sword Data"</span></span></span><span class="hljs-meta">, order = 51)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span></code> </pre> <br><ul><li>  <em>fileName</em> : the default name when creating an asset. </li><li>  <em>menuName</em> : <em>asset</em> name displayed in Asset Menu. </li><li>  <em>order</em> : location of the asset in the Asset Menu.  Unity divides assets into subgroups with a multiplier of 50. That is, a value of 51 will place the new asset in the second Asset Menu group. </li></ul><br>  If everything is done correctly, you can go to <em>Assets &gt;&gt; Create</em> and see the new asset <em>Sword Data</em> in the menu.  It should be located in the second group under the Assistant Folder: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/027/83d/d78/02783dd7809273371aeaf0fde21cbb07.png"></div><br>  You can also right-click in the Project window and also see the new Sword Data asset: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec8/f0c/1cf/ec8f0c1cf7b7b861517c0b6838d9c80c.png"></div><br><h3>  Adding data </h3><br>  We <em>arrange the</em> project by creating a folder in the Scripts folder with the name <em>Scriptable Objects</em> , and inside this folder there is another folder called <em>Sword Data</em> . <br><br>  Inside the newly created Sword Data folder, create our first Sword Data asset. <br><br>  The new Sword Data asset should still have the previously specified default name <em>fileName</em> .  Select an asset and duplicate it six times ( <i>Ctrl / Cmd + D</i> ) to create seven Sword Data assets, one for each sword.  Now rename each asset according to the prefabs: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e6/953/191/9e69531917c13064e6af81b31b58fdf7.gif"></div><br>  Click on the first <em>Sword Data</em> asset in the Sword Data folder and look at the <em>Inspector</em> window: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af3/380/b20/af3380b20efd5dc0a7485f4f3c7c971a.png"></div><br>  Here we see an asset that stores information about a particular sword.  Fill out the information for each sword.  Try to give them a unique description, value in gold and damage when attacking.  In the Icon Sprite field, use the appropriate sprites located in the <em>Sword Icons</em> folder: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b48/d31/025/b48d3102517ad8e0f0877dd6cc28faff.gif"></div><br>  Congratulations!  You have created a Scriptable Object and set up several assets with this Scriptable Object. <br><br><h2>  Using Scriptable Object </h2><br>  We will now begin to retrieve data from these Scriptable Objects. <br><br>  First, we need to add some public <em>recipient</em> methods (getter methods) so that other scripts can access private fields within the Scriptable Object.  Open <em>SwordData.cs</em> and add the following under the fields added earlier: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SwordName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> swordName; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Description { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> description; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sprite Icon { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> icon; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> GoldCost { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> goldCost; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> AttackDamage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> attackDamage; } }</code> </pre> <br>  Open <em>Sword.cs</em> and add the following code: <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SwordData swordData; <span class="hljs-comment"><span class="hljs-comment">// 1 private void OnMouseDown() // 2 { Debug.Log(swordData.name); // 3 Debug.Log(swordData.Description); // 3 Debug.Log(swordData.Icon.name); // 3 Debug.Log(swordData.GoldCost); // 3 Debug.Log(swordData.AttackDamage); // 3 }</span></span></code> </pre> <br>  Here is what we added with this code: <br><br><ol><li>  The data container for this sword's data. </li><li>  OnMouseDown is MonoBehaviour's built-in function, called when the user presses the left mouse button. </li><li>  Examples of how to get data from our Scriptable Object asset </li></ol><br>  Let's go back to Unity and go to the <em>Hierarchy</em> window.  Select the game object 1_Longsword in the prefab of the sword.  Add the corresponding 1_Longsword Data asset to the Sword Data variable in the Sword.cs script in the Inspector window: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89d/dca/502/89ddca5023e919e838d92da776ca4e20.png"></div><br>  Click on Play ( <i>Ctrl / Cmd + P</i> ) in the Unity editor, and then click the leftmost sword: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8f/2e0/336/c8f2e0336b61da17786068f13a5e787b.png"></div><br>  The console should display information resembling data transmitted from the Sword Data asset. <br><br>  Scriptable Objects make it easy to replace this data.  Try inserting a different Sword Data Scriptable Object into the Sword Data field of the sword. <br><br><h2>  Event-Based Scriptable Objects </h2><br>  So, we created a Scriptable Object, and you saw how you can access its data within the game.  But we still need to integrate Sword Data with the UI! <br><br>  To do this, you can use the quick and dirty pattern <a href="http://gameprogrammingpatterns.com/singleton.html">Singleton</a> .  However, we now have other capabilities ... <br><br>  ... namely Scriptable Objects!  Use them to create clean and neatly divided code. <br><br>  In this section, you will learn how to create Game Events using the <a href="https://docs.unity3d.com/ScriptReference/Events.UnityEvent.html">UnityEvent</a> class. <br><br><h3>  Game Events and Listeners </h3><br>  In the Scripts folder create two scripts: <em>GameEvent.cs</em> and <em>GameEventListener.cs</em> .  They depend on each other, so to get rid of the errors, you need to create both. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [CreateAssetMenu(fileName = <span class="hljs-string"><span class="hljs-string">"New Game Event"</span></span>, menuName = <span class="hljs-string"><span class="hljs-string">"Game Event"</span></span>, order = <span class="hljs-number"><span class="hljs-number">52</span></span>)] <span class="hljs-comment"><span class="hljs-comment">// 1 public class GameEvent : ScriptableObject // 2 { private List&lt;GameEventListener&gt; listeners = new List&lt;GameEventListener&gt;(); // 3 public void Raise() // 4 { for (int i = listeners.Count - 1; i &gt;= 0; i--) // 5 { listeners[i].OnEventRaised(); // 6 } } public void RegisterListener(GameEventListener listener) // 7 { listeners.Add(listener); } public void UnregisterListener(GameEventListener listener) // 8 { listeners.Remove(listener); } }</span></span></code> </pre> <br>  Here is what the above code does: <br><br><ol><li>  Adds a GameEvent as an asset to the Asset Menu. </li><li>  GameEvent is a Scriptable Object, so it must inherit from ScriptableObject. </li><li>  A list of GameEventListeners that will be subscribed to GameEvent. </li><li>  Method to call all GameEvent subscribers. </li><li>  The last signed GameEventListener will be the first to be called (the last to come, the first to go out). </li><li>  Call each UnityEvent GameEventListeners. </li><li>  A method that allows GameEventListeners to subscribe to this GameEvent. </li><li>  A method that allows GameEventListeners to unsubscribe from this GameEvent. </li></ol><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.Events; <span class="hljs-comment"><span class="hljs-comment">// 1 public class GameEventListener : MonoBehaviour { [SerializeField] private GameEvent gameEvent; // 2 [SerializeField] private UnityEvent response; // 3 private void OnEnable() // 4 { gameEvent.RegisterListener(this); } private void OnDisable() // 5 { gameEvent.UnregisterListener(this); } public void OnEventRaised() // 6 { response.Invoke(); } }</span></span></code> </pre> <br>  In the code shown above, the project is further developed: <br><br><ol><li>  Requirement to use the UnityEvent class. </li><li>  GameEvent to which this GameEventListener will be subscribed. </li><li>  The response of the UnityEvent that will be called when the GameEvent event is generated by this GameEventListener. </li><li>  Binding a GameEvent to a GameEventListener when this GameObject is enabled. </li><li>  Untie GameEvent from GameEventListener when this GameObject is disabled. </li><li>  Called when a GameEvent is generated, which causes the GameEventListener to call a UnityEvent event. </li></ol><br>  Complicated?  Nothing will figure it out in time! <br><br><h3>  Editor preparation </h3><br>  Return to the Unity editor and create a new <em>Game Events</em> folder in Scripts &gt;&gt; ScriptableObjects.  Then create seven Game Events from the Asset Menu, as we did for each Sword Data asset.  Place them in the new Game Events folder. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/055/47b/22a/05547b22a285c4be816e03839eeead05.png"></div><br>  Replace the code inside the <em>Sword.cs</em> script <em>with the</em> following lines: <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameEvent OnSwordSelected; <span class="hljs-comment"><span class="hljs-comment">// 1 private void OnMouseDown() { OnSwordSelected.Raise(); // 2 }</span></span></code> </pre> <br>  This code adds two possibilities to the sword merchant's shop: <br><br><ol><li>  Generate a Game Event when choosing a sword. </li><li>  Generate events when you click on the sword. </li></ol><br>  Save the script.  Now in each GameObject of the sword in the Hierarchy connect the corresponding OnSwordSelected event. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ac/f02/acd/9acf02acd43968a370dd2208793919fe.gif"></div><br>  Each sword now has a link to an event that is triggered by clicking on a sword. <br><br><h2>  Integration with UI </h2><br>  Now you need to make the UI work.  Our goal is to display the corresponding Sword Data data when you click on each sword. <br><br><h3>  UI links </h3><br>  Before updating the UI, you must obtain a link to each UI element.  Let's start by creating a new script called <em>SwordMerchant.cs</em> and adding the following code to this new script: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.UI; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordMerchant</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Text swordName; <span class="hljs-comment"><span class="hljs-comment">// 1 [SerializeField] private Text description; // 2 [SerializeField] private Image icon; // 3 [SerializeField] private Text goldCost; // 4 [SerializeField] private Text attackDamage; // 5 }</span></span></code> </pre> <br>  With this code, we added the following: <br><br><ol><li>  A link to the Text component of the <em>NameText</em> game object. </li><li>  A link to the Text component of the <em>DescriptionText</em> game object. </li><li>  A link to the Image component of the game object <em>Sword_Icon</em> . </li><li>  A link to the Text component of the <em>GoldText</em> game object. </li><li>  A link to the Text component of the game <em>AttackText</em> object. </li></ol><br>  The above game objects are located in the <em>SwordMerchantCanvas &gt;&gt; SwordMerchantPanel</em> Hierarchy window.  Add the script to GameObject <em>SwordMerchantCanvas</em> , and then configure all links: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2b/a6f/294/f2ba6f2948bc57b02efa9a1a925453e8.png"></div><br><h3>  Listeners and UI Responses </h3><br>  All swords have an event that the UI can subscribe to using the <em>GameEventListener</em> script.  Add a <em>GameEventListener</em> for each OnSwordSelected event to the GameObject <em>SwordMerchantCanvas event</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51c/3ea/618/51c3ea618cb29226356febe1ff1aa8c1.gif"></div><br>  As you can see, our Game Event Listener has two fields: the Game Event event that it listens to and the response that is triggered when the Game Event is generated. <br><br>  In our case, the response will update the UI.  Add the following method to the <em>SwordMerchant.cs</em> script: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateDisplayUI</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SwordData swordData</span></span></span><span class="hljs-function">)</span></span> { swordName.text = swordData.SwordName; description.text = swordData.Description; icon.sprite = swordData.Icon; goldCost.text = swordData.GoldCost.ToString(); attackDamage.text = swordData.AttackDamage.ToString(); }</code> </pre> <br>  This method gets the Sword Data asset, and then updates each UI field with the value of the corresponding Sword Data field.  Note that <em>GoldCost</em> and <em>AttackDamage</em> return an <code>int</code> , so for text you need to convert it to string. <br><br>  Using our new method, we can add a response to each <em>GameEventListener</em> . <br><br>  For each added response, you need as a value for the <em>None (Object)</em> field a link to our game object <em>SwordMerchantCanvas</em> .  After that, select <em>SwordMerchant.UpdateDisplayUI</em> from the drop-down menu to the right of the <em>Runtime Only</em> drop-down list. <br><br>  Be careful and use the correct Sword Data asset for each <em>OnSwordSelected</em> event. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d4d/ce8/e05/d4dce8e052a2440f4495a94dec1fc47d.png"></div><br>  Now we can start the game, click on the sword and see that the UI has been updated accordingly! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddb/365/357/ddb365357b74dc1e5d86d337d90c8398.gif"></div><br>  Since we are using Game Events, you can just <em>SwordMerchantCanvas</em> , and everything will still work, but without the UI.  This means that the prefabs of the swords are separated from <em>SwordMerchantCanvas</em> . <br><br><h2>  Where to go next? </h2><br>  If you have missed something in the story process, you can <a href="">download the finished project</a> , which is in the tutorial materials. <br><br>  If you want to move on, try to make each sword reproduce its own sound.  Try extending Scriptable Object Sword Data and listening to <code>OnSwordSelected</code> events. <br><br>  Want to know more about Unity?  Watch our Unity <a href="https://videos.raywenderlich.com/courses/47-beginning-c/lessons/1">video series</a> or read the <a href="https://www.raywenderlich.com/category/unity">Unity tutorials</a> . </div><p>Source: <a href="https://habr.com/ru/post/421523/">https://habr.com/ru/post/421523/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421507/index.html">What were the welders for optics</a></li>
<li><a href="../421513/index.html">Smooth introduction of scram by the developers themselves (resolving contradictions, setting up a team, avoiding conflicts)</a></li>
<li><a href="../421515/index.html">Yandex has three days to remove pirated links, otherwise Roskomnadzor will block Yandex.Video service.</a></li>
<li><a href="../421519/index.html">The book "Apache Kafka. Stream processing and data analysis "</a></li>
<li><a href="../421521/index.html">Monsters after the holidays: AMD Threadripper 2990WX 32-Core and 2950X 16-Core (part 3 - tests)</a></li>
<li><a href="../421525/index.html">A little bit about the differences between Russian and foreign hosters</a></li>
<li><a href="../421527/index.html">Broadcast launch of the project "Server in the clouds"</a></li>
<li><a href="../421529/index.html">Netflix, Uber, Google and you on MBLT DEV 2018</a></li>
<li><a href="../421531/index.html">How to integrate ReactJS in 1C-Bitrix with automatic generation of templates on the back-end using the example of the Globus network</a></li>
<li><a href="../421533/index.html">Choosing a programming language: 3 tips from a programmer at Apple</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>