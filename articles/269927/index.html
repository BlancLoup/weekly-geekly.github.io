<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What we have learned by developing the backend</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The development of Parallels Access has required the creation of a geographically distributed service that allows you to securely establish communicat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What we have learned by developing the backend</h1><div class="post__text post__text-html js-mediator-article"><img width="300" height="168" src="https://habrastorage.org/files/f19/5e9/cc5/f195e9cc5c1d4817b2c923707d74c3df.jpeg" alt="image" align="left">  The development of Parallels Access has required the creation of a geographically distributed service that allows you to securely establish communication between computers and mobile clients of users at different points of the globe.  The team that works on it wants to share the experience gained in the form of quotes to ease the plight of those who are only planning to create their client / server product, and plunge into nostalgia of professionals who have a dozen successful projects behind them: <br><a name="habracut"></a><br><ol><li>  For each public address that could potentially be covered by a CDN, start the second for direct use by services.  Otherwise, after turning on the ‚Äúknife switch in the CDN‚Äù, you will learn a lot about yourself as a phenomenon. </li><li>  Enable the log slow queries option on the DBMS.  There is always an engineer who will ‚Äúcharge‚Äù the query past the indices.  Or an administrator who configured the backup incorrectly. </li><li>  Virtual machines in the clouds - consumables.  Maximize server deployment.  Design the service so that the loss of one server is painless. </li><li>  Virtualization as a student dormitory: a party at one (increased CPU or IO activity) can haunt the entire floor. </li><li>  Use proven technology.  Any cool thing contains a lot of pitfalls, which are often found already in production. </li><li>  NoSql can turn from a carriage into a pumpkin at the first need to produce a join. </li><li>  The Backend API should be not only easy-to-develop authors, but also easy-to-use clients who are distinguished by their diversity (web / mobile / desktop) and are in the habit of showing different data from one version to another on the same screens. </li><li>  Engineer, remember: the task is completed when your code has benefited the user and the profit to the customer.  A commit is just the first step on this path. </li><li>  Running services as root is a security hole.  As a last resort, start from under root, switch using setuid (). </li><li>  Excessive logging can adversely affect performance.  Learn to change the log level on the fly, which will allow you to investigate problems at the moment they appear. </li><li>  SSL can be used not only for encryption.  Transition from keys to certificates will allow to organize the authorization and authentication of components in the infrastructure. </li><li>  Linux system administrators will thank you if the configs are in / etc / myapp, logs in / var / log / myapp, etc.  In other words, store files in the directories generally accepted for OS. </li><li>  Any log file could potentially grow out of control.  At the design stage, plan the life cycle of the log files and the data they contain. </li><li>  Set up monitoring of all components using a convenient service.  Next, get ready to improve it, so as not to wake up at night from minor positives. </li><li>  Create a calendar with expiration dates for certificates, subscriptions, keys.  Otherwise, ‚Äúsomething will stop working‚Äù is completely unexpected. </li><li>  Before improving performance, learn how to choose the right metrics and what throughput and latency are. </li><li>  The service must choose the amount of data that it can correctly process.  Otherwise the request <br><br>  <i>update users set halyava_end_date = '2016-01-01'</i> <i><br></i>  <i>Rows matched: 300000 Changed: 300000 Warnings: 0</i> <br><br>  performed in early December, may turn out to be a surprise: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>2016-01-01 00:00:00 Mail service is trying to send 300,000 email ...</i> <i><br></i>  <i>2016-01-01 00:00:01 Out of memory error</i> <br><br></li><li>  Client applications must correctly handle the situation when the service is overloaded or unavailable.  Each subsequent attempt to connect, choose with increasing interval with the elements of randomness.  Otherwise, the rise after the upgrade / fall will be difficult. </li><li>  The application server has no history of migrations; it‚Äôs better to be able to roll it reliably and quickly from scratch. </li><li>  Specify the version of third-party libraries.  Changing a minor version can break everything.  Do not use libraries from public repositories automatically. </li><li>  If you do not know where to look for the error, look for it first in serializers, then in deserializers. </li><li>  While you can use the unix timestamp for storing and processing dates, it is better to use the unix timestamp. </li><li>  The speed of work is a property of the product, which can be costly, but it should not be necessary. </li><li>  Distributed storage systems are either inconsistent, or inhibited, or both. </li><li>  Any queue is a monitoring tool.  The number of items in the queue, the speed of their receipt and processing can clarify what is happening in the system. </li><li>  Prematurely getting rid of copy-paste code is a premature optimization. </li><li>  If you do an extra operation, then no matter how fast you do it. </li></ol><br><br>  In the comments are ready to answer more specific questions.  In addition, all this week I will be leading Twitter backend developers <b>@backendsecret</b> - <a href="http://bit.ly/20mJ9GP">http://bit.ly/20mJ9GP</a> - where I will also talk about useful things and answer questions. </div><p>Source: <a href="https://habr.com/ru/post/269927/">https://habr.com/ru/post/269927/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269915/index.html">Divide means multiply</a></li>
<li><a href="../269917/index.html">A library that helps bridge the conceptual gap between OOP and DB during testing using ORM - LinqTestable</a></li>
<li><a href="../269919/index.html">The digest of interesting materials for the mobile developer # 127 (October 26 - November 1)</a></li>
<li><a href="../269923/index.html">Immersion cooling reaches new heights: 250 kW per bitFury rack</a></li>
<li><a href="../269925/index.html">Altera + OpenCL: we open the core</a></li>
<li><a href="../269931/index.html">How to draw curves graphics in the style of XKCD</a></li>
<li><a href="../269933/index.html">Pitfalls of backup in hybrid storage systems</a></li>
<li><a href="../269935/index.html">Operating System Migration History</a></li>
<li><a href="../269937/index.html">PHP Digest number 73 - interesting news, materials and tools (October 18 - November 5, 2015)</a></li>
<li><a href="../269943/index.html">How to write Go code that is easy to port</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>