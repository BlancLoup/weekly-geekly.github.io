<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ASP.NET MVC 4 RAZOR Dynamic Multi-Level Database Menu</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As promised in the previous post of DropDownList, Set the ‚Äúvalue‚Äù for the default option in MVC 4 , today I‚Äôll tell you about building a dynamic multi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ASP.NET MVC 4 RAZOR Dynamic Multi-Level Database Menu</h1><div class="post__text post__text-html js-mediator-article">  As promised in the previous post of <a href="http://habrahabr.ru/post/174455/">DropDownList, Set the ‚Äúvalue‚Äù for the default option in MVC 4</a> , today I‚Äôll tell you about building a dynamic multi-level menu with infinite nesting stored in the MsSQL database.  I remember in my time on PCP this was also a puzzle for a couple of days.  But for the MVC 4 with the RAZOR engine - I barely figured it out, although in the end, as always, nothing complicated or supernatural.  The article is designed for those who do not know how.  If you know how to do better - share.  Let's get started <br><br>  This manual assumes that you are already operating with the knowledge gained from reading these articles: <a href="http://habrahabr.ru/post/136155/">Entity Framework in an ASP.NET MVC application</a> .  Or these: <a href="http://www.asp.net/mvc/tutorials">ASP.NET MVC 4 Tutorials</a> <br><br>  1) First you need to understand the structure of the database.  This is the main thing.  The theory can be found in the article <a href="">Hierarchical data structures in relational databases</a> .  We will use the most simple structure, called "structure referring to the ancestor." <br><a name="habracut"></a><br>  SQL code looks like this: <br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">"CATALOG"</span></span> ( <span class="hljs-string"><span class="hljs-string">"ID"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>, <span class="hljs-string"><span class="hljs-string">"NAME"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">CHARACTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> WIN1251 <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">"PARENT_ID"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> );</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Create a model in VS 2012: <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Web; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">zf2.Models</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">NewsM</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> NewsMID { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ParentID { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Title { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> AddTitle { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Description { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Content { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime ModDate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre><br>  In general, only the first three fields are major.  But for clarity, I gave a working version used on my site. <br><br>  2) Controller. <br><pre> <code class="hljs pgsql"> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> ActionResult NewsA(<span class="hljs-type"><span class="hljs-type">int</span></span> id = <span class="hljs-number"><span class="hljs-number">1</span></span>) //id     { ViewBag.Menu = db.NewsMs.ToList(); // ,     . ViewBag.Id = id; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">View</span></span>(); }</code> </pre><br><br>  3) Partial Views (Partial View Scripts) <br>  If you have not encountered them yet, do not worry.  They differ from ordinary scripts only in that they are not called automatically.  These are views for views so to speak. <br><br>  We go in the daddy of Views-Shared-Right-click-Add-View: put a tick "Create as a partial view."  Enter the name "_Menu".  Why is underscore used?  Yes, just for convenience and exclude matches of names.  Since partial scripts are searched in all directories of the Shared type and the corresponding controller with various extensions.  This is what gives out if you specify an incorrect script name: <br><pre> <code class="hljs javascript">     <span class="hljs-string"><span class="hljs-string">"_gMenu"</span></span>         .     : ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Home/_gMenu.aspx ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Home/_gMenu.ascx ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Shared/_gMenu.aspx ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Shared/_gMenu.ascx ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Home/_gMenu.cshtml ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Home/_gMenu.vbhtml ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Shared/_gMenu.cshtml ~<span class="hljs-regexp"><span class="hljs-regexp">/Views/</span></span>Shared/_gMenu.vbhtml</code> </pre><br>  I think it is clear. <br>  Go ahead. <br>  In "_Menu.cshtml" copy the following code: <br><pre> <code class="hljs kotlin">@{ List&lt;zf2.Models.NewsM&gt; menuList = ViewBag.Menu; } &lt;ul <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">menu</span></span></span><span class="hljs-class">"&gt; </span><span class="hljs-meta"><span class="hljs-class"><span class="hljs-meta">@foreach</span></span></span><span class="hljs-class"> </span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mp <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> menuList.Where(p =&gt; p.ParentID == <span class="hljs-number"><span class="hljs-number">0</span></span>)){ &lt;li&gt; <span class="hljs-meta"><span class="hljs-meta">@Html</span></span>.ActionLink(mp.Title, ViewContext.RouteData.GetRequiredString(<span class="hljs-string"><span class="hljs-string">"action"</span></span>), new { id=mp.NewsMID }) <span class="hljs-meta"><span class="hljs-meta">@if( menuList.Count(p=&gt;p.ParentID == mp.NewsMID )</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ @:&lt;ul&gt; } <span class="hljs-meta"><span class="hljs-meta">@RenderMenuItem(menuList,mp)</span></span> <span class="hljs-meta"><span class="hljs-meta">@if( menuList.Count(p=&gt;p.ParentID == mp.NewsMID )</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ @:&lt;/ul&gt; } &lt;/li&gt; } &lt;/ul&gt; <span class="hljs-meta"><span class="hljs-meta">@helper</span></span> RenderMenuItem(List&lt;zf2.Models.NewsM&gt; menuList, zf2.Models.NewsM mi) { foreach (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cp <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> menuList.Where(p =&gt; p.ParentID == mi.NewsMID)) { @:&lt;li&gt; <span class="hljs-meta"><span class="hljs-meta">@Html</span></span>.ActionLink(cp.Title, ViewContext.RouteData.GetRequiredString(<span class="hljs-string"><span class="hljs-string">"action"</span></span>), new { id=cp.NewsMID }) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(menuList.Count(p=&gt;p.ParentID == cp.NewsMID) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { @:&lt;ul&gt; } <span class="hljs-meta"><span class="hljs-meta">@RenderMenuItem(menuList,cp)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(menuList.Count(p=&gt;p.ParentID == cp.NewsMID) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { @:&lt;/ul&gt; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { @:&lt;/li&gt; } } }</code> </pre><br>  Here lies the magic. <br><br>  <code>@foreach (var mp in menuList.Where(p =&gt; p.ParentID == 0))</code> - parses and displays the names with ParentID = 0. <br><br>  <code>@RenderMenuItem(menuList,mp)</code> - we call the view helper, which recursively completes all nesting for each ‚ÄúRueta‚Äù item. <br><br>  <code>@helper RenderMenuItem(List&lt;zf2.Models.NewsM&gt; menuList, zf2.Models.NewsM mi)</code> - this is the view helper itself, within which the recursion is organized. <br><br>  <code>@Html.ActionLink(mp.Title, ViewContext.RouteData.GetRequiredString("action"), new { id=mp.NewsMID })</code> - create links.  I use standard routing. The name of the controller is automatically substituted.  The name of the action and the parameter Id - specify "manually." <br>  <code>ViewContext.RouteData.GetRequiredString("action")</code> - we get the name of the action.  Similarly, you can get the name of the controller. <br>  <code>new { id=mp.NewsMID }</code> - set the Id parameter. <br>  <code>mp.Title</code> - Link Name <br><br>  Next, create another partial view script called "_Content". <br>  In it we will display the contents of the selected article by the transmitted Id. <br>  The code is: <br><pre> <code class="hljs kotlin">@{ List&lt;zf2.Models.NewsM&gt; menuList = ViewBag.Menu; } <span class="hljs-meta"><span class="hljs-meta">@ViewBag</span></span>.Id <span class="hljs-meta"><span class="hljs-meta">@foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mp <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> menuList.Where(p =&gt; p.NewsMID == ViewBag.Id)) { <span class="hljs-meta"><span class="hljs-meta">@mp</span></span>.Content <span class="hljs-meta"><span class="hljs-meta">@mp</span></span>.AddTitle <span class="hljs-meta"><span class="hljs-meta">@mp</span></span>.Description }</code> </pre><br><br>  4) The main view script.  I have it called as the name of the action in the controller - NewsA.cshtml <br>  In it, we simply call our partial view scripts and display the title. <br><pre> <code class="hljs scala">@{ <span class="hljs-type"><span class="hljs-type">ViewBag</span></span>.<span class="hljs-type"><span class="hljs-type">Title</span></span> = <span class="hljs-string"><span class="hljs-string">"NewsA"</span></span>; } @{ <span class="hljs-type"><span class="hljs-type">List</span></span>&lt;zf2.<span class="hljs-type"><span class="hljs-type">Models</span></span>.<span class="hljs-type"><span class="hljs-type">NewsM</span></span>&gt; menuList = <span class="hljs-type"><span class="hljs-type">ViewBag</span></span>.<span class="hljs-type"><span class="hljs-type">Menu</span></span>; } &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"row"</span></span>&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"span3"</span></span>style=<span class="hljs-string"><span class="hljs-string">"background-color: #e6e6e6;"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">@Html</span></span>.<span class="hljs-type"><span class="hljs-type">Partial</span></span>(<span class="hljs-string"><span class="hljs-string">"_Menu"</span></span>) &lt;/div&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"span6"</span></span> style=<span class="hljs-string"><span class="hljs-string">"background-color: #e6e6e6;"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">@Html</span></span>.<span class="hljs-type"><span class="hljs-type">Partial</span></span>(<span class="hljs-string"><span class="hljs-string">"_Content"</span></span>) &lt;/div&gt; &lt;/div&gt;</code> </pre><br><br> <code><a href="http://twitter.github.com/bootstrap/"></a> <code>, -   Bootstrap -   CSS .     : <br> <br> . .      : <br> <img src="http://i.piccy.info/i7/4c0ba34d752bff4c7ce9e4aa3bcd4afc/4-57-418/45030254/Bezymiannyi.png" alt="image"> <br> <br> : <br>        . <br>    <br>    Entity Framework <br>    . <br>        ,      . <br>    : <br> using System; using System.Collections.Generic; using System.Data.Entity; using System.Linq; using System.Web; using zf2.Models; namespace zf2.DAL { public class ZfInitializer : DropCreateDatabaseIfModelChanges&lt;ZfContext&gt; { protected override void Seed(ZfContext context) { var newsMs = new List&lt;NewsM&gt; { new NewsM { NewsMID = 1, ParentID = 0, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 2, ParentID = 0, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 3, ParentID = 1, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 4, ParentID = 1, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 5, ParentID = 2, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 6, ParentID = 3, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 7, ParentID = 2, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, }; newsMs.ForEach(s =&gt; context.NewsMs.Add(s)); context.SaveChanges(); } } }</code> <br> <br>    ...</code> <pre> <code class="hljs cpp"><a href="http://twitter.github.com/bootstrap/"></a> <code>, -   Bootstrap -   CSS .     : <br> <br> . .      : <br> <img src="http://i.piccy.info/i7/4c0ba34d752bff4c7ce9e4aa3bcd4afc/4-57-418/45030254/Bezymiannyi.png" alt="image"> <br> <br> : <br>        . <br>    <br>    Entity Framework <br>    . <br>        ,      . <br>    : <br> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Data.Entity; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Web; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> zf2.Models; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> zf2.DAL { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZfInitializer</span></span></span><span class="hljs-class"> :</span></span> DropCreateDatabaseIfModelChanges&lt;ZfContext&gt; { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> override </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Seed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ZfContext context)</span></span></span><span class="hljs-function"> </span></span>{ var newsMs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;NewsM&gt; { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsM { NewsMID = <span class="hljs-number"><span class="hljs-number">1</span></span>, ParentID = <span class="hljs-number"><span class="hljs-number">0</span></span>, Title = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, AddTitle = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Description = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Content = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span> , ModDate = DateTime.Parse(<span class="hljs-string"><span class="hljs-string">"2005-09-01"</span></span>) }, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsM { NewsMID = <span class="hljs-number"><span class="hljs-number">2</span></span>, ParentID = <span class="hljs-number"><span class="hljs-number">0</span></span>, Title = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, AddTitle = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Description = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Content = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span> , ModDate = DateTime.Parse(<span class="hljs-string"><span class="hljs-string">"2005-09-01"</span></span>) }, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsM { NewsMID = <span class="hljs-number"><span class="hljs-number">3</span></span>, ParentID = <span class="hljs-number"><span class="hljs-number">1</span></span>, Title = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, AddTitle = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Description = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Content = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span> , ModDate = DateTime.Parse(<span class="hljs-string"><span class="hljs-string">"2005-09-01"</span></span>) }, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsM { NewsMID = <span class="hljs-number"><span class="hljs-number">4</span></span>, ParentID = <span class="hljs-number"><span class="hljs-number">1</span></span>, Title = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, AddTitle = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Description = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Content = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span> , ModDate = DateTime.Parse(<span class="hljs-string"><span class="hljs-string">"2005-09-01"</span></span>) }, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsM { NewsMID = <span class="hljs-number"><span class="hljs-number">5</span></span>, ParentID = <span class="hljs-number"><span class="hljs-number">2</span></span>, Title = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, AddTitle = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Description = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Content = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span> , ModDate = DateTime.Parse(<span class="hljs-string"><span class="hljs-string">"2005-09-01"</span></span>) }, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsM { NewsMID = <span class="hljs-number"><span class="hljs-number">6</span></span>, ParentID = <span class="hljs-number"><span class="hljs-number">3</span></span>, Title = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, AddTitle = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Description = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Content = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span> , ModDate = DateTime.Parse(<span class="hljs-string"><span class="hljs-string">"2005-09-01"</span></span>) }, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsM { NewsMID = <span class="hljs-number"><span class="hljs-number">7</span></span>, ParentID = <span class="hljs-number"><span class="hljs-number">2</span></span>, Title = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, AddTitle = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Description = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span>, Content = <span class="hljs-string"><span class="hljs-string">"Carson"</span></span> , ModDate = DateTime.Parse(<span class="hljs-string"><span class="hljs-string">"2005-09-01"</span></span>) }, }; newsMs.ForEach(s =&gt; context.NewsMs.Add(s)); context.SaveChanges(); } } }</code> <br> <br>    ...</code> </pre> <code><a href="http://twitter.github.com/bootstrap/"></a> <code>, -   Bootstrap -   CSS .     : <br> <br> . .      : <br> <img src="http://i.piccy.info/i7/4c0ba34d752bff4c7ce9e4aa3bcd4afc/4-57-418/45030254/Bezymiannyi.png" alt="image"> <br> <br> : <br>        . <br>    <br>    Entity Framework <br>    . <br>        ,      . <br>    : <br> using System; using System.Collections.Generic; using System.Data.Entity; using System.Linq; using System.Web; using zf2.Models; namespace zf2.DAL { public class ZfInitializer : DropCreateDatabaseIfModelChanges&lt;ZfContext&gt; { protected override void Seed(ZfContext context) { var newsMs = new List&lt;NewsM&gt; { new NewsM { NewsMID = 1, ParentID = 0, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 2, ParentID = 0, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 3, ParentID = 1, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 4, ParentID = 1, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 5, ParentID = 2, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 6, ParentID = 3, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, new NewsM { NewsMID = 7, ParentID = 2, Title = "Carson", AddTitle = "Carson", Description = "Carson", Content = "Carson" , ModDate = DateTime.Parse("2005-09-01") }, }; newsMs.ForEach(s =&gt; context.NewsMs.Add(s)); context.SaveChanges(); } } }</code> <br> <br>    ...</code> </div><p>Source: <a href="https://habr.com/ru/post/174531/">https://habr.com/ru/post/174531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../174513/index.html">ContactManager, part 5. Add work via HTTPS</a></li>
<li><a href="../174519/index.html">In the city of Lutsk (Ukraine) public transport equipped with GPS devices</a></li>
<li><a href="../174521/index.html">Technical debt will ruin you. If you allow, of course</a></li>
<li><a href="../174523/index.html">"Tongue twisters". Part 1: From idea to design</a></li>
<li><a href="../174525/index.html">How we learned to work with freelancers</a></li>
<li><a href="../174535/index.html">NASA is preparing to launch a solar sail Sunjammer</a></li>
<li><a href="../174537/index.html">Ukrainian website of the state portal of administrative services in the style of Windows 8</a></li>
<li><a href="../174539/index.html">ABBYY PassportReader SDK - when nothing needs to be set up</a></li>
<li><a href="../174541/index.html">Eclipse RCP Cookbook Part I</a></li>
<li><a href="../174545/index.html">Search with Lucene in Playframework 1.x</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>