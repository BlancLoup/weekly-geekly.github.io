<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Relational programming: pain, interest, and pain again</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous post, we talked in detail about what we were teaching students in the ‚ÄúIndustrial Programming‚Äù direction. For those whose area of ‚Äã‚Äãin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Relational programming: pain, interest, and pain again</h1><div class="post__text post__text-html js-mediator-article">  In the previous <a href="https://habr.com/ru/company/hsespb/blog/439362/">post,</a> we talked in detail about what we were teaching students in the ‚ÄúIndustrial Programming‚Äù direction.  For those whose area of ‚Äã‚Äãinterest lies in a more theoretical field, for example, attract new programming paradigms or abstract mathematics used in theoretical studies on programming, there is another specialization - ‚ÄúProgramming Languages‚Äù. <br><br>  Today I will talk about my research in the field of relational programming, which I do at the university and as a student-researcher in the laboratory of language tools JetBrains Research. <br><br>  What is relational programming?  Usually we run the function with arguments and get the result.  And in the relational case, you can do the opposite: fix the result and one argument, and get the second argument.  The main thing is to write the code correctly and have patience or a good cluster. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/_u/8b/t2/_u8bt2bceznm8e2ujbrvhwn8awy.jpeg"><br><a name="habracut"></a><br><h2>  About myself </h2><br>  My name is Dmitry Rozplokhas, I am a first-year postgraduate student at the St. Petersburg Higher School, and last year I graduated from the Bachelor of Academic University with a degree in Programming Languages.  From the third year of a bachelor degree I am also a research student in the laboratory of language tools JetBrains Research. <br><br><h2>  Relational programming </h2><br><h3>  General facts </h3><br>  Relational programming is when instead of functions you describe the relationship between the arguments and the result.  If the language for this is sharpened, you can get certain bonuses, for example, the ability to run a function in the opposite direction (by the result, restore the possible values ‚Äã‚Äãof the arguments). <br><br>  In general, this can be done in any logical language, but interest in relational programming arose simultaneously with the appearance of the minimalistic pure logical language <a href="http://minikanren.org/">miniKanren</a> about ten years ago, which made it possible to conveniently describe and use similar relationships. <br><br>  Here are some of the most advanced examples of use: you can write a proof checker and use it to search for evidence ( <a href="http://webyrd.net/alphaleantap/alphatap.pdf">Near et al., 2008</a> ) or create an interpreter of a language and use it to generate test suite programs ( <a href="https://dl.acm.org/citation.cfm%3Fid%3D3110252">Byrd et al., 2017</a> ). <br><br><h3>  Syntax and toy example </h3><br>  miniKanren is a small language; only basic mathematical constructions are used to describe relationships.  This is an embeddable language, its primitives are a library for some external language, and small programs on miniKanren can be used inside programs in another language. <br><br>  External languages ‚Äã‚Äãsuitable for miniKanren, a whole bunch.  Originally, it was Scheme, we work with the version for Ocaml ( <a href="https://github.com/dboulytchev/OCanren">OCanren</a> ), and the full list can be viewed at <a href="http://minikanren.org/">minikanren.org</a> .  Examples in this article will also be on OCanren.  Many implementations add helper functions, but we will focus only on the core language. <br><br>  Let's start with the data types.  Conventionally, they can be divided into two types: <br><br><ul><li>  Constants are some data from the language in which we are embedded.  Lines, numbers, even arrays.  But for the base miniKanren, this is all a black box, constants can only be checked for equality. <br></li><li>  "Therm" is a tuple of several elements.  Usually used in the same way as data constructors in Haskell: data constructor (string) plus zero or more parameters.  OCanren uses the usual data constructors from OCaml. <br></li></ul><br>  For example, if we want to work with arrays in miniKanren itself, then it should be described in terms of terms, by analogy with functional languages ‚Äã‚Äã- as a simply linked list.  A list is either an empty list (denoted by some simple term), or a pair from the first element of the list (‚Äúhead‚Äù) and the rest of the elements (‚Äútail‚Äù). <br><br><pre><code class="plaintext hljs">let emptyList = Nil let list_123 = Cons (1, Cons (2, Cons (3, Nil)))</code> </pre> <br>  The program in the language miniKanren is the ratio between some variables.  When you start the program gives all possible values ‚Äã‚Äãof variables in general.  Often, implementations allow you to limit the number of answers in the output, for example, to find only the first ‚Äî the search does not always stop after finding all the solutions. <br><br>  You can write several relations, which are defined through each other and even called recursively, as functions.  For example, below, instead of the function <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.954ex" height="2.66ex" viewBox="0 -832 7299.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-70" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-70" x="1033" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-65" x="1536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-6E" x="2003" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-64" x="2603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-28" x="3127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-2C" x="4046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-62" x="4491" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-29" x="4920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-2192" x="5587" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-63" x="6866" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">)</mo><mo stretchy="false">‚Üí</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> append (a, b) ‚Üí c </script>  define the relationship <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>c</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.502ex" height="2.66ex" viewBox="0 -832 6674.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-70" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-70" x="1033" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-65" x="1536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-6E" x="2003" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-64" x="2603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-6F" x="3127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-28" x="3612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="4002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-2C" x="4531" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-62" x="4976" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-2C" x="5406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-63" x="5851" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-29" x="6284" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>o</mi><mo stretchy="false">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-2"> appendo (a, b, c) </script>  : list <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.007ex" height="1.455ex" viewBox="0 -520.7 433.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-63" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> c </script>  is a concatenation of lists <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.23ex" height="1.455ex" viewBox="0 -520.7 529.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> a </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>b</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.998ex" height="2.057ex" viewBox="0 -780.1 429.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-62" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> b </script>  .  Functions that return relationships traditionally end with an ‚Äúo‚Äù to distinguish them from ordinary functions. <br><br>  The relationship is recorded as some statement regarding its arguments.  We have <b>four basic operations</b> : <br><br><ul><li>  Unification or equality (===) of two terms, terms may include variables.  For example, you can write the relationship "list <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>l</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.693ex" height="2.057ex" viewBox="0 -780.1 298.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-6C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> l </script>  consists of one element <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-7"> x </script>  ": <br><br><pre> <code class="plaintext hljs">let isSingletono xl = l === Cons (x, Nil)</code> </pre></li><li>  Conjunction (logical "and") and disjunction (logical "or") - as in ordinary logic.  In OCanren, denoted as &amp;&amp;&amp; and |||.  But in principle there is no logical negation in MiniKanren. <br></li><li>  Adding new variables.  In logic, it is a quantifier of existence.  For example, to check a list for nonempty, you need to check that the list consists of a head and a tail.  They are not arguments of the relationship, so you need to create new variables: <br><br><pre> <code class="plaintext hljs">let nonEmptyo l = fresh (ht) (l === Cons (h, t))</code> </pre></li></ul><br>  An attitude can call itself recursively.  For example, the ‚Äúelement <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> x </script>  is on the list. ‚Äù  We will solve this problem through the analysis of trivial cases, as in functional languages: <br><br><ol><li>  Either the list head is equal <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> x </script><br></li><li>  Or <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-10"> x </script>  lies in the tail <br></li></ol><br><pre> <code class="plaintext hljs">let membero lx = fresh (ht) ( (l === Cons (h, t)) &amp;&amp;&amp; (x === h ||| membero tx) )</code> </pre><br>  The basic version of the language is based on these four operations.  There are also extensions that allow other operations to be used.  The most useful of them is the disequality constraint for specifying the inequality of two terms (= / =). <br><br>  Despite its minimalism, miniKanren is quite an expressive language.  Here, for example, looks like the relational concatenation of two lists.  The function of the two arguments turns into a triple relation " <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mi>b</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.227ex" height="2.057ex" viewBox="0 -780.1 959 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-62" x="529" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-11"> ab </script>  is a concatenation of lists <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.23ex" height="1.455ex" viewBox="0 -520.7 529.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-12"> a </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>b</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.998ex" height="2.057ex" viewBox="0 -780.1 429.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-62" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-13"> b </script>  ". <br><br><pre> <code class="plaintext hljs">let appendo ab ab = (a === Nil &amp;&amp;&amp; ab === b) ||| (fresh (ht tb) (*  :  fresh   &amp;&amp;&amp; *) (a = Cons (h, t)) (appendo tb tb) (ab === Cons (h, tb)))</code> </pre><br>  The solution is not structurally different from how we would write it in a functional language.  We parse two cases combined by a disjunction: <br><br><ol><li>  If the first list is empty, then the second list and the result of concatenation are equal. <br></li><li>  If the first list is not empty, then we parse it on the head and tail and construct the result using a recursive call of the relationship. <br></li></ol><br>  We can make a request to this relation, fixing the first and second argument - we get the concatenation of lists: <br><br><pre> <code class="plaintext hljs">run 1 (Œª q -&gt; appendo (Cons (1, Cons (2, Nil))) (Cons (3, Cons (4, Nil))) q)</code> </pre> <br>  ‚áí <br><pre> <code class="plaintext hljs">q = Cons (1, Cons (2, Cons (3, Cons (4, Nil))))</code> </pre> <br>  We can fix the last argument - we get all the breaks in this list into two. <br><br><pre> <code class="plaintext hljs">run 4 (Œª qr -&gt; appendo qr (Cons (1, Cons (2, Cons (3, Nil)))))</code> </pre> <br>  ‚áí <br><pre> <code class="plaintext hljs">q = Nil, r = Cons (1, Cons (2, Cons (3, Nil))) | q = Cons (1, Nil), r = Cons (2, Cons (3, Nil)) | q = Cons (1, Cons (2, Nil)), r = Cons (3, Nil) | q = Cons (1, Cons (2, Cons (3, Nil))), r = Nil</code> </pre><br>  Anything else is possible.  A slightly more non-standard example in which we fix only part of the arguments: <br><br><pre> <code class="plaintext hljs">run 1 (Œª qr -&gt; appendo (Cons (1, Cons (q, Nil))) r (Cons (1, Cons (2, Cons (3, Cons (4, Nil))))))</code> </pre> <br>  ‚áí <br><pre> <code class="plaintext hljs">q = 2, r = Cons (3, Cons (4, Nil))</code> </pre> <br><br><h3>  How it works </h3><br>  From the point of view of the theory, there is nothing impressive here: you can always simply run through all possible options for all arguments, checking for each set whether they behave with respect to a given function / relationship as we would like (see <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D0%2591%25D1%2580%25D0%25B8%25D1%2582%25D0%25B0%25D0%25BD%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B3%25D0%25BE_%25D0%25BC%25D1%2583%25D0%25B7%25D0%25B5%25D1%258F">‚ÄúBritish Museum Algorithm‚Äù</a> ) .  It is interesting that here the search (in other words, the search for a solution) uses exclusively the structure of the described relation, due to which it can be relatively effective in practice. <br><br>  The search goes against accumulating information about various variables in the current state.  We either know nothing about each variable, or we know how it is expressed in terms of terms, values, and other variables.  For example: <br><br> <code>b = Cons (x, y) <br> c = Cons (10, z) <br> x = ? <br> y = ? <br> z = ? <br></code> <br>  Going through unification, we look at two terms with this information in mind and either update the state or stop searching if two terms cannot be unified.  For example, having executed unification b = c, we will receive new information: x = 10, y = z.  But the unification b = Nil will cause a contradiction. <br><br>  We perform a search in conjunctions sequentially (so that information accumulates), and in a disjunction we divide the search into two parallel branches and move on, alternating steps in them - this is the so-called interleaving search.  Thanks to this alternation, the search is complete - every suitable solution will be found in a finite time.  For example, in the Prolog language this is not the case.  Something like a depth traversal (which may hang on an endless branch) is performed there, and the interleaving search is essentially a tricky modification of the width traversal. <br><br>  Let's now see how the first request from the previous section works.  Since appendo has recursive calls, we will add indices to variables to distinguish them.  The figure below shows the search tree.  The arrows indicate the direction of information dissemination (except for the return from recursion).  Between disjunctions, information is not distributed, but between conjunctions it spreads from left to right. <br><br><img src="https://habrastorage.org/webt/3j/np/fg/3jnpfgkkgbyyf5-or5g_noicxg4.png"><br><br><ol><li>  We start with an external call to appendo.  The left branch of the disjunction dies due to contradiction: the list <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.23ex" height="1.455ex" viewBox="0 -520.7 529.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-14"> a </script>  not empty <br></li><li>  Auxiliary variables are entered in the right branch, which are then used to ‚Äúparse‚Äù the list. <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.284ex" height="1.696ex" viewBox="0 -520.7 983.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-31" x="748" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>a</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-15"> a_1 </script>  on the head and tail. <br></li><li>  After this, a recursive call to appendo for a = [2], b = [3, 4], ab =? Occurs, in which similar operations take place. <br></li><li>  But in the third call to appendo, we already have a = [], b = [3,4], ab = ?, and then the left disjunction just works, after which we get the information ab = b.  But in the right branch there is a contradiction. <br></li><li>  Now we can write out all the available information and restore the answer by substituting the values ‚Äã‚Äãof the variables: <br><br> <code>a_1 = [1, 2] <br> b_1 = [3, 4] <br> ab_1 = Cons h_1 tb_1 <br> h_1 = 1 <br> a_2 = t_1 = [2] <br> b_2 = b_1 = [3, 4] <br> ab_2 = tb_1 = Cons h_2 tb_2 <br> h_2 = 2 <br> a_3 = t_2 = Nil <br> b_3 = b_2 = b_1 = [3, 4] <br> ab_3 = tb_2 = b_3 = [3, 4] <br></code> <br></li><li>  It follows that <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><msub><mi>b</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.282ex" height="2.298ex" viewBox="0 -780.1 1412.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-61" x="0" y="0"></use><g transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-31" x="607" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><msub><mi>b</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-16"> ab_1 </script>  = Cons (1, Cons (2, [3, 4])) = [1, 2, 3, 4], as required. <br></li></ol><br><br><h2>  What did I do in undergraduate </h2><br><h3>  Everything slows down </h3><br>  As always: they promise you that everything will be super declarative, but in fact you need to adapt to the language and write everything in a special way (keeping in mind how everything will be executed) so that at least something other than the simplest examples will work.  It is disappointing. <br><br>  One of the first problems that a novice miniKanren programmer faces is that everything depends very much on the order in which you describe the conditions (conjuncts) in the program.  With one order, everything is OK, but they changed two conjuncts in places and everything began to work very slowly or not at all.  This was unexpected. <br><br>  Even in the example with appendo, the launch in the opposite direction (the generation of the list splits into two) does not end unless you explicitly indicate how many answers you want (then the search will be terminated after the required number has been found). <br><br>  Suppose we fix the source variables like this: a =?, B =?, Ab = [1, 2, 3] (see figure below) In the second branch, in a recursive call, this information will not be used in any way (the variable ab and restrictions on <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>h</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.393ex" height="2.298ex" viewBox="0 -780.1 1030.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-68" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-31" x="815" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>h</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-17"> h_1 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>t</mi><msub><mi>b</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.891ex" height="2.298ex" viewBox="0 -780.1 1244.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-31" x="607" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><msub><mi>b</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-18"> tb_1 </script>  appear only after this call).  Therefore, the first recursive call, all its arguments will be free variables.  This call will generate all sorts of triples from two lists and their concatenation (and this generation will never end), and then among them will be selected those for which the third element has turned out exactly the way we need. <br><br><img src="https://habrastorage.org/webt/pg/gn/jg/pggnjghrld84iyiybo9au0nyilk.png"><br><br>  Everything is not as bad as it may seem at first glance, because we will sort out these triples in large groups.  Lists with the same length, but different elements, are in no way different from the point of view of the function, therefore they will fall into one solution - in place of the elements will be free variables.  Nevertheless, we will still sort out all possible lengths of the lists, although we only need one, and we know which one.  This is a very irrational use (non-use) of information when searching. <br><br>  This particular example is easy to fix: you just need to transfer the recursive call to the end and everything will work as it should.  Before the recursive call, there will be a unification with the variable ab and a recursive call will be made from the tail of this list (as a normal recursive function).  This definition with a recursive call at the end will work well in all directions: for a recursive call we manage to accumulate all possible information about the arguments. <br><br>  However, in any slightly more complicated example, when there are several meaningful challenges, there is no one specific order for which everything will be fine.  The simplest example: expanding a list using concatenation.  We fix the first argument - this is the order we need, we fix the second - we need to swap calls.  Otherwise, it is searched for a long time and the search does not end. <br><br><pre> <code class="plaintext hljs">reverso x xr = (x === Nil &amp;&amp;&amp; xr == Nil) ||| (fresh (ht tr) (x === Cons (h, t)) (reverso t tr) (appendo tr (Cons (h, Nil)) xr))</code> </pre><br>  This happens because interleaving search processes the conjuncts consistently, and how to do it differently, without losing the acceptable efficiency, no one could think of it, although they tried.  Of course, all the solutions will someday be found, but with the wrong order, they will be searched for so unrealistically long that there is no practical sense in this. <br><br>  There are techniques for writing programs to avoid this problem.  But many of them require special skill and imagination to use, and the result is very large programs.  An example is the term size bounding technique and the definition of binary division with the remainder through multiplication with its help.  Instead of stupidly writing a mathematical definition <br><br><pre> <code class="plaintext hljs">divo nmqr = (fresh (mq) (multo mq mq) (pluso mq rn) (lto rm))</code> </pre><br>  I have to write a recursive definition for 20 lines + a large auxiliary function that cannot be read (I still do not understand what is being done there).  It can be found in Will Byrd‚Äôs <a href="https://github.com/webyrd/dissertation-single-spaced/blob/master/thesis.pdf">dissertation</a> in the Pure Binary Arithmetic section. <br><br>  In view of the foregoing, I want to come up with some sort of search modification so that simply and naturally written programs also work. <br><br><h3>  We optimize </h3><br>  We noticed that when everything is bad, the search will not be completed unless you explicitly indicate the number of answers and do not interrupt it.  Therefore, we decided to fight precisely with the incompleteness of the search - it is much easier to concretize than ‚Äúit takes a long time‚Äù.  In general, of course, I just want to speed up the search, but it is much more difficult to formalize, so we started with a less ambitious task. <br><br>  In most cases, when the search diverges, a situation occurs that is easy to track.  If some function is called recursively, and when we call the argument recursively, we have the same or less specific arguments, then in the recursive call another such subtask is generated again and endless recursion occurs.  Formally, it sounds like this: there is a substitution, applying it to the new arguments, we get the old ones.  For example, in the figure below, a recursive call is a generalization of the original: you can substitute <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>c</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.061ex" height="1.696ex" viewBox="0 -520.7 887.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-63" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-32" x="613" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>c</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> c_2 </script>  = [x, 3], <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.263ex" height="2.298ex" viewBox="0 -780.1 974.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/hsespb/blog/441114/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi0EkHzMguDH_y5_g93oIdOuP28ig#MJMAIN-32" x="736" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>d</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-20"> d_2 </script>  = x and get the original call. <br><br><img src="https://habrastorage.org/webt/kh/22/mk/kh22mkjyiwzn3as3manr6jftdrm.png"><br><br>  It can be traced that such a situation happens in the examples of divergence we have already encountered.  As I wrote earlier, when appendo is started in the opposite direction, a recursive call will be made with free variables instead of all variables, which, of course, is less specific than the original call, in which the third argument was fixed. <br><br>  If we run reverso with arguments x =?  and xr = [1, 2, 3], then it can be traced that the first recursive call will again occur with two free variables, so the new arguments can again be translated into previous ones in an obvious way. <br><br><pre> <code class="plaintext hljs">reverso x x_r  (* x = ?, x_r = [1, 2, 3] *) fresh (ht t_r) (x === Cons (h, t)) (* x_r = [1, 2, 3] = Cons 1 (Cons 2 (Cons 3 Nil))) x = Cons (h, t) *) (reverso t t_r) (* :   t=x, t_r=[1,2,3],    *)</code> </pre><br>  Using this criterion, we can detect the divergence in the process of program execution, understand that everything is bad with this order, and dynamically change it to another one.  Due to this, ideally, for each call just the necessary order will be selected. <br>  You can do this naively: if there is a divergence in the conjunct, then we hammer on all the answers that he has already found and postpone his execution for later, ‚Äúskipping ahead‚Äù the next conjunct.  Then, perhaps, when we will execute it further, more information will be known already and there will be no divergence.  In our examples, this will lead to exactly the desired swap of the conjuncts. <br><br>  There are less naive ways that allow, for example, not to lose the work already done, postponing execution.  Already with the most blunt variant of changing the order, the divergence disappeared in all simple examples suffering from conjunction noncommutativity, which we know, including: <br><br><ul><li>  sorting the list of numbers (it is the generation of all permutations of the list), <br></li><li>  Peano arithmetic and binary arithmetic, <br></li><li>  generation of binary trees of a given size. <br></li></ul><br>  This turned out to be an unexpected surprise for us.  In addition to divergence, optimization also struggles with the inhibition of programs.  The diagrams below show the execution time of programs with two different orders in conjunctions (relatively speaking, one very good and one of many bad ones).  It was launched on a computer with an Intel Core i7 CPU M 620, 2.67GHz x 4, 8GB RAM configuration with Ubuntu 16.04 operating system. <br><br>  When the <b>order is optimal</b> (we pick it up with our hands), optimization slows down the execution a bit, but is not critical <br><img src="https://habrastorage.org/webt/3a/si/4z/3asi4zevbggj_7hmjk6j2lilk0u.png"><br><br>  But when the <b>order is not optimal</b> (for example, suitable only for launching in the other direction), with optimization it turns out much faster.  Crosses mean that we just could not wait for the end, it works much longer <br><img src="https://habrastorage.org/webt/yw/-_/sn/yw-_snesnrnadqet8zmgbbpk3la.png"><br><br><h3>  How to break nothing </h3><br>  All this was based purely on intuition and we wanted to prove it strictly.  The theory is all the same. <br><br>  In order to prove something, we need the formal semantics of the language.  We described the operational semantics for miniKanren.  This is a simplified and mathematical version of the real implementation of the language.  It uses a very limited (therefore, easy to use) version in which you can specify only the terminating execution of programs (the search must be finite).  But for our purposes, this is exactly what is needed. <br><br>  To prove the criterion, a lemma is first formulated: the execution of a program from a more general state will work longer.  Formally: the output tree in semantics has a great height.  This is proved by induction, but we must very carefully generalize the statement, otherwise the inductive hypothesis will not be strong enough.  It follows from this lemma that if during the execution of the program the criterion worked, then the output tree has its own subtree greater or equal in height.  This is a contradiction, since for inductively defined semantics all trees are finite.  This means that in our semantics the execution of this program is inexpressible, which means that the search in it does not end. <br><br>  The proposed method is conservative: we change something only when we are convinced that everything is already very bad and impossible to do, therefore we do not break anything in terms of the completeness of the programs. <br><br>  The main evidence contains quite a lot of details, so we had the desire to formally verify it by writing to <a href="https://ru.wikipedia.org/wiki/Coq">Coq</a> .  However, it turned out to be quite difficult technically, so we cooled our ardor and seriously engaged in automatic verification only in the magistracy. <br><br><h3>  Publication </h3><br>  In the middle of the paper, we presented this study at the <a href="https://icfp17.sigplan.org/track/icfp-2017-Student-Research-Competition">ICFP-2017</a> poster session <a href="https://icfp17.sigplan.org/track/icfp-2017-Student-Research-Competition">at the Student Research Competition</a> .  There we met the creators of the language, Will Byrd and Daniel Friedman, and they said it was meaningful and we need to look at it in more detail.  By the way, Will is generally friends with our laboratory at JetBrains Research.  All miniKanren research began with us when, in 2015, Will held a <a href="https://research.jetbrains.org/groups/plt_lab/schools%3Fid%3D6">summer school</a> on relational programming in St. Petersburg. <br><br>  A year later, we brought our work to a more or less complete form and presented <a href="https://dl.acm.org/citation.cfm%3Fid%3D3236958">an article</a> at the Conference Principles and Practice of Declarative Programming 2018. <br><br><h2>  What i do in master </h2><br>  We wanted to continue to engage in formal semantics for miniKanren and rigorous evidence of all its properties.  In the literature, usually properties (often far from obvious) are simply postulated and demonstrated by examples, but no one proves anything.  For example, the <a href="https://mitpress.mit.edu/books/reasoned-schemer-second-edition">main book</a> on relational programming is a list of questions and answers, each of which is devoted to a particular piece of code.  Even for the statement about the completeness of interleaving search (and this is one of the most important advantages of miniKanren over a standard Prolog), it is impossible to find a rigorous formulation.  We cannot live like this, we decided, and, having received a blessing from Will, set to work. <br><br>  Let me remind you that the semantics developed by us at the previous stage had a significant limitation: only programs with a finite search were described.  In miniKanren, incomplete programs are also of interest, because they can list an infinite number of answers.  Therefore, we needed steeper semantics. <br><br>  There are many different standard ways of defining the semantics of a programming language; we only needed to choose one of them and adapt it to a specific case.  We described the semantics as a labeled transition system ‚Äî a set of possible states in the search process and transitions between these states, some of which are marked with, which means that at this stage of the search there was another answer.  The execution of a particular program is thus determined by the sequence of such transitions.  These sequences can be finite (coming to a terminal state) or infinite, describing simultaneously terminating and incomplete programs.  In order to strictly mathematically set such an object, you need to use a co-inductive definition. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The semantics described above is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operational</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - it reflects the real implementation of the search. In addition to it, we also use </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">denotational</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> semantics, which compares some mathematical objects in a natural way to programs and language constructs (for example, relations in a program are treated as relations on a set of terms, conjunction is the intersection of relations, etc.). The standard way to set such semantics is known as the smallest Herbrand model, and for miniKanren, this has already been done before (also in our laboratory).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After this, the completeness of the search in the language, and at the same time the correctness, can be formulated as the equivalence of these two semantics - the coincidence of the sets of answers for a particular program in them. We managed to prove it. It is interesting (and a little sad) that we did without co-induction, using several nested inductions with different parameters. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a consequence, we also get the correctness of some useful language transformations (in terms of the set of solutions obtained): if the transformation obviously does not change the corresponding mathematical object, for example, reordering conjuncts or using distributivity of conjunction or disjunction, then the search results do not change.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we want to use semantics for evidence of other useful properties of the language, for example, criteria for completeness / divergence or correctness of additional language constructs. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We also took a more detailed and rigorous description of our formalization with the help of Coq. </font><font style="vertical-align: inherit;">Having overcome many different difficulties and invested a lot of strength, we were able at the moment to define the operational semantics of the language and to carry out several proofs that on a piece of paper were ‚ÄúObvious. </font><font style="vertical-align: inherit;">Qed. </font><font style="vertical-align: inherit;">We do not lose faith in ourselves.</font></font></div><p>Source: <a href="https://habr.com/ru/post/441114/">https://habr.com/ru/post/441114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../435976/index.html">WebAssembly in production and ‚Äúminefield‚Äù Smart TV: interview with Andrei Nagikh</a></li>
<li><a href="../436276/index.html">Three-dimensional visualization in simulators of rolling stock based on the OpenSceneGraph engine</a></li>
<li><a href="../436374/index.html">Trends in the design of UI and UX 2019</a></li>
<li><a href="../437996/index.html">SITIS CTF: how a seal helped CTF win</a></li>
<li><a href="../440462/index.html">Top 7 content marketing strategies not to be missed in 2019</a></li>
<li><a href="../441116/index.html">KubeSail and its free Kubernetes-cluster for developers</a></li>
<li><a href="../441118/index.html">The results of the experiment with a four-day working week for office workers in New Zealand</a></li>
<li><a href="../441126/index.html">False positives in PVS-Studio: how deep is the rabbit hole</a></li>
<li><a href="../441128/index.html">The right choice: a practical study of the cognitive abilities of great apes</a></li>
<li><a href="../441130/index.html">Balanced site indicators. Part 1: Strategy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>