<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Amazon EC2 vs Atlex Cloud VDC: Performance Comparison</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Everyone heard about AWS. We can say that the Amazon cloud has managed to become a kind of industry standard. We are no exception. And so they decided...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Amazon EC2 vs Atlex Cloud VDC: Performance Comparison</h1><div class="post__text post__text-html js-mediator-article">  Everyone heard about AWS.  We can say that the Amazon cloud has managed to become a kind of industry standard.  We are no exception.  And so they decided to check how a virtual machine in our cloud based on OpenStack looks compared to an AWS machine that is similar in functionality. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e0a/ddd/614/e0addd614a8652cf299278dadf4cf0a9.jpg"><br><br>  Details under the cut. <br><a name="habracut"></a><br>  Cloud "instansy" differ from traditional VPS by the absence of the need to pay a monthly fee immediately after a month.  Such a virtual machine works just like a taxi - the counter ticks as it travels.  You will have to pay some amount for simple, because even the machine that is turned off uses storage capacities.  It is much cheaper and more convenient to pay for actually consumed computing resources if there is no constant need for them.  Developers and testers can save a lot of money, and even the owners of the corporate IT infrastructure can shut down unnecessary servers, say, during non-working hours or upon completion of a project.  In the cloud, you can quickly increase resources (add a processor or another, increase the amount of RAM), if the load has increased, or discard excess when the need for them disappears.  Solid benefits: it does not need to buy hardware and licenses for the operating system.  The server goes up in a couple of minutes via the web interface and is paid for what is called on-demand. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  General issues </h2><br>  Amazon has become a pioneer in this market with its Amazon Web Services (AWS).  Then came the Microsoft Corporation with the Azure platform and the Google Cloud Platform already appeared - this trio grabbed a significant part of the market, but Amazon Elastic Compute Cloud (Amazon EC2) has long been synonymous with scalable computing resources in the cloud.  In addition to the three giants, a lot of domestic and foreign companies have similar offers.  Therefore, it was a natural desire for us to compare our four-processor configuration with the EC2 proposal. <br><br>  It should be noted that the Russian services have several undeniable advantages.  Their prices are not tied to hard currency, you will not lose access to your data in the event of another round of sanctions war, and most importantly, our companies use a prepaid payment plan, although legal entities can also pay monthly bills.  Major Western providers, even with individuals, work on a postpaid basis and require a bank card to be linked to an account.  If any villain hijacks your account, serious debts may arise, such <a href="https://geektimes.ru/post/247794/">precedents have already been</a> . <br><br>  The registration process itself, for example, in AWS is also quite complicated - the practice of collecting debt from individuals in Russia does not work well in practice, so your account will most likely be immediately blocked, ostensibly due to problems with the payment method (this does not interfere with $ 1 ).  Then you will have to contact support and send a bunch of additional information to the provider (paid utility bills, etc.). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/50f/26f/4f0/50f26f4f0a1ad7c81f7006c643c5e081.jpg"><br><br>  To allocate quotas for resources in each data center, Amazon will also have to create a support request and wait about a day.  If your support is paid, the speed of the request may increase, but we did not check this point.  Basic free plan allows you only to request limits and solve billing related issues: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6cc/5aa/547/6cc5aa5471b18570ca65e7f219ccf2e6.jpg"><br><br><h2>  Tests </h2><br>  Virtual machine configurations: <br>  Atlex (Czech Republic, Prague): <br><ul><li>  4 Intel Xeon E5-2620v4 vCPUs (Broadwell U / ULT) with a clock frequency of 2.1 GHz; <br></li><li>  8 GB of RAM; <br></li><li>  100 GB SSD drive; <br></li><li>  Microsoft Windows Server 2012 R2 Standard; <br></li><li>  OpenStack (KVM). <br></li></ul><br><br>  Amazon EC2 (instance type: t2.xlarge; data center: US East (Ohio), us-east-2b): <br><ul><li>  4 Intel Broadwell E5-2686v4 vCPUs with a clock frequency of 2.3 GHz <br></li><li>  16 GB of RAM; <br></li><li>  100 GB SSD drive; <br></li><li>  Microsoft Windows Server 2012 R2 Standart; <br></li><li>  Xen HVM DomU. <br></li></ul><br><br>  The configurations are not completely identical, but in Amazon EC2, instances can only be created from ready-made templates, and we could not find closer options with four vCPUs.  Since we did not use 8 GB of RAM in the testing process, the difference in the amount of RAM did not affect the result.  Amazon has data centers in Europe, but since we mainly check the computing power and performance of the disk subsystem, the location of the virtual server is also not critical. <br><br><h3>  Ping </h3><br>  First, we check the availability of both virtual machines from the Russian-speaking segment of the global network - for the purity of the experiment, we will check from another virtual server running in external to both experimental St. Petersburg data centers.  With the help of the ping utility, we will look at the response time of hosts at a message size of 64 bytes and 1 kilobyte (we send 100 packets).  The response time of the Atlex virtual machine was 48.328 milliseconds and 48.436 milliseconds, respectively; no packets were harmed during transmission (0% loss).  For the machine Amazon EC2 in the data center of Ohio - 126,748 and 126,846.  For the purity of the experiment, we created another machine in the Amazon data center in Frankfurt, and there the response time was 46.005 and 46.1 milliseconds.  That is, we have almost the same indicators in the Czech Republic and in AWS in Germany. <br><br><h3>  Geekbench 4 </h3><br>  The popular package conducts more than two dozen tests, divided into several categories: Cryptography, Integer, Floating Point, Memory.  Compression operations, work with JPEG, parsing HTML, SQLite are used.  This is one of the most comprehensive tests for Windows, although it does not cover the disk subsystem (for this, we used CristalDiskMark).  There were no surprises with our virtual machine, the test showed the expected performance: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/40e/6f0/3fb/40e6f03fbf7f83f6c9a4605866a74ff3.jpg"><br><br><img src="https://habrastorage.org/webt/so/kn/2z/sokn2z0qk9yytak_nmcg4p-j27a.png"><br><br><img src="https://habrastorage.org/webt/7o/6l/zr/7o6lzrdhnvo1carnu9tgqdfjjc8.png"><br><br>  With the Amazon EC2 virtual machine, everything turned out to be much more interesting.  The properties of this type of instances indicate a Broadwell processor, but GeekBench persistently showed us Haswell: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ff/450/778/7ff4507783761e84453eac3b2136b019.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/549/d17/945/549d1794509538a1564c56503f260699.jpg"><br><br>  They differ only in technical process.  Therefore, for us, as third-party customers, the difference in the end is not fundamental. <br><br><img src="https://habrastorage.org/webt/uj/d8/a_/ujd8a_6uwrz8pctlcymp974t8ae.png"><br><br><img src="https://habrastorage.org/webt/so/lb/xy/solbxyrpdnwkt4tg-adzxkjeadi.png"><br><br>  Unfortunately, we did not manage to pick up a complete analog among the four-processor configurations of the Amazon EC2 instances, but the machines turned out to be quite close.  Including the results. <br><br><h3>  CrystalDiskMark 6 </h3><br>  This popular benchmark performs sequential and random write / read tests with a queue depth of 1, 8, and 32. The screenshots speak for themselves ‚Äî despite the use of solid-state drives in the storage of both configurations, the disk subsystem of our virtual machine is much faster.  In fact, the threshold is even higher, and the test program could not reach it, while there is load balancing - different clients will not interfere with each other: <br><br><img src="https://habrastorage.org/webt/yg/6g/0m/yg6g0mywywu2mvzciifwfonmwec.png"><br><br>  General Purpose SSD from Amazon EC2 showed at times more modest results: <br><br><img src="https://habrastorage.org/webt/cx/hu/ns/cxhunsp0oirah5qpvc1tv40alcq.png"><br><br><h3>  Tests with Microsoft SQL </h3><br>  To assess the performance of Microsoft SQL Server 2017, we used the <a href="http://www.tpc.org/tpch/">TPC-H test</a> , which is considered one of the industry standards - it is actively used by the DBMS developers themselves.  The test is a set of business-oriented flexible queries and data modification performed in parallel.  It illustrates the work of decision support systems that analyze large amounts of data, fulfill queries of a high degree of complexity, and provide answers to critical business questions.  We didn‚Äôt observe all the TPC-H specifications completely, because it‚Äôs too complicated - there are more than one and a half hundred pages of fine text in pdf.  To simplify the testing process, we downloaded the free version of the <a href="https://www.toadworld.com/m/freeware/555">Benchmark Factory for Databases</a> program.  TPC-H assumes the generation of eight tables using a given scale factor.  In our case, it is equal to 1, and the base volume was 1.54 GB (1.18 GB occupied the tables and 364.96 MB ‚Äî indices). <br><br>  The test consists of 22 SQL queries of varying degrees of complexity that perform four virtual users three times in a circle (a total of 264 SQL queries).  A pleasant surprise in the latest version of Benchmark Factory for Databases was the ability to generate test data and load them into the database.  Previously, you had to download the dbgen utility source files from the TPC and build them under Windows in Visual Studio.  In this test, too, everything went without surprises. <br><br>  Atlex cloud server: <br><br><table><tbody><tr><td>  Transactions per second <br></td><td>  Average response time (s) <br></td><td>  Average Transaction Time <br></td><td>  Number of transactions <br></td><td>  Test run time <br></td><td>  Total rows <br></td></tr><tr><td>  1,313 <br></td><td>  3,030 <br></td><td>  3.040 <br></td><td>  264 <br></td><td>  3 minutes 27 seconds <br></td><td>  11616 <br></td></tr></tbody></table><br><br><img src="https://habrastorage.org/getpro/habr/post_images/497/965/2f3/4979652f3290f9843d614c4a2da0a400.jpg"><br><br>  Amazon EC2 Cloud Server: <br><br><table><tbody><tr><td>  Transactions per second <br></td><td>  Average response time (s) <br></td><td>  Average Transaction Time <br></td><td>  Number of transactions <br></td><td>  Test run time <br></td><td>  Total rows <br></td></tr><tr><td>  1,542 <br></td><td>  2,586 <br></td><td>  2,591 <br></td><td>  264 <br></td><td>  2 minutes 57 seconds <br></td><td>  11532 <br></td></tr></tbody></table><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6b/d66/ca4/e6bd66ca43e5ecf7e6ac1b0606a50f0e.jpg"><br>  Do not be surprised at the discrepancy between the total test run time and the average response time multiplied by the number of requests: four users execute requests at the same time, so this is quite natural. <br><br><h2>  Price tag </h2><br>  Amazon EC2 price list can be found <a href="https://aws.amazon.com/ru/ec2/pricing/">here</a> .  Pricing can be quite different depending on the type of cloud virtual server - for short-term testing, we used <a href="https://aws.amazon.com/ru/ec2/pricing/on-demand/">on-demand instances</a> , but there are other options if you are ready, for example, to reserve resources for a year right away or to dispose of free computing resources on Amazon EC2.  A virtual cloud server t2.xlarge with Windows will cost the user $ 0.2266 per hour of work + tax (all prices in the price list do not include taxes and fees).  If the machine is working for a month (~ 720 hours), the user will pay about $ 163.15 without tax - the exact amount can not be calculated, because in months a different number of days.  The usage fee for EC2 instances is charged in one second increments, and the minimum usage period is 60 seconds.  Similarly, charges for dedicated storage for EBS SSD (gp2) volumes will be charged on a per-second basis with a minimum usage period of 60 seconds.  1 GB of storage in a data center in Ohio costs $ 0.10 per month ($ 10 without tax per 100 GB), but there is also a payment scheme with dedicated IOPS. <br>  Our virtual server will cost the customer 4208 rubles per month of work, or approximately 5.56 rubles (around $ 0.1) per hour.  The tests were based on the standard Intel Xeon E5-2620v4 processor, but we recently added new processors with higher performance (3.8 GHz clock speed) for databases. <br><br><h2>  Results and conclusions </h2><br>  Both cars showed very close results.  Despite the fact that the Amazon EC2 instance has the results of computational tests, it was formally slightly better, we go around them several times in disk operations.  The main conclusion is obvious: although our service cannot with the world's largest cloud providers in terms of the number of services offered to customers, it is quite competitive in quality in its narrow niche.  Well, for the price we go around them more than doubled. </div><p>Source: <a href="https://habr.com/ru/post/345704/">https://habr.com/ru/post/345704/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345694/index.html">My experience is to get into IT in comparison with a tambovka taxi driver</a></li>
<li><a href="../345696/index.html">Do you want a 6.5 deposit? Calculation of the rate of return on shares and full return using the Moex API and the dividend parser</a></li>
<li><a href="../345698/index.html">We turn speakers into speakers on the example of HighLoad ++</a></li>
<li><a href="../345700/index.html">Mobile retargeting - the main tool for promoting mobile applications in 2018</a></li>
<li><a href="../345702/index.html">The story of the emergence of financial accounting in my life</a></li>
<li><a href="../345706/index.html">Distributed backends for 2GIS video advertising on .NET Core and Kubernetes</a></li>
<li><a href="../345708/index.html">Cross-platform New Year's demo on .NET Core and Avalonia</a></li>
<li><a href="../345710/index.html">Unity newbie bugs tested in their own skin</a></li>
<li><a href="../345712/index.html">New to the New Year: a review of Veeam Backup & Replication 9.5 Update 3</a></li>
<li><a href="../345714/index.html">Mathematical models of relay-pulse regulators</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>