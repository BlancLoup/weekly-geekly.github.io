<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configure tv tuner Beholder 609 on linux Mint 13</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I hope that this article will help someone save time on customization. The article is designed for beginners, but I hope experienced users will find s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configure tv tuner Beholder 609 on linux Mint 13</h1><div class="post__text post__text-html js-mediator-article">  I hope that this article will help someone save time on customization.  The article is designed for beginners, but I hope experienced users will find something useful.  All actions were performed in linux mint, but I believe that everything will work on Ububntu and on other debian-like distributions. <br><img src="https://habrastorage.org/storage2/b8f/4db/226/b8f4db226d35e5b144e62b7b3d9c7cbb.jpg"><br>  <i>Picture to attract attention.</i>  <i>In the photo, the Aver 307 tuner is roughly and ruthlessly converted by me many years ago into Behold 407.</i> <i><a name="habracut"></a></i> <br><habracut><br>  So let's get started. <br><br><h4>  Initial setup </h4><br>  The TV tuner is installed, an antenna is inserted in it, an infrared sensor cord and an audio cable, the second end of which is in the audio card's line-in port.  For viewing we will use the tvtime program. <br><pre><code class="bash hljs">sudo apt-get install tvtime</code> </pre> <br>  When installing, you will be asked for the broadcast standard and the frequency grid option.  The standard for Russia is SECAM, and the frequency grid is <s>Mozambique</s> Russia. <br>  During installation, a .tvtime directory is created in the user‚Äôs directory and is not accessible by the user.  Therefore: <br><pre> <code class="bash hljs">sudo chmod 7 ~/.tvtime/</code> </pre><br>  You can run. <br><pre> <code class="bash hljs">tvtime</code> </pre><br>  The files tvtime.xml and stationlist.xml will be created in ~ / .tvtime. <br>  If you saw the image from the TV and heard the sound, you are incredibly lucky.  You can proceed to the next item. <br>  If you see the image not from the tuner, but, for example, from a Web camera, add to the tvtime.xml file <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"V4LDevice"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/dev/video1/&gt;</span></span></span></span></code> </pre><br>  and try to pick up the device number. <br>  If you do not hear the sound (99% the way it is).  Run <br><pre> <code class="bash hljs">alsamixer</code> </pre><br>  and turn up the volume on the line.  If MM is under the slider, the line is disabled.  Turn on - press the "M". <br><img src="https://habrastorage.org/storage2/3b3/f5e/1fa/3b3f5e1fafa2b6df95bea56a5e6913ff.png"><br>  The sound should appear.  If not, then it depends on the specific model of the sound card.  Check from which channel the card takes Line-In (I have the Line-In and Rear Out variants).  There may be other exotic chips associated with your equipment model.  For example, integrated audio Via vt1828s has a parameter - loopback.  So when he Enebled the sound from the TV tuner is on, but no sounds work any more (silent movies, and inaudible music).  When disabled, the opposite is true. <br><br>  We coped with the sound and to finally close the topic, add a line to tvtime.xml <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MixerDevice"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hw:0/Master"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  She tells the program which channel to steer the volume.  You can specify Line, and indeed any channel according to your taste.  For channel names, see alsamixer.  The case of letters matters. <br>  You can add options to mute sound when exiting and on top of all windows. <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MuteOnExit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlwaysOnTop"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br><h4>  Channel Setup </h4><br>  Run: <br><pre> <code class="bash hljs">tvtime-scanner -d /dev/video1 -n SECAM</code> </pre><br>  Replace / dev / video1 with your device.  If you use the services of a cable provider, then it can broadcast programs in the PAL standard.  Nothing wrong with that.  The channel will be found anyway.  You can change the encoding for a specific channel later in the stationlist.xml file. <br>  After scanning the channels, open the stationlist.xml, delete the extra channels, add if something was not found (but this is unlikely). <br>  This is the line with the channel. <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">station</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">active</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">band</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"VHF Russia"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">channel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"R1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">finetune</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">norm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SECAM"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">audio</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  <b>name</b> - the name of the channel that will be displayed on the screen when switching.  If the channel names are not only English letters, add xml to the ad <pre> <code class="xml hljs"> encoding="UTF-8"</code> </pre> <br>  Otherwise, after running tvtime, the letters are converted to Unicode codes. <br>  <b>active</b> - if 0, then it will be skipped when scrolling through channels <br>  <b>position</b> - on which button the channel will sit. <br>  The remaining parameters do not need to be changed manually. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  TV program </h4><br>  The biggest advantage of a computer tuner compared to a regular TV is the ability to display the program guide on the screen.  We switch the channel and see the advertisement, but we know <b>WHAT</b> will be right after it and <s>make the sound louder,</s> rather we flip further. <br><br><img src="https://habrastorage.org/storage2/1eb/4d6/ddb/1eb4d6ddbf47d40aa648bfe132a34236.png"><br>  Tvtime can work with xmltv files and we will use this. <br>  In tvtime.xml add. <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"XMLTVFile"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~/.tvtime/xmltv.xml"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"XMLTVLanguage"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  Download and unpack the program. <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/.tvtime wget http://www.teleguide.info/download/new3/xmltv.xml.gz gzip -f -d xmltv.xml.gz &gt; xmltv.xml</code> </pre><br>  Now you need to link the channels from xmltv.xml and stationlist.xml.  Each channel in xmltv.xml has an id.  We assign it to the xmltvid attribute in the stationlist.xml file like this: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">station</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmltvid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">active</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">band</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"VHF Russia"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">channel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"R1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">finetune</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">norm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SECAM"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">audio</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  That's all.  Now you can turn on the TV and enjoy the program guide on the screen.  True, if you do not live in the <s>Default city, the</s> capital of our country, Moscow, then your joy will most likely be incomplete.  Since the time of the actual broadcast will not coincide with the time in the program guide.  And for different channels, the deviation in time will be different. <br>  Fix this: <br><pre> <code class="bash hljs">sed -i <span class="hljs-string"><span class="hljs-string">'/channel="1"/s/+0400/+0600/g'</span></span> xmltv.xml <span class="hljs-comment"><span class="hljs-comment">#  : +2 </span></span></code> </pre><br>  Initially, the xmltv.xml file contains a time zone of +4 hours (apparently from Greenwich), and we will do +6 hours.  You need to execute a similar command for each channel. <br><br><h4>  Remote control </h4><br>  The most difficult and most time-consuming stage. <br>  There are two ways to work with the remote control: <br>  1. Via lirc, <br>  2. As with the optional keyboard. <br>  We will go the second way.  Partially the remote should already work.  There are digital keys and volume buttons.  The remaining buttons are not. <br>  The fact is that the console has already been defined by the system as a keyboard.  Correspondence between scancodes and keycode keyboard is set at the kernel level. <br>  The order of conversion of values ‚Äã‚Äãis as follows (I describe as I myself understood in amateurish language, corrections and clarifications are welcome): <br>  1. The driver translates the scancode (physical signal) of the button into single-byte or multibyte keycode (key code) and sends it to ‚Äúinterested parties‚Äù. <br>  2. The interested party, in our case, is the X server, which, depending on the model of the keyboard, determines how to interpret the received keycode.  Those.  Even the same code, but the server received from different models of devices X can be interpreted differently.  This does not usually apply to alphanumeric characters and basic (such as arrows and enter) buttons.  But the multimedia buttons that interest us are very much concerned. <br>  There is another problem.  The X server is capable of receiving only single-byte keycodes, and some buttons at the beholder console have a longer code.  We will fix it.  Install utilities: <br><pre> <code class="bash hljs">sudo apt-get install ir-keytable input-utils</code> </pre><br>  Read the current code table for the console: <br><pre> <code class="bash hljs">sudo ir-keytable -r -d /dev/input/event`cat /proc/bus/input/devices | grep -3 <span class="hljs-string"><span class="hljs-string">"i2c-.*/.*/ir0"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"H:"</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ sub(/event/, "", $3); print $3}'</span></span>` &gt;/etc/rc_keymaps/behold-key</code> </pre><br>  <i>Explanation for newbies.</i>  <i>In fact, everything is not so scary.</i>  <i>This line can be replaced by</i> <br><pre> <code class="bash hljs">sudo ir-keytable -r -d /dev/input/event5 &gt; /etc/rc_keymaps/behold-key</code> </pre><br>  <i>and it will work just as well.</i>  <i>You just need to know what kind of event your console is listed in the system.</i>  <i>The rest of the scary line is just a calculation of the number.</i>  <i>This command can read the code table of any keyboard connected to the computer.</i> <br><br>  A file / etc / rc_keymaps / behold-key appears with the current layout.  It looks like this: <br><pre> <code class="bash hljs">scancode 0x6b8600 = KEY_0 (0x0b) scancode 0x6b8601 = KEY_1 (0x02) scancode 0x6b8602 = KEY_2 (0x03) scancode 0x6b8603 = KEY_3 (0x04) scancode 0x6b8604 = KEY_4 (0x05) scancode 0x6b8605 = KEY_5 (0x06) scancode 0x6b8606 = KEY_6 (0x07) scancode 0x6b8607 = KEY_7 (0x08) scancode 0x6b8608 = KEY_8 (0x09) scancode 0x6b8609 = KEY_9 (0x0a) scancode 0x6b860a = KEY_AGAIN (0x81) scancode 0x6b860b = KEY_CHANNELUP (0x192) scancode 0x6b860c = KEY_VOLUMEUP (0x73) scancode 0x6b860d = KEY_INFO (0x166) scancode 0x6b860e = KEY_TEXT (0x184) scancode 0x6b860f = KEY_RECORD (0xa7) scancode 0x6b8610 = KEY_ZOOM (0x174) scancode 0x6b8611 = KEY_MUTE (0x71) scancode 0x6b8612 = KEY_POWER (0x74) scancode 0x6b8613 = KEY_GREEN (0x18f) scancode 0x6b8614 = KEY_SCREEN (0x177) scancode 0x6b8615 = KEY_CHANNELDOWN (0x193) scancode 0x6b8616 = KEY_OK (0x160) scancode 0x6b8617 = KEY_MODE (0x175) scancode 0x6b8618 = KEY_VOLUMEDOWN (0x72) scancode 0x6b8619 = KEY_BLUE (0x191) scancode 0x6b861a = KEY_STOP (0x80) scancode 0x6b861b = KEY_PLAYPAUSE (0xa4) scancode 0x6b861c = KEY_TUNER (0x182) scancode 0x6b861d = KEY_SLEEP (0x8e) scancode 0x6b861e = KEY_VIDEO (0x189) scancode 0x6b861f = KEY_RED (0x18e) scancode 0x6b8658 = KEY_SLOW (0x199) scancode 0x6b865c = KEY_CAMERA (0xd4)</code> </pre><br>  We edit this file so that there are no multibyte codes and codes that the X server does not understand: <br><pre> <code class="bash hljs">gksudo gedit /etc/rc_keymaps/behold-key</code> </pre><br>  Write back: <br><pre> <code class="bash hljs">ir-keytable -c -w /etc/rc_keymaps/behold-key -d /dev/input/event`cat /proc/bus/input/devices | grep -3 <span class="hljs-string"><span class="hljs-string">"i2c-.*/.*/ir0"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"H:"</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ sub(/event/, "", $3); print $3}'</span></span>`</code> </pre><br>  We receive before reboot the console with a new code table.  After rebooting everything will be as before.  I do not know how to make the result remain forever, so the last command added the /etc/rc.local file to the autoload. <br>  I give my edited behold-key file as an example: <br><pre> <code class="bash hljs">scancode 0x6b861c = KEY_PROG1 (0x94) scancode 0x6b8612 = KEY_CLOSE (0xce) scancode 0x6b8600 = KEY_0 (0x0b) scancode 0x6b8601 = KEY_1 (0x02) scancode 0x6b8602 = KEY_2 (0x03) scancode 0x6b8603 = KEY_3 (0x04) scancode 0x6b8604 = KEY_4 (0x05) scancode 0x6b8605 = KEY_5 (0x06) scancode 0x6b8606 = KEY_6 (0x07) scancode 0x6b8607 = KEY_7 (0x08) scancode 0x6b8608 = KEY_8 (0x09) scancode 0x6b8609 = KEY_9 (0x0a) scancode 0x6b860a = KEY_PROG2 (0x95) scancode 0x6b8614 = KEY_PROG3 (0xca) scancode 0x6b8617 = KEY_SWITCHVIDEOMODE (0xe3) scancode 0x6b8610 = KEY_F11 (0x57) scancode 0x6b860b = KEY_UP (0x67) scancode 0x6b8615 = KEY_DOWN (0x6c) scancode 0x6b860c = KEY_RIGHT (0x6a) scancode 0x6b8618 = KEY_LEFT (0x69) scancode 0x6b8616 = KEY_ENTER (0x1c) scancode 0x6b8611 = KEY_MUTE (0x71) scancode 0x6b860d = KEY_KPEQUAL (0x75) scancode 0x6b860f = KEY_RECORD (0xa7) scancode 0x6b861b = KEY_PLAYPAUSE (0xa4) scancode 0x6b861a = KEY_STOPCD (0xa6) scancode 0x6b860e = KEY_PAUSECD (0xc9) scancode 0x6b861f = KEY_PREVIOUSSONG (0xa5) scancode 0x6b861e = KEY_NEXTSONG (0xa3) scancode 0x6b861d = KEY_MEDIA (0xe2) scancode 0x6b8613 = KEY_VOLUMEDOWN (0x72) scancode 0x6b8619 = KEY_VOLUMEUP (0x73) scancode 0x6b865c = KEY_CAMERA (0xd4) scancode 0x6b8658 = KEY_SPORT (0xdc)</code> </pre><br>  Here are some codes that are normally taken by the X server (data obtained by the severe brute force method).  I draw your attention that <b>this is how codes are perceived from the remote beholder</b> .  From other keyboards, the code 0x94 may not be identified at all as KEY_PROG1. <br><pre> <code class="bash hljs">KEY_CLOSE (0xce) KEY_EXIT (0xae) KEY_PROG1 (0x94) KEY_PROG2 (0x95) KEY_PROG3 (0xca) KEY_PROG4 (0xcb) KEY_POWER (0x74) KEY_VOLUMEDOWN (0x72) KEY_VOLUMEUP (0x73) KEY_NEXTSONG (0xa3) KEY_PLAYPAUSE (0xa4) KEY_PREVIOUSSONG (0xa5) KEY_STOPCD (0xa6) KEY_RECORD (0xa7) KEY_PLAYCD (0xc8) KEY_PAUSECD (0xc9) KEY_PLAY (0xcf) KEY_FASTFORWARD (0xd0) KEY_BASSBOOST (0xd1) KEY_CAMERA (0xd4) KEY_SOUND (0xd5) KEY_FINANCE (0xdb) KEY_SPORT (0xdc) KEY_SHOP (0xdd) KEY_ALTERASE (0xde) KEY_MEDIA (0xe2) KEY_VIDEO_NEXT (0xf1) KEY_VIDEO_PREV (0xf2) KEY_LINEFEED (0x65) KEY_MACRO (0x70) KEY_MIN_INTERESTING (0x71) KEY_KPEQUAL (0x75) KEY_KPPLUSMINUS (0x76) KEY_PAUSE (0x77) KEY_KPCOMMA (0x79) KEY_HANJA (0x7b) KEY_YEN (0x7c) KEY_STOP (0x80) KEY_AGAIN (0x81) KEY_PROPS (0x82) KEY_UNDO (0x83) KEY_FRONT (0x84) KEY_COPY (0x85) KEY_OPEN (0x86) KEY_PASTE (0x87) KEY_CUT (0x89) KEY_FIND (0x88) KEY_MENU (0x8b) KEY_CALC (0x8c) KEY_SETUP (0x8d) KEY_WAKEUP (0x8f) KEY_FILE (0x90) KEY_SENDFILE (0x91) KEY_DELETEFILE (0x92) KEY_XFER (0x93) KEY_WWW (0x96) KEY_MSDOS (0x97) KEY_DIRECTION (0x99) KEY_CYCLEWINDOWS (0x9a) KEY_MAIL (0x9b) KEY_BOOKMARKS (0x9c) KEY_COMPUTER (0x9d) KEY_BACK (0x9e) KEY_FORWARD (0x9f) KEY_CLOSECD (0xa0) KEY_EJECTCD (0xa1) KEY_EJECTCLOSECD (0xa2) KEY_REWIND (0xa8) KEY_PHONE (0xa9) KEY_ISO (0xaa) KEY_CONFIG (0xab) KEY_REFRESH (0xad) KEY_EDIT (0xb0) KEY_SCROLLUP (0xb1) KEY_SCROLLDOWN (0xb2) KEY_NEW (0xb5) KEY_REDO (0xb6) KEY_HOMEPAGE (0xac)111 KEY_DASHBOARD (0xcc) KEY_HP (0xd3) KEY_QUESTION (0xd6) KEY_EMAIL (0xd7) KEY_CHAT (0xd8) KEY_CONNECT (0xda) KEY_SEARCH (0xd9) KEY_CANCEL (0xdf) KEY_BRIGHTNESSDOWN (0xe0) KEY_BRIGHTNESSUP (0xe1) KEY_SWITCHVIDEOMODE (0xe3) KEY_KBDILLUMTOGGLE (0xe4) KEY_KBDILLUMDOWN (0xe5) KEY_KBDILLUMUP (0xe6) KEY_SEND (0xe7) KEY_REPLY (0xe8) KEY_FORWARDMAIL (0xe9) KEY_SAVE (0xea) KEY_DOCUMENTS (0xeb) KEY_WLAN (0xee) KEY_UWB (0xef) KEY_BRIGHTNESS_CYCLE (0xf3) KEY_BRIGHTNESS_ZERO (0xf4) KEY_DISPLAY_OFF (0xf5) KEY_WIMAX (0xf6) KEY_RFKILL (0xf7)</code> </pre><br>  When working on setting up the remote control buttons, it is convenient to use the following monitoring method.  Run <br><pre> <code class="bash hljs">sudo input-events -t60 5</code> </pre><br>  Where 60 is the wait time for pressing in seconds, 5 is the number of the keyboard in the system.  And press the buttons on the remote. <br>  Extradition has approximately the following form. <br><pre> <code class="bash hljs">00:56:27.954276: EV_MSC MSC_SCAN 7046683 00:56:27.954281: EV_KEY KEY_PLAYPAUSE (0xa4) pressed 00:56:27.954281: EV_SYN code=0 value=0 00:56:28.062206: EV_MSC MSC_SCAN 7046683 00:56:28.062207: EV_SYN code=0 value=0 00:56:28.314253: EV_KEY KEY_PLAYPAUSE (0xa4) released 00:56:28.314254: EV_SYN code=0 value=0</code> </pre><br>  The output occurs when you press and when you release the button. <br>  <b>7046683</b> is the physical scan code of the remote control button in the decimal system.  It will be displayed in any case. <br>  <b>(0xa4)</b> - the keycode that the driver sent on.  If its length is not equal to one byte, then X server will not see it. <br>  <b>KEY_PLAYPAUSE</b> is the name of the button.  If there is no name, then the button cannot be hung on this button.  Change the keikod. <br><br><h4>  Finishing touches </h4><br>  We got the remote perceived by the system as an additional keyboard with multimedia keys.  It remains to configure the system response to pressing.  The loudness and channel switching at tvtime already work, since the cross buttons are configured as arrows and Enter. <br>  Go to the keyboard settings and set the play keys that will work in most players. <br><img src="https://habrastorage.org/storage2/77d/755/3ed/77d7553eda1f0a173e327e54da8a5cb3.png"><br>  On the rest of the buttons set up additional commands. <br>  I assigned the F11 key to the FullScreen key of the console.  This key is understood by most programs as a transition to full-screen mode and back, but not tvtime.  Therefore, we add to the tvtime.xml file <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toggle_fullscreen"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keyboard</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"F11"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Unfortunately, tvtime does not understand multimedia keys, therefore, it is impossible to set an action to press KEY_SWITCHVIDEOMODE.  But for this there is another way. <br>  In the additional commands section of the keyboard settings, we set <br><pre> <code class="bash hljs">tvtime-command TOGGLE_ASPECT</code> </pre><br>  For a complete list of tvtime commands, see the documentation. <br>  If you need a button to close the active window, install: <br><pre> <code class="bash hljs">sudo apt-get wmctrl</code> </pre><br>  And add additional command: <br><pre> <code class="bash hljs">wmctrl -c :ACTIVE:</code> </pre><br><br>  <i>That's all.</i>  <i>I will be glad to corrections and clarifications.</i>  <i>If the topic is interesting, then it will be possible to explore the issue of setting up the MythTV media combine in a multi-tuner configuration with network clients.</i>  <i>By the way, MythTV has frontends for android.</i>  <i>You can watch on- <b>air</b> TV from a tablet or a smart ... tempting ?!</i> <br><habracut></habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/158447/">https://habr.com/ru/post/158447/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158437/index.html">Number generation in words from any arbitrary number</a></li>
<li><a href="../158439/index.html">Cocos2d-x for Android: speeding up file reading</a></li>
<li><a href="../158441/index.html">Multilingual spelling checker for programs using Hunspell</a></li>
<li><a href="../158443/index.html">Internet Optimization Techniques</a></li>
<li><a href="../158445/index.html">Review GALAXY Camera (Part I)</a></li>
<li><a href="../158449/index.html">Electronic mountain bike suspension control system</a></li>
<li><a href="../158451/index.html">3 billion entries in Java Map with 16 GB RAM</a></li>
<li><a href="../158453/index.html">Implement side navigation in Android</a></li>
<li><a href="../158455/index.html">Quotes from the book Coders at Work</a></li>
<li><a href="../158457/index.html">Google Engineer Developed Ultrafast Scanner - 1000 Pages in 90 Minutes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>