<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TDD for Responsive Design. Or how to automate site display testing for different devices using the Galen Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is difficult to formulate one title, what is the Galen Framework. It all started with the fact that I had a need to test sites in different browser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TDD for Responsive Design. Or how to automate site display testing for different devices using the Galen Framework</h1><div class="post__text post__text-html js-mediator-article">  It is difficult to formulate one title, what is the Galen Framework.  It all started with the fact that I had a need to test sites in different browsers and check: did the markup go, for example, in the same Internet Explore or Chrome.  Then there was a fashion for Responsive Web-Design, and I had to manually change the width of the browser and check how sites are displayed.  And, although all this time WebDriver and Selenium Grid were at hand, it was not possible to properly test the layout of the site in Java code.  One of the ideas was: to take screenshots in different browsers in Selenium Grid and then collect them all into one big report, according to which one of the testers is obliged to run over and, in case of discrepancies, report on the defect.  Unfortunately, this whole undertaking did not last long.  Testers were too lazy to thumb through a huge report and compare screenshots, and they still missed minor defects.  And then they went to the requirements of implementation in all sites Responsive Design.  And here came the Galen Framework.  The solution turned out to be simple: check the size and location of elements relative to each other.  This required a special language Galen Specs, which would be easy to read and understand. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/235/7e0/207/2357e0207f7c0734b38a4c23548a87aa.png"><br><br>  In short, the Galen Framework is a special language and a tool for testing the display of a site in a browser.  It allows you to test responsive design, as well as conduct cross-browser testing of the site. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Galen Framework (or simply Galen) uses Selenium to open a page in the desired browser, resize the browser window and get information about the elements on the web page (absolute position and size). <br><br>  As another idea, Galen proposes to develop a frontend with a TDD (Test Driven Development) approach.  It's simple: first write the test using the Galen syntax, then implement the frontend, run the tests and refactor.  You don‚Äôt have to follow this methodology as long as it‚Äôs just a concept.  Unfortunately, the Galen Framework has not yet been thoroughly tested in combat, and now only begin to attempt to implement it in our company.  However, I think it will be interesting to take a look at the very idea of ‚Äã‚Äãdeveloping a frontend with a TDD approach using Galen tests.  So let's get started.  Imagine that we are thinking about how we can optimize the site for different devices. <br><br><h2>  Step 1. We make the site in the usual notebook </h2><br>  Let's try to make a simple sketch for three different devices: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cec/0e0/863/cec0e08633d50ffaa86a8eecfa6e368c.png"><br><br>  As can be seen from the figure, we identified 3 types of devices: mobile, tablet, desktop.  And, judging by our outline, some elements of the site will be displayed differently on different devices. <br><br><h2>  Step 2. Writing Galen Specs </h2><br>  For simplicity, we will do everything in one file: homepage.spec <br>  We define the names of all elements on the page with which we will work.  I will explain the Galen syntax later, and now I will try to use the most simplified test constructions.  In the following posts, if users find this tool interesting, I will try to present a more sophisticated approach to testing.  You can also see the entire syntax and examples on the official website <a href="http://galenframework.com/">galenframework.com</a> <br><br>  Since I am about to imagine in advance how I will build the markup in html, I can specify the "locators" for the test items.  In general, in Galen you can use three types of locators: id, css, xpath.  I advise you to avoid xpath, use it only in rare cases when id and css do not allow you to select the desired item from the page. <br><br><pre><code class="hljs mel">=========================================== header id header header-logo css #header .logo header-caption css #header h1 <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> id <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-* css #<span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> li a content id content side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> id side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span>-caption css #side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> h2 side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span>-links-* css #side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> li a article id article article-caption css #article h1 article-<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> id article-<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> comments id comments footer id footer ==========================================</code> </pre> <br><br>  As you can see, some objects have * in their name.  This is necessary when there are many similar elements on the page.  Galen in this case will first find all the elements on the given locator, and then create objects with the specified name, only instead of * it will substitute a sequence number starting from 1. Take for example menu-item- *.  If our site has 4 menu items, then Galen will create objects accordingly: menu-item-1, menu-item-2, menu-item-3, menu-item-4. <br><br>  I advise you not to write tests for menu items.  It is better to start with a simple one: testing the framework of our site.  Let's try to explain to Galen how he should test our objects, depending on the size of the browser.  We will use four tags: mobile, tablet, desktop, all.  We will introduce the latter for our own convenience so that we don‚Äôt have to list all the devices for routine tests. <br><br>  We will add the next piece of code to our homepage.spec file after the objects are declared, although, in fact, it does not matter where we write the checks ourselves. <br><br><pre> <code class="hljs mel">@ all ------------------------------------ header width: <span class="hljs-number"><span class="hljs-number">100</span></span>% of screen/width height: <span class="hljs-number"><span class="hljs-number">100</span></span>px above: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>px <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> width: <span class="hljs-number"><span class="hljs-number">100</span></span>% of screen/width below: header <span class="hljs-number"><span class="hljs-number">0</span></span>px above: content <span class="hljs-number"><span class="hljs-number">0</span></span>px footer width: <span class="hljs-number"><span class="hljs-number">100</span></span>% of screen/width height: &gt; <span class="hljs-number"><span class="hljs-number">100</span></span>px content inside: screen <span class="hljs-number"><span class="hljs-number">0</span></span>px left below: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>px @ desktop, tablet ----------------------------------- side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> width: <span class="hljs-number"><span class="hljs-number">300</span></span>px below: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>px inside: screen <span class="hljs-number"><span class="hljs-number">0</span></span>px right near: content <span class="hljs-number"><span class="hljs-number">0</span></span>px right <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> height: <span class="hljs-number"><span class="hljs-number">50</span></span>px footer below: content <span class="hljs-number"><span class="hljs-number">0</span></span>px @ mobile ----------------------------------- side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> width: <span class="hljs-number"><span class="hljs-number">100</span></span>% of screen/width below: content <span class="hljs-number"><span class="hljs-number">5</span></span>px content width: <span class="hljs-number"><span class="hljs-number">100</span></span>% of screen/width above: side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>px footer below: side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>px</code> </pre><br><br>  As you can see, for desktop and tablet tags, the content object is the only one that has no width defined.  This is because in Galen it is not yet possible to use arithmetic operations (for example, 100% of screen / width - 300px).  But, on the other hand, it would be superfluous.  In our test, there is a side-panel check that it is located next to the content object on the left side.  Also indicated that the content is attached to the left side of the screen, and the side-panel - to the right.  Thus, if the content width is too small or too large, it will be displayed in violation when checking ‚Äúnear: content 0px right‚Äù, and we will not miss this defect in any case. <br><br>  The code above can be optimized, but I do not do this for greater clarity.  While this is enough to proceed with the layout of our frame.  Here's how to optimize it: <br><br><div class="spoiler">  <b class="spoiler_title">Show optimized code</b> <div class="spoiler_text">  We can remove unnecessary checks above and below.  If we check that the menu is located above main at a distance of 10 pixels, then it makes no sense to check that main is located under the menu at the same distance.  We can also combine all the objects that should be stretched across the width of the screen into a single check. <br><pre> <code class="hljs mel">@ all ------------------------------------ header, <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>, footer width: <span class="hljs-number"><span class="hljs-number">100</span></span>% of screen/width header height: <span class="hljs-number"><span class="hljs-number">100</span></span>px above: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>px <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> height: <span class="hljs-number"><span class="hljs-number">50</span></span>px above: content <span class="hljs-number"><span class="hljs-number">0</span></span>px footer height: &gt; <span class="hljs-number"><span class="hljs-number">100</span></span>px content inside: screen <span class="hljs-number"><span class="hljs-number">0</span></span>px left @ desktop, tablet ----------------------------------- side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> width: <span class="hljs-number"><span class="hljs-number">300</span></span>px below: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>px inside: screen <span class="hljs-number"><span class="hljs-number">0</span></span>px right near: content <span class="hljs-number"><span class="hljs-number">10</span></span>px right @ mobile ----------------------------------- side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span>, content width: <span class="hljs-number"><span class="hljs-number">100</span></span>% of screen/width side-<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> below: content <span class="hljs-number"><span class="hljs-number">5</span></span>px</code> </pre><br></div></div><br><br><h2>  Step 3. We write Html / CSS </h2><br>  Let's now write our main page.  Then I sketched a simple page where you can test our tests <a href="http://samples.galenframework.com/tutorial1/tutorial1.html">samples.galenframework.com/tutorial1/tutorial1.html</a> <br><br><h2>  Step 4. Run the tests in Galen </h2><br>  Our main page is ready.  We can run tests in galen for different devices.  By default, the Firefox browser will be used. <br><br><blockquote>  Attention!  Since  Galen uses Selenium, it is highly likely that the latest Firefox browser will not be supported.  This is one of the main headaches in the world of Selenium, and I have not yet figured out how to solve it for Galen.  All I can do is update the version of Selenium in Galen to the last one and hope that with the next Firefox release, the Mozilla guys will stop making major changes to the API and break the dependency of the selenium.  Alternatively, it would be possible to develop your browser based on WebKit, especially for Galen, but it seems to me that this would be a waste of time. <br></blockquote><br><br>  Run three commands from the command line for a separate check in the desktop, tablet and mobile version. <br><br><pre> <code class="hljs matlab">galen check homepage.spec --url <span class="hljs-string"><span class="hljs-string">"http://samples.galenframework.com/tutorial1/tutorial1.html"</span></span> --<span class="hljs-built_in"><span class="hljs-built_in">size</span></span> <span class="hljs-number"><span class="hljs-number">1024</span></span>x768 --include <span class="hljs-string"><span class="hljs-string">"all,desktop"</span></span> --htmlreport desktop-reports galen check homepage.spec --url <span class="hljs-string"><span class="hljs-string">"http://samples.galenframework.com/tutorial1/tutorial1.html"</span></span> --<span class="hljs-built_in"><span class="hljs-built_in">size</span></span> <span class="hljs-number"><span class="hljs-number">600</span></span>x800 --include <span class="hljs-string"><span class="hljs-string">"all,tablet"</span></span> --htmlreport tablet-reports galen check homepage.spec --url <span class="hljs-string"><span class="hljs-string">"http://samples.galenframework.com/tutorial1/tutorial1.html"</span></span> --<span class="hljs-built_in"><span class="hljs-built_in">size</span></span> <span class="hljs-number"><span class="hljs-number">400</span></span>x600 --include <span class="hljs-string"><span class="hljs-string">"all,mobile"</span></span> --htmlreport mobile-reports</code> </pre><br><br>  As a result, Galen will create an html report in which you can find all the perfect checks, as well as see error messages. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82d/d6c/b42/82dd6cb42e0769002d05858ec4da7e16.png"><br><br>  If you click on the check highlighted in red, you will get a screenshot with highlighted blocks that violated this very check. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4fa/f7d/18f/4faf7d18fc1fa60e2aaa5f78c6b4da06.png"><br><br>  As you can see, the message says ‚Äúside-panel‚Äù is 0px below ‚Äúcontent‚Äù instead of 5px.  Those.  in our version of the site there is no specified indent of 5 pixels between the ‚Äúcontent‚Äù and ‚Äúside-panel‚Äù objects for the mobile version.  We need to do something about it.  If this is a bug, then we will fix our layout and add this indent.  If we do not care how big is the indent, then we can indicate that it should be within reason in this way: below: content 0 to 10 px.  Those.  the indent can be any in the range from 0 to 10. <br><br>  After we correct our layout or fix the checks, we can run the tests again.  Only a way to start some not very convenient.  You have to run different commands separately and read reports in different folders.  Let's use another feature of Galen - the so-called Galen Test Suites.  Create a file galen-tutorial.test, write the following in it: <br><br><pre> <code class="hljs ruby">@@ Parameterized <span class="hljs-params"><span class="hljs-params">| device |</span></span> size <span class="hljs-params"><span class="hljs-params">| tags |</span></span> <span class="hljs-params"><span class="hljs-params">| desktop |</span></span> <span class="hljs-number"><span class="hljs-number">1024</span></span>x768 <span class="hljs-params"><span class="hljs-params">| all,desktop |</span></span> <span class="hljs-params"><span class="hljs-params">| tablet |</span></span> <span class="hljs-number"><span class="hljs-number">600</span></span>x80<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-params"><span class="hljs-params">| all,tablet |</span></span> <span class="hljs-params"><span class="hljs-params">| mobile |</span></span> <span class="hljs-number"><span class="hljs-number">400</span></span>x60<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-params"><span class="hljs-params">| all,mobile |</span></span> Tutorial <span class="hljs-number"><span class="hljs-number">1</span></span> Home page <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ${device} device <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/samples.galenframework.com/tutorial</span></span>1/tutorial1.html ${size} check homepage.spec --<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">"${tags}"</span></span></code> </pre><br><br>  Is done.  Now we can run our tests and merge all the reports into one. <br><br><pre> <code class="hljs cmake">galen <span class="hljs-keyword"><span class="hljs-keyword">test</span></span> galen-tutorial.<span class="hljs-keyword"><span class="hljs-keyword">test</span></span> --htmlreport reports</code> </pre><br><br>  The resulting report can be viewed at this link: <a href="http://samples.galenframework.com/tutorial1/reports/report.html">samples.galenframework.com/tutorial1/reports/report.html</a> <br><br><h2>  More complex and detailed checks </h2><br><br>  Our framework is ready and tested, we can proceed to more complex checks.  I will try to use more features of the Galen language for demonstration.  Imagine that we have added a site logo and text in the title <br><br><pre> <code class="hljs swift">@ all ----------------------------------- header-logo inside: header 10px <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> centered vertically inside: header height: 60px header-caption inside: header <span class="hljs-number"><span class="hljs-number">10</span></span> to 20px top <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> near: header-logo ~ <span class="hljs-number"><span class="hljs-number">10</span></span> px text <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>: <span class="hljs-type"><span class="hljs-type">My</span></span> <span class="hljs-type"><span class="hljs-type">Awesome</span></span> <span class="hljs-type"><span class="hljs-type">Website!</span></span></code> </pre><br><br>  As you can see, new checks have appeared: ‚Äúcentered vertically inside‚Äù and ‚Äútext is‚Äù.  The first one checks that our logo is vertically in the middle and inside the header object, and the second one just checks the text. <br>  You also probably noticed the new "~" symbol, which means that we want to make an approximate comparison within 2 pixels of error (in Galen, you can adjust the error for approximate comparisons). <br><br>  Now even more difficult check.  Let's verify that on the desktop and tablet the menu is laid out horizontally, and on the mobile version by a table in two columns, as we, in fact, conceived in our sketch at the beginning of the article.  I will try to explain the syntax of each check in the code comments.  If you remember, then at the top we defined menu objects as follows: ‚Äúmenu-item- * css #menu li a‚Äù.  Those.  Galen will find all the menu items;  we have only 4 of them, we will end up with menu-item-1, menu-item-2, menu-item-3, menu-item-4 objects. <br><br><pre> <code class="hljs mel">@ all -------------------------------------- # ,              <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> contains: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-* #       <span class="hljs-number"><span class="hljs-number">50</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-* height: <span class="hljs-number"><span class="hljs-number">50</span></span>px @ desktop, tablet -------------------------------------- # ,            (<span class="hljs-number"><span class="hljs-number">0</span></span>px) [ <span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">3</span></span> ] <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@ near: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@{+<span class="hljs-number"><span class="hljs-number">1</span></span>} <span class="hljs-number"><span class="hljs-number">0</span></span>px left aligned horizontally: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@{+<span class="hljs-number"><span class="hljs-number">1</span></span>} @ mobile -------------------------------------- #            <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-* width: <span class="hljs-number"><span class="hljs-number">45</span></span> to <span class="hljs-number"><span class="hljs-number">50</span></span> % of <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>/width # ,     ( ) #      -  #   ,           [ <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span> ] <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@ near: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@{+<span class="hljs-number"><span class="hljs-number">1</span></span>} <span class="hljs-number"><span class="hljs-number">0</span></span>px left aligned horizontally: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@{+<span class="hljs-number"><span class="hljs-number">1</span></span>} # ,     ( ) #      -  [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@ above: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@{+<span class="hljs-number"><span class="hljs-number">2</span></span>} <span class="hljs-number"><span class="hljs-number">0</span></span>px aligned vertically: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-item-@{+<span class="hljs-number"><span class="hljs-number">2</span></span>}</code> </pre><br><br>  The construction [1 - 9] instructs Galen to parameterize the next object with all its checks and, where the ‚Äú@‚Äù symbol is encountered, to substitute the current value of the parameter.  You can specify a range, or you can specify specific values ‚Äã‚Äãseparated by commas [1, 3, 6, 10].  Also, as seen in the upper example, we used the @ {+ 1} construct.  These are the simplest arithmetic operations that allow us to point to the next object in the list. <br><br>  And so you can continue indefinitely.  As you can see, you can check almost any arrangement of elements on the page.  The main thing is just to choose the method of checks correctly, so that later you do not create problems for yourself with test support. <br>  If you are interested in finding out what other possibilities there are in the Galen Framework, you can visit the official website <a href="http://galenframework.com/">galenframework.com</a> .  Later I will try to post a few more articles (for example, how to automate testing in different browsers using Selenium Grid or how to use component testing correctly). <br><br>  Briefly list the advantages and disadvantages (shortcomings) of Galen. <br><br>  <b>What can galen:</b> <br><ul><li>  Check the location of the blocks relative to each other </li><li>  Check visible text </li><li>  Work with Selenium Grid </li><li>  Run custom javascript on the test page (if, for example, you need to open the drop-down menu and check its elements) </li><li>  Interact with the browser through Selenium in order to get to the desired place on the site, if you can not call it through a direct link </li><li>  Component testing.  Galen can run separate check files for specified objects.  Thus, you can implement checks for duplicate complex elements on the page (for example, search results, comments, etc.) </li><li>  Make adjustments to the size and position of objects.  This can be useful in two cases: either Selenium gives incorrect information about the location of the object, or we need the so-called ‚Äúguides‚Äù (or virtual binding objects), to which we will refer other objects on the page </li><li>  Condition blocks  They can be useful when it is impossible to know exactly which element will be displayed on the page (eg banners) </li><li>  Test parameterization in test suites.  By the way, you can go further and use parametrization of parameterization (a rare case, but you can, for example, run the same test for different sizes and even for different browsers) </li></ul><br><br>  <b>What still can not Galen:</b> <br><ul><li>  Check the location of the visible text, not the entire block (for example, h1 tags).  Plans to implement the definition of the text in the screenshot, but this will only work in Firefox (Selenium has problems with screenshots in Chrome and IE) </li><li>  Run in real mobile browsers.  This is the problem of Selenium, because  it does not allow to obtain information about the location of elements on the page in the Android browser.  The solution could be developing your own javascript-based tool (for example, as BusterJS or Selenium 1.0).  In this case, you can work with any browser at all.  Or you can write your own browser for iOS and Android, which would support communication with Galen.  But it will be too difficult for one person, so I‚Äôll put off this idea for now. </li><li>  Check the color and compare parts of the image on the screenshots.  There are plans to develop a simple comparison of color gamut according to histograms (for example, <u><code>color scheme is: 80 to 85 % black, ~10% white</code></u> or <u><code>color scheme like: image-samples/menu.png</code></u> ).  Galen will take a screenshot, select the area of ‚Äã‚Äãthe specified element and check its color range.  You can also add the simplest comparison of images, however, it seems to me redundant. </li><li>  Perform complex arithmetic operations in parameterized checks.  For now, you can only do this: @ {+ 1}, @ {* 2}, @ {- 1}, @ {/ 10}.  But plans to make full arithmetic expressions using brackets </li><li>  Perform arithmetic operations in regular checks.  For example, it would be nice to do something like <u><code>width: 100% of screen/width - 10px - 100% of comments/width + 10% of somethingelse/width</code></u> </li><li>  No sane installer.  There should be Java 1.6+ on the machine, unfortunately I have no experience in creating installers, but I hope to come up with something soon. </li></ul><br><br>  The project is posted on GitHub <a href="https://github.com/ishubin/galen">github.com/ishubin/galen</a> and is distributed under the Apache License, Version 2.0. <br><br>  Galen is supported by only one person and is not common anywhere.  We are trying to implement it in our company, but so far it‚Äôs too early to talk about any successes.  If you are interested in the project, I will be glad to any feedback, especially constructive criticism, because  The project is in beta and needs testing.  You can submit defects here at <a href="https://github.com/ishubin/galen/issues">github.com/ishubin/galen/issues</a> .  You can download the project at this link <a href="http://galenframework.com/download/">galenframework.com/download</a> </div><p>Source: <a href="https://habr.com/ru/post/203506/">https://habr.com/ru/post/203506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203494/index.html">Commercial self-extracting archives: security, principles of operation</a></li>
<li><a href="../203496/index.html">New domains for brands: make.believe</a></li>
<li><a href="../203500/index.html">ABCat: New version of the application for downloading and cataloging audiobooks</a></li>
<li><a href="../203502/index.html">Installing Ansible AWX on Debian 7.1</a></li>
<li><a href="../203504/index.html">How I hung up hotkeys on the Unity sound indicator</a></li>
<li><a href="../203508/index.html">CodinGame November: Note Writing from Doctor Who</a></li>
<li><a href="../203512/index.html">Virtual reality glasses using a tablet</a></li>
<li><a href="../203514/index.html">Pointer events</a></li>
<li><a href="../203516/index.html">Python version manager</a></li>
<li><a href="../203518/index.html">Bitcoin Should I trust?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>