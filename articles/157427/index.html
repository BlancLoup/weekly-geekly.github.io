<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Attempting to install Windows Phone 8 SDK in Windows 7</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings. 

 I don’t know about you, but at first I didn’t want to install a new Windows 8. And what’s the point? There was no sense, the seven worke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Attempting to install Windows Phone 8 SDK in Windows 7</h1><div class="post__text post__text-html js-mediator-article">  <font color="#510000">Greetings.</font> <img align="right" src="https://habrastorage.org/storage2/a3e/a79/998/a3ea7999827a44d687365e36a5732a4c.png"><br><br>  I don’t know about you, but at first I didn’t want to install a new Windows 8. And what’s the point?  There was no sense, the seven worked perfectly and would continue to work, but ... Smart people from Microsoft like to redo everything anew, and this time they’ve overdone it. <br><br>  The fact is that the new version of the WP emulator, the <font color="#510000">Windows Phone Emulator (XDE)</font> , uses <font color="#510000">Hyper-V</font> technology, which appeared only in the Windows desktop family since Windows 8. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I had an idea to install this SDK at any cost in VS2012 under Windows 7 and get the most out of it. <br><br><h4>  <font color="#510000">Attention!</font> </h4><br><ul><li>  The emulator will only be available for WP 7.1 and below; </li><li>  Blend will be available only for WP 7.1 and below, which means that XAML under WP 8 will have to be written by hand; </li><li>  This is <b>just for fun</b> , because normal characters always go around! </li></ul><br><br>  Under the cut, I will briefly describe how the WP8 SDK installer works and show the curve the path through the swamp for those who do not want to part with Windows 7, but want to extend the development for new versions of Windows Phone. <br><a name="habracut"></a><br><h4>  <font color="#510000">Digging in the package</font> </h4><br>  Having downloaded the <font color="#510000">WPexpress_full.exe</font> installer from the <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D35471">official site</a> , I tried to start it.  He sent me, saying that I had to reinstall Windows (I didn’t expect it!) To something newer, for example Windows 8. I was taken aback by such audacity and without thinking twice <a href="">updated that same picture with a dog</a> , just in case, to have something to brush off ideological disputes with friends. <br><br><img src="https://habrastorage.org/storage2/36e/adb/6c0/36eadb6c01ea310bd5e38fd0cc88bf24.png"><br><br>  All suspicion fell on marketers. <br><br>  <font color="#510000">WPexpress_full.exe is</font> perfectly unpacked using WinRAR, the following files were found inside: <br><br><pre><code class="bash hljs">0: XML document text u0: PE32 executable <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MS Windows (DLL) (GUI) Intel 80386 32-bit u1: PE32 executable <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MS Windows (DLL) (console) Intel 80386 32-bit Mono/.Net assembly u10: PE32 executable <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MS Windows (DLL) (GUI) Intel 80386 32-bit u11: PE32 executable <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MS Windows (DLL) (GUI) Intel 80386 32-bit u12: XML document text u13: XML document text u14: exported SGML document text u15: UTF-8 Unicode (with BOM) text, with very long lines, with CRLF line terminators u16: PNG image data, 63 x 63, 8-bit/color RGBA, non-interlaced u17: HTML document text u18: XML document text u2: XML document text u3: exported SGML document text u4: XML document text u5: MS Windows icon resource - 3 icons, 16x16, 16-colors u6: MS Windows icon resource - 3 icons, 16x16, 16-colors u7: MS Windows icon resource - 3 icons, 16x16, 16-colors u8: PE32 executable <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MS Windows (DLL) (console) Intel 80386 32-bit Mono/.Net assembly u9: XML document text</code> </pre> <br>  After examining the file <b>0</b> , which was the header for this package, it turned out that the installer was made using the <a href="http://wixtoolset.org/">Windows Installer XML (WiX) toolset toolkit</a> .  I downloaded the tools of this WiX, among them was the utility <font color="#510000">dark.exe</font> , which is responsible for unpacking the <font color="#510000">.msi</font> packages compiled by the default WiX toolkit.  The utility came up to this package. <br><br>  He unpacked: <br><br><pre> <code class="bash hljs">. ├── AdminDeployment.xsd ├── BootstrapperApplicationData.xml ├── BootstrapperCore.config ├── BootstrapperCore.dll ├── HighContrastThemes.xaml ├── License.htm ├── LocalizableStrings.xml ├── ManagedUx.dll ├── SkuResources.xaml ├── Themes.xaml ├── manifest.xml ├── mbahost.dll ├── mbapreq.dll ├── mbapreq.png ├── mbapreq.thm ├── mbapreq.wxl ├── res │  ├── info.ico │  ├── stop.ico │  └── warn.ico └── sqmapi.dll</code> </pre><br>  After reading the docks and inspecting the XML files, it became clear that the installer was done with a custom interface, using <font color="#510000">ManagedUx</font> and <font color="#510000">Bootstrapper (Burn)</font> from the WiX SDK (in the archive <font color="#510000">wix36-sources.zip</font> there is an example of such a project - <font color="#510000">WixBA</font> ). <br><br>  Simply put, what we have is that without recreating a WiX project in Visual Studio, you cannot rebuild it back into the installer.  At a minimum, <font color="#510000">manifest.xml</font> is <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">BurnManifest</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/wix/2008/Burn"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  and how to collect such manifestos - not one utility from the standard WiX kit knows. <br><br>  Therefore, despite the very attractive line in <font color="#510000">BootstrapperApplicationData.xml</font> <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UxBlocker</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ShortName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CheckX64runningWin2008ServerOrWin8"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Stop"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"(VersionNT &lt; v6.1) OR ((VersionNT = v6.1) AND (NTProductType &lt; 3)) OR (NOT VersionNT64)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DisplayText</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#loc.Win8X64Block"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre>  which can be removed, this method will have to leave. <br><br><h4>  <font color="#510000">Parsim manifest.xml</font> </h4><br><img src="https://habrastorage.org/storage2/e99/413/35b/e9941335be8d2c6f2f763bb37f625c2d.png"><br><br>  All packages are installed in <font color="#510000">manifest.xml</font> , which are installed by the installer, as well as source URIs.  I wrote a ruby-script that parses and downloads everything you need, then installs it one by one. <br>  The order of package installation is the same as they follow in the XML manifest, I hope it does not matter. <br><br>  <a href="https://github.com/Xlab/wp8sdk-installer">Sources on GitHub</a> <br><br>  There is also a folder with a ready-made binary (script + <a href="http://nokogiri.org/">dependencies</a> + <a href="http://rubyinstaller.org/">ruby 1.9.3</a> , compiled using <a href="http://ocra.rubyforge.org/">ocra</a> ), you just need to drag <font color="#510000">WPexpress_full.exe</font> onto it and watch. <br><br>  <a href="">Ready to use ZIP archive</a> <br><br><img src="https://habrastorage.org/storage2/75e/15c/e31/75e15ce311dd0e6c233313620ea5a8e9.png"><br><br><h4>  <font color="#510000">Tips &amp; Tricks</font> </h4><br>  The XAML editor will try to run Blend, which in turn is a component of the WP8 emulator, which is why Blend itself will forever fall.  I immediately switched the XAML editor to the one that without visualization, autocomplete works there and ok. <br><br><img src="https://habrastorage.org/storage2/5dd/fa2/9ec/5ddfa29ec797e70a63b6662504464eb2.png"><br><br>  <font color="#510000"><b>In the bottom line we have:</b></font> <br><ul><li>  Full working SDK for Windows Phone 7.1 </li><li>  Non-working Windows Phone 8 emulator </li><li>  Non-working Blend Interface Editor for WP 8 </li><li>  Incomplete but still working <font color="#510000">(!)</font> SDK for WP 8 </li></ul><br><img src="https://habrastorage.org/storage2/ea0/94f/b70/ea094fb7053a819f4f6dd9abd3342314.png"><br><br>  <font color="#510000"><b>Fact:</b></font> Windows Phone 8 runs in VirtualBox on the same Windows 7, but there is no mouse cursor and network, so for now it hasn't done anything useful. <br><br>  Good luck with this business!  <font color="#510000">~ Xlab</font> <br><br>  - UPD: If you had a bug with a binary <br><pre> <code class="bash hljs">/src/application.rb:76:<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> `require_relative<span class="hljs-string"><span class="hljs-string">': cannot load such file — /src/chain (LoadError)</span></span></code> </pre>  Download the new version from github, fixed. </div><p>Source: <a href="https://habr.com/ru/post/157427/">https://habr.com/ru/post/157427/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../157415/index.html">Panoramic video from the cab of a Formula 1 car</a></li>
<li><a href="../157419/index.html">AWS: New SDK for PHP 2.0.0</a></li>
<li><a href="../157421/index.html">Palm i705 Review</a></li>
<li><a href="../157423/index.html">"Blind operator" - unsuccessful joke or alarm?</a></li>
<li><a href="../157425/index.html">ELB vs Nginx</a></li>
<li><a href="../157429/index.html">Opened large online electronics store accepting Bitcoin</a></li>
<li><a href="../157439/index.html">Hewlett Packard becomes a platinum member of the Linux Foundation</a></li>
<li><a href="../157441/index.html">Dell XPS 14 Laptop Review</a></li>
<li><a href="../157443/index.html">Enot J141-M Tablet Review</a></li>
<li><a href="../157445/index.html">Joomla development for 2013</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>