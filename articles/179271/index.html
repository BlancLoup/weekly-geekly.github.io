<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google coding tips in Python. Part One: Programming Tips</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 
 Today I want to present my dear habra translation to my dear habrasoobshchestvo. Programming in Python is like a song. But it is even bett...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google coding tips in Python. Part One: Programming Tips</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage2/1d8/413/027/1d841302726111d85ecbd3b88efd0599.png"><br>  Hi, Habr! <br>  Today I want to present my dear habra translation to my dear habrasoobshchestvo.  Programming in Python is like a song.  But it is even better when your code is read and understandable, which means it is a little more poetic than production usually happens.  Everyone has their own rules and stereotypes regarding the writing and design of the source code, no matter what language it is written.  Many copies are broken on the boards on the forums, but, anyway, one can not ignore the opinion of authoritative comrades.  So now the translation of the first part of the <a href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html">style guide</a> for the Python language from Google will be presented.  It touches exactly the postulates of writing code (the <a href="http://habrahabr.ru/post/180509/">second part</a> will also appear soon, and it will be devoted to formatting the source code).  Immediately I warn you: there are many (if not most) of the truisms that everyone has known for a long time.  But I sincerely hope that you can find here something new or at least remember the old.  Let's start under the cut.  And <a href="">pdf</a> here as here. <br><a name="habracut"></a><br><h4>  Google Python Style Guide </h4><br>  <i><b>Version:</b> 2.48</i> <i><br></i>  <i><b>Authors:</b> <a href="http://www.businessinsider.com/googles-first-20-employees-where-are-they-now-2012-7%3Fop%3D1">Amit Patel</a> , <a href="https://plus.google.com/117981587031259733981/about">Antoine Picard</a> , <a href="http://www.zoominfo.com/p/Eugene-Jhong/113513089">Eugene Jhong</a> , <a href="https://plus.google.com/117162507282113102399/about">Jeremy Hylton</a> , <a href="https://plus.google.com/106166516302462658901/about">Matt Smart</a> , <a href="http://www.linkedin.com/in/shields">Mike Shields</a> .</i> <br><br><h4>  Training </h4><br>  Python is the main scripting language used by Google.  This guide is a list of "good" and "bad" for programs written in Python.  To help you format your code correctly, we created <a href="">a configuration file for the Vim editor</a> .  In Emacs, the default settings should be suitable for our purposes. <br><br><h4>  Python programming tips </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  PyChecker </h5><br><div class="spoiler">  <b class="spoiler_title">Use PyChecker to verify your code.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  <a href="http://pychecker.sourceforge.net/">PyChecker</a> is a tool for finding bugs in Python program sources.  It finds problems that would be revealed by the compiler of less dynamic languages, such as C and C ++.  This is very tempting.  Due to the dynamic nature of Python, some warnings can be unfair, however false warnings should not occur often. <br><br><h6>  pros </h6><br>  It detects hard-to-detect errors, such as: type errors, use of variables before their declaration, etc. <br><br><h6>  Minuses </h6><br>  PyChecker is not perfect.  To get all its benefits, we need: <br><ul><li>  Write with an eye to him </li><li>  Suppress his warnings </li><li>  Correct mistakes </li><li>  Or ignore them </li></ul><br><h6>  Decision </h6><br>  Make sure you run PyChecker with your code.  To learn how to start PyChecker, check out its <a href="http://pychecker.sourceforge.net/">homepage</a> .  To suppress warnings, you need to create a __ pychecker__ variable in this module and specify which errors should be suppressed.  For example: <br><br><pre><code class="python hljs">__pychecker__ = <span class="hljs-string"><span class="hljs-string">'no-callinit no-classattr'</span></span></code> </pre> <br>  Suppressing warnings in this way has the advantage of the following plan - we can easily search for suppressions and return to them.  You can see the list of PyChecker alerts if you type: <br><br><pre> <code class="bash hljs">pychecker -- <span class="hljs-built_in"><span class="hljs-built_in">help</span></span></code> </pre><br>  Unused arguments can be omitted using '_', as the names of the unused argument, or the prefix of the argument "unused_".  In situations where changing the name of the argument is not possible, you can mention them at the beginning of the function.  For example: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, unused_b, unused_c, d=None, e=None)</span></span></span><span class="hljs-function">:</span></span> _ = d, e <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a</code> </pre><br>  Ideally, PyChecker would be fine-tuned so that you can safely assert that ‚Äúunused declarations‚Äù are in reality. <br></div></div><br><h5>  Imports </h5><br><div class="spoiler">  <b class="spoiler_title">Import only packages and modules.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  Open source reuse mechanism from one module to another. <br><br><h6>  pros </h6><br>  The namespace convention is very simple.  The location of each object in the code is indicated in a uniform way.  x.Obj says that the Obj object is declared in module x. <br><br><h6>  Minuses </h6><br>  Sometimes module names may conflict.  Some module names may be inconveniently long. <br><br><h6>  Decision </h6><br>  Use <b>import x</b> to import packages and modules. <br>  Use <b>from x import y</b> when <b>x</b> is a package prefix, and <b>y</b> is the name of a module without a prefix. <br>  Use <b>from x import y as z</b> if the two modules are named <b>y</b> , or if the name of the module is inconveniently long. <br>  For example, the sound.effects.echo module can be imported as follows: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sound.effects <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> echo ... echo.EchoFilter(input, output, delay=<span class="hljs-number"><span class="hljs-number">0.7</span></span>, atten=<span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre><br>  Do not use relative names in imports, even if the module is in the same package.  Use only the full name of the package.  This will help prevent the situation when the same package is imported twice. <br></div></div><br><h5>  Packages </h5><br><div class="spoiler">  <b class="spoiler_title">Import each module using the full path to it.</b> <div class="spoiler_text"><h6>  pros </h6><br>  Bypasses conflicts in module names.  It becomes easier to find the module on the disk. <br><br><h6>  Minuses </h6><br>  It becomes harder to transfer code, because  You must completely recreate the complete hierarchy of modules. <br><br><h6>  Decision </h6><br>  All your new code should import each module by its full path in the package. <br>  Import should be as follows: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#       import sound.effects.echo #        () from sound.effects import echo</span></span></code> </pre><br></div></div><br><h5>  Exceptions </h5><br><div class="spoiler">  <b class="spoiler_title">Exceptions are allowed, but must be used carefully.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  An exception is a means of exiting the normal control flow of a code block for handling errors or other exceptional conditions. <br><br><h6>  pros </h6><br>  The control flow of a regular code does not intermix with the error interception code.  It also allows the execution thread to skip a certain number of frames when certain conditions are met, for example, returning from N-nested functions in one step instead of multiple error code handling. <br><br><h6>  Minuses </h6><br>  The control flow may not start correctly.  It is very easy to skip the situation in which an error will be raised when calling a function from the library. <br><br><h6>  Decision </h6><br>  Exception handling should follow the following positions: <br><ul><li>  Raise exceptions like this: <b>raise MyException ('Error message')</b> , or <b>raise MyException</b> .  Do not use the entry form with two arguments: ( <b>raise MyException, 'Error message'</b> ), just do not use the string form entry ( <b>raise 'Error message'</b> ). </li><li>  Modules (or packages) must define their own domain-specific exception classes, which must inherit from the built-in class <b>Exception</b> . <br>  The main exception of the module should be called Error. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Exception)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br></li><li>  Never use an exception that catches all exceptions only if you are not going to wake them up later, or you are not in an external code block in the thread (and an error message is printed).  Pytnon is very tolerant in this regard, besides you can catch anything: naming errors, calling <b>sys.exit ()</b> , interrupting <b>ctrl + C</b> , failures of tests and various types of exceptions that you just don‚Äôt want to catch. </li><li>  Reduce the amount of code located in the <b>try / except</b> block.  The larger the body of the <b>try</b> block, the more likely that an exception will be raised in the line of code in which you do not expect the latter to be excited.  In these cases, the <b>try / except</b> block hides the real error. </li><li>  Use the <b>finally</b> statement to execute code regardless of whether an exception was thrown in a <b>try</b> block or not.  This is often useful for final actions, such as closing a file. </li><li>  When catching an exception, it is better to use <b>as</b> than a comma: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Error <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> error: <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br></li></ul><br></div></div><br><h5>  Global variables </h5><br><div class="spoiler">  <b class="spoiler_title">Avoid using global variables.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  Variables that are defined at the module level. <br><br><h6>  pros </h6><br>  Sometimes useful. <br><br><h6>  Minuses </h6><br>  You can inadvertently change the behavior of a module during import, since  assignment of module level variables is already completed when the module is imported. <br><br><h6>  Decision </h6><br>  Avoid using global variables in favor of class variables.  A few exceptions below: <br><ul><li>  Standard Script Settings. </li><li>  Module Level Constants  For example, <b>PI = 3.14159</b> .  Constants must be named using capital letters and underscores only.  See the naming rules below. </li><li>  Sometimes it is useful to use global variables to cache the values ‚Äã‚Äãneeded for a function or returned by a function. </li><li>  If necessary, global variables should be created inside the module and accessible through the public functions of the module level.  See naming rules below. </li></ul><br></div></div><br><h5>  Nested / local / internal classes and functions </h5><br><div class="spoiler">  <b class="spoiler_title">Nested / local / internal classes and functions are good</b> <div class="spoiler_text"><h6>  Definition </h6><br>  A class can be defined inside a method, function, or other class.  A function can be defined inside a method or another function.  Nested functions have read-only access to variables defined in the parent area. <br><br><h6>  pros </h6><br>  Makes it possible to define auxiliary classes and functions that will be used only within a very limited space.  Complies with the <a href="http://goo.gl/YbLFi">ADT</a> principle. <br><br><h6>  Minuses </h6><br>  Instances of nested or local classes cannot be serialized. <br><br><h6>  Decision </h6><br>  They are good. <br></div></div><br><h5>  List generators </h5><br><div class="spoiler">  <b class="spoiler_title">Can be used in simple cases.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  List generators and generator expressions provide a compact and efficient way to create lists and iterators without using the <b>map ()</b> , <b>filter ()</b> or <b>lambda</b> expressions. <br><br><h6>  pros </h6><br>  A simple list generator can be cleaner and easier than other ways to create lists.  An expression generator can be very effective, because  it does not create the entire list at once. <br><br><h6>  Minuses </h6><br>  Complex list generators or generator expressions can be hard to read. <br><br><h6>  Decision </h6><br>  Can be used in simple cases.  Each part should be located on one line.  Display definition, <b>for</b> statement, conditional expression.  Multiple <b>for</b> instructions or conditions are invalid.  Use loops if your expressions become too complex. <br><br>  Good: <br><br><pre> <code class="python hljs"> result = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">5</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x * y &gt; <span class="hljs-number"><span class="hljs-number">10</span></span>: result.append((x, y)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x != y: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> z <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> y != z: <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> (x, y, z) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((x, complicated_transform(x)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> long_generator_function(parameter) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) squares = [x * x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>)] eat(jelly_bean <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> jelly_bean <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> jelly_beans <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> jelly_bean.color == <span class="hljs-string"><span class="hljs-string">'black'</span></span>)</code> </pre><br>  Poorly: <br><br><pre> <code class="python hljs"> result = [(x, y) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x * y &gt; <span class="hljs-number"><span class="hljs-number">10</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((x, y, z) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x != y <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> z <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> y != z)</code> </pre><br></div></div><br><h5>  Standard iterators and operators </h5><br><div class="spoiler">  <b class="spoiler_title">Use standard iterators and operators.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  Container types, such as dictionaries and lists, define standard iterators, a set of test operators <b>in</b> and <b>not in</b> . <br><br><h6>  pros </h6><br>  Standard iterators and operators are simple and efficient.  They express the operation directly, without internal callbacks.  And the function that uses standard operators is simple.  It can be used with different types that support this operation. <br><br><h6>  Minuses </h6><br>  You cannot name object types by method name (for example, <b>has_key ()</b> means that it is a dictionary).  This is also an advantage. <br><br><h6>  Decision </h6><br>  Use standard iterators and operators for types that support them, such as lists, dictionaries, and files.  Built-in types also define iterator methods.  Prefer these methods to methods that return lists, except when you want to change the container itself while iterating. <br><br>  Good: <br><br><pre> <code class="python hljs"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> adict: ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> adict: ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> obj <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> alist: ... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> line <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> afile: ... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dict.iteritems(): ...</code> </pre><br>  Poorly: <br><br><pre> <code class="python hljs"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> adict.keys(): ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> adict.has_key(key): ... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> line <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> afile.readlines(): ...</code> </pre><br></div></div><br><h5>  Generators </h5><br><div class="spoiler">  <b class="spoiler_title">Use generators as needed</b> <div class="spoiler_text"><h6>  Definition </h6><br>  The generator function returns an iterator that produces a value each time it executes a <b>yield</b> expression.  After generating the value, the execution status of the function is suspended until the next value is required. <br><br><h6>  pros </h6><br>  Simplifies the code, because  the state of local variables and control flow remain the same for each call.  The generator requires less memory than the function that creates the list of values ‚Äã‚Äãimmediately. <br><br><h6>  Minuses </h6><br>  No cons. <br><br><h6>  Decision </h6><br>  Perfectly.  Give preference to ‚ÄúGenerates:" rather than "Returns:" in the documentation lines for generator functions. <br></div></div><br><h5>  Lambda functions </h5><br><div class="spoiler">  <b class="spoiler_title">Good for inline expressions.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  Lambda functions define anonymous functions in an expression as an alternative to the construction of a regular function.  They are often used to declare callback functions or operators for higher order functions, such as <b>map ()</b> and <b>filter ()</b> . <br><br><h6>  pros </h6><br>  Conveniently. <br><br><h6>  Minuses </h6><br>  More difficult to read and debug than local functions.  Missing names means that the call stack will be harder to read.  Expressiveness is limited, because  a function can contain only one expression. <br><br><h6>  Decision </h6><br>  Good for inline expressions.  If the code inside the lambda function is longer than 60-80 characters, then it may be better to define this function as a normal (or nested) function.  For simple operations, such as multiplication, use functions from the <b>operator</b> module instead of lambda functions.  For example, it is better to use <b>operator.mul</b> instead of <b>lambda x, y: x * y</b> . <br></div></div><br><h5>  Conditional expressions </h5><br><div class="spoiler">  <b class="spoiler_title">Good for inline expressions.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  Conditional expressions are a mechanism that provides a short syntax for an <b>if</b> construct.  For example, <b>x = 1 if cond else 2</b> . <br><br><h6>  pros </h6><br>  Shorter and more convenient than the <b>if</b> construct. <br><br><h6>  Minuses </h6><br>  It may be more difficult to read than an <b>if statement</b> .  The condition may be too difficult to write if the expression is very long. <br><br><h6>  Decision </h6><br>  Use for inline expressions only.  In other cases, give preference to the use of a full-fledged <b>if</b> . <br></div></div><br><h5>  Default Arguments </h5><br><div class="spoiler">  <b class="spoiler_title">Can be used in most cases.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  You can assign values ‚Äã‚Äãto variables at the end of the function argument list, for example, <b>def foo (a, b = 0):</b> <br>  If the <b>foo</b> function is called with only one argument, the argument <b>b</b> will be <b>0</b> .  If it is called with two arguments, <b>b</b> will have the value passed in the second argument. <br><br><h6>  pros </h6><br>  Often you have a function that uses many default values.  But sometimes you need to override the default values.  Also, Python does not support overloading of methods / functions, and standard arguments are an easy way to ‚Äúsimulate‚Äù overload behavior. <br><br><h6>  Minuses </h6><br>  Values ‚Äã‚Äãof standard arguments are calculated once during module loading.  This can cause a problem if the argument is a mutable object, such as a list or dictionary.  If the function changes the object (for example, by adding an item to the list), the default value will be changed. <br><br><h6>  Decision </h6><br>  Can be used with the following cautions: <br>  Do not use mutable objects as standard values ‚Äã‚Äãin functions or method definitions. <br><br>  Good: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b=None)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: b = []</code> </pre><br>  Poorly: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b=[])</span></span></span><span class="hljs-function">:</span></span></code> </pre><br>  Code call must use named values ‚Äã‚Äãfor arguments with a default value.  This allows you to document the code and helps prevent and detect defects when more arguments are passed than is needed. <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> ...</code> </pre><br><br>  Good: <br><br><pre> <code class="python hljs">foo(<span class="hljs-number"><span class="hljs-number">1</span></span>) foo(<span class="hljs-number"><span class="hljs-number">1</span></span>, b=<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br>  Poorly: <br><br><pre> <code class="python hljs">foo(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br></div></div><br><h5>  Properties </h5><br><div class="spoiler">  <b class="spoiler_title">Use properties to access data or assign values</b> <div class="spoiler_text">  Use properties to access data or assign values ‚Äã‚Äãwhere you would normally use the simple getter or setter method. <br><br><h6>  Definition </h6><br>  The way to wrap up calls to an access method and attribute assignment as standard attribute access is, of course, if the calculations are not very complex. <br><br><h6>  pros </h6><br>  Readability is enhanced by eliminating explicit calls to get and set methods for easy access to an attribute.  Lazy calculations are possible.  It is believed that supporting the class interface is part of the Python path.  From the point of view of performance, allows the property to be accessible through the simplest getter method (accessor), when direct access to a variable is needed.  It also allows access methods to be added later without changing the interface. <br><br><h6>  Minuses </h6><br>  Properties are declared after the get and set methods have been declared, demanding to inform them that they are used for properties located below in the code (excluding read-only properties created using the <b>@property</b> decorator, see below for details).  They must inherit from the <b>object</b> class.  Can hide side effects, such as operator overload.  Can be misleading classes-heirs. <br><br><h6>  Decision </h6><br>  Use properties in the code you just wrote to access or change data where you would use a simple get method or set method.  ‚ÄúRead only‚Äù properties should be created using the <b>@property</b> decorator.  Inheritance with properties may not be very transparent unless the parent property is overridden.  Thus, it is necessary to make sure that the getter methods are invoked indirectly in order to provide redefinition to methods in subclasses called via property (using the <a href="http://goo.gl/iRjIf">Template method</a> pattern) <br><br>  Good: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Square</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-string"><span class="hljs-string">"""A square with two properties: a writable area and a read-only perimeter. To use: &gt;&gt;&gt; sq = Square(3) &gt;&gt;&gt; sq.area 9 &gt;&gt;&gt; sq.perimeter 12 &gt;&gt;&gt; sq.area = 16 &gt;&gt;&gt; sq.side 4 &gt;&gt;&gt; sq.perimeter 16 """</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, side)</span></span></span><span class="hljs-function">:</span></span> self.side = side <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__get_area</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Calculates the 'area' property."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.side ** <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">___get_area</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Indirect accessor for 'area' property."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.__get_area() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__set_area</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, area)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Sets the 'area' property."""</span></span> self.side = math.sqrt(area) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">___set_area</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, area)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Indirect setter for 'area' property."""</span></span> self.__set_area(area) area = property(___get_area, ___set_area, doc=<span class="hljs-string"><span class="hljs-string">"""Gets or sets the area of the square."""</span></span>) @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">perimeter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.side * <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre><br></div></div><br><h5>  Calculations True / False </h5><br><div class="spoiler">  <b class="spoiler_title">Use False explicitly if possible.</b> <div class="spoiler_text"><h6>  Definition </h6><br>  Python calculates certain values ‚Äã‚Äãin <b>False</b> when we are in the context of a boolean value.  The easiest way to remember this is to know that all ‚Äúempty‚Äù values, such as <b>False</b> , <b>0</b> , <b>None</b> , <b>[]</b> , <b>{}</b> , are evaluated in <b>False</b> in a boolean context. <br><br><h6>  pros </h6><br>  Such conditional constructs that use the Python boolean values ‚Äã‚Äãare readable and less prone to errors.  In most cases, they are faster. <br><br><h6>  Minuses </h6><br>  It may look weird for C / C ++ developers. <br><br><h6>  Decision </h6><br>  Use False explicitly if possible.  For example, <b>if foo:</b> better than <b>if foo! = []:.</b>  You should remember a few exceptions: <br><ul><li>  Never use <b>==</b> or <b>! =</b> To compare singleton objects such as <b>None</b> .  Use <b>is</b> or <b>is not</b> . </li><li>  Beware of writing <b>if x:</b> when you mean <b>if x is not None:,</b> for example, when testing a variable or argument that is <b>None</b> by default, but its value has been changed to something else.  Another value can be computed in <b>False</b> with a boolean check. </li><li>  Never compare a Boolean variable to <b>False</b> using <b>==</b> .  Use <b>if not x</b> instead.     <b>False</b>  <b>None</b> ,    ,   <b>if not x</b> and <b>x is not None</b> . </li><li>   (, , )   ,      <b>False</b> ,   <b>if not seq</b>  <b>if seq</b> ,  <b>if len(seq)</b>  <b>if not len(seq)</b> :. </li><li>      ,    <b>False</b>   ,   (  <b>None</b>  <b>0</b> ).    ,     (      <b>len()</b> ) c . </li></ul><br><br> : <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> users: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"no"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo == <span class="hljs-number"><span class="hljs-number">0</span></span>: self.handle_zero() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i % <span class="hljs-number"><span class="hljs-number">10</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>: self.handle_multiple_of_ten()</code> </pre><br><br> : <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(users) == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'no users'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> foo: self.handle_zero() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> i % <span class="hljs-number"><span class="hljs-number">10</span></span>: self.handle_multiple_of_ten()</code> </pre><br><br> ,  ‚Äú0‚Äù (.. 0  )   <b>True</b> . <br></div></div><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Outdated language features </font></font></h5><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use methods instead of the string module where possible</font></font></b> <div class="spoiler_text">     <b>string</b> ,   .     ,    <b>apply</b> .      for   <b>filter</b>  <b>map</b> ,       -.    <b>reduce</b> . <br><br><h6>  </h6><br>    Python        . <br><br><h6>  Decision </h6><br>     Python,     ,       . <br><br> : <br><br><pre> <code class="python hljs">words = foo.split(<span class="hljs-string"><span class="hljs-string">':'</span></span>) [x[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> my_list <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x[<span class="hljs-number"><span class="hljs-number">2</span></span>] == <span class="hljs-number"><span class="hljs-number">5</span></span>] map(math.sqrt, data) <span class="hljs-comment"><span class="hljs-comment">#   -     fn(*args, **kwargs)</span></span></code> </pre><br><br> : <br><br><pre> <code class="python hljs">words = string.split(foo, <span class="hljs-string"><span class="hljs-string">':'</span></span>) map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-number"><span class="hljs-number">1</span></span>], filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-number"><span class="hljs-number">2</span></span>] == <span class="hljs-number"><span class="hljs-number">5</span></span>, my_list))</code> </pre><br></div></div><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lexical context </font></font></h5><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permitted to use</font></font></b> <div class="spoiler_text"><h6>  </h6><br>        ,    ,      .       ,      .        Python      ,     .    ,       . <br>    : <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_adder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(summand1)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Returns a function that adds numbers to a given number."""</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">adder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(summand2)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> summand1 + summand2 <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> adder</code> </pre><br><h6>  pros </h6><br>        .       Lisp  Scheme ( Haskell  ML ..) . <br><br><h6>  Minuses </h6><br>     ,        PEP-0227: <br><pre> <code class="python hljs">i = <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> i, <span class="hljs-comment"><span class="hljs-comment"># ... #    # ... for i in x: # ,  i   Foo,  - Bar  . print i, bar()</span></span></code> </pre><br>   <b>foo([1,2,3])</b>  <b>1 2 3 3</b> ,   <b>1 2 3 4</b> . <br><br><h6>  Decision </h6><br>  . <br></div></div><br><br><h4>  From translator </h4><br><h5>  Acknowledgments </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I want to express </font><a href="https://habrahabr.ru/users/squaii/" class="user_link"><font style="vertical-align: inherit;">many </font></a></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thanks to </font></font></b> <a href="https://habrahabr.ru/users/squaii/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SquaII</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , for reading and help in punctuation.</font></font><br><br><h5>  Soc.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> poll </font></font></h5></div><p>Source: <a href="https://habr.com/ru/post/179271/">https://habr.com/ru/post/179271/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../17926/index.html">iPhone-like prototype communicator based on Intel Moorestown</a></li>
<li><a href="../179261/index.html">Fly on touch screen</a></li>
<li><a href="../179265/index.html">KT315 - the workhorse of domestic electronics</a></li>
<li><a href="../179267/index.html">How much optimization or ‚Äúfree breakfast does not happen‚Äù</a></li>
<li><a href="../17927/index.html">What you need to write to get a minus on Habr√©</a></li>
<li><a href="../179279/index.html">Intel / AMD Switchable graphics [Ubuntu 12.04 - 12.10]</a></li>
<li><a href="../17928/index.html">What you need to write to get a minus on Habr√©</a></li>
<li><a href="../179281/index.html">A great way to learn how to evaluate project work.</a></li>
<li><a href="../179285/index.html">Utility to run php scripts in the background</a></li>
<li><a href="../17929/index.html">What you need to write to get a minus on Habr√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>