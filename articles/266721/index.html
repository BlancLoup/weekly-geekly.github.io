<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Z-Desk - geometric constructions in space</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr. I want to talk about one of his development in the field of 3D-graphics, which he called the Z-Desk. 



 Prehistory 
 My parents are engine...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Z-Desk - geometric constructions in space</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr.  I want to talk about one of his development in the field of 3D-graphics, which he called the Z-Desk. <br><br><img src="https://habrastorage.org/files/f42/d22/e2c/f42d22e2ccfb44d889b6af12c09ff2d5.png" alt="Z-Desk. Hyperplane"><br><br><h4>  Prehistory </h4><br>  My parents are engineers.  We had a drawing board at home.  There was something magical when paper was attached to it, and a drawing was created on paper with the help of simple tools.  School drawing became my favorite subject.  The institute appeared in general disruptive discipline - descriptive geometry.  With the help of simple rules it was possible to make complex spatial constructions. <br><a name="habracut"></a><br>  At the same time, the era of personal computers came to life.  The first graphic packages for building on the plane and in space appeared.  All this I really liked.  Also liked the game Descent.  Who knows will understand. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In parallel, he studied programming.  Turbo Pascal was the Graph library.  With a simple API, you could draw lines and geometric shapes.  An idea appeared in my head - that if we had added a third dimension to the drawing board using a computer, and that if we could draw in the volume as easily as on the screen in Turbo Pascal. <br><br>  This idea wandered in my head, but could not find a way out.  And now, when 3D became available in browsers through the WebGL API, I understood that the time had come. <br><br><h4>  First try </h4><br>  The first attempt looked like a module to Drupal.  The drawing was viewed as a publication.  The language for creating 3D scenes was PHP.  After publication, the drawing could be viewed in several modes.  X3Dom was chosen as the WebGL library ‚Äî she used special HTML tags to create scenes. <br><br>  There were strengths and weaknesses in this approach.  The advantage is that for the management of materials and users it was possible to apply all the features of a CMS.  The disadvantage was a somewhat inconvenient use of the system, a large number of actions in order to at least see something on the screen. <br><br>  Although I consider this attempt not very successful, in the process of its implementation a lot of experience was gained and various approaches to the software and user interface of the system were tested.  About this attempt I wrote an article on Habr√©. <br><br>  <a href="http://habrahabr.ru/post/209496/">habrahabr.ru/post/209496</a> - <b>Creating 3D-illustrations - a prototype of the system</b> <br><br>  Good people wrote reviews, some even tried to draw something, but since the interface was heavy and incomprehensible, the system did not show much success in this direction. <br><br>  Smart people in the comments advised to look in the direction of the library three.js.  What I did.  Along with the study of the library, new approaches to the system and its interface began to appear.  The main idea is to make acquaintance with the system as simple and clear as possible so that the finished result is just a click away. <br><br><h4>  Z-Desk system </h4><br>  This is how the Z-Desk system appeared.  In order for the system to work properly, you need a browser with WebGL support.  If you have a good video card and one of the latest versions of Firefox or Chrome, then most likely everything will be fine.  I apologize to all the others if something does not work. <br><br>  <a href="http://headfire.github.io/zdesk">headfire.github.io/zdesk</a> - <b>View the Z-Desk system in action</b> <br><br>  <a href="http://github.com/headfire/zdesk">github.com/headfire/zdesk</a> - <b>Repository on GitHub</b> <br><br>  After loading you are met by a three-dimensional model of a ‚Äúwarm tube‚Äù drawing board (hello from childhood).  The board gives the system an original look, besides it helps to orient in the sizes and orientations of objects when building and viewing.  On the left is the program code.  The starting example shows how to draw two points and connect them with a segment.  Above the code is a field for selecting other examples.  At the moment, examples have been created that describe all the capabilities of the system. <br><br><img src="https://habrastorage.org/files/61f/646/f45/61f646f450034d09ad8db8cfe3508288.png"><br><br>  You can draw in the plane of the drawing paper.  To do this, when determining the coordinates, you must not specify the third coordinate (or specify 0).  In this case, the drawing will be drawn on paper.  But if you add the Z-coordinate a miracle happens - the drawing will spread its wings and soar above the surface of the drawing board. <br><br>  The scene creation language is now JavaScript.  You can edit the existing code and enter your own.  After clicking on the "Run" button, it is immediately drawn in the model.  If you make a mistake, the system will write an error message and highlight the line of code. <br><br>  Another major change in the system - now there is no CMS.  Examples are stored as simple JS files.  The whole system is a static one-page application without server scripts and databases.  This means that you cannot save your drawing in the system.  Therefore, if you liked what you created - copy it into a text editor and save it in your file.  In the future, it will be necessary to make the possibility of publishing the created drawings, but for the demo version this is not so relevant. <br><br><h4>  Display in stereo mode on 3D-TVs and without them </h4><br>  One of the prerequisites of the project, I determined the possibility of showing illustrations in stereo mode. <br><br>  If you are a happy owner of the cross-look skill, you can see the stereo drawing without any technical means.  Turn on the 3D button in the control panel and flatten your eyes (be careful, after finishing viewing, make sure that your eyes are in the normal position :). <br><br><img src="https://habrastorage.org/files/639/4f9/ad0/6394f9ad0cfd428d81bd231492b073e6.png"><br><br>  If you click 3D a second time, the mode for 3D TVs will turn on.  3D TVs are no longer a curiosity and are quite widespread.  One problem - not enough 3D content.  Z-Desk system is designed to solve this problem.  You can connect the TV via HDMI and view the drawing in 3D mode without any drivers.  Turning, as it was written above, to the 3D-TV mode, open the drawing field on the full screen using another button, turn on the 3D SideBySide on the TV, put on your glasses and look at your drawing in all its beauty.  Stereo mode was tested on the TV Philips 42 "42PFL7606H / 60 (for this special thanks to my friend Sergey). <br><br><img src="https://habrastorage.org/files/a41/0ae/e25/a410aee253274c2d91729e9f78c99a88.png"><br><br><h4>  A few more words about the system </h4><br>  The construction mastab is defined by a sheet of paper on the drawing board.  This is not just a sheet - but the drawing format A0 (841 √ó 1189).  All object coordinates must be correlated with these dimensions.  Zero - in the center of the sheet.  Z axis is pointing up.  The coordinate system with a special command can be moved and rotated.  All subsequent constructions will be made taking into account the new position of the coordinate system. <br><br>  Points, lines, arrows and other objects are modeled by bodies, that is, they have a certain thickness and volume.  Although it adds entertainment, very small constructions look sloppy - so you should draw larger ones. <br><br>  For the construction can be used in various colors.  For different types of objects the color is set separately.  This is done so that you can set the color scheme and then build in the same style without constantly switching the color context.  In addition to color, objects can be set to transparency.  This is useful, for example, when you want to draw auxiliary or explanatory constructions. <br><br>  The system has done everything to create really useful illustrations.  At any point in space, you can create text labels and they will move with the model, but at the same time stay in the plane of the screen and be readable.  In addition, you can display information at the top of the drawing in plain text. <br><br>  In geometric problems, it is often necessary to mark segments or angles as identical.  At school, we did this by applying a notch (from one to four) to the middle of the segment.  The corners were marked with small arcs on the same principle.  This simple method is implemented in the system. <br><br>  If you decide to illustrate the sequential construction of several steps, then this is also possible.  A drawing can contain several slides and you can control the visibility of objects by placing them only on the desired slides. <br><br><h4>  System interface </h4><br>  For completeness, I provide a full list of commands for constructing drawings: <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      place = Decart ( x, y,[z] ); place = Polar( radius, angle, [z] ); //   Point ( place ); Line ( startPlace, endPlace ); Vect ( startPlace, endPlace ); Circle ( radius, place, [lookAt] ); Arc ( radius, startAngle, angle, place, [lookAt] ); //  Triangle ( aPlace, bPlace, cPlace ); // Box ( place, xSize, ySize, zSize, [lookAt], [zAngle] ); Sphere ( place, radius ); Cylinder ( place, topRadius, bottomRadius ,height, [lookAt] ); Torus ( place, mainRadius, tubeRadius, [lookAt] ); //   MarkLine ( startPlace, endPlace, marksCount ); MarkAngle( firstPlace, basePlace, secondPlace, marksCount ); Label ( place, text ); Message ( text ); //  Coord ( ); SetCoord ( place, [lookAt],[zAngle] ); //   color : GRAY, RED, GREEN, BLUE, YELLOW, MAGENTA, GYAN, BROWN transparent : NORMAL, GLASS, CHOST SetPointColor ( color ); SetLineColor ( color ); SetObjectColor( color ); SetTriangleColor ( color ); SetMarkColor ( color ); SetTransparent ( transparent ); //  SetVisible ( startSlide, endSlide ); // PI = 3.14 ...; angleInRadians = Rad ( angleInDegrees ); angleInDegrees = Deg ( angleInRadians ); Sin ( x ); Cos ( x ); Tan ( x ); ASin ( x ); ACos ( x ); ATan ( x ); //  E = 2.71 ...; Sqr ( x ); Sqrt( x ); Power( x, y ); Log ( x ); Exp ( x ); //  Max ( x1, x2, x3, ... ); Min ( x1, x2, x3, ... ); Random ( min, max ); // **      !!!</span></span></code> </pre> <br><br><h4>  Where could it come in handy </h4><br>  I think such a system may have some academic interest. <br><br><ul><li>  It is possible to illustrate online textbooks and problem books on geometry, mathematics, physics, chemistry. </li><li>  You can create volumetric infographics. </li><li>  In educational institutions, you can create modern demo zones, where colorful volumetric illustrations are consistently broadcast on a 3D TV. </li></ul><br><br><img src="https://habrastorage.org/files/b79/18a/79c/b7918a79ce9549bf86e966ca46e35582.png"><br><br>  I came across the opinion that it is inconvenient to create illustrations using programming and that something like a voluminous editor is needed.  Indeed, there are shortcomings in the approach to language, but there are also advantages.  The use of a programming language is a great advantage for precise, repetitive, and parametric constructions.  And further: <br><br><ul><li>  You can learn the basics of programming in a fun and visual way. </li></ul><br>  Indeed, when you try to awaken an interest in programming in children, some entertainment is needed.  When you write several pages of code, and the program gives x = 3.455 as a result, it can cool even the hottest children's hearts in the first stages. <br><br>  But, if the program <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ZDesk -  -  SetCoord(Decart(-400, 0, 100), Decart(500,0,700)) var i; var a1 = Polar(100,0,0); var a2 = Polar(100,Rad(180),0); var b1, b2; for (i=1;i&lt;150;i++) { b1 = a1; a1 = Polar(100,Rad(i*4),i*6); b2 = a2; a2 = Polar(100,Rad(i*4+180),i*6) SetTransparent(NORMAL); SetLineColor(BLUE); Line(a1,b1); Line(a2,b2); if (i%10 == 0) { Point(b1); Point(b2); SetLineColor(RED); SetTransparent(GLASS); Line(b1, b2); } }</span></span></code> </pre><br>  produces a super-volume drawing <br><br><img src="https://habrastorage.org/files/8e9/cad/7e2/8e9cad7e20c54ae2a8d6246f5c9f61c5.png"><br><br>  - this will certainly add to the interest of children in computer science.  On the Internet in this direction are under active development.  On Geektimes recently there was an article about a ‚Äúlive‚Äù textbook of linear algebra: <br><br>  <a href="http://geektimes.ru/post/262068/">geektimes.ru/post/262068</a> - <b>The first interactive textbook on linear algebra</b> <br><br>  This is a very interesting direction.  It is possible and necessary to develop and use similar approaches. <br><br><h4>  Conclusion </h4><br>  Please do not take this system too seriously and do not judge strictly.  I just did what I wanted for a long time.  And if it benefits anyone, it will be great.  I am very grateful to my father for instilling in me a love for engineering disciplines.  I am also grateful to the creators of the three.js (WebGL) and codemirror.js libraries (code editor).  Very good, thoughtful and reliable libraries. <br><br>  <a href="http://threejs.org/">threejs.org</a> - <b>WebGL 3D library</b> <br>  <a href="http://codemirror.net/">codemirror.net</a> - <b>Text Editor on JavaScript</b> <br><br>  Bye, Habr!  Waiting for feedback ... <br><br>  - </div><p>Source: <a href="https://habr.com/ru/post/266721/">https://habr.com/ru/post/266721/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266707/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 10. "Cris Aragon"</a></li>
<li><a href="../266713/index.html">Design unification from the backend: JavaScript on the server</a></li>
<li><a href="../266715/index.html">Borrowing and time in Rust</a></li>
<li><a href="../266717/index.html">Study: Almost all popular firewalls miss XSS attacks</a></li>
<li><a href="../266719/index.html">Screentendo - Generate levels for Super Mario Bros based on screen content.</a></li>
<li><a href="../266727/index.html">About a Data Science Problem</a></li>
<li><a href="../266729/index.html">We log context of exceptions</a></li>
<li><a href="../266731/index.html">Run a mega-manual from Stackoverflow</a></li>
<li><a href="../266733/index.html">Why SMS is limited to 160 characters, and Twitter messages - 140 characters?</a></li>
<li><a href="../266735/index.html">Snaql. Raw SQL in Python projects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>