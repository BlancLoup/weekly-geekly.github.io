<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We collect data on customer behavior on the site</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article we figured out how to make personalized offers on the website of the online store. Today we will tell how to collect data on t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We collect data on customer behavior on the site</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="https://habr.com/company/sas/blog/352258/">previous article</a> we figured out how to make personalized offers on the website of the online store.  Today we will tell how to collect data on the behavior of its visitors, in order to then build reports on the sales funnel, catch up with ‚Äúabandoned baskets‚Äù and pick up product recommendations.  Let's see why simple analytics is not enough for high-quality personalization and how to better understand your customer using SAS Customer Intelligence 360. <br><br> <a href=""><img src="https://habrastorage.org/webt/dw/k1/vj/dwk1vjqcklfd58k2mglqkcvqgkq.jpeg"></a> <br><a name="habracut"></a><br>  The most popular tools for analyzing user behavior on the site are free Google Analytics and Yandex.Metrica.  For their work, the site owner must place a JS-code (more often called a tag) on ‚Äã‚Äãthe site, mark out the main stages of the sales funnel and set up sending data about the events made by users.  After that, Analytics and Metric will display reports on viewed products, purchases made, visited villages, user geography, etc. <br><br>  The main disadvantage of free versions of Google Analytics and Yandex.Metrics is that the data in them is aggregated and sometimes even sampled.  The site owner is only available general information about what is happening in his online store: how many users at each stage of the sales funnel and what products are viewed and purchased. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is enough for a beginner internet seller.  But if you have increased sales, collected an extensive database of information on customers and now you want to send them effective personalized offers, then summarized data for all users is no longer enough.  It is necessary to go deep into the level of each user: see what products he views, puts in the basket and buys, analyze his behavior.  This task can be solved by SAS Customer Intelligence 360 ‚Äã‚Äã(or simply ‚ÄúCI 360‚Äù). <br><br>  Let's take a look at how to work with it.  When using CI 360, you will need to place a special tag on the pages of the site (for example, placing it in the header), and then set up e-commerce events in the graphical interface. <br><br>  Consider the main stages of setting up data collection on the behavior of site visitors on the example of the <a href="http://thestore.sas-mic.ru/">SAS Store</a> demo store.  Create rules to track product viewing events, add to the basket and view the basket, and determine what information should be obtained from them.  CI 360 allows you to configure more events viewing the purchases and viewing the order.  This is done in the same way as setting the basket view event. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p5/dd/ge/p5ddgegdnhlyi0nbh5-q7b81fkq.jpeg"></div>  <i><font color="#99999">Ecommerce Event Customizable Events</font></i> <br><br><h2>  Customize Product View Event </h2><br>  Create a product viewing event and determine what data to get from it.  Usually, online stores all product pages have a common URL pattern and HTML page code.  The SAS Store website is no exception - a typical product page looks like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dq/ee/j1/dqeej1kfpv-1iyrgylvrzwf8kk4.jpeg"></div>  <i><font color="#99999">Product page on the site</font></i> <br><br>  Common attributes of products are: product ID, product name, product group name and price.  Set up the collection of information about these attributes in CI 360. <br><br>  In the interface, we will create a product viewing event and set a template for the product pages ‚Äî we define the domain, the URL path.  The page with the product is determined by the parameters of the request route and product_id.  For the product_id parameter, we set the rule using a regular expression, under which any non-empty sequence is suitable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hk/sk/ae/hkskaelqguwpslmeikpe4-6ldn0.jpeg"></div>  <i><font color="#99999">Product page identification settings tab</font></i> <br><br>  Next, you need to specify how the values ‚Äã‚Äãof the received data from this event will be filled.  They can be taken from elements on the page, URL (domain, request parameter or cookie) or page information - say, the value of a javascript variable or page header. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uq/s2/uh/uqs2uhfiv6nafnmbcqcosfz2rsg.jpeg"></div>  <i><font color="#99999">Setting the filling of product attributes</font></i> <br><br>  The product identifier is collected from the product_id parameter in the URL.  The remaining information is taken from the product page.  To do this, select the element selector from which you want to collect data.  You can also specify whether to extract all or part of the text.  For example, for the attribute ‚Äúprice of the product‚Äù take the value before the symbol rub. <br><br>  In addition to these attributes, you can define the following: product item, message about product availability, message about product delivery and message about quantity of goods, if information is available on the page.  If you need to collect more information about the product, then in the CI 360 you can configure the collection of additional data from pages that can later be merged. <br><br><h2>  Setting event add product to cart </h2><br>  Collection of data about the event of adding to the basket can be configured to the action of sending the form or pressing a button.  For the SAS Store site, you should configure this rule at the click of a button. <br><br>  To do this, the interface sets a template for the product page, then the selected page opens in the interface and selects the object to click with the mouse - the ‚ÄúAdd to basket‚Äù button, after which it will be highlighted in blue. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/mg/ue/iamguepmz95dugn7c5iui7hhwgi.jpeg"></div>  <i><font color="#99999">Select object to click</font></i> <br><br>  Similarly, attributes for the add to cart event are defined with product attributes.  Only the attribute of the quantity of the added product is added to them, which is taken from the product page from the ‚ÄúQuantity‚Äù field. <br><br>  When adding a product to the cart, an error may occur: for example, the user did not specify the size or a message was displayed stating that the product was out of stock or is no longer available.  In this case, the product does not actually fall into the basket.  You can define an event that the CI 360 considers to be an error in adding goods to the cart.  It can be configured according to the events of changing the contents of the site page or JavaScript variable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i0/me/sr/i0mesr4w_e0ubkc8ezaox2tbtlm.jpeg"></div>  <i><font color="#99999">Adding error event add to cart</font></i> <br><br><h2>  Setting a page view event with a cart </h2><br>  This event should occur when the user views the cart page.  Consider the cart page on the site and determine what data from this event should be collected.  Then create a basket view event in the interface. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zv/tx/u7/zvtxu7y0nc_9u6cpa2smqpmv-rc.jpeg"></div>  <i><font color="#99999">View basket page on the site</font></i> <br><br>  Understand the attributes of the event.  After all, different users may have a different number of products in the basket, then how to set information about the contents of the basket? <br><br>  Usually, all products are listed in some table on the page, and in the CI 360 interface you need to specify the selector for one such line with the product in the basket.  Then CI 360 will automatically find the remaining rows in the product table and collect data from them. <br><br>  Let's set collection of data on the name of a product in a basket, its price and quantity.  Also for the basket we will determine the cost of delivery, the total price of goods in the basket and the city of delivery.  The definition of the elements from which data will be collected is similar to how it was done in setting up a product viewing event. <br><br>  After saving and publishing the created rules, data begins to be collected in the CI 360 data model. There are three tables in it that contain data about e-commerce events.  They can be downloaded for further analysis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7_/oo/8x/7_oo8xd1fcuyjo4ixbd6mzziwmm.jpeg"></div>  <i><font color="#99999">Product View Information Table</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rv/-j/fp/rv-jfpoanjypc7brmaavhfj-e-m.jpeg"></div>  <i><font color="#99999">A table with detailed information on products in the baskets of site visitors</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/dd/xt/tiddxtjane59taa3-r7vobbz9vi.jpeg"></div>  <i><font color="#99999">Table with brief information on basket views</font></i> <br><br>  Based on the collected data, CI 360 creates automatic reports that can be viewed right there in the studio interface.  For example, they show which products people viewed and added to the cart, which of them then bought and which ones did not. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/as/g1/ob/asg1oburqhec-4pu4ndwr4mi3lm.jpeg"></div>  <i><font color="#99999">Ecommerce Report.</font></i>  <i><font color="#99999">Chart for product views and basket start</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3p/ry/23/3pry23bnyjyrpcqekc6ej_tny3k.jpeg"></div>  <i><font color="#99999">Ecommerce Report.</font></i>  <i><font color="#99999">For groups of products, you can see the statistics view product / product purchase</font></i> <br><br>  With the help of CI 360, we were able to quickly set up rules for collecting data on product views and work with the basket.  Of course, the solution provides a set of standard reports on user behavior (including e-commerce data) by default out of the box.  But you can customize your own reports, for example, on the sales funnel, as well as monetize the received insights - catch up with ‚Äúabandoned baskets‚Äù and use this data to select product recommendations.  How exactly?  We can tell about it in one of the following articles - subscribe for updates not to miss. </div><p>Source: <a href="https://habr.com/ru/post/430404/">https://habr.com/ru/post/430404/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../430394/index.html">Implementing Instant Android Search with RxJava</a></li>
<li><a href="../430396/index.html">Chain replication: building efficient KV storage (part 1/2)</a></li>
<li><a href="../430398/index.html">How to understand that you are not happy or are discussing methods of extruding workers from the company</a></li>
<li><a href="../430400/index.html">Experience of using keyboard and mouse hybrid in programming</a></li>
<li><a href="../430402/index.html">What does developer.android.com say about RecyclerView?</a></li>
<li><a href="../430406/index.html">C ++ 20 and Modules, Networking, Coroutines, Ranges, Graphics. The results of the meeting in San Diego</a></li>
<li><a href="../430408/index.html">We check the closed vulnerability and get four new CVEs.</a></li>
<li><a href="../430410/index.html">"There will always have to develop": an interview with Evgeny Kuvshinov (ManyChat) about the development in a startup</a></li>
<li><a href="../430412/index.html">Fuzzy logic against PID. We cross a hedgehog and a snake. Aircraft engine and control algorithms for nuclear power plants</a></li>
<li><a href="../430414/index.html">Azure DevOps for Commodore 64?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>