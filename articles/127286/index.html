<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analyzing system performance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Renting a server or a virtual machine on the network is becoming more accessible. At the time of this writing, renting a powerful 4th nuclear server w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analyzing system performance</h1><div class="post__text post__text-html js-mediator-article">  Renting a server or a virtual machine on the network is becoming more accessible.  At the time of this writing, renting a powerful 4th nuclear server with unlimited traffic costs only $ 70-100 per month. <br><br>  For this reason, many companies, webmasters and developers rent a server for several projects instead of using shared hosting. <br><br>  The advantages are obvious: greater control over the work of applications and the full use of server resources for their projects. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      How to determine that server performance is not enough and it's time to upgrade or replace?  Which component has become a bottleneck? <br><br>  This article will help you answer the question yourself - is a server required?  - using Microsoft Excel PivotTables.  Using the described method, it will not be difficult for you to prepare a beautiful illustrated report to management, as well as quickly find bottlenecks in the system.  There will be a lot of pictures! <br><br><a name="habracut"></a>  We need two things: data and a tool for analyzing them. <br><br>  To analyze performance data, we will use the Pivot Tables from Microsoft Excel.  As an example of data, the result of the Performance Monitor is recorded in a CSV file.  This is a standard Windows Server tool, but the data obtained on any system can be processed in the same way. <br><br><h4>  Start - data collection </h4><br>  To manage something, you need to measure it.  To analyze the performance of the server, we need measurements of performance indicators. <br><br>  To collect Windows server data, you must first configure Performance Monitor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9c1/663/533/9c1663533b790bb3690f5b6de8f006b9.png" alt="Performance monitor"><br><br>  When configuring monitoring tools, the intervals between recording performance data counters should be equal to or more than 5 minutes.  During the week you will accumulate enough for analysis. <br><br>  In Windows Server 2008, there are predefined collections for gathering information using Performance Monitor.  You can use them by changing the format of writing data to a CSV file, or customize your own. <br><br>  To assess the basic performance of the server, it is enough to collect information. <br><ul><li>  Average Disk Queue - for hard drives </li><li>  % Processor Tme - for processor and processes </li><li>  Committed Bytes - for RAM </li></ul><br>  You can also add to the set any other data you deem necessary.  To assess the workload, system queues to various system resources ‚Äî processor, disk ‚Äî are particularly interesting.  When a process needs access to a physical resource, the operating system queues the request.  If there are more than 2 elements in the queue, then the resource becomes a bottleneck. <br><br>  For further analysis, it is better to save the data to a CSV file immediately. <br><br><h4>  We start the analysis </h4><br>  For analysis, I use Excel 2010 PivotTables. Similar functionality exists in Microsoft Office and earlier versions, as well as in recent OpenOffice. <br><br>  First you need to load the collected data into the document. <br><br><h5>  Insert a set of source data for analysis </h5><br>  To insert data, go to the "Data" section, then select "Get external data" and "From text": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ca/d18/563/9cad185631f40a9f6859c07806a4125c.png"><br><br>  Select the file in which the monitoring data is saved and click "Import": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a8/e87/d3d/7a8e87d3dbf9e285f1ba179db8b41be6.png"><br><br>  Excel will launch the data import wizard. <br><br>  Performance Monitor uses a comma as a delimiter.  The easiest option is to have the same regional settings on the system where the data was collected and yours. <br><br>  We will indicate to the master the necessary parameters: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/004/6c5/0c3/0046c50c3300be98e9e9d50c618f1986.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/22e/4b7/fdf/22e4b7fdf847b5b364de2c078ede8b2e.png"><br><br>  At the last stage, it is important to check that the separator matches the fractional part of the whole.  If they differ - depending on the settings, this can be either a period or a comma, then you need to tell Excel which character is used in the imported data. <br><br>  To do this, select all data columns in the wizard, and click "Details": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb3/d0d/6b2/eb3d0d6b240d2e3a7fb93161fadf7f2b.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e5b/f54/9e0/e5bf549e0dc034b66728a689e69954b8.png"><br><br>  Now click "OK" and "Done." <br><br>  It remains to specify where to put the data in the document: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b8/79f/3e5/2b879f3e5d3163fe7273ea3b6f0242a5.png"><br><br>  Excel imported data into a document: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/016/091/2fa/0160912fa88e63f00f0206aa0132aa61.png"><br><br>  For data processing, we will use a pivot table.  To create it, you first need to tell Excel that the characters in the cells in the sheet are a table of related data. <br><br>  In the 2010 version, just press Ctrl-L.  Excel automatically selected all cells filled with data: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a8/3eb/38f/7a83eb38fb5439c83da7ab030011981b.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7eb/187/461/7eb187461d37cf03d5c89dbd449a594f.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1e9/441/264/1e9441264cb15d8dab1d00f31f95a751.png"><br><br>  The table was colored with beautiful colors, and drop-down lists for filtering data appeared at the top - now the data are treated as a linked table. <br><br>  To simplify further work, I will remove the server name from the column headings: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5e/70b/d44/b5e70bd44abcd2fdaa6b1fe1b8f54b17.png"><br><br><h5>  Create a pivot table with the schedule </h5><br>  Select "Insert", then "Pivot Chart": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e94/31b/f2f/e9431bf2f67b1a0b3b4c29571cb45cb5.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee5/c27/86e/ee5c2786e59ed573cc16f5a4f3c996fb.png"><br><br>  A pivot table with our data and a diagram related to it appeared on the new sheet: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/936/ef0/2d2/936ef02d2cb692a3e2070edd2567b01a.png"><br><br>  Further analysis will occur like a charm. <br><br>  Let's look at the number of requests in the queue to the hard disk. <br><br>  We place time on the fields of axes, and Avg.  Disk Queue Length: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d26/9bb/6ed/d269bb6ed0cd7dedbb854d86393ccce4.png"><br><br>  In this case, Excel counted the number of measurements. <br><br>  Change the number to the average for the period: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b62/975/5e3/b629755e35bd9aabf9006fbf937bc9d6.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ad/4e7/1c7/6ad4e71c7df6422f6c485c96cfb3d7f7.png"><br><br>  I also adjusted the title so that the pivot table columns are not too large: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c84/b88/478/c84b88478587e00b9369fa88912624a8.png"><br><br><h5>  Actually analysis </h5><br>  The graphics immediately show that the hard disk is not a bottleneck - the queue occasionally exceeds one: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a23/246/f30/a23246f30cfced1514bcf7ca119b5e74.png"><br><br>  The field "Date" can be grouped: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e8e/35a/864/e8e35a864929887124e26631af656491.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/aec/e98/c23/aece98c239a5f2190e9924c504ac940c.png"><br><br>  Now you can collapse the pivot table to days: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af4/34a/d74/af434ad74b938fb038d6f8389c10e1e4.png"><br><br>  Immediately visible is the most loaded day of the week: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ed/f67/44d/6edf6744d362c5468f11ab2955bef05b.png"><br><br>  And this may look like the original report from the working system: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/09a/648/464/09a648464937324cd9a3aff1feadfc76.png"><br><br>  Successes in measurements! </div><p>Source: <a href="https://habr.com/ru/post/127286/">https://habr.com/ru/post/127286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127275/index.html">SCLOG: a bike with all the features of a programming language</a></li>
<li><a href="../127276/index.html">Language for working with ActionScript events</a></li>
<li><a href="../127281/index.html">Bypassing the integrated protection of PIC microcontrollers</a></li>
<li><a href="../127282/index.html">SymmetricDS based PostgreSQL database replication</a></li>
<li><a href="../127285/index.html">Keymaster.js: a simple micro-library for hot keys</a></li>
<li><a href="../127287/index.html">"Cloud" as an alternative to traditional hosting</a></li>
<li><a href="../127288/index.html">Visualization of intra-class relationships using GraphViz</a></li>
<li><a href="../127290/index.html">Let's work with MongoDb</a></li>
<li><a href="../127291/index.html">Virtual RBK Money MasterCard Virtual</a></li>
<li><a href="../127293/index.html">Google promotes HTML5 as a gaming platform.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>