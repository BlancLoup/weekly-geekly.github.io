<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>50% click fraud on Yandex.Market or how to detect click fraud using standard tools</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You begin to seriously think about the problem of click fraud only when the discrepancy between the data of your own statistics by more than 30% disag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>50% click fraud on Yandex.Market or how to detect click fraud using standard tools</h1><div class="post__text post__text-html js-mediator-article">  You begin to seriously think about the problem of click fraud only when the discrepancy between the data of your own statistics by more than 30% disagrees with the data of the advertising system. <br><br>  In our case, the last straw was the discrepancy of internal counters with Yandex.Market statistics by more than 50%.  Are there really more than 50% of bots that are deducted from our balance? <br><br>  We decided to check this by analyzing the data from our server logs, Yandex.Metrica and Google Analytics. <br><a name="habracut"></a><br>  Let's start in order.  So, 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Clickfod</b> (click fraud) is one of the types of online fraud, which is a fraudulent click on an advertising link by a person who is not interested in an advertisement.  It can be performed using automated scripts or programs that simulate a user's click on Pay per click advertisements.  (Tnx 2 wiki) <br><br><h3>  How to detect click fraud? </h3><br>  Many of us launch advertising campaigns, work with them for years and don‚Äôt even think about click frode.  But at a certain point strange things start to happen: <br><ul><li>  traffic increases, but conversion does not change </li><li>  statistics of the advertising system begins to differ sharply from the readings of its own counters </li><li>  there are some strange patterns in the click statistics of advertising systems </li></ul><br>  In our case, that is exactly what happened! <br><br>  We knew that there should be no problems with the availability of our server, everything worked like a clock.  The Analytics - Metrics link used by us showed approximately the same data on each counter. <br><br>  We were alarmed by the fact that the <b>difference in our statistics and the statistics of</b> each of the advertising systems was no more than 10-15%, and <b>on the Market it periodically jumped out at 30%</b> (what the Metric looked like) <b>and</b> at one point <b>reached 50%</b> . <br><br>  During the reporting period, Yandex.Metrica and Google Analytics showed approximately the same number of entries from Market, but this number was much (more than 40%) different from Market statistics. <br><br>  <i><u>A few words about how we tracked ads:</u></i> <i><br></i>  <i>All advertising links were marked with utm-tags, moreover, we could track both total clicks by category and clicks on specific products;</i> <i><br></i>  <i>we watched a report on traffic sources in GA and the reports ‚ÄúSources -&gt; advertising systems‚Äù and ‚ÄúSources -&gt; Tags‚Äù in Metric.</i> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f0c/8b3/978/f0c8b39782a60aa94197c1bced22ca79.jpg" alt="image"><br><br>  By the way, we noticed the discrepancy in the Market itself in the Orders report (+1 in favor of the established Metric): <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ba4/f1d/bd4/ba4f1dbd4a620868bf39fb74bada56e5.jpg" alt="image"><br><br>  Obviously, the contents of this tablet with the reasons for the discrepancy described in it did not satisfy me, and I immediately began to understand.  This problem did not occur for the first time, and as soon as we noticed it, we immediately checked the settings and accessibility of the site. <br><br>  In order to understand if these clicks really were, we decided to <b>analyze the server logs</b> . <br><br>  <b>Analysis of the logs showed</b> that the actual number of server requests with the correct referrer was almost equal to clicks on Market statistics (less than 1% of the difference). <br>  That is, there are <b>clicks, but there are no users!</b> <br><br>  We began to analyze more deeply, and we immediately caught one strange fact.  There were a lot of similar requests with the <b>same system data, the same browsers and screen resolutions</b> .  At the same time, a certain logic of clicks was traced, the same product pages were pressed.  Moreover, the user browser was suspicious. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/884/d3c/3a3/884d3c3a3b3386456fa8f1cb4739fd87.png" alt="image"><br><br>  I was also surprised by the fact that <b>all IP belonged to regional cellular operators</b> : <br><img src="https://habrastorage.org/getpro/geektimes/post_images/7bd/c9c/087/7bdc9c0876dc7ca5dd43ad23299bd427.png" alt="image"><br><br>  In the next step, we looked at <b>whether our meters see transitions from these IPs</b> . <br>  And they hit the target - the meters <b>recorded very few transitions from the IP of mobile operators</b> .  Moreover, having eliminated live users with the help of WebVizor in the Metrics, we just got the missing number of ‚Äúlost‚Äù clicks from Market. <br><br>  WebVisor still recorded some visits to the "bots": <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/12f/b0b/9e3/12fb0b9e34d0e751c127d95b20e363ce.jpg" alt="image"><br><br>  It is obvious that such visitors are not interested in shopping on our site;) <br><br><h4>  So what are these clicks? </h4><br>  <b>Let's sum up</b> .  We have: <br><ul><li>  Clicks from the IP of mobile operators, suitable for the region (by the way, the mobile Internet is good because it constantly gives different IP) </li><li>  they are all made on devices that give the server the same parameters (browser, permissions, system) </li><li>  these are clicks that are not recorded by counters and do not run scripts </li><li>  similar action scenarios are traced (pages, delays in requests, number of requests) </li></ul><br>  <b>FINDINGS:</b> <br><ol><li>  There is a typical click fraud! </li><li>  In fact, such a system is very easy to organize, having several mobile devices. </li></ol><br><h4>  There is a question for Yandex.Market? </h4><br>  <b>Is it really impossible to cut off such an easy way to cheat?</b>  Or is it not interesting to anyone? <br><br><h4>  Outro </h4><br>  To date, click fraud eats a huge part of the budgets of advertisers.  But to prove it, or even more so to get your money back, is extremely difficult.  At the moment, in our situation, Yandex.Market promised to sort it out, but we decided to get ahead of it and figured it out ourselves.  We'll see if we can get something back. <br><br>  I hope our experience will help you too;) </div><p>Source: <a href="https://habr.com/ru/post/118481/">https://habr.com/ru/post/118481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118472/index.html">An interesting feature of Grub2: loading from ISO file</a></li>
<li><a href="../118474/index.html">St. Petersburg radio market Juno</a></li>
<li><a href="../118475/index.html">How to become a system administrator - a guide for beginners (Part 1)</a></li>
<li><a href="../118478/index.html">The number of free applications in the Android Market has exceeded the number of the same in the AppStore</a></li>
<li><a href="../118479/index.html">On-Line Broadcasting with Linux InstallFest in Nizhny Novgorod</a></li>
<li><a href="../118482/index.html">Sliding screens inside the app</a></li>
<li><a href="../118483/index.html">Theory about hiding processes by rootkits (DKOM)</a></li>
<li><a href="../118485/index.html">FreeBSD 8.2, Samba 3.4, Active Directory and Cyrillic Logins</a></li>
<li><a href="../118487/index.html">Scrum Pitfalls - Motley Frames</a></li>
<li><a href="../118488/index.html">Using the SPI mechanism to create extensions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>