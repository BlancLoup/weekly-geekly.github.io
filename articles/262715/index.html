<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenAdAdapter - Simple Mobile Advertising Management</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few years ago, I decided that inserting one ad network into a mobile application was not effective enough and thrust several networks, and this wint...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenAdAdapter - Simple Mobile Advertising Management</h1><div class="post__text post__text-html js-mediator-article">  A few years ago, I decided that inserting one ad network into a mobile application was not effective enough and thrust several networks, and this winter I decided to rewrite and post this development on github.  This is how the OpenAdAdapter was born. <br><br>  <a href="https://github.com/OpenAdAdapter">OpenAdAdapter</a> is a library for mobile games (Android and iOS, Apache 2.0 license).  I decided to make an adapter for games, not for all applications, to make the API easier.  By game, I mean an application that has one GL canvas on the whole screen, and the banner is located above or below.  When the banner is there, the canvas must be slightly moved.  That is, the developer simply says: show the banner from the bottom, without having to delve into how to put the network X into layot.  Many games are developed using SDK and engines like Marmalade or Unity.  They get to the native platform and learn all the nuances of the implementation of Kolbek, this is a separate jitsu.  By the way, this is why there are no callbacks in OpenAdAdapter. <br><br>  It is assumed that the OpenAdAdapter API can be called from any thread.  (I conceived it, but I am afraid to blame).  All methods are static. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The following networks are currently supported: <br><br><h5>  Android </h5><br>  - AdColony <br>  - Admob <br>  - AerServ <br>  - Chartboost <br>  - heyzap <br>  - InMobi <br><br><h5>  iOS </h5><br>  - AdColony <br>  - Admob <br>  - AerServ <br>  - Chartboost <br>  - heyzap <br>  - InMobi <br>  - iAd <br><a name="habracut"></a><br>  Creating an adapter for a new network is easy.  I initially wanted to support the Russian WapStart as they once paid me an incredible $ 1 per click for two days for Moscow traffic (usually 5 cents), then I fined 30% and gave money, but adding them would complicate everything on the android.  The fact is that all networks give a jar file for integration, and WapStart gave a project for eclips with resource files.  That's why I have not implemented them yet. <br><br>  Settings are downloaded from the JSON file from the Internet. <br><br><pre><code class="java hljs">OpenAdAdapter.initFromUrl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">"https://raw.githubusercontent.com/sample-data/oad1/master/android-redirect.json"</span></span>);</code> </pre> <br><br><pre> <code class="objectivec hljs"> [OpenAdAdapter startWithUrl:<span class="hljs-string"><span class="hljs-string">@"https://raw.githubusercontent.com/sample-data/oad1/master/ios-redir.json"</span></span>];</code> </pre><br><br>  (Hosting static github files may violate github rules) <br><br>  It is very important.  You can change the strategy or stop showing advertisements of a network, or a network may ban you. <br><br>  OpenAdAdapter can show the banner from above or below, hide the banner, show the ad on full screen (fullscreen / interstitial), video (video) and video for reward (rewarded).  What and how to show is described in the json file. <br><br><h4>  iOS </h4><br><div class="spoiler">  <b class="spoiler_title">Controller for iphone</b> <div class="spoiler_text"><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ViewController.h"</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"OpenAdAdapter.h"</span></span></span><span class="hljs-meta"> @interface ViewController () @property (weak, nonatomic) IBOutlet UIButton *btnInit; @property (weak, nonatomic) IBOutlet UILabel *label1; @end @implementation ViewController { bool btick; NSString * rewardText; } - (IBAction)clickChkReward:(id)sender { OADReward * reward = [OpenAdAdapter reward]; if(reward != nil){ self-&gt;rewardText = [NSString stringWithFormat:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"%@ %f %@"</span></span></span><span class="hljs-meta">, [reward network], [reward amount], [reward currency]]; }else{ self-&gt;rewardText = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">""</span></span></span><span class="hljs-meta">; } } - (IBAction)clickInit:(id)sender { if(!self-&gt;btick){ self-&gt;btick = true; [self performSelector:@selector(tick) withObject:nil afterDelay:1.0]; } self.label1.text = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Initializing 1"</span></span></span><span class="hljs-meta">; [OpenAdAdapter startWithUrl:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"https://raw.githubusercontent.com/sample-data/oad1/master/ios-redir.json"</span></span></span><span class="hljs-meta">]; // [OpenAdAdapter startWithUrl:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"https://raw.githubusercontent.com/sample-data/oad1/master/ios-no-heyzap.json"</span></span></span><span class="hljs-meta">]; //[OpenAdAdapter startWithUrl:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"https://raw.githubusercontent.com/sample-data/oad1/master/ios-heyzap.json"</span></span></span><span class="hljs-meta">]; self.label1.text = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Initializing 2"</span></span></span><span class="hljs-meta">; } -(void)tick{ [self performSelector:@selector(tick) withObject:nil afterDelay:1.0]; NSString * s1 = [NSString stringWithFormat:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bh %g %g %@"</span></span></span><span class="hljs-meta">, [OpenAdAdapter bannerHeightPts], [OpenAdAdapter bannerHeightPixels], self-&gt;rewardText]; self.label1.text = s1; } - (IBAction)clickBanner:(id)sender { [OpenAdAdapter showTopBanner:self]; } - (IBAction)clickBottomBanner:(id)sender { [OpenAdAdapter showBottomBanner:self]; } - (IBAction)clickHideBanner:(id)sender { [OpenAdAdapter hideBanner]; } - (IBAction)clickFullscreen:(id)sender { [OpenAdAdapter showFullscreen:self]; } - (IBAction)clickVideo:(id)sender { [OpenAdAdapter showVideo:self]; } - (IBAction)clickRewarded:(id)sender { [OpenAdAdapter showRewarded:self]; } - (IBAction)clickTest:(id)sender { // [TestX1 test1]; [OpenAdAdapter test1]; } - (IBAction)clickTest2:(id)sender { //[OpenAdAdapter test2:self]; [OpenAdAdapter showTopBanner:self]; } - (IBAction)clickTest3:(id)sender { //[OpenAdAdapter test3:self]; [OpenAdAdapter showBottomBanner:self]; } - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. } - (void)didReceiveMemoryWarning { [super didReceiveMemoryWarning]; // Dispose of any resources that can be recreated. } @end</span></span></code> </pre><br></div></div><br>  The difference in linking applications for iOS (from Android) made it not just one lib, but one + adapter for each network. <br>  That is, if you need Chartboost, then add to the project <br><br>  - libOADAdapterChartboost.a - adapter from OpenAdAdapter <br>  - Chartboost.framework - the original framework from Chartboost <br><br>  <a href="https://github.com/OpenAdAdapter/OAD-iOS-bin/tree/master/chartboost">github.com/OpenAdAdapter/OAD-iOS-bin/tree/master/chartboost</a> <br><br>  - libOpenAdAdapter.a - and the OpenAdAdapter itself <br><br>  The simplest is to throw all the networks at once. <br><br>  <a href="https://github.com/OpenAdAdapter/OAD-iOS-bin">github.com/OpenAdAdapter/OAD-iOS-bin</a> <br><br>  Add the necessary frameworks: <br><br><pre> <code class="bash hljs"> AdSupport.framework StoreKit.framework MessageUI.framework libxml2.2.dylib libz.dylib libsqlite3.0.dylib CoreTelephony.framework EventKit.framework EventKitUI.framework Security.framework Social.framework WebKit.framework</code> </pre><br><br>  and Other Linker Flags: -ObjC <br><br><h4>  Android </h4><br><div class="spoiler">  <b class="spoiler_title">Activation from the example</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example.testoad01; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.openadadapter.OpenAdAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.openadadapter.Reward; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.ActionBarActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Handler; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Looper; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.util.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.Menu; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.MenuItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.View; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.TextView; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Toast; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionBarActivity</span></span></span><span class="hljs-class"> </span></span>{ Runnable tick = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable(){ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ label1.setText(<span class="hljs-string"><span class="hljs-string">"bh "</span></span> + OpenAdAdapter.getBannerHeightInPoints() + <span class="hljs-string"><span class="hljs-string">" "</span></span> +OpenAdAdapter.getBannerHeightInPixels()); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>{ handler.postDelayed(tick, <span class="hljs-number"><span class="hljs-number">1000</span></span>); } }}; Handler handler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Handler(Looper.getMainLooper()); <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> ticking; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TextView label1; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// TestX.test(); super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); OpenAdAdapter.onCreate(this); label1 = (TextView)findViewById(R.id.textView1); } @Override public boolean onCreateOptionsMenu(Menu menu) { // Inflate the menu; this adds items to the action bar if it is present. getMenuInflater().inflate(R.menu.main, menu); return true; } @Override public boolean onOptionsItemSelected(MenuItem item) { // Handle action bar item clicks here. The action bar will // automatically handle clicks on the Home/Up button, so long // as you specify a parent activity in AndroidManifest.xml. int id = item.getItemId(); if (id == R.id.action_settings) { return true; } return super.onOptionsItemSelected(item); } public void butBS(View v) { Toast.makeText(getApplicationContext(), "Bottom Banner Show", Toast.LENGTH_LONG).show(); OpenAdAdapter.showBottomBanner(null); } public void butBSTop(View v) { Toast.makeText(getApplicationContext(), "Top Banner Show", Toast.LENGTH_LONG).show(); OpenAdAdapter.showTopBanner(null); } public void butBH(View v) { Toast.makeText(getApplicationContext(), "Banner Hide", Toast.LENGTH_LONG).show(); OpenAdAdapter.hideBanner(); } public void butF(View v) { Toast.makeText(getApplicationContext(), "Banner Fullscreen", Toast.LENGTH_LONG).show(); OpenAdAdapter.showFullscreen(null); } public void butVideo(View v) { Toast.makeText(getApplicationContext(), "Banner Video", Toast.LENGTH_LONG).show(); OpenAdAdapter.showVideo(null); } public void butR(View v) { Toast.makeText(getApplicationContext(), "Rewarded Video", Toast.LENGTH_LONG).show(); OpenAdAdapter.showRewarded(null); } public void butIU(View v) { Toast.makeText(getApplicationContext(), "Init from URL", Toast.LENGTH_LONG).show(); // OpenAdAdapter.initFromUrl(this, // "https://raw.githubusercontent.com/sample-data/oad1/master/data1.json"); OpenAdAdapter .initFromUrl( this, "https://raw.githubusercontent.com/sample-data/oad1/master/android-redirect.json"); if(!ticking){ handler.postDelayed(tick, 1000); ticking = true; } } public void butIF(View v) { Toast.makeText(getApplicationContext(), "Init from File", Toast.LENGTH_LONG).show(); // OpenAdAdapter.preinit(); } public void butV(View v) { Toast.makeText(getApplicationContext(), "verify", Toast.LENGTH_LONG) .show(); OpenAdAdapter.verify(); } public void butSF(View v) { Toast.makeText(getApplicationContext(), "Show Fullscreen", Toast.LENGTH_LONG).show(); OpenAdAdapter.showMyFullscreen(this); } public void clickFetchReward(View v) { Reward reward = OpenAdAdapter.fetchReward(); if (reward == null) { Toast.makeText(getApplicationContext(), "No reward", Toast.LENGTH_LONG).show(); } else { Toast.makeText( getApplicationContext(), "Reward " + reward.getNetwork() + " " + reward.getAmount() + " " + reward.getCurrency(), Toast.LENGTH_LONG) .show(); } } @Override public void onStart() { super.onStart(); OpenAdAdapter.onStart(this); } @Override public void onResume() { super.onResume(); OpenAdAdapter.onResume(this); } @Override public void onPause() { super.onPause(); OpenAdAdapter.onPause(this); } @Override public void onStop() { super.onStop(); OpenAdAdapter.onStop(this); } @Override public void onDestroy() { super.onDestroy(); OpenAdAdapter.onDestroy(this); } @Override public void onBackPressed() { if (OpenAdAdapter.onBackPressed(this)) return; super.onBackPressed(); } }</span></span></code> </pre><br></div></div><br>  Since some networks want to receive onStart, onPause, onResume, etc. notifications, then the OpenAdAdapter on android needs to be called on these events. <br><br>  You also need to not forget about the activation package, which you need to specify in <a href="">AndroidManifest.xml</a> <br><br>  And throw all jar files into the lib folder (unnecessary ones can be thrown out): <a href="https://github.com/OpenAdAdapter/OAD-Android-bin/tree/master/lib">github.com/OpenAdAdapter/OAD-Android-bin/tree/master/lib</a> <br><br><h4>  Unobvious - probable </h4><br>  Important point: it is not desirable that the banner overlaps the program interface.  Just this problem and pushed me to create a project.  My application has determined whether or not the banner is based on what the delegate / callback / lisner reports. <br><br>  - AdShown - the screen shrank <br>  - AdFailed - screen went flat <br><br>  That is, I did not take a screenshot of the screen and did not recognize the image of the banner on it, but it turned out that the most excellent advertising network does not work as I expected.  She can tell AdFailed, and when the application expands the canvas to full screen - ban the application. <br><br>  The following functions are the solution to the problem of overlapping content <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pt = OpenAdAdapter.getBannerHeightInPoints(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> px = OpenAdAdapter.getBannerHeightInPixels();</code> </pre><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pt = [OpenAdAdapter bannerHeightPts]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> px = [OpenAdAdapter bannerHeightPixels];</code> </pre><br>  If the value 0 - there is no banner, the value is greater than 0 - the banner is on top, the value is less than 0 - the banner is below.  You can call each frame or once a second and change the dimensions of the GL canvas accordingly. <br><br>  In the same <a href="https://github.com/OpenAdAdapter/OAD-Android-src/commit/2d72df8c13b2c3a62ccdc183f6e2947199dcb1a9">way</a> without callbacks, I decided to implement a check for receiving rewards for viewing the rewarded video. <br><br><h4>  JSON configuration file </h4><br>  <a href="">raw.githubusercontent.com/sample-data/oad1/master/data1.json</a> : <br><br><pre> <code class="java hljs">{ <span class="hljs-string"><span class="hljs-string">"debug"</span></span>:{<span class="hljs-string"><span class="hljs-string">"verify"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>}, <span class="hljs-string"><span class="hljs-string">"urls"</span></span>:[<span class="hljs-string"><span class="hljs-string">"https://ohohoho.appspot.com/track"</span></span>, {<span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"https://xman545476.appspot.com/track"</span></span>, <span class="hljs-string"><span class="hljs-string">"priority"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>}], <span class="hljs-string"><span class="hljs-string">"commands"</span></span>:[<span class="hljs-string"><span class="hljs-string">"save"</span></span>, {<span class="hljs-string"><span class="hljs-string">"cmd"</span></span>:<span class="hljs-string"><span class="hljs-string">"settings"</span></span>, <span class="hljs-string"><span class="hljs-string">"settings"</span></span>:{<span class="hljs-string"><span class="hljs-string">"reportLocation"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">"advertisingId"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">"userId"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>}}], <span class="hljs-string"><span class="hljs-string">"strategy"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"banner"</span></span>: {<span class="hljs-string"><span class="hljs-string">"list"</span></span>:[<span class="hljs-string"><span class="hljs-string">"admob"</span></span>, <span class="hljs-string"><span class="hljs-string">"inmobi"</span></span>, <span class="hljs-string"><span class="hljs-string">"wapstart"</span></span>, <span class="hljs-string"><span class="hljs-string">"aerserv"</span></span>], <span class="hljs-string"><span class="hljs-string">"strategy"</span></span>:<span class="hljs-string"><span class="hljs-string">"random"</span></span>}, <span class="hljs-string"><span class="hljs-string">"fullscreen2"</span></span>: { <span class="hljs-string"><span class="hljs-string">"list"</span></span>:[ <span class="hljs-string"><span class="hljs-string">"aerserv"</span></span>, <span class="hljs-string"><span class="hljs-string">"inmobi"</span></span>], <span class="hljs-string"><span class="hljs-string">"strategy"</span></span>:<span class="hljs-string"><span class="hljs-string">"random"</span></span>}, <span class="hljs-string"><span class="hljs-string">"fullscreen"</span></span>: { <span class="hljs-string"><span class="hljs-string">"list"</span></span>:[ <span class="hljs-string"><span class="hljs-string">"aerserv"</span></span>, <span class="hljs-string"><span class="hljs-string">"heyzap"</span></span>, <span class="hljs-string"><span class="hljs-string">"adcolony"</span></span>, {<span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"heyzap"</span></span>,<span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"rewarded"</span></span>, <span class="hljs-string"><span class="hljs-string">"preload"</span></span>: <span class="hljs-string"><span class="hljs-string">"always"</span></span>}, <span class="hljs-string"><span class="hljs-string">"admob"</span></span>, {<span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"chartboost"</span></span>,<span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"video"</span></span>, <span class="hljs-string"><span class="hljs-string">"preload"</span></span>: <span class="hljs-string"><span class="hljs-string">"low"</span></span>}, <span class="hljs-string"><span class="hljs-string">"inmobi"</span></span>], <span class="hljs-string"><span class="hljs-string">"strategy"</span></span>:<span class="hljs-string"><span class="hljs-string">"random"</span></span>}, <span class="hljs-string"><span class="hljs-string">"video"</span></span>: {<span class="hljs-string"><span class="hljs-string">"list"</span></span>:[<span class="hljs-string"><span class="hljs-string">"chartboost"</span></span>, <span class="hljs-string"><span class="hljs-string">"heyzap"</span></span>],<span class="hljs-string"><span class="hljs-string">"strategy"</span></span>:<span class="hljs-string"><span class="hljs-string">"round-robin"</span></span>}, <span class="hljs-string"><span class="hljs-string">"rewarded"</span></span>: {<span class="hljs-string"><span class="hljs-string">"list"</span></span>:[<span class="hljs-string"><span class="hljs-string">"adcolony"</span></span>, <span class="hljs-string"><span class="hljs-string">"chartboost"</span></span>, <span class="hljs-string"><span class="hljs-string">"heyzap"</span></span>], <span class="hljs-string"><span class="hljs-string">"strategy"</span></span>:<span class="hljs-string"><span class="hljs-string">"random"</span></span>} }, <span class="hljs-string"><span class="hljs-string">"networks"</span></span>:[ { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"admob"</span></span>, <span class="hljs-string"><span class="hljs-string">"bannerId"</span></span>:<span class="hljs-string"><span class="hljs-string">"ca-app-pub-8607147313123654/8458359243"</span></span>, <span class="hljs-string"><span class="hljs-string">"fullscreenId"</span></span>:<span class="hljs-string"><span class="hljs-string">"ca-app-pub-8607147313123654/9935092440"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"inmobi"</span></span>, <span class="hljs-string"><span class="hljs-string">"propId"</span></span>:<span class="hljs-string"><span class="hljs-string">"d4783f2efd4147499e40cc3540f2d221"</span></span>, <span class="hljs-string"><span class="hljs-string">"bannerId"</span></span>:<span class="hljs-string"><span class="hljs-string">"d4783f2efd4147499e40cc3540f2d221"</span></span>, <span class="hljs-string"><span class="hljs-string">"fullscreenId"</span></span>:<span class="hljs-string"><span class="hljs-string">"d4783f2efd4147499e40cc3540f2d221"</span></span>, <span class="hljs-string"><span class="hljs-string">"bannerId1"</span></span>:<span class="hljs-string"><span class="hljs-string">"1428178968194889"</span></span>, <span class="hljs-string"><span class="hljs-string">"fullscreenId1"</span></span>:<span class="hljs-string"><span class="hljs-string">"1428178928625995"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"chartboost"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>:<span class="hljs-string"><span class="hljs-string">"5519c460c909a67c4e1e58a4"</span></span>, <span class="hljs-string"><span class="hljs-string">"sig"</span></span>:<span class="hljs-string"><span class="hljs-string">"e34adc93d56dfcff2a3a34d5f0dcd74204cbaf05"</span></span>, <span class="hljs-string"><span class="hljs-string">"video"</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span>, <span class="hljs-string"><span class="hljs-string">"rewarded"</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"heyzap"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>:<span class="hljs-string"><span class="hljs-string">"e0c44b21d39c921a55f31ea836a70b65"</span></span>, <span class="hljs-string"><span class="hljs-string">"video"</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span>, <span class="hljs-string"><span class="hljs-string">"rewarded"</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"adcolony"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>:<span class="hljs-string"><span class="hljs-string">"app398cb71e4cae463f94"</span></span>, <span class="hljs-string"><span class="hljs-string">"videoId"</span></span>:<span class="hljs-string"><span class="hljs-string">"vzc71a58270b924c95a0"</span></span>, <span class="hljs-string"><span class="hljs-string">"rewardedId"</span></span>:<span class="hljs-string"><span class="hljs-string">"vz6669f90f9dbe4e4a89"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"aerserv"</span></span>, <span class="hljs-string"><span class="hljs-string">"fullscreenId"</span></span>:<span class="hljs-string"><span class="hljs-string">"1000741"</span></span>, <span class="hljs-string"><span class="hljs-string">"banner320"</span></span>:<span class="hljs-string"><span class="hljs-string">"1000834"</span></span>, <span class="hljs-string"><span class="hljs-string">"banner728"</span></span>:<span class="hljs-string"><span class="hljs-string">"1000835"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"home"</span></span>, <span class="hljs-string"><span class="hljs-string">"bannerId"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"halfId"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"fullscreenId"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"direct"</span></span>, <span class="hljs-string"><span class="hljs-string">"bannerId"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"halfId"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"fullscreenId"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span> } ] }</code> </pre><br>  The first three keys are debug, urls, commands - not yet used.  In the key networks are listed networks.  The last two (home, direct) are also not used yet.  I am developing a server that will be more intelligent than a JSON file. <br><br>  The key strategy is the most difficult in this config.  He has 4 subkeys for 4 strategies - banner, fullscreen, video, rewarded. <br>  (fullscreen2 - not used) <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"banner"</span></span>: {<span class="hljs-string"><span class="hljs-string">"list"</span></span>:[<span class="hljs-string"><span class="hljs-string">"admob"</span></span>, <span class="hljs-string"><span class="hljs-string">"inmobi"</span></span>, <span class="hljs-string"><span class="hljs-string">"wapstart"</span></span>, <span class="hljs-string"><span class="hljs-string">"aerserv"</span></span>], <span class="hljs-string"><span class="hljs-string">"strategy"</span></span>:<span class="hljs-string"><span class="hljs-string">"random"</span></span>}</code> </pre><br>  Each strategy has in turn two keys list and strategy. <br><br>  - list ‚Äî lists networks; <br>  - strategy - determines the strategy: random, round-robin, failsafe; <br><br>  random - shows ads randomly; <br>  round-robin - shows ads in turn; <br>  failsafe - always shows the first advertisement from the list, and if it does not work, then the second one. <br><br>  I have written an HTML application to create this file.  I'll post it soon. <br><br><h4>  How the project will develop </h4><br>  HTML - config editing application (already written); <br>  Website - I plan to make a website so that the developer selects networks and receives a ZIP file (which will contain everything and can be simply copied to the project with one hand movement) and instructions on what frameworks to add and what to write in AndroidManifest.xml; <br>  Unity3D is written, all types of advertising are shown on both platforms, but there everything is not so simple done and the implementation description requires a separate article, as long as there is no support for UnityAds; <br>  Server - there are a lot of ideas, you can endlessly develop; <br>  Tuning - the size of banners relative to the screen, smart and economical preload of networks, etc .; <br>  Self Test - in the android project you can notice the verify method.  In theory, he should check whether all necessary activations, permishes, receivers and meta tags are defined with the google play services version.  And he partially does this, but until the end this functionality is not implemented; <br>  An article on Megamind - with the economic rationale for using the OpenAdAdapter against Mopub, AdTapsy, Appodeal and others promising an incredible CTR. </div><p>Source: <a href="https://habr.com/ru/post/262715/">https://habr.com/ru/post/262715/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262705/index.html">Multiplication of Karatsuba and C ++ 11</a></li>
<li><a href="../262707/index.html">Obtaining international IT certificates</a></li>
<li><a href="../262709/index.html">We build a performance bench on the example of the server Set Retail 10</a></li>
<li><a href="../262711/index.html">Fast and convenient IL generation</a></li>
<li><a href="../262713/index.html">The story of one fakapa or why iteration is a necessary, but not sufficient condition for Agile</a></li>
<li><a href="../262717/index.html">New build browser Vivaldi 1.0.219.51</a></li>
<li><a href="../262719/index.html">Proceedings of the Third Conference "Wolfram Technologies" (SPbESU, 2015)</a></li>
<li><a href="../262721/index.html">Law enforcement agencies shut down the famous cybercriminal forum Darkode</a></li>
<li><a href="../262727/index.html">JQuery 3.0 alpha and jQuery Compat 3.0 alpha published</a></li>
<li><a href="../262731/index.html">CH341A, USB-UART-converter and I2C / SPI-programmer for $ 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>