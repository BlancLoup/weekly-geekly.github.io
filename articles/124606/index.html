<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tips and tricks for using Wine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 I read the article about ‚ÄúAll the details of the Wine settings‚Äù , it turned out that not all the details were there. Therefore, I wrote this ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tips and tricks for using Wine</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/d1c/365/dba/d1c365dbab5afd6898ab623183d36d3d.jpg" alt="image"><br><br>  Hello! <br>  I read the article about <a href="http://habrahabr.ru/blogs/ubuntu/124202/">‚ÄúAll the details of the Wine settings‚Äù</a> , it turned out that not all the details were there.  Therefore, I wrote this post as an addition to that. <br><br>  In this post, mostly free translation of.  documentation, as well as some of their own and others' tricks when working with Vine. <br>  Most likely this post will be of interest to beginners and ordinary users of GNU \ Linux.  Nevertheless, good advice from experts will not be superfluous. <br><a name="habracut"></a><br>  What is vine I think it makes no sense to explain.  I just want to show a few tricks when working with him. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Prefixes </h5><br>  With their help, you can install applications exactly where you want to install them, and not in the default .wine.  Even if something goes wrong, it suffices to remove the prefix in which the error occurred, while all other applications \ prefixes (suppose they are configured) will not be affected. <br><br>  That is, each prefix you create can be viewed as a separate wine ‚Äî it is independent of other prefixes.  Or, for even greater simplicity, take each created prefix as a separately installed Windows. <br><br>  Now a little practice: <br>  Now we will create the Gamez folder, in it we will create the lib prefix in which we will install several libraries.  These libraries will still be useful later, so let them be cached. <br><br> <code>mkdir ./Gamez <br> env WINEPREFIX=$HOME/Gamez/lib wine winecfg <br> env WINEPREFIX=$HOME/Gamez/lib winetricks directx9 vcrun2005 vcrun2008 vcrun6 <br> env WINEPREFIX=$HOME/Gamez/lib wine winecfg</code> <br> <br>  With the last command, we again called the wine configurator window.  Just go to the ‚ÄúLibraries‚Äù tab and make sure everything is set.  After that do: <br><br>  <code>wine winecfg</code> - the wine configurator is opened (not from the prefix), check the same tab.  You see!  There are no libraries here.  So he is safe and sound. <br><br><h5>  How to install several different versions of wine? </h5><br>  To solve this problem will have to collect wine from the source.  When building, just use the prefix for the default installation.  Something like this: <br><br> <code>./configure prefix=/path/to/install/directory &amp;&amp; make <br> sudo make install</code> <br> <br><h5>  AppDB </h5><br>  Be sure to use <a href="http://appdb.winehq.org/">appdb</a> to search for information on installing the application, perhaps the staf you are installing has already installed and painted all the pitfalls. <br><br><h5>  Restore order in the home directory </h5><br>  If you like to play, then probably your / home partition is full of saves and other game files.  You can get rid of this whole business, not at the expense of so: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd6/8f0/beb/fd68f0beb1ac85b34756a642d9824643.png" alt="image"><br><br>  Replace the standard path to my documents with the desired storage space for the saves.  For example, this path leads me to the game folder. <br><br><h5>  Using the latest versions of wine </h5><br>  Wine such a thing, the newer the better!  With the following command you will always have the latest version of wine (for Ubuntu-like distributions): <br><br> <code>sudo add-apt-repository ppa:ubuntu-wine/ppa <br> sudo apt-get update</code> <br> <br>  After running these commands, look for the latest version of wine in synaptic. <br><br><h5>  Install winetricks </h5><br>  If for some reason you still do not have winetricks, then you can start it in the farm like this: <br><br> <code><a href="http://winetricks.org/winetricks"></a> wget winetricks.org/winetricks <br> sudo cp winetricks /usr/bin <br> sudo chmod +x /usr/bin/winetricks</code> <br> <br><h5>  How to install MSI file? </h5><br>  This can be done in two ways: <code>wine msiexec /i whatever.msi</code> <br><br>  Alternative method: <code>wine start whatever.msi</code> <br><br><h5>  The file foo.exe is not as far as executable ... - What does this mean? </h5><br>  This error occurs because the exe file is banned for execution.  For the file on your file system, this command should fix the situation: <br><br> <code>chmod a+x ./patch/you/exe.file</code> <br> <br>  if the file is on disk, this command should help: <br><br> <code>mount -o remount,mode=0777,exec /media/cdrom</code> <br> <br><h5>  How to display the contents of debugging in a separate file? </h5><br> <code>cd ~/.wine/drive_c/Games/Tron <br> wine tron.exe &amp;&gt; log.txt</code> <br> <br><h5>  How to disable the "crash" dialogue? </h5><br>  If you use prefixes, do not forget to specify the path to the prefix in the command - <code>winetricks nocrashdialog</code> <br><br><h5>  After launching the application \ game, wine swears and runs nothing.  What to do? </h5><br>  First, examine the logs, usually everything is written in them.  Below I will give the most popular errors: <br><br>  <b>MFC40.DLL:</b> through winetricks install mfc40 (Microsoft Foundation Classes from Visual C ++ 4). <br>  <b>MFC42.DLL, MSVCP60.DLL:</b> via winetricks install vcrun6 (MS Visual C ++ 6 sp4 libraries: mfc42, msvcp60, msvcrt). <br>  <b>MFC71.DLL, MSVCP71.DLL:</b> via winetricks install vcrun2003 (MS Visual C ++ 2003 libraries: mfc71, msvcp71, msvcr71). <br>  <b>MFC80.DLL, MSVCP80.DLL:</b> through winetricks install vcrun2005 (MS Visual C ++ 2005 libraries: mfc80, msvcp80, msvcr80). <br>  <b>MFC90.DLL, MSVCP90.DLL:</b> through winetricks install vcrun2008 (MS Visual C ++ 2008 libraries: mfc90, msvcp90, msvcr90). <br>  <b>MDAC:</b> through winetricks install mdac27 (MS MDAC 2.7). <br><br><h5>  My application works, but text fields behave strangely </h5><br>  Analyze the debug wine after launching the application, if you see that it swears on <b>RICHED20.DLL</b> , then install the following library through winetricks: <i>riched20</i> <br><br><h5>  After launch, the console displays fixme messages.  What is it? </h5><br>  You can simply ignore them, this is information for developers. <br><br><h5>  What to do if the application needs a .NET framework? </h5><br>  Through the Vaintrix you can install 1 or 2 framework.  As an alternative to use mono.  If the application requires 3 or 4 framework, then most likely it will not work (although 3 and even 3.5 is available in the winetricks menu).  We wait until they solve this problem. <br><br><h5>  The game I'm trying to install is protected from distribution. Is it possible to install it? </h5><br>  See the list of <a href="http://wiki.winehq.org/CopyProtection">copy protection</a> that work. <br><br><h5>  What should I do if an application requires IE? </h5><br>  Wine uses the default kernel / engine Gecko - this is the same as on Firefox.  Therefore, it is possible through winetrikcs to install the gecko (if it does not exist) and \ or fakeie6. <br><br>  If this does not help, try changing the windows version to win2k and install via winetricks ie6, ie7 or ie8. <br><br><h5>  How to enable font smoothing in wine? </h5><br>  If your version is higher than 1.1.12 you can use winetricks and select one of three anti-aliasing options: <i>fontsmooth-gray</i> , <i>fontsmooth-rgb</i> or <i>fontsmooth-bgr</i> <br><br><h5>  After quitting the game, the screen resolution is not restored. </h5><br>  Should help: <code>xrandr -s 0</code> <br><br><h5>  How to get into the wine registry? </h5><br>  <code>wine regedit</code> - If prefixes are used, specify the path in the command. <br><br><h5>  Does wine need a separate driver installation? </h5><br>  Not.  Wine is not a computer emulator, it only translates the Windows API calls into Linux-friendly commands. <br><br><h5>  Is it safe to run wine as root? </h5><br>  <b>Never run wine as root user !!!</b> <br><br>  If this has already happened, change the owner of the ~. / Wine directory. <br><br> <code>cd ~ <br> sudo chown -R $USER:$USER .wine</code> <br> <br><h5>  Safety when using wine </h5><br>  Here are some tips to help you improve security: <br><br><ul><li>  Never run programs from suspicious sites. </li><li>  Never use root user to run applications! </li><li>  Use antivirus scanner for running applications, such as ClamAV.  Or at least check on virustotal </li><li>  Try deleting the wine Z: drive, which points to the root directory by default.  As a workaround, run programs from the ~ / .wine / drive_c directory. </li><li>  Use the virtual machine to run and test suspicious applications. </li></ul><br><br><h5>  The .xsession-errors file clogs up all disk space !!!  What to do?  (recipe from - = XliN = -) </h5><br>  Save the following script: <br> <code>% cat .scripts/xsessionerrorscleaner.sh <br> #! /bin/bash <br> while true ; do <br> inotifywait -e modify ~/.xsession-errors &amp;&gt; /dev/null <br> [[ "$(stat -c %s ~/.xsession-errors)" -ge "52428800" ]] &amp;&amp; echo &gt; ~/.xsession-errors <br> done <br></code> <br>  Add it to startup, and install the following package (it is necessary for the script to work). <br> <code>apt-get install inotify-tools</code> <br> <br><h5>  Making a sandbox for wine (recipe from drBatty) </h5><br>  * 1) create user <br>  2) we change the rights to home directories to 700 <br>  * 3) register the command in sudoers (visudo) <br>  first_user comp_name = (second_user) NOPASSWD: / program_ with_complete_path <br>  4) in the first user, we write the command xhost + local to the autoload DE: second_user <br>  5) in the shortcut to run the program we write <br>  sudo -u second_user / program_c_full_path <br>  then the first user will be able to more or less safely run programs on behalf of the second user. <br>  Asterisks mark items for which root rights are needed. </div><p>Source: <a href="https://habr.com/ru/post/124606/">https://habr.com/ru/post/124606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../124600/index.html">Empire on potholes</a></li>
<li><a href="../124601/index.html">A new type of "tips on the ATM"</a></li>
<li><a href="../124602/index.html">Impossible projects</a></li>
<li><a href="../124603/index.html">Hacked API Bank Privat24</a></li>
<li><a href="../124605/index.html">Algorithm for Finding N First Primes</a></li>
<li><a href="../124608/index.html">Layouts, search for alternatives or why YSTUKEN will remain popular</a></li>
<li><a href="../124610/index.html">How does the femto network</a></li>
<li><a href="../124611/index.html">Leo Tolstoy and static code analysis</a></li>
<li><a href="../124612/index.html">Samsung Galaxy S II - still a cake!</a></li>
<li><a href="../124613/index.html">External web services and traffic-generating sites. Why be friends?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>