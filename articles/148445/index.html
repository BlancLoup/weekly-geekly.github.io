<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What if you have a lot of third-party repositories</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before reading this post, open the console and run the following commands. 


ls /etc/apt/sources.list.d | wc -l  
 If you suddenly have an inscriptio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What if you have a lot of third-party repositories</h1><div class="post__text post__text-html js-mediator-article">  Before reading this post, open the console and run the following commands. <br><pre><code class="bash hljs">ls /etc/apt/sources.list.d | wc -l</code> </pre> <br>  If you suddenly have an inscription <br><pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"ls"</span></span>      ,     .</code> </pre> <br>  That means this article is definitely not for you. <br><br>  If you do not have Debian, Ubuntu or their descendants, but something based on RPM or Gentoo, then this is also not for you, at least for now. <br>  If you get a number less than 5, then you probably will not need what is written further. <br><br>  Well, if you get a number greater than 10 (or even 24 as I did), then read on and you can save a lot of time. <br><a name="habracut"></a><br><h4>  How the idea came to mind </h4><br>  So, it all started a little less than a year and a half ago, when I upgraded my test ubuntu natty to oneiric, which became a test.  There were a lot of mats, as you had to monitor when the ppa repositories switch to a new distribution and what it will be.  Someone switched to oneiric, and someone only to natty - it all took quite a lot of time. <br>  Then there was an upgrade to oneiric and precise, an increase in the number of repositories and the number of expletives, installing the system at work from scratch and connecting this stuff to the new system. <br>  As you all probably noticed, third-party repositories are rather difficult to manage: you need to keep track of the keys yourself, for those hosted on a launchpad, you need to change the distribution every six months, it‚Äôs rather inconvenient to delete them - you also need to delete the key. <br>  But in fact, the connection of the repository is reduced to adding two files - the list of addresses in sources.list.d and the gpg key in trusted.gpg.d, so why not combine them into a package, installing which you connect the repository, and deleting - disconnect. <br>  The format package turned out to be the simplest, without any dependencies and not requiring anything special to build, but the question remained how to install such packages, so I had to implement the repository also. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  And what came of it </h4><br>  And it turned out the site <a href="http://pkggen.no-ip.org/">http://pkggen.no-ip.org/</a> , which is a fairly simple thing - you download and install one package, after which you can install all the packages that are on the site, and if you don‚Äôt there is enough (and in the beginning it will be), then after registering you can add your own repositories, and the system will generate packages for them and add them to the repository.  PPA repositories are tracked automatically and checked for updates on the launchpad.  All repository packages start with a prefix, so that you can search in the general list of them not only by source, but also by name. <br><br><h4>  Technical implementation </h4><br>  First, the code is open - in the best traditions of OpenSource - <a href="https://github.com/ivan1986/deb-pkg-gen">https://github.com/ivan1986/deb-pkg-gen</a> . <br>  Secondly, everything is implemented on Symfony 2 and hosted on Debian.  Twitter Bootstrap interface, classic CRUD, paginator and search for editing, the repository is implemented simply with three addresses and ZendCache (otherwise it‚Äôs somehow bad).  For signatures, the php-gnupg library is used.  Since the size of each package is approximately 2.5 kilobytes, it was decided not to bother with the files and store the collected packages directly in the database. </div><p>Source: <a href="https://habr.com/ru/post/148445/">https://habr.com/ru/post/148445/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148437/index.html">How I used gem gon in Groupon</a></li>
<li><a href="../148438/index.html">Erlang plugin for IntelliJ IDEA version 0.4</a></li>
<li><a href="../148439/index.html">Is it possible to reduce the cost of implementing an ERP system?</a></li>
<li><a href="../148443/index.html">Five Years School Data Analysis</a></li>
<li><a href="../148444/index.html">Informative about PGM protocol</a></li>
<li><a href="../148446/index.html">A little about linkable variables (prepared statements)</a></li>
<li><a href="../148448/index.html">2nd Apps4All Contest: ideas, concepts and mobile apps for iOS, Android, WP7 and Bada</a></li>
<li><a href="../148449/index.html">Runetology (157): Evgeny Kobzev, Project Manager, Electronic Accountant Elba</a></li>
<li><a href="../148450/index.html">Microsoft has a patent agreement with amdocs</a></li>
<li><a href="../148451/index.html">Dell EqualLogic Disk Arrays</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>