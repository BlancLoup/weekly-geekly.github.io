<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we created a universal business management system</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 

 For those who are faced with the organization of the company from more than a couple of offices and a dozen employees, it is no secret tha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we created a universal business management system</h1><div class="post__text post__text-html js-mediator-article">  <b>Foreword</b> <br><br>  For those who are faced with the organization of the company from more than a couple of offices and a dozen employees, it is no secret that ready-made solutions for controlling business create a huge amount of headache for both sysadmins and owners. <br><br>  Whether it‚Äôs 1C, Bitrix, Megaplan or even more, stand-alone solutions - they require installing specific software, establishing remote access to the server via VPN or other solutions, do not work with poor communication channels - which are often found in shopping centers or remote offices, and certainly require the remarkable skill of workers to access from home or on a business trip. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Separately, we can say about performance: for me, as a developer of high-loaded database systems, it has always been strange to generate reports not in seconds, but in dozens of minutes, holding documents in 1C minutes, and generally new versions of the same systems constantly requiring updates, with fabulous requirements to servers.  It was obvious that such simple operations as calculating residuals in stock for the entire period of operation from a million documents, even in MySQL, will take seconds ... <br><br>  <b>Statement of a question</b> <br><br>  In general, when I was faced with the task of supplying an accounting system to 5 remote stores, a warehouse and an office, the options for ready-made solutions looked rather pale.  After thinking about training sellers (good sellers, but not computer users) - for the first time they saw the mouse how to use 1C and endless trips to configure the network, it became clear that this is not our option ... <br><br>  I wanted the following: <br>  ‚Ä¢ Completely remote use from any operating system, from a tablet, a smartphone <br>  ‚Ä¢ Undemanding quality of communication channel <br>  ‚Ä¢ Friendly interface and usability <br>  ‚Ä¢ Speed ‚Äã‚Äã- any reports and documents within a second <br>  ‚Ä¢ Ability to embed advanced analytics <br><br>  It is clear that one of the solutions, in order not to reinvent the wheel from scratch, was to make an online system based on our servers, working on the simplest mechanisms and structures.  The infinite tables describing the nomenclature also seemed redundant - a dozen fields with a name plate for each parameter still work perfectly. <br><a name="habracut"></a><br>  <b>Development</b> <br><br>  There was enough power on the servers, so for three evenings on the first bootstrap, PHP and MySQL, a prototype was created that could keep the nomenclature, count the remains in warehouses and had the simplest documents of the primary accounting with printed forms. <br><br>  Of course, the most interesting thing was in the process of carrying out the documents - the whole accounting department is based on it.  Since, with the exception of cosmetic differences, any document transfers goods from the source warehouse to the warehouse of the receiver (in some cases it is not quite a warehouse, but the data structure does not change), it was enough to create a structure convenient for recalculating and storing such unit movements. <br><br>  For the uninitiated, in short, the holding of documents is a process in which it is checked whether there is the necessary quantity of goods or services in the relevant warehouse, and actually deducts the goods or services from one and credits it to another.  In the process, it would be good to check the reserves of the goods in order not to accidentally write off the reserved prices, the correctness of prices, the rights of users to these operations, the client's credit limit, etc. ... When it is formulated in this way and there is a good data structure, then there remains only a matter of technology. <br>  Another related task is how to calculate the state of the warehouses at an arbitrary point in time.  After sitting above the pictures of intermediate indexes, I just figured out how many operations will be needed to count everything from scratch each time?  - and voila, three database queries solve this problem.  In fact, it is cheaper every time to count all the goods and warehouses again than to store endless indexes that regularly become obsolete and still do not meet the requirements of relevance ... <br><br>  So every time we carry out a document, we simply take all the remnants of the goods specified in the document, consider them from scratch, and if everything is OK, then we do the write-off operation.  As is clear, a sample of the usual amount of 10-20 products from a properly structured table, even from hundreds of thousands of rows, is a matter of a second.  Until now, even on high load applications, this works fine. <br><br>  Later, we taught the system to take into account in this batch process (when and how this product was delivered, in order to accurately calculate the margin per transaction, and not the average for the hospital), different types of prices and additional information such as GTE. <br><br>  All these reflections, by the way, killed in me all the latest faith in solutions like 1C.  If the database is arranged at least just "appropriately", then all data on the company can be counted in seconds.  I emphasize EVERYTHING, and immediately at the same time.  What this monster does when reposting documents or generating reports is not at all clear.  Even a very slow PHP script, without php-cgi, is a simple MySQL without optimization for a specific database and loaded by other projects under the string cheated warehouse residuals from scratch, without intermediate data for 3 years of work within fractions of a second. <br><br>  The same task, on 1C, on the same firm, for the same 3 years took 15-20 minutes, although there were only a few thousand documents in the database with 5-10 goods in each ... <br>  30 thousand records in 15 minutes ... Someone, probably, it seems fast. <br><br>  <b>Implementation</b> <br><br>  The implementation process turned out to be simple, and after learning how to use mail.ru, it went unnoticed.  Even the sellers of the age, for a week, could already cheerfully watch the remnants of the warehouses, arrange sales, monitor the compliance of the goods with the actual availability.  The first month revealed quite a lot of needs: the necessary reports were completed, the documents were greatly expanded, they introduced many differences in access rights. <br>  Most importantly, any reports were generated in a split second, and sitting in a subway in another city or driving a car I opened a report from a 3.5 ‚Äùsmartphone (yes, at that time it was a normal screen) and saw all the numbers on the business that interested me. <br><br>  The result was a system that was completely on our servers, had backup once every two hours, advanced access control and logging.  The system was accessible through any browser from an iPhone, a smartphone or a tablet for Android, it worked under Opera, Firefox, Chrome in the same way.  In almost unchanged form, she worked for several years. <br><br>  We could open access to selected warehouses to our individual counterparties and dealers, receive all necessary accounting reports on the fly, the stores had a fairly cheap 3G Internet, and the chief accountant downloaded the data with one click to his version 1C for his work. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d93/0bb/0d7/d930bb0d7a17ab9be0613ac19e9aa38d.jpg" alt="image"><br><br>  <b>Partners</b> <br><br>  Pretty quickly, our partners and acquaintances began to pick up the idea, but before the first major commercial introduction it was a long time.  The chance to truly test the system for reliability on critical tasks presented itself in the face of a large company selling parts, which has a large number of branches in different cities and a complex range of hundreds of thousands of related positions.  There was no way to imagine ready solutions in this area, therefore all activities were conducted on self-written solutions that were far from ideal.  There were no reports as a class at all, the database was very confusing ... <br><br>  Skipping the lyrics, it took less than 3 months to transfer all the branches to our system, along with training, data import, access rights and adjustment of the business model.  Years were spent on developing solutions that did not produce results, months on implementing with us, and developing analytics specific for the specific tasks of the company. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d6/70c/8f7/9d670c8f77e8887717ed5a0aa598d67b.jpg" alt="image"><br><br>  Under the requests of partners, we built in first the CRM module, and a bit later the formulation and control of tasks with delegation.  For management work - analysis and logistics planning with cost control;  for management - budget planning, and powerful analytical reports, which manually took weeks to complete. <br><br>  At the moment, 300 thousand items in warehouses, a nomenclature directory of more than 100 thousand items, in relation to catalogs and prices, hundreds of new documents per day do not represent for us difficulties in processing. <br><br>  Now the system is located at <a href="http://bmsys.org/">bmsys.org</a> - there you can also read about the list of features and modules currently running. </div><p>Source: <a href="https://habr.com/ru/post/259541/">https://habr.com/ru/post/259541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259531/index.html">What you need to know when migrating from MySQL to PostgreSQL?</a></li>
<li><a href="../259533/index.html">Automated QA System: a headache pill for testers using the Star Crusade game as an example</a></li>
<li><a href="../259535/index.html">The tale of a single mistake, never got into the release of the Linux kernel</a></li>
<li><a href="../259537/index.html">Equinix NY4 - Wall Street Data Center</a></li>
<li><a href="../259539/index.html">Scrollissimo - plugin for smooth scrolling animation</a></li>
<li><a href="../259545/index.html">9 usability testing tools</a></li>
<li><a href="../259547/index.html">Primer Programming Tutorial</a></li>
<li><a href="../259549/index.html">How to identify duplicate pictures using PHP</a></li>
<li><a href="../259551/index.html">Dell comes to the rescue of video production studio.</a></li>
<li><a href="../259553/index.html">Static Analysis of Wireshark with PVS-Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>