<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Quipu is an esoteric programming language based on the Incas nodular script</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A friend of mine, a historian by profession, gave me a wonderful idea about using the ancient mnemonic and counting systems in modern cryptography. In...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Quipu is an esoteric programming language based on the Incas nodular script</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/664/598/45a/66459845a894776addc4476da261a3d2.png" align="right">  A friend of mine, a historian by profession, gave me a wonderful idea about using the ancient mnemonic and counting systems in modern cryptography.  In the process of his stories about the nodular writing of the <a href="http://en.wikipedia.org/wiki/Inca_Empire">Incas</a> , I began to realize that everything new is well forgotten old and it would not be bad to somehow apply ancient experience in the modern world.  The first thing that came to mind was cryptography.  The most obvious thing is to simply convert the nodes from the threads into bytes and the cipher is ready.  On the one hand, everything seemed clear, but then I remembered crypto-resistance and other cipher parameters and I realized that I did not have enough experience and knowledge in the field of cryptography in order to develop a new cipher alone. <br><br>  Then I decided to try to present a certain esoteric programming language, the constructions of which can be written using <a href="http://en.wikipedia.org/wiki/Quipu">Kipu's</a> nodular writing.  At first it seemed that it was impossible: I was inventing a language and trying to write a program for calculating factorial on it.  The first three draft specifications went into the ballot box: languages ‚Äã‚Äãwere no good.  They looked as it should have been for esoteric languages, but they did not help me solve the problem, because  were not complete by turing.  Enthusiasm slowly faded away and this task seemed to me not over the shoulder.  Gathering my strength, I decided that if I could write a program for calculating factorial, then the language works. <br><br>  The fourth version of the language was successful: I wrote factorial, then the generation of the Fibonacci sequence and a dozen simple examples for a ‚Äúsum of numbers from 0 to 99‚Äù.  The language turned out what is needed: an unusual and at the same time with a simple clear idea.  The main thing is that the language can solve any (or almost any) task that can be expressed as a computable function. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  Inca and Kipu </h4><br>  (Paragraph from Wikipedia) <br><br>  Kypu is an ancient Inca mnemonic and counting system, a kind of writing: it is a complex string plexus and knots made of South American camel (Alpaca and Llama) wool or cotton.  It can be from a few hanging threads to 2000. It was used to send messages by messengers for hours on specially laid imperial roads, as well as in various aspects of public life (as a calendar, topographic system, for fixing taxes and laws, etc.) . <br><br>  The decimal number system was used in the pile and mainly numbers were written on them using three types of nodes.  The first portrayed dozens, the second - a group of units (2-9) and the third node denoted one.  Thus, the group of nodes was interpreted as a number in which the corresponding nodes were imposed on the place of thousands, hundreds, tens and units. <br><br>  Suppose that the entry ‚Äú7d‚Äù denotes a sequence of 7 nodes denoting tens.  ‚Äú5i‚Äù - a group of single nodes of 5 pieces and ‚ÄúI‚Äù - a unit, and ‚Äúx‚Äù - as a pass.  Then the number 703 can be represented by the following sequence of nodes: ‚Äú7dx3i‚Äù, the number 2013 - 2dx1d3i, etc. <br><br>  These ideas formed the basis of the Quipu language for some changes. <br><br><h4>  Language Specifications </h4><br>  A Quipu program is a matrix of knots, each column of which forms a thread.  The number of threads is limited to 26, by the number of characters in the Latin alphabet (in fact, there are 52, but more on that later).  The number of knots on the thread is not limited.  Each thread should be separated from its neighbors by at least one space and be equalized by a fixed number of indents from the beginning of the file along its entire length.  In other words, a thread in the form of a ‚Äúladder‚Äù and not a column can hardly be called valid. <br><br>  Quipu can handle two types of data - integers and strings. <br><br>  The program is executed by threads (first the first thread, then the second, and so on) from top to bottom.  At each step of execution, the value of the current node is calculated.  Execution continues until the value of the last knot of the last thread is calculated or the stop is found.  ‚Äú::‚Äù. <br><br>  Nodules can be divided into two types - simple and composite.  Simple ones consist of a single matrix cell (a pair of characters per line, for example, ‚Äú$ a‚Äù).  Composite knots are a sequence of simple knots in a thread.  Composite nodules are used to represent numbers and strings.  For example, the string ‚ÄúHabr‚Äù in Quipu can be written like this: <br><br><pre><code class="hljs lisp">'H 'a 'b 'r</code> </pre> <br><br>  And the number of 2013 is as follows: <br><pre> <code class="hljs objectivec"><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-meta"><span class="hljs-meta"># 1@ 3&amp;</span></span></code> </pre><br><br>  Each thread can be marked with a symbolic label.  If there are no tags, all the threads are numbered in order by the labels ‚Äúa‚Äù - ‚Äúz‚Äù.  In addition, each thread has its own value, which is equal to the value of the last node in it.  You can refer to the value of the thread using a special knot - ‚Äú$ a‚Äù (value of the thread ‚Äúa‚Äù).  The value of each thread is written in its zero nodule, which allows its use as an implicit argument in expressions. <br><br>  The thread has two components - the main and initialization.  For example, ‚Äúa:‚Äù is the initializing component of the thread ‚Äúa‚Äù, ‚Äúa.‚Äù Is the main one.  The thread can be represented as two components, and each separately.  In the sequential execution of the program, only the main threads are used.  Initializing threads are executed once when the first explicit or implicit reference is made to the value of the thread.  Explicit refers to the execution of the ‚Äú$ a‚Äù knot, implicitly means the use of the top zero thread nodule in expressions.  If the thread has no initializing component, then its initial value is zero.  There is a restriction on the types of nodules used in initialization threads: it is forbidden to use nodules that change the flow of program execution, i.e.  transitions and knot "stop." <br><br>  Some nodes do not have their own value, so their value is calculated as the value of the nearest significant node in front of them (if there are none, then the value of the thread, which is the zero node).  Examples of such nodules are nodules for output and conditional transitions. <br><br>  Nodule table (n is the current thread node) <br><br><table><tbody><tr><th>  Nodule </th><th>  Value </th></tr><tr><td>  $ a </td><td>  The value of the thread "a". </td></tr><tr><td>  &gt;&gt; </td><td>  Enter the value from the terminal. </td></tr><tr><td>  &lt;&lt; </td><td>  Output the value (n-1) of the node to the terminal. </td></tr><tr><td>  1 # 4% 5 @ 1 &amp; </td><td>  The number 1451: "#" - thousands, "%" - hundreds, "@" tens, "&amp;" - units. </td></tr><tr><td>  - </td><td>  The difference between (n - 2) and (n - 1) knots. </td></tr><tr><td>  ++ </td><td>  The sum of (n - 2) and (n - 1) nodules. </td></tr><tr><td>  ** </td><td>  The product of a knot (n - 2) and a knot (n - 1). </td></tr><tr><td>  // </td><td>  Integer division of a nodule (n - 2) by a nodule (n - 1). </td></tr><tr><td>  %% </td><td>  The remainder of dividing the complete nodule (n - 2) by the nodule (n - 1). </td></tr><tr><td>  &lt;c </td><td>  Conditional transition to the thread "c", if the value of the previous node is less than zero. </td></tr><tr><td>  &gt; c </td><td>  Conditional transition to the thread "c", if the value of the previous node is greater than zero. </td></tr><tr><td>  = with </td><td>  Conditional transition to the thread "c", if the value of the previous node is zero. </td></tr><tr><td>  ?  with </td><td>  Unconditional transition to the thread "with". </td></tr><tr><td>  :: </td><td>  Stop. </td></tr><tr><td>  ' </td><td>  Symbol. </td></tr><tr><td>  \ n </td><td>  Special character. </td></tr></tbody></table><br><br><h4>  Examples of programs </h4><br><h5>  Hello World! </h5><br><pre> <code class="hljs scala">a: a. <span class="hljs-symbol"><span class="hljs-symbol">'H</span></span> &lt;&lt; <span class="hljs-symbol"><span class="hljs-symbol">'e</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'l</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'l</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'o</span></span> ' <span class="hljs-symbol"><span class="hljs-symbol">'W</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'o</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'r</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'l</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'d</span></span> '! \n</code> </pre><br><br><h5>  The sum of numbers from 0 to 99 </h5><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sice</span></span> <span class="hljs-variable"><span class="hljs-variable">$i</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&amp; <span class="hljs-variable"><span class="hljs-variable">$i</span></span> <span class="hljs-variable"><span class="hljs-variable">$s</span></span> ++ ++ <span class="hljs-number"><span class="hljs-number">1</span></span>% &lt;&lt; -- =e ?s</code> </pre><br><br><h5>  Factorial </h5><br><pre> <code class="hljs ruby"><span class="hljs-symbol"><span class="hljs-symbol">a:</span></span> a. <span class="hljs-symbol"><span class="hljs-symbol">b:</span></span> be <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>$a <span class="hljs-number"><span class="hljs-number">1</span></span>&amp; $a $b =e <span class="hljs-number"><span class="hljs-number">1</span></span>&amp; &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>&amp; ++ -- $b =e ** <span class="hljs-string"><span class="hljs-string">?a</span></span></code> </pre><br><br><h5>  Fibonacci </h5><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sfd</span></span> a: b: ab x: itoe <span class="hljs-variable"><span class="hljs-variable">$x</span></span> <span class="hljs-variable"><span class="hljs-variable">$x</span></span> <span class="hljs-string"><span class="hljs-string">', 1&amp; 1&amp; </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$b</span></span></span><span class="hljs-string"> </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$f</span></span></span><span class="hljs-string"> &gt;&gt; 1&amp; 1&amp; 1&amp; '</span></span>. =e <span class="hljs-number"><span class="hljs-number">2</span></span>&amp; <span class="hljs-string"><span class="hljs-string">' ?i ++ &lt;&lt; &lt;&lt; &lt;&lt; 1&amp; -- &lt;&lt; ?f '</span></span>, ?e -- <span class="hljs-variable"><span class="hljs-variable">$i</span></span> <span class="hljs-variable"><span class="hljs-variable">$f</span></span> <span class="hljs-string"><span class="hljs-string">' =o -- &lt;&lt; ?o 1&amp; =e -- </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$a</span></span></span><span class="hljs-string"> =t </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$b</span></span></span><span class="hljs-string"> 1&amp; ++ &lt;&lt; '</span></span>, <span class="hljs-string"><span class="hljs-string">' &lt;&lt; 1&amp; &lt;&lt;</span></span></code> </pre><br><br><h4>  Implementation </h4><br>  For quite a long time, I was haunted by the idea that it would be time to learn a new language, so to expand my horizons.  The choice fell on Scala.  I was always attracted to her so-called ‚Äúexcessive complexity‚Äù that everyone is talking about.  Having written a couple of simple examples of ala ‚ÄúHello World‚Äù, I imagined myself to be a hard-boiled rocky, took up the implementation of the Quipu interpreter.  The task turned out to be more complicated than I thought, despite the fact that at the very beginning I gave myself an installation - to do something that would just work, without being obsessed with the beauty of design and implementation. <br><br>  As a result, I received a working prototype in a day and a half.  Got, really what I wanted.  A sort of proof-of-concept ideas.  I have written quite a bit of code and it looks a bit intimidating, especially for people with Scala development experience.  However, I believe that a start has been made.  The path ‚Äúidea -&gt; implementation‚Äù is traversed by minimal effort and the following steps can be aimed at improving the current implementation.  I do not even rule out the possibility that everything will have to be rewritten from scratch, but I still hope that there is a reasonable amount in the original code and that large-scale refactoring can save it. <br><br>  In the current implementation there are also a couple of minor problems that I decided not to fix yet, in light of the ‚Äúall rewriting from scratch‚Äù perspective.  Nevertheless, the problems of these big inconveniences do not deliver; on the contrary, Quipu programmers are taught to program their programs correctly.  The following is a list of current issues: <br><br>  1) Each thread must have a label.  Threads without tags are not supported. <br>  2) The program must end with an empty line, otherwise - the nodes on the last line will not be synthesized. <br><br>  So.  Interpreter source codes are available on GitHub: <a href="https://github.com/vkostyukov/quipu">github.com/vkostyukov/quipu</a> .  I will be very glad to pull-requests with corrections of my codebred.  In addition, I would be grateful for new examples of language use, which I will definitely post on the project page.  I also promise a stylized T-shirt with the words ‚Äú% username%, the first Quipu hacker.‚Äù To anyone who writes <a href="http://99-bottles-of-beer.net/">99-bottles-of-beer</a> to Quipu.  Joke :) <br><br><h4>  What for? </h4><br>  There is a belief that by inventing a new programming language, the author practically condemns himself to failure.  With this, I fully agree, and I believe that for the next 3-5 years the humankind has a resource on programming languages.  Now it is difficult to come up with something new, useful and different from the well-known coffee giants.  But this is probably true for the languages ‚Äã‚Äãof "big" and "serious", which are trying to solve all imaginable and inconceivable problems that the developer allegedly faces. <br><br>  Esoteric languages ‚Äã‚Äãsolve other problems - the problems of warming up the brain, unhealthy curiosity and <s>self</s> - <s>flagellation of</s> self <s>-</s> education.  For such cases, 1000+ languages ‚Äã‚Äãhave already been invented and implemented, the grammar of which is placed on a standard yellow sticker.  Quipu is one such language.  Languages ‚Äã‚Äãthat help us programmers take a fresh look at known problems and get new sensations and experience from solving them, thereby developing in us the very ability to ‚Äúthink outside the box‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/165661/">https://habr.com/ru/post/165661/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../165645/index.html">Progressive JPEG: new best practice</a></li>
<li><a href="../165647/index.html">Sharing service of screenshots and code</a></li>
<li><a href="../165649/index.html">Javascript: from beginning to end</a></li>
<li><a href="../165657/index.html">The new Samsung refrigerator offers recipes based on its contents.</a></li>
<li><a href="../165659/index.html">Procrastination New tasks. Part 2</a></li>
<li><a href="../165663/index.html">Optimization of LIKE expression when using Sqlite in iOS application</a></li>
<li><a href="../165667/index.html">Little Brave Arkanoid (Part 1 - IwGl)</a></li>
<li><a href="../165669/index.html">Simulate dark-eye adaptation in 3D, or HDR for dummies</a></li>
<li><a href="../165671/index.html">Mass publication of online journal articles in memory of Aaron Schwarz</a></li>
<li><a href="../165675/index.html">Results 24pullrequests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>