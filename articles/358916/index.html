<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Localization based on ScriptableObject for Unity3D</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Welcome, dear readers. This article will discuss the creation of a localization system for applications created in the Unity3D environm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Localization based on ScriptableObject for Unity3D</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction </h2><br>  Welcome, dear readers.  This article will discuss the creation of a localization system for applications created in the <b>Unity3D</b> environment, which is based on the use of the <b>ScriptableObject</b> class, which allows localizing not only text, but also sounds and images, as well as downloading such data from the outside. <br><a name="habracut"></a><br>  By tradition, before proceeding to the description of the details, let us dwell on what localization is and why we need it. <br><br>  Very often, and almost always, the development of games (and any other applications) focuses not on one market.  Since each market is characterized by its own language group, then developers have to take this into account, because if you make the game only in Russian, then English-speaking users simply won't understand anything.  What to do?  That's right, you need to provide support for multiple languages ‚Äã‚Äãin the game.  In most cases, only text data is translated and <b>Google Sheets</b> or something similar is often used for this.  This is quite simple and flexible, since importing from tables is not difficult.  However, not everything is as rosy as it may seem at first glance.  What if the game has a lot of voice guidance?  Or should the text have a different font for different languages?  And finally, the text or something that requires uniqueness for the language in the images?  In these cases, the tables are no longer enough. <br><br>  So what do you ask (if, of course, do not know the answer)?  I have come to the use <b>case of ScriptableObject</b> and <b>AssetBundle</b> .  The first gives us the ability to store data in the form of <b>Asset</b> 'a, and the second to download and store this data from the outside. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let us consider in more detail what the proposed approach is. <br><br><h2>  How to store data </h2><br>  To begin with, we will define what needs to be stored and in what form, for this we will move from the general to the particular.  The basic data we need to get from any localization system is a list of languages ‚Äã‚Äãsupported by it. <br><br>  <b>Note</b> : as you move through the article, I will form the necessary classes and describe them.  So, languages: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizationData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;LanguageData&gt; Languages; } [Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LanguageData</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _name; } } [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _name; }</code> </pre> <br>  The name of the supported language can be used in a localized form and used for output in the interface.  As you can see, <b>LocalizationData</b> is a successor of <b>ScriptableObject</b> , in <b>fact</b> , this our class is the main data storage, which will be in the project as an <b>Asset</b> . <br><br>  What's next?  And then we need for each language to store a set of resources, those final data that will be used in the application or game.  To begin with, we will define the types of resources that we will use and will create an enumeration for them ( <b>enum</b> ): <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> LocalizationResourceType { Text, Image, Texture, Audio }</code> </pre> <br>  <b>Image</b> is a <b>Sprite</b> for use in a Unity GUI based interface or for 2D games.  Why is it separate from <b>Texture</b> ?  Just for the sake of convenience. <br><br><div class="spoiler">  <b class="spoiler_title">Now we will determine the place where we will store the links to resources directly.</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizationResource</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Tag { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _tag; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> StringData { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _stringData; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Font FontData { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _fontData; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sprite SpriteData { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _spriteData; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Texture TextureData { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _textureData; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> AudioClip AudioData { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _audioData; } } [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _tag; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _stringData; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Font _fontData; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Sprite _spriteData; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Texture _textureData; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioClip _audioData; }</code> </pre> <br></div></div><br>  As you can see, the class contains links to all possible types of resources, but don‚Äôt get scared, in reality only one of these links is valid (although, of course, nothing prevents you from writing code so that the resource is compiled).  The only exceptions are text and font, they can exist together.  The provision of such behavior is brought to the level of the data editor (this will be discussed below).  Among other things, it also indicates the tag to which the resources belong.  What is a tag will be described below.  Let's change our <b>LanguageData</b> class with the above. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LanguageData</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _name; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;LocalizationResource&gt; Resources; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _name; }</code> </pre> <br>  The last problem for the localization data warehouse is the interpretation of the resource and its identification regardless of the language.  This is solved by the introduction of tags into the system, which will be stored independently and will allow to solve the problems that have arisen.  We describe this in class. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizationTag</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _name; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LocalizationResourceType ResourceType { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _resourceType; } } [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _name; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LocalizationResourceType _resourceType; }</code> </pre> <br>  As you can see, the tag is the name that will be used to identify the resource in the system and the type of the resource for its interpretation into the final data.  Thus, the data warehouse takes the following form. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizationData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;LanguageData&gt; Languages; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;LocalizationTag&gt; Tags; }</code> </pre> <br>  <b>Note</b> : Despite the fact that <b>LocalizationData</b> stores a list of languages, there is no obligation to do just that.  Each language can be stored in its <b>Asset</b> 'e.  With this approach, languages ‚Äã‚Äãcan be downloaded at the request of the user from the server. <br><br><h2>  Editor </h2><br>  We have created a view for storing localization data, now we need a tool that will allow us to create this data.  I will not give here the full code of the editor, since how to do it depends on the needs of the team and the criteria of convenience, which are quite subjective.  In my version, everything is quite primitive and answers the current tasks in the team. <br><br>  First we need to create an <b>Asset</b> based on the <b>LocalizationData</b> class described above.  This can be done in two ways: <br><br><ol><li>  Through the use of the static function and the <b>MenuItem</b> attribute </li><li>  Through the <b>CreateAssetMenu</b> attribute, applied directly to the descendant class of the <b>ScriptableObject</b> </li></ol><br>  I used the first option, but in fact there is no difference. <br><br><div class="spoiler">  <b class="spoiler_title">The function of creating an Asset for localization data is as follows:</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">MenuItem(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Assets/Create/Localization Data"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateLocalizationDataAsset</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> selectionPath = AssetDatabase.GetAssetPath(Selection.activeObject); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(selectionPath)) { selectionPath = Application.dataPath; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = EditorUtility.SaveFilePanelInProject( <span class="hljs-string"><span class="hljs-string">"Create Localization Data"</span></span>, <span class="hljs-string"><span class="hljs-string">"NewLocalizationData"</span></span>, <span class="hljs-string"><span class="hljs-string">"asset"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Empty, selectionPath); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (path.Length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> asset = ScriptableObject.CreateInstance&lt;LocalizationData&gt;(); AssetDatabase.CreateAsset(asset, path); AssetDatabase.SaveAssets(); EditorUtility.FocusProjectWindow(); Selection.activeObject = asset; } }</code> </pre> <br></div></div><br>  After creating <b>Asset</b> 'a, it will appear in the project and now it can be edited.  To do this, you need to create a <b>CustomEditor</b> for our <b>LocalizationData</b> class.  Since localization is a fairly large amount of data, it cannot be edited directly in the inspector, however, statistical information can be displayed in the following form. <br><br><img src="https://habrastorage.org/webt/hv/jt/dj/hvjtdj8wwcjwsqn43xijzlvg9ak.png" alt="image"><br><br>  Here, the <b>Open Editor Window</b> button opens an editor window where languages, tags and resources are defined.  The editor itself has the following form: <br><br><img src="https://habrastorage.org/webt/dl/xy/tv/dlxytvyis4lyrmpveaqoginq2fi.png" alt="image"><br><br>  As you can see here everything is quite simple, but it allows you to quickly edit the necessary data.  Tags and languages ‚Äã‚Äãare edited separately from each other, however, if languages ‚Äã‚Äãare already present, then adding a new tag adds a corresponding resource to each. <br><br>  I‚Äôll dwell on several important points in the editor: <br><br><ol><li>  When changing the type of resource, you must not forget to clear the links if they were, otherwise it may happen that the resource will contain what it should not, and this in turn will lead to an increase in the size of <b>AssetBundle</b> . </li><li>  The text is presented in a very small window, in which it is not that inconvenient, but almost impossible to edit, so you need to write a separate editor for it. </li></ol><br>  The text editor window looks like this: <br><br><img src="https://habrastorage.org/webt/ye/0e/rv/ye0ervcofvt7twzvmwohfv0vuqs.png" alt="image"><br><br>  The editor can not be done supporting html-markup ( <b>RichText</b> in the framework of <b>Unity3d</b> ), it's all optional. <br><br><div class="spoiler">  <b class="spoiler_title">The code for this editor is as follows:</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizationTextEditorWindow</span></span> : <span class="hljs-title"><span class="hljs-title">EditorWindow</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SerializedProperty CurrentTextProperty; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Font TextFont; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GenericMenu _copyPasteMenu; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIStyle _textStyle; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tag, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> language, SerializedProperty textProperty, Font textFont</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance = (LocalizationTextEditorWindow)EditorWindow.GetWindow(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(LocalizationTextEditorWindow), <span class="hljs-literal"><span class="hljs-literal">true</span></span>); instance.titleContent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIContent(<span class="hljs-string"><span class="hljs-string">"[{0}: {1}]"</span></span>.Fmt(language, tag), <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Empty); instance.CurrentTextProperty = textProperty; instance.TextFont = textFont; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _copyPasteMenu = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GenericMenu(); _copyPasteMenu.AddItem(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIContent(<span class="hljs-string"><span class="hljs-string">"Copy"</span></span>), <span class="hljs-literal"><span class="hljs-literal">false</span></span>, () =&gt; { EditorGUIUtility.systemCopyBuffer = CurrentTextProperty.stringValue; }); _copyPasteMenu.AddItem(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIContent(<span class="hljs-string"><span class="hljs-string">"Paste"</span></span>), <span class="hljs-literal"><span class="hljs-literal">false</span></span>, () =&gt; { CurrentTextProperty.stringValue = EditorGUIUtility.systemCopyBuffer; CurrentTextProperty.serializedObject.ApplyModifiedProperties(); }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnGUI</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CurrentTextProperty == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_textStyle == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _textStyle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIStyle(EditorStyles.textArea); _textStyle.font = TextFont; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Event.current.type == EventType.MouseDown &amp;&amp; Event.current.button == <span class="hljs-number"><span class="hljs-number">1</span></span>) { _copyPasteMenu.ShowAsContext(); } CurrentTextProperty.stringValue = GUI.TextArea(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(<span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, position.width, position.height), CurrentTextProperty.stringValue, _textStyle); CurrentTextProperty.serializedObject.ApplyModifiedProperties(); } }</code> </pre> <br></div></div><br>  The most important point in this code is the ability to copy and paste text from the buffer, otherwise everything is quite simple. <br><br><h2>  API </h2><br>  Before describing the code of the localization system that will be used in the application, we define the basic requirements that it must fulfill.  In fact, the question is quite subjective, each developer presents his own set, depending on the capabilities and the project.  I have formed the following list for myself and on the basis of my experience: <br><br><ol><li>  Languages ‚Äã‚Äãshould change on the fly.  This means that as soon as the user wants to change the language, the changes take effect immediately. </li><li>  Localization data should be able to be formed from several sources.  This means that they do not need to be stored in the same <b>Asset</b> 'e. </li></ol><br>  Based on this, we will begin to form the code and first create the base class. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizationController</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">delegate</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LanguageWasChanged</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> LanguageWasChanged OnLanguageWasChanged; }</code> </pre> <br>  <b>LangaungeWasChanged</b> is an event that different subsystems subscribe to.  The event is needed for those places where the resource update when changing the language is not required to be done automatically.  An instance of the <b>LocalizationController</b> class can be stored anywhere and as important as you like, including the singleton variant. <br><br>  Now we need to create internal data stores, the first is the tags and the second is the corresponding types of resources: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, LocalizationResourceType&gt; _resourceTypeByTag = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, LocalizationResourceType&gt;();</code> </pre> <br>  And the resources themselves: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, LocalizationResource&gt; _currentResources = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, LocalizationResource&gt;();</code> </pre> <br>  Now we need a function with which we will get the localization resource by tag.  This is necessary to obtain data in manual mode. <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">object</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetResourceByTag</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tag</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_resourceTypeByTag.ContainsKey(tag)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> resourceType = _resourceTypeByTag[tag]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> resource = _currentResources[tag]; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (resourceType) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> LocalizationResourceType.Text: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeyValuePair&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, Font&gt;(resource.StringData, resource.FontData); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> LocalizationResourceType.Image: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> resource.SpriteData; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> LocalizationResourceType.Texture: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> resource.TextureData; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> LocalizationResourceType.Audio: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> resource.AudioData; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> <br>  And what about the automatic option and update data on the fly when changing the language? <br><br><div class="spoiler">  <b class="spoiler_title">For this purpose, we will create a subscriber store and two methods.</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, List&lt;Action&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;&gt;&gt; _tagHandlers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, List&lt;Action&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;&gt;&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SubscribeTag</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tag, Action&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; handler</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_tagHandlers.ContainsKey(tag)) { _tagHandlers.Add(tag, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Action&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;&gt;()); } _tagHandlers[tag].Add(handler); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UnsubscribeTag</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tag, Action&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; handler</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_tagHandlers.ContainsKey(tag)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> handlers = _tagHandlers[tag]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (handlers.Contains(handler)) { handlers.Remove(handler); } } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Now we need to add methods to install data from Asset.</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetLanguage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">LanguageData language</span></span></span><span class="hljs-function">)</span></span> { ClearResources(); AddResources(language.Resources); UpdateLocalizeResources(); OnLanguageWasChanged?.Invoke(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddTags</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IList&lt;LocalizationTagParameter&gt; tags</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; tags.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tag = tags[i]; _resourceTypeByTag.Add(tag.Name, tag.ResourceType); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddResources</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IList&lt;LocalizationResource&gt; resources</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> resource <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> resources) { _currentResources.Add(resource.Tag, resource); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateLocalizeResources</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tag <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _tagHandlers.Keys) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> resource = GetResourceByTag(tag); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> handlers = _tagHandlers[tag]; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> handler <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> handlers) { handler(resource); } } }</code> </pre> <br></div></div><br>  The <b>AddTags</b> method adds tags to existing ones in the system.  The <b>AddResources</b> method adds current language resources.  The <b>UpdateLocalizeResources</b> method calls methods of subscribers to a language change event.  The last thing left to do is add data cleaning methods. <br><br>  <b>Note</b> : For editor mode and in the <b>AddTags</b> method and in the <b>AddResources</b> method, <b>you</b> can / need to insert checks for duplicate tag names.  This can be done through <i>#if UNITY_EDITOR #endif</i> . <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ClearResources</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _currentResources.Clear(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Clear</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _resourceTypeByTag.Clear(); _currentResources.Clear(); _tagHandlers.Clear(); }</code> </pre> <br>  So, if you look at all the written code, in general, the very basis is not any difficulty, everything is very simple.  However, we lack one more thing, and in particular a component that will allow us to update resources by tag. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizationTagDefinition</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Tag; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Action&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt; _languageChangedHandler; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Subsribe</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Action&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; handler</span></span></span><span class="hljs-function">)</span></span> { _languageChangedHandler = handler; LocalizationController.SubscribeTag(Tag, handler); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Unsubscribe</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { LocalizationController.UnsubscribeTag(Tag, _languageChangedHandler); } }</code> </pre> <br>  An instance of this class can be started in any script working with an interface or data that requires localization.  For convenience, you can create a separate editor for it for the inspector, using <b>CustomPropertyDrawer</b> .  Such an editor might look something like this: <br><br><img src="https://habrastorage.org/webt/8v/wz/gn/8vwzgnp5rw4rxifv7oqw5zmwffc.png" alt="image"><br><br><h2>  How to use </h2><br>  So, the above described how we store the localization data and the code necessary to work with them.  We now consider the basic scenarios for using the described localization system. <br><br><div class="spoiler">  <b class="spoiler_title">And the first will be the option when we have one data set in which several languages ‚Äã‚Äãare stored</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GameLocalization</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LocalizationController Controller { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_localizationController == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _localizationController = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LocalizationController(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _localizationController; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LocalizationData DefaultLocalization; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> DefaultLanguage; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LocalizationController _localizationController; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (DefaultLocalization == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { StartCoroutine(LoadLocalizationData(<span class="hljs-string"><span class="hljs-string">"http://myserver.ru/localization"</span></span>, (bundle) =&gt; { DefaultLocalization = bundle.LoadAllAssets&lt;LocalizationData&gt;()[<span class="hljs-number"><span class="hljs-number">0</span></span>]; InitLanguage(); bundle.Unload(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); })); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { InitLanguage(); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChangeLanguage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> languageId</span></span></span><span class="hljs-function">)</span></span> { Controller.SetLanguage(DefaultLocalization.Languages[languageId]); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetLanguages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> languages = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; DefaultLocalization.Languages.Count; i++) { languages.Add(DefaultLocalization.Languages[i].Name); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> languages; } <span class="hljs-function"><span class="hljs-function">IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadLocalizationData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> url, Action&lt;AssetBundle&gt; result</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> request = UnityWebRequestAssetBundle.GetAssetBundle(url); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> request.SendWebRequest(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> assetBundle = DownloadHandlerAssetBundle.GetContent(request); result(assetBundle); request.Dispose(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitLanguage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Controller.AddTags(DefaultLocalization.Tags); Controller.SetLanguage(DefaultLocalization.Languages[DefaultLanguage]); } }</code> </pre><br></div></div><br>  What we get: at the start we see if the <b>Asset</b> localization is installed, if so, we initialize the localization controller and set the default language, if not, we download the <b>Asset</b> from the server.  There are also two methods to set the language and get a list of languages ‚Äã‚Äãto display them in the interface.  When calling the <b>SetLanguage</b> method <b>,</b> all resource change subscribers by tag will receive notifications and update their resources. <br><br>  Now consider the option when we have data localization scattered across several <b>Asset</b> 's. <br><br><div class="spoiler">  <b class="spoiler_title">Here we need to change a few methods from the previous example.</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LocalizationData LocalizationAudio; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LocalizationData LocalizationImage; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LocalizationData LocalizationText; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> DefaultLanguage; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Controller.AddTags(LocalizationAudio.Tags); Controller.AddTags(LocalizationImage.Tags); Controller.AddTags(LocalizationText.Tags); ChangeLanguage(DefaultLanguage); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChangeLanguage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> languageId</span></span></span><span class="hljs-function">)</span></span> { Controller.ClearResources(); Controller.AddResources(LocalizationAudio.Languages[languageId].Resources); Controller.AddResources(LocalizationImage.Languages[languageId].Resources); Controller.AddResources(LocalizationText.Languages[languageId].Resources); Controller.UpdateLocalizeResources(); }</code> </pre><br></div></div><br>  I think everything is clear here without explanation: we just add tags as before, but we add resources manually, then call the <b>UpdateLocalizeResource</b> method, which will trigger a notification for all subscribers to the tags. <br><br>  And in the end, it remains to consider the work with resources and tags at the end point, i.e.  at the content level and as an example, take the <b>Image</b> object from the <b>Unity GUI</b> ; <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocalizeImage</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LocalizationTagDefinition ImageTag; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ImageTag.Subsribe((data) =&gt; { GetComponent&lt;Image&gt;().sprite = data <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Sprite; }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDisable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ImageTag.Unsubscribe(); } }</code> </pre><br>  Here we use the previously described component <b>LocalizationTagDefinition</b> .  Hanging this script on an object, we get an automatic image change in case the language changes. <br><br><h2>  Conclusion </h2><br>  In conclusion, I want to say that the use of this approach in my current work has quite greatly facilitated life with localization.  In the segment in which my projects are developed, the volume of various data is quite large: both the speech, and the image, and the text.  Also, most languages ‚Äã‚Äãare not included in the main application and they are loaded on demand.  Among other things, the game sometimes has to behave differently for different languages ‚Äã‚Äã(this is achieved by adding <b>json</b> lines to textual localization data).  Of course, the system may not be optimal and there is room for development both in terms of the code and in the editor (especially, for example, import text data from <b>Google Sheets</b> and make it more pleasing to the eye), but for my projects it is enough at the moment. <br><br>  At the end of a small example where the approach described above was used.  This is the visual editor of the logic <b>Panthea VS</b> (the ideological inspirer of which was <b>PlayMaker</b> ). <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/uyCZWOwk__E" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/358916/">https://habr.com/ru/post/358916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358906/index.html">Telegram lockdown affected Viber and WhatsApp</a></li>
<li><a href="../358908/index.html">Marvin Minsky "The Emotion Machine": Chapter 5 "Levels of Mental Activity"</a></li>
<li><a href="../358910/index.html">Neil Stevenson: Hunger of Innovation, Big Projects and Science Fiction</a></li>
<li><a href="../358912/index.html">Alan Kay: cool concepts also need love</a></li>
<li><a href="../358914/index.html">/ boot on ZFS mirror</a></li>
<li><a href="../358918/index.html">Issue # 22: IT training - current issues and challenges from leading companies</a></li>
<li><a href="../358920/index.html">CRM integration with Outlook in the free version of 3CX</a></li>
<li><a href="../358924/index.html">3D character stylization: model, texture, details</a></li>
<li><a href="../358926/index.html">Defect management style</a></li>
<li><a href="../358928/index.html">Choosing a location for the server and software, testing market inefficiencies: how to actually create trading robots</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>