<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Heuristics in scheduling classes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, the topic of class schedules slipped here, and I wanted to talk about my experience in building a scheduling algorithm for the university, o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Heuristics in scheduling classes</h1><div class="post__text post__text-html js-mediator-article">  Recently, the topic of class schedules slipped here, and I wanted to talk about my experience in building a scheduling algorithm for the university, or rather, more about the heuristics I used. <br><a name="habracut"></a><br>  In the near 2002, ending with the university ( <a href="http://mesi-yar.ru/">Yaroslavl branch of MESI</a> ), specialty "Applied Informatics in Economics", the task was to select a thesis.  The proposed list of topics disappointed, mostly boring database development.  In principle, any of my existing developments could be taken as a basis, as suggested by the head.  Department, but the blood raged, I wanted to do something interesting and new for myself.  I suggested to the head the topic of scheduling, especially as he worked in the IT service of the university, and I was in charge of the KIS UZ system (Integrated Information Management System for Educational Institution), a product of the Yaroslavl company.  KIS UZ was good, but she could not make the schedule herself.  Also, by this I was aiming to do something useful, but it turned out that there were no attempts to put into practice, maybe even a publication on Habr√© would give someone a benefit. <br><br>  So, it was necessary to teach the computer to make a weekly schedule of classes, and as best as possible.  Aware of the scale of the search space, did not set the goal of finding the best option.  First you need to determine what the classes are, and what is good and what is bad.  The following model was chosen, which has such input data: <br>  - number of days in a week <br>  - number of lessons per day <br>  - list of teachers <br>  - list of groups, subgroups and streams <br>  - the number of audiences for a particular type <br>  - a set of groups of tasks (classes): <br><ul><li>  occupation </li><li>  teacher </li><li>  stream or group </li><li>  type of audience </li><li>  number of classes in this class </li><li>  time, if the director wants to ‚Äúhard‚Äù to set the lesson at a certain time </li></ul><br>  The process should arrange classes on a temporary grid - the schedule.  In the evaluation of the schedule, 4 parameters are involved - the number of ‚Äúwindows‚Äù in the schedule for the group and teachers, the even distribution of classes by day for the group and teachers.  The significance of these parameters sets the director.  At first I wanted to apply the method of analyzing hierarchies in the objective function, but I would have to introduce a pair-wise comparison of these parameters, so I managed with a linear function. <br><br><img src="https://habrastorage.org/storage2/4b8/581/eaf/4b8581eaf3bf4d333d2f5efc48d9aaee.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As for the audience, I went to the simplification, removed it from the schedule, making it a limitation, when looking for the number of free audiences for a specific time was taken into account.  After generating the schedule in time - were placed the audience.  In general, I have outlined such a simple model.  I experimented a bit with the genetic algorithm, based on the library I sketched a program during the day, but did not like the result, and without thinking about it, I switched to other algorithms.  I think the bad result was due to my unjust approach, most likely, unsuccessfully coded the model in terms of GA.  He began to think about the method of branches and borders.  The search space is a tree, where a level means occupation, and a branch is an element of the time grid.  Schedule is considered the path from the root of the tree to one of the hanging peaks.  On the way, in the process of branching, the possibility and expediency of a detour by various criteria is checked: teacher's employment, groups, assessment.  Bypassing the tree, naturally, deep down.  At each level there are free grid cells for the current task.  If the director ‚Äúrigidly‚Äù secured this task for a specific time, then one branch is constructed corresponding to a specific time.  Then, passing along the branch, there is an upper bound estimate (plus control for the presence of free audiences of this type), and if the upper bound is higher than the estimate of the best-found current schedule (and if there is a free audience of this type), then branches, otherwise move to the next branch.  In the branch and bound method, the key and important point is the algorithm for finding the upper bound estimate.  Without further ado, I evaluated the current incomplete schedule, and compared it with the current best found schedule.  Since, plunging further, the evaluation of an incomplete timetable will become worse, then if it is already worse than the evaluation of a better timetable, then the branch is rejected.  And so, having programmed the whole thing, having prepared the data (I took it from the system on the basis of real data) I started it in the evening and went home.  In the morning, having come to work, I loaded into the KIS UZ the obtained best of the billion found schedules, but it was impossible to look at it without tears.  I was disappointed, dejected and did not know what to do next.  In the evening, I went with friends to drink a beer, and here I stand at the bus stop and wait for the last tram, and in my head there are only trees, branches, borders, assessments ... sort them, make sure that first the options that are more likely than others would be included in the best timetable.  But how to do it?  The thought came when I was already smoking a second cigarette.  It is necessary, in advance, to build your ideal schedules for each subject of the schedule, and for each branch to calculate the degree of contact with these schedules, and sort them.  In the morning I went to work faster than usual, drawing technical details in my head, for lunch the heuristics was built in, the result looked pretty good at the KIS UZ, and the rest of the working day I was smiling. <br><br>  Ps.  Later, when I heard of PageRank, I thought that there was something in it similar to this heuristic. </div><p>Source: <a href="https://habr.com/ru/post/148717/">https://habr.com/ru/post/148717/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148706/index.html">Java client for FlexMonkey, or Java-style LocalConnection</a></li>
<li><a href="../148708/index.html">New IP DECT from Grandstream DP715 / DP710</a></li>
<li><a href="../148711/index.html">Tool-assisted speedrunning</a></li>
<li><a href="../148712/index.html">The finalists of the Evernote Devcup 2012 Developer Championship are determined.</a></li>
<li><a href="../148715/index.html">Why computer vision is used very little in practice</a></li>
<li><a href="../148718/index.html">Returning to multitasking in PHP</a></li>
<li><a href="../148719/index.html">Opened CFP at ZeroNights 2012</a></li>
<li><a href="../148720/index.html">How masterhost for their mistakes "apologizes"</a></li>
<li><a href="../148721/index.html">Web architecture</a></li>
<li><a href="../148722/index.html">Denial: iPhone design has not been stolen from Sony</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>