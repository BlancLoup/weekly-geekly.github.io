<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A set of bike Yii developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the author 
 When the author writes a post on Habr√©, he tries to give readers the most complete and useful information on the topic. But if there...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A set of bike Yii developer</h1><div class="post__text post__text-html js-mediator-article"><h5>  From the author </h5><br>  When the author writes a post on Habr√©, he tries to give readers the most complete and useful information on the topic.  But if there is no right answer or solution?  Then this post is just food for the mind, and the value lies in the collective mind. <br><br>  I came from far away, I do not argue, but I hope for your understanding and support.  Voicing solutions to everyday developer problems, in particular on the Yii framework, I propose a solution to our team.  At the same time, they are interested in community ideas.  Well, quite puff your brains. <br>  Forward. <br><br><a name="habracut"></a><br><h4>  Fashionable, youth, traits </h4><br>  There are situations when the model executes the N () method, and at the same time returns true / false and that‚Äôs fine.  But usually the user does not understand why an error occurred and how to live with it further, we need details.  Well, if the logic is simple and you are not a perfectionist, you brought a little business of logic to the controller and brought errors with details - but we are not like that! <br>  And if the method can display up to 20 different errors, why Vasya cannot buy a pie or post a comment. <br>  In Yii, there is an excellent validate () method for the model, but it is precisely tied to validating the data of the model itself and is not suitable if you created an abstract method that is not directly related to the model. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      How to be? <br><div class="spoiler">  <b class="spoiler_title">That's how</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">trait</span></span> CustomError { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_errorMessages = []; <span class="hljs-comment"><span class="hljs-comment">/** * Use in method : return $this-&gt;setCustomErrorMessage(message); * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> array $errorMessages * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCustomErrorMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($errorMessages)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!is_array($errorMessages)) $errorMessages = [$errorMessages]; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_errorMessages = $errorMessages; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $errorMessage */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addCustomErrorMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($errorMessage)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_errorMessages[] = $errorMessage; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCustomErrorMessages</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_errorMessages; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> mixed */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCustomErrorMessageFirst</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reset(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_errorMessages); } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clearCustomErrorMessages</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_errorMessages = []; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } }</code> </pre> <br></div></div><br>  Simple code is like 5 kopecks, but it makes life very simple.  Example: <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Blog</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CActiveRecord</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">CustomError</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    public function checkPrivacyCreate() { // ,      ... $parent_post = $this-&gt;getPost($this-&gt;parent_post_id); if (empty($parent_post)) return $this-&gt;setCustomErrorMessage(Yii::t('blog', 'post_not_found')); ... return true; } } //    public function actionAddPost() { .... if (!$model-&gt;addPost()) Tools::jsonError($model-&gt;getCustomErrorMessages()); //   JSON   ... }</span></span></code> </pre><br><br>  What do we get at the output?  We get adequate methods that return a bool value, rather than a vinaigrette of possible answers, from int to string.  No code duplication, pure DRY.  Although no, I am sure that smart people will come up with a cleaner option, well, that would be great! <br><br><h4>  Down with the fancy stuff, just the console, just hardcore! </h4><br>  In Smartprogress, we use continuous integration and each commit goes through several stages, from testing on locale, testing on a server server, testing on production <s>and testing on users</s> . <br><br>  What is it, and yes, that we have as many as 6 databases.  Two at each stage, working and test.  To say that we pray on migration is to say nothing.  But bad luck, the Yii migrate team does not offer any adequate solution for such a zoo base.  Yes, through the keys you can specify the right connection, but do it every time for a long time, tedious, LAZY (laziness is that feeling, which causes sympathy among programmers even more than male solidarity. art) <br><br>  Oh, and pulled me, let's all love, bam bang and ... <br><div class="spoiler">  <b class="spoiler_title">decision</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> Yii::import(<span class="hljs-string"><span class="hljs-string">'system.cli.commands.MigrateCommand'</span></span>); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MigratecomboCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MigrateCommand</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $connections = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'db'</span></span>, <span class="hljs-string"><span class="hljs-string">'db_test'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//       public function actionUp($args) { if(($migrations=$this-&gt;getNewMigrations())===array()) { echo "No new migration found. Your system is up-to-date.\n"; return 0; } $total=count($migrations); $step=isset($args[0]) ? (int)$args[0] : 0; if($step&gt;0) $migrations=array_slice($migrations,0,$step); $n=count($migrations); if($n===$total) echo "Total $n new ".($n===1 ? 'migration':'migrations')." to be applied:\n"; else echo "Total $n out of $total new ".($total===1 ? 'migration':'migrations')." to be applied:\n"; foreach($migrations as $migration) echo " $migration\n"; echo "\n"; if($this-&gt;confirm('Apply the above '.($n===1 ? 'migration':'migrations')."?")) { foreach($migrations as $migration) { foreach($this-&gt;connections as $connectionId) { // !!!   ,       $this-&gt;connectionID = $connectionId; if($this-&gt;migrateUp($migration)===false) { echo "\nMigration failed. All later migrations are canceled.\n"; return 2; } } } echo "\nMigrated up successfully.\n"; } } public function actionDown($args) { $step=isset($args[0]) ? (int)$args[0] : 1; if($step&lt;1) { echo "Error: The step parameter must be greater than 0.\n"; return 1; } if(($migrations=$this-&gt;getMigrationHistory($step))===array()) { echo "No migration has been done before.\n"; return 0; } $migrations=array_keys($migrations); $n=count($migrations); echo "Total $n ".($n===1 ? 'migration':'migrations')." to be reverted:\n"; foreach($migrations as $migration) echo " $migration\n"; echo "\n"; if($this-&gt;confirm('Revert the above '.($n===1 ? 'migration':'migrations')."?")) { foreach($migrations as $migration) { foreach($this-&gt;connections as $connectionId) { $this-&gt;connectionID = $connectionId; if($this-&gt;migrateDown($migration)===false) { echo "\nMigration failed. All later migrations are canceled.\n"; return 2; } } } echo "\nMigrated down successfully.\n"; } } private $_db; protected function getDbConnection() { if(($this-&gt;_db=Yii::app()-&gt;getComponent($this-&gt;connectionID)) instanceof CDbConnection) return $this-&gt;_db; echo "Error: CMigrationCommand.connectionID '{$this-&gt;connectionID}' is invalid. Please make sure it refers to the ID of a CDbConnection application component.\n"; exit(1); } }</span></span></code> </pre><br></div></div><br>  I‚Äôll explain a little bit; in the Up / Down method, we cycle through all connections and in turn apply our migration to each database. <br>  An elementary decision is impossible.  In my even somewhere peeking, I confess.  But now, one command is enough, which can be executed even on Friday evening, being in the "abstract" state. <br><pre> <code class="bash hljs">yiic migratecombo up(/down/create/...)</code> </pre><br>  And your migrations are applied to all existing databases specified in the $ connections variable. <br><br>  But there are nuances.  If you decide how to do the tricky migration, not using the standard Yii methods, but directly through the base, then: <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">m140317_060002_fill_search_column</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CDbMigration</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">up</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $goals = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getDbConnection() <span class="hljs-comment"><span class="hljs-comment">//  ,  Yii::app()-&gt;db-&gt;createCommand...   $this-&gt;getDbConnection() -&gt;createCommand("SELECT id, `name` FROM goals WHERE `moderated` != 'deleted'") -&gt;queryAll();</span></span></code> </pre><br><br><h4>  Testing, unit, functional, in rabbits </h4><br>  To say that I am a testing specialist is almost like half a year ago saying that the Crimea will be part of Russia. <br>  But I have been doing it for a long time and I cannot keep silent, so I apologize in advance. <br><br>  In functional testing, the first thing I encountered was that almost all functions of the site are available only to authorized users, and as you know, the environment for each test is virgin clean. <br><div class="spoiler">  <b class="spoiler_title">We decided it</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebTestCase</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CWebTestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $loginRequired = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::setUp(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;setBrowser(<span class="hljs-string"><span class="hljs-string">'*firefox'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;setBrowserUrl(TEST_BASE_URL); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;prepareTestSession(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;loginRequired) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;login(); } } }</code> </pre><br></div></div><br>  I will not give the code of the login method, everything is entirely individual.  Now it is enough to specify loginRequired = true in the test class and your test will be performed by a user authorized by all rules. <br><br>  It‚Äôs impossible not to advise young and inexperienced testers like me, a wonderful <a href="https://github.com/fzaninotto/Faker">Faker</a> tool for generating fictitious, but as realistic as possible data.  Irreplaceable thing for DataProvider <br><div class="spoiler">  <b class="spoiler_title">Small example</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CDbTestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newUserProvider</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  3    $faker = \Faker\Factory::create('ru_RU'); $array = array(); for($i=0; $i&lt;3; $i++) { $array[$i]['user']['name'] = $faker-&gt;name; $array[$i]['user']['address'] = $faker-&gt;address; $array[$i]['user']['country'] = $faker-&gt;country; } return $array; } /** * @param $user * @dataProvider newUserProvider */ public function testCreate($user) //    3        { $model = new User('signup'); $model-&gt;name = $user['name']; ... $model-&gt;save() } }</span></span></code> </pre><br></div></div><br><br>  Of course, this is not all the tricks and buns that we gave birth to over the long period of development of <a href="https://smartprogress.do/">Smartprogress</a> . <br>  There are still many solutions and improvements, but I would like to ask you, dear readers, to share your thoughts and ideas on the subject.  Surely every developer has a real zoo of helpers and ready-made solutions for various tasks. <br>  I hope you share them with me and the whole habrahabr community. </div><p>Source: <a href="https://habr.com/ru/post/217239/">https://habr.com/ru/post/217239/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217213/index.html">TYPO3 CMS cluster in Jelastic cloud</a></li>
<li><a href="../217215/index.html">"What is proof?": A look from theoretical informatics</a></li>
<li><a href="../217225/index.html">MakeHuman: release after 12 years of development</a></li>
<li><a href="../217235/index.html">Australian shark warns of its approach to shore via Twitter</a></li>
<li><a href="../217237/index.html">Internet Archive began digitizing 40,000 VHS and Betamax video tapes</a></li>
<li><a href="../217241/index.html">(Archive) Matreshka.js v0.1</a></li>
<li><a href="../217243/index.html">Foodini 1000 euro food 3D printer raises funds on Kickstarter</a></li>
<li><a href="../217245/index.html">Installing php5.5 + php-fpm + mysql + nginx on Mac OS X Mavericks</a></li>
<li><a href="../217247/index.html">The long-awaited update of Google Music</a></li>
<li><a href="../217251/index.html">Quick Mozilla debugger with recording and playback</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>