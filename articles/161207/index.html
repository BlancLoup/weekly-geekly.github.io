<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building a social network graph using Drupal and Feeds</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In one large university in the South of Russia, I am developing a software platform for automated graph construction of a social network using the pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building a social network graph using Drupal and Feeds</h1><div class="post__text post__text-html js-mediator-article">  In one large university in the South of Russia, I am developing a software platform for automated graph construction of a social network using the processing of social networking web pages.  In this article I will tell you how we processed data collected from LiveJournal (Livejournal.com). <br>  Almost a year has passed, I think it will be interesting to know how the system was used for automated data collection during the election campaign to the State Duma in 2011. <br><a name="habracut"></a><br><br>  To generate a table of references, the processing of social networking pages and the blogosphere (parsing) is implemented using the Feeds module for CMF Drupal with the SimpleHTMLDOMparser plugin.  During the parsing process, the system accesses a page with information on the Internet and fetches data from the DOM of the HTML tree according to the set of tags and the cascading style sheet. <br><br>  Consider the configuration of the module for importing user comments into the system.  The system is designed in such a way that allows you to divide the collected information into elementary parts, each of which represents a separate field in the database.  The import is made granular, which subsequently gives the opportunity to flexibly filter the results.  The following data extractors (Extractions) are included in the data collection (see Fig. 1): <br><ul><li>  comment title; </li><li>  comment author - username on the network or blog; </li><li>  the author of the journal is the record to which the comment relates; </li><li>  comment - the actual text; </li><li>  link to comment; </li><li>  journal commentator; </li><li>  journal author of the post; </li><li>  Comment date - the current date when the comment was posted online. <br></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/582/6ed/e4a/5826ede4abd442f37f0c4fe57cd30f33.png"><br><br>  Fig.  1. - Data export settings in the Feeds module <br>  Data retrieval is performed hierarchically: <br><br><br><br>  In particular, for the ‚ÄúComment Author‚Äù field it is necessary to set the pattern ‚Äúul [class = 'info b-hlist b-hlist-middot'] li a‚Äù with the attribute ‚Äúplaintext‚Äù.  This pattern provides immersion into the DOM HTML tree and exports all elements that are in the unordered list ‚Äúul‚Äù with the class ‚Äúinfo b-hlist b-hlist-middot‚Äù and wrapped with the tag ‚Äúa‚Äù (see Figure 2). <br><br><img src="https://habrastorage.org/storage2/1f7/886/516/1f7886516c6228183e23222a7e9d9777.png"><br><br>  Fig.  2. - Setting the pattern and attributes of the "Comment By" field in the Feeds module <br><br><br><br>  Each exported item in the system corresponds to the predefined fields of the type of material Feed item (feed instance).  The correspondence table is shown in Fig.  3 <br><br><img src="https://habrastorage.org/storage2/5d6/0e1/b53/5d60e1b5361bbc5c975a2b11bbe57464.png"><br>  Fig.  3. - Setting the pattern and attributes of the "Comment By" field in the Feeds module <br>  After setting all the necessary parameters, the system starts parsing for the selected keywords.  As a result, the system will form a table with a set of data on comments, presented in Fig.  4: comment title, date of its import into the system, author of the comment, author of the blog to which the comment relates, text of the comment, date of its publication on the Internet, tonality (positive, negative, neutral), defined by the system user. <br><br><img src="https://habrastorage.org/storage2/fdd/742/05e/fdd74205e5d019bf8a8163b1d9e9a694.png"><br><br>  Fig.  4. - table with comments data <br>  For further analysis of the graph, the generated table is exported to one of the supported formats.  To export, use the XLS button below the table, fig.  five. <br><br><img src="https://habrastorage.org/storage2/c98/445/e3c/c98445e3c4227e671ca0e73538719c67.png"><br><br>  Fig.  5. - table export buttons <br>  During the export process, you can monitor its progress: the time it takes for the system to generate the file and the percentage of completion is displayed, pic.  6 <img src="https://habrastorage.org/storage2/813/a60/5d2/813a605d2253390109a0b6133efa9c46.png"><br><br>  Fig.  6. - data export process <br>  The result of the export is a file that should be saved for further analysis of the graph, fig.  7 <img src="https://habrastorage.org/storage2/20b/e0b/1c1/20be0b1c1fd30e4b922c548fefd8d97d.png"><br><br>  Fig.  7. - export result <br>  Implementing a campaign monitoring technology using the developed model and using the described algorithm will be useful at different stages of monitoring social networks and the electoral process - both during election campaigns and between them. <br>  It is also possible to use a system for collecting data and forming a graph in any areas of activity where the structure can be represented as a graph with clearly defined nodes and links between them. <br>  <b>Of course, you want to look at the graph?)</b> This is the first article.  In the next I will talk about the visualization and analysis of the resulting graph and the conclusions that we made before the well-known events of last December. <br><br></div><p>Source: <a href="https://habr.com/ru/post/161207/">https://habr.com/ru/post/161207/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../161195/index.html">Simplest triangulation in java</a></li>
<li><a href="../161197/index.html">Site conversion. Turn visitors into buyers</a></li>
<li><a href="../161201/index.html">Digital elevation model using SRTM data</a></li>
<li><a href="../161203/index.html">MSP430 Launchpad as a signaling of the state of server hardware</a></li>
<li><a href="../161205/index.html">Likbez on typing in programming languages</a></li>
<li><a href="../161209/index.html">Quantitative assessment of the clarity of the code</a></li>
<li><a href="../161213/index.html">Notes after meeting with Sergey Belousov</a></li>
<li><a href="../161217/index.html">C ++ Development Environments for Ubuntu</a></li>
<li><a href="../161223/index.html">No life, populated by robots</a></li>
<li><a href="../161229/index.html">On the occasion of the anniversary of SMS, its creator gave an interview - via SMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>