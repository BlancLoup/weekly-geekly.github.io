<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bing API + PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Finding from the Bing API is quick and easy! Today I would like to share with you some of the nuances of developing a web search. 

 Step 1: 
 Registe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bing API + PHP</h1><div class="post__text post__text-html js-mediator-article">  Finding from the Bing API is quick and easy!  Today I would like to share with you some of the nuances of developing a web search. <br><a name="habracut"></a><br>  <b>Step 1:</b> <br>  Register and get an API key at <a href="http://www.bing.com/developers/appids.aspx">www.bing.com/developers/appids.aspx</a> <br><br>  <b>Step 2:</b> <br>  We determine the main search parameters, namely: <br><ul><li>  Search query (URL-coding of a search query in accordance with RFC 1738, in UTF-8 encoding) </li><li>  Source type (web, images, video, etc ...) </li><li>  The number of results for one query (maximum 50) </li><li>  Offset to the desired position of search results from the beginning (no more than 1000) </li><li>  The format of the data expected from the search server (xml, json, soap) </li></ul><br>  Additional options depend on the type of search source.  Read more about this in the <a href="http://msdn.microsoft.com/en-us/library/dd251056.aspx">documentation.</a> <br><br>  <b>Step 3:</b> <br>  We form the query string and process the received data.  For example: <br><blockquote><code><font color="black">$url = <font color="#A31515">'http://api.bing.net/xml.aspx?Appid='</font> .$Appid. <font color="#A31515">'&amp;query='</font> .rawurlencode(iconv( <font color="#A31515">"CP1251"</font> , <font color="#A31515">"UTF-8"</font> , searchtext)). <font color="#A31515">'&amp;sources=web&amp;web.count=10&amp;web.offset=0&amp;web.filetype=html'</font> ; <br> <br> $searchpage = file_get_contents($url);</font> <br></code> </blockquote><br>  The results obtained in this case will be given by the server in the form of XML containing prefixes in the namespace: <br><blockquote> <code><font color="black">$sxe = <font color="#0000ff">new</font> SimpleXMLElement($data); <br> $resultsearch = $sxe-&gt;children( <font color="#A31515">'web'</font> , TRUE);</font> <br></code> </blockquote><br>  If the search query was successfully executed, the results will be contained in the $ resultsearch-&gt; Web-&gt; Results-&gt; WebResult array, otherwise the error message will be contained in the $ sxe-&gt; Errors-&gt; Error array 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>What is not in the documentation, but what is important to know:</b> <br>  Search Bing API can search only on a specific site.  For example, to search only on the site <a href="http://habrahabr.ru/">habrahabr.ru</a> , the above search query must be slightly modified: <br><blockquote> <code><font color="black">$url = <font color="#A31515">'http://api.bing.net/xml.aspx?Appid='</font> .$Appid. <font color="#A31515">'&amp;query='</font> .rawurlencode(iconv( <font color="#A31515">"CP1251"</font> , <font color="#A31515">"UTF-8"</font> , searchtext)). <font color="#A31515">' <b>+site:habrahabr.ru</b> &amp;sources=web&amp;web.count=10&amp;web.offset=0&amp;web.filetype=html'</font> ;</font> <br></code> </blockquote><br>  I would also like to say that the search does not always correctly handle Cyrillic queries.  For example, if you include in the search query filtering obscene content, as it turns out that the search engine hardly filters the content, if the query is in Russian: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$url = <font color="#A31515">'http://api.bing.net/xml.aspx?Appid='</font> .$Appid. <font color="#A31515">'&amp;query='</font> .rawurlencode(iconv( <font color="#A31515">"CP1251"</font> , <font color="#A31515">"UTF-8"</font> , <font color="#A31515">''</font> )). <font color="#A31515">'&amp;sources=web&amp;web.count=50&amp;web.offset=0&amp;Adult=Strict'</font> ;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  <b>Conclusion:</b> <br>  Of course, the search in Cyrillic from Bing does not yet allow you to fully enjoy all the chips and goodies described in the documentation.  But I would like to say that only practical application will allow you to compare the quality of morphological search and the speed of indexing site content.  Personally, I had to pay attention to Bing, upgrading the search on one of the sites with technical documentation <br>  PS: The simplest example of Bing API + PHP for site search: <a href="http://docs.google.com/View%3Fid%3Ddmwh7bn_10fhhxgtfs">docs.google.com/View?id=dmwh7bn_10fhhxgtfs</a> </div><p>Source: <a href="https://habr.com/ru/post/86172/">https://habr.com/ru/post/86172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86166/index.html">Translation into Russian, as MS sees it</a></li>
<li><a href="../86167/index.html">Apple + MS vs Google</a></li>
<li><a href="../86168/index.html">Reasonable upgrades for new business needs</a></li>
<li><a href="../86169/index.html">Fuzzy approach to analyzing processes in the software market</a></li>
<li><a href="../86170/index.html">Buzzaware: plugin base for Buzz</a></li>
<li><a href="../86173/index.html">Skinput - turn your body into a touchscreen</a></li>
<li><a href="../86175/index.html">Geosense, determining your location without GPS</a></li>
<li><a href="../86176/index.html">ColoRotate - a new analogue of Kuler</a></li>
<li><a href="../86179/index.html">Here's how you really use your iPhone</a></li>
<li><a href="../86181/index.html">Joel Spolsky stops writing a Joel on Software blog.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>