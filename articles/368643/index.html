<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SSD recovery on SandForce SF-2XXX controller</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Here I will tell you how to recover disks that are defined as sandforce {200026BB} or which are not defined at all. 

 It all started with the fact th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SSD recovery on SandForce SF-2XXX controller</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/494/82e/bf3/49482ebf31c24f509837f27723465f99.jpg"><br><br>  Here I will tell you how to recover disks that are defined as sandforce {200026BB} or which are not defined at all. <br><a name="habracut"></a><br>  It all started with the fact that I was presented with an SSD, which was defined as sandforce {200026BB}, the search for information on this disease led me to the <a href="http://forum.ru-board.com/topic.cgi%3Fforum%3D84%26topic%3D4797%26start%3D0">topic of the</a> ruboard forum, where they discussed ways to reanimate them.  But the specific manual, how to do everything and where to download it was not there, in the end, with the help of Google, I found a Chinese manual, and to some extent this article is a translation of this manual, plus my successful experience.  Direct links to the necessary software, I will not yet lay out, because  I don‚Äôt know if this can be done in this case, if you say yes, I‚Äôll add them to the article, but in any case there are a lot of tips, baidu will help you. <br><br>  So, what do we need: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. <i>Screwdriver</i> (you will need to disassemble the disk to find out how things are) <br>  2. <i>FW_Worksheet_SFI_SF-2000_140120_Confidential_Gold</i> (table where you should find the configuration ID for your chip and memory) <br>  3. <i>Fedora 14 32bit distribution kit</i> , I used RFRemix 14.1 LiveDVD (OS, where all the manipulations are performed, Fedora 14 is needed) <br>  4. <i>SF_Genesis_v1.5.2</i> (software for preparing the firmware and the controller firmware itself) <br>  5. <i>* .lic file</i> (the license used to unpack packages with firmware contains IDs that will be unpacked. I found only 3 files on the network.) <br>  6. <i>FW_PPRO_5_8_2_Release.906190.release</i> (package with firmware, there are packages of other versions, this one is taken as an example) <br>  In short, the algorithm is as follows: you will find out your ID in the table, check if there is such an ID in the license, if not, then look for another license, if there is, then use this license to unpack the firmware package and flash it. <br><br>  In details: <br><br>  1. We disassemble SSD: <br><br><img src="https://habrastorage.org/files/629/e89/3b5/629e893b577245b6bf1a8e6796ef3e1c.jpg"><br><br>  We look at the chip (yellow), here it is SF-2281, memory (blue) 29F64G08CBAAA 16 pcs.  (8 above and below).  We are looking for our configuration in the table: <br><br><img src="https://habrastorage.org/files/a1f/116/9c3/a1f1169c3bdc461da81d5a76e0911363.jpg"><br><br>  We remember. <br><br>  2. Connect the drive to your computer, boot into Fedora.  If your SSD is not detected (and you are sure that the matter is not in the power supply or in the signal line), then you need to close two contacts before connecting (highlighted in red), after turning on the computer, open it.  Usually, they always look like this. <br><br>  3. In the OS, you must install additional programs: <br>  <i>lsscsi-0.23-2.fc14.i686</i> <br>  <i>mailx-12.5-1.fc14.i686</i> (if you have RFRemix 14.1 LiveDVD, you do not need it) <br>  <i>sg3_utils-1.29-1.fc14.i686</i> <br>  <i>smartmontools-5.40-5.fc14.i686</i> <br><br>  4. We are looking for our configuration in the license: <br><br><img src="https://habrastorage.org/files/717/561/e18/717561e18247452eb6133ea1c4cb6bcb.jpg"><br><br>  We are lucky it is, if it is not, then this is a big problem.  The fact is that such licenses are given only to disk manufacturers, and they are not publicly available.  You cannot just change the file, because  it contains a cheksumma that needs to be decrypted.  In my case, it was, but I was helped by a man from the board. <br><br>  5. Run the program <b>SF_OEM_PackageManager</b> : <br><br><img src="https://habrastorage.org/files/e13/334/902/e13334902afe463fbaeb3af6e9ec6e8e.jpg"><br><br>  <i>Distribution Firmware Package File</i> - firmware package, select it. <br>  <i>License File</i> - the path to the license. <br>  <i>Destination Folder</i> - where the firmware will be unpacked. <br>  <i>Customer ID and Diagnostic Unlock Key</i> - fill in the image below. <br>  <i>Firmware Revision Override String</i> - firmware version, in our case 5.8.2. <br><br><img src="https://habrastorage.org/files/5b9/3af/7fe/5b93af7fe0804c05a8fb0e5a255778cd.jpg"><br><br>  Click the <b>Create OEM Package</b> and wait for the completion of the unpacking. <br><br>  6. Run the program <b>SF_ConfigurationManager</b> (you can skip this step).  The configurator requires you to specify the file to edit, it is located where we unpacked the firmware, in the Configuration_Files folder and with the name of our configuration: <br><br><img src="https://habrastorage.org/files/78b/c59/f81/78bc59f816594290b1d9124b82722e44.jpg"><br><br>  Open the file: <br><br><img src="https://habrastorage.org/files/92f/713/0f1/92f7130f177740a89a1e0fcd6fbd639c.jpg"><br><br>  Here I am changing the <b>Model No.</b>  - the name displayed by the OS, the serial number - any, <b>Device Nominal Form Factor</b> - the form factor, the rest is at your discretion.  Click save and exit the program. <br><br>  7. Start the console, enter <b>su</b> , enter <b>lsscsi</b> , which will show at what address our disk hangs: <br><br><img src="https://habrastorage.org/files/412/d20/e56/412d20e56b034693a69ae2d35c25da58.jpg"><br><br>  I don‚Äôt have it in the virtual machine, but you should have a disk named sandforce {200026BB}, remember its address, let it be 2: 0: 0: 0.  Next, transfer the <b>SF_Genesis</b> file to the console and write the arguments to it: <br><br>  <i>SF_Genesis ‚ÄìPROCESS_SSD [disk address] [path to the * .mfp file that is in the folder with the unpacked firmware] [path to the file that we edited in SF_ConfigurationManager] 12345 www_123 log = [path to the log file]</i> <br><br><img src="https://habrastorage.org/files/4b7/b7c/2cc/4b7b7c2cce8a4d6f9bd0b58eaf46bb1d.jpg"><br><br>  We press Enter and wait for the cherished inscription <i>PASS</i> , if <i>FAIL is</i> received, then it is necessary to disassemble the log and look for at what point the error occurred, in most cases errors are due to carelessness. <br><br>  Basically, the whole movement on this topic takes place in the Chinese forums, but I still advise you to familiarize yourself with the <a href="http://forum.ru-board.com/topic.cgi%3Fforum%3D84%26topic%3D4797%26start%3D0">topic</a> on the headboard, if you have any questions, you can write to me.  Thanks for attention. <br><br>  PS: I apologize for my stupid language and in advance for spelling. </div><p>Source: <a href="https://habr.com/ru/post/368643/">https://habr.com/ru/post/368643/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../368631/index.html">Motorola received a notification for Moto G (3rd Gen, XT1541)</a></li>
<li><a href="../368633/index.html">MediaTek Labs invites you to a free webinar on developing smart home gadgets</a></li>
<li><a href="../368635/index.html">Hormone Therapy: Personal Impressions</a></li>
<li><a href="../368637/index.html">Ortokeratology: annual experience using night lenses</a></li>
<li><a href="../368641/index.html">On Earth, discovered radioactive debris of supernovae</a></li>
<li><a href="../368645/index.html">When to wait for the uprising machines</a></li>
<li><a href="../368649/index.html">Quadcopters in Russia and the USA</a></li>
<li><a href="../368651/index.html">You can run Google Play on a $ 50 Amazon tablet</a></li>
<li><a href="../368653/index.html">Fourth generation</a></li>
<li><a href="../368655/index.html">NASA has announced a competition for ways to experience spacesuits for a flight to Mars. Prizes - $ 15,000</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>