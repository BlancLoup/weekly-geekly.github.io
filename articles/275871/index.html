<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Applications in EDS. Part 3: Context-role model of the document, the rights and the optimal interface for working with documents</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="An important difference between EDMS applications and other applications familiar to the user (for example, ERP systems) is that an EDS document is an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Applications in EDS. Part 3: Context-role model of the document, the rights and the optimal interface for working with documents</h1><div class="post__text post__text-html js-mediator-article">  An important difference between EDMS applications and other applications familiar to the user (for example, ERP systems) is that an EDS document is an object with a very complex and long life cycle.  For example, a document of the type Contract - is being developed, agreed, approved, transferred to contractors, it is actively working, applications are accumulated, additional artifacts are created, it is archived, written off, etc. Naturally, the logic of its processing and access rights to the document data stage of its processing.  But this is not the most difficult. <a name="habracut"></a><br><br>  The fact is that the rules for processing a document at a particular stage in the life cycle of a particular user depend on various parameters: for example, the position of the user in the staff list, the availability of certain data in the document itself (or associated with it), and even information stored in external to the ERMS systems. <br><br>  Here is <b>an example of</b> such a complex rule that determines the right to make a change in the contents of the contract: <br><blockquote>  ‚ÄúThe contract is available for editing to the head of the department and his deputies, as well as to all employees who are listed in the list of coordinating persons in the contract card, in the event that the task for approval of the document is in the‚Äú in progress ‚Äùstate,‚Äú the document is not approved ‚Äù, and accounting system there is no record of registration of the relevant contract. </blockquote>  For operations with the document can be described a large number of similar rules.  This leads to the fact that when creating an application, you have to program the processing logic of the document, taking into account all these factors - the processing stage, the state of the document, the role of the user, the attributes of the document and its associated external factors, etc., which determine the rules for processing the document, the availability of those or other interface elements, the ability to read and modify data. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Everything would be fine, but when creating an application in the SED, as a rule, it is not possible to describe the task in general, and with each specific implementation it is necessary to take into account the rules of work and regulations of a specific business process in a particular organization.  All this leads to the need to use coding and low-level development in almost every project for the introduction of the SED.  And any software improvements are not only a rise in the cost of the project, but also an increase in risks and potential problems in implementing the transition to new versions of the EDMS platform. <br><br>  To eliminate these problems when implementing EDS applications, Docsvision implements a unique <b>context-role model</b> that allows parametrically adjusting the interface, processing logic and document security for a specific use case without using programming.  For this, the <b>Docsvision role designer is</b> used. <br><br>  It must be said that the traditional notion of ‚Äú <b>role</b> ‚Äù - for example, the role in the operating system and the role in the context-role model - is different.  If a traditional role (for example, the system administrator) is essentially a static group whose members are given certain specific powers in the system (the ability to perform administrative functions), then in Docsvision the role is determined dynamically, in particular with respect to a specific document instance, and not only, access rights to the object, the interface for processing the object and the available business functions for its processing are determined. <br><br>  Thus, the mechanism of the context-role model Docsvision allows to solve one of the most important problems of modern EDS - optimization and simplification of the user interface when performing certain actions. <br><br>  <b>Setting up a role model includes three steps:</b> <br>  ‚Ä¢ Setting up roles (or processing contexts) for a specific type and type of document, <br>  ‚Ä¢ Definition of document and data processing operations available for a given role, <br>  ‚Ä¢ Linking one or another interface view configured in the card designer with a specific role and state of the document. <br>  (About the designer of cards and states of Docsvision, see here <a href="http://habrahabr.ru/company/docsvision/blog/263263/">habrahabr.ru/company/docsvision/blog/263263</a> ). <br><br>  Configuring roles for the document view is done in the "Role Designer" interface. <br><img src="https://habrastorage.org/files/291/f3f/fa5/291f3ffa57404038b9f7dbac2f3eebcd.png"><br>  Figure 1. The role designer allows parametrically describing the contexts of using various application objects based on the Docsvision platform. <br><br><h1>  Setting roles (or processing contexts) for a specific type and type of document </h1><br>  The role designer allows you to describe a variety of roles (usage contexts) for a particular type of document. <br>  Each role is a set of conditions combined in a combination of and / or. <br>  Each condition is a logical expression (parameter ‚Äì operation ‚Äì value) that is checked for truth when accessing a specific instance of a document. <br><br>  It checks the relevance of all roles for the current context (the user is an instance of the document) configured for this type of document.  If all (AND) or one (OR) expression is true, this role is updated in the current context.  Further, depending on the settings of the card designer, it is determined which interface to show the user in the current context, as well as what data and document operations are available to the user in the current context. <br><br>  The table contains a list of parameters that define the current context of use. <br><table><tbody><tr><td>  <b>Parameter</b> </td><td>  <b>Description</b> </td></tr><tr><td>  Everything </td><td>  The condition is set relative to all users. </td></tr><tr><td>  I </td><td>  The condition is set relative to the current user. </td></tr><tr><td>  Head </td><td>  The condition is set relative to the current user‚Äôs manager. </td></tr><tr><td>  Subordinates </td><td>  The condition is set relative to the subordinate first level of the current user. </td></tr><tr><td>  All subordinates </td><td>  The condition is set relative to all subordinates of the current user. </td></tr><tr><td>  All subordinates temporarily replaced </td><td>  The condition is set relative to the Deputy Temporary Head of the current user. </td></tr><tr><td>  All subordinates are constantly replaced </td><td>  The condition is set relative to the constantly replaced manager of the current user. </td></tr><tr><td>  Deputy </td><td>  The condition is set relative to the current user's substitute. </td></tr><tr><td>  Substitutable </td><td>  The condition is set relative to the person whose deputy is the current user. </td></tr><tr><td>  I am the first active alternate </td><td>  The condition is set relative to the first active substitute of the current user. <br>  The first deputy is the employee who is first listed in the list of deputies in the Employee Directory. <br>  This employee must have ‚ÄúActive‚Äù status. </td></tr><tr><td>  I am the first active permanent deputy </td><td>  The condition is set relative to the first active substitute of the current user. <br>  This deputy is considered permanent based on the setting of the Permanent Deputy in the Employee Handbook. <br>  This employee must have ‚ÄúActive‚Äù status. </td></tr><tr><td>  I am the first active temporary deputy. </td><td>  The condition is set relative to the first active substitute of the current user. <br>  This deputy is considered temporary due to the fact that the Permanent Deputy parameter in the Staff Directory is not set for it. <br>  This employee must have ‚ÄúActive‚Äù status. </td></tr><tr><td>  I am the first active alternate performance </td><td>  The condition is set relative to the first active substitute of the current user. <br>  This status is configured in the Employee Directory. </td></tr><tr><td>  I - the first active deputy responsible performance </td><td>  The condition is set relative to the first active assistant of the current user, and the ‚ÄúResponsible Execution‚Äù setting is set for the Deputy. <br>  This status is configured in the Employee Directory. </td></tr><tr><td>  I am the first active deputy signature </td><td>  The condition is set relative to the first active substitute of the current user by the signature. <br>  This status is configured in the Employee Directory. </td></tr><tr><td>  I am a temporary deputy in the period of inactivity of the replaced </td><td>  The condition is set relative to the first active temporary substitute, but only in the case when the replaced employee is in a state other than ‚ÄúActive‚Äù. <br>  This deputy is considered temporary due to the fact that the Permanent Deputy parameter in the Staff Directory is not set for it. <br>  This employee must have ‚ÄúActive‚Äù status. </td></tr><tr><td>  I am a permanent deputy </td><td>  The condition is set relative to a permanent substituent, regardless of the activity of the substituent and the substitutable itself. <br>  This deputy is considered permanent based on the setting of the Permanent Deputy in the Employee Directory </td></tr><tr><td>  I am a deputy signature </td><td>  The condition is set relative to the current user's substitute by the right to sign the document. </td></tr><tr><td>  Today </td><td>  The condition is set relative to the current date (excluding the business calendar) </td></tr><tr><td>  Now </td><td>  The condition is set relative to the current point in time (excluding the business calendar) </td></tr><tr><td>  Field </td><td>  The condition is set relative to some card field </td></tr></tbody></table><br>  In fact, <b>today there are 3 types of parameters in the system</b> : <br><br>  ‚Ä¢ Parameters that define the context of the current user.  The simplest example is me = the value of the field of the document, the current user is specified in some field of the document.  There are more complex conditions, for example, the current user is a temporary substitute user specified in the field of the card.  You can also select not the field of the current document as a value, but the field of the document (or other object) associated with the current one.  For example, you can check the condition: I am a temporary deputy of the user specified in the field executor of the task assigned to this document. <br><br>  ‚Ä¢ Parameters related to time.  Conditions can be associated with the current date and with the current time, for example, to check whether the work time is now and to deny access to a document outside working hours, or to limit the availability of a document for a calendar year. <br><br>  ‚Ä¢ Parameters related to the current document data.  When you open a document, you can check whether the field value of the document or its associated object matches certain conditions.  For example, depending on the amount of the contract, you can give the right to edit it only to users of a particular group. <br><br>  As with the creation of any visual designer, we are faced with the fact that it is impossible to foresee all situations from real life.  Therefore, it was given the opportunity to create an arbitrary condition by connecting a low-level code as a condition.  We recommend using this mechanism only to experienced developers, since the execution of role model calculations can have a significant effect on the speed of the solution.  This especially concerns the calculation of access rights to documents when displaying tabular views with a large number of documents, for example, the journal of incoming documents for the current year. <br><br><h1>  Definition of document and data processing operations available for this role. </h1><br>  The second step in setting up the context-role model is to determine the availability of certain data or operations for customized roles. <br><img src="https://habrastorage.org/files/b5e/5b3/427/b5e5b34270ad4c27b36a4c8262214ec6.png"><br>  Figure 2. The role designer allows you to grant permissions to perform certain operations and edit data for various roles. <br><br>  In this case, one role may have different rights to perform operations with the document in its various states.  So, for example, in the example in fig.  2. the operation ‚ÄúReturn to preparation‚Äù for the incoming document is available to the registrar in the ‚ÄúRegistered‚Äù state and is not available in the ‚ÄúPreparation‚Äù and ‚ÄúIn archive‚Äù states. <br>  Role model security settings are based on the Docsvision application server.  If an operation or data is closed in the context-role model settings, then they are inaccessible not only from the application interface, but also at a low level, when accessed via the API. <br><br><h1>  Associating an interface view configured in the card designer with a specific role and document status </h1><br>  The final step of the settings is to associate a specific interface of the document configured in the card designer with the role for a particular state of processing the document.  This is done in the card design tree. <br><img src="https://habrastorage.org/files/326/46b/6de/32646b6dec4b4858b4ac0dc2cb4154a1.png"><br>  Figure 3. Card Designer allows you to associate a particular document interface with state and role using the ‚Äúdesign tree‚Äù. <br><br>  The described mechanism of the role model allowed us to solve the problem of simple customization of applications developed on the basis of Docsvision to the conditions of a particular organization <u>without significant software improvements</u> . <br><br>  In the next episode of this series of articles, I will write about the development of directories in the SED, and then about the development of business processes, the navigation and search subsystem, the subsystem of views and reports. </div><p>Source: <a href="https://habr.com/ru/post/275871/">https://habr.com/ru/post/275871/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275861/index.html">"Hello World!" In C array int main []</a></li>
<li><a href="../275863/index.html">Clock on FPGA Lattice</a></li>
<li><a href="../275865/index.html">Classes, sets, groups, systems</a></li>
<li><a href="../275867/index.html">Which countries and programming languages ‚Äã‚Äãare more likely to win the game for CodeBattle programmers?</a></li>
<li><a href="../275869/index.html">Congratulations to students on their professional holiday</a></li>
<li><a href="../275873/index.html">AUTO_CLOSE</a></li>
<li><a href="../275877/index.html">Games and porn in virtual reality: what you need to know on the eve of the launch of Oculus Rift, PlayStation VR, HTC Vive</a></li>
<li><a href="../275881/index.html">OpenJDK 9 is finally ported to iOS</a></li>
<li><a href="../275883/index.html">Alexey Ragozin and Artyom Panasyuk on distributed load testing on jug.msk.ru</a></li>
<li><a href="../275885/index.html">Video of the best reports of the JPoint 2015 Java Conference - Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>