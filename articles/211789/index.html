<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visualization of floor plans or geographic information systems (GIS) in real estate</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Earlier on Habr√© we published an article ‚ÄúFrom the smart home to smart corporations‚Äù , in which the Module for visualization of floor plans (MUPP) was...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visualization of floor plans or geographic information systems (GIS) in real estate</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/db5/f30/d3a/db5f30d3a471e940ba1a9518b3c2211a.jpg" alt="image"><br><br>  Earlier on Habr√© we published an article <a href="http://habrahabr.ru/company/isystems/blog/206694/">‚ÄúFrom the smart home to smart corporations‚Äù</a> , in which the Module for visualization of floor plans (MUPP) was mentioned, which we implemented as part of the creation of the Automated Real Estate Management System.  With the help of the MVPP, <a href="http://demo.isystemsautomation.ru/SmartHouse/%3Fb%3DIB20000100000201000001%26f%3DIM20000100000201000004">opened on the tablet</a> , we could remotely monitor the readings of various sensors installed on the Smart Home layout, get a video stream from surveillance cameras, as well as control the lighting and operation of the fountain.  Now, I would like to highlight in more detail the main features of this module and briefly describe the possibilities of connecting the geographic information system with the enterprise management system. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <abbr title="Module visualization floor plans">MUPP</abbr> is a basis that allows implementing rather extensive functionality on its base.  Any object with a set of its characteristics has a spatial reference inside the building.  Any number or ‚Äúquantity of something‚Äù can be tied to a building, floor or room, and subsequently, based on these data, build visual analytical reports. <br>  When implementing integration with other enterprise information systems, for example, with ERP, MUPP allows you to display the relevant information: <br><habracut><br><br><ul><li>  workplace in the room where Ivan Ivanov Ivanov is located (with his photo, information about his position, department and telephone); </li><li>  the room where the air conditioner with serial number SN777 is located; </li><li>  premises that violate the standards of placement of employees (by any criterion, whether it is the norm of space, ventilation, etc.); </li><li>  premises in which timely testing or replacement of fire extinguishing equipment was not carried out; </li><li>  a workplace in the room where it is necessary to replace a broken telephone set - especially important in Open Space; </li><li>  the profitability of an enterprise department in relation to the space it occupies - suppose that taking into account the operating costs incurred and so on, ‚Äúdepartment A‚Äù, loaded 100% and occupying 1/3 of the floor space, makes the company more profit than ‚Äúdepartment C‚Äù loaded at 50% and occupying 2/3 of the floor space. </li></ul><br>  By laying down certain algorithms in the MISP GIS, you can perform various modeling tasks, for example, automatic selection of free areas / jobs or placement of employees in accordance with the ‚Äúcompatibility matrix‚Äù.  An example of a simulated task: the staff of ‚Äúdepartment A‚Äù should be placed closer to ‚Äúdepartment B‚Äù, but it is absolutely not recommended to be placed in the same room along with ‚Äúdepartment C‚Äù. <br>  The floor plan visualization can be the entry point for submitting an application to ServiceDesk.  Thus, any user, having previously passed authorization in the system (thus, identifying himself and his location), simply writes ‚ÄúAir conditioner has broken - I am hot‚Äù in a special field and all the information needed to initiate an incident is transferred to ServiceDesk data, place of incident, text of the application. <br><br>  MUPP Automated Property Management System is designed for a wide range of tasks, including: <br><ul><li>  Visualization and editing of the floor plan geometry; </li><li>  Visualization and editing of workplaces; </li><li>  Display of attribute information (by buildings, floors, rooms, workplaces and technological places) stored in SAP; </li><li>  Editing attribute information and saving it in SAP; </li><li>  Construction of various analytical reports; </li><li>  Planning redevelopment of premises and staff placement. </li></ul><br><br>  The MVPP is implemented using Java / JavaScript technologies and published on the Apache Tomcat web server, the server side of the visualization module uses ESRI's ArcGIS for Server, and the Oracle database with an extension for working with spatial data is used as a DBMS.  In addition, several plug-in modules (Add-In) were developed for ArcGIS for Desktop, which are responsible for authorizing the user in accordance with the role model, and performing editing of floor-plan geometry. <br><br>  At the initial stage, the spatial database contained the following set of layers: <br><ul><li>  Bearing walls; </li><li>  Carrier pillars; </li><li>  Not bearing walls; </li><li>  Partitions; </li><li>  Doors; </li><li>  Stairs; </li><li>  Window; </li><li>  Elevators; </li><li>  Furniture; </li><li>  Engineering systems; </li><li>  Workplaces; </li><li>  Bathrooms; </li><li>  Office space; </li><li>  Other rooms. </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/08a/76c/565/08a76c5651f902290ef2b27481ca206b.jpg" alt="List of layers in spatial database"><br><br>  However, due to the emergence of new tasks that will be solved with the use of MEPP, the data structure will also expand. <br>  The MUPP has implemented a library of typical workplaces, consisting of ~ 20 different configurations (of course in the same series with the floor plan).  Adding a workplace to the floor plan is done by simply dragging it from the library to the right room.  At the same time, on the basis of spatial analysis, the MEPP determines which workspace is installed in which room, what account it is, and records all necessary attribute information for the workplace (building identifiers, floors, rooms, its number, etc.) in the spatial database. .  Later, if necessary, the workplace on the floor plan can be moved, rotated, its attributes changed or deleted. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b0/490/389/2b0490389bf468a4a95cb6b740bee526.jpg"><br><br>  In the property management module of the SAP system, the premises have, among others, the following attributes (indicators) - the actual number of working and technological places.  In the current implementation, when new workplaces are added to the premises or removed, the values ‚Äã‚Äãof the corresponding indicators in SAP change automatically ‚Äî that is,  There is no need to calculate the total number of workplaces of each type in the premises and then change the values ‚Äã‚Äãin the corresponding indicators in SAP manually. <br>  SAP has implemented several developments (functional modules), which are responsible for processing the request received from the MEPP, forming and transmitting the requested information to the MCPP.  To ensure the integration of MFPP with SAP, the functional modules are designed as web services (based on SAP ESA) and two-way exchange of information is carried out by XML - packages using the safe SAP SSO protocol.  To enable the launch of functional web services, users of MITP need to be authorized in the SAP system through a technical web service with an additional security loop and authorization check. <br><br>  The main tasks of the developed functional modules are the following: <br><br><ul><li>  authorization of the user and determination of his authority in the FPA according to the role model maintained in SAP; </li><li>  selection of attribute information in SAP with a list of real estate objects, and its transfer to the MEPP; </li><li>  selection of attribute information in SAP on the selected floor of the real estate object (including information on the employees placed at workplaces) and its transfer to the MEPP; </li><li>  Automatic changes to the SAP database on the results of editing facilities through the MFPP (including the creation / deletion of premises and workplaces). </li></ul><br>  Since I would like to focus on the implementation of two-way communication between GIS and SAP, I will dwell on the last point in more detail.  Below is a diagram of the process ‚ÄúModification of the floor plan based on the results of redevelopment‚Äù.  A special case of redevelopment is the union of two or more rooms into one (or the division of one room into several). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/85f/7bf/ae7/85f7bfae7cb481146c783de8fa758a06.jpg" alt="image"><br><br>  As a result of this process performed by means of the IMP, automatic alignment of information on the changed objects in SAP occurs.  However, it should be understood that when executing the ‚ÄúDelete‚Äù operation, nothing is deleted in SAP or GIS ‚Äî an object is locked in SAP (setting master data lock statuses, etc.) on a specific date, a similar restriction of ‚Äúdeleted‚Äù objects A specific date also occurs in the GIS spatial database.  This allows us to keep a history of changes and, if necessary, to display in the MEPP both the floor plan that is relevant for a certain date, and information about employees placed at workplaces at any time in the past.  The process of planning future redevelopments and staff placement, i.e.  Having taken the IMPP as a basis for any floor plan, you can plan its future planning.  Subsequently (either after the approval procedure, or according to the actual re-planning, or on another event), the planned planning can be transferred to the actual status.  At the same time, all the necessary changes in SAP (removal of premises, creation of new premises with filling in attribute information on them, etc.) will be automatically performed by means of implemented development based on information about changes in the floor plan made in MFRP.  In the particular case, in a similar way, an automatic relocation of employees in reconstructed premises occurs in SAP. <br><br>  MUPP includes two interfaces - an <a href="http://demo.isystemsautomation.ru/ismap">overview application</a> in which real estate objects are displayed on a map with their brief characteristic, and an <a href="http://demo.isystemsautomation.ru/isplan/%3Fb%3DIB99000000000100000003%26f%3DIM99000000000100001023">interface for working with floor plans</a> , in which various objects are displayed on a floor plan with their detailed characteristics.  I repeat that with each request, all attribute information is transferred from SAP, and not stored in the spatial database. <br><br>  In the overview application you can perform the following functions: <br><br><ul><li>  select the region of interest; </li><li>  find the property on the map by name or address; </li><li>  filter out real estate by type of ownership (rent, property, etc.); </li><li>  filter the real estate objects on the basis of "&lt;" or "&gt;" number of jobs and / or area of ‚Äã‚Äãthe object; </li><li>  display detailed information on the selected (s) property (s) of real estate (the number of vacant / occupied jobs, the area of ‚Äã‚Äãthe selected objects, etc.). </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/342/cac/dfc/342cacdfc71e3ddbfc1e20778efecbee.jpg" alt="image"><br><br>  In the property found, the user can select the floor of interest, with the result that a new window opens with a floor plan.  The following functions are available in this interface: <br><br><ul><li>  view the location of jobs in the room; </li><li>  viewing information about the employee occupying the workplace (name, position, department, date of placement, etc.); </li><li>  editing jobs (adding new RMs, deleting or moving free RMs); </li><li>  color differentiation of premises for various purposes (working, bathrooms, stairs, etc.); </li><li>  viewing information on a room or a group of selected rooms (number, area, design capacity, actual number of vacant and occupied places, etc.); </li><li>  editing attribute information for the premises (all changes are transferred and saved to SAP); </li><li>  color and symbolic identification of workplaces based on: </li><li>  belonging to an organizational-structural unit (three-level org. structure) </li><li>  employment (free - busy) </li><li>  type of use (working - technological) </li><li>  color differentiation of walls by type (capital, partitions, etc.); </li><li>  measurement of distances and areas; </li><li>  creation of planned versions of layouts and placement of jobs; </li><li>  print floor plan with the withdrawal of information about the number in accordance with the signs of occupation. </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/890/97c/ce6/89097cce65274a84f54fd252ff8d2897.jpg" alt="Interface for working with floor plans"><br><br>  In conclusion, I would like to say that such an unusual, at first glance, a cartographer, the use of a geographic information system, is in fact not something out of the ordinary.  GIS allows you to navigate in space - and what our buildings, floors and rooms are not spaces ?! <br>  GIS allows you to display objects on the map - we place various types of workplaces and other technological objects with many attributes in the premises, the premises themselves on the floors.  In varying degrees, on the floor plans we use elements of spatial analysis, search or geo-processing - everything is just like in a large GIS, except, as long as we do not have the function of calculating routes inside buildings ....  UNTIL. </habracut></div><p>Source: <a href="https://habr.com/ru/post/211789/">https://habr.com/ru/post/211789/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211775/index.html">Rating hubs and companies by posts / subscribers</a></li>
<li><a href="../211777/index.html">Personalization: debunking myths</a></li>
<li><a href="../211779/index.html">Open Terminal Client - some history</a></li>
<li><a href="../211783/index.html">Applications open for Summer Research Microsoft Research</a></li>
<li><a href="../211787/index.html">Workplace Popcorn: How to become Super-productive working for yourself</a></li>
<li><a href="../211793/index.html">Veeam Backup & Replication - Migrating Virtual Machines from Hyper-V 2008 R2 to 2012 R2</a></li>
<li><a href="../211797/index.html">Competition "Native Speech" - a week before the start!</a></li>
<li><a href="../211799/index.html">Ciklum Speakers' Corner "Tables - salt of the language of Lua", February 13</a></li>
<li><a href="../211801/index.html">C # / WPF + Pascal + Assembler: how I restored my first game</a></li>
<li><a href="../211805/index.html">10 of my favorite CodeRush features for .NET development in Visual Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>