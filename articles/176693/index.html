<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MiTM attack on ssh</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The new version of Intercepter-NG has the opportunity to conduct a full-fledged attack on the SSH-2 protocol. 

 The attacker receives the user author...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MiTM attack on ssh</h1><div class="post__text post__text-html js-mediator-article">  The new version of <b>Intercepter-NG</b> has the opportunity to conduct a full-fledged attack on the SSH-2 protocol. <br><br>  The attacker receives the user authorization data and logs the entire communication session, the launch of commands and the result of their execution. <br>  To do this, Intercepter redirects the victim's traffic to its own ssh server and in case of successful authorization <br>  proxies the connection to the original server. <br><a name="habracut"></a><br>  If the victim‚Äôs terminal program had a cached fingerprint of the key from the remote server, <br>  then at the time of authorization will be issued a warning about its change. <br>  This is the only suspicious moment that occurs during an attack. <br><br>  Fortunately, the attacker, not all (even experienced) people will react to this warning properly. <br>  Until today, the attack on SSH was rather theoretical, due to the lack of its practical implementation. <br>  And not always the attacked user is the administrator of the ssh server, for him the change of keys and warnings have no meaning. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The server built into Intercepter ssh supports 2 authentication mechanisms: <b>password</b> and <b>keyboard-interactive</b> . <br>  During the communication session, the user can run pseudographic applications (for example, mc), everything will work correctly.  Intercepter also monitors the WINDOW_CHANGE message and when the terminal window is resized, the entire schedule will be redrawn to the new size. <br><br>  The attack is designed only for a terminal session, SFTP is not supported.  If the victim still starts the SFTP session, the authorization will be intercepted, but then the connection will be terminated and the session will be marked in a special way.  When reconnecting, Intercepter will skip this session directly, allowing the victim to normally establish an SFTP session with the original server. <br><br>  It is worth remembering that when proxying an ssh connection, the attacker inevitably leaves his ip address in the server logs. <br>  In the expert settings mode, you can set the appropriate option, which will force the ssh server to terminate the connection immediately after intercepting the login and password.  After that, it is advisable to stop the attack and allow the victim to calmly connect to the correct server. <br><br>  To protect against attacks, you can use, while not supported, authentication mode with a public key.  And of course, be more attentive to the warnings about changing fingerprints. <br>  <b>UPDATE:</b> <b><br></b>  <b>Public key authentication is not subject to attack and ensures a secure connection to the server.</b> <br><br>  Video demonstration of attack <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/SvEFJu6TfJk%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253,15700259&amp;usg=ALkJrhgFVw_HRa4UwAZjqPwgg5qe_Hc5Og" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>The information is presented for informational purposes only.</b>  <b>The author is not responsible for any possible harm caused by the materials of this article.</b> </div><p>Source: <a href="https://habr.com/ru/post/176693/">https://habr.com/ru/post/176693/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../176677/index.html">Stealth Fiber Connection: Methods and Precautions</a></li>
<li><a href="../176685/index.html">Fusion-io ioDrive2 testing</a></li>
<li><a href="../176687/index.html">Submarine USS Jimmy Carter, its special tasks and submarine optical cables</a></li>
<li><a href="../176689/index.html">DVelum - PHP + ExtJS4 Development Platform Version 0.9 Release</a></li>
<li><a href="../176691/index.html">Generate random people in PaperJS</a></li>
<li><a href="../176701/index.html">Space scenes in web design</a></li>
<li><a href="../176703/index.html">Oracle fixes 42 Java vulnerabilities</a></li>
<li><a href="../176705/index.html">Samsung invites you to the presentation of the GALAXY S4 in Moscow!</a></li>
<li><a href="../176707/index.html">How to run a program without an operating system: part 3: Graphics</a></li>
<li><a href="../176711/index.html">How can companies lure IT professionals?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>