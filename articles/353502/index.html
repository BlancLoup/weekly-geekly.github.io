<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Associative rules, or beer with diapers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction to theory 
 Education on association rules (hereinafter Associations rules learning - ARL) is, on the one hand, simple, on the other - qu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Associative rules, or beer with diapers</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/sb/sq/cl/sbsqclzktfbd6z2u0-brexzja0k.jpeg"><br><br><h2>  Introduction to theory </h2><br>  Education on association rules (hereinafter Associations rules learning - ARL) is, on the one hand, simple, on the other - quite often applicable in real life method of finding relationships (associations) in datasets, or, more precisely, data sets (itemsests).  For the first time, Piatesky-Shapiro G <a href="https://habr.com/ru/company/ods/blog/353502/">[1]</a> spoke in detail about this in ‚ÄúDiscovery, Analysis, and Presentation of Strong Rules.‚Äù (1991) Agrawal R, Imielinski T, Swami A developed in more detail in ‚ÄúMining Association Rules between Sets of Items in Large Databases ‚Äù(1993) <a href="https://habr.com/ru/company/ods/blog/353502/">[2]</a> and‚Äú Fast Algorithms for Mining Association Rules. ‚Äù(1994) <a href="https://habr.com/ru/company/ods/blog/353502/">[3]</a> . <br><a name="habracut"></a><br>  In general, ARL can be described as ‚ÄúWho bought x, also bought y‚Äù.  It is based on the analysis of transactions, within each of which lies its own unique itemset from the set of items.  With the help of the ARL aloglithms, there are those ‚Äúrules‚Äù of the item matches within a single transaction, which are then sorted by their strength.  Everything, in general, is simple. <br><br>  Behind this simplicity, however, there can be hidden amazing things that common sense did not even suspect. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The classic case of such cognitive dissonance is described in the article DJ Power ‚ÄúAsk Dan!‚Äù, Published in DSSResources.com <a href="https://habr.com/ru/company/ods/blog/353502/">[4]</a> . <br><br>  In 1992, the Teradata retail consulting group led by Thomas Blyishok conducted a study of 1.2 million transactions in 25 stores for the Osco Drug retailer (no, they sold not drugs and not even drugs, or rather, not only drugs. Drug Store shops at home).  After analyzing all these transactions, the strongest rule was ‚ÄúBetween 17:00 and 19:00 most often beer and diapers buy together‚Äù.  Unfortunately, such a rule seemed so counterintuitive to the leadership of Osco Drug that they did not put diapers on the shelves next to the beer.  Although the explanation for the pair of beer-diapers was quite to be found: when both members of a young family were returning home from work (just at 5 o'clock in the evening), wives usually sent their husbands for diapers to the nearest store.  And husbands, without hesitation, combined business with pleasure - they bought diapers on the instructions of the wife and beer for their own evening pastime. <br><br><h2>  Association rule description </h2><br>  So, we found out that beer and diapers are a good gentleman's set, and then what? <br>  Suppose we have some dataset (or collection) <i>D,</i> such that <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mrow" id="MJXp-Span-4"><span class="MJXp-msubsup" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-7" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></span><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></span><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-13" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.506ex" height="2.66ex" viewBox="0 -780.1 5384.6 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-3D" x="1106" y="0"></use><g transform="translate(2162,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-30" x="736" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-2E" x="974" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-2E" x="1419" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-2E" x="1864" y="0"></use><g transform="translate(2309,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6A" x="736" y="-213"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-1"> D = {d_0 ... d_j} </script>  where <i>d</i> is the unique transaction-itemset (for example, cash voucher).  Each <i>d</i> is represented by a set of <i>items (i - item)</i> , and in the ideal case it is represented in binary form: <i>d1 = [{Beer: 1}, {Water: 0}, {Coke: 1}, {...}], d2 = [{Beer: 0}, {Water: 1}, {Cola: 1}, {...}]</i> .  It is accepted that each itemset is described in terms of the number of nonzero values ‚Äã‚Äã( <i>k-itemset</i> ), for example, <i>[{Beer: 1}, {Water: 0}, {Coke: 1}]</i> is a <i>2-itemset</i> . <br><br>  If the dataset is not represented in binary form, you can convert it with your hands if you wish ( <a href="http://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OneHotEncoder.html">One Hot Encoding</a> and <a href="http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.get_dummies.html">pd.get_dummies can</a> help you). <br><br>  Thus, dataset is a sparse matrix with values ‚Äã‚Äã{1,0}.  This will be a binary dataset.  There are other types of record - vertical dataset (shows for each individual item a transaction vector, where it is present) and transactional dataset (approximately as in a cash voucher). <br><br>  OK, the data is converted, how to find the rules? <br>  There are a number of key (if you wish - basic) concepts in the ARL, which will help us derive these rules. <br><br><h4>  Support </h4><br>  The first concept in ARL is support: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-14"><span class="noError" id="MJXp-Span-15" style="display: inline-block;">supp&nbsp;(X)&nbsp;=&nbsp;\&nbsp;frac&nbsp;{\&nbsp;{t&nbsp;\&nbsp;in&nbsp;T;&nbsp;\&nbsp;X&nbsp;\&nbsp;in&nbsp;t&nbsp;\}}&nbsp;{|&nbsp;T&nbsp;|}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><span class="noError" style="display: inline-block;">supp&nbsp;(X)&nbsp;=&nbsp;\&nbsp;frac&nbsp;{\&nbsp;{t&nbsp;\&nbsp;in&nbsp;T;&nbsp;\&nbsp;X&nbsp;\&nbsp;in&nbsp;t&nbsp;\}}&nbsp;{|&nbsp;T&nbsp;|}</span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> supp (X) = \ frac {\ {t \ in T; \ X \ in t \}} {| T |} </script></p><br><br>  where X is an itemset containing i-items, and T is the number of transactions.  Those.  in general, it is an indicator of the ‚Äúfrequency‚Äù of a given itemset in all analyzed transactions.  But this concerns only X. We are more interested in the option when we have x1 and x2 in one itemset (for example).  Well, here too, everything is simple.  Let <i>x1 = {Beer}, and x2 = {Diapers}</i> , then we need to count how many transactions this pair occurs. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-16"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">p</span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-22"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-24" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-25">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">p</span><span class="MJXp-msubsup" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-31" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-34">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">c</span><span class="MJXp-mrow" id="MJXp-Span-39"><span class="MJXp-mtext" id="MJXp-Span-40">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">a</span><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-49" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-50">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">p</span><span class="MJXp-msubsup" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-56" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-58"><span class="MJXp-mrow" id="MJXp-Span-59"><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">T</span><span class="MJXp-mrow" id="MJXp-Span-62"><span class="MJXp-mo" id="MJXp-Span-63" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="44.119ex" height="2.66ex" viewBox="0 -832 18995.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-75" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="1042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-28" x="2049" y="0"></use><g transform="translate(2438,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-31" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-63" x="3714" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-75" x="4148" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="4720" y="0"></use><g transform="translate(5224,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-32" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-29" x="6250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-3D" x="6918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-66" x="8224" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="8774" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="9226" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-63" x="9755" y="0"></use><g transform="translate(10189,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-69" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-67" x="1065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6D" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="2424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-28" x="2953" y="0"></use><g transform="translate(3343,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-31" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-63" x="4619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-75" x="5052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="5625" y="0"></use><g transform="translate(6128,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-32" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-29" x="7155" y="0"></use></g><g transform="translate(17734,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-54" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-7C" x="983" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> supp (x_1 \ cup x_2) = \ frac {\ sigma (x_1 \ cup x_2)} {| T |} </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-64"><span class="MJXp-mtext" id="MJXp-Span-65">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.86ex" height="2.298ex" viewBox="0 -728.2 2953.5 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-69" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-67" x="1065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6D" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="2424" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ sigma </script>  - number of transactions containing <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-71"><span class="MJXp-msubsup" id="MJXp-Span-72"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-74" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.384ex" height="1.696ex" viewBox="0 -520.7 1026.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-31" x="809" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> x_1 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-75"><span class="MJXp-msubsup" id="MJXp-Span-76"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-78" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.384ex" height="1.696ex" viewBox="0 -520.7 1026.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-32" x="809" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> x_2 </script><br>  Let's deal with this concept on a toy dataset. <br><br>  play_set # microdataset, where transaction numbers are shown, and also presented in binary form what was bought on each transaction <br><br><img src="https://habrastorage.org/webt/u1/m8/hp/u1m8hpkx5vziilevx8hvxsqgb10.png"><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-79"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">p</span><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-85">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">c</span><span class="MJXp-mrow" id="MJXp-Span-90"><span class="MJXp-mtext" id="MJXp-Span-91">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">t</span><span class="MJXp-mrow" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">s</span></span></span><span class="MJXp-mrow" id="MJXp-Span-127"><span class="MJXp-mtext" id="MJXp-Span-128">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">t</span><span class="MJXp-mrow" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">s</span></span></span><span class="MJXp-mo" id="MJXp-Span-149" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">P</span><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-152">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">t</span><span class="MJXp-mrow" id="MJXp-Span-157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">r</span></span><span class="MJXp-mtext" id="MJXp-Span-162">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">p</span><span class="MJXp-mtext" id="MJXp-Span-166">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">t</span><span class="MJXp-mrow" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">s</span></span><span class="MJXp-mo" id="MJXp-Span-179" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="106.117ex" height="2.66ex" viewBox="0 -832 45689.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-75" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="1042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-3D" x="2326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-66" x="3633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="4183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="4635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-63" x="5164" y="0"></use><g transform="translate(5598,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="1650" y="0"></use><g transform="translate(2012,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="1156" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6E" x="1685" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="2286" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="2755" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-63" x="3285" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="3718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-69" x="4080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6F" x="4425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6E" x="4911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="5511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-77" x="5981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-69" x="6697" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="7043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-68" x="7404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-62" x="7981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="8410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="8877" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="9343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="9795" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6E" x="10324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-64" x="10925" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-64" x="11448" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-69" x="11972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="12317" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="12847" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="13350" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="13817" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="14268" y="0"></use></g></g><g transform="translate(22348,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="1650" y="0"></use><g transform="translate(2012,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6C" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6C" x="1049" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="1347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="1709" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="2160" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6E" x="2690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="3290" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="3760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-63" x="4289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="4723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-69" x="5084" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6F" x="5430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-6E" x="5915" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="6516" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-3D" x="31623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-50" x="32679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-28" x="33431" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="34070" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="34432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="34898" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="35471" y="0"></use><g transform="translate(35832,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="1226" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="1692" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-63" x="38226" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="38660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="39189" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="39943" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="40304" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-78" x="40771" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-74" x="41343" y="0"></use><g transform="translate(41705,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-69" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-61" x="1174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-70" x="1703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-65" x="2207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-72" x="2673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMATHI-73" x="3125" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/353502/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiC3U-0-qzO06P9Jp42tkzfnYkGrA#MJMAIN-29" x="45299" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> supp = \ frac {\ text {Transactions with beer and diapers}} {\ text {All transactions}} = P (\ text {Beer} \ cap \ text {Diapers}) </script></p><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-180"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">p</span><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-186">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">c</span><span class="MJXp-mrow" id="MJXp-Span-191"><span class="MJXp-mn" id="MJXp-Span-192">3</span></span><span class="MJXp-mrow" id="MJXp-Span-193"><span class="MJXp-mn" id="MJXp-Span-194">5</span></span><span class="MJXp-mo" id="MJXp-Span-195" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-196">60</span><span class="MJXp-mi" id="MJXp-Span-197">%</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> supp = \ frac {3} {5} = 60 \% </script></p><br><br><h4>  Confidence </h4><br>  The next key concept is confidence.  This is an indicator of how often our rule works for the whole dataset. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-198"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">f</span><span class="MJXp-mo" id="MJXp-Span-203" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-204"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-206" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-207">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">p</span><span class="MJXp-msubsup" id="MJXp-Span-211"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-213" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-214" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-216">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">c</span><span class="MJXp-mrow" id="MJXp-Span-221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">p</span><span class="MJXp-mo" id="MJXp-Span-226" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-227"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-229" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-230">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">p</span><span class="MJXp-msubsup" id="MJXp-Span-234"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-236" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-237" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-238"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">p</span><span class="MJXp-mo" id="MJXp-Span-243" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-244"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-246" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-247" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-9"> conf (x_1 \ cup x_2) = \ frac {supp (x_1 \ cup x_2)} {supp (x_1)} </script></p><br><br>  Let's give an example: we want to count confidence for the rule ‚Äúwho buys beer, buys diapers‚Äù. <br><br>  To do this, we first calculate what kind of support the ‚Äúbuy beer‚Äù rule has, then calculate the support of the rule ‚Äúbuy beer and diapers‚Äù, and simply divide one into the other.  Those.  we count in how many cases (transactions) the rule ‚Äúbought beer‚Äù supp (X) works, ‚Äúbought diapers and beer‚Äù <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-248"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">p</span><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">X</span><span class="MJXp-mtext" id="MJXp-Span-255">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">Y</span><span class="MJXp-mo" id="MJXp-Span-260" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> supp (X \ cup Y) </script></p><br>  Nothing like?  Bayes looks at all this somewhat puzzled and with contempt. <br><br><img src="https://habrastorage.org/webt/ze/so/r8/zesor8nn8bp1dj4xyfwwcicqlmg.png"><br><br>  Look at our microdataset. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-261"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">f</span><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-267">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">t</span><span class="MJXp-mrow" id="MJXp-Span-272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">r</span></span><span class="MJXp-mtext" id="MJXp-Span-277">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">p</span><span class="MJXp-mtext" id="MJXp-Span-281">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">t</span><span class="MJXp-mrow" id="MJXp-Span-286"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">s</span></span><span class="MJXp-mo" id="MJXp-Span-294" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-295" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-296">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">c</span><span class="MJXp-mrow" id="MJXp-Span-301"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">p</span><span class="MJXp-mo" id="MJXp-Span-306" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-307">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">t</span><span class="MJXp-mrow" id="MJXp-Span-312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">r</span></span><span class="MJXp-mtext" id="MJXp-Span-317">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">p</span><span class="MJXp-mtext" id="MJXp-Span-321">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">t</span><span class="MJXp-mrow" id="MJXp-Span-326"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">s</span></span><span class="MJXp-mo" id="MJXp-Span-334" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">p</span><span class="MJXp-mo" id="MJXp-Span-340" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-341">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">t</span><span class="MJXp-mrow" id="MJXp-Span-346"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">r</span></span><span class="MJXp-mo" id="MJXp-Span-351" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-352" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">P</span><span class="MJXp-mo" id="MJXp-Span-354" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-355">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">t</span><span class="MJXp-mrow" id="MJXp-Span-360"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">s</span></span><span class="MJXp-mtext" id="MJXp-Span-368">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">d</span><span class="MJXp-mtext" id="MJXp-Span-372">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">t</span><span class="MJXp-mrow" id="MJXp-Span-377"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">r</span></span><span class="MJXp-mo" id="MJXp-Span-382" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> conf (\ text {Beer} \ cup \ text {Diapers}) = \ frac {supp (\ text {Beer} \ cup \ text {Diapers})} {supp (\ text {Beer})} = P (\ text {Diapers} \ mid \ text {Beer}) </script></p><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">f</span><span class="MJXp-mo" id="MJXp-Span-388" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-389">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">c</span><span class="MJXp-mrow" id="MJXp-Span-394"><span class="MJXp-mn" id="MJXp-Span-395">3</span></span><span class="MJXp-mrow" id="MJXp-Span-396"><span class="MJXp-mn" id="MJXp-Span-397">4</span></span><span class="MJXp-mo" id="MJXp-Span-398" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-399">75</span><span class="MJXp-mi" id="MJXp-Span-400">%</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> conf = \ frac {3} {4} = 75 \% </script></p><br><br><h4>  Lift (support) </h4><br>  The next concept on our list is lift.  Roughly speaking, lift is the relation of ‚Äúdependency‚Äù items to their ‚Äúindependence‚Äù.  Lift shows how items are dependent on each other.  This is evident from the formula: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-401"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">t</span><span class="MJXp-mo" id="MJXp-Span-406" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-409" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-410">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-411">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">p</span><span class="MJXp-msubsup" id="MJXp-Span-414"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-416" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-417" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-418" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-419">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">c</span><span class="MJXp-mrow" id="MJXp-Span-424"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">p</span><span class="MJXp-mo" id="MJXp-Span-429" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-430"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-432" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-433">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">p</span><span class="MJXp-msubsup" id="MJXp-Span-437"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-439" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-440" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-441"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">p</span><span class="MJXp-mo" id="MJXp-Span-446" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-447"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-449" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-450" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-451">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">p</span><span class="MJXp-mo" id="MJXp-Span-461" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-462"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-464" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-465" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> lift (x_1 \ cup x_2) = \ frac {supp (x_1 \ cup x_2)} {supp (x_1) \ times supp (x_2)} </script></p><br><br>  For example, we want to understand the dependence of the purchase of beer and the purchase of diapers.  To do this, we consider the support rules ‚Äúbought beer and diapers‚Äù and divide it by the product of the rules ‚Äúbought beer‚Äù and ‚Äúbought diapers‚Äù.  In case <i>lift = 1</i> , we say that items are independent and there are no joint purchase rules here.  If <i>lift&gt; 1</i> , then the value by which lift, in fact, is greater than this very unit, and shows us the "power" of the rule.  The larger the unit, the steeper.  If lift &lt;1, it will show that the base rule $ x_2 $ negatively affects the rule $ x_1 $.  In another way, lift can be defined as the relation of confidence to expected confidence, i.e.  the relationship of the credibility of the rule, when both (well, or whatever you want) elements are bought together to the reliability of the rule, when one of the elements was bought (whether with the second or not). <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-466"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">t</span><span class="MJXp-mo" id="MJXp-Span-471" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-472">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">c</span><span class="MJXp-mrow" id="MJXp-Span-477"><span class="MJXp-mtext" id="MJXp-Span-478">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">t</span><span class="MJXp-mrow" id="MJXp-Span-483"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-493">e</span></span></span><span class="MJXp-mrow" id="MJXp-Span-494"><span class="MJXp-mtext" id="MJXp-Span-495">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">t</span><span class="MJXp-mrow" id="MJXp-Span-500"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-501">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-512">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">e</span></span></span><span class="MJXp-mo" id="MJXp-Span-519" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-520">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524">c</span><span class="MJXp-mrow" id="MJXp-Span-525"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">P</span><span class="MJXp-mo" id="MJXp-Span-527" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-528">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">t</span><span class="MJXp-mrow" id="MJXp-Span-533"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">s</span></span><span class="MJXp-mtext" id="MJXp-Span-541">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">d</span><span class="MJXp-mtext" id="MJXp-Span-545">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">t</span><span class="MJXp-mrow" id="MJXp-Span-550"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">r</span></span><span class="MJXp-mo" id="MJXp-Span-555" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-556"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">P</span><span class="MJXp-mo" id="MJXp-Span-558" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-559">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">t</span><span class="MJXp-mrow" id="MJXp-Span-564"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">s</span></span><span class="MJXp-mo" id="MJXp-Span-572" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> lift = \ frac {\ text {Confidence}} {\ text {Expected confidence}} = \ frac {P (\ text {Diapers} \ mid \ text {Beer})} {P (\ text {Diapers})} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-573"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">t</span><span class="MJXp-mo" id="MJXp-Span-578" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-579">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">c</span><span class="MJXp-mrow" id="MJXp-Span-584"><span class="MJXp-mtext" id="MJXp-Span-585">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">c</span><span class="MJXp-mrow" id="MJXp-Span-590"><span class="MJXp-mn" id="MJXp-Span-591">3</span></span><span class="MJXp-mrow" id="MJXp-Span-592"><span class="MJXp-mn" id="MJXp-Span-593">4</span></span></span><span class="MJXp-mrow" id="MJXp-Span-594"><span class="MJXp-mtext" id="MJXp-Span-595">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">c</span><span class="MJXp-mrow" id="MJXp-Span-600"><span class="MJXp-mn" id="MJXp-Span-601">3</span></span><span class="MJXp-mrow" id="MJXp-Span-602"><span class="MJXp-mn" id="MJXp-Span-603">5</span></span></span><span class="MJXp-mo" id="MJXp-Span-604" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-605"><span class="MJXp-mo" id="MJXp-Span-606" style="margin-left: 0em; margin-right: 0em;">$</span></span><span class="MJXp-mn" id="MJXp-Span-607">1.2</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-15"> lift = \ frac {\ frac {3} {4}} {\ frac {3} {5}} = $ 1.2</script></p><br><br>  Those.  our rule is that beer is bought with diapers, 25% more powerful than the rule that diapers just buy <br><br><h4>  Conviction </h4><br>  In general, Conviction is the ‚Äúerror rate‚Äù of our rule.  That is, for example, how often they bought beer without diapers and vice versa. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-608"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">v</span><span class="MJXp-mo" id="MJXp-Span-613" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-614"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-616" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-617">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620">p</span><span class="MJXp-msubsup" id="MJXp-Span-621"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-623" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-624" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-625" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-626">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">c</span><span class="MJXp-mrow" id="MJXp-Span-631"><span class="MJXp-mn" id="MJXp-Span-632">1</span><span class="MJXp-mo" id="MJXp-Span-633" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">p</span><span class="MJXp-mo" id="MJXp-Span-638" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-639"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-641" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-642" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-643"><span class="MJXp-mn" id="MJXp-Span-644">1</span><span class="MJXp-mo" id="MJXp-Span-645" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649">f</span><span class="MJXp-mo" id="MJXp-Span-650" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-651"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-652" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-653" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-654">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">p</span><span class="MJXp-msubsup" id="MJXp-Span-658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-660" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-661" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> conv (x_1 \ cup x_2) = \ frac {1 - supp (x_2)} {1 - conf (x_1 \ cup x_2)} </script></p><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-662"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-665">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">v</span><span class="MJXp-mo" id="MJXp-Span-667" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-668">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-671">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">t</span><span class="MJXp-mrow" id="MJXp-Span-673"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">r</span></span><span class="MJXp-mtext" id="MJXp-Span-678">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">p</span><span class="MJXp-mtext" id="MJXp-Span-682">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686">t</span><span class="MJXp-mrow" id="MJXp-Span-687"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-689">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-691">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">s</span></span><span class="MJXp-mo" id="MJXp-Span-695" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-696" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-697">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-699">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701">c</span><span class="MJXp-mrow" id="MJXp-Span-702"><span class="MJXp-mn" id="MJXp-Span-703">1</span><span class="MJXp-mo" id="MJXp-Span-704" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">p</span><span class="MJXp-mo" id="MJXp-Span-709" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-710">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-711">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">t</span><span class="MJXp-mrow" id="MJXp-Span-715"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">s</span></span><span class="MJXp-mo" id="MJXp-Span-723" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-724"><span class="MJXp-mn" id="MJXp-Span-725">1</span><span class="MJXp-mo" id="MJXp-Span-726" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">f</span><span class="MJXp-mo" id="MJXp-Span-731" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-732">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">t</span><span class="MJXp-mrow" id="MJXp-Span-737"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-739">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-740">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">r</span></span><span class="MJXp-mtext" id="MJXp-Span-742">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">p</span><span class="MJXp-mtext" id="MJXp-Span-746">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">t</span><span class="MJXp-mrow" id="MJXp-Span-751"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-756">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-757">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758">s</span></span><span class="MJXp-mo" id="MJXp-Span-759" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-760" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-761">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-764">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-765">c</span><span class="MJXp-mrow" id="MJXp-Span-766"><span class="MJXp-mn" id="MJXp-Span-767">1</span><span class="MJXp-mo" id="MJXp-Span-768" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-769">0.6</span></span><span class="MJXp-mrow" id="MJXp-Span-770"><span class="MJXp-mn" id="MJXp-Span-771">1</span><span class="MJXp-mo" id="MJXp-Span-772" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-773">0.75</span></span><span class="MJXp-mo" id="MJXp-Span-774" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-775">1.6</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-17"> conv (\ text {Beer} \ cup \ text {Diapers}) = \ frac {1 - supp (\ text {Diapers})} {1 - conf (\ text {Beer} \ cup \ text {Diapers})} = \ frac {1 - 0.6} {1 - 0.75} = 1.6 </script></p><br><br>  The higher the formula 1, the better.  For example, if conviction purchases of beer and diapers together would be equal to 1.2, this means that the rule ‚Äúbought beer and diapers‚Äù would be 1.2 times (20%) more true than if the coincidence of these items in one transaction were pure random.  A slightly non-intuitive concept, but it is not used as often as the previous three. <br><br>  There are a number of commonly used <b>classical algorithms</b> that allow finding rules in itemsets according to the concepts listed above - the Naive or brute-force algorithm, the Apriori algorithm, the ECLAT algorithm, the FP-growth algorithm, and others. <br><br><h3>  Brutfors </h3><br>  Finding rules in itemsets is generally not difficult, difficult to do so effectively.  Bruteforce algorithm is the easiest and, at the same time, the most inefficient way. <br><br>  In pseudo-code, the algorithm looks like this: <br><br>  <b>INPUT</b> : Dataset D, containing a list of transactions <br>  <b>OUTPUT</b> : Sets itemsets <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-776"><span class="MJXp-msubsup" id="MJXp-Span-777"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-779" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-780" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-781"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-783" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-784" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-785"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-786" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-787" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-788" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-789" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-790" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-791" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-msubsup" id="MJXp-Span-792"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-794" style="vertical-align: -0.4em;">q</span></span><span class="MJXp-mo" id="MJXp-Span-795" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> F_1, F_2, F_3, ... F_q, </script>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-796"><span class="MJXp-msubsup" id="MJXp-Span-797"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-799" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> F_i </script>  - a set of itemsets of size I, which occur at least s times in D <br>  <b>APPROACH</b> : <br><br>  1. R - integer array containing all combinations of items in D, size <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-800"><span class="MJXp-msubsup" id="MJXp-Span-801"><span class="MJXp-mn" id="MJXp-Span-802" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-803" style="vertical-align: 0.5em;"><span class="MJXp-mrow" id="MJXp-Span-804"><span class="MJXp-mo" id="MJXp-Span-805">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-806">D</span><span class="MJXp-mrow" id="MJXp-Span-807"><span class="MJXp-mo" id="MJXp-Span-808">|</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> 2 ^ {| D |} </script><br>  2. for n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-809"><span class="MJXp-mtext" id="MJXp-Span-810">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-811">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ in </script>  [1, | D |] do: <br>  F - all possible combinations of <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-813"><span class="MJXp-msubsup" id="MJXp-Span-814"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-816" style="vertical-align: -0.4em;">n</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> D_n </script><br>  Increment each value in R according to the values ‚Äã‚Äãin each F [] <br>  3. return All itemsets in R <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-817"><span class="MJXp-mtext" id="MJXp-Span-818">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-821">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> \ geq </script>  s <br><br>  The complexity of the bruteforce algorithm is obvious: <br><br>  In order to find all possible Association rules using a brute force algorithm, we need to list all the subsets X from set I and for each subset X calculate supp (X).  This approach will consist of the following steps: <br><br><ul><li>  <i>generation of candidates</i> .  This step consists of enumerating all possible subsets of X subsets of I. These subsets are called <i>candidates</i> , since each subset can theoretically be a frequently encountered subset, then the set of potential candidates will consist of <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-822"><span class="MJXp-msubsup" id="MJXp-Span-823"><span class="MJXp-mn" id="MJXp-Span-824" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-825" style="vertical-align: 0.5em;"><span class="MJXp-mrow" id="MJXp-Span-826"><span class="MJXp-mo" id="MJXp-Span-827">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">D</span><span class="MJXp-mrow" id="MJXp-Span-829"><span class="MJXp-mo" id="MJXp-Span-830">|</span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-24"> 2 ^ {| D |} </script></p>  elements (here | D | denotes the number of elements of the set I, and <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-831"><span class="MJXp-msubsup" id="MJXp-Span-832"><span class="MJXp-mn" id="MJXp-Span-833" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-834" style="vertical-align: 0.5em;"><span class="MJXp-mrow" id="MJXp-Span-835"><span class="MJXp-mo" id="MJXp-Span-836">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">D</span><span class="MJXp-mrow" id="MJXp-Span-838"><span class="MJXp-mo" id="MJXp-Span-839">|</span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-25"> 2 ^ {| D |} </script></p>  often called the boolean of I, that is, the set of all subsets of I) </li><li>  <i>calculation support</i> .  In this step, the supp (X) of each candidate X is calculated. </li></ul><br>  Thus, the complexity of our algorithm will be: <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-840"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841">O</span><span class="MJXp-mo" id="MJXp-Span-842" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-843"><span class="MJXp-mo" id="MJXp-Span-844" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845">I</span><span class="MJXp-mrow" id="MJXp-Span-846"><span class="MJXp-mo" id="MJXp-Span-847" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-848" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mrow" id="MJXp-Span-849"><span class="MJXp-mo" id="MJXp-Span-850" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851">D</span><span class="MJXp-mrow" id="MJXp-Span-852"><span class="MJXp-mo" id="MJXp-Span-853" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-854" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-msubsup" id="MJXp-Span-855"><span class="MJXp-mn" id="MJXp-Span-856" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-857" style="vertical-align: 0.5em;"><span class="MJXp-mrow" id="MJXp-Span-858"><span class="MJXp-mo" id="MJXp-Span-859">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860">I</span><span class="MJXp-mrow" id="MJXp-Span-861"><span class="MJXp-mo" id="MJXp-Span-862">|</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-863" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-26"> O (| I | * | D | * 2 ^ {| I |}) </script></p>  where <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-864"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">O</span><span class="MJXp-mo" id="MJXp-Span-866" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-867"><span class="MJXp-mn" id="MJXp-Span-868" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-869" style="vertical-align: 0.5em;"><span class="MJXp-mrow" id="MJXp-Span-870"><span class="MJXp-mo" id="MJXp-Span-871">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872">I</span><span class="MJXp-mrow" id="MJXp-Span-873"><span class="MJXp-mo" id="MJXp-Span-874">|</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-875" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-27"> O (2 ^ {| I |}) </script></p>  - the number of possible candidates <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-876"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-877">O</span><span class="MJXp-mo" id="MJXp-Span-878" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-879"><span class="MJXp-mo" id="MJXp-Span-880" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-881">I</span><span class="MJXp-mrow" id="MJXp-Span-882"><span class="MJXp-mo" id="MJXp-Span-883" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-884" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mrow" id="MJXp-Span-885"><span class="MJXp-mo" id="MJXp-Span-886" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-887">D</span><span class="MJXp-mrow" id="MJXp-Span-888"><span class="MJXp-mo" id="MJXp-Span-889" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-890" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-28"> O (| I | * | D |) </script></p>  - the complexity of the calculation of supp (X), since in order to calculate supp (X) we need to iterate over all the elements in I in each transaction <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-891"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">t</span><span class="MJXp-mtext" id="MJXp-Span-893">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">T</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-29"> t \ in T </script></p><br><br>  In the O-large notation, we need O (N) operations, where N is the number of itemsets. <br>  Thus, to apply the bruteforce algorithm, we need <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-897"><span class="MJXp-msubsup" id="MJXp-Span-898"><span class="MJXp-mn" id="MJXp-Span-899" style="margin-right: 0.05em;">2</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-900" style="vertical-align: 0.5em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> 2 ^ i </script>  memory cells, where i is an individual itemset.  Those.  for storage and calculation of 34 items we need 128GB of RAM (for 64-bit integer cells). <br><br>  Thus, brute force will help us in the calculation of transactions in a tent with shawarma at the station, but for something more serious, it is completely unsuitable. <br><br><h3>  Apriori Algorithm </h3><br>  <b>Theory</b> <br><br>  Used concepts: <br><br><ul><li>  Many objects (itemset): <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-901"><span class="noError" id="MJXp-Span-902" style="display: inline-block;">X&nbsp;\&nbsp;subseteq&nbsp;I&nbsp;=&nbsp;\&nbsp;{x_1,&nbsp;x_2,&nbsp;...,&nbsp;x_n&nbsp;\}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-31"> X \ subseteq I = \ {x_1, x_2, ..., x_n \} </script></p></li><li>  Set of transaction identifiers (tidset): <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-903"><span class="noError" id="MJXp-Span-904" style="display: inline-block;">T&nbsp;=&nbsp;\&nbsp;{t_1,&nbsp;t_2,&nbsp;...,&nbsp;t_m&nbsp;\}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-32"> T = \ {t_1, t_2, ..., t_m \} </script></p></li><li>  Many transactions (transactions): <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-905"><span class="noError" id="MJXp-Span-906" style="display: inline-block;">\&nbsp;{(t,&nbsp;\&nbsp;X):&nbsp;\&nbsp;t&nbsp;\&nbsp;in&nbsp;T,&nbsp;\&nbsp;X&nbsp;\&nbsp;in&nbsp;I&nbsp;\}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> \ {(t, \ X): \ t \ in T, \ X \ in I \} </script></p></li></ul><br>  Let us introduce some more concepts. <br><br>  We will consider the prefix tree (prefix tree), where 2 elements X and Y are connected, if X is a direct subset of Y. Thus, we can enumerate all subsets of I. The figure is shown below: <br><img src="https://habrastorage.org/webt/9c/ii/nj/9ciinjunkr2lqxrw1o2rclqr09g.png"><br><br>  So, consider the algorithm Apriori. <br><br>  Apriori uses the following statement: if <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-907"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">X</span><span class="MJXp-mtext" id="MJXp-Span-909">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> X \ subseteq Y </script>  then <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-919"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-920">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923">p</span><span class="MJXp-mo" id="MJXp-Span-924" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925">X</span><span class="MJXp-mo" id="MJXp-Span-926" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-927">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934">p</span><span class="MJXp-mo" id="MJXp-Span-935" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-936">Y</span><span class="MJXp-mo" id="MJXp-Span-937" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> supp (X) \ geq supp (Y) </script>  . <br><br>  The following 2 properties follow from here: <br><br><ul><li>  if Y occurs often, then any subset <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-938"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-939">X</span><span class="MJXp-mo" id="MJXp-Span-940" style="margin-left: 0.111em; margin-right: 0.167em;">:</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-941">X</span><span class="MJXp-mtext" id="MJXp-Span-942">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-943">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-944">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-947">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-948">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-949">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-950">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-951">Y</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-36"> X: X \ subseteq Y </script></p>  also common </li><li>  if X is rare, then any superset <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-952"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-953">Y</span><span class="MJXp-mo" id="MJXp-Span-954" style="margin-left: 0.111em; margin-right: 0.167em;">:</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955">Y</span><span class="MJXp-mtext" id="MJXp-Span-956">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-957">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-959">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-960">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-963">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965">X</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-37"> Y: Y \ supseteq X </script></p>  also rare </li></ul><br>  The Apriori algorithm, in a level manner, follows the prefix tree and calculates the frequency of occurrence of X subsets in D. Thus, in accordance with the algorithm: <br><br><ul><li>  rare subsets and all their supersets are excluded </li><li>  calculate supp (X) for each suitable candidate X of size k at level k </li></ul><br><img src="https://habrastorage.org/webt/pa/qc/r5/paqcr5ctq9svvhaamh6hsprqd-0.png"><br><br>  In pseudo-code notation, the a priori algorithm looks like this: <br>  <b>INPUT</b> : Dataset D, containing a list of transactions, and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-966"><span class="MJXp-mtext" id="MJXp-Span-967">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> \ sigma </script>  - user-defined threshold supp <br><br>  <b>OUTPUT</b> : List itemsets F (D, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-973"><span class="MJXp-mtext" id="MJXp-Span-974">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-976">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-977">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-979">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> \ sigma </script>  ) <br><br>  <b>APPROACH</b> : <br><br>  one. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-980"><span class="MJXp-msubsup" id="MJXp-Span-981"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-982" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-983" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-984">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-986">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-987">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-989">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-991">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-993">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> C_1 \ leftarrow </script>  [{i} | i in J] <br>  2. k <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-994"><span class="MJXp-mtext" id="MJXp-Span-995">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-996">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1000">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1003">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1004">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ leftarrow </script>  one <br>  3. while <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1005"><span class="MJXp-msubsup" id="MJXp-Span-1006"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1007" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1008" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mtext" id="MJXp-Span-1009">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1010">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1011">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> C_k \ neq </script>  1 do: <br>  4. We consider all support for all candidates. <br>  for all transactions (tid, I) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1013"><span class="MJXp-mtext" id="MJXp-Span-1014">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1015">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1016">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> \ in </script>  D do: <br>  for all candidates X <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1017"><span class="MJXp-mtext" id="MJXp-Span-1018">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1019">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> \ in </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1021"><span class="MJXp-msubsup" id="MJXp-Span-1022"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1024" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> C_k </script>  do: <br>  if X <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1025"><span class="MJXp-mtext" id="MJXp-Span-1026">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1027">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> \ in </script>  I: <br>  X.support ++ <br>  5. # Pull out all the frequent itemsets: <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1029"><span class="MJXp-msubsup" id="MJXp-Span-1030"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1032" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> F_k </script>  = {X | X.support&gt; <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1033"><span class="MJXp-mtext" id="MJXp-Span-1034">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1037">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1038">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1039">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> \ sigma </script>  } <br>  6. # Generating new candidates <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1040"><span class="MJXp-mtext" id="MJXp-Span-1041">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1043">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1044">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1045">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1046">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1047">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> \ forall </script>  X, Y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1048"><span class="MJXp-mtext" id="MJXp-Span-1049">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1050">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1051">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> \ in </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1052"><span class="MJXp-msubsup" id="MJXp-Span-1053"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1055" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> F_i </script>  , X [i] = Y [i] for 1 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1056"><span class="MJXp-mtext" id="MJXp-Span-1057">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1058">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> \ leq </script>  i <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1061"><span class="MJXp-mtext" id="MJXp-Span-1062">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> \ leq </script>  k-1 and X [k] <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1066"><span class="MJXp-mtext" id="MJXp-Span-1067">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1068">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1069">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> \ leq </script>  Y [k] do: <br>  I = x <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1071"><span class="MJXp-mtext" id="MJXp-Span-1072">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1073">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> \ cup </script>  {Y | k |} <br>  if <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1076"><span class="MJXp-mtext" id="MJXp-Span-1077">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1081">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> \ forall </script>  J <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1084"><span class="MJXp-mtext" id="MJXp-Span-1085">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1086">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1087">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1088">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1090">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1093">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> \ subseteq </script>  I, | J |  = k: J <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1094"><span class="MJXp-mtext" id="MJXp-Span-1095">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1097">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> \ in </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1098"><span class="MJXp-msubsup" id="MJXp-Span-1099"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1101" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59"> F_k </script>  then <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1102"><span class="MJXp-msubsup" id="MJXp-Span-1103"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1105" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-1106" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1107">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> C_k + 1 </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1108"><span class="MJXp-mtext" id="MJXp-Span-1109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> \ in </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1112"><span class="MJXp-msubsup" id="MJXp-Span-1113"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1115" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-1116" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1117">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> C_k + 1 </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1118"><span class="MJXp-mtext" id="MJXp-Span-1119">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1121">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1122">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63"> \ cup </script>  I <br>  k ++ <br><br>  Thus, Apriori first searches for all single (containing 1 element) itemsets that satisfy the user-defined supp, then makes pairs of them according to the principle of hierarchical monotony, i.e.  if a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1123"><span class="MJXp-msubsup" id="MJXp-Span-1124"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1125" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1126" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64"> x_1 </script>  is common and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1127"><span class="MJXp-msubsup" id="MJXp-Span-1128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1130" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65"> x_2 </script>  is common, then <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1131"><span class="MJXp-mo" id="MJXp-Span-1132" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-1133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1134" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1135" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1136" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1137"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1138" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1139" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1140" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> [x_1, x_2] </script>  occurs often. <br><br>  The obvious disadvantage of this approach is that it is necessary to ‚Äúscan‚Äù the entire dataset, count all the supp at all levels. Breadth-first search ( <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA_%25D0%25B2_%25D1%2588%25D0%25B8%25D1%2580%25D0%25B8%25D0%25BD%25D1%2583">search wide</a> ) <br>  This can also bring up RAM on large datasets, although the algorithm in terms of speed is still much more efficient than bruteforce. <br><br>  <b>Implementation in python</b> <br><br>  from sklearn import ... ummm ... and there‚Äôs nothing to import.  There are currently no modules for ALR in sklearn.  Do not worry, google or write your own, right? <br><br>  A variety of implementations are walking around the network, for example <a href="https://github.com/asaini/Apriori">[here]</a> , <a href="http://adataanalyst.com/machine-learning/apriori-algorithm-python-3-0/">[here]</a> , and even <a href="https://codereview.stackexchange.com/questions/38101/apriori-algorithm-using-pandas">[here]</a> . <br><br>  In practice, we follow the apyori algorithm written by Yu Mochizuki.  We will not give the full code, anyone can see <a href="https://github.com/ymoch/apyori">[here]</a> , but we will show the solution architecture and an example of use. <br><br>  Conventionally, the solution Mochizuki can be divided into 4 parts: Data Structure, Internal Functions, API and Application Functions. <br><br>  The first part of the module (Data Structure) works with the initial dataset.  The TransactionManager class is implemented, whose methods combine transactions into a matrix, form a list of candidate rules, and consider support for each rule.  In addition, internal functions, according to support, form lists of rules and rank them accordingly.  The API logically allows you to work directly with datasets, and the Application functions allow you to process transactions and display the result in a readable form.  No rocketscience. <br><br>  Let's see how to use the module on a real (well, in this case, a toy) dataset. <br><br><div class="spoiler">  <b class="spoiler_title">Data upload</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-comment"><span class="hljs-comment">#   dataset = pd.read_csv('data/Market_Basket_Optimisation.csv', header = None) #    dataset.head()</span></span></code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/cl/go/vh/clgovhkv1dzfkpv2ifodphjqbeu.png"><br><br>  We see that our dataset represents a sparse matrix, where in rows we have a set of items in each transaction. <br><br>  Replace NaN with the last value inside the transaction, so that later it would be easier to process the entire dataset. <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="python hljs">dataset.fillna(method = <span class="hljs-string"><span class="hljs-string">'ffill'</span></span>,axis = <span class="hljs-number"><span class="hljs-number">1</span></span>, inplace = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) dataset.head()</code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/vt/al/t8/vtalt8yqmljy1xgilljbmut_nce.png"><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    transactions = [] for i in range(0, 7501): transactions.append([str(dataset.values[i,j]) for j in range(0, 20)]) # apriori import apriori %%time #   .  ,          , #  ""     # min_support --  support   (dtype = float). # min_confidence --   confidence   (dtype = float) # min_lift --  lift (dtype = float) # max_length --   itemset (  k-itemset) (dtype = integer) result = list(apriori.apriori(transactions, min_support = 0.003, min_confidence = 0.2, min_lift = 4, min_length = 2))</span></span></code> </pre> <br><br>  Visualize the output <br><br><div class="spoiler">  <b class="spoiler_title">Codomagia</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shutil, os <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> StringIO <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> StringIO <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ImportError: <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> io <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> StringIO <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-comment"><span class="hljs-comment">#   json,      output = [] for RelationRecord in result: o = StringIO() apriori.dump_as_json(RelationRecord, o) output.append(json.loads(o.getvalue())) data_df = pd.DataFrame(output) #     pd.set_option('display.max_colwidth', -1) from IPython.display import display, HTML display(HTML(data_df.to_html()))</span></span></code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/xk/0o/h3/xk0oh3hz-vr7nmewdp9uc9xg46u.png"><br><br>  Total we see: <br><br>  1. Pairs of items <br>  2. items_base - the first element of the pair <br>  3. items_add - the second (added by the algorithm) element of the pair <br>  4. confidence - the value of confidence for a couple <br>  5. lift - the lift value for the pair <br>  6. support - the support value for the pair.  If you wish, you can sort by <br><br>  The results are logical: escalope and pasta, escalope and creamy mushroom sauce, chicken and low-fat sour cream, soft cheese and honey, etc.  - all this is quite logical and, most importantly, delicious combinations. <br><br>  <b>Implementation in R</b> <br><br>  ARL is the case when R-Fils can giggle maliciously (java-Fils generally look at us mortals with contempt, but more on that below).  In R, the arules library is implemented, where apriori and other algorithms are present.  The official dock can be viewed <a href="https://cran.r-project.org/web/packages/arules/arules.pdf">[here]</a> <br><br>  Let's look at it in action: <br><br>  First, install it (if not already installed). <br><br><div class="spoiler">  <b class="spoiler_title">Library installation</b> <div class="spoiler_text"><pre> <code class="hljs cs">install.packages(<span class="hljs-string"><span class="hljs-string">'arules'</span></span>)</code> </pre> <br></div></div><br>  We count the data and convert it into a transaction matrix. <br><div class="spoiler">  <b class="spoiler_title">We read data</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">library(arules) dataset = <span class="hljs-keyword"><span class="hljs-keyword">read</span></span>.csv(<span class="hljs-string"><span class="hljs-string">'Market_Basket_Optimisation.csv'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">header</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">FALSE</span></span>) dataset = <span class="hljs-keyword"><span class="hljs-keyword">read</span></span>.transactions(<span class="hljs-string"><span class="hljs-string">'Market_Basket_Optimisation.csv'</span></span>, sep = <span class="hljs-string"><span class="hljs-string">','</span></span>, rm.duplicates = <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>)</code> </pre> <br></div></div><br>  Let's look at the data: <br><pre> <code class="hljs lisp">summary(<span class="hljs-name"><span class="hljs-name">dataset</span></span>) itemFrequencyPlot(<span class="hljs-name"><span class="hljs-name">dataset</span></span>, topN = <span class="hljs-number"><span class="hljs-number">10</span></span>)</code> </pre> <br>  The graph shows the frequency of individual items in transactions. <br><br><img src="https://habrastorage.org/webt/fs/8p/v9/fs8pv9qvh8rgqxfuoanlhwtfpl4.png"><br><br>  Let's learn our rules: <br><br>  In general, the apriori call function looks like this: <pre> <code class="hljs vhdl">apriori(data, <span class="hljs-keyword"><span class="hljs-keyword">parameter</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>, appearance = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>, control = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>)</code> </pre>  where <br><br>  <i>data</i> - our dataset <br>  <i>parameter</i> - the list of parameters for the model: minimum support, confidence and lift <br>  <i>appearance</i> - responsible for displaying data.  It can take values <i>lhs, rhs, both, items, none</i> , which determine the position of items in output <br>  <i>control</i> - responsible for sorting the output (ascending, descending, without sorting), as well as whether to display the progress bar or not (the verbose parameter) <br><br>  We will train model: <br><br><pre> <code class="hljs lisp">rules = apriori(<span class="hljs-name"><span class="hljs-name">data</span></span> = dataset, parameter = list(<span class="hljs-name"><span class="hljs-name">support</span></span> = <span class="hljs-number"><span class="hljs-number">0.004</span></span>, confidence = <span class="hljs-number"><span class="hljs-number">0.2</span></span>))</code> </pre> <br>  And look at the results: <br><br><pre> <code class="hljs lisp">inspect(<span class="hljs-name"><span class="hljs-name">sort</span></span>(<span class="hljs-name"><span class="hljs-name">rules</span></span>, by = 'lift')[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>])</code> </pre> <br>  Make sure that the output has approximately the same results as when using the apyori module in Python: <br><br>  1. {light cream} =&gt; {chicken} 0.004532729 <br>  2. {pasta} =&gt; {escalope} 0.005865885 <br>  3. {pasta} =&gt; {shrimp} 0.005065991 <br>  4. {eggs, ground beef} =&gt; {herb &amp; pepper} 0.004132782 <br>  5. {whole wheat pasta} =&gt; {olive oil} 0.007998933 <br>  6. {herb &amp; pepper, spaghetti} =&gt; {ground beef} 0.006399147 <br>  7. {herb &amp; pepper, mineral water} =&gt; {ground beef} 0.006665778 <br>  8. {tomato sauce} =&gt; {ground beef} 0.005332622 <br>  9. {mushroom cream sauce} =&gt; {escalope} 0.005732569 <br>  10. {frozen vegetables, mineral water, spaghetti} =&gt; {ground beef} 0.004399413 <br><br><h4>  ECLAT Algorithm </h4><br>  <b>Theory</b> <br><br>  The idea of ‚Äã‚Äãthe ECLAT (Equivalence CLAss Transformation) algorithm is to speed up the calculation of supp (X).  To do this, we need to index our database D so that it allows us to quickly calculate supp (X) <br><br>  It is easy to see that if t (X) denotes the set of all transactions where a subset of X occurs, then <br>  t (XY) = t (X) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1141"><span class="MJXp-mtext" id="MJXp-Span-1142">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1144">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1145">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67"> \ cup </script>  t (Y) <br>  and <br>  supp (XY) = | t (XY) | <br>  that is, supp (XY) is equal to the cardinality (size) of the set t (XY) <br><br><img src="https://habrastorage.org/webt/wh/so/af/whsoafe1-h0i76mfpgvr_89r6co.png"><br><br>  This approach can be significantly improved by reducing the size of intermediate sets of transaction identifiers (tidsets).  Namely, we can not store the entire set of transactions at the intermediate level, but only the many differences of these transactions.  Let's pretend that <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1146"><span class="noError" id="MJXp-Span-1147" style="display: inline-block;">X_a&nbsp;=&nbsp;\&nbsp;{x_1,&nbsp;x_2,&nbsp;...,&nbsp;x_&nbsp;{n-1},&nbsp;a&nbsp;\}&nbsp;X_b&nbsp;=&nbsp;\&nbsp;{x_1,&nbsp;x_2,&nbsp;...,&nbsp;x_&nbsp;{n-1},&nbsp;b&nbsp;\}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-68"> X_a = \ {x_1, x_2, ..., x_ {n-1}, a \} X_b = \ {x_1, x_2, ..., x_ {n-1}, b \} </script></p><br>  Then, we get: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1148"><span class="noError" id="MJXp-Span-1149" style="display: inline-block;">X_&nbsp;{ab}&nbsp;=&nbsp;\&nbsp;{x_1,&nbsp;x_2,&nbsp;...,&nbsp;x_&nbsp;{n-1},&nbsp;a,&nbsp;b&nbsp;\}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-69"> X_ {ab} = \ {x_1, x_2, ..., x_ {n-1}, a, b \} </script></p><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1151">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1152">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1153">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1154">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1155">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1157">t</span><span class="MJXp-mo" id="MJXp-Span-1158" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1159"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1160" style="margin-right: 0.05em;">X</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1161" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1163">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-1164" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-70"> diffset (X_ {ab}) </script>  this is the set of all transaction id that contains the X_a prefix, but does not contain the b element: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1166">d</span><span class="MJXp-mo" id="MJXp-Span-1167" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1168"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1169" style="margin-right: 0.05em;">X</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1170" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1171">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-1173" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1174" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">t</span><span class="MJXp-mo" id="MJXp-Span-1176" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1177"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1178" style="margin-right: 0.05em;">X</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1179" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mo" id="MJXp-Span-1180" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-1181"><span class="MJXp-mo" id="MJXp-Span-1182" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">t</span><span class="MJXp-mo" id="MJXp-Span-1184" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1185"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186" style="margin-right: 0.05em;">X</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1187" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1189">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-1190" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1191" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1192">t</span><span class="MJXp-mo" id="MJXp-Span-1193" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1194"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1195" style="margin-right: 0.05em;">X</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1196" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mo" id="MJXp-Span-1197" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-1198"><span class="MJXp-mo" id="MJXp-Span-1199" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1200">t</span><span class="MJXp-mo" id="MJXp-Span-1201" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1202"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1203" style="margin-right: 0.05em;">X</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1204" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1205">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-1206" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-71"> d (X_ {ab}) = t (X_a) / t (X_ {ab}) = t (X_a) / t (X_ {b}) </script></p><br><br><img src="https://habrastorage.org/webt/gj/bm/ej/gjbmejhbfyfl2mpbgssiajmd2bi.png"><br><br>  Unlike the Apriori algorithm, ECLAT searches in depth (DFS, <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA_%25D0%25B2_%25D0%25B3%25D0%25BB%25D1%2583%25D0%25B1%25D0%25B8%25D0%25BD%25D1%2583">[read more here]</a> ).  Sometimes referred to as ‚Äúvertical‚Äù (as opposed to ‚Äúhorizontal‚Äù for Apriori) <br><br>  <b>INPUT</b> : Dataset D, containing a list of transactions <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1207"><span class="MJXp-mtext" id="MJXp-Span-1208">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1209">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1210">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1211">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1212">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1213">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72"> \ sigma </script>  - user-defined threshold supp and new element prefix <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1215">I</span><span class="MJXp-mtext" id="MJXp-Span-1216">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1217">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1218">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1219">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1220">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1221">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1222">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1223">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1224">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1225">J</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-73"> I \ subseteq J </script><br><br>  <b>OUTPUT</b> : List itemsets F [I] (D, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1226"><span class="MJXp-mtext" id="MJXp-Span-1227">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1228">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1229">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1230">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1232">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-74"> \ sigma </script>  ) for the corresponding prefix I <br><br>  <b>AN APPROACH:</b> <br>  one. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1233"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1234">F</span><span class="MJXp-mo" id="MJXp-Span-1235" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1236">i</span><span class="MJXp-mo" id="MJXp-Span-1237" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-1238">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1240">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1241">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1242">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1243">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1244">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1245">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1246">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1247">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-75"> F [i] \ leftarrow </script>  {} <br>  2 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1248"><span class="MJXp-mtext" id="MJXp-Span-1249">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1250">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1251">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1252">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1253">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1254">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1255">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-76"> \ forall </script>  i <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1256"><span class="MJXp-mtext" id="MJXp-Span-1257">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1258">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1259">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-77"> \ in </script>  J <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1260"><span class="MJXp-mtext" id="MJXp-Span-1261">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1262">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1263">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-78-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-78"> \ in </script>  D do: <br>  F [I]: = F [I] <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1264"><span class="MJXp-mtext" id="MJXp-Span-1265">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1266">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1267">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-79-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-79"> \ in </script>  {I <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1268"><span class="MJXp-mtext" id="MJXp-Span-1269">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1270">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1271">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-80-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-80"> \ in </script>  {i}} <br>  3. Create <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1272"><span class="MJXp-msubsup" id="MJXp-Span-1273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1274" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1275" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-81-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-81"> D_i </script><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1276"><span class="MJXp-msubsup" id="MJXp-Span-1277"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1278" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1279" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-1280">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1281">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1282">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1283">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1284">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1286">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1288">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1289">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-82-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-82"> D_i \ leftarrow </script>  {} <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1290"><span class="MJXp-mtext" id="MJXp-Span-1291">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1294">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1295">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1296">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-83-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-83"> \ forall </script>  j <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1298"><span class="MJXp-mtext" id="MJXp-Span-1299">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-84-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-84"> \ in </script>  J <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1302"><span class="MJXp-mtext" id="MJXp-Span-1303">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1304">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1305">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-85-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-85"> \ in </script>  D <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1306"><span class="MJXp-mtext" id="MJXp-Span-1307">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-86-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-86"> \ in </script>  j&gt; i do: <br>  C <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1310"><span class="MJXp-mtext" id="MJXp-Span-1311">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1312">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1313">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-87-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-87"> \ cup </script>  ({i} <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1315"><span class="MJXp-mtext" id="MJXp-Span-1316">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1317">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1318">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1319">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-88-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-88"> \ cup </script>  {j}) <br>  if | C | <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1320"><span class="MJXp-mtext" id="MJXp-Span-1321">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1322">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1323">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1324">q</span><span class="MJXp-mtext" id="MJXp-Span-1325">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1326">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1327">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1328">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1329">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1330">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-89-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-89"> \ geq \ sigma </script>  then <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1331"><span class="MJXp-msubsup" id="MJXp-Span-1332"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1334" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-1335">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1336">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1337">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1338">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1339">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1340">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1341">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1342">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1343">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1344">w</span><span class="MJXp-msubsup" id="MJXp-Span-1345"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1346" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1347" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-1348">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1349">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1350">n</span><span class="MJXp-mrow" id="MJXp-Span-1351"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1352">C</span><span class="MJXp-mo" id="MJXp-Span-1353" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1354">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-90-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-90"> D_i \ leftarrow D_i \ in {C, i} </script><br>  4. DFS - recursion: <br>  Count <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1355"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1356">F</span><span class="MJXp-mrow" id="MJXp-Span-1357"><span class="MJXp-mo" id="MJXp-Span-1358" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1359">I</span><span class="MJXp-mrow" id="MJXp-Span-1360"><span class="MJXp-mo" id="MJXp-Span-1361" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1362">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1363">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1364">n</span><span class="MJXp-mrow" id="MJXp-Span-1365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1366">i</span></span><span class="MJXp-mrow" id="MJXp-Span-1367"><span class="MJXp-mo" id="MJXp-Span-1368" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-1369" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1370"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1371" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1372" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1373" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1374">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1375">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1376">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1377">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1378">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1379">a</span><span class="MJXp-mo" id="MJXp-Span-1380" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-91-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-91"> F | I | \ in {i} | (D_i, \ sigma) </script><br>  F [I]: F [I] <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1381"><span class="MJXp-mtext" id="MJXp-Span-1382">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1383">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1384">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-92-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-92"> \ in </script>  F [I <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1385"><span class="MJXp-mtext" id="MJXp-Span-1386">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1387">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1388">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-93-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-93"> \ in </script>  i] <br><br>  The key concept for the ECLAT algorithm is the I-prefix.  At the beginning, the empty set I is generated, this allows us to select all frequency itemsets on the first pass.  Then the algorithm will call itself and increase I by 1 at each step until the user-specified length I is reached. <br><br>  To store values, a prefix tree is used (trie (not tree :)), <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B5%25D1%2584%25D0%25B8%25D0%25BA%25D1%2581%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE)">[more info here]</a> .  Initially, the zero root of the tree is built (that is the empty set I), then as it passes through the itemsets, the algorithm prescribes the contents of each itesmsets items, with the leftmost branch being the child of the zero root and further down.  At the same time there are as many branches as items found in itemsets.  This approach allows you to write an itemset in memory only once, which makes ECLAT faster than Apriori. <br><br>  <b>Implementation in python</b> <br><br>  There are several implementations of this algorithm in Python, those who wish can google and even try to get them to work, but we will write our own, as simple as possible and, most importantly, working. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-string"><span class="hljs-string">"""   3 : - min_supp -  support     ItemSet.   %    - max_items -      ItemSet - min_items -    ItemSet """</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Eclat</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#   def __init__(self, min_support = 0.01, max_items = 5, min_items = 2): self.min_support = min_support self.max_items = max_items self.min_items = min_items self.item_lst = list() self.item_len = 0 self.item_dict = dict() self.final_dict = dict() self.data_size = 0 #        ( ) def read_data(self, dataset): for index, row in dataset.iterrows(): row_wo_na = set(row[0]) for item in row_wo_na: item = item.strip() if item in self.item_dict: self.item_dict[item][0] += 1 else: self.item_dict.setdefault(item, []).append(1) self.item_dict[item].append(index) #   (instance variables) self.data_size = dataset.shape[0] self.item_lst = list(self.item_dict.keys()) self.item_len = len(self.item_lst) self.min_support = self.min_support * self.data_size #print ("min_supp", self.min_support) #     ItemSet   Eclat # : {Item: [Supp number, tid1, tid2, tid3, ...]} def recur_eclat(self, item_name, tids_array, minsupp, num_items, k_start): if tids_array[0] &gt;= minsupp and num_items &lt;= self.max_items: for k in range(k_start+1, self.item_len): if self.item_dict[self.item_lst[k]][0] &gt;= minsupp: new_item = item_name + " | " + self.item_lst[k] new_tids = np.intersect1d(tids_array[1:], self.item_dict[self.item_lst[k]][1:]) new_tids_size = new_tids.size new_tids = np.insert(new_tids, 0, new_tids_size) if new_tids_size &gt;= minsupp: if num_items &gt;= self.min_items: self.final_dict.update({new_item: new_tids}) self.recur_eclat(new_item, new_tids, minsupp, num_items+1, k) #     def fit(self, dataset): i = 0 self.read_data(dataset) for w in self.item_lst: self.recur_eclat(w, self.item_dict[w], self.min_support, 2, i) i+=1 return self #    {ItemSet: support(ItemSet)} def transform(self): return {k: "{0:.4f}%".format((v[0]+0.0)/self.data_size*100) for k, v in self.final_dict.items()}</span></span></code> </pre> <br>  We test on a toy sample: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#       model = Eclat(min_support = 0.01, max_items = 4, min_items = 3)</span></span></code> </pre> <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># model.fit(dataset)</span></span></code> </pre> <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   model.transform()</span></span></code> </pre> <br><br><img src="https://habrastorage.org/webt/yu/06/vw/yu06vwf9wiztksvixzghxoff6ky.png"><br><br>  <b>Meanwhile in real-life ...</b> <br><br>  So, the algorithm works.  But is it applicable in real life?  Let's check. <br>  There is a real business task that came to us from a large grocery retailer of the premium segment (we will not disclose the name and names of goods, corporate secrets): see the most frequent sets in grocery baskets. <br><br>  Load the data from the unloading from the POS-system (Point-of-Sale - the system that processes transactions at the box office) <br><br><div class="spoiler">  <b class="spoiler_title">Data loading</b> <div class="spoiler_text"><pre> <code class="python hljs">df = pd.read_csv(<span class="hljs-string"><span class="hljs-string">'data/tranprod1.csv'</span></span>, delimiter = <span class="hljs-string"><span class="hljs-string">';'</span></span>, header = <span class="hljs-number"><span class="hljs-number">0</span></span>) df.columns = [<span class="hljs-string"><span class="hljs-string">'trans'</span></span>, <span class="hljs-string"><span class="hljs-string">'item'</span></span>] print(df.shape) df.head()</code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/pw/48/ik/pw48iks6kaemsrmfij11cx0u6xq.png"><br><br>  Change the table format to ‚Äútransaction |  list of all item in transaction <br><br><div class="spoiler">  <b class="spoiler_title">Transformations</b> <div class="spoiler_text"><pre> <code class="python hljs">df.trans = pd.to_numeric(df.trans, errors=<span class="hljs-string"><span class="hljs-string">'coerce'</span></span>) df.dropna(axis = <span class="hljs-number"><span class="hljs-number">0</span></span>, how = <span class="hljs-string"><span class="hljs-string">'all'</span></span>, inplace = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) df.trans = df.trans.astype(int)</code> </pre> <br><br><pre> <code class="python hljs">df = df.groupby(<span class="hljs-string"><span class="hljs-string">'trans'</span></span>).agg(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x.tolist())</code> </pre> <br><pre> <code class="python hljs">df.head()</code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/pr/7w/le/pr7wlembusacu-xbup3qul0gyvi.png"><br><br>  Run the algorithm <br><br><pre> <code class="python hljs">model = Eclat(min_support = <span class="hljs-number"><span class="hljs-number">0.0001</span></span>, max_items = <span class="hljs-number"><span class="hljs-number">4</span></span>, min_items = <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br><pre> <code class="python hljs">%%time model.fit(df)</code> </pre> <br> <code>Data read successfully <br> min_supp 9.755 <br> CPU times: user 6h 47min 9s, sys: 22.2 s, total: 6h 47min 31s <br> Wall time: 6h 47min 28s</code> <br> <br><pre> <code class="python hljs">model.transform()</code> </pre> <br><img src="https://habrastorage.org/webt/r_/c8/sx/r_c8sxs75gnb4wvwmtx9fp5ddsy.png"><br><br>  On a regular computer, the solution to this puzzle took essentially a night.  On cloud platforms it would be faster.  But, most importantly, the customer is satisfied. <br><br>  As you can see, implementing the algorithm on your own is quite simple, although it is worth working with efficiency. <br><br>  <b>Implementation in R</b> <br>  And again, users of R are jubilant, no dances with a tambourine are needed for them, all by analogy with apriori. <br><br>  Run the library and read the data (to speed up, take the same toy dataset that apriori was counted on): <br><br><div class="spoiler">  <b class="spoiler_title">Data preparation</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">library(arules) dataset = <span class="hljs-keyword"><span class="hljs-keyword">read</span></span>.csv(<span class="hljs-string"><span class="hljs-string">'Market_Basket_Optimisation.csv'</span></span>) dataset = <span class="hljs-keyword"><span class="hljs-keyword">read</span></span>.transactions(<span class="hljs-string"><span class="hljs-string">'Market_Basket_Optimisation.csv'</span></span>, sep = <span class="hljs-string"><span class="hljs-string">','</span></span>, rm.duplicates = <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>)</code> </pre> <br></div></div><br>  A quick look at dataset: <br><br><pre> <code class="hljs lisp">summary(<span class="hljs-name"><span class="hljs-name">dataset</span></span>) itemFrequencyPlot(<span class="hljs-name"><span class="hljs-name">dataset</span></span>, topN = <span class="hljs-number"><span class="hljs-number">10</span></span>)</code> </pre> <br>  Same frequencies as before <br><br><img src="https://habrastorage.org/webt/fs/8p/v9/fs8pv9qvh8rgqxfuoanlhwtfpl4.png"><br><br>  Rules: <br><br><pre> <code class="hljs lisp">rules = eclat(<span class="hljs-name"><span class="hljs-name">data</span></span> = dataset, parameter = list(<span class="hljs-name"><span class="hljs-name">support</span></span> = <span class="hljs-number"><span class="hljs-number">0.003</span></span>, minlen = <span class="hljs-number"><span class="hljs-number">2</span></span>))</code> </pre> <br>  Note that we only configure support and the minimum length (k in k-itemset) <br><br>  And look at the results: <br><br><pre> <code class="hljs lisp">inspect(<span class="hljs-name"><span class="hljs-name">sort</span></span>(<span class="hljs-name"><span class="hljs-name">rules</span></span>, by = 'support')[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>])</code> </pre> <br><img src="https://habrastorage.org/webt/sh/_u/-m/sh_u-mxb_kdudzdnulnbs6zxhyc.png"><br><br><h4>  FP-Growth Algorithm </h4><br>  <b>Theory</b> <br><br>  The FP-Growth (Frequent Pattern Growth) algorithm is the youngest of our trinity, it was first described in 2000 in <a href="https://habr.com/ru/company/ods/blog/353502/">[7]</a> . <br><br>  FP-Growth offers a radical thing - to abandon the generation of <i>candidates</i> (recall, the generation of candidates is the basis of Apriori and ECLAT).  Theoretically, such an approach would further increase the speed of the algorithm and use even less memory. <br><br>  This is achieved by storing in memory a prefix tree (trie) not from combinations of candidates, but from the transactions themselves. <br><br>  At the same time, FP-Growth generates a header table for each item, whose supp is higher than the one specified by the user.  This header table stores a linked list of all similar nodes of the prefix tree.  Thus, the algorithm combines the advantages of <i>BFS</i> at the expense of the header table and <i>DFS</i> by building trie.  The pseudocode of the algorithm is similar to ECALT, with some exceptions. <br><br>  <b>INPUT</b> : Dataset D, containing a list of transactions <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1389"><span class="MJXp-mtext" id="MJXp-Span-1390">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1391">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1392">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1393">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1394">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1395">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-94-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-94"> \ sigma </script>  - user-defined threshold supp and prefix <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1396"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1397">I</span><span class="MJXp-mtext" id="MJXp-Span-1398">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1399">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1400">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1401">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1402">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1403">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1404">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1405">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1406">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1407">J</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-95-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-95"> I \ subseteq J </script><br><br>  <b>OUTPUT</b> : List itemsets F [I] (D, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1408"><span class="MJXp-mtext" id="MJXp-Span-1409">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1410">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1411">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1412">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1413">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1414">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-96-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-96"> \ sigma </script>  ) for the corresponding prefix I <br><br>  <b>APPROACH</b> : <br><br>  1. F [i] <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1415"><span class="MJXp-mtext" id="MJXp-Span-1416">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1417">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1418">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1419">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1420">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1421">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1422">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1423">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1424">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1425">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-97-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-97"> \ leftarrow </script>  {} <br>  2 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1426"><span class="MJXp-mtext" id="MJXp-Span-1427">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1428">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1429">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1430">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1431">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1432">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1433">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-98-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-98"> \ forall </script>  i <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1434"><span class="MJXp-mtext" id="MJXp-Span-1435">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1436">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1437">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-99-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-99"> \ in </script>  J <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1438"><span class="MJXp-mtext" id="MJXp-Span-1439">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1440">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1441">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-100-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-100"> \ in </script>  D do: <br>  F [I]: = F [I] <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1442"><span class="MJXp-mtext" id="MJXp-Span-1443">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1444">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1445">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-101-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-101"> \ in </script>  {I <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1446"><span class="MJXp-mtext" id="MJXp-Span-1447">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1448">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1449">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-102-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-102"> \ in </script>  {i}} <br>  3. Create <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1450"><span class="MJXp-msubsup" id="MJXp-Span-1451"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1452" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1453" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-103-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-103"> D_i </script><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1454"><span class="MJXp-msubsup" id="MJXp-Span-1455"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1456" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1457" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-1458">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1459">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1460">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1461">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1463">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1464">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1465">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1466">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1467">w</span><span class="MJXp-msubsup" id="MJXp-Span-1468"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1469" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1470" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-104-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-104"> D_i \ leftarrow D_i </script>  {} <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1471"><span class="MJXp-msubsup" id="MJXp-Span-1472"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1473" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1474" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-1475">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1476">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1477">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1478">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1479">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1480">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1481">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1482">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1483">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1484">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-105-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-105"> H_i \ leftarrow </script>  {} <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1485"><span class="MJXp-mtext" id="MJXp-Span-1486">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1487">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1488">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1489">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1490">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1491">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1492">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-106-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-106"> \ forall </script>  j <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1493"><span class="MJXp-mtext" id="MJXp-Span-1494">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1495">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1496">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-107-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-107"> \ in </script>  J <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1497"><span class="MJXp-mtext" id="MJXp-Span-1498">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1499">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1500">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-108-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-108"> \ in </script>  D <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1501"><span class="MJXp-mtext" id="MJXp-Span-1502">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1503">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1504">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-109-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-109"> \ in </script>  j&gt; i do: <br>  if supp (I <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1505"><span class="MJXp-mtext" id="MJXp-Span-1506">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1507">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1508">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-110-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-110"> \ in </script>  {i, j}) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1509"><span class="MJXp-mtext" id="MJXp-Span-1510">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1511">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1512">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1513">q</span><span class="MJXp-mtext" id="MJXp-Span-1514">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1515">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1516">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1517">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1518">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1519">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-111-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-111"> \ geq \ sigma </script>  then: <br>  H <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1520"><span class="MJXp-mtext" id="MJXp-Span-1521">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1522">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1523">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1524">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1525">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1526">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1527">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1528">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1529">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1530">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-112-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-112"> \ leftarrow </script>  H <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1531"><span class="MJXp-mtext" id="MJXp-Span-1532">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1533">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1534">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-113-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-113"> \ in </script>  {j} <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1535"><span class="MJXp-mtext" id="MJXp-Span-1536">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1537">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1538">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1539">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1540">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1541">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1542">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-114-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-114"> \ forall </script>  (tid, X) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1543"><span class="MJXp-mtext" id="MJXp-Span-1544">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1545">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1546">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-115-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-115"> \ in </script>  D <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1547"><span class="MJXp-mtext" id="MJXp-Span-1548">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1549"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1550"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1551"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1552"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1553"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1554"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1555"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1556"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">q</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-116-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-116"> \ subseteq </script>  I <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1557"><span class="MJXp-mtext" id="MJXp-Span-1558">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1559"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1560"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-117-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-117"> \ in </script>  X do: <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1561"><span class="MJXp-msubsup" id="MJXp-Span-1562"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1563" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1564" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1566"><font style="vertical-align: inherit;"> l </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1567"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1568"><font style="vertical-align: inherit;">f </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1569"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1570"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1571"><font style="vertical-align: inherit;">r </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1572"><font style="vertical-align: inherit;">r </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1573"><font style="vertical-align: inherit;">o </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1574"><font style="vertical-align: inherit;">w </font></span><span class="MJXp-msubsup" id="MJXp-Span-1575"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1576" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">D </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-1575"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1577" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">i</font></span></span></font><span class="MJXp-mtext" id="MJXp-Span-1565">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1566"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1567"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1568"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1569"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1570"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1571"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1572"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1573"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1574"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-1575"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1576" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1577" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-118-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-118"> D_i \ leftarrow D_i </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1578"><span class="MJXp-mtext" id="MJXp-Span-1579">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1580"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1581"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1582"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1583"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1584"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1585"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1586"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1587"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">q</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-119-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-119"> \ subseteq </script>  ({tid, X <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1588"><span class="MJXp-mtext" id="MJXp-Span-1589">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1590"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-120-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-120"> \ in </script>  H}) <br>  4. DFS - recursion: <br>  We consider F | I <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1592"><span class="MJXp-mtext" id="MJXp-Span-1593">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1594"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1595"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-121-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-121"> \ in </script>  {i} |  ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1596"><span class="MJXp-msubsup" id="MJXp-Span-1597"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1598" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1599" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1600" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1602"><font style="vertical-align: inherit;">s </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1603"><font style="vertical-align: inherit;">i </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1604"><font style="vertical-align: inherit;">g </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1605"><font style="vertical-align: inherit;">m </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1606"><font style="vertical-align: inherit;">a</font></span></font><span class="MJXp-mtext" id="MJXp-Span-1601">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1602"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1603"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1604"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1605"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1606"><font style="vertical-align: inherit;"></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-122-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-122"> D_i, \ sigma </script>  ) <br>  F [I] <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1607"><span class="MJXp-mtext" id="MJXp-Span-1608">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1609"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1610"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1611"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1612"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1613"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1614"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1615"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1616"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1617"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-123-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-123"> \ leftarrow </script>  F [I] <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1618"><span class="MJXp-mtext" id="MJXp-Span-1619">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1620"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1621"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1622"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1623"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1624"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1625"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1626"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1627"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">q</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-124-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-124"> \ subseteq </script>  F [I <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1628"><span class="MJXp-mtext" id="MJXp-Span-1629">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1630"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1631"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1632"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1633"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1634"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1635"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1636"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1637"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">q</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-125-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-125"> \ subseteq </script>  i] <br><br>  <b>Implementation in python</b> <br><br>  Implementing FP-Growth in Python was no more lucky than other ALR algorithms.  There are no standard libraries for it. <br><br>  Not bad FP_Growth is presented in pyspark, watch <a href="http://spark.apache.org/docs/2.2.0/mllib-frequent-pattern-mining.html">[here]</a> <br>  On gitHub, you can also find several Neolithic solutions, for example <a href="https://github.com/enaeseth/python-fp-growth">[here]</a> and <a href="https://github.com/evandempsey/fp-growth">[here]</a> <br><br>  Let's test the second option: <br><br><div class="spoiler">  <b class="spoiler_title">Installation and Import</b> <div class="spoiler_text"><pre> <code class="python hljs">!pip install pyfpgrowth</code> </pre> <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyfpgrowth</code> </pre> <br></div></div><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  patterns = pyfpgrowth.find_frequent_patterns(transactions, 2) #  rules = pyfpgrowth.generate_association_rules(patterns, 30); # rules</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/xk/0o/h3/xk0oh3hz-vr7nmewdp9uc9xg46u.png"><br><br>  <b>Implementation in R</b> <br><br>  In this case, R is not far behind Python: there is no FP-Growth library in such a convenient and arules native library. <br><br>  At the same time, as for Python, the implementation exists in Spark - <a href="https://spark.apache.org/docs/2.2.0/api/R/spark.fpGrowth.html">[Link]</a> <br><br><h3>  And in fact... </h3><br>  But in fact, if you want to use ARL in your business tasks, we strongly recommend learning <b>Java</b> . <br><br>  <b>Weka</b> (Waikato Environment for Knowledge Analysis).  This is a free Machine Learning Software written in Java.  Worked out at the University of Waikato in New Zealand in 1993. Weka has both a GUI and the ability to work from the command line.  The advantages include the ease of use of the graphical interface - there is no need to write code to solve applied problems.  To use Weka libraries in Python, you can install a wrapper for Weka in Python: python-weka-wrapper3.  The shell uses the javabridge package to access the Weka API.  Detailed installation instructions can be found <a href="http://fracpete.github.io/python-weka-wrapper3/install.html">[here]</a> . <br><br>  <b>SPMF</b> This is an open source data mining library written in Java that specializes in searching patterns in data ( <a href="http://www.philippe-fournier-viger.com/spmf/">[link]</a> ).  It is stated that SPMF implemented more than 55 algorithms for mining data.  Unfortunately, there is no official SPMF shell for Python (at least as of the date of this writing) <br><br><h3>  Conclusion or again about the effectiveness </h3><br>  In conclusion, let us compare empirically the <i>effectiveness of the</i> <b>runtime</b> metric depending on the density of the dataset and the length of the transaction dataset <a href="https://habr.com/ru/company/ods/blog/353502/">[9]</a> . <br><br>  Under the <i>density</i> dataset refers to the ratio of transactions, which contain frequent items to the total number of transactions. <br><br>  Efficiency of algorithms at different densities <br><br><img src="https://habrastorage.org/webt/fm/tl/va/fmtlvag1mcmiceo4suqkn0rysbw.png"><br><br>  From the graph it is obvious that the efficiency (the lower the runtime, the more effective) the Apriori algorithm decreases with increasing density of the dataset. <br><br>  Transaction <i>length</i> is the quantity in items in itemset <br><br>  Efficiency of algorithms at different lengths <br><br><img src="https://habrastorage.org/webt/9o/df/ch/9odfchlny8mvvjdajcbnhdqoifg.png"><br><br>  Obviously, by increasing the length of the transaction, Apriori also copes much worse. <br><br><h3>  To the question of the selection of hyperparameters </h3><br>  It's time to tell a little about how to choose the hyperparameters of our models (they are the very same support, confidence, etc.) <br><br>  Since ARules algorithms are sensitive to hyperparameters, it is necessary to correctly approach the issue of choice.  The difference in execution time for different combinations of hyperparameters may differ significantly. <br><br>  The main hyper parameter in any ARules algorithm is min support.  He, roughly speaking, is responsible for the minimum relative frequency of the associative rule in the sample.  Choosing this indicator, you must first focus on the task.  Most often, the customer needs a small number of top combinations, so you can set a high value of min support.  However, in this case, some emissions may get into our sample ( <a href="https://en.wikipedia.org/wiki/Product_bundling">bundle products</a> , for example) and some interesting combinations may not be included.  In general, the higher you set the caliper value, the more powerful the rules you find, and the faster the algorithm is considered.  We recommend putting a smaller value on the first run to see which pairs, triples, etc.  goods generally found in dataset.  Then gradually increase the step, getting to the desired value (specified by the customer, for example).  In practice, a good value of min supp will be 0.1% (with a very large dataset). <br><br>  Below we provide an approximate graph of the dependence of the execution time of the algorithm on this indicator. <br><br><img src="https://habrastorage.org/webt/d2/fd/sh/d2fdshzjgvx6pe8g5nmvu5feg_u.png"><br><br>  In general, everything as usual depends on the task and the data. <br><br><h3>  Results </h3><br>  So, we got acquainted with the basic theory of ARL ("who bought x, also bought y") and basic concepts and metrics (support, confidence, lift and conviction). <br><br>  We looked at the 3 most popular (and old as the world) algorithms (Apriori, ECLAT, FP-Growth), envied the users of R and arules libraries, tried to implement ECLAT themselves. <br><br>  Highlights: <br><br>  1. ARL underlie recommendation systems <br>  2. ARLs are widely applicable - from traditional retail and online retail (from Ozon to Steam), regular purchases of goods and materials to banks and telecom (connected services and services) <br>  3. ARL is relatively easy to use, there are implementations of different levels of development for different tasks. <br>  4. ARL are well interpreted and do not require special skills. <br>  5. At the same time, algorithms, especially classical ones, cannot be called super-efficient.  If you work with them out of the box on large datasets, you may need more processing power.  But nothing prevents us from finishing them, right? <br><br>  In addition to the considered basic algorithms, there are modifications and branches: <br><br>  Algorithm <b>CHARM</b> for finding <i>closed</i> itemsets.  This algorithm perfectly reduces the complexity of finding rules from exponential (that is, increasing with increasing dataset, for example) to polynomial.  A <i>closed</i> itemset is an itemset for which there is no superset (i.e., a set that includes our itemset + other items) with the same frequency (= support). <br><br>  Here it is worth explaining a little - until now we considered just frequent (frequent) itemsets.  There is also the notion of <i>closed</i> (see above) and <i>maximal ones</i> .  <i>The maximum</i> itemset is an itemset for which there is no frequent (= frequent) superset. <br><br>  The relationship between these three types of itemsets is presented in the picture below: <br><br><img src="https://habrastorage.org/webt/hn/1q/js/hn1qjshszbdsmxvg-kgc5wicliw.gif"><br><br>  <b>AprioriDP</b> (Dynamic Programming) - allows you to store supp in a special data structure, works slightly faster than the classic Apriori <br><br>  <b>FP Bonsai</b> - improved FP-Growth with pruning a prefix tree (an example of an algorithm with <i><a href="">constraints</a></i> ) <br><br>  In conclusion, we cannot fail to mention the gloomy genius of ARL by Dr. <a href="http://www.borgelt.net/software.html">Christian Borgelt</a> from the University of Constance. <br><br>  Christian implemented the algorithms we mentioned in C, Python, Java and R. Well, or almost everything.  There is even a GUI for its authorship, where in a couple of clicks you can download datasets, select the desired algorithm and find the rules.  This is provided that it will work for you. <br><br>  For simple tasks, however, it is enough that we considered in this article.  And if not enough, we urge you to write the implementation yourself! <br><br>  <b>References:</b> <br><br><a name="1"></a>  Discovery, analysis and presentation of strong rules.  G. Piatetsky-Shapiro.  Knowledge Discovery in Databases, AAAI Press, (1991) <br><a name="2"></a>  <a href="http://arbor.ee.ntu.edu.tw/~chyun/dmpaper/agrama93.pdf">Large Databases</a> <br><a name="3"></a>  <a href="http://www.vldb.org/conf/1994/P487.PDF">Fast Algorithms for Mining Association Rules</a> <br><a name="4"></a>  <a href="http://www.dssresources.com/newsletters/66.php">Ask Dan!</a> <br><a name="5"></a>  <a href="http://www.lsi.upc.edu/~belanche/Docencia/mineria/Practiques/R/arules.pdf">Introduction to arules - A computational environment for mining</a> <br><a name="6"></a>  <a href="http://www.borgelt.net/publications.html">Publications by Dr. Borgelt</a> <br><a name="7"></a>  J. Han, J. Pei, and Y. Yin, ‚ÄúMining session patterns,‚Äù in ACM SIGMOD Record, vol.  29, no.  2. ACM, 2000, pp.  1‚Äì12. <br><a name="8"></a>  Shimon, Sh.  Improving Data mining algorithms using constraints.  The Open University of Israel, 2012. <br><a name="9"></a>  <a href="https://arxiv.org/pdf/1701.09042.pdf">Jeff Heaton.</a>  <a href="https://arxiv.org/pdf/1701.09042.pdf">Fat-Growth Frequent Itemset Mining Algorithms</a> <br>  <a href="https://github.com/McKenzyPG/arules_shared">Sources</a> <br><br>  Authors: <a href="https://github.com/McKenzyPG">Pavel Golubev</a> , <a href="https://github.com/bashnick/">Nikolay Bashlykov</a> </div><p>Source: <a href="https://habr.com/ru/post/353502/">https://habr.com/ru/post/353502/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353492/index.html">GeekBrains starts training performance marketing specialists</a></li>
<li><a href="../353494/index.html">IntelliJ IDEA 2018.1 - Improved code analysis, support for Git partial commits, Android Studio 3.0, and more.</a></li>
<li><a href="../353496/index.html">Introducing reactive threads - for Java developers</a></li>
<li><a href="../353498/index.html">How many mathematics do you need to sign a polygon in the Yandex.Maps JS API</a></li>
<li><a href="../353500/index.html">Implementing domain-specific design in PHP</a></li>
<li><a href="../353504/index.html">Root access through TeamCity</a></li>
<li><a href="../353506/index.html">Drupalgeddon2: SA-CORE-2018-002 operation began</a></li>
<li><a href="../353508/index.html">Imagine Cup 2018: live broadcast</a></li>
<li><a href="../353510/index.html">How can you develop two parts of the game for six months and not go crazy</a></li>
<li><a href="../353512/index.html">HMD + Kinect = Augmented Virtuality</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>