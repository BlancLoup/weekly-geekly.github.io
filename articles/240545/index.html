<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>rawdog - RSS aggregator without excessive requests</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lyrical introduction 
 In connection with the recent budding from Habrahabr new resource, I had the need to equip a convenient way to read both resour...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>rawdog - RSS aggregator without excessive requests</h1><div class="post__text post__text-html js-mediator-article"><h4>  Lyrical introduction </h4><br>  In connection with the recent <a href="http://habrahabr.ru/company/tm/blog/240135/">budding</a> from Habrahabr new resource, I had the need to equip a convenient way to read both resources.  The first thought, of course, was about RSS, since the engine at both sites supports it.  The real trifles remained - to find a good RSS aggregator that could be installed on a weak VPS (since the fate of Google Reader was somewhat dampened by the desire to rely on third-party services). <br><a name="habracut"></a><br>  At first, a <a href="http://habrahabr.ru/company/tm/blog/240135/">tip</a> from <a href="http://habrahabr.ru/users/tsyganov_ivan/" class="user_link">Tsyganov_Ivan</a> led to the Tiny Tiny RSS aggregator, which seemed like a real ‚Äúsilver bullet‚Äù.  However, closer acquaintance with system requirements somewhat cooled my ardor - to pile up a full-fledged LAMP on a typewriter with God forbid 256 meters of unallocated memory, and all this for the sake of a resource literally for one person?  Moreover, acquaintance with the FAQ, which contained links to frankly mocking answers on the package forum, finally discouraged the desire to deal with tt-rss. <br><br>  The first round of the search ended in failure, because alternatives (like <a href="https://github.com/feedhq/feedhq">FeedHQ</a> ) required roughly the same thing.  Desperate, I was already going to write the tool I needed myself and began to look for suitable libraries for Python (to which I have a weakness) when I came across practically <a href="http://offog.org/git/rawdog/README">what was needed</a> . <br><br>  The name <abbr title="RSS Aggregator Without Delusions Of Grandeur, an RSS aggregator without megalomania">RAWDOG itself</abbr> hints that the author at the time of writing was overwhelmed with similar feelings.  This utility is designed to run manually or by cron and can only do one thing: parse the specified RSS feeds and write new items to the output file using the specified pattern. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Installation and Setup </h4><br>  Since rawdog is present in the Ubuntu repository, getting a package is not difficult.  But the setting has its own characteristics. <br>  First, you will have to add the rawdog call yourself to the crontab, or to cron. *.  It will look something like this: <br><br><pre>  rawdog --dir WORKDIR --log /var/log/rawdog/rawdog.log --no-lock-wait --update --write </pre><br>  where the key - <i>no-lock-wait</i> will not allow to run the second copy of rawdog, and <i>WORKDIR</i> - the working directory of the utility. <br><br>  The fact is that rawdog searches for a configuration file and keeps all its temporary files in one working directory - by default <i>~ / .rawdog</i> .  This may be convenient for a workstation, but it is against the usual practice.  If you, like me, like order and uniformity, you can specify a different working directory using the <i>--dir</i> key, which allowed you to send the working directory to <i>/ var / cache / rawdog</i> (since its main contents, apparently, the cache of downloaded tapes) .  Since the configuration file is also searched there (the <i>‚Äìconfig</i> key allows you to specify <i>an additional</i> config, but does not cancel the search for the main one), it was replaced with a symbolic link, and then went along with the templates in <i>/ etc.</i> <br><br>  A well-documented example of a configuration file can be <a href="http://offog.org/git/rawdog/config">found on the web</a> , so I will only briefly indicate the main directives: <br><ul><li>  <i>maxarticles N</i> allows you to set the length of the ribbon of results (one-page output, which can be inconvenient); </li><li>  <i>maxage T</i> indicates the records for which time interval will be shown in the output tape; </li><li>  <i>expireage T</i> sets how long the entries that have disappeared in the original RSS feed will remain.  If this interval is less than the maxage, then in the case of a frequently updated tape, the outdated entries will disappear from the results before the expiration of the normal period. </li><li>  <i>pagetemplate FILEPATH</i> and <i>itemtemplate FILEPATH</i> allow you to specify a file with templates for the page as a whole and for a separate entry, respectively.  By default ( <i>default</i> value) a simple built-in template is used. </li><li>  <i>outputfile FILEPATH</i> - where output will be recorded.  Web server settings for sharing this static page should be left outside the scope of this article (for example, I use lighttpd).  The only thing is to make sure that this file will have write access to rawdog (no problem if the utility is started via cron as root) and read access from the web server. </li><li>  The <i>feed interval URL [params]</i> directive allows you to add an RSS feed for viewing at a specified interval (since the call is usually made via cron, then rawdog will simply ignore the ‚Äúnon-obsolete‚Äù tapes if it is called earlier than expected).  Among the parameters is to allocate <i>id</i> (below) and <i>http_proxy</i> , which allows you to specify a proxy server for accessing a specific tape (if you want a strange one, like RSS feed aggregation from Tor, well, or just from the site that came under RosKomKatok). </li><li>  <i>include FILEPATH</i> will allow you to include another configuration file. </li></ul><br><br><h4>  Customize logrotate </h4><br>  Since rawdog is usually called several times a day, and generates about a kilobyte of logs each time, it makes sense either to disable logging completely (by removing the <i>--log</i> key) or to configure logrotate.  For the latter, it suffices to put in <i>/etc/logrotate.d/ a</i> file of approximately the same content (assuming that you have chosen the same path to the log file as I): <br><pre><code class="hljs mel">/var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/rawdog/rawdog.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> { weekly missingok <span class="hljs-keyword"><span class="hljs-keyword">rotate</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> compress delaycompress notifempty }</code> </pre> <br><br><h4>  Induce beauty </h4><br>  The built-in template for rawdog is minimalist, if not tougher, so it makes sense to set your own template files.  The most important is the <i>pagetemplate</i> template, since it is in it that you can define styles and include the necessary scripts.  To see the default page template, you can use the following command (be sure to specify <i>--dir WORKDIR</i> if you, like me, moved the working directory): <br><br><pre>  rawdog -s pagetemplate&gt; template.html </pre><br><br>  Any embedded template can be viewed with a similar command, replacing the <i>pagetemplate</i> with the template name.  Templating is implemented through a simple search with a replacement, although there is a conditional operator that allows you to insert a stub in the absence of a value.  By the way, you can define your variables using the <i>define</i> directive <i>VARNAME VALUE</i> (globally) or the parameter <i>define_VARNAME = VALUE</i> (for a separate RSS feed). <br><br>  It should be noted that each entry by default is marked with the <i>feed-FEEDID</i> CSS class, where FEEDID is the source id specified in the parameters above.  This allows you to set your design for records from different sources (for example, show the site icon next to the title). <br><br><h4>  Grouping tapes into separate issue </h4><br>  Offhand, you can come up with one way to make it relatively easy to create several coexisting tape collections, with separate sets of subscriptions, target files, and design. <br><br>  To do this, cron. * Instead of the above call is placed in the spirit of: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh WORKDIRS=/var/cache/rawdog CONFIGS=/etc/rawdog PLUGINS=/usr/share/rawdog/plugins LOGS=/var/log/rawdog for CFG in "$CONFIGS/"*.conf do WORKDIR="$WORKDIRS/"`basename "$CFG" .conf` [ -d "$WORKDIR" ] || mkdir -p "$WORKDIR" [ -f "$WORKDIR/config" ] || ln -s -f "$CFG" "$WORKDIR/config" if [ -d "$PLUGINS" ]; then [ -d "$WORKDIR/plugins" ] || ln -s -f "$PLUGINS" "$WORKDIR/plugins" fi rawdog --dir "$WORKDIR" --log "$LOGS/rawdog" --no-lock-wait --update --write done</span></span></code> </pre><br>  The principle of operation is simple: for each <i>* .conf</i> file in <i>/ etc / rawdog,</i> if necessary, a corresponding working subdirectory in <i>/ var / cache / rawdog</i> will be <i>created</i> , and a link to the configuration file itself will be placed in it.  There will also be placed (if absent) a link to a directory with common plugins. <br>  For more convenience, you can make general settings in a separate file ( <i>/ etc / rawdog / config</i> or <i>/ etc / default / rawdog</i> ), including it in the <i>* .conf</i> files using the <i>include</i> directive. <br><br><h4>  Plugin extensions </h4><br>  rawdog searches for Python scripts located in the plugins subdirectory in the rawdog working directory.  A number of ready-made plug-ins (in particular, multipage output and output in RSS format) can be <a href="http://offog.org/git/rawdog-plugins/">found</a> on the author‚Äôs website. </div><p>Source: <a href="https://habr.com/ru/post/240545/">https://habr.com/ru/post/240545/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240535/index.html">Recording the first lecture of the Android Course from MasterUp</a></li>
<li><a href="../240537/index.html">Smart Listing Generator, EnumGenerator</a></li>
<li><a href="../240539/index.html">Duo.js is a new generation of frontend package manager.</a></li>
<li><a href="../240541/index.html">PcDuino3 Nano, a serious competitor to the Raspberry Pi B +, for $ 39</a></li>
<li><a href="../240543/index.html">RESTful API for Android: pattern B</a></li>
<li><a href="../240549/index.html">Barcelona tried to seize the domain in the .email zone</a></li>
<li><a href="../240555/index.html">DigitalOcean launches metadata server</a></li>
<li><a href="../240557/index.html">Using the proxy pattern to organize caching in PHP</a></li>
<li><a href="../240559/index.html">Pricing model for SaaS: more money - more problems</a></li>
<li><a href="../240561/index.html">Methods in primitive types of PHP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>