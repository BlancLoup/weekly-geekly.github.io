<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>libscgi is an effective solution for simple and fast scripts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is often necessary to implement a simple easy solution that should work out pretty quickly. And with the use of technology AJAX it has become even ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>libscgi is an effective solution for simple and fast scripts</h1><div class="post__text post__text-html js-mediator-article">  It is often necessary to implement a simple easy solution that should work out pretty quickly.  And with the use of technology AJAX it has become even more relevant.  It can be an autocompet script, a specific search script, information output from the directory.  Previously used cgi scripts.  Under heavy loads, they were not very effective and the fcgi and scgi protocols were developed.  It should be noted that the performance of the scgi server is quite high (more than 1500 loops / sec) and memory takes only 600K. <br><br>  The <a href="http://en.wikipedia.org/wiki/Simple_Common_Gateway_Interface">Simple Common Gateway Interface</a> (SCGI) protocol is a protocol for application interaction with web (http) servers.  Most modern WEB servers (Apache / nginx / lighttpd) have built-in support for scgi.  Below is a brief description of the use of a simple library, which is a scgi server. <br><br>  <a href="https://github.com/akalend/libscgi">Sources here</a> . <br><a name="habracut"></a><br><h5>  Protocol Description. </h5><br>  The client connects to the SCGI server via a streaming protocol that allows the transmission of 8-bit bytes.  A request consists of several headers and a request body (POST DATA). The request data transfer format has the following pattern: <code>[len header]: \r\n <br> [header parm name] \0 [header parm value] \0 \r\n <br> [header parm name] \0 [header parm value] \0 \r\n <br> ... <br> ,\r\n <br> [POST DATA]</code> <code>[len header]: \r\n <br> [header parm name] \0 [header parm value] \0 \r\n <br> [header parm name] \0 [header parm value] \0 \r\n <br> ... <br> ,\r\n <br> [POST DATA]</code> <br> <ul><li>  len header - the length of the header data </li><li>  header parm name - header name (Header) </li><li>  header parm value - header value </li></ul><br>  The first header must have the name "CONTENT_LENGTH", and the length of the message body (in decimal representation) must be indicated in its value.  The "CONTENT_LENGTH" header should always be transmitted, even if its value is 0 (all GET requests).  Between the headers and the body of the request should be a comma and a newline.  The body (POST / PUT data) is sent for the headers and its length should be determined by the "CONTENT_LENGTH" header. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Nginx configuration <br></h5>  In the manual, an instruction should be attached to each WEB server on how to connect this or that module.  I set up my scgi server under nginx. <br>  Configuration example for a specific location, port 8080. <br> <code>location /dictionary { <br> scgi_pass localhost:8080; <br> include scgi_params; <br> }</code> <br> <h5>  Internal device scgi server and its use </h5><br>  The server is implemented on the basis of libevent.  Each used url (DOCUMENT_URI header) has its own handler. <br> <code>scgi.addHandler("/post", reinterpret_cast&lt;IScgiHandler *&gt;(new Handler1()));</code> <br> <br>  Each custom handler must be defined in the run () method of the inheritor of the IScgiHandler class. <br>  In this method, the parameters are passed: <br> <code>map&lt; string,string &gt; * parms -  , <br> char * buffUot -  . <br></code> <br>  All received POST data is stored in parms with the key "POST_DATA". <br>  Access to input parameters is simplified using the protected method: getParam (string parnName, map &lt;string, string&gt; * parms); <br><br>  Consider a sample handler code: <br><br><ol><li></li><li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> //    POST <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> //   WEB-client POST  <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> } <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#666666"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> //    WEB-client   QUERY_STRING <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> } <font color="#008000">}</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">class</font> Handler1 <font color="#008080">:</font> <font color="#0000ff">public</font> IScgiHandler <font color="#008000">{</font> <font color="#0000ff">void</font> run <font color="#008000">(</font> map <font color="#000080">&lt;</font> string,string <font color="#000080">&gt;</font> <font color="#000040">*</font> parms, <font color="#0000ff">char</font> <font color="#000040">*</font> buffUot <font color="#008000">)</font> <font color="#008000">{</font> string parm <font color="#000080">=</font> getParam <font color="#008000">(</font> <font color="#FF0000">"REQUEST_METHOD"</font> ,parms <font color="#008000">)</font> <font color="#008080">;</font> <font color="#666666">//    POST</font> <font color="#0000ff">if</font> <font color="#008000">(</font> parm <font color="#000080">==</font> <font color="#FF0000">"POST"</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#666666">//   WEB-client POST </font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"POST_DATA"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    WEB-client   QUERY_STRING</font> <font color="#0000dd">strcpy</font> <font color="#008000">(</font> buffUot, getParam <font color="#008000">(</font> <font color="#FF0000">"QUERY_STRING"</font> ,parms <font color="#008000">)</font> . <font color="#007788">c_str</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#008000">}</font> <font color="#008080">;</font></font></code> </li> <li></li><li></li></ol><br><br>  Starting the server is pretty simple: <br><ol><li></li><li> <code><font color="black"><font color="#666666">//  scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#666666"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> //    pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> } <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> } <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#666666"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> //     <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> } <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#666666"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> //    scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#666666">// </font> scgiServer scgi <font color="#008080">;</font> <font color="#666666">//   </font> pid_t pid <font color="#008080">;</font> <font color="#0000ff">if</font> <font color="#008000">(</font> <font color="#008000">(</font> pid <font color="#000080">=</font> scgi. <font color="#007788">demonize</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#000080">&lt;</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000ff">if</font> <font color="#008000">(</font> pid <font color="#000080">==</font> <font color="#000040">-</font> <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"demonize error <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//    </font> <font color="#0000ff">if</font> <font color="#008000">(</font> scgi. <font color="#007788">init</font> <font color="#008000">(</font> <font color="#FF0000">"127.0.0.1"</font> , <font color="#0000dd">8080</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">{</font> <font color="#0000dd">cerr</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"server stopped <font color="#000099"><b>\n</b></font> "</font> <font color="#008080">;</font> <font color="#0000ff">return</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <font color="#008000">}</font> <font color="#666666">//   </font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/post"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler1 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">addHandler</font> <font color="#008000">(</font> <font color="#FF0000">"/xxx"</font> , <font color="#0000ff">reinterpret_cast</font> <font color="#000080">&lt;</font> IScgiHandler <font color="#000040">*</font> <font color="#000080">&gt;</font> <font color="#008000">(</font> <font color="#0000dd">new</font> Handler2 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> scgi. <font color="#007788">run</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font></font></code> </li> <li></li></ol><br><br><h5>  Installation </h5><br>  The library is implemented as static. <br>  make lib - compile library <br>  make compile example file <br><br>  Compile your application: <br>  cp libscgi.a / usr / local / lib <br>  g ++ example.cpp -o scgi_server -Wall -g -L.  -L / usr / local / lib -levent -lscgi <br><br><h5>  Limitations: </h5><br>  The length of the POST data and the response should be no more than 2K.  This limitation can be changed by setting the corresponding value to the constant #define BUFFSIZE and rebuilding the library.  For my tasks, this is enough. <br>  The library is experimental, there are shortcomings and there may be shortcomings.  Constructive criticism is welcome.  All that is planned in TODO.  Those who wish to test and help the development are always happy. </div><p>Source: <a href="https://habr.com/ru/post/111587/">https://habr.com/ru/post/111587/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111579/index.html">Layers in Layar and Locago</a></li>
<li><a href="../111580/index.html">Overview and comparison of how to configure NAT on FreeBSD</a></li>
<li><a href="../111581/index.html">Convenient GPS monitoring</a></li>
<li><a href="../111583/index.html">Why you should not use the "send" button</a></li>
<li><a href="../111586/index.html">Transformation of the Vogue magazine into a home projector part 1 (careful traffic)</a></li>
<li><a href="../111588/index.html">Python-way. Bug work</a></li>
<li><a href="../111589/index.html">The use of evolutionary strategies to identify the parameters of fuzzy systems</a></li>
<li><a href="../111590/index.html">Patent from Amazon: Down with nasty gifts</a></li>
<li><a href="../111592/index.html">Overview of NDIS Specification Drivers</a></li>
<li><a href="../111593/index.html">New version of the robot LittleDog from DARPA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>