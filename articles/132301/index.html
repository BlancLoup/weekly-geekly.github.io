<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Another story of war with spam on the forum</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In continuation of the topic , I decided to share my experience in dealing with bots. 

 However, unlike the previous post, I decided to turn to third...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Another story of war with spam on the forum</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/f88adca3/5698118a/f0b6ba6c/49ba44fb.jpg"><br><br>  In continuation of the <a href="http://habrahabr.ru/blogs/php/131920/">topic</a> , I decided to share my experience in dealing with bots. <br><br>  However, unlike the previous post, I decided to turn to third-party services. <br><a name="habracut"></a><br>  <i>image google on request "spam" <a href="http://life.ice-age.ru/%3Fp%3D1968">here</a> .</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  How it all began </h4><br>  <i>At once I will make a reservation that it will be a question of a forum on the <a href="http://www.simplemachines.org/">smf</a> engine, but this is completely <a href="http://www.simplemachines.org/">unimportant</a> and fair for anyone.</i> <br><br>  So, once I started a small forum for myself and for the first couple of months everything was fine: there was a standard captcha, not a single bot, and I already started to believe that it will always be so.  At first <b>they</b> began to come one at a time, then more and more, and now, when there were 10-20 of them per day, I realized that it was time to change something. <br><br>  I went the standard way: I decided that the captcha is simple to disgrace and need some other.  I took the guglokapcha (reCAPTCHA), but this not only did not stop the bots, it seems to me that there are even more of them.  Then I went to read about different exotics and saw a lot of curious things: starting from control questions in a natural language and ending with the rotation of the picture at the right angle. <br><br>  However, there was a great desire to save the user from unnecessary work during registration.  I didn't even send a link to activate my account by mail.  The first solution I tried was <a href="http://www.stopforumspam.com/">StopForumSpam</a> . <br><br><h4>  Stop Forum Spam </h4><br>  A very pleasant service is the blacklist of ip addresses, emails and nicknames under which bots are registered.  In addition, almost all engines have ready-made plugins.  I also want to note that it does not require registration in order to gain access to the api (this is only about getting information, in order to commit spammers it is still necessary to register).  Information request is a usual get request, everything is very simple and clear. <br><br>  Immediately the joy came, as the bots disappeared overnight.  The problems were: first, literally a couple of weeks after I started using, the service went offline for a few days (stating that moving to another hardware), therefore, later, I made a copy of their base for myself, updating several times a day.  And, secondly, bots 3-5 per week bots still made their way. <br><br>  One could not care, in the end not so much.  But interest appeared and I google similar services. <br><br><h4>  Project Honey Pot </h4><br>  The next victim was the <a href="http://www.projecthoneypot.org/">Project Honey Pot</a> .  A rather old project, dreary registration, dreary installation, dreary setting and dreary requests.  Maybe I just did not try. <br><br>  Requests resemble RBL to combat email spam: a particular type of dns request.  In response comes the type and level of threat. <br><br>  Moreover, the ready plugin for smf for some reason refused to work.  But I wanted to finish it, so I added a small piece, which in parallel with stopforumspam made a request and wrote down the results in the database. <br><br>  I will give general statistics at the end, but now I will say that about a third of spammers are missing. <br><br><h4>  Akismet </h4><br>  Initially, <a href="http://akismet.com/">akismet was</a> developed as a WordPress plugin and, starting from version 2, is included by default in it.  Also wants registration and <b>paid</b> for commercial use.  Fortunately, not my case. <br><br>  Requests - post a certain type. <br><br>  Although I did not find the finished plug-in, there are a lot of examples and libraries, so I added it to existing ones without any problems. <br><br><h4>  Statistics </h4><br>  Although I started writing results to the database not so long ago, there is already something. <br><br>  Total number of registration requests: <b>2624</b> <br><br>  Of these, real people: <b>75</b> <br><br>  Spammers: <b>2549</b> <br><br>  According to: <br><br>  StopForumSpam: 98/2526 <br><br>  ProjectHoneyPot: 1067/1557 <br><br>  Akismet: <b>140/2484</b> <br><br><h4>  Instead of conclusion </h4><br>  Now the decision is made according to the results of StopForumSpam and Akismet, when registering the delay in requests is not noticeable.  I think that there will be problems with timeouts in the event that services are unavailable, I have already entered into the TODO list, but so far there have been no such problems. <br><br>  After the inclusion of such a scheme, not a single bot was allowed to go to the forum, in case of refusal, the bot shows mail to which you can complain, so far I have not received a single letter. <br><br>  And I turned off the captcha ... </div><p>Source: <a href="https://habr.com/ru/post/132301/">https://habr.com/ru/post/132301/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132292/index.html">Super Bees: serious business</a></li>
<li><a href="../132293/index.html">Benefits and compensations or drying and buns</a></li>
<li><a href="../132295/index.html">"Heart" of an electronic device based on Silicon Labs C8051F320</a></li>
<li><a href="../132296/index.html">Dmitry Medvedev signed up VKontakte</a></li>
<li><a href="../132297/index.html">Win a ticket to participate in the INTERNET LIFE 2011 conference</a></li>
<li><a href="../132302/index.html">LAMP + Nginx on VPS is stable and without any extra headache</a></li>
<li><a href="../132306/index.html">Seven reasons why your colleagues do not trust you</a></li>
<li><a href="../132307/index.html">Russian rock in the Android Market</a></li>
<li><a href="../132308/index.html">Implementing the DEEP IDLE power saving mode in the Linux kernel</a></li>
<li><a href="../132309/index.html">TELESAR V - robot for telebeeting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>