<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Console to the masses. Go to the bright side. Part one</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Hello! This series of articles is a text version of my report on WSD in Kiev on November 26 . I decided to write to give a more detaile...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Console to the masses. Go to the bright side. Part one</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/921/24b/f20/92124bf201f54cd2b00fb1e93ff547d1.jpg"><br><br><h2>  Introduction </h2><br>  Hello!  This series of articles is a text version of my report on <a href="https://wsd.events/2016/11/26/">WSD in Kiev on November 26</a> .  I decided to write to give a more detailed description of the topics that were covered, and to clarify some points.  In addition, there is an opportunity to consider more examples, to hear opinions from you, dear reader.  And, of course, share information with a wider audience. <br><a name="habracut"></a><br><h3>  <s>Escape</s> plan </h3><br><ol><li>  Terminal managers.  Part one </li><li>  <a href="https://habrahabr.ru/post/318376/">Terminal managers.</a>  <a href="https://habrahabr.ru/post/318376/">Part two</a> </li><li>  <a href="https://habrahabr.ru/post/319670/">Bash scripts</a> </li><li>  <a href="https://habrahabr.ru/post/321928/">Automate routine tasks</a> </li></ol><br>  <b>An important point.</b>  It is assumed that the reader already has experience with the terminal on * nix OS.  The examples use many utilities, such as <code>grep, find, xargs, echo, sed</code> , and others.  I will not dwell on these utilities in detail.  Also there is no task to consider everything and everyone. <br><br>  We have a big team and I often see how people perform the same task in different ways.  This also applies to work in the terminal.  Meet is IE6. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/13b/15c/79c/13b15c79c23f40c89f39ee4dca0bc588.gif"><br><br>  Imagine the situation that your favorite browser does not know how to work with tabs.  Moreover, when it closes at the most inappropriate moment, you cannot restore the session and continue working. <br><br>  And this is how the majority of users imagine the terminal.  Black screen, white characters. <br><br><img src="https://habrastorage.org/files/a1f/568/ed6/a1f568ed6fab42d392529f1ec4b22ab2.jpg"><br><br>  Now imagine that your favorite browser added the ability to work in the terminal.  In it, you can execute <code>git, npm, node</code> and many other commands.  Sounds like something unreal from the future.  And no. <br><br> <a href="https://umaar.com/dev-tips/122-devtools-terminal/"><img src="https://habrastorage.org/files/c68/9bc/257/c689bc25701248e6b76f9c76b8152103.gif"></a> <br><br>  And in this series of articles I want to show that the terminal can be convenient and multifunctional, only you need to know how to prepare all this. <br><br>  And so, let's get started.  What topics will we look at?  Consider terminal managers.  Then bash scripts.  And the last thing is how to automate the routine using bash scripts. <br><br><h3>  Repository </h3><br>  For convenience, I created a github <a href="https://github.com/var-bin/terminalForCoder__WSD">repository</a> with all the examples and topics that we will look at throughout the series of articles.  So you can download and practice. <br><br><h3>  Slides </h3><br>  Available from this <a href="http://var-bin.com/terminalForCoder__WSD-2016/shower/">link</a> .  The presentation is made on the <a href="https://github.com/shower/shower">shower</a> engine. <br><br><h3>  Where does it all work </h3><br>  This all works on <a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/">Windows 10 stable</a> , Mac OS X, <a href="https://www.ubuntu.com/download/desktop">Ubuntu</a> .  Ubuntu preference.  All the examples I will show in Ubuntu.  There is also a cool terminal emulator - this is <a href="https://conemu.github.io/">ConEmu</a> .  True, it will not work to try the terminal managers. <br><br><h2>  Terminal managers.  Part one.  Screen </h2><br>  Let's start with the screen.  I met him completely by accident.  A colleague helped me in solving one problem.  And he saw that I did not use the terminal manager.  Then he said: ‚ÄúHmm, let's fix this.‚Äù I installed the screen, helped me set up and showed a couple of basic keyboard shortcuts. <br><br><h3>  Installation </h3><br>  To install screen, just run the first command.  After that, you can start it by typing the screen command in the terminal. <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/68c11f19d94cd7f067b9e2562af35030.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-6a0c0e7fc2e433191d469ef5051df9f8.css"><div id="gist42434052" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-install-screen" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-text ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-install-screen-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-install-screen-LC1" class="blob-code blob-code-inner js-file-line">sudo apt-get install screen</td>
      </tr>
      <tr>
        <td id="file-install-screen-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-install-screen-LC2" class="blob-code blob-code-inner js-file-line">screen</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">install screen</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h3>  Basic shortcut keys </h3><br>  Why I did not display the entire list in the article, but added a <a href="">link</a> ?!  It's simple.  First, they are in the manual ( <code>man screen</code> ).  Secondly, they do not need to learn, memorize, or something else there, just need to start using. <br><br><h3>  Settings </h3><br>  By default, the screen is not very conveniently configured.  It does not even have a status bar.  Displays a message about the license and some other inconveniences.  All this can be corrected using the configuration file.  You need to place it in the user's home directory. <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/27cd0ae29c84ff1e8a43252a1e89a55a.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-6a0c0e7fc2e433191d469ef5051df9f8.css"><div id="gist42578029" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-screenrc" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-text ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-screenrc-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-screenrc-LC1" class="blob-code blob-code-inner js-file-line"># Select whether you want to see the copyright</td>
      </tr>
      <tr>
        <td id="file-screenrc-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-screenrc-LC2" class="blob-code blob-code-inner js-file-line"># notice during startup.</td>
      </tr>
      <tr>
        <td id="file-screenrc-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-screenrc-LC3" class="blob-code blob-code-inner js-file-line"># Default is ‚Äòon‚Äô, as you probably noticed.</td>
      </tr>
      <tr>
        <td id="file-screenrc-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-screenrc-LC4" class="blob-code blob-code-inner js-file-line">startup_message off</td>
      </tr>
      <tr>
        <td id="file-screenrc-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-screenrc-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-screenrc-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-screenrc-LC6" class="blob-code blob-code-inner js-file-line">#change the hardstatus settings to give an window list at the bottom of the</td>
      </tr>
      <tr>
        <td id="file-screenrc-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-screenrc-LC7" class="blob-code blob-code-inner js-file-line">#screen, with the time and date and with the current window highlighted</td>
      </tr>
      <tr>
        <td id="file-screenrc-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-screenrc-LC8" class="blob-code blob-code-inner js-file-line">hardstatus alwayslastline</td>
      </tr>
      <tr>
        <td id="file-screenrc-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-screenrc-LC9" class="blob-code blob-code-inner js-file-line">hardstatus string '%{= mK}%-Lw%{= KW}%50&gt;%n%f* %t%{= mK}%+Lw%&lt; %{= kG}%-=%D %d %M %Y %c:%s%{-}'</td>
      </tr>
      <tr>
        <td id="file-screenrc-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-screenrc-LC10" class="blob-code blob-code-inner js-file-line">hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'</td>
      </tr>
      <tr>
        <td id="file-screenrc-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-screenrc-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-screenrc-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-screenrc-LC12" class="blob-code blob-code-inner js-file-line">defscrollback 10240</td>
      </tr>
      <tr>
        <td id="file-screenrc-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-screenrc-LC13" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-screenrc-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-screenrc-LC14" class="blob-code blob-code-inner js-file-line">termcapinfo xterm ti@:te@</td>
      </tr>
      <tr>
        <td id="file-screenrc-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-screenrc-LC15" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-screenrc-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-screenrc-LC16" class="blob-code blob-code-inner js-file-line">chdir startup_message off vbell off caption always "%{= bb}%{+b w}%n %h %=%t %c" hardstatus alwayslastline "%-Lw%{= BW}%50&gt;%n%f* %t%{-}%+Lw%&lt;"</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">.screenrc</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h3>  screen in </h3><br>  Let's look at the screen at work.  How to run it, we already know.  Enough to type screen.  Before this, do not forget to place the settings file in the user's home directory. <br><br><img src="https://habrastorage.org/files/2e3/009/02c/2e300902c402430099205f9a7e314ce8.jpg"><br><br><ol><li>  Workspace.  Layout. </li><li>  Status bar.  It contains tabs and other elements. </li><li>  Tab with the default name. </li></ol><br>  We looked at the initial state of the screen.  Let's now take it on the example of a more complex task. <br><br><img src="https://habrastorage.org/files/052/5d2/a19/0525d2a19c884412af7e8eae93c52795.jpg"><br><br>  For this we need a repository, which I mentioned above.  Let's clone it to your computer: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/var-bin/terminalForCoder__WSD.git</code> </pre> <br>  Next, run the screen.  We will need 2 - 3 tabs.  To create a new tab, you need to press the following keyboard shortcuts: <br><br><pre> <code class="bash hljs">Ctrl + a, c -   </code> </pre> <br>  The next step is to rename the tabs.  To do this, use: <br><br><pre> <code class="bash hljs">Ctrl + a, A -  </code> </pre> <br>  To switch between tabs, use these keys: <br><br><pre> <code class="bash hljs">Ctrl + a, int -     (int -   0 - 9)</code> </pre> <br>  Or <br><br><pre> <code class="bash hljs">Ctrl + a, <span class="hljs-string"><span class="hljs-string">" -   </span></span></code> </pre> <br>  Tabbed a little practice.  Now let's break our current region into two independent regions.  This is done using the keyboard shortcut: <br><br><pre> <code class="bash hljs">Ctrl + a, | -        </code> </pre> <br>  To be able to work in the second region, you need to go there and activate it explicitly.  This can be done using: <br><br><pre> <code class="bash hljs">Ctrl + a, Tab -      Ctrl + a, c -   </code> </pre><br>  Now let's run in the region to the left, for example, the <a href="https://www.midnight-commander.org/">midnight commander</a> (any other utility) with the command: <br><br><pre> <code class="bash hljs">mc</code> </pre> <br>  And in the region to the right, run our test application.  This is a simple chat written in <a href="https://nodejs.org/">node.js</a> and <a href="http://socket.io/">socket.io</a> .  This example is taken from the official site of socket.io.  The only thing I added is a bit of logging so that we can see that it works.  To do this, go to the directory <code>%repoName%/screen/chat-example</code> .  And execute commands: <br><br><pre> <code class="bash hljs">npm i node index.js</code> </pre><br>  <code>%repoName%</code> - the name of the directory in which it was replicated. <br><br>  If all is well, then you should see the line on the screen: <br><br><pre> <code class="bash hljs">listening on localhost:3000</code> </pre> <br>  After that launch the browser and in the new tab go to <code>localhost:3000</code> .  Type any message in the input line and press <code>Enter</code> .  As you can see, everything works and you see this message also in the terminal.  In the region where the <code>node index.js</code> command was <code>node index.js</code> . <br><br><img src="https://habrastorage.org/files/449/821/c95/449821c952784b96882398f1df08be79.jpg"><br><br>  And now, the most interesting.  Let's simulate a communication break.  Close the terminal through the cross.  But do not close the browser.  And try to send some more messages.  As you can see, everything continues to work.  This is despite the fact that we have just closed the terminal. <br><br><img src="https://habrastorage.org/files/e84/e18/cc4/e84e18cc493f4b4caa7e963797642f1d.jpg"><br><br>  This suggests that screen saved the session and all processes that were running.  Let's connect back to this session.  Start the terminal and execute the command: <br><br><pre> <code class="bash hljs">screen -r</code> </pre> <br><img src="https://habrastorage.org/files/4de/878/82c/4de87882cd994b1f9ccf2b5ef7b3cfdb.jpg"><br><br>  As you can see, the layout we created earlier did not survive.  This is a pretty unpleasant surprise.  In the settings of screen there are commands that allow you to configure the preservation of the previously created layout.  But how much I have not tried, I did not start.  And this is a situation when we have two or three tabs.  And imagine a picture when we have six to ten tabs.  Layout is divided into regions both vertically and horizontally.  And at the most inopportune moment, we have a communication break.  The only advantage is that all running processes will be saved. <br><br>  I worked for a long time without terminal managers for one simple reason.  I did not know about them!  I thought it was normal to open several putty windows (windows + connection to a remote server) and switch between them using the <code>Alt + Tab</code> shortcut.  And somehow try to work in all this chaos. <br><br>  Now about the bad.  screen cannot create layout for each tab.  Also, the screen does not know how to preserve layout, if the connection is broken or something else is there.  Before version 4.1, I could not do a vertical breakdown (for me this is critical).  When you create a new region, you need to separately create a new window ( <code>Ctrl+a, c</code> ), make a transition to the desired directory, etc.  To remove a region, you also need to suffer <code>Ctrl+a :remove</code> .  For me, the screen was like a breath of fresh air in the middle of the metropolis.  But in order to customize it ‚Äúfor yourself‚Äù, you need to spend a lot of time.  And some Wishlist never managed to sip because of the limited implementation of the screen. <br><br>  Let's summarize.  We reviewed one of the popular terminal managers, namely screen.  We also looked at how to install and configure it.  For example, consider the screen in the work.  Once again I want to remind you: if you need to see what keyboard shortcuts are responsible for what, what settings you can still set for the screen, which options can be passed as arguments to the screen, and much more, then run the command: <br><br><pre> <code class="bash hljs">man screen</code> </pre> <br>  Looking a little ahead, in the next article we will look at a more advanced terminal manager, namely tmux.  Also compare screen and tmux. <br><br>  That's all.  Thanks for attention.  Who read to the end a special thank you.  See you in the next article. </div><p>Source: <a href="https://habr.com/ru/post/317534/">https://habr.com/ru/post/317534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../317522/index.html">Clip from Raccoon.world, as a controller for VR / AR</a></li>
<li><a href="../317524/index.html">Fast full text search in Redmine</a></li>
<li><a href="../317526/index.html">A person. John Backus - creator of the first high-level programming language</a></li>
<li><a href="../317528/index.html">Adaptive menu without javascript</a></li>
<li><a href="../317532/index.html">Early access to Google Play. What's inside?</a></li>
<li><a href="../317536/index.html">Analysis of the report of Ruslan Cheryomin with JPoint 2016</a></li>
<li><a href="../317538/index.html">How to accidentally enter the top 15 IT projects for business</a></li>
<li><a href="../317544/index.html">How well to submit the results of qualitative research: the method of thematic networks (+ analysis of ATS as an example)</a></li>
<li><a href="../317546/index.html">Check-list for the preparation of high-quality presentation</a></li>
<li><a href="../317548/index.html">Wi-Fi on Linux will be faster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>