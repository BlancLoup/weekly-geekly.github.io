<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Release Rust 1.19</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Rust team is pleased to present the release of Rust 1.19. Rust is a system programming language aimed at speed, security, and parallel code execut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Release Rust 1.19</h1><div class="post__text post__text-html js-mediator-article"><p>  The Rust team is pleased to present the release of Rust 1.19.  Rust is a system programming language aimed at speed, security, and parallel code execution. </p><br><p>  If you have a previous version of Rust installed, just update it with: </p><br><pre><code class="bash hljs">$ rustup update stable</code> </pre> <br><p>  If Rust is not yet installed, you can <a href="https://www.rust-lang.org/install.html"><code> rustup</code></a> from the corresponding page of our website and read the <a href="">detailed release notes for Rust 1.19</a> on GitHub. </p><a name="habracut"></a><br><h3 id="chto-voshlo-v-stabilnuyu-versiyu-1190">  What is included in the stable version 1.19.0 </h3><br><p>  Rust 1.19.0 includes some long-awaited features, but for starters, a note for Windows users.  On this OS, Rust uses to build <code>link.exe</code> , which is included in the "Microsoft Visual C ++ Build Tools".  In the latest release of Visual Studio 2017, the directory structure for these tools has changed.  Because of this, you were forced to use the tools of version 2015 or change the environment variables (for example, by running <code>vcvars.bat</code> ).  In Rust 1.19.0, <code>rustc</code> knows how to find the tools of version 2017, so you no longer need to use workarounds. </p><br><p>  And now to the new features!  Rust 1.19.0 is the first release to support the <a href="https://github.com/rust-lang/rust/pull/42068"><code>union</code></a> : </p><br><pre> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">union</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyUnion</span></span></span></span> { f1: <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>, f2: <span class="hljs-built_in"><span class="hljs-built_in">f32</span></span>, }</code> </pre> <br><p>  Associations are similar to <code>enum</code> ( <code></code> ), but they do not have "tags" unlike the latter.  The "label" in <code>enum</code> allows you to find out at runtime which of the listed options is stored in a variable. </p><br><p>  Since we can misinterpret the data stored in the union, and Rust cannot verify it for us, reading and writing the fields of the associations are unsafe: </p><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> u = MyUnion { f1: <span class="hljs-number"><span class="hljs-number">1</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">unsafe</span></span> { u.f1 = <span class="hljs-number"><span class="hljs-number">5</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">unsafe</span></span> { u.f1 };</code> </pre> <br><p>  Pattern matching also works: </p><br><pre> <code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span></span>(u: MyUnion) { <span class="hljs-keyword"><span class="hljs-keyword">unsafe</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> u { MyUnion { f1: <span class="hljs-number"><span class="hljs-number">10</span></span> } =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">println!</span></span>(<span class="hljs-string"><span class="hljs-string">""</span></span>); } MyUnion { f2 } =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">println!</span></span>(<span class="hljs-string"><span class="hljs-string">"{}"</span></span>, f2); } } } }</code> </pre> <br><p>  When are joins useful?  The main area of ‚Äã‚Äãapplication is that interaction with C. C APIs can (and often do) provide unions, so writing wrappers for the API is much simpler.  Also, from <a href="">this RFC</a> : </p><br><blockquote>  The built-in language support for unions also makes it possible to simplify the implementation of memory-efficient or cache-based structures based on the representation of values, such as computer-sized unions, using the lower bits of aligned pointers. </blockquote><p>  This possibility has been expected for a long time, and there are many more things that should be improved.  At the moment, associations can only include types that implement <code>Copy</code> , and cannot implement <code>Drop</code> .  We hope to remove these restrictions in the future. </p><br><blockquote>  By the way, have you ever wondered how new features are added to Rust?  Associations were proposed by Josh Triplett, and he <a href="https://youtu.be/U8Gl3RTXf88%3Flist%3DPLE7tQUdRKcybLShxegjn0xyTTDJeYwEkI">spoke at RustConf 2016</a> , talking about the integration process.  You should take a look at this! </blockquote><p>  To other news, <a href="https://github.com/rust-lang/rust/pull/42016"><code>loop</code> can now return values ‚Äã‚Äãvia <code>break</code></a> : </p><br><pre> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">//   let x; loop { x = 7; break; } //   let x = loop { break 7; };</span></span></code> </pre> <br><p>  Rust has traditionally positioned itself as an "expression-oriented language", most syntax constructs return values, and are not statements.  <code>loop</code> stood out somewhat from this series, not returning a value. </p><br><p>  What about the other cycles?  It's not clear yet, see the discussion in <a href="">this RFC</a> . </p><br><p>  A small improvement: closures that do not capture the environment <a href="https://github.com/rust-lang/rust/pull/42162">can now be brought to the function pointer</a> : </p><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> f: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span></span>(<span class="hljs-built_in"><span class="hljs-built_in">i32</span></span>) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">i32</span></span> = |x| x + <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre> <br><p>  Now we provide <a href="https://github.com/rust-lang/rust-installer/pull/57"><code>  xz</code></a> and use them by default, which allows us to speed up the transfer of data.  Compression with <code>gzip</code> is still available, in case you cannot use <code>xz</code> for any reason. </p><br><p>  The compiler can now <a href="https://github.com/rust-lang/rust/pull/41370">run on Android</a> .  For a long time, we strongly supported the development on Android, and our support continues to improve. </p><br><p>  In conclusion, about compatibility.  Earlier, when we moved to Rust 1.0, we did a lot of work to make sure that everything was marked as ‚Äústable‚Äù and ‚Äúnot stable‚Äù.  However, we looked at one thing: <code>-Z</code> flags.  <code>-Z</code> compiler flag includes unstable flags.  Unlike everything else, you can use <code>-Z</code> with stable Rust.  In April 2016, in Rust 1.8, we added a warning when using <code>-Z</code> with the stable and beta versions of Rust.  More than a year later, we fixed this hole in our history of stability by <a href="https://github.com/rust-lang/rust/pull/41751"><code> -Z</code> everywhere except for the compiler‚Äôs nightly builds</a> . </p><br><p>  See the <a href="">detailed release notes</a> for details. </p><br><h4 id="stabilizaciya-standartnoy-biblioteki">  Standard Library Stabilization </h4><br><p>  The biggest changes in the standard library are <a href="https://github.com/rust-lang/rust/pull/41192"><code> eprint!</code></a>  <a href="https://github.com/rust-lang/rust/pull/41192">and <code>eprintln!</code></a>  .  They work just like <code>print!</code>  and <code>println!</code>  but write to standard error output, not to standard output. </p><br><p>  Other changes: </p><br><ul><li>  <a href="https://github.com/rust-lang/rust/pull/41449"><code>String</code> now implements <code>FromIterator&lt;Cow&lt;'a, str&gt;&gt;</code> and</a> <a href="https://github.com/rust-lang/rust/pull/41449"><br> <code>Extend&lt;Cow&lt;'a, str&gt;&gt;</code></a> </li> <li>  <a href="https://github.com/rust-lang/rust/pull/41530"><code>Vec</code> now implements <code>From&lt;&amp;mut [T]&gt;</code></a> </li><li>  <a href="https://github.com/rust-lang/rust/pull/41258"><code>Box&lt;[u8]&gt;</code> now implements <code>From&lt;Box&lt;str&gt;&gt;</code></a> </li><li>  <a href="https://github.com/rust-lang/rust/pull/41659"><code>SplitWhitespace</code> now implements <code>Clone</code></a> </li><li>  <a href="https://github.com/rust-lang/rust/pull/41764"><code>[u8]::reverse</code> now 5 times faster and <code>[u16]::reverse</code> now 1.5 times faster</a> </li></ul><br><p>  And some stabilized APIs: </p><br><ul><li> <a href="https://doc.rust-lang.org/std/ffi/struct.OsString.html"><code>OsString::shrink_to_fit</code></a> </li> <li> <a href="https://doc.rust-lang.org/std/cmp/struct.Reverse.html"><code>cmp::Reverse</code></a> </li> <li> <a href="https://doc.rust-lang.org/std/process/struct.Command.html"><code>Command::envs</code></a> </li> <li> <a href="https://doc.rust-lang.org/std/thread/struct.ThreadId.html"><code>thread::ThreadId</code></a> </li> </ul><br><p>  See the <a href="">detailed release notes</a> for details. </p><br><h4 id="uluchsheniya-cargo">  Cargo Improvements </h4><br><p>  In this release, a small but important improvement has been added to Cargo.  The largest of them: <a href="https://github.com/rust-lang/cargo/pull/4026">Cargo now works directly with git-objects</a> .  This reduces the size of the registry and speeds up cloning, especially on Windows. </p><br><p>  Other improvements: </p><br><ul><li> <a href="https://github.com/rust-lang/cargo/pull/3929"><code>         <br>   (crate). <br> : println!("cargo:rustc-env=FOO=bar");</code></a> </li> <li>  <a href="https://github.com/rust-lang/cargo/pull/3979">Workspace.members now accepts search patterns.</a> </li><li>  <a href="https://github.com/rust-lang/cargo/pull/3988"><code>  --all</code> for the <code>cargo bench</code> subcommand to run tests</a> <a href="https://github.com/rust-lang/cargo/pull/3988"><br></a>  <a href="https://github.com/rust-lang/cargo/pull/3988">performance for all containers in the workspace.</a> </li><li>  <a href="https://github.com/rust-lang/cargo/pull/4031"><code>  --exclude</code> to exclude some containers when using</a> <a href="https://github.com/rust-lang/cargo/pull/4031"><br></a>  <a href="https://github.com/rust-lang/cargo/pull/4031">options <code>--all</code> .</a> </li><li>  <a href="https://github.com/rust-lang/cargo/pull/4084"><code> --features</code> now accepts multiple values, separated by a comma or</a> <a href="https://github.com/rust-lang/cargo/pull/4084"><br></a>  <a href="https://github.com/rust-lang/cargo/pull/4084">spacebar</a> </li><li>  <a href="https://github.com/rust-lang/cargo/pull/3954">Added the ability to customize the way to run executable files when</a> <a href="https://github.com/rust-lang/cargo/pull/3954"><br></a>  <a href="https://github.com/rust-lang/cargo/pull/3954">cross compilation</a> </li></ul><br><p>  See the <a href="">detailed release notes</a> for details. </p><br><h3 id="razrabotchiki-1190">  Developers 1.19.0 </h3><br><p>  A lot of people participated in the development of Rust 1.19.  We could not achieve this without the participation of each of you.  <a href="">Thank!</a> </p><br><p>  <em>From translator</em> <br>  <em>Thanks to <a href="https://habrahabr.ru/users/ozkriff/" class="user_link">ozkriff</a> and <a href="https://habrahabr.ru/users/gordon-f/" class="user_link">gordon-f</a> for help in translating</em> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/334068/">https://habr.com/ru/post/334068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334056/index.html">Dismissal is a little death. How to save a valuable specialist who decided to quit?</a></li>
<li><a href="../334058/index.html">The power of minimalism in UX design</a></li>
<li><a href="../334060/index.html">The easiest keylogger and security in KeePass</a></li>
<li><a href="../334064/index.html">The book "Front-end. Customer development for professionals. Node.js, ES6, REST ¬ª</a></li>
<li><a href="../334066/index.html">10 years of the School of data analysis Yandex</a></li>
<li><a href="../334070/index.html">CRM will not save: what to do when the business has outgrown the "box"</a></li>
<li><a href="../334076/index.html">CASL. Authorization for JavaScript applications</a></li>
<li><a href="../334078/index.html">Singletons and Shared Instances</a></li>
<li><a href="../334080/index.html">How I cooked CLion</a></li>
<li><a href="../334082/index.html">Advantages of automation: how technology corrects mistakes of store employees</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>