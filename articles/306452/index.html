<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Keep data under control</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's no secret that user data can not be trusted. Therefore, one day a person came up with data validation. Well, I, for the sake of interest and bene...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Keep data under control</h1><div class="post__text post__text-html js-mediator-article">  It's no secret that user data can not be trusted.  Therefore, one day a person came up with data validation.  Well, I, for the sake of interest and benefit for, wrote my own implementation of the validator in PHP. <br><a name="habracut"></a><br>  <a href="https://github.com/franzose/kontrolio">Kontrolio</a> is a ‚Äúregular data validation library‚Äù, designed independently of frameworks, expandable and container-friendly services.  Alternatives: <a href="https://github.com/Respect/Validation">Respect</a> , <a href="https://github.com/siriusphp/validation">Sirius Validation</a> , <a href="https://github.com/vlucas/valitron">Valitron</a> and <a href="https://github.com/search%3Fl%3DPHP%26%26q%3Dvalidation">many others</a> . <br><br>  Ideally, it is assumed that you are using some kind of service container implementation (for example, <a href="https://github.com/PHP-DI/PHP-DI">PHP-DI</a> , <a href="https://github.com/thephpleague/container">PHP League Container</a> , etc.), so first you need to register Kontrolio in it: <br><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Kontrolio</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  $container-&gt;singleton('validation', function() { return new Factory; }); //  $validator = $container-&gt;get('validation') -&gt;make($data, $rules, $messages) -&gt;validate();</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In situations where it is difficult to embed a container in a project, you can use the good old <i>(actually not)</i> singleton: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Kontrolio</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>; $validator = Factory::getInstance() -&gt;make($data, $rules, $messages) -&gt;validate();</code> </pre><br><br>  You may notice that the validation process is similar to Laravel.  Indeed, I liked the way it was implemented there, so I decided to use a similar solution.  <b>$ data</b> , <b>$ rules</b> and <b>$ messages</b> are associative arrays, where <b>$ data</b> is just an array of key-value pairs (maybe multidimensional), in which the key is the name of the attribute that needs to be validated.  The most interesting is in the validation rules and error messages. <br><br><h2>  Validation Rules and Error Messages </h2><br>  A validation rule in Kontrolio can be represented by an object of a rule class or a closure.  Closures are the easiest way to describe a validation rule: <br><br><pre> <code class="php hljs">$rules = [ <span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $value === <span class="hljs-string"><span class="hljs-string">'foo'</span></span>; } ]; $valid = $validator -&gt;make([<span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'bar'</span></span>], $rules) -&gt;validate(); var_dump($valid); <span class="hljs-comment"><span class="hljs-comment">// false</span></span></code> </pre><br><br>  The closure rules, when processed by the validator, are wrapped in an object of the <a href="https://github.com/franzose/kontrolio/blob/master/src/Rules/CallableRuleWrapper.php">Kontrolio \ Rules \ CallbackRuleWrapper</a> class, so they have all the same options as the rule classes, and you can write a closure in this form: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'valid'</span></span> =&gt; $value === <span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value_is_foo_rule'</span></span>, <span class="hljs-string"><span class="hljs-string">'empty_allowed'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'skip'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-string"><span class="hljs-string">'violations'</span></span> =&gt; [] ]; }</code> </pre><br><br>  Closures are convenient for simple rules that are not intended to be reusable.  But if you plan to use the rule in different places, then it is better to write a separate rule class and then create its object: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Kontrolio</span></span>\<span class="hljs-title"><span class="hljs-title">Rules</span></span>\<span class="hljs-title"><span class="hljs-title">AbstractRule</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooRule</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractRule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isValid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($input = null)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $input === <span class="hljs-string"><span class="hljs-string">'foo'</span></span>; } } $rules = [<span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FooRule];</code> </pre><br>  <i>Note: Kontrolio comes with many out-of-box rules.</i> <br><br><h2>  Validation Rules Options </h2><br>  In the rule entry in the form of closures, you notice several options that any rule supports.  A little about each option below. <br><br>  <b>valid.</b>  This is a direct condition.  The equivalent for the rule class is the <b>isValid</b> method, which accepts one argument, the attribute value being validated.  To make it clearer, I will show how you can set a validation rule for a certain attribute: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   ,      . 'attribute' =&gt; function($value) { return $value === 'foo'; } //     ,      , //          'valid', //    . 'attribute' =&gt; function($value) { return [ 'valid' =&gt; $value === 'foo' //  ... ]; } //            //    isValid,    . use Kontrolio\Rules\AbstractRule; class FooRule extends AbstractRule { public function isValid($input = null) { return $input === 'foo'; } }</span></span></code> </pre><br><br>  These are the easiest ways to set an attribute rule. <br><br>  <b>name.</b>  This is the name or identifier of the rule.  Mainly used to generate validation error messages: <br><br><pre> <code class="php hljs">$data = [<span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'invalid'</span></span>]; $rules = [<span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Email]; $messages = [<span class="hljs-string"><span class="hljs-string">'attribute.email'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'The attribute must be an email'</span></span>]; $validator = $container-&gt;get(<span class="hljs-string"><span class="hljs-string">'validation'</span></span>) -&gt;make($data, $rules, $messages); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($validator-&gt;validate()) { <span class="hljs-comment"><span class="hljs-comment">// } else { $messages = $validator-&gt;getErrors(); }</span></span></code> </pre><br><br>  If you create a rule based on a class, you do not need to set the name / identifier of the rule manually, because by inheriting from Kontrolio \ Rules \ AbstractRule you get this default functionality in the <b>getName</b> method.  However, you can freely change the name of the rule simply by overriding this method. <br><br>  <b>empty_allowed.</b>  This option is useful in situations where you need to apply a validation rule only if the attribute value is present.  With closures, it looks like this: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'valid'</span></span> =&gt; $value === <span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'empty_allowed'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> ]; }</code> </pre><br><br>  Using the class-rule with this option, you can apply it to an attribute in two ways: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   'attribute' =&gt; FooRule::allowingEmptyValue() //      'attribute' =&gt; (new FooRule)-&gt;allowEmptyValue()</span></span></code> </pre><br><br>  In this case, the validator will respond positively if the value of the attribute is 'foo' or it is empty. <br><br>  <b>skip.</b>  This option is not similar to the previous one.  It allows you to specify a condition that tells the validator to skip checking the attribute as if this rule did not exist at all. <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'confirmed'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'valid'</span></span> =&gt; (bool)$value === <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'skip'</span></span> =&gt; is_admin() ]; }</code> </pre><br><br>  The equivalent for a class rule is the <b>canSkipValidation</b> method, and it works in exactly the same way: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooRule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isValid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($input = null)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (bool)$value === <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">canSkipValidation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> is_admin(); } } $rules = [<span class="hljs-string"><span class="hljs-string">'confirmed'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FooRule];</code> </pre><br><br>  <b>violations.</b>  I kindly borrowed this term from symfony.  With the use of "violations", the user can get a more accurate error message (which you need to specify), although the validator itself, just as before, will simply return false: <br><br><pre> <code class="php hljs">$data = <span class="hljs-string"><span class="hljs-string">'nonsense'</span></span>; $rules = [<span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Email(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)]; $messages = [ <span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'email'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"Something's wrong with your email."</span></span>, <span class="hljs-string"><span class="hljs-string">'email.mx'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'MX record is wrong.'</span></span>, <span class="hljs-string"><span class="hljs-string">'email.host'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Unknown email host.'</span></span> ] ];</code> </pre><br><br>  You can set as many ‚Äúviolations‚Äù as you wish, and each of them can then be used to describe the validation errors in more detail: from the most general message to the most detailed.  See, for example, the <a href="https://github.com/franzose/kontrolio/blob/master/src/Rules/Core/Email.php">Kontrolio \ Rules \ Core \ Email</a> class. <br><br><h2>  Apply several rules to attributes </h2><br>  Before that, all the examples showed the description of one rule to one attribute.  But, of course, you can add as many rules as you like to as many attributes as you like :) Moreover, you can combine the use of closures and classes: <br><br><pre> <code class="php hljs">$rules = [ <span class="hljs-string"><span class="hljs-string">'some'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $value === <span class="hljs-string"><span class="hljs-string">'foo'</span></span>; }, <span class="hljs-string"><span class="hljs-string">'another'</span></span> =&gt; [ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $value !== <span class="hljs-string"><span class="hljs-string">'foo'</span></span>; }, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FooBarRule, <span class="hljs-comment"><span class="hljs-comment">//   ... ] ];</span></span></code> </pre><br><br>  Everything is cool, of course, but there is another interesting way to write <b>a whole set of rules</b> - as a string: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'not_empty|length:5,15'</span></span></code> </pre><br><br>  Here, each rule is separated by a vertical bar.  I borrowed this idea from Laravel, but the difference is that any such string is ‚Äúunpacked‚Äù into the usual array of rules that you have seen more than once in the article.  So the line above in this case is just sugar for such an array: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NotEmpty, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Length(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>) ]</code> </pre><br><br>  Please note that everything that you write after the colon goes straight into the arguments of the constructor of the class rule: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'length:5, 15'</span></span> -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Length(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>)</code> </pre><br><br>  So here we must be careful. <br><br><h2>  Skipping attribute validation entirely </h2><br>  Skipping a single rule or allowing empty values ‚Äã‚Äãwould not be enough, so Kontrolio contains a special rule, named after Laravel - <b>'sometimes'</b> and represented by the class Kontrolio \ Rules \ Core \ Sometimes.  When you add this rule to an attribute, it will tell the validator to skip checking the attribute if it is not in the dataset passed to the validator, or if its value is empty.  This rule should always be put first in the list. <br><br><pre> <code class="php hljs">$data = []; $rules = [<span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'sometimes|length:5,15'</span></span>]; $valid = $container -&gt;get(<span class="hljs-string"><span class="hljs-string">'validator'</span></span>) -&gt;make($data, $rules) -&gt;validate(); var_dump($valid); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre><br><br>  By analogy with the previous examples, this can be written like this: <br><br><pre> <code class="php hljs">$data = []; $rules = [ <span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Sometimes, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Length(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>) ] ]; $valid = $container -&gt;get(<span class="hljs-string"><span class="hljs-string">'validator'</span></span>) -&gt;make($data, $rules) -&gt;validate(); var_dump($valid); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre><br><br><h2>  Error Validation </h2><br>  Validation errors are stored as an associative array, where the keys are the names of the attributes, and the values ‚Äã‚Äãare the arrays with the messages themselves: <br><br><pre> <code class="php hljs">$data = [<span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>]; $rules = [ <span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NotBlank, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Length(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>) ] ]; $messages = [ <span class="hljs-string"><span class="hljs-string">'attribute.not_blank'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'The attr. is required.'</span></span>, <span class="hljs-string"><span class="hljs-string">'attribute.length.min'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'It must contain at lest 5 chars'</span></span> ]; $valid = $container -&gt;get(<span class="hljs-string"><span class="hljs-string">'validator'</span></span>) -&gt;make($data, $rules) -&gt;validate(); $errors = $validator-&gt;getErrors();</code> </pre><br><br>  The error dump will look like this: <br><br><pre> <code class="php hljs">[ <span class="hljs-string"><span class="hljs-string">'attribute'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'The attr. is required.'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'It must contain at lest 5 chars'</span></span> ] ]</code> </pre><br><br>  Therefore, if you just want to display all errors in a row, use the <b>getErrorsList</b> validator <b>method</b> .  It will return a flat array with messages: <br><br><pre> <code class="php hljs">$errors = $validator-&gt;getErrorsList(); &lt;ul <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">errors</span></span></span><span class="hljs-class">"&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">errors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">): ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">li</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">errors__error</span></span></span><span class="hljs-class">"&gt;&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">; ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">li</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ul</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br><br>  For more complex error output, you can use the <b>getErrors</b> method.  It returns messages grouped by attribute name: <br><br><pre> <code class="php hljs">&lt;ul <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">errors</span></span></span><span class="hljs-class">"&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class"> ($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">errors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attribute</span></span></span><span class="hljs-class"> =&gt; $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">messages</span></span></span><span class="hljs-class">): &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">li</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">errors__attribute</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">&gt;&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attribute</span></span></span><span class="hljs-class">; ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ul</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class"> ($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">messages</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">message</span></span></span><span class="hljs-class">): ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">li</span></span></span><span class="hljs-class">&gt;&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">message</span></span></span><span class="hljs-class">; ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">li</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ul</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">li</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ul</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br><br><h2>  Concluding this story </h2><br>  This is how you can use <a href="https://github.com/franzose/kontrolio">Kontrolio</a> , another PHP data validation library.  While writing this article, I thought that simply retelling the documentation would not be enough.  Therefore, I plan to write an article where I will try to compare my library with other solutions. <br><br>  Thanks for reading! </div><p>Source: <a href="https://habr.com/ru/post/306452/">https://habr.com/ru/post/306452/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306440/index.html">Mobile App Reputation Management</a></li>
<li><a href="../306442/index.html">Choosing the best online CSS compression service</a></li>
<li><a href="../306446/index.html">Drupal Critical Vulnerabilities: Details and Exploits</a></li>
<li><a href="../306448/index.html">Mongoose: a tool for testing the performance of storage</a></li>
<li><a href="../306450/index.html">Part 2. DSS Universal Algorithms - Support Service Algorithm</a></li>
<li><a href="../306454/index.html">AI 101: An Introduction to Automation and Artificial Intelligence in Outsourcing</a></li>
<li><a href="../306456/index.html">The history of one diploma or how to make a sharabota</a></li>
<li><a href="../306458/index.html">AMOcrm and Hive: high-tech business model for online stores</a></li>
<li><a href="../306460/index.html">Testing Product Integration at Netflix Speed</a></li>
<li><a href="../306464/index.html">Radar for pokemon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>