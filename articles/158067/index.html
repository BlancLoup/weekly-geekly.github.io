<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Clustering duplicates in search by pictures</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Every month on Yandex, more than 20 million people use the search by pictures. And if any of them are looking for photographs of [ Marilyn Monroe ], t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Clustering duplicates in search by pictures</h1><div class="post__text post__text-html js-mediator-article">  Every month on Yandex, <a href="">more than 20 million people</a> use the search by pictures.  And if any of them are looking for photographs of [ <a href="http://images.yandex.ru/yandsearch%3Ftext%3D%25D0%25BC%25D1%258D%25D1%2580%25D0%25B8%25D0%25BB%25D0%25B8%25D0%25BD%2520%25D0%25BC%25D0%25BE%25D0%25BD%25D1%2580%25D0%25BE%26noreask%3D1%26rpt%3Dimage%26lr%3D213">Marilyn Monroe</a> ], this does not mean that they need to find only the most famous pictures of the actress.  In this situation, the results in which most of the images found will be copies of the same pictures are unlikely to suit users.  They will have to scroll through a large number of pages to see different photos of Monroe.  In order to make it easier for people to do similar tasks, we need to sort the pictures in the search results so that they do not repeat.  And we learned to "lay them out on the shelves." <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/iY2sCN0y3IE%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhjI4aUYRl8hUyNOASmuOmtA0afsWw" frameborder="0" allowfullscreen=""></iframe><br><br>  When, in 2002, a search in pictures appeared on Yandex, technologies that allow computers to directly ‚Äúsee‚Äù what objects are in an image were not there at all. <a name="habracut"></a>  They appear now, but so far their degree of development is not enough for the computer to recognize Marilyn Monroe in the face or recognize the forest in the photo and immediately show it on an appropriate request.  Therefore, the task to improve the methods that were invented in the first stages remains relevant. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, the computer still needs to understand what is shown in the picture.  He does not know how to ‚Äúsee‚Äù, but at the same time we have technologies that are well looking for text documents.  And it is they who will help us: the image on the Internet is almost always accompanied by some text.  He does not necessarily directly describe what is depicted in the picture, but is almost always associated with it in meaning and content.  That is, we assume that his name will be mentioned with a high probability next to the photo of Einstein.  We call such texts prikartinochnye. <br><br>  Based on this data, the computer understands exactly which documents to show to the user at the request of [ <a href="http://images.yandex.ru/yandsearch%3Ftext%3D%25D0%25BC%25D1%258D%25D1%2580%25D0%25B8%25D0%25BB%25D0%25B8%25D0%25BD%2520%25D0%25BC%25D0%25BE%25D0%25BD%25D1%2580%25D0%25BE%26noreask%3D1%26rpt%3Dimage%26lr%3D213">Marilyn Monroe</a> ].  As a result, in the search results a person will see miniatures of relevant images or, as you can call them, tumblers.  They will be the same for copies of the same images.  Hence our name for them - tumbler duplicates.  Essentially the same pictures can be of different sizes and degrees of compression, but this does not change the content of the image.  And sometimes in the pictures can make some changes.  For example, add watermarks or logos, change colors or crop.  But this will not be enough to consider this image new.  Our task is to make sure that there are no duplicate thumbnails on the image search results page, and for each group of copies there is one that unites them. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a9a/b17/4d7/a9ab174d756098789e912ae137cad516.png" width="600" height="421" alt="image"><br><br>  The data of the text-based texts basically made us understand that in the photos found Marilyn Monroe.  But there are few of them to determine which of them are duplicates.  And at this stage, we can help the existing technology of computer vision. <br>  When you and I say that a child looks like a parent, it often sounds like ‚Äúpapa‚Äôs nose‚Äù or ‚Äúmother‚Äôs eyes‚Äù.  That is, we note some features of the faces of the parents, which are preserved in the child. <br><br>  And what if you try to teach a computer to use a similar principle?  In this case, at the first stage, he must understand which points in the picture you should look at.  To do this, the image is processed with special filters that help to highlight their contours.  On them the computer finds key points which do not change under any changes of the images themselves, and looks at what is around them.  In order for the computer to "consider" these fragments, they need to be converted to digital format.  So the description will remain true, even if the image is stretched, rotated or subjected to some other transformations.  In fact, we to some extent train the computer to look at the image in the way that a person looks at it. <br><br>  As a result, each picture receives a set of descriptions of what is at its cue points.  And if the set of these areas of one image is similar to the set of areas of another image, then we can draw conclusions about the degree of their similarity in general. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/995/fe9/929/995fe992907e5d07b6b281a32c18d071.png" width="709" height="389" alt="image"><br><br>  But there is a problem.  It is impossible to decide that the images are duplicates without knowing what is depicted on them.  We can decide for ourselves that a change of only 5% of the area allows us to consider them as such, but imagine pictures of a chessboard before the start of the game and after one or two moves.  These are different pictures, although not more than 5% of them formally changed.  And if you add, for example, a logo to one of the images of a chessboard with the same positions, they will also differ by 5%, but remain duplicates.  Yes, to some extent we taught the computer to see the picture, but so far the technologies have not reached an absolute understanding of the subject area of ‚Äã‚Äãimages, and we continue to work on solving this problem. <br><br>  All the operations described above should be carried out with each image indexed by us, and in total there are 10 billion images in our index.  And this is not the final figure.  To match the growth rate of content on the Internet, using our old algorithm, it would be necessary to increase resources incredibly quickly.  Naturally, it took to find a more rational solution to this infrastructure problem.  And we could do it. <br><br>  Now, for example, to add and process 10 million new images that go through Yandex.Images every day, you do not need to re-launch the process on the billions already existing in the database. <br><br>  In addition, the information that some images on the Internet are copies of each other helps us in ranking web documents in a large search result.  Same pictures, like links, link documents together.  Thanks to this, we can consider how valuable this or that page is to respond to a search query.  Therefore, the above described technology is important not only for Yandex.Kartinok, but also in principle for our search. <br><br>  And if you go back directly to the search by pictures, then there is another passing problem, which is solved by gluing duplicates - we can find a similar image even when it is not accompanied by text-based text.  This is useful when it is in this form that the picture corresponds to the quality the person needs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86a/a63/572/86aa63572b9ed46a442b7680effe82b6.png" width="785" height="507" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/158067/">https://habr.com/ru/post/158067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158055/index.html">About the benefits of application programming, or why I chose an unpopular visual basic</a></li>
<li><a href="../158057/index.html">Office telephony on Asterisk + FreePBX</a></li>
<li><a href="../158059/index.html">Search for all possible solutions in the game "Plumbing"</a></li>
<li><a href="../158061/index.html">Installing the virtualization management system (openvz, kvm) proxmox 2.2 on the server in Hetzner</a></li>
<li><a href="../158063/index.html">Wikipedia introduces an advanced open-source player on its website</a></li>
<li><a href="../158071/index.html">Clock with a linear time display</a></li>
<li><a href="../158077/index.html">Google Chrome develops application launcher</a></li>
<li><a href="../158081/index.html">Disassembly of the e-book Pocketbook 611</a></li>
<li><a href="../158083/index.html">Glonass era is approaching</a></li>
<li><a href="../158085/index.html">Reverse Engineering Topology Chips</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>