<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenShift xPaaS version 3. "Hello, world"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First, we define: 


 Redhat OpenShift Container Platform 3.3 (formerly OpenShift Enterprise) is a commercial platform for creating your own spacecraf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenShift xPaaS version 3. "Hello, world"</h1><div class="post__text post__text-html js-mediator-article"><p>  First, we define: </p><br><p>  Redhat OpenShift Container Platform 3.3 (formerly OpenShift Enterprise) is a commercial platform for creating your own <s>spacecraft of</s> the Next Generation Container OS instance, docks <a href="https://access.redhat.com/documentation/en/openshift-container-platform/3.3/single/">here</a> .  Generally for immersion in the depths of the <a href="http://www.projectatomic.io/">Linux Atomic Host</a> and <a href="http://stackoverflow.com/questions/32477650/openshift-v3-vs-openshift-v2">this post</a> .  Everything is in English. </p><br><p>  <a href="https://www.openshift.org/">OpenShift Origin</a> - Open Source project, a free version of the above product.  Complete analogy of Fedora / RHEL. </p><br><p>  <a href="https://www.openshift.com/">Redhat OpenShift xPaaS</a> contains web consoles versions 2 and 3 (Next Gen).  Version 3 is the cloud variation of Redhat OpenShift Container Platform 3.3.  Since August 1, 2016, registration of new users for v2 has been discontinued.  The difference is enormous.  I gave <a href="https://habrahabr.ru/post/277445/">an example of</a> deploying an application for v2.  V3 has more opportunities, and it's just another product.  Further in the post a simple example to feel the system. <a name="habracut"></a></p><br><h2 id="podgotovka">  Training </h2><br><p>  What do we do.  We will first create and publish a php application using the console client.  Consisting of index.php with phpinfo () call;  This will be our conditional "Hello, world".  Why quite simple?  To reach the difficult.  Those who work with Docker know well the general principles of building an environment, that is, a database container is separate, common for several applications, applications themselves can be in other containers and communicate with the database using internal mechanisms.  There was declared the possibility of having different applications, say ruby ‚Äã‚Äãand java, which was impossible in the second version.  Cartridges v2 had a lot of restrictions.  But it was quite easy to master. </p><br><h5 id="zavesti-uchetnuyu-zapis">  Create an account </h5><br><p>  Attention!  Be sure to need an account on github.com.  That is <a href="https://www.openshift.com/devpreview/register.html">,</a> they will ask and warn about the trial access here.  In general, in the section "Pricing" a training freebie has remained as it was. </p><br><h4 id="sozdat-lokalnoe-okruzhenie-primer-dlya-centos-72">  Create local environment (example for CentOS 7.2) </h4><br><p>  After login to the web console in the upper right "?"  Help menu with it and start.  In the "Command Line Tools" submenu links to the console client.  Deliver.  This OS is a client of Origin, and not rhc like that of v2.  There are also the first steps.  Login, creating a project. </p><br><pre><code class="plaintext hljs">$oc login https://api.preview.openshift.com --token=..... (  )</code> </pre> <br><p>  Create on github the project myapp or what another.  Clone it yourself, add: </p><br><pre> <code class="plaintext hljs">$echo "&lt;?phpinfo(); ?&gt;"&gt;index.php</code> </pre> <br><p>  Next, add everything to the repository on the githaba.  Everything is ready to create a project: </p><br><pre> <code class="plaintext hljs">$oc new-project myapp</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Conclusion</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Now using project "myapp" on server "https://api.preview.openshift.com:443". You can add applications to this project with the 'new-app' command. For example, try: oc new-app centos/ruby-22-centos7~https://github.com/openshift/ruby-ex.git to build a new example application in Ruby.</code> </pre> </div></div><br><p>  Follow the advice: </p><br><pre> <code class="plaintext hljs">$oc new-app php~http://github.com/myrepo/myapp.git</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Conclusion</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">--&gt; Found image 276fc18 (4 weeks old) in image stream "php" in project "openshift" under tag "5.6" for "php" Apache 2.4 with PHP 5.6 ----------------------- Platform for building and running PHP 5.6 applications Tags: builder, php, php56, rh-php56 * A source build using source code from https://github.com/zirf0/v3.git will be created * The resulting image will be pushed to image stream "myapp:latest" * Use 'start-build' to trigger a new build * This image will be deployed in deployment config "myapp" * Port 8080/tcp will be load balanced by service "myapp" * Other containers can access this service through the hostname "myapp" --&gt; Creating resources with label app=myapp ... imagestream "myapp" created buildconfig "myapp" created deploymentconfig "myapp" created service "myapp" created --&gt; Success Build scheduled, use `'oc logs -f bc/myapp'` to track its progress. Run 'oc status' to view your app.</code> </pre> </div></div><br><p>  Here comes an interesting moment.  You need to publish the application on the web.  In v3 terminology, create a route.  In the web console "Applications" ‚Üí "Routes" ‚Üí "Create Route".  From the command line: </p><br><pre> <code class="plaintext hljs">oc create route edge --service myapp route myapp created</code> </pre> <br><p>  View project elements in the web console.  But there eyes first run up.  CLI is more convenient unification: </p><br><p> <code>oc get -o wide pods</code> <br>  Or services, routes, etc.  Same with creation and deletion. </p><br><p> <code>oc get -o wide routes</code> <br>  Dust url, in the browser - output phpinfo (); </p><br><h2 id="zaklyuchenie-i-plany">  Conclusion and plans </h2><br><p>  Opportunities weight.  But to begin to play the application + DB.  I will do - accomplish your goal.  For activating HAproxy, several pods and other things, I‚Äôm afraid there will not be enough freebies, nobody has canceled resource restrictions  In the meantime, the real is not expected.  You can, of course, expand the trial or expand the origin.  It's simple, if the Docker is worth it, then <br>  <code>$sudo oc cluster up</code> . </p><br><p>  Launch the origin: latest container, if necessary, download its image.  A set of "skillful hands."  Origin can be downloaded as a virtualka or compiled, it is hosted on a github. </p><br><p>  Using oc will create a local folder ~. / Kube with service information (it also exists in the console).  No wonder LDK stands for Linux, Docker, Kubernetes.  I would be grateful for corrections, comments and questions. </p><br><p>  <b>UPD1 10.27.2016</b> .  It is clear why 30 days is a trial.  There is testing and after 30 days the copy is destroyed, in order to release resources for other users.  You can register again, but resources will be provided as soon as they become available.  You can set yourself <a href="http://openshift.org/">origin</a> .  Or create your own cloud for docker + kubernetes, with blackjack and women. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/312348/">https://habr.com/ru/post/312348/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312336/index.html">Content theft in Chinese game dev</a></li>
<li><a href="../312338/index.html">MapReduce from scrap materials. Part III - Putting It All Together</a></li>
<li><a href="../312340/index.html">Basics of computer networks. Subject number 4. Network devices and types of cables used</a></li>
<li><a href="../312344/index.html">Pro application backward compatibility and digging out flight attendants</a></li>
<li><a href="../312346/index.html">Cross-VC NSX: Simplicity and Flexibility for Multiple Deployments</a></li>
<li><a href="../312352/index.html">TailSampler - parallel GET requests sent to Apache.JMeter</a></li>
<li><a href="../312354/index.html">For lovers of FPGAs, ASICs, architecture and micro-architecture - more about seminars and conveyors</a></li>
<li><a href="../312356/index.html">Building a mental map for learning</a></li>
<li><a href="../312358/index.html">Study. As an increase in the clickable area of ‚Äã‚Äãa button changes the number of clicks on it.</a></li>
<li><a href="../312360/index.html">Duma about the web-API. Part one</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>