<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VK :: App - a module for creating client applications in vk.com</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to tell you about my VK :: App module for creating client applications in the vk.com social network. The main features of the module: 


- Auth...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VK :: App - a module for creating client applications in vk.com</h1><div class="post__text post__text-html js-mediator-article">  I want to tell you about my VK :: App module for creating client applications in the vk.com social network.  The main features of the module: <br><ul><li>  Authorization based on OAuth 2.0, by login / password or cookies. </li><li>  Setting permissions that will be required by the application. </li><li>  Execution of any VK API requests and getting the result in JSON, XML or Perl Object form. </li></ul>  The module uses a minimum of dependencies: only LWP and JSON. <br><a name="habracut"></a><br>  To write a client application, you need to know <b>api_id</b> .  To do this, you can <a href="http://vk.com/apps.php%3Fact%3Dadd">register</a> your application or use the existing <b>api_id</b> . <br><br><h4>  Syntax </h4><br><h5>  Constructors </h5><br><pre><code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#1.      use VK::App; my $vk = VK::App-&gt;new( #     email login =&gt; 'login', #  password =&gt; 'password', # api_id  api_id =&gt; 'api_id', #         cookies #(       ) cookie_file =&gt; '/home/user/.vk.com.cookie', ); #2.    cookies  use VK::App; my $vk = VK::App-&gt;new( cookie_file =&gt; '/home/user/.vk.com.cookie', api_id =&gt; 'api_id', ); #3.   use VK::App; my $vk = VK::App-&gt;new( cookie_file =&gt; '/home/user/.vk.com.cookie', api_id =&gt; 'api_id', #    ,    . #         : # http://vk.com/developers.php?oid=-17680044&amp;p=Application_Access_Rights scope =&gt; 'friends,photos,audio,video,wall,groups,messages,offline', #         : # 'JSON', 'XML'  'Perl' .   : 'Perl'. format =&gt; 'Perl', );</span></span></code> </pre> <br><h5>  Query examples </h5><br><pre> <code class="perl hljs"> <span class="hljs-comment"><span class="hljs-comment">#  : # my $response = $vk-&gt;request($METHOD_NAME,$PARAMETERS); #   : # http://vk.com/developers.php?oid=-17680044&amp;p=API_Method_Description #1.  uid     my $user = $vk-&gt;request('getProfiles',{uid=&gt;'genaev',fields=&gt;'uid'}); my $uid = $user-&gt;{response}-&gt;[0]-&gt;{uid}; #2.       uid my $tracks = $vk-&gt;request('audio.get',{uid=&gt;$uid}); my $url = $tracks-&gt;{response}-&gt;[0]-&gt;{url}; #    mp3  </span></span></code> </pre><br><br>  The module is published on cpan.  More detailed documentation and description of all methods: <a href="https://metacpan.org/module/VK::App">https://metacpan.org/module/VK::App</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Why do you need another bike? </h4><br>  Because other bikes have square wheels!  I have a few favorite music bands and friends with our musical tastes in vk.com.  I wanted to have an up-to-date local copy of the music of these groups and friends, in order to listen to it, for example, in a car.  those.  be able to auto sync.  I did not consider applications with GUI in principle.  Among the console did not find suitable.  It would be possible to look for an implementation of the API for other programming languages ‚Äã‚Äã(I have experience with Ruby, Python, Java, C), but the soul lies precisely with Perl.  On cpan.org there are two modules VK :: MP3 and VKontakte :: API.  VK :: MP3 is a normal module, but it does not solve my problems, because  deals only with the search for music.  VKontakte :: API is absolutely not workable.  First, for some reason, it requires the application's secret key, which is unsafe.  Secondly, the request getUserSettings returns the code +1, which means the actual absence <a href="http://vk.com/developers.php%3Foid%3D-17680044%26p%3DApplication_Rights">of access rights</a> .  Thirdly, when using the third version of the constructor, the module simply drops.  For these reasons, the idea of ‚Äã‚Äãwriting the module, which is discussed here, arose. <br><br><h4>  Plans </h4><br>  Bring to mind my vmd program (vkontakte music downloader) for which everything was started.  Put it on github, maybe it will be useful to someone?  I can build static binaries from a program under windows, mac, linux (there is a purchased version of PDK). <br><br>  It so happened that VK :: App is my first module published on CPAN.  And the publication process took two to three times more time than writing the module itself.  It seems to be a lot of information on the network, but you do not know a clear sequence of actions.  Yes, and there are pitfalls.  I studied this question in some detail and wrote instructions for myself on how to correctly and quickly build a distribution kit of a module for its publication.  I can comb it a little and post it as a separate article on habrahabr. <br><br>  I will be glad to any fitbekam! <br><br>  <b>UPD</b> <br>  about the plans: <br>  post about vkontakte music downloader - <a href="http://habrahabr.ru/post/146889/">habrahabr.ru/post/146889</a> <br>  post about the publication of modules - <a href="http://habrahabr.ru/post/146821/">habrahabr.ru/post/146821</a> <br>  In addition, vk.com changed the authorization mechanism by login and password and had to change the module.  The current version of VK :: App 0.06 is working, all previous ones do not work.  I suspect that the VK :: MP3 module has also stopped working. </div><p>Source: <a href="https://habr.com/ru/post/146598/">https://habr.com/ru/post/146598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146593/index.html">Atlassian Office in San Francisco</a></li>
<li><a href="../146594/index.html">Indicators of key information on sites for Firefox in a hurry</a></li>
<li><a href="../146595/index.html">Split testing: how it works for us</a></li>
<li><a href="../146596/index.html">C11 corrects errors C99</a></li>
<li><a href="../146597/index.html">Sypex Geo - quick city identification by IP</a></li>
<li><a href="../146601/index.html">How we develop programs for Android in Parcsis</a></li>
<li><a href="../146603/index.html">Multimedia center at Arduino UNO</a></li>
<li><a href="../146604/index.html">Swarp SDK or how to quickly create an AR-application. Part 2</a></li>
<li><a href="../146605/index.html">OPEN DAYS INGRIA: ‚ÄúThe secrets of successful entrepreneurship‚Äù</a></li>
<li><a href="../146606/index.html">Runetology (153): Head of Groupon Russia Dmitry Druzhinin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>