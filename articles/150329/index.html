<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Qt Coding Style</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, habrazhiteli! 

 Now, a specialist with many years of experience working with Qt thought: ‚ÄúWhat the hell? Habr - for things more abruptly! ". B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Qt Coding Style</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/559/c22/7c2/559c227c260abbc7f7cde1d1c48ab592.jpg" alt="Qt Coding Style by Qt version" align="right"><br>  Hello, habrazhiteli! <br><br>  Now, a specialist with many years of experience working with Qt thought: ‚ÄúWhat the hell?  Habr - for things more abruptly! ".  But even specialists with many years of experience sometimes need to read such articles about simple things, because this is important.  Code is one of the most important components of programming.  And our task is to keep it clean.  This article is dedicated to all Qt programmers who strive for the ideal. <br><br>  Of course there is an article on the Qt Project - <a href="http://qt-project.org/wiki/Qt_Coding_Style">Qt Coding Style</a> .  Only here there is less valuable material ... <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Postulate number 1.  Alignment </h1><br>  In Qt, it is common to use indents of 4 spaces each.  But precisely 4, and precisely space.  Using \ t or other width spaces is terribly bad <s>and is severely punished</s> . <br><br><h1>  Postulate number 2.  Variable declaration </h1><br>  One of the most important postulates, as it defines readability and the overall style of the code.  The rules for declaring variables are compiled into this list: <br><br><ul><li>  Declare each variable on a separate line. </li><li>  Avoid short or concise names (for example, "a", "rbarr", "nughdeget") </li><li>  Wait until the variable is needed, and only then declare it. </li><li>  Functions and variables must be in camelCase </li><li>  Avoid abbreviations and all acronyms. </li><li>  Classes must always begin with a capital letter. </li><li>  Public classes must begin with the letter 'Q' (QRgb), then the capital letter </li><li>  Public functions must begin with the letter 'q' (qRgb) </li><li>  Abbreviations must be in PascalCase (for example, QXmlStreamReader instead of QXMLStreamReader) </li></ul><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  int a, b; char *c, *d; //  int height; int width; char *nameOfThis; char *nameOfThat;</span></span></code> </pre> <br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  short Cntr; char ITEM_DELIM = '\t'; //  short counter; char itemDelimiter = '\t';</span></span></code> </pre><br><br><h1>  Postulate number 3.  Spaces </h1><br>  Spaces are a very important element of source code formatting.  It plays a very large role in the readability of the code. <br><br><ul><li>  Use spaces to group individual code segments. </li><li>  Only one blank line can be used for separation. </li><li>  Always use only one and only one space after the keyword and curly brace </li><li>  For pointers and references, always use a single space between the type and '*' or '&amp;', but never put a space between the '*' or '&amp;' and the variable name </li><li>  Surround binary operators with spaces. </li><li>  No spaces after casting </li><li>  Try to avoid C-like ghosts. </li></ul><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  if (foo){ } //  if (foo) { }</span></span></code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *x; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> QString &amp;myString; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> y = <span class="hljs-string"><span class="hljs-string">"hello"</span></span>; MyClass *obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyClass(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ok; obj.report(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;ok);</code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  char* blockOfMemory = (char* ) malloc(data.size()); QTextStrem newOne(..); newOne&lt;&lt;"Hello"&lt;&lt;","&lt;&lt;" "&lt;&lt;"world"; //  char *blockOfMemory = reinterpret_cast&lt;char *&gt;(malloc(data.size())); QTextStrem newOne(..); newOne&lt;&lt; "Hello" &lt;&lt; "," &lt;&lt; " " &lt;&lt; "world";</span></span></code> </pre><br><br><h1>  Postulate number 4.  Parentheses </h1><br>  Brackets are generally a separate topic.  They, like the spaces, play the lion's share in the appearance and readability of the code <br><br><ul><li>  As a basic rule, the left brace is on the same line as the operator: </li><li>  <strong>Exception</strong> : The implementation of functions and class declarations always, absolutely always have a left bracket on a new line: </li><li>  Use curly brackets when the body of the condition contains more than one line, and if a single-line operator is something complex </li><li>  <strong>Exception 1</strong> : Also use parentheses if the parent operator occupies several lines or wrappers. </li><li>  <strong>Exception 2</strong> : Also use brackets in if-else blocks where the if-code or else-code takes several lines </li><li>  Use curly brackets when the body of the operator is empty </li></ul><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> g)</span></span></span><span class="hljs-function"> </span></span>{ qDebug(<span class="hljs-string"><span class="hljs-string">"foo: %i"</span></span>, g); } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Moo</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: Moo(); Moo(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> slots: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getResult</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> slots: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processNumbers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mineA; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mineB; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mineResult; };</code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  if (address.isEmpty()) { return false; } for (int i = 0; i &lt; 10; ++i) { qDebug("%i", i); } //  if (address.isEmpty()) return false; for (int i = 0; i &lt; 10; ++i) qDebug("%i", i);</span></span></code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  while (a); if (expression) else // do something //  while (a) {} if (expression) { } else { // do something }</span></span></code> </pre><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  if (codec) { // do something } //  if (codec) { // do something }</span></span></code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  if (address.isEmpty()) return false; else { qDebug("%s", qPrintable(address)); ++it; } //  if (address.isEmpty()) { return false; } else { qDebug("%s", qPrintable(address)); ++it; } //  if (a) if (b) ... else ... //  if (a) { if (b) ... else ... }</span></span></code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  if (address.isEmpty() || !isValid() || !codec) return false; //  if (address.isEmpty() || !isValid() || !codec) { return false; }</span></span></code> </pre><br><br><h1>  Postulate number 5.  Round brackets </h1><br>  Use parentheses to group expressions: <br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  if (a &amp;&amp; b || c) if (a + b &amp; c) //  if ((a &amp;&amp; b) || c) if ((a + b) &amp; c)</span></span></code> </pre><br><br><h1>  Postulate number 6.  Switch Multiple Conditions </h1><br>  Of course, these conditions are the cause of many discussions on the part of the developers and creators of the Coding Guidelines - there may be a lot of different options.  However, Qt offers exactly this option: <br><br><ul><li>  Case statements must be in the same column as the switch statement. </li><li>  Each case must end with a break (or return) statement or comment to show that another case follows. </li></ul><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (myEnum) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Value1: doSomething(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Value2: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Value3: doSomethingElse(); <span class="hljs-comment"><span class="hljs-comment">// fall through default: defaultHandling(); break; }</span></span></code> </pre><br><br><h1>  Postulate number 7.  Line break </h1><br>  Often the following happens: there is a developer Vasya with a large monitor.  He writes his code calmly.  Then this code is opened by the developer Petya, with a laptop, and he begins to see clearly - he has to scroll a lot to read the entire code.  This is one of the defects in readability.  What does Qt offer for salvation? <br><br><ul><li>  Make sure the lines are no longer than 100 characters;  cut them off if necessary </li><li>  Commas are located at the end of a broken line;  Operators should be moved at the beginning of a new line.  The operator at the end of the line is very easy not to see if your editor is too narrow. </li></ul><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  if (longExpression + otherLongExpression + otherOtherLongExpression) { } QMessageBox::information(d-&gt;someObjectWithLongName, tr("A long title for mesage"), tr("A very very very very very very long body", QMessageBox::Ok, QMessageBox::Cancel); //  if (longExpression + otherLongExpression + otherOtherLongExpression) { } QMessageBox::information(d-&gt;someObjectWithLongName, tr("A long title for mesage"), tr("A very very very very very very long body", QMessageBox::Ok, QMessageBox::Cancel);</span></span></code> </pre><br>  <b>UPD: the last part of the code is displayed incorrectly - all the lines should be on the same level</b> <br><br><h1>  Postulate number 8.  Inheritance and the `virtual` keyword </h1><br>  In this postulate, everything is extremely simple - the main thing is not to write `virtual` before the name of the method to be redefined in the .h file. <br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  class MyWidget : public QWidget { ... protected: virtual void keyPressEvent(QKeyEvent *); //  class MyWidget : public QWidget { ... protected: void keyPressEvent(QKeyEvent *);</span></span></code> </pre><br><br><h1>  Postulate number 9.  General exception </h1><br>  This postulate tells us that there is nothing wrong if you break a rule, but only if it makes your code ugly.  This is a good example of the fact that all rules have exceptions, and that rules are created to violate them. <br><br>  Unfortunately, I could not find an example when the Qt Coding Guidelines make the code ugly. <br><br><h1>  Completion </h1><br>  I am afraid that this is the end of my article about the style of writing code in Qt.  Let me remind you once again that only it is quoted for controlling in Qt, so if you are going to contribute to the development of the project, you will have to use these postulates anyway, but do not forget - you can break the rules :). <br><br>  For me, Qt Coding Style is just the perfect style for writing code.  I find it clean, comfortable, pleasant.  For all the time of its use I have not had any problems with the readability of the code.  Would I recommend it?  Of course yes!  Moreover, I think that it is him who should be promoted to all newbies on the Qt platform. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/150329/">https://habr.com/ru/post/150329/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150324/index.html">Amazon Glacier: Perl client with multi-thread / multipart download</a></li>
<li><a href="../150325/index.html">Chinese browser UCWeb goes to the West (in Asia already 200 million users)</a></li>
<li><a href="../150326/index.html">Firefox 15 release</a></li>
<li><a href="../150327/index.html">Newbie Compiler Manual</a></li>
<li><a href="../150328/index.html">Notification that the browser is outdated</a></li>
<li><a href="../150331/index.html">New 0day exploit for Java. Now in Metasploit</a></li>
<li><a href="../150332/index.html">LG Optimus Vu II will receive infrared</a></li>
<li><a href="../150333/index.html">Flat lens creates the perfect image.</a></li>
<li><a href="../150334/index.html">Google Analytics for games, social applications. nets</a></li>
<li><a href="../150337/index.html">Migrating Adobe After Effects Projects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>