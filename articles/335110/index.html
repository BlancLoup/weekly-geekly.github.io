<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How the KOMPAS-3D math library turned into a C3D Toolkit for CAD developers ‚Üí part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part of the article, we talked about geometric kernels in general and explained how they differ from game graphics engines. Next, we pres...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How the KOMPAS-3D math library turned into a C3D Toolkit for CAD developers ‚Üí part 2</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="https://habrahabr.ru/company/ascon/blog/334814/">first part of the</a> article, we talked about geometric kernels in general and explained how they differ from game graphics engines.  Next, we present our own 3D-core for working with exact geometry and the software product that eventually turned out. <br><br><h2>  <font color="#00B2FF">The history of the Russian geometric core C3D</font> </h2><br>  The beginning of work on geometric modeling in KOMPAS-3D is officially considered to be 1995, it was then that Nikolai Nikolayevich Golovanov with a group of colleagues from the AOKON Kolomna office laid the first mathematical foundations of the future core.  It took four years to turn mathematical algorithms into the first viable product.  Since then, the geometric core has been constantly evolving, ensuring the functional development of KOMPAS-3D and a number of other software solutions in Russia and abroad. <br><br><img src="https://habrastorage.org/web/809/754/4fc/8097544fcd594b7dbb9936e9dbc7592a.png" alt="Scott Voltage Bike FR20">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Scott Voltage FR20 bicycle designed in KOMPAS-3D using C3D geometry (model author: Alexey Bogdanov, Poltava)</i> <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Major milestones in the development of the C3D core</b> <div class="spoiler_text">  <font color="#666699">2000:</font> creation of a sufficient number of algorithms for three-dimensional solid-state modeling for use in CAD; <br>  <font color="#666699">2001:</font> implementation of the solver of geometric constraints and converters into the main exchange data formats; <br>  <font color="#666699">2002:</font> creation of a mechanism for constructing associative species according to three-dimensional models; <br>  <font color="#666699">2003: the</font> emergence of the basics of surface modeling; <br>  <font color="#666699">2004:</font> description of mathematical algorithms for creating elements of a sheet body; <br>  <font color="#666699">2005:</font> implementation of multibody modeling; <br>  <font color="#666699">2007:</font> support for frame model; <br>  <font color="#666699">2008:</font> implementation of kinematic interfaces for modeling mechanisms; <br>  <font color="#666699">2009:</font> support of attributes of a geometric model; <br>  <font color="#666699">2010: the</font> emergence of full surface modeling; <br>  <font color="#666699">2011:</font> implementation of cross-platform: <br>  ‚Ä¢ Windows; <br>  ‚Ä¢ Linux; <br>  ‚Ä¢ macOS; <br>  ‚Ä¢ Android; <br>  ‚Ä¢ iOS; <br>  <font color="#666699">2012:</font> implementation of direct modeling elements; <br>  <font color="#666699">2013:</font> English localization of documentation and test application; <br>  <font color="#666699">2014:</font> model conversion to text formats; <br>  <font color="#666699">2015:</font> ensuring thread safety of kernel objects; <br>  <font color="#666699">2016: the</font> emergence of wrappers for C # and JavaScript, the expansion of available development environments: <br>  ‚Ä¢ Microsoft Visual Studio; <br>  ‚Ä¢ Clang (for Mac OS); <br>  ‚Ä¢ GCC (for Linux); <br>  ‚Ä¢ NDK (for Android); <br></div></div><br>  In 2012, the mathematical division of ASCON was transformed into a separate business unit, C3D Labs, to develop and market the C3D geometric core.  This decision was made based on the <abbr title="The American division of Siemens PLM Software is developing the Parasolid core, and Spatial, which is part of the French corporation Dassault Syst√®mes, is developing two geometric cores at once - ACIS and CGM">experience of world leaders of the CAD industry</abbr> , based on the fact that the core is already mature enough to continue its life journey as an independent product. <br><br> <a href=""><img src="https://habrastorage.org/web/2f0/b35/104/2f0b35104c9041648daa3b861c57007d.jpg" alt="C3D Team"></a> <br><br>  <i>Team C3D Labs, December 2016 (Picture is clickable)</i> <br><br>  Now more than 20 years have passed since the start of the development of the geometric core C3D.  All this time, our mathematicians and programmers developed it: improved the architecture, created new functionality, modernized previously implemented methods.  Why do we focus on this?  We just want to say that without a unique experience based on practical application in tens and hundreds of thousands of KOMPAS-3D jobs, it would be impossible to create a competitive 3D core.  Moreover, to develop a similar product from scratch without constant use and testing is beyond the power of any team. <br><br><h2>  <font color="#00B2FF">The division of the geometric core components</font> </h2><br>  If you look closely at the chronology of the development of the C3D core, you will see that over the years it has included not only modeling functions, but also parameterization and data conversion.  Of course, CAD developers also noticed this, therefore, they began to receive more and more requests for licensing individual kernel functional blocks (for example, only import / export of 3D models or only a 2D solver).  This led to the formation of a whole set of tools for creating engineering software - C3D Toolkit: <br><br><img src="https://habrastorage.org/web/39a/1b9/32b/39a1b932b0ba481185b9f28ab8c635c4.png" alt="C3D Toolkit"><br><br>  Today, the C3D Toolkit combines the most important CAD modules: <br><br><ul><li>  <a href="http://c3dlabs.com/ru/products/modeler/">Geometric core C3D Modeler:</a> <br>  performs the construction and editing of geometric models, the calculation of triangulation, the construction of flat projections, the calculation of mass-center characteristics and the determination of collisions of model elements; </li><li>  <a href="http://c3dlabs.com/ru/products/solver/">Parametric core C3D Solver:</a> <br>  establishes dependencies between various elements of a geometric model using dimensions and logical constraints and ensures the safety of specified relationships when changing dimensions, model parameters, moving individual model elements or making other changes to the model geometry; </li><li>  <a href="http://c3dlabs.com/ru/products/vision/">C3D Vision Visualization Module:</a> <br>  controls the settings of the visual scene for static and dynamic geometry rendering modes, and also provides interactive user interaction with the application interface; </li><li>  <a href="http://c3dlabs.com/ru/products/converter/">C3D Converter Exchange Module:</a> <br>  it exchanges data on the geometric model with other design systems, supports the formats: JT, IGES, STEP (AP203, AP214, AP242), Parasolid X_T / X_B, ACIS SAT, STL, VRML. </li></ul><br>  Separately, it should be noted that last year, C3D Labs, together with the international alliance for open design, introduced the <a href="http://c3dlabs.com/ru/products/c3d-modeler-for-teigha/">C3D Modeler</a> solution <a href="http://c3dlabs.com/ru/products/c3d-modeler-for-teigha/">for Teigha</a> , which provides seamless integration between the C3D Modeler geometric core and <abbr title="The name of the product line being developed to provide access to a number of proprietary file formats used in Autodesk, Bentley Systems and other products.">the Teigha platform</abbr> .  Thanks to this, CAD developers can now use the functionality of the C3D Modeler 3D solid modeling directly through the Teigha API client. <br><br><h2>  <font color="#00B2FF">Recommendations for developers</font> </h2><br>  If you decide to create your own engineering application, then using the C3D Toolkit software components, you can access their low-level objects in their original form: points, matrices, coordinate systems, curves, surfaces, bodies, various auxiliary objects, etc.  If you want to apply the KOMPAS-3D API in development, then you have to work with some ‚Äúwrapper‚Äù on its selected high-level methods, among which are both C3D Modeler methods and the KOMPAS-3D methods built on them (to a greater extent ). <br><br>  The following figure shows how the application developed for KOMPAS-3D interacts through the API with various components of the C3D Toolkit: <br><br><img src="https://habrastorage.org/web/6f7/9ba/1f5/6f79ba1f5480412faac30a1d8dd7e118.png" alt="API interaction"><br>  <i>Interaction of the developed application with C3D Toolkit components via the KOMPAS-3D API (blue blocks refer to the C3D Toolkit, white blocks refer to KOMPAS-3D)</i> <br><br>  Therefore, it is convenient and logical to use the C3D Toolkit precisely when you need to create a software product without reference to a specific CAD system.  These can be independent computer-aided design systems, engineering analysis systems, or systems for preparing control programs for CNC machines whose operation is associated with the construction and processing of geometric models.  If you‚Äôve a little imagination and go further, you can embed C3D Toolkit components into a finite-user application for 3D scanning and printing, generative design with topological optimization, or conceptual design of products in augmented reality glasses with <s>thought</s> management gestures. <br><br>  You will be able to better understand the C3D Toolkit device if you use: open access to <a href="http://c3d.ascon.ru/doc/math/modules.html">technical documentation</a> , periodically updated <a href="http://c3dlabs.com/source/documents/2017-C3D_Manual_Russian.pdf">PDF manuals</a> , training videos on the <a href="https://www.youtube.com/channel/UCKwwm-ezqM3vt3Yv6ryowMQ">official C3D Labs</a> channel on YouTube (as long as there are not so many of them, over time we plan to fix it) as well as test applications that we provide in source codes: <br><br> <a href=""><img src="https://habrastorage.org/web/b23/210/dc0/b23210dc0f984825b3af95873e964988.png" height="330" alt="C3D test for Windows"></a> <a href=""><img src="https://habrastorage.org/web/e44/ca1/a42/e44ca1a4203e49e8a8a9592ad51f2069.png" height="330" alt="C3D test for Android"></a> <br><br>  <i>Test application for Windows and demo application for Andorid (Pictures are clickable)</i> <br><br>  In fact, each test application is a small design system with implemented functions of the C3D Modeler geometric kernel.  There is no beautiful user interface in the tests and all the functionality is tied to the command menu, but this does not prevent using it on the principle of <i>copy-paste</i> , allowing you to quickly create working versions of projects for different operating systems (Windows, Mac, Linux) with the necessary set of 2D operations and three-dimensional modeling. <br><br>  If the source codes are not very interesting for you, then you can familiarize yourself with the results of sharing C3D Modeler, C3D Vision and C3D Converter components by <a href="http://c3dlabs.com/ru/products/viewer/">downloading the free C3D Viewer application</a> to view 3D models in common STEP, IGES, Parasolid X_T, X_B, ACIS SAT, STL, VRML, C3D. <br><br><h2>  <font color="#00B2FF">Experience using the C3D Toolkit</font> </h2><br>  As can be seen from the history, initially the geometric core was developed at ASCON for the needs of the machine-building system KOMPAS-3D.  It would seem that this is the "ceiling" of its use.  In practice, nothing prevents the use of C3D Toolkit components in engineering software with any other specialization.  The company ASCON clearly demonstrated this by the example of creating a system of architectural and construction design of <a href="http://rengabim.com/">Renga Architecture</a> .  The use of C3D Labs software allowed the developers of the joint venture ASCON and 1C to improve the functionality of the system and concentrate on the application's application tasks, without being distracted by solving basic geometric modeling problems: <br><br><blockquote>  <font color="#555555"><b>Maxim Nechiporenko, Deputy General Director of Renga Software:</b></font> <br><br>  One of the most important components of our software is the mathematical core.  Before we decided to create Renga, there was another research project in the depths of ASCON to create a new generation of CAD.  Despite the fact that we had our own core, on which KOMPAS-3D was written, we were faced with the task of researching the market.  Large-scale studies of cores that are used in other CADs and which can be licensed were carried out.  We were looking for something more efficient, something on which it would be possible to develop something more modern.  Conducted a study and came to the conclusion that our core is quite good, even worthwhile.  An interesting point was that as soon as the C3D Labs project was launched, the kernel was licensed by other developers, including external ones.  We have both Swedish and Korean customers.  As a result, it was decided that Renga will also be on this core. <br><br>  <i>(excerpt from an interview with Albert Sumin)</i> <br></blockquote> <br>  Who else uses the C3D Toolkit?  Today it is mainly CAD developers in Russia and abroad.  Among them are representatives of the engineering, woodworking and architectural and construction industries, developers of design software and applications for CNC machines, large corporations, as well as representatives of the progressive class, who are actively investing in cloud and mobile technologies.  At the request of the latter, we even translated the parametric solver C3D Solver into JavaScript language: <br><br> <a href=""><img src="https://habrastorage.org/web/66d/0af/6ba/66d0af6ba7f147068135499f364ec78f.png" alt="C3D Solver for JavaScript"></a> <br><br>  <i>Browser-based C3D Solver application for JavaScript (Picture is clickable)</i> <br><br>  Using JavaScript allows you to perform calculations in web applications on the client side.  At the same time, there is an interesting experience in developing a cloud service for 3D-design and room design, in which geometric calculations are performed on the server side.  The description of the project is presented <a href="https://habrahabr.ru/users/x512/posts/">in the article on Habrahabr</a> known specialist in the development of furniture CAD - Roman Kolesnikov. <br><br>  All of these programs are targeted at end users.  But there are other examples.  So, the company with the world name <a href="http://ledas.com/">LEDAS</a> from the Novosibirsk Academgorodok, whose employees for many years created high technologies for Dassault Syst√®mes, developed an embedded component for comparing the geometry of 3D models in various data formats.  LEDAS Geometry Comparison based on C3D Modeler has recently been integrated into a plugin for the Inventor system.  It turned out as if the ‚Äúcore in the core‚Äù or a peculiar matryoshka from technologies: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ogn-UOfCv90" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>LEDAS Geometry Comparison (LGC) demo application</i> <br><br>  And also, due to the fact that C3D Labs has a special education support program, Russian universities receive the C3D Toolkit on attractive terms.  As a rule, educational institutions use "nuclear" technologies in training future mathematicians-programmers and CAD developers.  Students perform research projects and write various university software.  There are some examples of the implementation of commercial projects based on the C3D Toolkit in the framework of small innovative firms that are actively being created at universities. <br><br><div class="spoiler">  <b class="spoiler_title">C3D Labs Customer List</b> <div class="spoiler_text">  Commercial organizations and enterprises: <br><br><img src="https://habrastorage.org/web/9e9/bfd/ef7/9e9bfdef759841c4a2e87e0f21a58661.png"><br><br>  Universities: <br><br><img src="https://habrastorage.org/web/120/cd0/311/120cd03111b04be18f1a4d4a77556702.png"><br><br>  <i>A description of the companies and the solutions they develop is presented <a href="http://c3dlabs.com/ru/about/customers/">on the website</a> .</i> <br></div></div><br>  This concludes our review.  In the following articles we will try to give more technical information about the components of the C3D Toolkit and answer the key questions that you may have formulated in the discussion for this post. <br><br><img src="https://habrastorage.org/web/f52/793/b03/f52793b0361243168fc76230ba4fb17c.jpg" align="left"><br>  <b>Arkady Kamnev</b> <br>  Marketing Manager at C3D Labs </div><p>Source: <a href="https://habr.com/ru/post/335110/">https://habr.com/ru/post/335110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335096/index.html">These toxic, toxic job interviews</a></li>
<li><a href="../335098/index.html">Galaxy generation and astronomy basic knowledge training</a></li>
<li><a href="../335102/index.html">Breakthrough in the business process automation market</a></li>
<li><a href="../335104/index.html">Solving a closed transport problem with additional conditions using Python tools</a></li>
<li><a href="../335106/index.html">Basics of working with LongPoll server VKontakte</a></li>
<li><a href="../335112/index.html">Model-View-Intent and Load / Update Indicator</a></li>
<li><a href="../335114/index.html">Interactive recommenders: how to create, how to work</a></li>
<li><a href="../335120/index.html">RailsClub 2017: we are waiting for all rubists on September 23 in Moscow</a></li>
<li><a href="../335122/index.html">Speed ‚Äã‚Äãup your website using machine learning.</a></li>
<li><a href="../335128/index.html">Getting started with Wagtail CMS (Django) and GraphQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>