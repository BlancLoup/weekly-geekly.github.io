<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WAMP: before installing a new release</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translator's Preface 
 Having very little experience with the WAMP toolkit (Windows Apache / MySQL / PHP), I was faced with the need to reinstall it b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WAMP: before installing a new release</h1><div class="post__text post__text-html js-mediator-article"><h5>  Translator's Preface </h5><br>  Having very little experience with the WAMP toolkit (Windows Apache / MySQL / PHP), I was faced with the need to reinstall it both with the goal of updating versions of its component parts, and with the goal of installing openssl.  Openssl, in turn, is necessary for me to use composer, and composer for installing Laravel 4. I need Laravel 4 just out of curiosity - I want to try a new version of a popular framework.  Now you know what led me to the translation of this article, which I stumbled upon while searching for tips from experienced people who have already passed this way on the <a href="http://forum.wampserver.com/">forum.wampserver.com</a> .  The article is fresh, dated October 11, 2013, it is possible for some of you to use it.  So‚Ä¶ <br><a name="habracut"></a><br>  <b>This process is not one of those where you click the ‚ÄúNext‚Äù button several times, then ‚ÄúFinish‚Äù and with this you can consider your task as completed.</b>  <b>Here there are lots of traps that you can please.</b>  <b>But the result is achievable if you attract a bit of common sense!</b> <br><br>  <i>Do not start this process if you have only 20 minutes.</i>  <i>This may be enough, but, depending on the level of your skill, as well as the number of releases of all 3 pieces of software that you missed, it may take a long time.</i> <br><br>  The whole process is based on the fact that the installation of WAMPServer basically simply copies the files to disk, knowing only which disk is being installed.  Only two Windows services are tied to the installation folder of the installation - 'wampapache' and 'wampmysql'.  Therefore, if we remove them, and in wampmanager there is such an option in the menu (Service-&gt; Remove service <i>, -</i> comment of the translator), then it can be argued that your original installation has been deleted. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First of all, make <b>backup copies of all</b> your databases (DB) in <b>Format = SQL</b> format, keeping in mind that your databases are not the ones that come with MySQL.  Keep your backups in a safe place ready for use. <br><br>  The databases that come with MySQL are 'mysql', 'information_schema' and 'performance_schema', you don‚Äôt need their backup copies unless you are sure of the opposite and you know for sure that you need them. <br>  Also, you do not need a 'test' database if you have not used it for something that needs to be saved. <br><br>  If your databases range from small to medium, then you can easily use phpMyAdmin to create backups. <br><br>  If the database is large and phpMyAdmin was unable to create a backup, (this is usually due to a limitation set in the PHP setting <b>max_runtime</b> ), then you can create a backup using the mysqldump.exe utility.  Read more about it on the site <a href="http://dev.mysql.com/">dev.mysql.com</a> . <br><br>  Further, if all your sites connect to their databases using 'localhost', 'root' and '' (empty password), then you don‚Äôt need to do anything else in this regard.  ( <b>THOUGH SO TO DO - A BAD IDEA</b> ). <br><br>  If you have a password for the root user and you use ('localhost', 'root' and 'some_am_am_installed_password'), then you just need to remember this password to set it in the new version of MySQL ( <b>SO TO DO IT IS A BAD IDEA</b> ). <br><br>  If you do business properly and create a unique MySQL user and password for each database of your sites, then you should record the user IDs and their passwords in order to recover them in the new version of MySQL. <br><br>  Or you can use phpMyAdmin to export users as SQL statements, save them and use them in the new version of MySQL. <br><br><h5>  So before installing a new version of the WAMP server </h5><br>  In fact, there are only 2 things installed by WampServer - these are the Apache and MySQL services. <br>  Therefore, we delete these 2 services: <br><br>  1. Launch WampServer <br>  2. wampmanager -&gt; Stop all Services <br>  3. wampmanager -&gt; MySQL -&gt; Service -&gt; Remove service <br>  4. wampmanager -&gt; Apache -&gt; Service -&gt; Remove service <br><br>  Now stop wampmanager by right-clicking the wampmanager -&gt; Exit menu. <br><br>  Rename the wamp folder to something like wamp_old.  This is your backup! <br><br>  <b>Now you can install a new copy of the WAMP server, let</b> 's do it. <br><br>  Download and install a new WAMP server, installation can be performed on any C, D, E drive, etc., can be installed in the root directory of the drive, for example C: \ wamp, <b>but do not install the package in the C: \ Program Files \ directory</b> <br><br>  Check the performance of your installation as follows: <br><br>  1. The wampmanager icon in the system area should become GREEN. <br>  2. Run: wampmanager -&gt; localhost <br>  3. Click on the link phpMyAdmin, make sure it works. <br><br>  WampServer 2.4 comes with a different phpmyadmin configuration, so initially, when it starts, the login page loads.  Remember that in the new installation, username = root and the password is NULL. <br><br>  If you still have problems, remember that this new installation does not contain all the changes that you might have made in the previous installation.  Therefore, right now you can compare your old and new configurations and transfer the necessary settings from the old configuration to the new one. <br><br>  <b>Remember that you are updating Apache, MySQL and PHP</b> , and the parameters of this whole trio could change / be deleted or new ones added !!! <br><br>  Therefore, do not just copy them from the old wamp configuration to the new one. <br>  YOU WILL HAVE PROBLEMS! <br>  (it was literally - DRAGONS WILL APPEAR, <i>-</i> comment of the translator) <br>  That is why we did not delete the old wamp folder, first you need to make sure that the new installation works correctly. <br><br>  These are the files you should definitely pay attention to, but depending on what you did with Apache / PHP / MySQL, there may be others and only you can know about it. <br><br>  Each change in these files must be accompanied by the Apache and MySQL health check: <br><br>  https.conf, <br>  \ wamp \ alias \ phpmyadmin.conf, <br>  \ wamp \ alias \ sqlbuddy.conf, <br>  \ wamp \ alias \ webgrind.conf, <br><br>  If you are using Apache 2.2.x, make sure that Apache security is configured as follows: <br>  Order Deny, Allow <br>  Deny from all <br>  Allow from 127.0.0.1 localhost :: 1 <br>  plus those specific ip-addresses that you gave access to Apache from your network, for example, <br>  Allow from 192.168.0 <br>  will give access to the server to any ip from your internal network. <br><br>  <b>If you are using Apache 2.4.x</b> <br>  It's time to read the attached post <a href="http://forum.wampserver.com/read.php%3F2,118138">Wampserver 2.4 What to do after Installing</a> . <br><br>  <b>Your php.ini uses Apache</b> <br>  (to access the file, click wampmanager -&gt; PHP -&gt; php.ini), the file is actually located in the \ wamp \ bin \ apache \ apachex.yz \ bin \ php.ini folder, but open it using the specified menu to edit it. <br><br>  <b>Your php.ini is using PHP CLI</b> <br>  If you really use PHP CLI (edit the file \ wamp \ bin \ php \ phpx.yz \ php.ini) <br><br>  Compare your old and new versions of files, remember that the settings could change, extensions could be added to the php kernel, and therefore not needed as extensions, etc. <br><br>  <b>Your my.ini</b> <br>  And again, remember that a lot could have changed, some parameters would disappear, others would be added, etc. <br>  For example, if you use the INNODB database, then you need to activate the innodb parameters, which are commented out by default. <br>  You can visit the mysql website, they have a ‚ÄúHow to upgrade‚Äù page for all versions of this DBMS. <br>  Here is an example - <a href="http://dev.mysql.com/">dev.mysql.com</a> . <br><br>  If you upgrade to mysql 5.6, you may want to add this parameter in order to reduce the amount of memory allocated for MySQL.  By default, about half a gigabyte of memory is allocated, this setting will reduce the amount allocated to a more acceptable one.  Set this setting in accordance with the capabilities of your system !!! <br>  table_definition_cache = 800 <br><br>  Now you can return to restoring users of MySQL and your databases in the new version of MySQL. <br>  If you are updating a VERY OLD version of MySQL, do not forget that the recovery process may not be so simple.  You may have to fix a couple of things before the new version of MySQL can accept your old data.  This is a rather rare situation, but it can happen.  And again I remind you - do not do the update 10 minutes before you will need to show a presentation using the new version of WampServer. <br><br>  <b>Transfer your websites to a new copy of WAMP</b> <br>  Just copy your \ wamp_old \ www \ * directory to the \ wamp \ www \ directory <br><br>  <b>Transferring virtual directories to a new copy of WAMP</b> <br>  In this case, you can move the file extras \ https-vhost.conf from the directory containing the old version of Apache to the directory with the new version of Apache. <br>  Remember that the instructions in this file may need corrections according to the rules of the new release of Apache. <br>  At a minimum, check the changes to 'Allow from', 'Require', and also remove the comment line from 'Include conf / extra / httpd-vhosts.conf' in your new httpd.conf file. <br><br>  <b>Transferring old versions of Apache, MySQL and PHP from the old version of wamp to the new one</b> <br>  Remember that one of the strengths of WAMPServer is the ability to switch between multiple versions of Apache, MySQL and PHP. <br><br>  Therefore, you can transfer them to a new installation of WampServer. <br><br>  Copy?: \ Wamp-old \ bin \ apache to?: \ Wamp \ bin <br>  Copy?: \ Wamp-old \ bin \ mysql to?: \ Wamp \ bin <br>  Copy?: \ Wamp-old \ bin \ php to?: \ Wamp \ bin <br><br>  It must be remembered that perhaps the first time you installed WampServer, which knows nothing about Apache 2.4, and also that NOT ALL versions of PHP will work under Apache 2.4. <br>  Basically, because when they were compiled and linked, Apache 2.4 did not exist yet, and the interaction between Apache and PHP was changed in Apache 2.4. <br><br>  So, in ALL versions of your PHP in the directory?: \ Wamp \ bin \ php \ phpx.yz \ there is a file named wampserver.conf. <br>  In older PHP releases, it may look something like this: <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $phpConf[<span class="hljs-string"><span class="hljs-string">'phpIniDir'</span></span>] = <span class="hljs-string"><span class="hljs-string">'.'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'phpExeDir'</span></span>] = <span class="hljs-string"><span class="hljs-string">'.'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'phpConfFile'</span></span>] = <span class="hljs-string"><span class="hljs-string">'php.ini'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'1.3'</span></span>][<span class="hljs-string"><span class="hljs-string">'LoadModuleName'</span></span>] = <span class="hljs-string"><span class="hljs-string">'php5_module'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'1.3'</span></span>][<span class="hljs-string"><span class="hljs-string">'LoadModuleFile'</span></span>] = <span class="hljs-string"><span class="hljs-string">'php5apache.dll'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'1.3'</span></span>][<span class="hljs-string"><span class="hljs-string">'AddModule'</span></span>] = <span class="hljs-string"><span class="hljs-string">'mod_php5.c'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'2.0'</span></span>][<span class="hljs-string"><span class="hljs-string">'LoadModuleName'</span></span>] = <span class="hljs-string"><span class="hljs-string">'php5_module'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'2.0'</span></span>][<span class="hljs-string"><span class="hljs-string">'LoadModuleFile'</span></span>] = <span class="hljs-string"><span class="hljs-string">'php5apache2.dll'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'2.0'</span></span>][<span class="hljs-string"><span class="hljs-string">'AddModule'</span></span>] = <span class="hljs-string"><span class="hljs-string">''</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'2.2'</span></span>][<span class="hljs-string"><span class="hljs-string">'LoadModuleName'</span></span>] = <span class="hljs-string"><span class="hljs-string">'php5_module'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'2.2'</span></span>][<span class="hljs-string"><span class="hljs-string">'LoadModuleFile'</span></span>] = <span class="hljs-string"><span class="hljs-string">'php5apache2_2.dll'</span></span>; $phpConf[<span class="hljs-string"><span class="hljs-string">'apache'</span></span>][<span class="hljs-string"><span class="hljs-string">'2.2'</span></span>][<span class="hljs-string"><span class="hljs-string">'AddModule'</span></span>] = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br><br>  This file tells wampmanager which libraries are called by the PHP interpreter and which main version of Apache they are compatible with. <br>  This information is used when switching between versions of Apache and PHP using the WampManager menu. <br>  Older versions may not contain such instructions for Apache 2.4, so you will have to add them yourself. <br><br>  Add this new section only if your version of PHP contains the file php5apache2_4.dll in its directory. <br>  If it is missing, and they exist only for PHP versions&gt; 5.3.17 or so, do not add a new section to wampserver.conf. <br><br><pre> <code class="apache hljs">$<span class="hljs-attribute"><span class="hljs-attribute">phpConf</span></span>['apache']['2.4']['LoadModuleName'] = 'php5_module'; $phpConf['apache']['2.4']['LoadModuleFile'] = 'php5apache2_4.dll'; $phpConf['apache']['2.4']['AddModule'] = '';</code> </pre><br><br>  So, if you are using Apache 2.4.x, and your PHP version does not contain the php5apache2_4.dll file, then you will see a small entry denying icon next to this version if you go to the WampManager menu and look in the PHP -&gt; Versions section.  This is a visual confirmation that you should not have switched to this version of PHP using the current version of Apache.  Of course, you can change your version of Apache to one that is compatible with this version of PHP and the visual display will change. <br><br>  But remember that this mechanism is controlled by a unique file for each version of PHP file wampserver.conf.  You cannot simply add version 2.4 information to each file, but only to those that actually come with the php5apache2_4.dll library.  And, anticipating your question, I will assume, just assume that it may be possible to recompile old versions of PHP in order to achieve compatibility with Apache 2.4, but maybe this will not happen.  Older versions of PHP are old for a reason, and you should take them into consideration only if you need to create your development environment as close as possible to your code deployment environment.  Or if you are using some very old and possibly badly written php code.  In this case, you can definitely use the old version of Apache. <br><br>  <b>If, however, everything goes so damn wrong</b> , and you have to go back to the previous version. <br><br>  We can return to the original version of wamp like this: <br><br>  Launch the new WAMPServer and remove the MySQL and Apache services. <br><br>  wampmanager -&gt; Stop all services <br>  wampmanager -&gt; MySQL -&gt; Service -&gt; Remove service <br>  wampmanager -&gt; Apache -&gt; Service -&gt; Remove service <br><br>  Now stop wampmanager. <br>  Right-click on wampmanager -&gt; Exit <br><br>  Rename the current \ wamp folder to, for example, \ wamp_new (or, if you have completely surrendered, you can simply delete it and start from scratch some other time). <br>  Rename the \ wamp_old folder back to \ wamp. <br><br>  We start wampmanager, the icon on your desktop should work as before, we install the MySQL and Apache services. <br><br>  wampmanager -&gt; MySQL -&gt; Service -&gt; Install service <br>  wampmanager -&gt; Apache -&gt; Service -&gt; Install service <br><br>  You must return to the starting point of the update process. <br>  Do not forget to clear your browser's cache (CTRL + F5), so as not to encounter oddities due to switching between installations. <br><br>  PS Habr for some reason does not consider this a link, because I give a link to the <a href="http://forum.wampserver.com/read.php%3F2,118682">original</a> at the end of the article. <br>  PSS Markup article as close as possible to the original. </div><p>Source: <a href="https://habr.com/ru/post/198514/">https://habr.com/ru/post/198514/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198498/index.html">ICANN gave the green light to delegate two new zones: ONLINE and SITE</a></li>
<li><a href="../198504/index.html">[Translation] 6 misconceptions in the methodology "Lean Startup" ("Lean Startup")</a></li>
<li><a href="../198506/index.html">Gartner Gartner technology maturity cycle - when introducing a new system in the enterprise</a></li>
<li><a href="../198510/index.html">New PhpStorm 7: outside the language</a></li>
<li><a href="../198512/index.html">In the footsteps of Cousteau, or the New Odyssey for Russian crowdfunding</a></li>
<li><a href="../198518/index.html">Performa 475 + Dial-Up Internet</a></li>
<li><a href="../198522/index.html">I invite you to the II All-Russian Linux Administration Olympiad</a></li>
<li><a href="../198526/index.html">GeeXboX is fully ported to Raspberry Pi</a></li>
<li><a href="../198530/index.html">Moscow City Court began to satisfy the first claims of anti-piracy copyright holders</a></li>
<li><a href="../198532/index.html">Fukami, part 1: turnips with tentacles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>