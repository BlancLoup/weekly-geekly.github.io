<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Read between notes: data transfer system inside music</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Express what words cannot convey; feel a variety of emotions, intertwined in a hurricane of feelings; take off from the earth, the sky and even the un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Read between notes: data transfer system inside music</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/kw/7r/rf/kw7rrf4dtjwwh3x_iveb9ffp6ys.jpeg"><br><br>  Express what words cannot convey;  feel a variety of emotions, intertwined in a hurricane of feelings;  take off from the earth, the sky and even the universe itself, having gone on a journey where there are no maps, no roads, no signs;  invent, tell and relive the whole story, which will always remain unique and unique.  All this allows us to make music - an art that has been around for thousands of years and soothes our hearts and ears. <br><br>  However, music, or rather musical works, can serve not only for aesthetic pleasure, but also for transmitting information encoded in them, intended for any device and invisible to the listener.  Today we will get acquainted with a very unusual study, in which graduate students from Zurich Swiss Higher Technical School were able to implant certain data into musical works unnoticed by the human ear, due to which the music itself becomes a data transmission channel.  How exactly did they implement their technology, are the melodies very different from and without embedded data, and what did the practical tests show?  About this we learn from the report of the researchers.  Go. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  The basis of the study </h3><br>  Researchers call their technology acoustic data transmission technology.  When the speaker plays the modified melody, the person perceives it as normal, but, for example, the smartphone can read the encoded information between the lines, more precisely between the notes, if I may say so.  The most important aspect in the implementation of this data transfer method, scientists (the fact that these guys are still graduate students does not prevent them from being scientists) call the speed and reliability of transmission while maintaining the level of these parameters, regardless of the selected audio file.  The psychoacoustics, which studies the psychological and physiological aspects of human perception of sounds, helps to cope with this task. <br><br>  The core of acoustic data transmission can be called OFDM (orthogonal frequency division multiplexing), which, along with the adaptation of subcarriers to the original music over time, allowed the maximum use of the transmitted frequency spectrum for information transmission.  Due to this, it was possible to achieve a transmission speed of 412 bps at a distance of up to 24 meters (error rate &lt;10%).  Practical experiments with the participation of 40 volunteers confirmed the fact that it is almost impossible to hear the difference between the original melody and the one into which the information was introduced. <br><br>  Where can such technology be applied in practice?  The researchers have their own answer: almost all modern smartphones, laptops and other handheld devices are equipped with microphones, and in many public places (cafes, restaurants, shopping centers, etc.) there are speakers with background music.  In this background melody, you can embed, for example, data for connecting to a Wi-Fi network without the need for additional actions. <br><br>  The general features of acoustic data transmission have become clear to us, now we turn to a detailed study of the structure of this system. <br><br><h3>  System description </h3><br>  The introduction of data into the melody occurs due to frequency masking.  In time intervals, the masking frequencies are identified, and OFDM subcarriers close to these masking elements are filled with data. <br><br><img src="https://habrastorage.org/webt/sw/mc/qr/swmcqr7hf4_2sxjvoqpxac04g9g.jpeg"><br>  <i>Image number 1: convert the original file into a composite signal (melody + data) transmitted through the speakers.</i> <br><br>  To begin with, the original audio signal is divided into consecutive segments for analysis.  Each such segment (H <sub>i</sub> ) of L = 8820 samples, equal to 200 ms, is multiplied by the <i>window *</i> to minimize the boundary effects. <blockquote>  <b>Window *</b> is a weight function used to control the effects caused by the presence of side lobes in the spectral estimates. </blockquote>  Further, the dominant frequencies of the original signal were detected in the range from 500 Hz to 9.8 kHz, which made it possible to obtain the masking frequencies f <sub>M, l</sub> for this segment.  In addition, data was transmitted in a small range from 9.8 to 10 kHz to establish the location of the subcarriers in the receiver.  The upper limit of the frequency range used was set to 10 kHz due to the low sensitivity of the smartphone‚Äôs microphones at high frequencies. <br><br>  The masking frequencies were determined for each analyzed segment individually.  Through the HPS method (harmonic spectrum of products), three dominant frequencies were established, after which they were rounded to the nearest notes of a harmonic chromatic scale.  This is how the basic notes f <sub>F, i</sub> = 1 ... 3, were found, lying between the keys C0 (16.35 Hz) and B0 (30.87 Hz).  Assuming that the main notes are too low for use in data transmission, in the range of 500 Hz ... 9.8 kHz their higher octaves were calculated 2 <sup>k</sup> f <sub>F, i</sub> .  Many of these frequencies (f <sub>O, l <sub>1</sub></sub> ) were more pronounced due to the nature of HPS. <br><br><img src="https://habrastorage.org/webt/ed/2g/sd/ed2gsdvbem3wgrpzguewz9b-sz0.jpeg"><br>  <i>Image No. 2: the calculated octaves f <sub>O, l <sub>1</sub></sub> for the fundamental notes and harmonics f <sub>H, l <sub>2 of</sub></sub> the strongest tone.</i> <br><br>  The set of octaves and harmonics as a result was used as masking frequencies, on the basis of which OFDM frequencies f <sub>SC, k</sub> were obtained.  Two subcarriers were inserted below and above each masking frequency. <br><br>  Next, the spectrum of the audio segment H <sub>i</sub> was filtered at subcarrier frequencies f <sub>SC, k</sub> .  After that, based on the information bits, an OFDM symbol was created in Bi, due to which the composite segment C <sub>i</sub> could be transmitted through the speaker.  The sizes and phases of the subcarriers must be selected in such a way that the receiver can retrieve the transmitted data while the listener does not notice any changes in the melody. <br><br><img src="https://habrastorage.org/webt/oc/2d/ku/oc2dku9uugrx8luxrzkqx1ki3xg.jpeg"><br>  <i>Image number 3: part of the spectrum and the frequency of the subcarriers of the Hi segment of the original melody.</i> <br><br>  When an audio signal with information encoded in it is played through the speakers, the receiver‚Äôs microphone records it.  To find the starting positions of the built-in OFDM symbols, the entries must first be passed through band-pass filtering.  Thus, the upper frequency range is extracted, where there is no musical signal-interference between the subcarriers.  Find the beginning of the OFDM symbols using the cyclic prefix. <br><br>  After detecting the beginning of the OFDM symbols, the receiver obtains information about the most dominant notes by decoding the upper frequency domain.  In addition, OFDM is sufficiently robust to sources of narrowband interference, since they only affect some of the subcarriers. <br><br><h3>  Practical tests </h3><br>  The KRK Rokit 8 speaker was the source of the modified tunes, and the Nexus 5X smartphone played the role of the host. <br><br><img src="https://habrastorage.org/webt/l3/lu/zv/l3luzvp8omua1ke5o8o0dutb6km.jpeg"><br>  <i>Image No. 4: the difference between the actual manifestations of OFDM and the correlation peaks measured indoors at a distance of 5 m between the speaker and microphone.</i> <br><br>  Most OFDM points are in the range of 0 to 25 ms, so you can find a valid start within the cyclic prefix of 66.6 ms.  The researchers note that the receiver (in this experience, the smartphone) takes into account that OFDM symbols are reproduced periodically, which improves their detection. <br><br>  The first thing to check was the effect of distance on the bit error rate (BER).  For this, three tests were carried out in different types of premises: a corridor with carpet, a room with linoleum on the floor and an audience with a wooden floor. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/FFez84xaR6Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>The song ‚ÄúAnd The Cradle Will Rock‚Äù by Van Halen was chosen as the ‚Äútest subject‚Äù.</i> <br><br>  The volume of the sound was adjusted so that the sound level measured by the smartphone at a distance of 2 m from the speaker was 63 dB. <br><br><img src="https://habrastorage.org/webt/tj/08/qp/tj08qpws57mrul3ordhuifu5oem.jpeg"><br>  <i>Image No. 5: BER indicators depending on the distance between the speaker and microphone (the blue line is the audience, the green is the corridor, the orange is the office).</i> <br><br>  In the corridor, the sound of 40 dB was picked up by the smartphone at a distance of up to 24 meters from the speaker.  In the audience at a distance of 15 m, the sound was 55 dB, and in the office, at a distance of 8 meters, the level of sound perceived by the smartphone reached 57 dB. <br><br>  Due to the fact that the audience and the office are more reverberant, later echoes of the OFDM symbols exceed the length of the cyclic prefix and increase the BER. <blockquote>  <b>Reverberation *</b> - a gradual decrease in the sound intensity due to its multiple reflection. </blockquote> Next, the researchers demonstrated the versatility of their system by applying it to 6 different songs of three genres (table below). <br><br><img src="https://habrastorage.org/webt/hx/-2/az/hx-2azwfrzufrefrhv-yo3py9og.jpeg"><br>  <i>Table 1: used in the test songs.</i> <br><br>  Also, through the table data, we can see the transmission rate and bit error rates for each song.  The data transfer rate is different because differential BPSK (phase shift keying) works better when the same subcarriers are used.  And this is possible when neighboring segments contain the same masking elements.  Continuously loud songs provide an optimal base for hiding data, since the masking frequencies are more pronounced in a wide frequency range.  Rapidly changing music can mask OFDM symbols only partially due to the fixed length of the analysis window. <br><br>  Next, people started testing the system, which should have determined which melody was original and which was modified by the information embedded in it.  To do this, 12-second passages of songs from table number 1 were posted on a special website. <br><br>  In the first experiment (E1), each participant was provided with either a modified or original fragment for listening, and he had to decide whether this fragment was original or modified.  In the second experiment (E2), participants could listen to both versions as many times as they like, and then decide which one was original and which one was changed. <br><br><img src="https://habrastorage.org/webt/-e/h0/nt/-eh0ntujw0zx3u34x5wnymy6kvm.jpeg"><br>  <i>Table 2: the results of experiments E1 and E2.</i> <br><br>  There are two indicators in the results of the first experiment: p (O | O) - the percentage of participants who correctly marked the original melody and p (O | M) - the percentage of participants who marked the modified version of the melody as original. <br><br>  It is curious that some participants, according to the researchers, considered certain modified melodies to be more original than the original itself.  The average of both experiments suggests that the average listener will not notice the difference between the usual melody and the one into which the data was embedded. <br><br>  Naturally, connoisseurs of music and musicians will be able to catch some inaccuracies and suspicious elements in the modified melodies, but these elements are not so significant as to cause discomfort. <br><br>  And now we ourselves can participate in the experiment.  Below are two versions of the same melody - original and modified.  Do you hear the difference? <br><br>  <a href="">Original version of the melody</a> <br>  vs <br>  <a href="">Modified version of the melody</a> <br><br>  For a more detailed acquaintance with the nuances of the study I recommend to look into the <a href="https://tik-old.ee.ethz.ch/file/8a61c16532c1d4f9021d3aaf06f4f381/imperceptible_audio_communication.pdf">report of the</a> research group. <br><br>  You can also download a zip archive of original and modified melodies used in the study via <a href="https://www.research-collection.ethz.ch/handle/20.500.11850/297564">this link</a> . <br><br><h3>  Epilogue </h3><br>  In this work, the graduate students of the Swiss Higher Technical School Zurich described an amazing data transfer system inside the music.  To do this, they applied frequency masking, which made it possible to embed data into the melody played by the speaker.  This tune is perceived by the microphone of the device, which recognizes the hidden data and decodes it, while the average listener will not even notice the difference.  In the future, the guys plan to develop their system, selecting more advanced methods for embedding data in audio. <br><br>  When someone comes up with something unusual, and most importantly working, we are always happy.  But even more joy from the fact that this invention was created by young people.  Science has no age limit.  And if young people consider science to be boring, then it is presented not from that angle, so to speak.  After all, as we know, science is a wonderful world that never ceases to amaze. <br><br><div class="spoiler">  <b class="spoiler_title">Friday off-top:</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/pjTUKNhoQ58" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Since we are talking about music, or rather about rock music, then here's a great journey through the expanses of rock.</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/azdwsXLmrHE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Queen, "Radio Ga Ga" (1984).</i> <br><br>  Thank you for your attention, remain curious, and have a great weekend, guys!  :) <br></div></div><br><br>  Thank you for staying with us.  Do you like our articles?  Want to see more interesting materials?  Support us by placing an order or recommending to friends, <b>30% discount for Habr's users on a unique analogue of the entry-level servers that we invented for you:</b> <a href="https://habr.com/company/ua-hosting/blog/347386/">The whole truth about VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps from $ 20 or how to share the server?</a>  (Options are available with RAID1 and RAID10, up to 24 cores and up to 40GB DDR4). <br><br>  <b>Dell R730xd 2 times cheaper?</b>  Only we have <b><a href="https://ua-hosting.company/serversnl">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV from $ 199</a> in the Netherlands!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - from $ 99!</b></b>  Read about <a href="https://habr.com/company/ua-hosting/blog/329618/">How to build an infrastructure building.</a>  <a href="https://habr.com/company/ua-hosting/blog/329618/">class c using servers Dell R730xd E5-2650 v4 worth 9000 euros for a penny?</a> </div><p>Source: <a href="https://habr.com/ru/post/459594/">https://habr.com/ru/post/459594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459584/index.html">I found a great programmer named Steve Wozniak</a></li>
<li><a href="../459586/index.html">Garden v0.10.0: Your laptop does not need Kubernetes</a></li>
<li><a href="../459588/index.html">Do not agree to develop what you do not understand.</a></li>
<li><a href="../459590/index.html">Decentralized open source affiliate program on the Waves blockchain</a></li>
<li><a href="../459592/index.html">Three time management tips for those who have tried everything.</a></li>
<li><a href="../459596/index.html">iOS digest number 9 (June 28 - July 11)</a></li>
<li><a href="../459598/index.html">SELinux Frequently Asked Questions (FAQ)</a></li>
<li><a href="../4596/index.html">Social network as a way to improve yourself</a></li>
<li><a href="../45960/index.html">"I do not minus" or the value of diversity</a></li>
<li><a href="../459602/index.html">Embed Lua interpreter in the project for the microcontroller (stm32)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>