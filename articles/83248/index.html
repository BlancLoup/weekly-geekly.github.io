<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>iPod and Python: sort albums in chronological order</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Problem 
 Sometimes it seems to me that Apple is trying hard to simplify its products. On the one hand, it is wonderful, but on the other - it is very...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>iPod and Python: sort albums in chronological order</h1><div class="post__text post__text-html js-mediator-article"><h4>  <b>Problem</b> </h4><br>  Sometimes it seems to me that Apple is trying hard to simplify its products.  On the one hand, it is wonderful, but on the other - it is very regrettable.  After all, additional settings complicate our life in the first couple of weeks of using the product (until you get used to it, you will understand), but then they allow you to customize it for yourself and get the gadget (or program) of your dreams. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a23/2de/895/a232de8956dadd744f4c3398249afe86.png" alt="Album by Year" align="right">  If you are a happy owner of iPod, then you probably noticed that all the albums on it (on the player) are sorted strictly in alphabetical order.  And nothing else.  And you no settings and expert-mods.  They said "in alphabetical order", it means in alphabetical order.  What is remarkable - there is such a button in iTunes ( <b>Album by Year</b> ).  But there I needed it the least. <br><br>  Fortunately, this problem (as well as the problem of adding separately downloaded episodes to an existing iTunes podcast) has a solution.  Not as simple as we would like, but very exciting. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  <b>Solve the forehead</b> </h4><br>  A completely simple, but not too elegant solution comes in the first in the first couple of seconds.  Just for all the albums we turn the contents of the tag <b>% album%</b> into <b>% year% -% album%</b> , and the problem is solved.  And it is sorted as it should, and even the year can be viewed directly on iPod-e (without this kind of preparation, the year of release of the album on the player itself cannot be clarified). <br><br>  Perhaps you are satisfied with this option, but it seemed to me unsatisfactory.  One thing is a folder on the disk (I used to call them in the format% year% -% album%), and another thing is an elegant album with albumart on iPod-e.  In addition, I am not interested in the specific year in which the album was released.  I just want to know which albums belong to the early work of this or that group, and which were released just recently, to see how the group has changed over time, how its style has changed.  This is what prompted me to study the problem in more detail and search for its solution. <br><br><h4>  <b>iTunes</b> </h4><br>  There are no perfect programs.  iTunes is no exception.  Nevertheless, it is a convenient and enjoyable application.  At least that's how I began to think after several months of use, when I finally came to terms with this Apple simplicity.  And when it turned out that there is something in iTunes that will help solve the problem to a certain extent, I finally got rid of my thoughts about searching for an iTunes replacement. <br><br><h4>  <b>He said: "Let's go!"</b> </h4><br>  Entry behind and finally we begin to act.  Select all the tracks of an album and open the context menu.  There we find a great item <b>Get Info</b> , which hides all the information about the selected tracks.  We are currently interested in the <b>Sorting</b> tab: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/bf9/c59/5d6/bf9c595d622ae465b15aa8b22c5d9ef3.png" alt="Sorting tab"><br><br>  I did not specify the purpose of these fields in the documentation, but all my life experience suggests that if the Sort Album field is filled, then when sorting albums in iTunes (if not <b>Album by Year is</b> selected in the album column, but simply <b>Album</b> ) it is the key that will be the key (similarly to the other sort fields).  And, most importantly, the same key will be used when sorting albums directly on the player itself.  This is what we need.  We enter in the specified field <b>‚Äú2007 - Are You Listening‚Äù</b> and rejoice at how everything went smoothly with us.  Now we have exactly one album, which is sorted (with itself) in chronological order =) <br><br><h4>  <b>And ahead - forever</b> </h4><br>  The problem seemed to be solved.  And in fact, everything is just beginning.  After releasing the player to the n-th number of gigabytes, Apple should simply not expect that you can buy so much music from the Apple Store (and other sources probably did not take into account).  Or maybe they did not expect that one day they would want to sort all the albums by date.  The fact is that I simply cannot repeat this procedure with the remaining five hundred albums in my record library.  As stated in a recent C # puzzle: ‚ÄúNever send a human to a machine machine job‚Äù. <br><br><h4>  <b>And then Python appears on the scene.</b> </h4><br>  That is what we use to process our library.  All at once. <br><br>  As it turned out, iTunes saves the value of the " <b>Sort Album</b> " field in the <b>TSOA</b> tag of the mp3 file (you can read about other iTunes tags <a href="http://www.id3.org/iTunes">here</a> ).  Knowing this, we can appropriately fill this tag in our files, and then add them to the iTunes library. <br><br>  Python libraries for working with id3 tags turned out to be not much, but not a little.  My choice fell on <b>mutagen</b> (other options can be found <a href="http://www.id3.org/Implementations">here</a> ). <br><br>  <a href="http://code.google.com/p/mutagen/"><b>Mutagen</b></a> allows <a href="http://code.google.com/p/mutagen/"><b>you</b></a> to work with the metadata of a sufficiently large number of audio formats (ASF, FLAC, M4A, Monkey's Audio, MP3, Musepack, Ogg FLAC, Ogg Speex, Ogg Theora, etc.) We are interested in id3 tags in mp3-files.  The library provides two interfaces for manipulating them: <b>ID3</b> and <b>EasyID3</b> .  I think the difference is not necessary to explain.  At first I played with the first one, but then it turned out that the capabilities of the second one are quite enough. <br><br><h4>  <b>Actually code</b> </h4><br>  At once I will make a reservation that my Python-e programming experience tends to infinity, but so far is approximately zero.  I tried to write everything so that it would not be a shame to show it to society, but I am not sure that it turned out quite well.  Therefore, I would appreciate any meaningful comments expressed in a friendly way. <br><br>  As for the algorithm, it is quite obvious: we run through the necessary files, extract the release year and the album name from the tags and fill in the <b>TSOA</b> tag <b>accordingly</b> .  I came to the conclusion that the <b>% artist% -% year% -% album</b> %% format suits me the most.  With this <b>TSOA</b> tag <b>value, the</b> albums will be sorted by artist, then by year, and then alphabetically (if all of a sudden one fine year your favorite band discarded more than one album).  Python, they say, has a very friendly syntax, so even if you are not familiar with it, making small adjustments to your liking in the script below will not be a problem. <br><br>  In the process of processing five thousand tracks, a lot can happen, so I added a little service output to observe how things are progressing, and a log for displaying errors about the lack of tags in the file.  After all, adding to iTunes a file without an artist or album in tags is a bad thing, so it will be useful to find out which files we are not yet ready to migrate to iPod. <br><br>  I was too lazy to c docstring, but I diluted the code with comments.  I hope this will help orient those who are not very familiar with Python. <br><br>  Code: <br><blockquote><code><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> <font color="black">Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> <ol> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML #!usr/bin/env python <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> # -*- coding: utf-8 -*- <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> # Created by KL-7 <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError #     totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> #     <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): #  -   <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) #    tagname   audio <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> #   TSOA <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) #     TSOA tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) # EasyID3      . <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> #  TSOA     albumsort. audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): #       root  <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> #     dirname. <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> # fnames -    dirname. <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> #  arg ,     . <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: #     Unicode fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) #      root <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> #   process; None   <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> #  process  . path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : #   ,    , <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> #   . <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) #   ,     . <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6012/s"></a> <a href="http://s-c.me/6012/h"></a> Copy Source | Copy HTML <font color="#696969">#!usr/bin/env python</font> <font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#696969"># Created by KL-7</font> <font color="#0000ff">import</font> logging <font color="#0000ff">import</font> sys <font color="#0000ff">from</font> os <font color="#0000ff">import</font> path <font color="#0000ff">from</font> mutagen.easyid3 <font color="#0000ff">import</font> EasyID3 <font color="#0000ff">from</font> mutagen.id3 <font color="#0000ff">import</font> ID3NoHeaderError <font color="#696969">#    </font> totalfiles = <font color="#008000">0</font> <font color="#696969">#    </font> <font color="#0000ff">def</font> <font color="#cc6633">error</font> (err): <font color="#696969">#  -  </font> <b>logging</b> .basicConfig(filename= <font color="#008000">"error.log"</font> , level= <b>logging</b> .ERROR) <b>logging</b> . <font color="#cc6633">error</font> (err) <font color="#696969">#    tagname   audio</font> <font color="#0000ff">def</font> <font color="#cc6633">gettag</font> (audio, tagname): taglist = audio.get(tagname, None) <font color="#0000ff">if</font> taglist: <font color="#0000ff">return</font> taglist[ <font color="#008000">0</font> ] <font color="#0000ff">else</font> : <font color="#0000ff">return</font> <font color="#008000">""</font> <font color="#696969">#   TSOA</font> <font color="#0000ff">def</font> <font color="#cc6633">fill_tsoa</font> (fpath): audio = EasyID3(fpath) artist = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"artist"</font> ) <font color="#0000ff">if not</font> artist: <font color="#cc6633">error</font> ( <font color="#008000">"Missing artist in %s"</font> % fpath) album = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"album"</font> ) <font color="#0000ff">if not</font> album: <font color="#cc6633">error</font> ( <font color="#008000">"Missing album in %s"</font> % fpath) year = <font color="#cc6633">gettag</font> (audio, <font color="#008000">"date"</font> ) <font color="#0000ff">if not</font> year: <font color="#cc6633">error</font> ( <font color="#008000">"Missing year in %s"</font> % fpath) <font color="#696969">#     TSOA</font> tsoa = <font color="#008000">"%s -- %s - %s"</font> % (artist, year, album) <font color="#696969"># EasyID3      .</font> <font color="#696969">#  TSOA     albumsort.</font> audio[ <font color="#008000">"albumsort"</font> ] = tsoa audio.save() <font color="#0000ff">def</font> <font color="#cc6633">fill_rec</font> (root): <font color="#696969">#       root </font> <font color="#696969">#     dirname.</font> <font color="#696969"># fnames -    dirname.</font> <font color="#696969">#  arg ,     .</font> <font color="#0000ff">def</font> <font color="#cc6633">process</font> (arg, dirname, fnames): <font color="#0000ff">for</font> fname <font color="#0000ff">in</font> fnames: <font color="#696969">#     Unicode</font> fname = fname.decode( <font color="#008000">"cp1251"</font> ) name, ext = path.splitext(fname) fname = path.join(dirname, fname) <font color="#0000ff">if</font> path.isfile(fname) <font color="#0000ff">and</font> ext.lower() == <font color="#008000">".mp3"</font> : <font color="#0000ff">try</font> : <font color="#cc6633">fill_tsoa</font> (fname) <font color="#0000ff">global</font> totalfiles totalfiles = totalfiles + <font color="#008000">1</font> <font color="#0000ff">print</font> fname <font color="#0000ff">except</font> ID3NoHeaderError: <font color="#cc6633">error</font> ( <font color="#008000">"No tags in %s"</font> % fname) <font color="#696969">#      root</font> <font color="#696969">#   process; None  </font> <font color="#696969">#  process  .</font> path.walk(root, <font color="#cc6633">process</font> , None) <font color="#0000ff">if</font> __name__ == <font color="#008000">"__main__"</font> : <font color="#696969">#   ,    ,</font> <font color="#696969">#   .</font> <font color="#0000ff">if</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#0000ff">for</font> dirname <font color="#0000ff">in</font> <b>sys</b> .argv[ <font color="#008000">1</font> :]: <font color="#cc6633">fill_rec</font> (dirname) <font color="#696969">#   ,     .</font> <font color="#0000ff">else</font> : <font color="#cc6633">fill_rec</font> ( <font color="#008000">"."</font> ) <font color="#0000ff">print</font> <font color="#008000">"\nTotal files: %d"</font> % totalfiles <b>raw_input</b> ();</font></code> </li> <li></li></ol></blockquote><br><br>  You can copy the script to the directory with music and run without parameters.  In this case, all mp3 files in the <b>current</b> directory and in all <b>subdirectories</b> will be processed.  And you can independently transfer to the script in the form of parameters a list of necessary directories ( <b>subdirectories</b> will be processed in this case as well). <br><br>  When the script finishes (it does not last too long), the data in the iTunes library will be updated.  If these files you have not added there, then now is the time.  If you edited tags in files already present in iTunes, you just need to select them in the iTunes window, open Get Info via the context menu and, <b>without editing anything</b> , click <b>Ok</b> .  iTunes will simply update all tags from selected files. <br><br><h4>  <b>AS IS</b> </h4><br>  A few notes about the script: <br><ol><li>  If you value your library, then it may be worthwhile to first test the script on several files ‚Äî a lot of things can happen.  I had a back-up of the entire collection, so I was not worried. </li><li>  It is possible that there may be problems when adding a too long string to the <b>TSOA</b> tag (I did not read the documentation on the internal structure of the tag block in mp3 files).  The longest line in the TSOA tag (with my format is% artist% -% year% -% album%), which I happened to meet in my library, contained 93 characters.  The tag was successfully saved in the file and everything was fine with it. </li><li>  The script easily processed 5,000 files with English names.  I did not have Russian music in the library, but the test showed that tags are successfully added to the Cyrillic files in the title.  In order to display the names of Russian-language files in the console (cmd) in a readable form, we had to add decoding of the name (line 58).  It was under Windows, as under other axes - I do not know.  Therefore, if you are not dealing with Russian file names, it is better to comment out this line. </li><li>  German and other names of files with diacritical marks I personally did not want to be processed.  How to solve the problem, I have not yet figured out.  The problem is that the file is called, for example, ‚ÄúVerf <b>√º</b> hrer.mp3‚Äù, and the script is called ‚ÄúVerf <b>u</b> hrer.mp3‚Äù.  File with the same name in the folder, of course, no.  Again, this is all Windows.  Personally, I have diacritical marks in tags (there is Unicode and everything is fine), but I avoid them in the file names.  Therefore, everything went well. </li></ol><br><h4>  <b>Afterword</b> </h4><br>  If there are any other comments or problems - write.  If there are suggestions how to solve problems with encodings, write even faster.  To be honest, on all systems and in all languages, my entire conscious life constantly had problems with encodings.  Maybe we are too different with them, but maybe I just need to sit down and deal with them all properly.  One day I will definitely do it. <br><br>  That's all for now.  I would be glad if someone this script will be useful or at least interesting. <br><br>  <b>PS</b> <br>  Can anyone tell <b>me</b> what prompted <b>sc.me to</b> add a space in front of the zero in line 22?  It was not in the source.  If in html-e to remove in this place nbsp, then along with the space disappears and 0. And this is not good. </div><p>Source: <a href="https://habr.com/ru/post/83248/">https://habr.com/ru/post/83248/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../83240/index.html">Laser modem 1+ Gbit / s to replace WiFi</a></li>
<li><a href="../83241/index.html">For PSP with firmware 6.20, found exploit</a></li>
<li><a href="../83243/index.html">News from IE Team after joining SVG WG</a></li>
<li><a href="../83245/index.html">PrePeat - we save on consumables, we print on plastic</a></li>
<li><a href="../83247/index.html">Flying webpage</a></li>
<li><a href="../83250/index.html">We rate our work by the magnitude of the result.</a></li>
<li><a href="../83252/index.html">Astronauts post on Twitter photos of Earth from space</a></li>
<li><a href="../83255/index.html">Laptop AST PenExec 3/25 SL</a></li>
<li><a href="../83259/index.html">Another opera assembly of February 5 (3222 | 8240 | 6208)</a></li>
<li><a href="../83261/index.html">You are joking, of course, Mr. Feynman!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>