<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Remote annunciator of critical temperature and humidity based on AVR MK and DHT22 sensor</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After a row of 2 air conditioner breakdowns in the server room and subsequent overheating of the room for several days, the question arose of monitori...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Remote annunciator of critical temperature and humidity based on AVR MK and DHT22 sensor</h1><div class="post__text post__text-html js-mediator-article"><p>  After a row of 2 air conditioner breakdowns in the server room and subsequent overheating of the room for several days, the question arose of monitoring the temperature in it.  It would be possible daily (hourly / every minute) to watch the temperature from the temperature sensors built into the servers using the IPMI control interface.  But in this case there is a human factor on which, in this case, has its negative realization that it would be possible to automate everything much better.  It so happened that I just recently became fascinated with such an extremely interesting thing as microcontrollers, so the task of automation using the MC was a new and interesting opportunity to realize the accumulated knowledge in a project useful to the world. <a name="habracut"></a></p><br><h3>  The general scheme of the device and the tools used. </h3><br><p>  As a basis, it was decided to take one of the Arduino boards.  Prices for Chinese counterparts are low and all the necessary MK strapping is compactly placed on the module.  Originally intended to use the Arduino Pro + DHT22.  Arduino Pro - as the cheapest, small, but quite functional board.  DHT22 - because this sensor can, in contrast to the cheaper DS18B20, also detect humidity.  And it is also useful to us.  The server, by a funny coincidence, is located next to the toilet, which can flood everything around it completely without raising the temperature, for example. </p><br><p>  With such a scheme, the MK, in case of exceeding the critical temperature or humidity, was supposed to send a twisted pair (~ 70m long) cable to the IT department's office.  Well, here it is to sound a buzzer and blink with multicolored LEDs in every way informing us about the approaching apocalypse.  Unfortunately, this simple solution turned out to be unsuitable due to the absence of a direct line (without intermediate hubs) between the server and our office. </p><br><p>  <em>Photo of the 1st version of the device:</em> </p><br><p><img src="https://habrastorage.org/files/422/d7d/0e9/422d7d0e98864d149b603b980ea0456f.jpg" alt="image"></p><br><p>  Then it was decided to connect the arduinka to a computer via USB and transfer data on temperature and humidity over the UART.  This means that the Arduino Nano, which is already more sophisticated, is needed (I have an ATMega328 at 16 MHz).  It was necessary to make it communicate with a computer that runs under Windows 7. On this computer, the server part of the program should be installed, which should receive data on the UART and notify all client modules connected to it that work somewhere on the local network about critical values temperature and humidity.  At that time I didn‚Äôt have the tools to write programs for this OS, so I had to urgently get acquainted with some popular programming language with a convenient Windows writing environment.  I stopped at C #.  The firmware for MK, in fact, was written in AVR Studio 6 in C. </p><br><p>  So, since during the implementation of the project I did not find information with examples of C code for the DHT22 sensor, then in this article I decided to focus on working with him.  Also at the end of the article you will find all references to the sources and tools used to solve their similar problems. </p><br><h3>  Briefly about the work of the sensor DHT22. </h3><br><table><thead><tr><th>  <em>Its main parameters are:</em> </th><th></th></tr></thead><tbody><tr><td>  <strong>Tension</strong> </td><td>  3.3-6 V </td></tr><tr><td>  <strong>Measurement options</strong> </td><td>  Humidity 0-100%;  temperature from -40 to 80C </td></tr><tr><td>  <strong>Measurement accuracy</strong> </td><td>  Humidity + -2% (max. + - 5%);  temperature + -0,5C </td></tr><tr><td>  <strong>Duration of measurement period</strong> </td><td>  About 2 seconds </td></tr></tbody></table><br><p>  Here I note that in the program for MK, I survey the sensor approximately every second.  It works for me.  If you start having problems with the survey, then start by increasing this period to 2 seconds. </p><br><p>  <em>Pinout and wiring diagram of the younger fellow datasheet:</em> </p><br><p><img src="https://habrastorage.org/files/471/9e4/de3/4719e4de30564c23955c2fc2fd24531e.jpg" alt="image"><img src="https://habrastorage.org/files/b1d/fec/0df/b1dfec0dff724b0a90f9222801af961f.jpg" alt="image"></p><br><p>  The sensor data line is connected via a 4.7kŒ© resistor to the power supply, which means that if the sensor is silent or broken / is missing, then there will be a logical unit on the line.  To receive a response from the sensor, you need to press the data line to the ground at 18 mS. <br><img src="https://habrastorage.org/files/c0a/c89/dbb/c0ac89dbb746492f912068e44a28a332.jpg" alt="image"></p><br><p>  After the sensor has responded, it begins to transmit data.  The transmission of each bit starts at a low level of 50 ¬µs. <br><img src="https://habrastorage.org/files/976/9f0/5a8/9769f05a80cb4615a7a2d56c670f2453.jpg" alt="image"></p><br><p>  Total data is transmitted 40 bits or 5 bytes.  Data is transmitted starting from the high bit of the high byte. </p><br><p>  <strong>Byte 5</strong> - High byte of the humidity value. <br>  <strong>Byte 4</strong> - Low byte humidity value. <br>  <strong>Byte 3</strong> - High byte temperature value. <br>  <strong>Byte 2</strong> - Low byte temperature value. <br>  <strong>Byte 1</strong> - Checksum. </p><br><p>  <em>Well, the device diagram:</em> </p><br><p><img src="https://habrastorage.org/files/853/ced/8a4/853ced8a45ee4b3c896c47e0bca07740.jpg" alt="image"></p><br><p>  A sensor data bus is connected to the Arduin's D2 foot.  A power LED is connected to the foot of the D4.  By the way, if it flashes, then the sensor did not pass the initialization check, in other words, it was not found. </p><br><h3>  Go to the firmware code. </h3><br><p>  First, a brief description of the modules. </p><br><p>  <strong>UART_ATMEGA328.h</strong> </p><br><p> This is a module with functions for receiving and transmitting messages via UART.  By the way, it includes the function <code>void send_int_Uart(int i)</code> .  It receives an integer 2 byte signed number, converts it to a string and transmits it over the UART.  Do not look for where this function is used - it was not useful in this project. </p><br><p>  <strong>DHT11-22_def.h</strong> </p><br><p>  Contains macros of sensor connection settings.  The model of the sensor used is indicated here: <code>_DHT22</code> or its simplified version <code>_DHT11</code> .  PORT, DDR and PIN to which the sensor is connected.  And the pin number to which the data line is connected.  These macros are used in the following module: </p><br><p>  <strong>DHT11-22.h</strong> </p><br><p>  Contains functions for working with the DHT22 or DHT11 sensor. </p><br><p>  <em>Module code DHT11-22_def.h:</em> </p><br><pre> <code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _DHT22 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/*   . _DHT11  _DHT22. */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _PORT_DHT PORTD #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _DDR_DHT DDRD #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _PIN_DHT PIND #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _PINNUM_DHT 2 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/*    0 */</span></span></span></span></code> </pre> <br><p>  <em>Module code DHT11-22.h:</em> </p><br><pre> <code class="hljs lua">#define F_CPU <span class="hljs-number"><span class="hljs-number">16000000</span></span>UL #include <span class="hljs-string"><span class="hljs-string">"DHT11-22_def.h"</span></span> #define _MASK_DHT ( <span class="hljs-number"><span class="hljs-number">0</span></span>b00000001 &lt;&lt; _PINNUM_DHT ) #define _PIN_DHT_GET ( (_PIN_DHT &amp; _MASK_DHT)&gt;&gt;_PINNUM_DHT ) #define _PORT_DHT_SET(x) ( ((x)==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? (_PORT_DHT&amp;= ~_MASK_DHT) : (_PORT_DHT|= _MASK_DHT) ) #define _DDR_DHT_SET(x) ( ((x)==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? ( _DDR_DHT&amp;= ~_MASK_DHT) : ( _DDR_DHT|= _MASK_DHT) ) static unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> checkSum, packDHT[<span class="hljs-number"><span class="hljs-number">5</span></span>]= {<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>}, dhtHighDuration=<span class="hljs-number"><span class="hljs-number">0</span></span>, minLevel=<span class="hljs-number"><span class="hljs-number">0</span></span>, maxLevel=<span class="hljs-number"><span class="hljs-number">0</span></span>, dhtSplitLevel=<span class="hljs-number"><span class="hljs-number">0</span></span>; static float temperature, humidity; float getTemp() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temperature; } float getHum() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> humidity; } unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> getCheckSum() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> checkSum; } unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> getMinLevel() {<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> minLevel; } unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> getMaxLevel() {<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maxLevel; } unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> getDhtSplitLevel() {<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dhtSplitLevel; } static <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> initDHT() { //           ,  <span class="hljs-number"><span class="hljs-number">0.</span></span> <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> dhtErr=<span class="hljs-number"><span class="hljs-number">0</span></span>; _DDR_DHT_SET(<span class="hljs-number"><span class="hljs-number">1</span></span>); _PORT_DHT_SET(<span class="hljs-number"><span class="hljs-number">0</span></span>); _delay_ms(<span class="hljs-number"><span class="hljs-number">19</span></span>); asm(<span class="hljs-string"><span class="hljs-string">"cli"</span></span>); _DDR_DHT_SET(<span class="hljs-number"><span class="hljs-number">0</span></span>); _PORT_DHT_SET(<span class="hljs-number"><span class="hljs-number">1</span></span>); _delay_us(<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_PIN_DHT_GET) dhtErr = <span class="hljs-number"><span class="hljs-number">1</span></span>; _delay_us(<span class="hljs-number"><span class="hljs-number">22</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (_PIN_DHT_GET)&amp;&amp;(!dhtErr) ) dhtErr = <span class="hljs-number"><span class="hljs-number">2</span></span>; _delay_us(<span class="hljs-number"><span class="hljs-number">88</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (!_PIN_DHT_GET)&amp;&amp;(!dhtErr) ) dhtErr = <span class="hljs-number"><span class="hljs-number">3</span></span>; _delay_us(<span class="hljs-number"><span class="hljs-number">77</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (_PIN_DHT_GET)&amp;&amp;(!dhtErr) ) dhtErr = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dhtErr; } static void DhtMinMaxCalc() { //         .      dhtSplitLevel. dhtHighDuration= <span class="hljs-number"><span class="hljs-number">0</span></span>; //    ,          . <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( !_PIN_DHT_GET ) _delay_us(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( _PIN_DHT_GET ) { _delay_us(<span class="hljs-number"><span class="hljs-number">1</span></span>); dhtHighDuration++; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (minLevel &gt; dhtHighDuration) minLevel= dhtHighDuration; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (maxLevel &lt; dhtHighDuration) maxLevel= dhtHighDuration; } unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> calibrateDHT() { //   dhtSplitLevel.     <span class="hljs-number"><span class="hljs-number">1</span></span>,  <span class="hljs-number"><span class="hljs-number">0.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( initDHT() ) { //  asm(<span class="hljs-string"><span class="hljs-string">"cli"</span></span>); asm(<span class="hljs-string"><span class="hljs-string">"sei"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> bit=<span class="hljs-number"><span class="hljs-number">0</span></span>; bit &lt; <span class="hljs-number"><span class="hljs-number">40</span></span>; bit++) DhtMinMaxCalc(); asm(<span class="hljs-string"><span class="hljs-string">"sei"</span></span>); dhtSplitLevel= (minLevel + maxLevel) / <span class="hljs-number"><span class="hljs-number">2</span></span>; // dhtSplitLevel -   ,          , ,    <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } static <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> getDhtBit() { //             . dhtHighDuration= <span class="hljs-number"><span class="hljs-number">0</span></span>; //    ,          . <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( !_PIN_DHT_GET ) _delay_us(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( _PIN_DHT_GET ) { _delay_us(<span class="hljs-number"><span class="hljs-number">1</span></span>); dhtHighDuration++; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( dhtHighDuration &lt; dhtSplitLevel ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } //############################################### #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> defined _DHT11 static void calcResults() { //        humidity, temperature, checkSum  DHT11. temperature= packDHT[<span class="hljs-number"><span class="hljs-number">2</span></span>]; humidity= packDHT[<span class="hljs-number"><span class="hljs-number">0</span></span>]; checkSum= packDHT[<span class="hljs-number"><span class="hljs-number">4</span></span>]; } //############################################### #elif defined _DHT22 static void calcResults() { //        humidity, temperature, checkSum  DHT22. temperature= packDHT[<span class="hljs-number"><span class="hljs-number">3</span></span>]*<span class="hljs-number"><span class="hljs-number">0.1</span></span> + (packDHT[<span class="hljs-number"><span class="hljs-number">2</span></span>] &amp; <span class="hljs-number"><span class="hljs-number">0</span></span>b01111111)*<span class="hljs-number"><span class="hljs-number">25.6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (packDHT[<span class="hljs-number"><span class="hljs-number">2</span></span>] &amp; <span class="hljs-number"><span class="hljs-number">0</span></span>b10000000) temperature*= <span class="hljs-number"><span class="hljs-number">-1</span></span>; humidity= packDHT[<span class="hljs-number"><span class="hljs-number">1</span></span>]*<span class="hljs-number"><span class="hljs-number">0.1</span></span> + packDHT[<span class="hljs-number"><span class="hljs-number">0</span></span>]*<span class="hljs-number"><span class="hljs-number">25.6</span></span>; checkSum= packDHT[<span class="hljs-number"><span class="hljs-number">4</span></span>]; } #endif //############################################### unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> readDHT() { //  <span class="hljs-number"><span class="hljs-number">1</span></span>,     ,  <span class="hljs-number"><span class="hljs-number">0.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( initDHT() ) { //  asm(<span class="hljs-string"><span class="hljs-string">"cli"</span></span>); asm(<span class="hljs-string"><span class="hljs-string">"sei"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span>++) { //      . packDHT[<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> bit=<span class="hljs-number"><span class="hljs-number">0</span></span>; bit &lt; <span class="hljs-number"><span class="hljs-number">8</span></span>; bit++) packDHT[<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span>]= (packDHT[<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) | getDhtBit(); } asm(<span class="hljs-string"><span class="hljs-string">"sei"</span></span>); calcResults(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre> <br><p>  Comments on the code. </p><br><p>  <b>1. I</b> did not add the analysis of the checksum, although I save it in the <code>checkSum</code> variable. </p><br><p>  <b>2.</b> When calculating the duration of the high-level period on the data bus to determine the value of the resulting bit, I decided not to use the MK timer since I considered this an acceptable simplification for this project.  But he added the <code>unsigned char calibrateDHT()</code> function, in which the <code>dhtSplitLevel</code> variable containing the arithmetic average value between the shortest high level period (when transmitting bit 0) and the longest period of high level (transmitting bit 1) is calculated.  This variable is then used to determine the values ‚Äã‚Äãof the data bits for subsequent calls to the sensor. </p><br><p>  <b>3.</b> To use a cheaper DHT11 sensor in a project, you need to specify it in the <code>DHT11-22_def.h</code> module instead of the DHT22.  True, the work with him could not be tested because of his absence. </p><br><p>  <em>Usage example:</em> </p><br><pre> <code class="hljs ruby">int main() { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ... char st[<span class="hljs-number"><span class="hljs-number">6</span></span>]; _delay_ms(<span class="hljs-number"><span class="hljs-number">999</span></span>); calibrateDHT(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) { _delay_ms(<span class="hljs-number"><span class="hljs-number">999</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !readDHT() ) continue; itoa( getTemp(), st, <span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    st    . /<span class="hljs-regexp"><span class="hljs-regexp">/    st  UART,  LCD   - ... itoa( getHum(), st, 10); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    st    . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    st  UART,  LCD   - ... } }</span></span></code> </pre> <br><p>  <em>And finally, photos and videos of the resulting device:</em> </p><br><p><img src="https://habrastorage.org/files/350/b31/661/350b316610ac4ea8a0de1ece6e5d0b2f.jpg" alt="image"></p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mPvNc5iXXL0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><hr><br><h3>  Resources: </h3><br><ol><li>  For the record .hex in Arduino used the program <a href="http://russemotto.com/xloader/">Xloader v1.00</a> </li><li>  For receiving and transmitting messages via UART during debugging and testing, I used the program <a href="http://www.hw-group.com/supp_rem_serial_en.html">Terminal v1.9b by Br @ y ++</a> </li><li>  Ready firmware for Arduino Nano (ATMega328, 16 MHz), server and client under Windows, as well as PCB print ( <a href="https://github.com/2Ah/AlarmDHT-ready">link</a> ) </li><li>  <a href="https://github.com/2Ah/AlarmDHT-firmware">Firmware code</a> </li><li>  <a href="https://github.com/2Ah/AlarmDHT-WinServer">Server code</a> </li><li>  <a href="https://github.com/2Ah/AlarmDHT-WinClient">Client code</a> </li></ol></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/309994/">https://habr.com/ru/post/309994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309984/index.html">Comparison of EDS available on the Kazakhstan market</a></li>
<li><a href="../309986/index.html">Reaching goals: 9 life hacking from SmartProgress</a></li>
<li><a href="../309988/index.html">Keen observer</a></li>
<li><a href="../309990/index.html">The architecture of the network core in the iOS application on Swift 3. Part 1</a></li>
<li><a href="../309992/index.html">Webinar: Tools for Data Scientist</a></li>
<li><a href="../309996/index.html">How the Dolphin Emulator defeated the latest unplayed GameCube game</a></li>
<li><a href="../310000/index.html">How we repaired compaction in Cassandra for a week</a></li>
<li><a href="../310002/index.html">Hypervisor wars: To be continued</a></li>
<li><a href="../310006/index.html">AdBlock Plus has made a new milestone in the history of "acceptable advertising"</a></li>
<li><a href="../310008/index.html">The Myth of the Immaturity of Mobile NFC Technologies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>