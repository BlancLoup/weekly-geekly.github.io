<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automated testing is easy! How I tested Pechkina</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I began to look towards Selenium WebDriver, which, in conjunction with PageObject, becomes an excellent tool for automated testing. T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automated testing is easy! How I tested Pechkina</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/35d/d85/3b6/35dd853b63564fa8845e4ca9fe8faa2c.png" align="right">  Not so long ago, I began to look towards Selenium WebDriver, which, in conjunction with PageObject, becomes an excellent tool for automated testing.  Those who are not familiar with Selenuim can read <a href="http://habrahabr.ru/post/152653/">this article</a> , and <a href="http://habrahabr.ru/post/152971/">here</a> you can read specifically about Selenium WebDriver. <br><br>  When writing this article were used: <br><ol><li>  Maven </li><li>  Testng </li><li>  Selenium WebDriver </li><li>  PageObject </li><li>  Guinea pig: pechkin-mail.ru </li></ol><br><a name="habracut"></a><br><h4>  Setting up the environment </h4><br>  1. You need to install JDK.  It can be taken from the official site - <a href="http://www.oracle.com/">http://www.oracle.com</a> <br>  2. Install the build tool, I prefer Maven. <br><div class="spoiler">  <b class="spoiler_title">Maven Installation Instructions</b> <div class="spoiler_text">  Download the latest version of Maven from <a href="http://maven.apache.org/download.cgi">.</a>  <a href="http://maven.apache.org/download.cgi">the site</a> <br>  We unpack in any directory, for example in C: \ Program Files \ maven \ <br>  Add the environment variable: M2_HOME = C: \ Program Files \ maven \ and add% M2_HOME% \ bin to the PATH <br>  Let's check that everything is done right: <br><pre><code class="bash hljs">mvn -version</code> </pre> <br>  Must show the version of Maven <br><pre> <code class="bash hljs">Apache Maven 3.2.3 (33f8c3e1027c3ddde99d3cdebad2656a31e8fdf4; 2014-08-12T00:58:10+04:00) Maven home: C:\Program Files\maven Java version: 1.8.0_20, vendor: Oracle Corporation Java home: C:\Program Files\Java\jdk1.8.0_20\jre Default locale: ru_RU, platform encoding: Cp1251 OS name: <span class="hljs-string"><span class="hljs-string">"windows 7"</span></span>, version: <span class="hljs-string"><span class="hljs-string">"6.1"</span></span>, arch: <span class="hljs-string"><span class="hljs-string">"amd64"</span></span>, family: <span class="hljs-string"><span class="hljs-string">"dos"</span></span></code> </pre><br></div></div><br>  3. As an architectural solution, we will use the architect Alexei Barantsev ( <a href="http://habrahabr.ru/users/barancev/" class="user_link">barancev</a> ).  We pick up archetyp with github'a <br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://github.com/barancev/webdriver-java-quickstart-archetype.git</code> </pre><br>  Go to the folder with the archetype and install it. <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> webdriver-java-quickstart-archetype mvn install</code> </pre><br>  The next step is to create a project, we will do this with the command: <br><pre> <code class="bash hljs">mvn archetype:generate -DarchetypeGroupId=ru.stqa.selenium -DarchetypeArtifactId=webdriver-java-quickstart-archetype -DarchetypeVersion=0.7 -DgroupId=ru.mail.pechkin -DartifactId=PechkinFuncTest</code> </pre><br>  where <i>ru.mail.pechkin</i> is the id of the project being created, <i>PechkinFuncTest</i> is the artifact id of the project being created <br><br><h4>  Forward to practice! </h4><br>  For clarity, we will test the Pechkin <a href="https://web.pechkin-mail.ru/registration2.php">registration page</a> , consisting of 4 text fields, 2 checkboxes and a registration button.  We will begin with them, but first we need to tweak our project a little. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Edit <i>pom.xml</i> : <br>  We will use the latest version of Selenium WebDriver <br><pre> <code class="bash hljs">&lt;dependency&gt; &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt; &lt;artifactId&gt;selenium-java&lt;/artifactId&gt; &lt;version&gt;2.42.2&lt;/version&gt; &lt;/dependency&gt;</code> </pre><br>  It remains to specify in the application.properties the URL of the site and the browser in which the testing will take place. <br><pre> <code class="bash hljs">site.url=http://pechkin-mail.ru/ browser.name=firefox</code> </pre><br><h5>  Lyrical digression </h5><br>  Before we start writing code, you need to become familiar with PageObject.  Roughly speaking, PageObject is a design pattern that separates high-level logic from low-level search logic and the use of interface elements, while increasing readability and code support. <br><br>  The result is a separate class that describes, in our case, a specific page (WebElement'y), as well as ways to interact with them. <br><img src="https://habrastorage.org/files/56e/c9d/098/56ec9d0983d54ae9934a134f9f4e7c08.png"><br><h5>  Let's get started </h5><br>  In <i>ru.mail.pechkin.pages</i> we create RegistrationPage.java.  This will be our registration page template.  Let's start to describe the field.  As mentioned above, we have: <br>  1. Four text fields: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement emailField; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement usernameField; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement passwordField; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement inviteField;</code> </pre><br>  2. Two checkboxes: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement dogovorCheckbox; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement persCheckbox;</code> </pre><br>  3. Registration Button: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement submitButton;</code> </pre><br>  Armed with a code inspector, we define the locators of these elements.  Our object will look like this: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"email"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement emailField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"username"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement usernameField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"password"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement passwordField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"invite"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement inviteField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"dogovor"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement dogovorCheckbox; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"pers"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement persCheckbox; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"reg_submit"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement submitButton;</code> </pre><br>  The next step is to create methods through which we will work with the page. <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span></span>{ emailField.sendKeys(email); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUsername</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String username)</span></span></span></span>{ usernameField.sendKeys(username); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String password)</span></span></span></span>{ passwordField.sendKeys(password); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setInvite</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String invite)</span></span></span></span>{ inviteField.sendKeys(invite); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDogovor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!dogovorCheckbox.isSelected()) { dogovorCheckbox.click(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPersonal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!persCheckbox.isSelected()) { persCheckbox.click(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickSubmitButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ submitButton.click(); }</code> </pre><br>  We also need to track the error message when you enter a wrong email. <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"error_block"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement errorText; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(errorText.isDisplayed()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">RegistrationPage.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.mail.pechkin.pages; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.WebElement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.support.FindBy; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationPage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnyPage</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"reg_submit"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement submitButton; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"email"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement emailField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"username"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement usernameField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"password"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement passwordField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"invite"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement inviteField; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"dogovor"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement dogovorCheckbox; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"pers"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement persCheckbox; <span class="hljs-meta"><span class="hljs-meta">@FindBy</span></span>(id = <span class="hljs-string"><span class="hljs-string">"error_block"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebElement errorText; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegistrationPage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PageManager pages)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(pages); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span></span>{ emailField.sendKeys(email); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUsername</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String username)</span></span></span></span>{ usernameField.sendKeys(username); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String password)</span></span></span></span>{ passwordField.sendKeys(password); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setInvite</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String invite)</span></span></span></span>{ inviteField.sendKeys(invite); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDogovor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!dogovorCheckbox.isSelected()) { dogovorCheckbox.click(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RegistrationPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPersonal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!persCheckbox.isSelected()) { persCheckbox.click(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickSubmitButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ submitButton.click(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(errorText.isDisplayed()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } } }</code> </pre><br></div></div><br>  Now we need the one who will manage our page.  Let's add in <i>ru.mail.pechkin.logic</i> RegistrationHelper.java.  There will be only 3 methods: <br>  Filling all fields with valid values, except email. <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setEmailWithValidAllFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span><span class="hljs-function"> </span></span>{ pages.registrationPage.setEmail(email).setUsername(username).setPassword(password); pages.registrationPage.setDogovor().setPersonal(); }</code> </pre><br>  Push Registration Button <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickRegistration</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ pages.registrationPage.clickSubmitButton(); }</code> </pre><br>  Check the display of the error message <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pages.registrationPage.isError(); }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">RegistrationHelper.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.mail.pechkin.logic; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationHelper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DriverBasedHelper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IRegistrationHelper</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String username = <span class="hljs-string"><span class="hljs-string">"username"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String password = <span class="hljs-string"><span class="hljs-string">"passw"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ApplicationManager manager; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegistrationHelper</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ApplicationManager applicationManager)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(applicationManager.getWebDriver()); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.manager = applicationManager; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTitle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> driver.getTitle(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setEmailWithValidAllFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span><span class="hljs-function"> </span></span>{ pages.registrationPage.setEmail(email).setUsername(username).setPassword(password); pages.registrationPage.setDogovor().setPersonal(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickRegistration</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ pages.registrationPage.clickSubmitButton(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pages.registrationPage.isError(); } }</code> </pre><br></div></div><br><h4>  We write tests </h4><br>  In the test directory <i>ru.mail.pechkin</i> create RegistrationPageTest.java.  I will show how to test the email field, so open the specification on the email field and compile tests on it.  I will give a couple of examples. <br><h5>  Positive tests </h5><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validEmailWithLowerAndUpperLetters</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ app.getNavigationHelper().openRegistrationPage(); app.getRegistrationHelper().setEmailWithValidAllFields(<span class="hljs-string"><span class="hljs-string">"testEmail@mailinator.com"</span></span>); app.getRegistrationHelper().clickRegistration(); Assert.assertTrue(!app.getRegistrationHelper().isError()); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validEmailWithNumberInLocalPart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ app.getNavigationHelper().openRegistrationPage(); app.getRegistrationHelper().setEmailWithValidAllFields(<span class="hljs-string"><span class="hljs-string">"1testEmail1@mailinator.com"</span></span>); app.getRegistrationHelper().clickRegistration(); Assert.assertTrue(!app.getRegistrationHelper().isError()); }</code> </pre><br><h5>  Negative tests </h5><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">notValidEmailEmptyField</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ app.getNavigationHelper().openRegistrationPage(); app.getRegistrationHelper().setEmailWithValidAllFields(<span class="hljs-string"><span class="hljs-string">""</span></span>); app.getRegistrationHelper().clickRegistration(); Assert.assertTrue(app.getRegistrationHelper().isError()); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">notValidEmailWithLackOfLocalPart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ app.getNavigationHelper().openRegistrationPage(); app.getRegistrationHelper().setEmailWithValidAllFields(<span class="hljs-string"><span class="hljs-string">"@mailinator.com"</span></span>); app.getRegistrationHelper().clickRegistration(); Assert.assertTrue(app.getRegistrationHelper().isError()); }</code> </pre><br><h4>  Conclusion </h4><br>  On this and finish.  I got 37 tests to check email.  The negative test for checking two consecutive points in the local part of the email suddenly zafeililsya, exactly like the excess of the number of characters in the local part. </div><p>Source: <a href="https://habr.com/ru/post/236561/">https://habr.com/ru/post/236561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../236551/index.html">Using ownCloud 7 in the field</a></li>
<li><a href="../236553/index.html">29% of Russians believe that online services reliably protect their passwords</a></li>
<li><a href="../236555/index.html">Free .me domain for a year in 15 minutes</a></li>
<li><a href="../236557/index.html">CADR hackerspace: Made with secret technology</a></li>
<li><a href="../236559/index.html">Automate the creation and editing of used source lists with Mendeley</a></li>
<li><a href="../236563/index.html">Legitimate backdoor in distributing corporate Windows Store apps</a></li>
<li><a href="../236565/index.html">Survey: do you work better than your average colleague?</a></li>
<li><a href="../236567/index.html">How to easily make Navigation Drawer and tabs used in popular applications from Google</a></li>
<li><a href="../236569/index.html">Creating a simple program with RMI and parallel access to a GUI in Java</a></li>
<li><a href="../236573/index.html">Laziness - the engine of progress or my option to create an environment for web development based on VirtualBox</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>