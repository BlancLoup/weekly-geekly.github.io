<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FlexClone - Dolly's Digital Sheep</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sheep Dolly from the title is a come to name of the first successful clone of a high-level living creature created by science. And although clones are...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FlexClone - Dolly's Digital Sheep</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/66/16/66168b6281d6e303baa7044cbd79d4d0.jpg" alt="image"><br><br>  Sheep Dolly from the title is a come to name of the first successful clone of a high-level living creature created by science.  And although clones are still experimental in biology, the topic of clones has settled firmly and extensively in IT and in the field of data storage. <br>  The ability to quickly (and last but not least - economically, in terms of space and time) create a complete copy of one or another extensive data is a task in great demand today.  Such a clone of data could be used for testing, development, and other experiments where it is undesirable or directly impossible to do this on "combat data." <br><a name="habracut"></a><br><br>  A practical example of where and how clones can be applied. <br>  Suppose our company uses a large database in which our entire business is concentrated, for example, the base of an ERP system.  Of course, business lives and grows, along with the growth of our company, the development team writes new functionality for the base, designs new jobs, writes some new business logic in the database.  And all this they need to test and check on the data.  Moreover, the more voluminous and real data they will have - the more effective and more accurate their testing will be. <br>  Ideally, they need to be tested on real data, on the real base of your company.  However, who in their right mind would allow them to test something on a ‚Äúcombat‚Äù base? <br>  Now, if you could create an exact copy of the database, in its current state, especially for testing! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But to create a complete, independent clone, we need a storage capacity of at least equal to the capacity of the main base.  Moreover, the speed of such a base should ideally be equal to ‚Äúcombat‚Äù, that is, it will not work to copy them onto a ‚Äúbunch of USB disks‚Äù.  I'm not talking about the fact that under the terms of implementation, for example, an ERP system like SAP, in a deployed infrastructure, there must necessarily be development units and QA (Quality Assurance, validation and testing), and often a base for trainings and training of new users, and each must have its own copy of the current database on which the development and control of applications, as well as staff training. <br><br>  It is precisely these requirements that often lead to the fact that enterprises implementing ERP automatically get two or three additional to the main storage system, or twice or three times more disks in it, spending not only on their acquisition, but also on operation, maintenance, administration, and so on.  But it is also important to maintain the relevance of copies, and therefore regularly roll changes to copies, keeping them relevant to the main copy of the state. <br>  And nothing can be done here.  Keep a few identical copies of the base is necessary. <br>  Or is it still possible? <br><br>  And this is where the clones begin to play. <br>  Clones are full copies of data, working as full copies, that is, not just ‚Äúreading‚Äù, but just like a regular copy.  The contents of such a clone can not only be read, but also modified, that is, fully written into it, indistinguishable, for the application, from working with a regular data section. <br><br>  Make a clone in three ways.  First, simply copy the data to free space, and keep it up-to-date manually.  This is obvious and not interesting.  It is rather a copy, not a clone.  This option takes up a huge amount of expensive storage space and a lot of time for its creation. <br>  The second option is the so-called Copy-on-Write (COW) copy.  In them, records that, say, the application under test wants to add to its ‚Äúcopy‚Äù cause the source data to be copied to a special reserved space, and both the original data set and its changes will be saved.  The problems here are the same as those of COW snapshots, it almost <a href="">triples the productivity</a> of such a storage.  And this is also not interesting. <br><br>  And the third option implemented NetApp. <br>  As you already know, the underlying structure of the storage of data blocks, called <a href="http://habrahabr.ru/company/netapp/blog/99832/">WAFL</a> , for all NetApp storage systems is designed in such a way that changes to the blocks in it are made not into actually changing blocks, but into the free space of the volume where the current state data pointers are then swapped. <br>  Such a scheme makes it easy and elegant to solve the problem with variable blocks in the clone.  A clone always remains the same virtual ‚Äúcopy‚Äù of data (which means we can not occupy space on the disk, but simply refer to the original data blocks from it), and all the changes to the blocks that we make over the clone instances are accumulated separately. <br>  Consequently, such clones occupy disk space only in the amount of changes made to the clones. <br><br><img src="https://habrastorage.org/storage/habraeffect/f6/d9/f6d94cf1aa68ec54f603a0c975a9ae08.png" alt="image"><br><br>  If your programmers in the development department have changed in their virtual copies of the clones of the base, 6TB in size, a couple of terabytes of data, then their clone will occupy exactly 2TB from the free space on the disk, and that‚Äôs all. <br><br><img src="https://habrastorage.org/storage/habraeffect/03/25/0325e0f4c7890a922239eed12bac1a79.png" alt="image"><br><br>  In the screenshot you can see how such a clone looks like in practice.  There are three files on the disk, each, from the point of view of the Explorer size of 10GB, but the space occupied by all three on the disk is only 10GB. <br><br><img src="https://habrastorage.org/storage/habraeffect/5b/e0/5be08c3230fe45ae8897c4a6bb1cf156.png" alt="image"><br><br>  It is also useful that such clones can easily ‚Äútear off‚Äù from the original volume, and, if necessary, turn into a physical copy. <br>  Did the developers check the base upgrade process for the new version, or test the patches?  Upgraded, checked all the software to work correctly with the new version, made sure that everything works on the updated database - and easily replaced the working volume with the updated and tested "clone", with all the changes made in this clone, which now becomes quite a full volume. <br><br>  By the way, there can be up to 255 such clones on each volume (not on the system as a whole - on each volume!), And you can not limit yourself to the number of clones.  If your developers have several options and they would like to choose one of them - just give them a clone for each option, let them experiment and choose by comparing all the desired options at once. <br><br>  As you can see, having such a simple and effective data cloning mechanism often changes the very approach to using them.  What was not done before, ‚Äúbecause it is impossible,‚Äù as an example ‚Äî the same practical debugging on real data, or parallel development on bulk multi-gigabyte and terabyte data, is now completely realizable with such clones. <br><br>  <i>In the picture in the title of the article - two <s>clones of the</s> controller of the new FAS3200 series.</i> </div><p>Source: <a href="https://habr.com/ru/post/116853/">https://habr.com/ru/post/116853/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116848/index.html">CPlase.com - the evolution of information dissemination on the Internet</a></li>
<li><a href="../116849/index.html">Experience creating multitouch backgrounds</a></li>
<li><a href="../116850/index.html">Which of these applications would you be interested to use with PostgreSQL instead of MS SQL?</a></li>
<li><a href="../116851/index.html">About the description of business processes</a></li>
<li><a href="../116852/index.html">Making the console a little more convenient.</a></li>
<li><a href="../116854/index.html">Anonymous decided to punish Sony for Geohot</a></li>
<li><a href="../116855/index.html">Google's senior vice president leaves office</a></li>
<li><a href="../116856/index.html">Infobox offers customization of IT policies on the hosting version of the BlackBerry Enterprise Server</a></li>
<li><a href="../116857/index.html">Why donations are better than PPA</a></li>
<li><a href="../116858/index.html">Architecture Orchard CMS. Security and Development Concepts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>