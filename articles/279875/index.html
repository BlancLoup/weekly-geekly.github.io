<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NetApp virtual storage appliance: Data ONTAP-v</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let it be a long time, but somehow unnoticed, the news that Hyper-V and then Azure began to support FreeBSD passed. Fans of the good old FreeBSD rejoi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NetApp virtual storage appliance: Data ONTAP-v</h1><div class="post__text post__text-html js-mediator-article">  Let it be a long time, but somehow unnoticed, the news that Hyper-V and then Azure began to support FreeBSD passed.  Fans of the good old FreeBSD rejoiced, and many other people might wonder: ‚Äúwhy?‚Äù.  It is thanks to the efforts of NetApp that FreeBSD is now supported in Hyper-V and Azure.  How is NetApp interested in this?  The fact is that OS ONTAP is based on FreeBSD.  It is in order to have products created on the basis of Data ONTAP-v, such as <a href="https://habrahabr.ru/post/279907/">Cloud ONTAP</a> and Data ONTAP Edge.  In addition, NetApp is one of the largest modern code contributors for FreeBSD. <br><img src="https://habrastorage.org/files/84e/a64/b28/84ea64b2815541f291be9cf67a65782b.png"><br><a name="habracut"></a><br><br>  On <b>Data ONTAP Edge</b> in this article we will focus on.  Back in 2012, the Data ONTAP Edge product appeared - virtual applaens for Hyper-V and ESXi hypervisors.  It was originally delivered with DATA ONTAP 7-Mode OS (CBvM100, FDvM100), and in 2014 Data ONTAP Edge based on Clustered ONTAP (FDvM200) was released.  Such solutions are designed for small offices where there is no possibility to install or buy a full-fledged FAS platform. <br><br>  It is especially convenient to use Data ONTAP Edge for companies that have many local offices where it makes sense to build the Star topology (star), with a full-fledged FAS system in the center (for replicating backups to it) and Data ONTAP Edge in branches. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The difference between Data ONTAP-v and ONTAP based on the FAS platform is the complete absence of the first RAID technology.  Data ONTAP-v lives and fully relies on the traditional RAID controller installed in your server.  There is also no support for FCP, which is quite logical: is <s>it a monument, who will plant it?</s>  this is a virtual machine.  NAS (CIFS, NFS) and IP SAN (iSCSI) protocols are supported. <br><br><img src="https://habrastorage.org/files/cbf/de4/427/cbfde44273ac482cb7d1bef85ec941dd.png"><br><habracut text="  Data ONTAP-v"><br><br><h4>  Supported HW Equipment </h4><br>  Fujitsu global partner releases a dedicated VSX960 solution with <a href="http://www.shopfujitsu.com/store/primergy-bx400-server">PRIMERGY BX400</a> server blades for use with Data ONTAP-v.  VSX960 Solution supports up to 10 HDDs. <br><img src="https://habrastorage.org/files/c0d/6cc/982/c0d6cc982d6d415aacf151dc0bb3d411.png"><br><br>  Data ONTAP Edge can also work on IBM, HP, Lenovo, Cisco, Dell, and other servers.  Here is a brief list of the most popular models, the key point is to have a supported RAID controller with a battery for the cache: <br><img src="https://habrastorage.org/files/ff7/b51/ee1/ff7b51ee17a6420780f1644599c7c753.jpg"><br><div class="spoiler">  <b class="spoiler_title">Supported Server Platform RAID Controller</b> <div class="spoiler_text">  IBM ServerRAID M5100 SAS / SATA Controller <br>  IBM ServerRAID M5015 SAS / SATA Controller <br>  HP Smart Array P420 Controller <br>  HP Smart Array P410i Controller <br>  Fujitsu D3116 SAS / SATA Controller <br>  Fujitsu D2616 SAS / SATA Controller <br>  PowerEdge RAID Controller (PERC) H710 <br>  PowerEdge RAID Controller (PERC) H700 <br>  LSI 6G MegaRAID 9260-8i <br>  LSI 6G MegaRAID 9265-8i <br>  LSI 6G MegaRAID 9261-8i <br>  Lenovo ThinkServer RAID 720ix <br>  Lenovo ThinkServer RAID 720i <br>  Lenovo ThinkServer RAID 710 <br>  Lenovo ThinkServer RAID 510i <br>  Lenovo ThinkServer RAID 500 <br>  Lenovo ThinkServer RAID 110i <br>  Lenovo ServeRAID M5210e <br>  Lenovo ServeRAID M5210 <br>  HP Smart Array P840 Controller <br>  HP Smart Array P830i Controller <br>  HP Smart Array P822 Controller <br>  HP Smart Array P440ar Controller <br>  LSI MegaRAID SAS3108 <br>  LSI MegaRAID SAS2208 <br>  LSI MegaRAID SAS 9286CV-8e <br>  Fujitsu PRAID EP420i <br>  Fujitsu PRAID EP400i <br>  Fujitsu D3116C RAID Controller <br>  Fujitsu D2607 RAID Controller <br>  PowerEdge RAID Controller (PERC) H730 <br>  LSI MegaRAID SAS 9361-8i <br>  LSI MegaRAID SAS 9271-8i <br>  LSI MegaRAID SAS 9261-8i <br>  Cisco 9300-8E <br>  Cisco 12G SAS <br>  This list can be supplemented or changed, check with authorized NetApp partners and <a href="http://mysupport.netapp.com/matrix/">compatibility matrix</a> . <br></div></div><br><br><h4>  Restrictions </h4><br>  Since the system was originally designed for small offices, it has higher limitations than the FAS hardware platforms. <br>  Licenses for 10, 25 and 50 TB of usable space are sold (excluding deduplication).  Those.  if deduplication will compress data well, then it will hold much more.  The required amount of memory 4/8 GB, you must have 2 CPU.  And, as mentioned earlier, due to the lack of RAID-DP, a supported RAID controller with a cache and a battery is required.  SnapMirror and SnapVault replication protocols, deduplication, Thing Provitioning, cloning, and SnapRestore are supported.  More on the <a href="http://www.netapp.com/us/products/platform-os/data-ontap/storage-efficiency.aspx">official site</a> .  Only one-way systems that do not support High Avalability are supported. <br><br><h4>  SnapMirror replication </h4><br>  The SnapMirror license comes with DataONTAP Edge.  DataONTAP Edge can act as a source, and as the recipient of replicas.  Based on SnapMirror, you can build a <a href="https://habrahabr.ru/post/279911/">DR solution SVM</a> .  If ONTAP is used only as a file repository, then there is no need for replication to provide data consistency with third-party software.  If you use IP SAN or virtualization applications, databases and others, then backup software will be needed to ensure the consistency of the information. <br><br><h4>  Future - SDS </h4><br>  NetApp continues to develop Data ONTAP-v, which will be reborn <a href="https://habrahabr.ru/post/303146/">into full-featured SDS</a> .  So, in the near future, it will be able to cluster, get a High Avalability function and a larger amount of information being served. <br><br><h4>  findings </h4><br>  Data ONTAP-v virtual aplications are well suited for small companies and companies with a branch structure, where there is a need to keep local data and, possibly, replicate it to the central office.  The server must have a supported RAID controller with a battery.  Backup products that integrate ONTAP with Hyper-V and ESXi virtual environments will be in high demand in such schemes.  So <a href="https://habrahabr.ru/post/279891/">Veeam Backup &amp; Replication</a> allows you to perform consistent backups and manage SnapMirror replication, which makes this, and other similar products, the best tandem in such an infrastructure.  SnapMirror technology for SVM will help build a DR solution.  Separately, it is worth highlighting <a href="https://habrahabr.ru/post/279945/">VMware vVOL</a> technology, which natively provides consistent snapshots on ONTAP, because of which it will also be very interesting for such installations. <br><br>  <b>This may contain links to Habra articles that will be published later</b> . <br>  <b>I ask to send messages on errors in the text to the <abbr title="Private message">LAN</abbr></b> . <br>  <b>Comments, additions and questions on the article on the contrary, please in the comments</b> . </habracut></div><p>Source: <a href="https://habr.com/ru/post/279875/">https://habr.com/ru/post/279875/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279863/index.html">The name of the new Active Directory domain</a></li>
<li><a href="../279867/index.html">Several useful cases when working with arrays in javascript</a></li>
<li><a href="../279869/index.html">Battle of robots on the Hackathon Yandex.Money</a></li>
<li><a href="../279871/index.html">Greentask - a free service to quickly create tasks and facilitate the work with freelancers</a></li>
<li><a href="../279873/index.html">From document to project: how Wrike created an add-in for Office 365</a></li>
<li><a href="../279877/index.html">Circle "crazy hands": 4 life hacking about how to rationally fill the server with disks</a></li>
<li><a href="../279879/index.html">Using ClickOnce and Proxy</a></li>
<li><a href="../279881/index.html">Microsoft DevCon 2016 - Introducing the First Wave of Community Track Speakers</a></li>
<li><a href="../279883/index.html">#FailOverConf April 8th! Free, without SMS, but with registration</a></li>
<li><a href="../279887/index.html">The first hakkaton, from idea to implementation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>