<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cross-platform weather station development for the Raspberry Pi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you know, whatever you do under the Raspberry Pi, you‚Äôll end up with either a media player or a weather station. This fate befell me as well, when,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cross-platform weather station development for the Raspberry Pi</h1><div class="post__text post__text-html js-mediator-article">  As you know, whatever you do under the Raspberry Pi, you‚Äôll end up with either a media player or a weather station.  This fate befell me as well, when, after another rainstorm, the weather station sensor was flooded, it was time to either buy a new one, or do it myself. <br><br>  From the weather station needed the following functions: <br><br><ul><li>  temperature display </li><li>  atmospheric pressure graph display </li><li>  rain forecast </li><li>  time synchronization (in case of a usual meteorological station, according to DCF77, if there are hours on the device, they should show the exact time) </li></ul><br>  From the purchased ones, by the combination of ‚Äúdesign-price-functions‚Äù, neither one liked - either there is no one, or another, or it is too cumbersome and expensive.  As a result, it was decided to use the Raspberry Pi with a TFT-screen, and make the functions that are needed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It turned out like this: <br><br><img src="https://habrastorage.org/web/f64/510/4af/f645104afc5848f39f1514ebfda7d816.jpg"><br><br>  Details of the implementation and the finished project under the cut. <br><a name="habracut"></a><br><h2>  Getting weather data </h2><br>  The first thing you had to decide on was getting the weather data.  There are 2 options, either use your sensors, or take the weather from the Internet.  The first is more interesting, but there are several "but": <br><br><ul><li>  It‚Äôs easy to make a sensor ‚Äúanyhow‚Äù, but it‚Äôs good to make the sensor work for example for a year with one set of batteries, the task is not so trivial.  Of course, there are now low-consuming processes and radio modules, but it would be too lazy to spend on this month. </li><li>  It is necessary to bother with the case, moisture protection and other trifles (I don‚Äôt have a 3d printer). </li><li>  The balcony faces the sunny side, so that the error in measuring the temperature in the first half of the day would be too big. </li></ul><br>  An alternative option was to buy a ready weather module with sensors for the Raspberry Pi. <br>  Alas, the search showed that there are only 2 options available: <br><br>  - <b>Raspberry Pi sense hat</b> <br><img src="https://habrastorage.org/web/179/ea1/125/179ea1125ba048c9bcbaf21124d031c2.jpg"><br>  The board has a thermometer, a barometer, a humidity sensor, a gyroscope and an accelerometer ‚Äúon board‚Äù - but what the developers thought when putting such a ‚Äúscreen‚Äù of 8x8 LEDs is unclear - nothing intelligible can be drawn on it.  I wish the developers of this module all my life UI to write under the 8x8 matrix :) <br><br>  - <b>Raspberry Pi weather hat</b> <br><img src="https://habrastorage.org/web/d29/4b0/eaa/d294b0eaa70a4c62aa09877b5f4f2c01.jpg"><br>  Nothing but LEDs are not here at all. <br><br>  In general, oddly enough, but no one did a normal finished shield for a weather station with a good screen and a good set of sensors.  Crowsourcers, ay - the market niche disappears :) <br><br>  As a result, we do not steam and do it in a simple way - we take the weather from the Internet and output it to a regular TFT.  As Google suggested, the most advanced API is now <a href="https://openweathermap.org/api">https://openweathermap.org/api</a> , and we will use it. <br><br>  In the comments there was a question about the accuracy of Internet data.  As can be seen in the code below, a request for <u>current</u> (current weather data) rather than predicted data is used to display temperature and atmospheric pressure.  Their accuracy can be considered quite sufficient for domestic purposes, moreover, most likely it is even higher than the accuracy of an outdoor thermometer / sensor located outside a window or on a balcony. <br><br><h3>  check in </h3><br>  To retrieve weather data with openweathermap, you need a key, you can get it for free by registering on the above site.  The key looks something like this ‚Äúdadef5765xxxxxxxxxxxxxx6dc8‚Äù.  Most of the functions are available for free, we will not need paid APIs.  For free features there is a limit of <a href="https://openweathermap.org/price">60 requests per minute</a> , that's enough for us. <br><br><h3>  Reading data </h3><br>  Reading data is quite simple thanks to the pyowm library. <br><br>  Getting the weather at the moment (Python): <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyowm owm = pyowm.OWM(apiKey) observation = owm.weather_at_coords(lat, lon) w = observation.get_weather() dtRef = w.get_reference_time(timeformat=<span class="hljs-string"><span class="hljs-string">'date'</span></span>) t = w.get_temperature(<span class="hljs-string"><span class="hljs-string">'celsius'</span></span>) temperatureVal = int(t[<span class="hljs-string"><span class="hljs-string">'temp'</span></span>]) p = w.get_pressure() pVal = int(p[<span class="hljs-string"><span class="hljs-string">'press'</span></span>])</code> </pre> <br>  Getting a weather forecast for precipitation: <br><br><pre> <code class="python hljs">fc = owm.three_hours_forecast_at_coords(lat, lon) rain = fc.will_have_rain() snow = fc.will_have_snow() rains = fc.when_rain()</code> </pre> <br>  At the output we get an array of data with a list of rains and their intensity.  Despite the name of the function three_hours_forecast_at_coords, the rains are registered for 2-3 days ahead. <br><br>  You can use GET requests directly, for <a href="http://api.openweathermap.org/data/2.5/weather%3Fq%3DLondon,uk%26appid%3D44db6a862fba0b067b1930da0d769e98">example</a> .  This can be useful, for example, when porting code to MicroPython under ESP. <br><br><h2>  Getting user coordinates </h2><br>  As can be seen above, latitude and longitude are needed to obtain data.  Getting the coordinates is also quite simple, and is done in 3 lines of code: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> geocoder g = geocoder.ip(<span class="hljs-string"><span class="hljs-string">'me'</span></span>) lat = g.latlng[<span class="hljs-number"><span class="hljs-number">0</span></span>] lon = g.latlng[<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br><h2>  Ui </h2><br>  Actually, the most difficult part.  The Raspberry Pi uses Adafruit's TFT display, which supports the ILI9340 command system.  Libraries under it are easy to find, but debugging the code on the Raspberry Pi is not very convenient.  As a result, it was decided to write a high-level set of controls, which needed only 3 - images, text and lines.  When launched on the Raspberry Pi, the control will draw itself on the TFT, when launched on the desktop, the built-in Python library tkinter will be used.  As a result, the code will work everywhere - on both the Raspberry Pi, and on Windows, and on OSX. <br><br>  The code for one control looks like this: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIImage</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, image = None, x = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, y = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, cId = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.x = x self.y = y self.width = <span class="hljs-number"><span class="hljs-number">0</span></span> self.height = <span class="hljs-number"><span class="hljs-number">0</span></span> self.cId = cId self.tkID = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.tftImage = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.tkImage = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.useTk = utils.isRaspberryPi() <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> image <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.setImage(image) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setImage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, image)</span></span></span><span class="hljs-function">:</span></span> width, height = image.size <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.useTk: self.tkImage = ImageTk.PhotoImage(image) self.tftImage = image self.width = width self.height = height <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas = None, tft = None)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tft != <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: tft.draw_img(self.tftImage, self.x, self.y, self.width, self.height) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> canvas != <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> self.tkImage != <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.tkID == <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> len(canvas.find_withtag(self.tkID)) == <span class="hljs-number"><span class="hljs-number">0</span></span>: self.tkID = canvas.create_image(self.x, self.y, image=self.tkImage , anchor=tkinter.NW) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: canvas.itemconfigure(self.tkID, image=self.tkImage)</code> </pre><br>  The ‚ÄúFakeTFT‚Äù class creates a normal program window: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FakeTFT</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.tkRoot = tkinter.Tk() self.tkRoot.geometry(<span class="hljs-string"><span class="hljs-string">"500x300"</span></span>) self.screenFrame = tkinter.Frame(self.tkRoot, width=<span class="hljs-number"><span class="hljs-number">330</span></span>, height=<span class="hljs-number"><span class="hljs-number">250</span></span>, bg=<span class="hljs-string"><span class="hljs-string">"lightgray"</span></span>) self.screenFrame.place(x=<span class="hljs-number"><span class="hljs-number">250</span></span> - <span class="hljs-number"><span class="hljs-number">330</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span>, y=<span class="hljs-number"><span class="hljs-number">5</span></span>) self.tkScreenCanvas = tkinter.Canvas(self.tkRoot, bg = <span class="hljs-string"><span class="hljs-string">'white'</span></span>, width = <span class="hljs-number"><span class="hljs-number">320</span></span>, height = <span class="hljs-number"><span class="hljs-number">240</span></span>, highlightthickness=<span class="hljs-number"><span class="hljs-number">0</span></span>) self.tkScreenCanvas.focus_set() self.tkScreenCanvas.place(x=<span class="hljs-number"><span class="hljs-number">250</span></span> - <span class="hljs-number"><span class="hljs-number">320</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span>, y=<span class="hljs-number"><span class="hljs-number">10</span></span>) self.controls = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.controls: c.draw(self.tkScreenCanvas)</code> </pre><br>  The ‚ÄúLCDTFT‚Äù class uses the ‚Äúreal‚Äù display (code fragment): <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LCDTFT</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, spidev, dc_pin, rst_pin=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, led_pin=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, spi_speed=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">16000000</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># CE is 0 or 1 for RPI, but is actual CE pin for virtGPIO # RST pin. 0 means soft reset (but reset pin still needs holding high (3V) # LED pin, may be tied to 3V (abt 14mA) or used on a 3V logic pin (abt 7mA) # and this object needs to be told the GPIO and SPIDEV objects to talk to global GPIO self.SPI = spidev self.SPI.open(0, 0) self.SPI.max_speed_hz = spi_speed self.RST = rst_pin self.DC = dc_pin self.LED = led_pin self.controls = [] def draw(self): for c in self.controls: c.draw(tft = self)</span></span></code> </pre><br>  At initialization, the necessary display is automatically selected, depending on where the program is launched: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lcdInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> utils.isRaspberryPi(): GPIO.setwarnings(<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) GPIO.setmode(GPIO.BCM) DC = <span class="hljs-number"><span class="hljs-number">25</span></span> LED = <span class="hljs-number"><span class="hljs-number">18</span></span> RST = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> LCDTFT(spidev.SpiDev(), DC, RST, LED) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FakeTFT()</code> </pre> <br>  All this allows you to completely abstract from the "iron", and write code like this: <br><br><pre> <code class="python hljs">self.labelPressure = libTFT.UILabel(<span class="hljs-string"><span class="hljs-string">"Pressure"</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">126</span></span>, textColor=self.tft.BLACK, backColor=self.tft.WHITE, fontS = <span class="hljs-number"><span class="hljs-number">7</span></span>) self.tft.controls.append(self.labelPressure) self.labelRain = libTFT.UILabel(<span class="hljs-string"><span class="hljs-string">"Rain"</span></span>, <span class="hljs-number"><span class="hljs-number">270</span></span>,<span class="hljs-number"><span class="hljs-number">126</span></span>, textColor=self.tft.BLUE, backColor=self.tft.WHITE, fontS = <span class="hljs-number"><span class="hljs-number">7</span></span>) self.tft.controls.append(self.labelRain)</code> </pre> <br>  Actually, the UI looks like this: <br><br><img src="https://habrastorage.org/web/1c0/89a/825/1c089a825a764aae8983d2993ca7ede1.jpg"><br><br>  The screen displays the current temperature, the graph of atmospheric pressure for today (in the next version a temperature graph will be added), also in the case of a rain forecast, its time is marked on the graph with a vertical blue line (there are no rains in this picture).  It also displays the time of the last data update and the IP address if you need to connect to the device. <br><br>  Those who want to get acquainted with the source in more detail, can look at it <a href="https://github.com/dmitryelj/RPi-Weather-Station">on guthub</a> . <br><br><h2>  Installation on Raspberry Pi </h2><br>  For those who do not want to bother described above, a short installation guide under the spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">Instruction</b> <div class="spoiler_text">  - Download source from github: <br>  git clone <a href="">github.com/dmitryelj/RPi-Weather-Station.git</a> <br><br>  - If Python3 is not installed, set: <br>  sudo apt-get install python3 <br><br>  - We put additional libraries (they are needed to work with the display): <br>  sudo pip3 install numpy pillow spidev <br><br>  - Add to autorun (sudo nano /etc/rc.local) <br><br>  python3 /home/pi/Documents/RPi-Weather-Station/weather.py &amp; <br><br>  - We try to launch <br><br>  python3 weather.py <br><br>  If everything works, then reboot (sudo reboot) and use. <br></div></div><br>  In terms of adding something else useful, for example, displaying a cloud map, there is an API on openweathermap for this. <br><br>  To be continued. </div><p>Source: <a href="https://habr.com/ru/post/370835/">https://habr.com/ru/post/370835/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../370821/index.html">Crossroads. Chapters 11 and 12</a></li>
<li><a href="../370823/index.html">How to distinguish ICO-scam</a></li>
<li><a href="../370827/index.html">Electric bus drove a record 1770 km per charge</a></li>
<li><a href="../370831/index.html">The perfect job interview. IT Professional Version</a></li>
<li><a href="../370833/index.html">In 2018, ultra-precise global navigation chips will appear in smartphones.</a></li>
<li><a href="../370837/index.html">Dishonored: Death Of The Outsider will give free rein to players before closing the main story.</a></li>
<li><a href="../370839/index.html">10 tips on how to overcome the fear of communicating with a native English speaker</a></li>
<li><a href="../370841/index.html">The list of participants BRONEBOT-2017</a></li>
<li><a href="../370845/index.html">Pilotage drone 80 left</a></li>
<li><a href="../370847/index.html">Not serious about DC, IT and not only</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>