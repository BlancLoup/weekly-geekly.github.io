<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing our first script for Greasemonkey</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greasemonkey is an extension for Mozilla Firefox, and some other browsers based on the Gecko engine, which allows the user to add JavaScript to any pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing our first script for Greasemonkey</h1><div class="post__text post__text-html js-mediator-article">  Greasemonkey is an extension for Mozilla Firefox, and some other browsers based on the Gecko engine, which allows the user to add JavaScript to any page.  The JS file itself must be formatted accordingly. <br><br>  What is the user, for example, <a href="http://absolvo.ru/">me</a> , or you need to add JS to the pages of any sites?  This is a wonderful opportunity to control the appearance of the page and its functionality.  Naturally there are limitations that the JS language itself imposes.  However, he has very, very many opportunities. <br><br>  As a rule, most of the scripts for Greasemonkey closely ‚Äúfriends‚Äù with CSS.  So it turns out that this post somewhat overlaps with the topic of User-CSS - however, I did not put up with this aspect in the title of the topic. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's write a couple of very simple scripts for Greasemonkey, well, take as a sacrifice for our experiments, of course, habrahabr. <br><a name="habracut"></a><br>  First I would like to clarify one detail - below I consider writing the simplest scripts for Greasemonkey, and not the basics of working with this extension.  It is understood that you already use / use Greasemonkey and have no problems with mutual understanding. <br><br>  First, we will analyze how the script should be designed so that Greasemonkey would understand and accept it as a native one. <br><br>  For example, we have a script that on every page, except habrahabr.ru and my blog absolvo.ru, will output an alert ‚ÄúHello World!‚Äù <br><br>  Its code is extremely simple (you can install the script from <a href="http://absolvo.ru/Greasemonkey/">this page</a> ): <br><blockquote><code><a href="http://absolvo.ru/"></a> <a href="http://absolvo.ru/"></a> <a href="http://habrahabr.ru/"></a> <a href="http://absolvo.ru/"></a> // ---------- ---------------------------------------------- <br> // <br> // ==UserScript== <br> // @name Hello World <br> // @namespace absolvo.ru <br> // @version 0.01 <br> // @source absolvo.ru <br> // @description       "hello word"   ,  ! <br> // @include * <br> // @exclude http://*.habrahabr.ru/* <br> // @exclude habrahabr.ru* <br> // @exclude absolvo.ru* <br> // ==/UserScript==</code> <br> <br>  alert ('Hello world!'); </blockquote><br>  Consider in detail: <br><br>  If you put two slashes "//" in front of the line, then the line will be considered commented out and will be ignored by the handler. <br><br>  == UserScript == and == / UserScript == - tags that tell the handler that there is service information between them that is required for processing. <br><br>  <a href="https://habrahabr.ru/users/name/" class="user_link">name</a> - the name of your script for Greasemonkey; <br><br>  @namespase - roughly speaking - is an additional way to identify the script.  Agree, there are simply a huge number of scripts named ‚ÄúHello World‚Äù, and perhaps one of them is already installed on you, and Greasemonkey, thanks to the <a href="https://habrahabr.ru/users/namespace/" class="user_link">namespace</a> , will not swear at duplication, and silently install it.  By the way, here you can write anything, your nickname, website address, or just abracadabra. <br><br>  <a href="https://habrahabr.ru/users/description/" class="user_link">description</a> - the script description.  It is recommended to write in Latin, but if you write it for yourself, you can experiment with Cyrillic.  Personally, everything is fine with me and it works with the Cyrillic (this option is just laid out above), just do not forget that you need to save the file with the script in UTF-8. <br><br>  <a href="https://habrahabr.ru/users/include/" class="user_link">include</a> - addresses of the pages on which the script will be executed.  Supports masks, but without regulars - only asterisks.  Lines of "inclusions" can be as many as you like. <br><br>  @exclude - URLs of pages on which the script will NOT be executed.  Supports masks, but without regulars - only asterisks.  There can be as many "exceptions" as you like.  I have three in my example. <br><br>  Lines <a href="https://habrahabr.ru/users/include/" class="user_link">include</a> or @exclude may be absent.  For example, if you write <br> <code>// @include *</code> <br>  and you are sure that you do not need exceptions, you can safely not write the @exclude line. <br><br>  <a href="https://habrahabr.ru/users/version/" class="user_link">version</a> - the version of your script. <br><br>  <a href="https://habrahabr.ru/users/source/" class="user_link">source</a> is the home page of the script. <br><br>  Well, then the JS itself is the most common.  But in general, that's all. <br><br>  Let's make for the sake of example a completely uncomplicated, impractical, but still an example that will surely prove once again that you can use all the advantages of JS in scripts for Greasemonkey (you can install the script from <a href="http://absolvo.ru/Greasemonkey/">this page</a> ): <br><blockquote> <code><a href="http://absolvo.ru/"></a> <a href="http://absolvo.ru/"></a> <a href="http://habrahabr.ru/"></a> <a href="http://absolvo.ru/"></a> // ==UserScript== <br> // @name Hello habrahabr! <br> // @namespace absolvo.ru <br> // @version 0.01 <br> // @source absolvo.ru <br> // @description example script to insert div with h1 on every page habrahabr.ru <br> // @include habrahabr.ru* <br> // @include http://*.habrahabr.ru/* <br> // @exclude absolvo.ru* <br> // ==/UserScript==</code> <br> <br>  var logo = document.createElement ("div"); <br>  logo.innerHTML = ' <br>  &lt;div style = ‚Äúmargin: 0pt auto;  width: 800px;  text-align: center; "&gt; <br>  &lt;h1 style = "margin: 15px;"&gt; '+ <br>  'Hello World habrahabr!  '+ <br>  '&lt;/ h1&gt; <br>  &lt;/ div&gt; <br>  '; <br><br>  document.body.insertBefore (logo, document.body.firstChild); </blockquote><br>  I will not explain what the script does - I think you can install, inspect and disassemble it yourself. <br><br>  Tools for debugging scripts: <br>  <a href="http://chrispederick.com/work/firefox/webdeveloper/">Web Developer Extension</a> ; <br>  <a href="http://www.karmatics.com/aardvark/">Aardvark</a> ; <br>  <a href="http://www.hacksrus.com/~ginda/venkman/">Venkman Javascript Debugger</a> ; <br>  <a href="http://www.squarefree.com/bookmarklets/webdevel.html">Web Development Bookmarklets</a> ; <br>  <a href="http://www.edwardh.com/jsunit/">JSUnit</a> ; <br>  <a href="http://www.crockford.com/javascript/lint.html">js-lint</a> ; <br><br>  You should not reinvent the wheel, there are a huge number of scripts, at least at <a href="http://userscripts.org/">http://userscripts.org/</a> - it is quite likely that it has already been written for you. <br><br>  Related Links: <br>  <a href="http://www.greasespot.net/">greasespot.net</a> - project page; <br>  <a href="http://userscripts.org/">userscripts.org</a> is the largest collection of scripts; <br>  <a href="http://absolvo.ru/Greasemonkey/">The examples</a> page is a page for installing scripts that acted as examples; <br>  <a href="http://absolvo.ru/">absolvo.ru</a> &amp; <a href="http://feeds.feedburner.com/wolotko">RSS</a> is my blog and my RSS. </div><p>Source: <a href="https://habr.com/ru/post/39214/">https://habr.com/ru/post/39214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../392129/index.html">Why did the girl chatbot from Microsoft succumb to the influence of trolls c 4chan</a></li>
<li><a href="../392131/index.html">I will destroy humans - humor or confidence? Sophia by David Henson scared the public at SXSW 2016</a></li>
<li><a href="../392133/index.html">Belarusians win programming contest Google Hash Code</a></li>
<li><a href="../392137/index.html">Aukey PB-T1 review - it's time to save time</a></li>
<li><a href="../392139/index.html">Hitler and copyright</a></li>
<li><a href="../392141/index.html">Choosing the first camera - no ads, brands, pictures and almost no technical details</a></li>
<li><a href="../392143/index.html">"Yandex" rejected 70% of requests for the "right to oblivion"</a></li>
<li><a href="../392145/index.html">Hospital epidemic: another medical institution had to declare an emergency due to a cryptographer</a></li>
<li><a href="../392147/index.html">The first sets of PlayStation VR Launch Bundle bought up in half an hour</a></li>
<li><a href="../392149/index.html">How to fake a fingerprint for iPhone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>