<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rethinking drag & drop</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We take something well known to all and make it comfortable and beautiful. 

 We present to your attention react-beautiful-dnd 

 The drag & drop func...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rethinking drag & drop</h1><div class="post__text post__text-html js-mediator-article"><h4>  We take something well known to all and make it comfortable and beautiful. </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/8eb/e57/745/8ebe5774566d517af7ccedde73c73829.gif" alt="image"><br>  <i>We present to your attention <code>react-beautiful-dnd</code></i> <br><br>  The drag &amp; drop function is an intuitive way to move and reorder items.  Atlassian recently released <code><a href="https://github.com/atlassian/react-beautiful-dnd">react-beautiful-dnd</a></code> , which makes drag &amp; drop inside lists on the web beautiful, natural and accessible. <br><a name="habracut"></a><br><h3>  Tactile sense </h3><br>  The basic design principle of <code>react-beautiful-dnd</code> is in touch (physicality): I want users to have the feeling that they are moving physical objects.  This is best demonstrated with contrasting examples - so let's look at some standard principles of using this technique, and see how we can improve them. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/534/3f2/189/5343f21897338a9791db8733ab0ef59e.gif" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Sort items by groups.</i> <br><br>  This example illustrates a wonderful <a href="https://jqueryui.com/sortable/">method of sorting</a> grouped items.  This drag-and-drop mechanism is the most standard, and it provides us with an excellent starting point. <br><br><h3>  Motion </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/ea9/d22/53a/ea9d2253a5e7ea98a825c5b488c04d0a.gif" alt="image"><br><br>  <i>Traditionally accepted permanent movement.</i> <br><br>  When dragging items, other items disappear and appear as needed.  In addition, when an item is deleted, it immediately appears in its new starting position. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f2/c76/5b0/7f2c765b0ff5e4a7a578f137cdc412b4.gif" alt="image"><br><br>  <i>More natural movement.</i> <br><br>  For a more natural drag, we animate the movement of the elements, because they need to move in the process so that we can more clearly show the drag effect itself.  We also animate the fall of the element so that it then finds itself in its new position.  In no case does the element move instantly to any other place, regardless of whether it is dragged anywhere or not. <br><br>  <b>Know when to move</b> <br><br>  It is quite natural for the actions of the move function to be based on the position from which the object began to be dragged. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f85/c44/316/f85c4431692bcc2d7e561859f2f004ad.gif" alt="image"><br><br>  <i>Action based on the position of the selected option.</i> <br><br>  In this example, the user captures the upper right corner of the first item.  The user must drag the selected option to the desired position before the second element moves to its new position.  This happens because the calculations are based on the initial position of the user's choice. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/168/b0f/e3d/168b0fe3dd050f63116955a09cca0ae8.gif" alt="image"><br><br>  <i>Action based on the center of gravity.</i> <br><br>  In <code>react-beautiful-dnd</code> actions of the draggable elements are based on the center of gravity ‚Äî no matter where the user takes the element.  The same rules apply to actions of dragged objects as to the set of weights.  Below are some rules that are used even with moving parts during natural dragging: <br><br><ul><li>  <i>The list is dragged</i> when the center position of the element being dragged passes through one of the borders of the list. </li><li>  An element that is at rest must move away from the path of the dragged element when the position of the center of the dragged element leaves the edge of the element at rest.  In other words: as soon as the position of the center of the element (A) goes beyond the edge of another element (B), B shifts to the side. </li></ul><br><br><h3>  Availability </h3><br>  Traditionally, the drag and drop function was driven solely by the mouse or using a sensor.  <code>react-beautiful-dnd</code> supports the ability to drag and drop using <b>just one keyboard</b> .  This allows users to gain experience using this function also from the keyboard and opens up the opportunity to learn about this function to those who were not familiar with it before. <br><br>  <b>Browser respect</b> <br><br>  In addition to keyboard support, we check how keyboard shortcuts interact with standard browser keyboard interactions.  When the user does not drag and drop any item, he can use the keyboard as usual.  During the drag and drop process, we override and disable certain browser hotkeys (for example, tabs) to ensure comfortable user experience. <br><br><h3>  Well thought-out animation </h3><br>  As many things move, the user can easily get distracted by the animation, and the animations can easily arise in the user's path.  Different animations are configured to provide the right balance of direction, performance, and interactivity. <br><br>  <b>Increase interactivity</b> <br><br>  <code>React-beautiful-dnd</code> works hard to avoid periods of lack of interactivity as much as possible.  The user should have the feeling that he is in control of the interface, rather than waiting for the animation to end before he can continue interacting with the interface. <br><br>  <b>Dropping out</b> <br><br>  When you release a drag element, its motion is based on physics (thanks to <code>react-motion</code> ).  This leads to the fact that when an element falls, it seems to be more significant and tangible. <br><br>  <b>Out of the way</b> <br><br>  Objects that go out of the way of the draggable element do this using a CSS transition, not physics.  This allows you to increase performance due to the fact that the GPU processes the movement.  CSS animation curve was designed to make this process possible. <br><br>  What it consists of: <br><br><ul><li>  Preparation period to simulate natural response time </li><li>  A small phase to ensure that the element has time to move. </li><li>  The long final part, so that people can read any text that is played in the second half of the animation. </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5a/c88/a6b/b5ac88a6b1953fa30444b4f041af5cc2.png" alt="image"><br><br>  <i>Animation curve used at the moment of moving</i> . <br><br><h3>  Good compatibility </h3><br>  <b>Inaccurate clicks and blocking keystrokes</b> . <br><br>  When a user clicks on an item, we cannot determine whether the user clicked on it or dragged it.  In addition, sometimes when the user clicks on an item, he can move the cursor slightly - a random click.  Thus, we start dragging only after the user has moved the mouse down a certain distance - more than if he had performed a random click.  If the drag and drop threshold is not exceeded, then the user's action will respond in the same way as a normal click.  If the drag threshold is exceeded, then the action will be classified as drag and the standard click action will not occur. <br><br>  This allows consumers to work with such interactive elements as anchor tags, so that they can be both standard anchor tags and recognizable elements. <br><br>  <b>Focus Management</b> <br><br>  <code>React-beautiful-dnd</code> works hard to make sure that it does not affect the normal tabs of the document flow.  For example, if you add binding tags, the user will still be able to go directly to the binding, and not to the element to which the binding was made.  We add <code>tab-index</code> to the defined elements to make sure that even if you don‚Äôt add anything to what is usually an interactive element (for example, a <code>div</code> ), the user will still be able to access it using his keyboard, to drag it somewhere. <br><br><h3>  Not for all </h3><br>  There are many libraries that allow you to perform drag-and-drop actions inside React.  The most remarkable of them is the wonderful <code>react-dnd</code> .  It does an incredible job of providing a huge set of primitive drag-and-drop functions that work particularly well with HTML5, despite the fact that HTML5 has <a href="https://www.quirksmode.org/blog/archives/2009/09/the_html5_drag.html">little to do with</a> .  <code>React-beautiful-dnd</code> is a high-level abstraction built specifically for vertical and horizontal lists.  With such a subset of functionality, <code>react-beautiful-dnd</code> offers an effective, beautiful, and natural experience using drag and drop.  However, <code>react-beautiful-dnd</code> does not provide the breadth of capabilities provided by <code>react-dnd</code> .  Thus, this library may not be for you, it all depends on what purpose you are going to use it. <br><br><h3>  Design </h3><br>  <b>Clean, powerful API</b> <br><br>  Before the release of this library, a lot of time was devoted to developing a declarative, clean, and powerful API.  It should be very easy to start with it and thus ensure the right level of control over the experience of using the drag and drop function.  It is based both on the study of numerous other libraries and on the collective experience of using products with drag and drop functionality.  I will not go into the description of the details of the API - but you can find a <a href="https://github.com/atlassian/react-beautiful-dnd">complete manual</a> if you wish. <br><br>  <b>Performance</b> <br><br>  <code>React-beautiful-dnd</code> designed to be extremely productive ‚Äî it's part of its DNA.  It is based on previous performance studies of the reaction, which can be read <a href="https://medium.com/%40alexandereardon/performance-optimisations-for-react-applications-b453c597b191">here</a> and <a href="https://medium.com/%40alexandereardon/performance-optimisations-for-react-applications-round-2-2042e5c9af97">here</a> .  <code>React-beautiful-dnd</code> designed to perform the minimum number of performances required for each task. <br><br>  <b>Key aspects</b> <br><br><ul><li>  Use linked components to store intermediate values ‚Äã‚Äãin memory to ensure that the only components that are executed are those that need to be executed ‚Äî thanks to <a href="https://github.com/reactjs/react-redux"><code>react-redux</code></a> , <a href="https://github.com/reactjs/reselect"><code>reselect</code></a> and <a href="https://github.com/alexreardon/memoize-one"><code>memoize-one</code></a> . </li><li>  All motion delays are interrupted by <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame"><code>requestAnimationFrame</code></a> - thanks to <a href="https://github.com/alexreardon/raf-schd"><code>raf-schd</code></a> </li><li>  Storing intermediate values ‚Äã‚Äãin memory is ubiquitous - thanks to <code><a href="https://github.com/alexreardon/memoize-one">memoize-one</a></code> </li><li>  The pointers to all items are conventionally disabled when dragging to protect the browser from redundant work - you can read more about this technique <a href="https://www.thecssninja.com/css/pointer-events-60fps">here.</a> </li><li>  Minor animation runs on GPU </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a56/62d/60e/a5662d60eb097725ee7c2961c6fc7171.gif" alt="image"><br><br>  <i>Minimum number of reaction updates.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/55b/3bc/486/55b3bc486ebe7e73b46a923908b1a9f5.gif" alt="image"><br><br>  <i>Minimum number of browser images.</i> <br><br>  <b>Verified by</b> <br><br>  <code>React-beautiful-dnd</code> uses several different testing strategies, including unit testing, performance testing, and integration testing.  Verification of various aspects of the system contributes to its quality and stability. <br><br>  While code coverage is <a href="https://stackoverflow.com/a/90021/1374236">not a guarantee of quality</a> , it is a good indicator.  This code base currently <b>contains 95%</b> code coverage. <br><br>  <b>Typed</b> <br><br>  This code base is typed with <code><a href="http://flowtype.org/">flowtype</a></code> to enhance the internal consistency and robustness of the code.  It also provides a history of developer documentation on how the API works. <br><br><h3>  Conclusion </h3><br>  We think that the Internet will become a much more beautiful and accessible place, thanks to <code>react-beautiful-dnd</code> .  For more information and examples go to the archive. <br><br>  Many thanks to everyone at Atlassian who made this possible. <br><br>  <b>Update # 1</b> <br><br>  The support of <code>react-beautiful-dnd</code> was incredible!  Thank you very much.  We have already <a href="https://github.com/atlassian/react-beautiful-dnd/releases">added some new features</a> , such as moving horizontally. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b7a/859/1f6/b7a8591f63cb7f3176946545f7f7c1f7.gif" alt="image"><br><br>  <i>Horizontal dragging.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/977/a53/e8a/977a53e8a21e8ba4863783d3625ec4b6.gif" alt="image"><br><br>  <i>Horizontal movement in the context of the bulletin board.</i> <br><br>  There were many requests for sensor support (this would allow <code>react-beautiful-dnd</code> to work on mobile and tablet devices).  It has always been in the plans and we <a href="https://github.com/atlassian/react-beautiful-dnd/issues/11">will start working on it very soon</a> !  The library is still completely new. <br><br>  <b>Update # 2</b> <br><br>  We have released support for relocatable items between the <code>react-beautiful-dnd</code> lists.  I wrote a blog.  ‚ÄúThe <a href="https://medium.com/%40alexandereardon/friction-gravity-and-collisions-3adac3a94e19">natural movement of the keyboard between the lists</a> ", which describes how we came to create this update so that it feels natural. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f6d/aab/2b6/f6daab2b602b888b75584eea6a4c87dd.gif" alt="image"><br><br>  <i>Drag and drop between lists.</i> <br><br><hr><br>  <a href="https://www.edsd.ru/">EDISON Software</a> professionally develops software for large customers (for example, <a href="https://www.edsd.ru/sistema-upravleniya-gorodskim-osveshheniem">a city lighting</a> <a href="https://www.edsd.ru/elektronnaya-sistema-prohozhdeniya-meditsinskogo-osmotra">control system</a> or an <a href="https://www.edsd.ru/elektronnaya-sistema-prohozhdeniya-meditsinskogo-osmotra">electronic medical examination system</a> ) and we try to make the appearance of the products as user friendly as possible and the ‚Äútechnical debt‚Äù of UX designers reduced.  Here is a selection of useful articles on usability: <br><br><ul><li>  <a href="https://habrahabr.ru/post/338778/">Text Ergonomics: A user of social networks sees about 54,000 words per day</a> </li><li>  <a href="https://habrahabr.ru/company/edison/blog/317698/">How to construct words (from an author who hates reading)</a> </li><li>  <a href="https://habrahabr.ru/company/edison/blog/316574/">The dangers of charming in design</a> </li><li>  <a href="https://habrahabr.ru/company/edison/blog/315790/">How are you zadolbali with their alerts</a> </li><li>  <a href="https://habrahabr.ru/company/edison/blog/315360/">With a small or large</a> </li><li>  <a href="https://habrahabr.ru/company/edison/blog/315140/">Interfaces: My, Your, Your, Our or This</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/339086/">https://habr.com/ru/post/339086/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339074/index.html">How to legalize the sale of game items</a></li>
<li><a href="../339078/index.html">Periods of sidereal days in radioactive decay</a></li>
<li><a href="../339080/index.html">Dive into Ethereum development. Part 3: user application</a></li>
<li><a href="../339082/index.html">The digest of interesting materials for the mobile developer # 223 (September 25 - October 1)</a></li>
<li><a href="../339084/index.html">Liquibase: an example of an automated roll forward of changes to a relational database</a></li>
<li><a href="../339090/index.html">ggplot2: how to easily combine multiple graphs in one, part 3</a></li>
<li><a href="../339092/index.html">Classic 2D quest or how our two years of development went. Part 3</a></li>
<li><a href="../339094/index.html">Heading "We read articles for you." September 2017</a></li>
<li><a href="../339096/index.html">Electronic documents in the Russian courts, as a criterion for the electronic maturity of Russia</a></li>
<li><a href="../339098/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ282 (September 25 - October 1, 2017)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>