<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>App Puzzle15. The road to Peter for android-background</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="More recently, in the glorious city on the Neva, a contest was held by guys from the local GTUG, the contest announcement is huddled in this topic. Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>App Puzzle15. The road to Peter for android-background</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc3/6d3/75f/cc36d375fedaa7bdaeac10ded0199f0f.png" alt="image"></div><br>  More recently, in the glorious city on the Neva, a contest was held by guys from the local GTUG, the contest announcement is huddled in <a href="http://habrahabr.ru/blogs/google_chrome/105615/">this</a> topic.  The contest itself, its implementation and the results will be described in detail in the report from <a href="http://habrahabr.ru/users/arkady112/" class="user_link">arkady112</a> .  I want to tell a little about the application Puzzle15, which received one of the 3 namination and together with it HTC WildFire. <br>  Under the cut a small review and an example of the implementation of some functions ... <br><a name="habracut"></a><br>  As I hope, it is clear from the name of Puzzle15 - these are all of us favorite tags, so to speak ‚Äúported‚Äù from the game shelf to the chrome browser. <br>  The main features of the application I will take: <br>  ‚Ä¢ game for fun <br>  ‚Ä¢ sociality <br>  ‚Ä¢ data synchronization <br><br><h4>  Game for fun </h4><br>  As for the first feature, it is a bit more complicated than it seems.  Yes, the game is good, it's fun.  Of course, puzzles, like other intellectual games, help our brain, so to speak, "not to swim fat."  But behind all this entertainment there is an amusing fact- <b>exactly half of the combinations of knuckles simply cannot be collected, which is half of 15!</b> <br><br><h4>  Sociality </h4><br>  Collecting tag can be infinitely long, and one, and it is not always fun!  <a href="http://twitter.com/">Twitter</a> comes to our rescue in this case. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/820/4f0/62b/8204f062b85e488702d717ade259034a.png" alt="image"></div><br>  Now we can share our template with all the inhabitants of this wonderful service with just one click of a button. <br>  As a result, we will inform the rest of the birds your template. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/049/671/b47/049671b47a2e9596cb97567416882db1.png" alt="image"></div><br>  And if you go through # 15 hash, you can download various templates of other users yourself. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Data synchronization </h4><br>  This is perhaps the most interesting thing for me in the process of creating an application, and it distinguished my application from the rest presented at the demo fest. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/182/f50/b7a/182f50b7a976e5a1a411ec5bd0c565ad.png" alt="image"></div><br>  <i>I will clarify, the synchronization is not the application, namely the data used in it.</i> <br>  Since I did not find a ready-made solution to this problem (maybe I was looking badly), then a ‚Äúscooter‚Äù was invented. <br>  Used browser skill to synchronize bookmarks.  My task was to create a bookmark, write down the necessary data there (wrote in json) and update it for some actions in the application. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f4e/ce3/6f6/f4ece36f61a41b43736da6648e65c73a.png" width="436" height="450" alt="30.10"></div><br>  The browser does the rest (syncs to your G-docs). <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7f/c3f/451/b7fc3f4511abe789132459075926961b.png" alt="image"></div><br><br>  Key points for working with bookmarks in the application <br><pre><code class="javascript hljs">chrome.bookmarks.getChildren(<span class="hljs-string"><span class="hljs-string">'1'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tree</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!localStorage[<span class="hljs-string"><span class="hljs-string">'FlagBookmarks'</span></span>]){ localStorage[<span class="hljs-string"><span class="hljs-string">'IndexBookmarks'</span></span>]=<span class="hljs-string"><span class="hljs-string">""</span></span>; localStorage[<span class="hljs-string"><span class="hljs-string">'IDbookmarks'</span></span>]=<span class="hljs-string"><span class="hljs-string">""</span></span>; } tree.forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> item, index</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item.title==<span class="hljs-string"><span class="hljs-string">"Puzzle15"</span></span>) { localStorage[<span class="hljs-string"><span class="hljs-string">'FlagBookmarks'</span></span>]=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//        localStorage['IndexBookmarks']=item.index; localStorage['IDbookmarks']=item.id; } }); if (!localStorage['FlagBookmarks']) { //    -       chrome.bookmarks.create({ 'parentId' : '1', // other 'title' : 'Puzzle15', 'url' : 'http://puzzle-15.blogspot.com/{"id":["100"],"pattern";["1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0"],"added_on":["02.01 19:86"],"count":["0"]}' }, function(){ localStorage['FlagBookmarks']=1; console.log("create bookmark for sync (id="+localStorage['IDbookmarks']+")") }) } else if (localStorage['FlagBookmarks']==1){ // ,    ( ),  ,    JSON_bookmark      console.log("bookmark exists"); var JSON_bookmark={}; chrome.bookmarks.getChildren('1', function(tree) { tree.forEach(function( item, index) { if (item.title=="Puzzle15"){ temp_bookmark = item.url; temp=temp_bookmark.slice(30); //     : http://puzzle-15.blogspot.com/ JSON_bookmark=JSON.parse(unescape(temp)); //   escape-  ""  } }) //        JSON_bookmark,    web sql db    // ... }) } })</span></span></code> </pre> <br>  the code is not perfect, I admit, but it is efficient and reflects the basic data synchronization mechanisms <br><br><h4>  What's left overboard </h4><br>  Among other things, web sql db took part in the project (as it was implemented in the browser I <a href="http://habrahabr.ru/blogs/google_chrome/92677/">wrote</a> earlier) <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/264/6aa/084/2646aa0843a4300b3e707ad974c8cb77.png" width="700" height="150" alt="image"></div><br>  Simple and advanced notifications are also used (HTML) <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/941/a06/ea3/941a06ea32991dc0ce07f0938ff68c87.png" alt="image"></div><br><br>  If you do not use the Chrome browser, you can simply look at all this mess in the next demo video <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/FIiz4CeL3C0%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhiJHS9mJ2g-m3yYUW1RMmSYQ0mVFA" frameborder="0" allowfullscreen=""></iframe><br>  And if you still want to try to ‚Äústretch your brains‚Äù, you are <a href="">welcome to Puzzle15</a> <br><br>  Chronology of development can be found here <a href="http://puzzle-15.blogspot.com/">http://puzzle-15.blogspot.com/</a> <br>  I will be glad to answer your questions, of course, in the intervals between studying my new robot (HTC WildFire). <br>  Thanks for attention. <br>  <b>PS</b> <br>  the event was wonderful, the organizers are great guys, the girl is lovely;) <br>  It is a pity that there is no gtug in Minsk (but we will fix it;)) <br>  <b>upd.</b> <br><img src="https://habrastorage.org/storage/db76f548/08f00a70/5964b6cd/133cb540.jpg"></div><p>Source: <a href="https://habr.com/ru/post/107229/">https://habr.com/ru/post/107229/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../107222/index.html">3G base stations installed on Everest</a></li>
<li><a href="../107224/index.html">David Lowe called the purchase of Android the best deal Google</a></li>
<li><a href="../107225/index.html">Banshee will be the default media player in Ubuntu 11.04</a></li>
<li><a href="../107226/index.html">Once again about a minus and a hyphenaimus</a></li>
<li><a href="../107227/index.html">Gettings Things Postponed - Putting Aside for Later</a></li>
<li><a href="../107230/index.html">Steve Jobs offered the post of the first Google CEO</a></li>
<li><a href="../107231/index.html">HTML5 graphics benchmark - check your browser</a></li>
<li><a href="../107232/index.html">Step-by-step installation of Node.js on Windows without virtualok</a></li>
<li><a href="../107233/index.html">Microsoft buys Canesta - a gesture and 3D chip maker</a></li>
<li><a href="../107234/index.html">Advise jabber-server</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>