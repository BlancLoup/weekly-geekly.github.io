<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FXAA - NVIDIA's new anti-aliasing algorithm</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. 

 The time has passed when video games brought a hurricane of emotions simply because we play them; the player has long been demanding, and la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FXAA - NVIDIA's new anti-aliasing algorithm</h1><div class="post__text post__text-html js-mediator-article"> Hello. <br><br>  The time has passed when video games brought a hurricane of emotions simply because we play them;  the player has long been demanding, and last but not least - the quality of the picture on the screen.  About one of the components of this quality - smoothing - I want to tell. <br><a name="habracut"></a><br>  The vast majority of players are aware of the "ladders" at the edges of the objects and a possible solution to this problem - "anti-aliasing" or "smoothing".  This issue is described in great detail in the article by Don Woligroski <a href="http://www.tomshardware.com/reviews/anti-aliasing-nvidia-geforce-amd-radeon,2868.html">Anti-Aliasing Analysis, Part 1: Settings And Surprises</a> ( <a href="http://cheklab.ru/archives/857">Russian translation</a> ).  Also a good comparison with the examples of games of the current generation of game consoles is in Digital Foundry - <a href="http://www.eurogamer.net/articles/the-anti-aliasing-effect-article">The Anti-Aliasing Effect (eng.)</a> .  In short, it all comes down to one thing: smoothing is great, the perception of the picture grows in price, in the modern realities of the igroproma products with little or no smoothing are in the category of booed (first of all by the fans of competing platforms, but nonetheless) , but the implementation of high-quality anti-aliasing leaves much to be desired, mainly due to the insufficient computing power of the target equipment.  In this case, apologists of the game on the PC are, of course, in much more favorable conditions.  the power of their iron is influenced only by the material factor, but consolers do not miss a chance to jig above PKshniki on the subject of ‚ÄúPC HAZ NO GAEMZ!‚Äù, they say, you do not have games, you play in graphics.  I will not specifically address this issue, because there can be no rational-objective arguments in favor of the subjective feeling of ‚Äúwarm tube gaming‚Äù in principle, it is a matter of personal choice with all that it implies.  Already existing and used algorithms are described by the above links, so I‚Äôll go directly to the topic: what is FXAA, what does it eat and how tasty is it. <br><br>  Let's start with the theory.  To be extremely precise, FXAA is not such a new algorithm: it was first used in the MMORPG Age of Conan and was already noted in the F.3.AR shooter, but I will consider it as new, thanks to an interesting solution that <a href="http://forum.ixbt.com/topic.cgi%3Fid%3D25:21093-93">I came across eyes</a> on the frequently visited forum (thanks to <a href="http://forum.ixbt.com/users.cgi%3Fid%3Dinfo:h0w1er"><b>h0w1er</b></a> ).  <b>FXAA</b> - <b>X</b> ast Xtimate is a more productive solution in comparison with traditional MSAA (Multi-Sampling Anti-Aliasing).  This is a single pass pixel shader that cheats the resulting frame at the post processing stage.  It is designed to be faster and less memory-demanding in comparison with MSAA, ‚Äúpaying‚Äù for its ‚Äúadvantages‚Äù with precision and quality, although in reality everything is not as scary as it sounds.  FXAA also has a number of advantages, including improved smoothing of specs and subpixels (talking about surfaces smaller than one pixel, "ladders" make such objects twinkle).  In an <a href="http://developer.download.nvidia.com/assets/gamedev/files/sdk/11/FXAA_WhitePaper.pdf">official document (PDF),</a> FXAA creator <a href="http://timothylottes.blogspot.com/">Timothy Lottes</a> states that for the FXAA algorithm with medium quality settings (the middle ground between quality and performance), post-processing a 1920x1200 frame on a GTX 480 takes less than a millisecond.  The main advantages of FXAA, according to Timothy, are the FXAA subpixel smoothing algorithm that works better in <a href="http://www.realtimerendering.com/blog/morphological-antialiasing/">MLAA</a> , the sufficiency of DX9 level iron, post-processing a frame in one pass and, in my opinion, the most interesting thing is independence from the <a href="http://ru.wikipedia.org/wiki/GPGPU">Compute API</a> used by the <a href="http://ru.wikipedia.org/wiki/GPGPU">GPU</a> .  But there is one problem - the need for developers to embed this anti-aliasing technology into their games, while traditional anti-aliasing methods work (or do not work) at the driver level.  In other words, as long as the programmers do not use the FXAA code for smoothing in their engines, we will not get the desired effect, it is impossible to officially enable FXAA from the outside.  Until recently. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      On July 31, in the <a href="http://www.forum-3dcenter.org/vbulletin/showthread.php%3Ft%3D510658">Alles rund um FXAA</a> branch <a href="http://www.forum-3dcenter.org/vbulletin/showthread.php%3Ft%3D510658">(Treibereinstellungen, Shader-replacements) of the</a> 3DCenter Forum, <a href="http://www.forum-3dcenter.org/vbulletin/showthread.php%3Fp%3D8862131">‚Äúsome dude‚Äù appeared</a> , which injected the FXAA code into the d3d.dll library and allowed to flexibly adjust the result through configuration files, as well as enable and disable FXAA on the <strike>Insert</strike> button <strike>and take screenshots by pressing Delete</strike> [Pause], and [Print Screen] takes a screenshot starting with beta 9. This set of files is copied to the directory with the executable file of the DX9 application (games, demos is not important), and this application when launched, it ‚Äúpicks up‚Äù the library with the necessary injection.  And off we go: since Gast (the author of the injection) was initially preoccupied with saving the results of the work to the log, the people began to send him bugs, which Gast, in turn, began to rule.  Later, an injection for DX10 (dxgi.dll) appeared in his set <s>, now the option to add FXAA to DX11 is being considered, but the author does not have DX11 iron, so the question hung a bit in the air</s> , and from the beta 10 version - and DX11 (but do not forget that it's still a beta injection). <br>  <b>UPDATE 08/19/2011</b> <br>  &lt;There used to be a bunch of links that have lost relevance&gt; <br>  On August 19, 2011 the current version is <a href="http://hotfile.com/dl/126721760/6694e76/injectFxaa_by_some_dude_10.7z.html">beta 10</a> , mirrors: <a href="">rapidshare.com</a> , <a href="http://letitbit.net/download/78839.77943ea8324d9c520e9ed7c7294d/injectFxaa_by_some_dude_10.7z.html">letitbit.net</a> , <a href="http://depositfiles.com/files/ulstdz8w4">depositfiles.com</a> , <a href="http://rghost.net/18528461">rghost.net</a> .  Unfortunately (or fortunately, someone like) a set of filters from <b>pedace</b> with vignetting, sepia, etc.  for beta 10 has not yet been announced, but came across custom filters for this version, mirrors: [ <a href="http://www.forum-3dcenter.org/vbulletin/attachment.php%3Fattachmentid%3D40476%26d%3D1313442633">1</a> ], [ <a href="">2</a> ], [ <a href="http://letitbit.net/download/59717.59fec2e1cba84998383179a4af2f/inject_Beta10_custom_shader_sharpen.zip.html">3</a> ], [ <a href="http://depositfiles.com/files/vr5n1t5qd">4</a> ], [ <a href="http://rghost.net/18529661">5</a> ]. <br><br>  And now - <strike>dancing</strike> practice.  Will practice on World of Tank, version 0.6.6. <br><br> <a href="http://www.picamatic.com/view/7754636_WoT-noAA/"><img src="http://www.picamatic.com/show/2011/08/05/02/16/7754636_bigthumb.jpg" alt="WoT no" title="WoT noAA" width="320" height="200"></a> <a href="http://www.picamatic.com/view/7754637_WoT-Edge_AA/"><img src="http://www.picamatic.com/show/2011/08/05/02/16/7754637_bigthumb.jpg" alt="WoT EdgeAA" title="WoT EdgeAA" width="320" height="200"></a> <br><br> <a href="http://www.picamatic.com/view/7754638_WoT-FXAA/"><img src="http://www.picamatic.com/show/2011/08/05/02/16/7754638_bigthumb.jpg" alt="WoT FXAA" title="WoT FXAA" width="320" height="200"></a> <a href="http://www.picamatic.com/view/7754639_WoT-FXAA-Sharpen/"><img src="http://www.picamatic.com/show/2011/08/05/02/16/7754639_bigthumb.jpg" alt="WoT FXAA Sharpen" title="WoT FXAA Sharpen" width="320" height="200"></a> <br><br>  The non-anti-aliasing option (No AA) shows obvious ‚Äúescalators‚Äù, and although the models of tanks are quite large and detailed, the artifacts can be seen quite clearly, especially on thin objects, which are further discussed below. <br><br>  The option of built-in anti-aliasing (Edge AA) tries to blur the edges of objects, but it does it rather mediocre, not to mention leaving the picture in a small soap. <br><br>  The next option is FXAA, the result is obvious: there are no artifacts around the edges, however, the soapness, in comparison with noAA, was also added a little, although with EdgeAA the difference is almost imperceptible. <br><br>  Well, option FXAA Sharpen.  <b>Gast</b> in the version of beta 6 added a sharpness filter, taken from <a href="http://mpc-hc.sourceforge.net/">MPC-HC</a> , and the result is very decent: the soap disappeared, the textures began to look even sharper than in the original, and the ‚Äúladder‚Äù, despite this filter, was hardly added.  Because of the unplanned authorship of the sharpness of the texture of the tower, a little bit ‚Äúknocked out‚Äù (blue zone), but in the game, I can assure you, it is absolutely imperceptible. <br><br>  And what about performance?  Yes, almost nothing bad.  Unfortunately, the WoT engine lives in its own world, and surges / drops in performance can pop up on the most level ground.  I got the following: <br><br> <a href="http://www.picamatic.com/view/7754709_WoT-inbattle-noAA/"><img src="http://www.picamatic.com/show/2011/08/05/03/04/7754709_bigthumb.jpg" alt="WoT inbattle noAA" title="WoT inbattle noAA" width="320" height="200"></a> <a href="http://www.picamatic.com/view/7754712_WoT-inbattle-FXAA-Sharpen/"><img src="http://www.picamatic.com/show/2011/08/05/03/04/7754712_bigthumb.jpg" alt="WoT inbattle FXAA Sharpen" title="WoT inbattle FXAA Sharpen" width="320" height="200"></a> <br><br>  The ‚ÄúIn battle no AA‚Äù picture is what I mentioned above: thin trees crack from artifacts, whereas with the ‚ÄúIn battle FXAA Sharpen‚Äù option, the pictures are much more pleasant to the eye, except for the problems of the sharpness filter, which narrows too thin the thickness of the hair, such as, for example, a mounted artillery sight.  And the number of frames per second in the FXAA version is even higher, despite the fact that these two screenshots were made with a difference of 1 second and the tank was still. <br><br>  In fact, with a long test, a figure of ~ 10-12% was obtained - performance drops as much when using FXAA, while MSAA 4x, with the smoothing quality of which FXAA competes, quite often results in a fall of twice.  If comparisons are interesting - more numbers and pictures can be found in <a href="http://www.hardocp.com/article/2011/07/18/nvidias_new_fxaa_antialiasing_technology/">NVIDIA's New FXAA Antialiasing Technology article</a> from the <a href="http://www.hardocp.com/">[H] ard | OCP</a> site, where I gathered some information, and in the end of my short review I agree with Mark Warner @ HardOCP: with proper implementation from FXAA a great future, especially on consoles, where resources are tightly limited, and with the ability to customize the injection configuration to your liking, many now without the help of developers can enjoy the beautiful picture in their favorite game. <br><br>  <b>UPD.</b>  On August 10, a more <a href="http://www.forum-3dcenter.org/vbulletin/showthread.php%3Fp%3D8878501">customizable injection</a> , a so-called ‚Äúhodgepodge‚Äù from discussion participants, has already appeared: <a href="http://www.mediafire.com/%3Fqvk385aim132kke">INJ_FXAA_DX9_pedace_v1.rar</a> , mirrors: <a href="">rapidshare.com</a> , <a href="http://letitbit.net/download/95930.92be0166b86db750237187a27714/INJ_FXAA_DX9_pedace_v1.rar.html">letitbit.net</a> , <a href="http://depositfiles.com/files/8ofjfli17">depositfiles.com</a> , <a href="http://rghost.net/17490291">rghost.net</a> , <a href="http://hotfile.com/dl/126421299/c8f0c7c/INJ_FXAA_DX9_pedace_v1.rar.html">hotfile.com</a> .  The assembly includes various filters: color saturation, vignetting, blur, sepia and others.  All this is configured through a single settings file and the most useful - the settings change ‚Äúon the fly‚Äù: Alt + Tab from the settings editing application, Alt + Tab back - the new settings work, no restart is required.  With this injection option, I got rid of fading when turning on the sharpness filter, in the settings I completely disabled USE_TECHNICOLOR, USE_TONEMAP and USE_VIGNETTE.  The result looks like this: <br><br> <a href="http://www.picamatic.com/view/7768072_WoT-pedace-noAA/"><img src="http://www.picamatic.com/show/2011/08/10/06/49/7768072_bigthumb.jpg" alt="WoT pedace noAA" title="WoT pedace noAA" width="320" height="200"></a> <a href="http://www.picamatic.com/view/7768073_WoT_pedace_FXAA/"><img src="http://www.picamatic.com/show/2011/08/10/06/49/7768073_bigthumb.jpg" alt="WoT pedace FXAA" title="WoT pedace FXAA" width="320" height="200"></a> <br><br>  There is a clearer picture without the ‚Äúladders‚Äù and soap, even the textures look more fun. <br><br>  <b>UPDATE # 2</b> <br><br> <a href=""><img src="http://rghost.net/17557731/thumb.png"></a> <a href=""><img src="http://rghost.net/17557971/thumb.png"></a> <br><br>  Added <strike>BMP</strike> PNG from Fraps.  Somewhere my joint, I agree: I assumed that it‚Äôs impossible to get a screenshot of the FXAA results directly from the game, as it cannot be done in the case of MLAA, but as it turned out, you can, because  This is not a post-processing of the frames by the driver after the output to the screen, but a direct image through the injection. </div><p>Source: <a href="https://habr.com/ru/post/126047/">https://habr.com/ru/post/126047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126040/index.html">The most expensive Android smartphone in the world</a></li>
<li><a href="../126042/index.html">Quickly create load tests on JMeter for web sites</a></li>
<li><a href="../126043/index.html">How to help your child learn the multiplication table</a></li>
<li><a href="../126044/index.html">Schetov.ru API</a></li>
<li><a href="../126046/index.html">Counting characters in Microsoft Equation formulas</a></li>
<li><a href="../126048/index.html">Has the application crashed? AppHub Windows Phone and crash reporting</a></li>
<li><a href="../126049/index.html">We attach the definition of support format APNG to Modernizr</a></li>
<li><a href="../126050/index.html">We write electronic music. VSTi synthesizers</a></li>
<li><a href="../126051/index.html">NOC: Introduction to Fault Management</a></li>
<li><a href="../126052/index.html">New service "Schedule of court hearings"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>