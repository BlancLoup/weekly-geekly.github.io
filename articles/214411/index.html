<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>My acquaintance with WM Awesome. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The conversation will be about my first acquaintance with such a window manager as Awesome. For a long time I used Gnome2, then I tried Gnome3, I deci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>My acquaintance with WM Awesome. Part 1</h1><div class="post__text post__text-html js-mediator-article"> The conversation will be about my first acquaintance with such a window manager as Awesome.  For a long time I used Gnome2, then I tried Gnome3, I decided to try kde, but none of this satisfied me.  Yes, by the way, I have Gentoo.  Yes, the article is focused on the same as newcomers - in order to simplify life. <br><a name="habracut"></a><br>  In the official Portage branch, version 3.4.15 is stable, but I decided to install the latest available - 3.5.2-r1, with the USE ‚Äúdbus‚Äù flag.  As a login manager, I chose SLiM.  After building all the necessary packages, open /etc/conf.d/xdm and install SLiM as the default manager: <br><br> <code>DISPLAYMANAGER="slim"</code> <br> <br>  Next you need to make a small change i /etc/slim.conf <br><br> <code># login_cmd exec /bin/sh - ~/.xinitrc %session</code> <br> <code>login_cmd exec /bin/bash -login ~/.xinitrc %session</code> <br> <code># login_cmd exec /bin/bash -login /usr/share/slim/Xsession %session</code> <br> <br>  In this config, you can also choose the theme you like, which lie in / usr / share / slim / themes.  I manage the default.  There are also a couple of interesting parameters, but I did not touch them - there is no need. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Terminal I decided to use urxvt.  I have it assembled: <br><br> <code>rxvt USE="xgetdefaults"</code> <br> <code>rxvt-unicode USE="256-color focused-urgency font-styles mousewheel perl startup-notification vanilla xft"</code> <br> <br>  In order to actually launch our wm, you need to add the changes to the ~ / .xinitrc file (if you don‚Äôt have it, then create it), here‚Äôs my own: <br><br> <code>urxvtd --quiet --opendisplay --fork &amp;</code> <br> <code>pulseaudio --start &amp;</code> <br> <code>exec ck-launch-session dbus-launch awesome</code> <br> <br>  The first line is to start the urxvt daemon (hereinafter, the client is called urxvtc), well, in the second we start pulseaudio, and in the last we start awesome itself.  It is worth noting that if you have systemd and not consolekit, then you have an awesome call that seems to be different, but I don‚Äôt use systemd, so I don‚Äôt presume to assert. <br><br>  Run xdm: <br> <code>sudo /etc/init.d/xdm start</code> <br> <br>  Login and watch this picture: <br><img src="https://habrastorage.org/getpro/habr/post_images/d9d/df0/eb0/d9ddf0eb0bc86b5796e1e9e539d998c7.png"><br><br>  I have long climbed on various forums in search of beautiful temok, configs, widgets for awesome.  Stumbled upon such a user unligic (he has many articles and interesting things on github) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e5/3d6/240/4e53d624090c5d0536856779ac476822.png"><br><br>  And a newer version of his theme: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/786/370/458/78637045806ba92f0c7df4fc87708152.png"><br><br>  I was very impressed and I decided to set myself his theme - but this was not crowned with success.  The topic just didn't work.  When correcting one error, a new one appeared, etc.  Later I saw his post, the content is something like ‚ÄúI don‚Äôt recommend putting a newbie, since there are a lot of crutches there, you will spend a lot of time and not the fact that it will work.‚Äù  Actually what happened.  Then I decided to write the config myself.  I didn't have knowledge in Lua at all, but google always helps. <br><br>  The configuration file is in /etc/xdg/awesome/rc.lua - but I do not advise you to touch it, just copy it <br> <code>cp /etc/xdg/awesome/rc.lua ~/.config/awesome/rc.lua</code> <br>  (Someone .config directories may not be, do not worry - just create. <br> <code>mkdir ~/.config</code> <br> <code>mkdir ~/.config/awesome</code> <br> <br>  Let's start the configuration.  (Yes, I, using many articles, just rewrote it) <br><br><div class="spoiler">  <b class="spoiler_title">Here we list all the link libraries.</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">--------------------------------------------- ---   --- --------------------------------------------- local gears = require("gears") local awful = require("awful") local vicious = require("vicious") awful.rules = require("awful.rules") require("awful.autofocus") local wibox = require("wibox") local beautiful = require("beautiful") local naughty = require("naughty") local menubar = require("menubar") local dbus = require("dbus")</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">It seems everything is clear :)</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">--------------------------------------------------------- ---    --- --------------------------------------------------------- os.setlocale("ru_RU.UTF-8")</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">This part is left unchanged - this is an error handler.</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">-- {{{ Error handling -- Check if awesome encountered an error during startup and fell back to -- another config (This code will only ever execute for the fallback config) if awesome.startup_errors then naughty.notify({ preset = naughty.config.presets.critical, title = "Oops, there were errors during startup!", text = awesome.startup_errors }) end -- Handle runtime errors after startup do local in_error = false awesome.connect_signal("debug::error", function (err) -- Make sure we don't go into an endless error loop if in_error then return end in_error = true naughty.notify({ preset = naughty.config.presets.critical, title = "Oops, an error happened!", text = err }) in_error = false end) end -- }}}</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">I based on the zenburn theme (in / usr / share / awesome / themes / zenburn).</b>  <b class="spoiler_title">And I decided to change it a bit for myself (almost not significantly, so far)</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">------------------------------------- ---   --- ------------------------------------- beautiful.init("/home/worm2fed/.config/awesome/themes/worm2fed/theme.lua")</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">The -nw option in the last line allows you to run emacs in the terminal</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">---------------------------------------------------------------------- ---     --- ---------------------------------------------------------------------- terminal = "urxvtc" --    browser = "google-chrome-stable" --    editor = os.getenv("EDITOR") or "emacs" --    editor_cmd = terminal .. " -nw" .. editor --    </span></span></code> </pre><br></div></div><br><br>  The indentations have gone awfully, but in the editor it's all beautiful.  Key modifier - it is also called super, the key with the logo of the dindous.  Most often it is Mod4, but it may be different.  And then the codes of the mouse buttons and the keys needed in the config.  To check mouse codes: <br> <code>xev | grep 'button'</code> <br> <br>  For the modifier key and other keys: <br> <code>xev | grep 'keycode'</code> <br> <br><div class="spoiler">  <b class="spoiler_title">Button and key codes</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">----------------------------------------- --- - --- ----------------------------------------- modkey = "Mod4" --------------------------- ---   --- --------------------------- left_button = 1 wheel_button = 2 right_button = 3 plus_button = 4 minus_button = 5 wheel_left_button = 6 wheel_write_button = 7 ----------------------------------- --- -  --- ----------------------------------- key_V = "#55" key_Z = "#52" key_Y = "#29" key_J = "#44" key_K = "#45" key_N = "#57" key_M = "#58" key_F = "#41" key_R = "#27" key_L = "#46" key_C = "#54" key_W = "#25" key_X = "#53" key_Q = "#24" key_H = "#43" key_Tab = "#23" key_Tilda = "#49" key_U = "#30" key_E = "#26" key_T = "#28" key_P = "#33" key_O = "#32" key_Return = "#36" key_Left = "#113" key_Right = "#114" key_Esc = "#9" key_Print = "#107" key_Alt_R = "#108" key_Alt_L = "#64" key_Space = "#65" key_Ctrl_R = "#105" key_Ctrl_L = "#37" key_Home = "#110" key_F1 = "#67" key_Mute = "#121" key_Vol_Down = "#122" key_Vol_Up = "#123"</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Here I chose the window layouts I needed</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">------------------------------------------------------------------------------ --- Layouts -      --- ----------------------------------------------------------------------------- local layouts = { awful.layout.suit.floating, -- 1 awful.layout.suit.tile, -- 2   ,   () --awful.layout.suit.tile.left, -- *    awful.layout.suit.tile.bottom, -- 3    --awful.layout.suit.tile.top, -- *    awful.layout.suit.fair, -- 4 --awful.layout.suit.fair.horizontal, --awful.layout.suit.spiral, awful.layout.suit.spiral.dwindle, -- 5 awful.layout.suit.max, -- 6 --awful.layout.suit.max.fullscreen, awful.layout.suit.magnifier -- 7 }</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">It's all clear</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">-------------------------------------- ---    --- -------------------------------------- --      if beautiful.wallpaper then --    for s = 1, screen.count() do --      (      ) gears.wallpaper.maximized(beautiful.wallpaper, s, true) end end</span></span></code> </pre><br></div></div><br><br>  Tag names can be absolutely any - I chose Greek letters - as on the unlogic screen.  For each individual tag, I assign my layout, which we defined above. <br><div class="spoiler">  <b class="spoiler_title">Tags</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">--------------------------------------------------------- ---  -    --- --------------------------------------------------------- --   tags = { --   names = { " Œ± ", " Œ≤ ", " Œ∂ ", " Œò ", " Œû ", " œÇ ", " œà "}, --   layout = { layouts[1], layouts[2], layouts[3], layouts[4], layouts[5], layouts[6], layouts[7] }} --    for s = 1, screen.count() do --     ,     tags[s] = awful.tag(tags.names, s, tags.layout) end</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">We collect the menu (I do not know why it is needed, I have never used it)</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">------------------------------ ---   --- ------------------------------ --- - internet_menu = { --     -- {&lt;  &gt;, &lt; &gt;, &lt;&gt;} {" Firefox", "firefox-bin", beautiful.firefox_icon}, {" Chrome", "google-chrome-stable", beautiful.chrome_icon}, {" Pidgin", "pidgin"} } --- editors_menu = { {" Eclipse", "eclipse-bin-4.2"}, {" Emacs", "emacs"} } --- office_menu = { {" Word", "libreoffice --writer"}, {" Exel", "libreoffice --calc"} } main_menu = awful.menu({ --     items = { {" ", internet_menu}, {" ", editors_menu}, {" LibreOffice", office_menu}, {" "}, {" ", "reboot", beautiful.reboot_icon}, {" ", "halt", beautiful.poweroff_icon}, {" ", awesome.quit, beautiful.logout_icon} } }) ------------------------------------------------------------------ ---  -       --- ------------------------------------------------------------------ launcher = awful.widget.launcher({ image = beautiful.gentoo_icon, menu = main_menu })</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">But this is not understood why</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">-- Menubar configuration menubar.utils.terminal = terminal -- Set the terminal for applications that require it -- }}}</span></span></code> </pre><br></div></div><br><br>  The article came out very large, so I had to break it apart </div><p>Source: <a href="https://habr.com/ru/post/214411/">https://habr.com/ru/post/214411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214393/index.html">Exchange Server 2013 Service Pack 1: New Features</a></li>
<li><a href="../214395/index.html">New models Siklu licensed range of 70 GHz</a></li>
<li><a href="../214403/index.html">Guaranteed Delayed Message Delivery</a></li>
<li><a href="../214407/index.html">How to use HTML5 sectional elements</a></li>
<li><a href="../214409/index.html">How I Quest (now Dell) implemented Foglight</a></li>
<li><a href="../214417/index.html">Bitrix24 CRM - a powerful weapon in the battle of sales</a></li>
<li><a href="../214419/index.html">Runet in pictures XIII. Electronic wallets in RuNet</a></li>
<li><a href="../214421/index.html">The ideal IT company. How to assemble a team of programmers from geeks</a></li>
<li><a href="../214425/index.html">Writing a web service on Go (part two)</a></li>
<li><a href="../214427/index.html">iStodo: cross-platform organizer for students</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>