<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GIF, WebP, APNG, BPG animation comparison</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To create the effect of movement, you need to repeat a slightly modified image with a fairly high speed. For example, in a movie, this speed is 24 fra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GIF, WebP, APNG, BPG animation comparison</h1><div class="post__text post__text-html js-mediator-article">  To create the effect of movement, you need to repeat a slightly modified image with a fairly high speed.  For example, in a movie, this speed is 24 frames per second.  The higher it is, the movement looks smoother. <br><br> <a href="http://habrahabr.ru/company/io/blog/261083/"><img src="https://habrastorage.org/getpro/habr/post_images/756/51b/22c/75651b22c2e5425aac8f0dbfc1d15c77.jpg" alt="image"></a> <br><a name="habracut"></a><br><h4>  How to create an animation </h4><br>  Neighboring frames should not be very different.  When we shoot on a video camera, it turns out by itself, but if you draw in the editor, you can forget about it, and Malvina will walk like Buratino. <br><br>  This principle is used in animated graphic files.  They contain not one image, but a series of picture frames.  Each frame knows how many milliseconds it should be displayed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/970/2da/d2a/9702dad2a1a83fe19d661a1ce128ccb3.jpg" alt="image"><br><br>  And there is one problem.  The size of one second animation with 24 frames will weigh 24 times the static image.  To correct the situation, use image compression. <br><br><h5>  An example of an abstract compression algorithm </h5><br>  So there is a file.  It has only two colors - black and blue.  Then the color can be encoded in one bit.  The horizontal size is 20, vertically - 1. In total, it takes 20x1x1 = 20 bits. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4d1/459/81a/4d145981a77471f421dd6cb077e7f709.jpg" alt="image"><br><br>  In the row, the first seven points have the first color, then the six points - the second, and the remaining points in the row are again painted in the first color.  You can record this way: repeat the color 1 - 7 times, color 2 - 6 times, color 1 - 7 times (1x7 2x6 1x7). <br><br>  The benefit does not seem obvious, but if you stretch the file-line 1000 times to 20 kilobits, the record will increase quite slightly: 1x7000 2x6000 1x7000.  With an increase in the size of the source file, the benefit from compression will only grow. <br><br>  Compression is applied for each frame of animation.  If in the second 24 frames, then it will work 24 times.  Without this, the animation files would be very large. <br><br><h4>  Animated formats </h4><br><h5>  Gif format </h5><br>  This is a very old format.  All browsers show it.  It has a transparent layer, i.e.  under the picture you will see the background on which it lies.  For animation saves a series of full pictures.  This is a minus.  A file with 24 frames will be 24 times larger than the original static one.  Partially, it can be corrected by the fact that some frames may contain a transparent layer plus changes from the previous frame. <br><br>  GIF only shows 256 colors.  This can be corrected with animation.  We create two pictures with a different set of colors.  We demonstrate them with a delay of 0. As a result, we get 256 + 256 = 512 colors. <br><br>  The format well compresses the image without loss.  For small pictures, this is important. <br><br><h5>  APNG format </h5><br>  This format (Animated PNG) is an extension of the common PNG format.  However, the developers of the latter did not include this extension in the specification.  It turned out that few programs can display it correctly.  Most browsers will show the first frame with a static picture, and forget about the animation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0e5/468/467/0e546846771585f019526e353a01280b.jpg" alt="image"><br><br>  It is unlikely that the format will be widely used.  Moreover, new powerful competitors have appeared. <br><br><h5>  WEBP format </h5><br>  This format appeared in 2010.  The developer, Google, is positioning it as a replacement for <a href="https://onthe.io/learn%2B%25D0%259A%25D0%25B0%25D0%25BA%2B%25D0%25B8%25D1%2581%25D0%25BF%25D0%25BE%25D0%25BB%25D1%258C%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25B0%25D1%2582%25D1%258C%2B%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0%25D1%2582%2BGIF">GIF</a> and other formats.  <a href="https://onthe.io/learn%2B%25D0%25A7%25D1%2582%25D0%25BE%2B%25D1%2582%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25B5%2BWebP">WEBP</a> has all the features of GIF, but only in an improved version: <br><br><ul><li>  More efficient with transparent layers. </li><li>  During animation, the next frame stores only the changes of the previous one.  And if so, then the size of the animated file is reduced. </li><li>  The image is compressed more efficiently. </li></ul><br>  The format is not yet supported everywhere.  For example, Android can work with it, starting with version 4.0.  Chrome browsers - from version 9, Opera - from version 11.10.  Other browsers do not yet support the format (June 2015).  You can follow its development <a href="http://caniuse.com/">here</a> (list of browsers with WEBP support) and <a href="https://developers.google.com/speed/webp/">here</a> (project home page). <br><br><h5>  BPG format </h5><br>  <a href="https://onthe.io/learn%2B%25D0%25A7%25D1%2582%25D0%25BE%2B%25D1%2582%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25B5%2B%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0%25D1%2582%2BBPG">BPG</a> is the newest.  It was proposed at the end of 2014.  The format is positioned as a replacement for JPEG with significant improvements.  Image compression will be more efficient than that of the ancestor.  Animation support will appear (JPEG cannot do this).  But the format is just beginning its development, it is still impossible to recommend it for use, but <a href="http://bellard.org/bpg">you can</a> follow it. <br><br><h4>  Work with GIF, APNG and WEBP in the CLI </h4><br>  There are two great packages <a href="http://www.imagemagick.org/script/index.php">ImageMagick</a> and <a href="http://www.graphicsmagick.org/">GraphicsMagic</a> .  Using <a href="https://onthe.io/learn%2B10%2B%25D0%25BA%25D0%25BB%25D1%258E%25D1%2587%25D0%25B5%25D0%25B2%25D1%258B%25D1%2585%2B%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25B9%2BImageMagick">ImageMagic</a> creates animation from * .gif images: <br><br><pre><code class="dos hljs">onvert -delay <span class="hljs-number"><span class="hljs-number">150</span></span> -loop <span class="hljs-number"><span class="hljs-number">10</span></span> *.gif animated.gif</code> </pre> <br>  The convert command picks up all the * .gif files in the directory, sorts them alphabetically and inserts them in a new file animated.gif. <br><br>  Check (a small graphic container with a cartoon will start): <br><br><pre> <code class="dos hljs">animate animated.gif</code> </pre><br>  Converting cartoon to APNG format: <br><br><pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">convert</span></span> animated.gif animated.apng</code> </pre><br>  If you use <a href="https://onthe.io/learn%2B8%2B%25D0%25BA%25D0%25BB%25D1%258E%25D1%2587%25D0%25B5%25D0%25B2%25D1%258B%25D1%2585%2B%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25B9%2BGraphicsMagick">GraphicsMagic</a> , then the commands are: <br><br><pre> <code class="dos hljs">gm <span class="hljs-built_in"><span class="hljs-built_in">convert</span></span> -delay <span class="hljs-number"><span class="hljs-number">150</span></span> -loop <span class="hljs-number"><span class="hljs-number">100</span></span> *.gif animated.webp gm animate animated.webp</code> </pre><br>  This time the output format is WEBP.  BPG is similarly processed. <br><br>  It is also possible to pull the animation in GIF from video files.  For example, using the libav-tools package, import video from MP4: <br><br><pre> <code class="dos hljs">avconv -i inputfile.mp4 -pix_fmt rgb24 output.gif</code> </pre> <br>  You can see the difference between GIF, WebP and APNG animations in different formats <a href="https://i.onthe.io/compare_formats">here</a> .  Here is <a href="https://i.onthe.io/compare_formats%3Fr%3Dabc1f16165e61d231b2ccd730fe5f01a">an example</a> . <br><br><h4>  Abstract </h4><br><ol><li>  Four formats support animation: GIF, APNG, WEBP and BPG. </li><li>  You can generate gifs using ImageMagick and GraphicsMagick. </li><li>  While it is better to store the animation in the GIF and follow the development of other formats. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/261083/">https://habr.com/ru/post/261083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261071/index.html">Decoding the upcoming 3CX Phone System update to version 14</a></li>
<li><a href="../261075/index.html">Antiviruses at gunpoint: a big hole in ESET and an attack on Kaspersky</a></li>
<li><a href="../261077/index.html">5 internships for IT professionals abroad</a></li>
<li><a href="../261079/index.html">D for beginners, part 2</a></li>
<li><a href="../261081/index.html">Hardcore old school: QEMU and reverse floppy image</a></li>
<li><a href="../261085/index.html">Samsung software can intentionally disable Windows Update</a></li>
<li><a href="../261087/index.html">Microsoft DevOps tools</a></li>
<li><a href="../261089/index.html">Infrastructure: What is behind the pictures on the Internet</a></li>
<li><a href="../261091/index.html">HP StormRunner Load. A practical guide. Part III</a></li>
<li><a href="../261093/index.html">Report on the Google RISE Summit and Programming Kids Learning Services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>