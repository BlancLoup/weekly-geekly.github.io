<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Injecting React JS into an Angular JS app or fighting for performance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dear Hub lovers, hello everyone! Do not open America if we say that there are hundreds of plug-ins and libraries that facilitate specialized tasks ass...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Injecting React JS into an Angular JS app or fighting for performance</h1><div class="post__text post__text-html js-mediator-article">  Dear Hub lovers, hello everyone!  Do not open America if we say that there are hundreds of plug-ins and libraries that facilitate specialized tasks associated with the construction of modern web interfaces.  Angular is one of them, a lot has been written about its performance, and in most cases recommendations are given which do not need to be done so that everything is good. <br><br>  The main argument of the supporters is that the wrong applications are slowly running, but the right ones should not contain more than 2000-3000 elements.  If it contains more, something is wrong.  See for example <a href="http://iantonov.me/page/angularjs-osnovy">http://iantonov.me/page/angularjs-osnovy</a> . <br><br>  The argument is generally sound, but there are always situations where you need to write a ‚Äúwrong‚Äù web application because there are such requirements.  In this article we decided to tell just about such a problem, and how we solved it.  In our opinion, the article will be more useful to professional web developers.  So, our task was to make a calendar for the reservation system for one sports club.  The calendar displays seven 12-hour blocks, each day of which is divided into 15 minute intervals.  A block can have from 2 to 10 DOM elements.  It seems nothing foreshadows trouble, the upper limit of ~ 3000. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/025/812/1fe/0258121fe72e49d7b086790c3f8ea5c0.png"><br><br>  Well, we're starting to write: <br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùday</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">days</span></span></span><span class="hljs-tag">‚Äù&gt;</span></span> ‚Ä¶. <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùhour</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">day.hours</span></span></span><span class="hljs-tag">‚Äù&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùblock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hour.blocks</span></span></span><span class="hljs-tag">‚Äù&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùblock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hour.blocks</span></span></span><span class="hljs-tag">‚Äù&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùsession</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">block.sessions</span></span></span><span class="hljs-tag">‚Äù&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Done!  But!  The data-binding of all this took about 2-3 seconds.  By the way, there may be a question, how to measure how much it takes?  Attempting to do this with the help of the profiler does not directly give an answer, it is difficult to understand in the profiler what exactly the data-binding sheet refers to, and what routing adds and so on. <br><br>  Therefore, we made quite simple: <br><pre> <code class="hljs php">$timeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $scope.days = days; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> now = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(); $timeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ console.log(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date - now); $scope.apply() }, <span class="hljs-number"><span class="hljs-number">0</span></span>); }, <span class="hljs-number"><span class="hljs-number">100</span></span>);</code> </pre><br><br>  The first timeout is needed in order to run all the other scripts in order not to violate the measurement accuracy, the actual number 100 (ms) is chosen experimentally.  The second can be safely done 0, because  as soon as the browser receives the first breather, it will immediately execute the internal handler $ timeout, which in fact means that the data-binding is complete. <br><br>  <b>In terms of responsiveness of the user interface 2 - 3 seconds are quite large values, how to solve this problem?</b> <br><br>  First of all, of course, again and again re-read <a href="http://tech.small-improvements.com/2013/09/10/angularjs-performance-with-large-lists/">tech.small-improvements.com/2013/09/10/angularjs-performance-with-large-lists</a> and, of course, <a href="http://blog.scalyr.com/2013/10/angularjs-1200ms-to-35ms/">Optimizing AngularJS: 1200ms to 35ms</a> .  In the last article, the result, by the way, looks particularly impressive.  But the result is achieved by virtualization (i.e. by the fact that only the small displayed part is rendered) and caching.  Virtualization is a good solution, but only when the content being virtualized is fairly simple.  Otherwise, there are very unpleasant brakes when scrolling the page, which level the entire effect of virtualization. <br><br>  By the way, speaking of virtualization, there is a remarkable ngGrid element for displaying tabular data, which can display millions (check :)) elements.  But the solution here, of course, is again virtualization (and otherwise, why all the lines in the ngGrid are the same height). <br><br>  So, having tried many options, we finally come to ReactJS.  According to the developers, this is the fastest framework for data-binding (and now I tend to agree that this is the case).  Although, for example, the <a href="http://vuejs.org/perf/">Vue</a> site claims otherwise, my own test showed the superiority of React. <br><br>  <b>So react.</b> <br><br>  There are already quite a few articles on Habr√© devoted to this framework.  For starters, I would advise: <br><br><ul><li>  <a href="http://habrahabr.ru/post/215607/">http://habrahabr.ru/post/215607/</a> </li><li>  <a href="http://habrahabr.ru/post/217295/">http://habrahabr.ru/post/217295/</a> </li></ul><br><br>  as well as a great article. <br><ul><li>  <a href="http://maketea.co.uk/2014/03/05/building-robust-web-apps-with-react-part-1.html">http://maketea.co.uk/2014/03/05/building-robust-web-apps-with-react-part-1.html</a> </li><li>  <a href="http://maketea.co.uk/2014/04/07/building-robust-web-apps-with-react-part-2.html">http://maketea.co.uk/2014/04/07/building-robust-web-apps-with-react-part-2.html</a> </li><li>  <a href="http://maketea.co.uk/2014/05/22/building-robust-web-apps-with-react-part-3.html">http://maketea.co.uk/2014/05/22/building-robust-web-apps-with-react-part-3.html</a> </li><li>  <a href="http://maketea.co.uk/2014/06/30/building-robust-web-apps-with-react-part-4.html">http://maketea.co.uk/2014/06/30/building-robust-web-apps-with-react-part-4.html</a> </li></ul><br><br>  On Habr√© there is its translation into Russian. <br><br>  The secret of ReactJS is that it operates with a virtual DOM, so it can minimize the number of actions needed to render the view.  Nice article about it <a href="http://habrahabr.ru/post/189230/">here</a> . <br><br>  The code for displaying a view on ReactJS is as follows: <br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Hello = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.DOM.div({}, <span class="hljs-string"><span class="hljs-string">'Hello '</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name); } }); React.renderComponent(Hello({<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'World'</span></span>}), <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body);</code> </pre><br><br>  Here, the first part defines the component, and the line ‚ÄúReact.renderComponent (Hello ({name: 'World'}), document.body)‚Äù draws it. <br>  The React.DOM API is quite convenient, but after the Angualr and Knockout templates, DOM generation with Javascript looks a bit archaic and may seem too time consuming.  To solve this, Facebook offers an ‚ÄúIn-browser JSX Transform‚Äù. <br><br>  Meeting in the browser <br><pre> <code class="hljs scala">&lt;script <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"text/jsx"</span></span>&gt;</code> </pre> <br><br>  transformer will transform such code <br><pre> <code class="hljs actionscript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> HelloMessage = React.createClass({ render: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;div&gt;{<span class="hljs-string"><span class="hljs-string">'Hello '</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name}&lt;/div&gt;; } });</code> </pre><br><br>  in this: <br><pre> <code class="hljs actionscript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Hello = React.createClass({ render: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.DOM.div({}, <span class="hljs-string"><span class="hljs-string">'Hello '</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name); } });</code> </pre><br><br>  Pay attention to the syntax: return [Markup];  without quotes (although from experience with ReactJS.Net, extra brackets or line breaks do not interfere).  In order to display duplicate elements, for some array you need to do this <br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> HelloMessage = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nodes = array.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">‚Ä¶</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{nodes}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } });</code> </pre><br><br>  Although more likely that you do like this: <br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SubMessage = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">‚Ä¶</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> HelloMessage = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nodes = array.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">SubMessage</span></span></span></span><span class="xml"><span class="hljs-tag"> &gt;</span></span></span><span class="xml">‚Ä¶</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">SubMessage</span></span></span></span><span class="xml"><span class="hljs-tag"> &gt;</span></span></span><span class="xml">; }); return </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{nodes}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">; } });</span></span></code> </pre><br><br>  Why?  The answer is that the components have their own state, which is written below. <br><br>  By the way, the JSX transformation work is quite possible to get to the server, for this there is a rich set of integrations <a href="https://github.com/facebook/react/wiki/Complementary-Tools">https://github.com/facebook/react/wiki/Complementary-Tools#jsx-integrations</a> , which we actually did, in our case it was ReactJS.Net. <br><br>  And what, two-way binding - the cornerstone of the MV- * framework?  Actually, as aptly noted in <a href="http://maketea.co.uk/2014/03/05/building-robust-web-apps-with-react-part-1.html">http://maketea.co.uk/2014/03/05/building-robust-web-apps-with-react-part-1.html</a> , ReactJS is not, but some tools , to resolve such issues there.  In ReactJS, the properties and state of a component are distinguished.  Properties are what we pass to the component by calling React.renderComponent (Hello ({[PROPERTIES]}), ...) and we get it already inside the component through this.props.  In most cases, properties are a certain tree of objects for which you need to generate markup.  Ideologically, the properties suggest a rather static behavior.  In order for the markup to change when updating properties, you will have to call React.renderComponent again (although I note from myself that this renderComponent often works faster than similar designs of MV- * frameworks, yet the difference algorithm is very good). <br><br>  A state is something that can change.  The state is determined by a pair of methods: <br><ul><li>  getInitialState - defines the initial state of the component (which will be returned just based on the properties). </li><li>  setState - sets the state. </li></ul><br><br>  When you call setState, a redraw will only happen for the component for which it was called. <br><br>  How to transfer the data in the opposite direction?  To do this, you need a valueLink object, which is a starting value and a handler for changing it.  This handler should behave according to the situation.  Facebook does not recommend recording the new value directly in props, therefore, you will have to write the new value in the state in order for the markup to be updated adequately to the data.  That is, in its most complete form, the similarity of two-way binding in ReactJS will look like this: <br><br>  Where in angular was <br><pre> <code class="hljs pgsql">&lt;<span class="hljs-keyword"><span class="hljs-keyword">input</span></span> ng-model=<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> /&gt;.</code> </pre><br><br>  In ReactJS will be: <br><pre> <code class="hljs actionscript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> HelloMessage = React.createClass({ getInitialState() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { value: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.value }; }, render: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> valueLink = { value: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value, requestChange: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(newValue)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({value: newValue}); }.bind() <span class="hljs-comment"><span class="hljs-comment">//  ,   .bind() }; return &lt;input value={valueLink}/&gt;; } });</span></span></code> </pre><br><br>  Verbose?  Of course!!!  This is the price for the five times increased performance. <br><br>  So, returning to our task, what we have: <br><ol><li>  The application on AngularJS in which a certain piece works slowly. </li><li>  We want to increase productivity (actually 5 times we will be acceptable). </li><li>  We want to achieve this with minimal effort. </li><li>  Ideally, we want to change only the View part of the application, leave both the Controller and the Model unchanged. </li></ol><br><br>  The idea is described in <a href="http://habrahabr.ru/post/215607/">http://habrahabr.ru/post/215607/</a> . <br><br>  Actually, our: <br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùday</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">days</span></span></span><span class="hljs-tag">‚Äù&gt;</span></span> ‚Ä¶. <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  turns now into: <br><pre> <code class="hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">calendar</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùdays‚Äù</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  But this is not React yet, this is still Angular, and calendar is a directive that tracks changes in Days and calls renderComponent. <br><br>  The good news is that rewriting the View code on JSX is almost a mechanical process.  Ng-class turns into className = {className}, where className is just the computed class names (by the way, notice what className is and not class, and if you forget it, React will helpfully tell you in the console).  Ng-show in style = {style}.  Ng-Model, see above.  It is so mechanical that there is even a <a href="http://davidchang.github.io/ngReact/">ngReact</a> initiative that does this automatically. <br><br>  However, as written <a href="http://www.williambrownstreet.net/blog/2014/04/faster-angularjs-rendering-angularjs-and-reactjs/">here</a> , you can get a minus to performance.  In order to avoid, we went in a proven ‚Äúmanual‚Äù way. <br><br>  Eventually: <br>  What used to take 2-3 seconds, began to occupy 300-500 ms.  This made the user experience quite enjoyable.  By the time the alteration took about 3 days, the initial implementation of ~ 15 days.  It was possible to manage to change only the view, although perhaps this is the specificity of this particular task. <br><br>  As a conclusion, I would like to say that the use of React-injections (with your permission, let's call them that way) in applications written in Angular make it possible to increase productivity by about 5 times.  And most importantly, the changes that are made, though they are manual and mechanical, are applied locally. <br><br>  From our point of view, in similar situations React can become a magic wand that will speed up the ‚Äúslow‚Äù places of the application. </div><p>Source: <a href="https://habr.com/ru/post/232229/">https://habr.com/ru/post/232229/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../232217/index.html">D # is a programming language for Doge fans.</a></li>
<li><a href="../232219/index.html">AngularJS: we configure event of initialization</a></li>
<li><a href="../232221/index.html">Rosetta - 2 days to comet Churyumov-Gerasimenko</a></li>
<li><a href="../232223/index.html">Useful resources for the game designer</a></li>
<li><a href="../232227/index.html">CentOS 7 Review. Part 4: Mitigate TCP SYN Flood DDoS attacks. Test in the cloud for free</a></li>
<li><a href="../232231/index.html">What is the work day of an IT engineer, if you are a girl</a></li>
<li><a href="../232233/index.html">Sony will no longer release e-books. The end of another era</a></li>
<li><a href="../232235/index.html">Origami Aircraft and Radio Control: PowerUP 3.0 Project Goes Into People</a></li>
<li><a href="../232237/index.html">Last day of registration for the three-day program ‚ÄúCreating a global IT startup-a‚Äù</a></li>
<li><a href="../232239/index.html">Overview of Microsoft Azure platform updates for June-July</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>