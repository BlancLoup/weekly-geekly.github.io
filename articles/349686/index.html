<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Optimization of the PID controller settings by the integral criterion for the quality of regulation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setting the task of assessing regulatory quality 
 Integral assessment of the quality of regulation characterizes the total deviation of the real tran...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Optimization of the PID controller settings by the integral criterion for the quality of regulation</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/vb/dq/rr/vbdqrr3dwaerhlrislpq90jsjfu.png"><br><br><h3>  Setting the task of assessing regulatory quality </h3><br>  Integral assessment of the quality of regulation characterizes the total deviation of the real transition process in the system from the idealized transition process. <br><br>  As an idealized process, a stepwise (jump-like) transient process or an exponential process with specified exponent parameters is usually taken. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Until now, it remains unclear which of the integral criteria to choose linear or quadratic to optimize the settings of the regulators. <br><br>  In this publication, the determination of the optimal controller settings is carried out on the basis of the optimality criterion as a sum of linear and quadratic integral indicators of the quality of regulation. <br><a name="habracut"></a><br>  In order to make such a choice, it is first necessary to conduct a series of preliminary calculations for different values ‚Äã‚Äãof the ratio of the time constants of differentiation and integration Œ± = Td / Ti and choose several values ‚Äã‚Äãof Œ±, which provide the largest value of the ratio Kr / Ki. <br><br>  After that, having several options for regulator settings, construct transients for them in a closed system and select the optimal settings according to the proposed criterion. <br><br><h3>  Software implementation of the calculation of the optimal controller settings </h3><br>  The calculation can be performed both in a mathematical package and in any programming language.  However, due to the <i>presence of powerful libraries for numerical integration and a simple implementation of searching local extrema in lists, I chose a high-level programming language Python.</i> <br><br>  To simplify the search procedures at the beginning of the program, it is advisable to establish the source data and provide ready-made frequency lists for each problem to be solved separately: <br><br><div class="spoiler">  <b class="spoiler_title">Preparation of source data</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf8 -*- import numpy as np #      from scipy.integrate import quad #     import matplotlib.pyplot as plt #     T1=14; T2=18; T3=28; K=0.9; tau=6.4#  ,  ,  m=0.366; m1=0.221#   n= np.arange(0.001,0.15,0.0002)#     Kr-Ki n1=np.arange(0.00001,0.12,0.0001) #     Ki=f(w) n2=np.arange(0.0002,0.4,0.0001) #    </span></span></code> </pre> <br></div></div><br>  We introduce the transfer function for the water heat exchanger taking into account the root index of oscillation m and the transfer function of the PID controller taking into account Kr, Ti, Td, the remaining functions are auxiliary: <br><br><div class="spoiler">  <b class="spoiler_title">Input of main and auxiliary functions with regard to complex arithmetic</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WO</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m,w)</span></span></span><span class="hljs-function">:</span></span><span class="hljs-comment"><span class="hljs-comment">#   j=(-1)**0.5 return K*np.exp(-tau*(-m+j)*w)/((T1*(-m+j)*w+1)*(T2*(-m+j)*w+1)*(T3*(-m+j)*w+1)) def WR(w,Kr,Ti,Td):#   j=(-1)**0.5 return Kr*(1+1/(j*w*Ti)+j*w*Td) def ReW(m,w):#    j=(-1)**0.5 return WO(m,w).real def ImW(m,w):#    j=(-1)**0.5 return WO(m,w).imag def A0(m,w):#  return -(ImW(m,w)*m/(w+w*m**2)+ReW(m,w)/(w+w*m**2)) def Ti(alfa,m,w):#  return (-ImW(m,w)-(ImW(m,w)**2-4*((ReW(m,w)*alfa*w-ImW(m,w)*alfa*w*m)*A0(m,w)))**0.5)/(2*(ReW(m,w)*alfa*w-ImW(m,w)*alfa*w*m)) def Ki(alfa,m,w):#  return 1/(w*Ti(alfa,m,w)**2*alfa*(m*ReW(m,w)+ImW(m,w))-Ti(alfa,m,w)*ReW(m,w)+(m*ReW(m,w)-ImW(m,w))/(w+w*m**2)) def Kr(alfa,m,w):#  if Ki(alfa,m,w)*Ti(alfa,m,w)&lt;0: z=0 else: z=Ki(alfa,m,w)*Ti(alfa,m,w) return z def Kd(alfa,m,w):#  return alfa*Kr(alfa,m,w)*Ti(alfa,m,w)</span></span></code> </pre><br></div></div><br>  Construct three planes for tuning the PID controller for the relations alfa = Td / Ti = 0.2, alfa = Td / Ti = 0.7 alfa = Td / Ti = 1.2. <br><br><div class="spoiler">  <b class="spoiler_title">Search for optimal alfa values</b> <div class="spoiler_text"><pre> <code class="python hljs">alfa=<span class="hljs-number"><span class="hljs-number">0.2</span></span> Ki_1=[Ki(alfa,m1,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_1=[Kr(alfa,m1,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Ki_2=[Ki(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_2=[Kr(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Ki_3=[Ki(alfa,<span class="hljs-number"><span class="hljs-number">0</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_3=[Kr(alfa,<span class="hljs-number"><span class="hljs-number">0</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] plt.figure() plt.title(<span class="hljs-string"><span class="hljs-string">"    \n  alfa=%s"</span></span>%alfa) plt.axis([<span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Kr_3),<span class="hljs-number"><span class="hljs-number">4</span></span>), <span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Ki_3),<span class="hljs-number"><span class="hljs-number">4</span></span>)]) plt.plot(Kr_1, Ki_1, label=<span class="hljs-string"><span class="hljs-string">'   m=%s'</span></span>%m1) plt.plot(Kr_2, Ki_2, label=<span class="hljs-string"><span class="hljs-string">'   m=%s'</span></span>%m) plt.plot(Kr_3, Ki_3, label=<span class="hljs-string"><span class="hljs-string">'   m=0'</span></span>) plt.xlabel(<span class="hljs-string"><span class="hljs-string">" - Ki"</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">" - Kr"</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) alfa=<span class="hljs-number"><span class="hljs-number">0.7</span></span> Ki_1=[Ki(alfa,<span class="hljs-number"><span class="hljs-number">0.221</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_1=[Kr(alfa,<span class="hljs-number"><span class="hljs-number">0.221</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Ki_2=[Ki(alfa,<span class="hljs-number"><span class="hljs-number">0.366</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_2=[Kr(alfa,<span class="hljs-number"><span class="hljs-number">0.366</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Ki_3=[Ki(alfa,<span class="hljs-number"><span class="hljs-number">0</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_3=[Kr(alfa,<span class="hljs-number"><span class="hljs-number">0</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] plt.figure() plt.axis([<span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Kr_3),<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Ki_3),<span class="hljs-number"><span class="hljs-number">3</span></span>)]) plt.title(<span class="hljs-string"><span class="hljs-string">"    \n  alfa=%s"</span></span>%alfa) plt.plot(Kr_1, Ki_1, label=<span class="hljs-string"><span class="hljs-string">'   m=%s'</span></span>%m1) plt.plot(Kr_2, Ki_2, label=<span class="hljs-string"><span class="hljs-string">'   m=%s'</span></span>%m) plt.plot(Kr_3, Ki_3, label=<span class="hljs-string"><span class="hljs-string">'   m=0'</span></span>) plt.xlabel(<span class="hljs-string"><span class="hljs-string">" - Ki"</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">" - Kr"</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) alfa=<span class="hljs-number"><span class="hljs-number">1.2</span></span> Ki_1=[Ki(alfa,<span class="hljs-number"><span class="hljs-number">0.221</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_1=[Kr(alfa,<span class="hljs-number"><span class="hljs-number">0.221</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Ki_2=[Ki(alfa,<span class="hljs-number"><span class="hljs-number">0.366</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_2=[Kr(alfa,<span class="hljs-number"><span class="hljs-number">0.366</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Ki_3=[Ki(alfa,<span class="hljs-number"><span class="hljs-number">0</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_3=[Kr(alfa,<span class="hljs-number"><span class="hljs-number">0</span></span>,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] plt.figure() plt.title(<span class="hljs-string"><span class="hljs-string">"    \n  alfa=%s"</span></span>%alfa) plt.axis([<span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Kr_3),<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Ki_3),<span class="hljs-number"><span class="hljs-number">3</span></span>)]) plt.plot(Kr_1, Ki_1, label=<span class="hljs-string"><span class="hljs-string">'   m=%s'</span></span>%m1) plt.plot(Kr_2, Ki_2, label=<span class="hljs-string"><span class="hljs-string">'   m=%s'</span></span>%m) plt.plot(Kr_3, Ki_3, label=<span class="hljs-string"><span class="hljs-string">'   m=0'</span></span>) plt.xlabel(<span class="hljs-string"><span class="hljs-string">" - Ki"</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">" - Kr"</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) plt.figure(</code> </pre>  ) <br></div></div><br>  For the stability margin m = 0.386 with values ‚Äã‚Äãof alfa -0.2,0,4,0.7, we construct D-partitions to determine the critical values ‚Äã‚Äãof alfa. <br><br><div class="spoiler">  <b class="spoiler_title">The total plane of all tuning parameters</b> <div class="spoiler_text"><pre> <code class="python hljs">plt.title(<span class="hljs-string"><span class="hljs-string">"    \n    m=%s"</span></span>%m) alfa=<span class="hljs-number"><span class="hljs-number">0.2</span></span> Ki_2=[Ki(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_2=[Kr(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] plt.plot(Kr_2, Ki_2,label=<span class="hljs-string"><span class="hljs-string">'   allfa=Td/Ti =%s'</span></span>%alfa) alfa=<span class="hljs-number"><span class="hljs-number">0.4</span></span> Ki_2=[Ki(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_2=[Kr(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] plt.plot(Kr_2, Ki_2,label=<span class="hljs-string"><span class="hljs-string">'   allfa=Td/Ti =%s'</span></span>%alfa) alfa=<span class="hljs-number"><span class="hljs-number">0.7</span></span> Ki_2=[Ki(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_2=[Kr(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] plt.plot(Kr_2, Ki_2,label=<span class="hljs-string"><span class="hljs-string">'   allfa=Td/Ti =%s'</span></span>%alfa) alfa=<span class="hljs-number"><span class="hljs-number">1.2</span></span> Ki_2=[Ki(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] Kr_2=[Kr(alfa,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n] plt.plot(Kr_2, Ki_2,label=<span class="hljs-string"><span class="hljs-string">'   allfa=Td/Ti =%s'</span></span>%alfa) plt.axis([<span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Kr_2),<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-number"><span class="hljs-number">0.0</span></span>, round(max(Ki_2),<span class="hljs-number"><span class="hljs-number">3</span></span>)]) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br></div></div><br>  Build a graph of Ki versus frequency w for two alfa values ‚Äã‚Äãdetected from the previous graph: 0.2;  0.7  Ki settings are determined by resonant frequencies. <br><br><pre> <code class="python hljs">plt.figure() plt.title(<span class="hljs-string"><span class="hljs-string">" Ki=f(w)"</span></span>) Ki_1=[Ki(<span class="hljs-number"><span class="hljs-number">0.2</span></span>,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n1] Ki_2=[Ki(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n1] Ky=max([round(max(Ki_1),<span class="hljs-number"><span class="hljs-number">4</span></span>),round(max(Ki_2),<span class="hljs-number"><span class="hljs-number">4</span></span>)]) plt.axis([<span class="hljs-number"><span class="hljs-number">0.0</span></span>,round(max(n1),<span class="hljs-number"><span class="hljs-number">4</span></span>),<span class="hljs-number"><span class="hljs-number">0.0</span></span>, Ky]) plt.plot(n1, Ki_1,label=<span class="hljs-string"><span class="hljs-string">'allfa=Td/Ti =0.2,   m=0.366'</span></span>) plt.plot(n1, Ki_2,label=<span class="hljs-string"><span class="hljs-string">'allfa=Td/Ti =0.7,   m=0.366'</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br>  We define three options for setting the PID controller: <br><br><div class="spoiler">  <b class="spoiler_title">Obtaining the numerical values ‚Äã‚Äãof the settings to select the optimal according to the proposed criterion</b> <div class="spoiler_text"><pre> <code class="python hljs">maxKi=max( [Ki(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n1]) wa=round([w <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n1 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Ki(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,w)==maxKi][<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) Ki1=round(Ki(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,wa),<span class="hljs-number"><span class="hljs-number">3</span></span>) Kr1=round(Kr(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,wa),<span class="hljs-number"><span class="hljs-number">3</span></span>) Ti1=round(Kr1/Ki1,<span class="hljs-number"><span class="hljs-number">3</span></span>) Td1=round(<span class="hljs-number"><span class="hljs-number">0.7</span></span>*Ti1,<span class="hljs-number"><span class="hljs-number">3</span></span>) d=[] d[<span class="hljs-number"><span class="hljs-number">0</span></span>]= <span class="hljs-string"><span class="hljs-string">" ‚Ññ1   (wa =%s,m=0.366,alfa=0.7): Kr=%s; Ti=%s; Ki=%s; Td=%s "</span></span>%(wa,Kr1,Ti1,Ki1,Td1) print(d[<span class="hljs-number"><span class="hljs-number">0</span></span>]) maxKi=max( [Ki(<span class="hljs-number"><span class="hljs-number">0.2</span></span>,m,w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n1]) wa=round([w <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n1 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Ki(<span class="hljs-number"><span class="hljs-number">0.2</span></span>,m,w)==maxKi][<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) Ki2=round(Ki(<span class="hljs-number"><span class="hljs-number">0.2</span></span>,m,wa),<span class="hljs-number"><span class="hljs-number">3</span></span>) Kr2=round(Kr(<span class="hljs-number"><span class="hljs-number">0.2</span></span>,m,wa),<span class="hljs-number"><span class="hljs-number">3</span></span>) Ti2=round(Kr2/Ki2,<span class="hljs-number"><span class="hljs-number">3</span></span>) Td2=round(<span class="hljs-number"><span class="hljs-number">0.2</span></span>*Ti2,<span class="hljs-number"><span class="hljs-number">3</span></span>) d[<span class="hljs-number"><span class="hljs-number">1</span></span>]= <span class="hljs-string"><span class="hljs-string">" ‚Ññ2  (wa =%s,m=0.366,alfa=0.2): Kr=%s; Ti=%s; Ki=%s; Td=%s "</span></span>%(wa,Kr2,Ti2,Ki2,Td2) print(d[<span class="hljs-number"><span class="hljs-number">1</span></span>]) wa=fsolve(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> w:Ki(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,w)<span class="hljs-number"><span class="hljs-number">-0.14</span></span>,<span class="hljs-number"><span class="hljs-number">0.07</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] wa=round(wa,<span class="hljs-number"><span class="hljs-number">3</span></span>) Ki3=round(Ki(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,wa),<span class="hljs-number"><span class="hljs-number">3</span></span>) Kr3=round(Kr(<span class="hljs-number"><span class="hljs-number">0.7</span></span>,m,wa),<span class="hljs-number"><span class="hljs-number">3</span></span>) Ti3=round(Kr3/Ki3,<span class="hljs-number"><span class="hljs-number">3</span></span>) Td3=round(<span class="hljs-number"><span class="hljs-number">0.7</span></span>*Ti3,<span class="hljs-number"><span class="hljs-number">3</span></span>) d[<span class="hljs-number"><span class="hljs-number">2</span></span>]= (<span class="hljs-string"><span class="hljs-string">" ‚Ññ3  (wa =%s,m=0.366,alfa=0.7): Kr=%s; Ti=%s; Ki=%s; Td=%s "</span></span>%(wa,Kr3,Ti3,Ki3,Td3) print(d[<span class="hljs-number"><span class="hljs-number">2</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Wsys</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w,Kr,Ti,Td)</span></span></span><span class="hljs-function">:</span></span> j=(<span class="hljs-number"><span class="hljs-number">-1</span></span>)**<span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (WO(<span class="hljs-number"><span class="hljs-number">0</span></span>,w)*WR(w,Kr,Ti,Td)/(<span class="hljs-number"><span class="hljs-number">1</span></span>+WO(<span class="hljs-number"><span class="hljs-number">0</span></span>,w)*WR(w,Kr,Ti,Td))) Wsys_1=[abs(Wsys(w,Kr1,Ti1,Td1)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n2] Wsys_2=[abs(Wsys(w,Kr2,Ti2,Td2)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n2] Wsys_3=[abs(Wsys(w,Kr3,Ti3,Td3)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> n2] plt.figure()</code> </pre> <br></div></div><br>  Determine the dynamics of ASR by the value of the frequency index of oscillation: <br><br><pre> <code class="python hljs">plt.title(<span class="hljs-string"><span class="hljs-string">"-    \n   "</span></span>) plt.plot(n2, Wsys_1,label=<span class="hljs-string"><span class="hljs-string">'   ‚Ññ1  '</span></span>) plt.plot(n2, Wsys_2,label=<span class="hljs-string"><span class="hljs-string">'   ‚Ññ2  '</span></span>) plt.plot(n2, Wsys_3,label=<span class="hljs-string"><span class="hljs-string">'   ‚Ññ3  '</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br>  We determine the optimal controller settings by the proposed integral criterion for the quality of regulation: <br><br><img src="https://habrastorage.org/webt/0q/cf/xc/0qc%20%D0%BE%D0%BF%D1%82%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BAfxcujq6d5bfcmwnzl55ozszo.png"><br><br><div class="spoiler">  <b class="spoiler_title">Numerical and graphical analysis of the optimal settings obtained</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReWsys</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w,t,Kr,Ti,Td)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>/np.pi)* (WO(<span class="hljs-number"><span class="hljs-number">0</span></span>,w)*WR(w,Kr,Ti,Td)/(<span class="hljs-number"><span class="hljs-number">1</span></span>+WO(<span class="hljs-number"><span class="hljs-number">0</span></span>,w)*WR(w,Kr,Ti,Td))).real*(np.sin(w*t)/w) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">h</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t,Kr,Ti,Td)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quad(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> w: ReWsys(w,t,Kr,Ti,Td),<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.6</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] tt=np.arange(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>) h1=[h(t,Kr1,Ti1,Td1) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tt] h2=[h(t,Kr2,Ti2,Td2) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tt] h3=[h(t,Kr3,Ti3,Td3) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tt] I1=round(quad(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: h(t,Kr1,Ti1,Td1), <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) I11=round(quad(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: h(t,Kr1,Ti1,Td1)**<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) I2=round(quad(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: h(t,Kr2,Ti2,Td2), <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) I21=round(quad(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: h(t,Kr2,Ti2,Td2)**<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) I3=round(quad(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: h(t,Kr3,Ti3,Td3), <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) I31=round(quad(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: h(t,Kr3,Ti3,Td3)**<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) print(<span class="hljs-string"><span class="hljs-string">"    I1 =%s ( ‚Ññ1)"</span></span>%I1) print(<span class="hljs-string"><span class="hljs-string">"    I2 =%s ( ‚Ññ1"</span></span>%I11) print(<span class="hljs-string"><span class="hljs-string">"    I1 =%s ( ‚Ññ2 )"</span></span>%I2) print(<span class="hljs-string"><span class="hljs-string">"    I2 =%s ( ‚Ññ2)"</span></span>%I21) print(<span class="hljs-string"><span class="hljs-string">"    I1 =%s ( ‚Ññ3 )"</span></span>%I3) print(<span class="hljs-string"><span class="hljs-string">"    I2 =%s ( ‚Ññ3)"</span></span>%I31) Rez=[I1+I11,I2+I21,I3+I31] In=Rez.index(min(Rez)) print(<span class="hljs-string"><span class="hljs-string">"     :\n %s"</span></span>%d[In]) plt.figure() plt.title(<span class="hljs-string"><span class="hljs-string">"    \n   "</span></span>) plt.plot(tt,h1,<span class="hljs-string"><span class="hljs-string">'r'</span></span>,linewidth=<span class="hljs-number"><span class="hljs-number">1</span></span>,label=<span class="hljs-string"><span class="hljs-string">'   ‚Ññ1  '</span></span>) plt.plot(tt,h2,<span class="hljs-string"><span class="hljs-string">'b'</span></span>,linewidth=<span class="hljs-number"><span class="hljs-number">1</span></span>,label=<span class="hljs-string"><span class="hljs-string">'   ‚Ññ2  '</span></span>) plt.plot(tt,h3,<span class="hljs-string"><span class="hljs-string">'g'</span></span>,linewidth=<span class="hljs-number"><span class="hljs-number">1</span></span>,label=<span class="hljs-string"><span class="hljs-string">'   ‚Ññ3  '</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) plt.show()</code> </pre><br></div></div><br>  The result of the program - text output: <br><br>  Settings No. 1 of the PID controller (wa = 0.066, m = 0.366, alfa = 0.7): Kr = 4.77;  Ti = 21,682;  Ki = 0.22;  Td = 15.177 <br>  Settings # 2 of the PID controller (wa = 0.056, m = 0.366, alfa = 0.2): Kr = 2.747;  Ti = 50.87;  Ki = 0.054;  Td = 10.174 <br>  Settings No. 3 of the PID controller (wa = 0.085, m = 0.366, alfa = 0.7): Kr = 3.747;  Ti = 26.387;  Ki = 0.142;  Td = 18.471 <br>  Linear integral quality criterion I1 = 194.65 (settings ‚Ññ1) <br>  Quadratic integral quality criterion I2 = 222.428 (settings ‚Ññ1 <br>  Linear integral quality criterion I1 = 179.647 (setting No. 2) <br>  The quadratic integral quality criterion I2 = 183.35 (settings ‚Ññ2) <br>  Linear integral quality criterion I1 = 191.911 (setting number 3) <br>  Quadratic integral quality criterion I2 = 204.766 (setting No. 3) <br>  Optimal parameters by integral criteria: <br>  Settings # 2 of the PID controller (wa = 0.056, m = 0.366, alfa = 0.2): Kr = 2.747;  Ti = 50.87;  Ki = 0.054;  Td = 10.174 <br><br>  The result of the program, the graphic output: <br><br><img src="https://habrastorage.org/webt/pv/yf/cd/pvyfcdpbnzuqh2skl0q54ltxole.png"><br><br><img src="https://habrastorage.org/webt/dv/sw/ul/dvswul4aayvs5gmvqn7luoa-rjm.png"><br><br><img src="https://habrastorage.org/webt/ut/bx/pt/utbxptupplhim3dmp5ydot5i8ju.png"><br><br><img src="https://habrastorage.org/webt/du/ze/y7/duzey7kt2h5hjalke16orc-gkxu.png"><br><br><img src="https://habrastorage.org/webt/lz/uz/t0/lzuzt0izcdk8xkvij04siovgdog.png"><br><br><img src="https://habrastorage.org/webt/8t/ds/kc/8tdskcgglrxmtpltpdz0fzqsbo0.png"><br><br><img src="https://habrastorage.org/webt/b1/1i/sh/b11ishh21zl5l0gsjzmw6ai8q88.png"><br><br><div class="spoiler">  <b class="spoiler_title">Full text of the program</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf8 -*- import numpy as np from scipy.integrate import quad from scipy.optimize import * import matplotlib.pyplot as plt import matplotlib as mpl mpl.rcParams['font.family'] = 'fantasy' mpl.rcParams['font.fantasy'] = 'Comic Sans MS, Arial' T1=14;T2=18;T3=28;K=0.9;tau=6.4#  , ,  m=0.366;m1=0.221#   n= np.arange(0.001,0.15,0.0002)#    Kr-Ki n1=np.arange(0.00001,0.12,0.0001)#    Ki=f(w) n2=np.arange(0.0002,0.4,0.0001)#     def WO(m,w):#   j=(-1)**0.5 return K*np.exp(-tau*(-m+j)*w)/((T1*(-m+j)*w+1)*(T2*(-m+j)*w+1)*(T3*(-m+j)*w+1)) def WR(w,Kr,Ti,Td):#   j=(-1)**0.5 return Kr*(1+1/(j*w*Ti)+j*w*Td) def ReW(m,w):#    j=(-1)**0.5 return WO(m,w).real def ImW(m,w):#    j=(-1)**0.5 return WO(m,w).imag def A0(m,w):#  return -(ImW(m,w)*m/(w+w*m**2)+ReW(m,w)/(w+w*m**2)) def Ti(alfa,m,w):#  return (-ImW(m,w)-(ImW(m,w)**2-4*((ReW(m,w)*alfa*w-ImW(m,w)*alfa*w*m)*A0(m,w)))**0.5)/(2*(ReW(m,w)*alfa*w-ImW(m,w)*alfa*w*m)) def Ki(alfa,m,w):#  return 1/(w*Ti(alfa,m,w)**2*alfa*(m*ReW(m,w)+ImW(m,w))-Ti(alfa,m,w)*ReW(m,w)+(m*ReW(m,w)-ImW(m,w))/(w+w*m**2)) def Kr(alfa,m,w):#  if Ki(alfa,m,w)*Ti(alfa,m,w)&lt;0: z=0 else: z=Ki(alfa,m,w)*Ti(alfa,m,w) return z def Kd(alfa,m,w):#  return alfa*Kr(alfa,m,w)*Ti(alfa,m,w) alfa=0.2 Ki_1=[Ki(alfa,m1,w) for w in n] Kr_1=[Kr(alfa,m1,w) for w in n] Ki_2=[Ki(alfa,m,w) for w in n] Kr_2=[Kr(alfa,m,w) for w in n] Ki_3=[Ki(alfa,0,w) for w in n] Kr_3=[Kr(alfa,0,w) for w in n] plt.figure() plt.title("    \n  alfa=%s"%alfa) plt.axis([0.0, round(max(Kr_3),4), 0.0, round(max(Ki_3),4)]) plt.plot(Kr_1, Ki_1, label='   m=%s'%m1) plt.plot(Kr_2, Ki_2, label='   m=%s'%m) plt.plot(Kr_3, Ki_3, label='   m=0') plt.xlabel(" - Ki") plt.ylabel(" - Kr") plt.legend(loc='best') plt.grid(True) alfa=0.7 Ki_1=[Ki(alfa,0.221,w) for w in n] Kr_1=[Kr(alfa,0.221,w) for w in n] Ki_2=[Ki(alfa,0.366,w) for w in n] Kr_2=[Kr(alfa,0.366,w) for w in n] Ki_3=[Ki(alfa,0,w) for w in n] Kr_3=[Kr(alfa,0,w) for w in n] plt.figure() plt.axis([0.0, round(max(Kr_3),3), 0.0, round(max(Ki_3),3)]) plt.title("    \n  alfa=%s"%alfa) plt.plot(Kr_1, Ki_1, label='   m=%s'%m1) plt.plot(Kr_2, Ki_2, label='   m=%s'%m) plt.plot(Kr_3, Ki_3, label='   m=0') plt.xlabel(" - Ki") plt.ylabel(" - Kr") plt.legend(loc='best') plt.grid(True) alfa=1.2 Ki_1=[Ki(alfa,0.221,w) for w in n] Kr_1=[Kr(alfa,0.221,w) for w in n] Ki_2=[Ki(alfa,0.366,w) for w in n] Kr_2=[Kr(alfa,0.366,w) for w in n] Ki_3=[Ki(alfa,0,w) for w in n] Kr_3=[Kr(alfa,0,w) for w in n] plt.figure() plt.title("    \n  alfa=%s"%alfa) plt.axis([0.0, round(max(Kr_3),3), 0.0, round(max(Ki_3),3)]) plt.plot(Kr_1, Ki_1, label='   m=%s'%m1) plt.plot(Kr_2, Ki_2, label='   m=%s'%m) plt.plot(Kr_3, Ki_3, label='   m=0') plt.xlabel(" - Ki") plt.ylabel(" - Kr") plt.legend(loc='best') plt.grid(True) plt.figure() plt.title("    \n    m=%s"%m) alfa=0.2 Ki_2=[Ki(alfa,m,w) for w in n] Kr_2=[Kr(alfa,m,w) for w in n] plt.plot(Kr_2, Ki_2,label='   allfa=Td/Ti =%s'%alfa) alfa=0.4 Ki_2=[Ki(alfa,m,w) for w in n] Kr_2=[Kr(alfa,m,w) for w in n] plt.plot(Kr_2, Ki_2,label='   allfa=Td/Ti =%s'%alfa) alfa=0.7 Ki_2=[Ki(alfa,m,w) for w in n] Kr_2=[Kr(alfa,m,w) for w in n] plt.plot(Kr_2, Ki_2,label='   allfa=Td/Ti =%s'%alfa) alfa=1.2 Ki_2=[Ki(alfa,m,w) for w in n] Kr_2=[Kr(alfa,m,w) for w in n] plt.plot(Kr_2, Ki_2,label='   allfa=Td/Ti =%s'%alfa) plt.axis([0.0, round(max(Kr_2),3), 0.0, round(max(Ki_2),3)]) plt.legend(loc='best') plt.grid(True) plt.figure() plt.title(" Ki=f(w)") Ki_1=[Ki(0.2,m,w) for w in n1] Ki_2=[Ki(0.7,m,w) for w in n1] Ky=max([round(max(Ki_1),4),round(max(Ki_2),4)]) plt.axis([0.0,round(max(n1),4),0.0, Ky]) plt.plot(n1, Ki_1,label='allfa=Td/Ti =0.2,   m=0.366') plt.plot(n1, Ki_2,label='allfa=Td/Ti =0.7,   m=0.366') plt.legend(loc='best') plt.grid(True) maxKi=max( [Ki(0.7,m,w) for w in n1]) wa=round([w for w in n1 if Ki(0.7,m,w)==maxKi][0],3) Ki1=round(Ki(0.7,m,wa),3) Kr1=round(Kr(0.7,m,wa),3) Ti1=round(Kr1/Ki1,3) Td1=round(0.7*Ti1,3) d={} d[0]= " ‚Ññ1   (wa =%s,m=0.366,alfa=0.7): Kr=%s; Ti=%s; Ki=%s; Td=%s "%(wa,Kr1,Ti1,Ki1,Td1) print(d[0]) maxKi=max( [Ki(0.2,m,w) for w in n1]) wa=round([w for w in n1 if Ki(0.2,m,w)==maxKi][0],3) Ki2=round(Ki(0.2,m,wa),3) Kr2=round(Kr(0.2,m,wa),3) Ti2=round(Kr2/Ki2,3) Td2=round(0.2*Ti2,3) d[1]= " ‚Ññ2  (wa =%s,m=0.366,alfa=0.2): Kr=%s; Ti=%s; Ki=%s; Td=%s "%(wa,Kr2,Ti2,Ki2,Td2) print(d[1]) wa=fsolve(lambda w:Ki(0.7,m,w)-0.14,0.07)[0] wa=round(wa,3) Ki3=round(Ki(0.7,m,wa),3) Kr3=round(Kr(0.7,m,wa),3) Ti3=round(Kr3/Ki3,3) Td3=round(0.7*Ti3,3) d[2]= " ‚Ññ3  (wa =%s,m=0.366,alfa=0.7): Kr=%s; Ti=%s; Ki=%s; Td=%s "%(wa,Kr3,Ti3,Ki3,Td3) print(d[2]) def Wsys(w,Kr,Ti,Td): j=(-1)**0.5 return (WO(0,w)*WR(w,Kr,Ti,Td)/(1+WO(0,w)*WR(w,Kr,Ti,Td))) Wsys_1=[abs(Wsys(w,Kr1,Ti1,Td1)) for w in n2] Wsys_2=[abs(Wsys(w,Kr2,Ti2,Td2)) for w in n2] Wsys_3=[abs(Wsys(w,Kr3,Ti3,Td3)) for w in n2] plt.figure() plt.title("-    \n   ") plt.plot(n2, Wsys_1,label='   ‚Ññ1  ') plt.plot(n2, Wsys_2,label='   ‚Ññ2  ') plt.plot(n2, Wsys_3,label='   ‚Ññ3  ') plt.legend(loc='best') plt.grid(True) def ReWsys(w,t,Kr,Ti,Td): return(2/np.pi)* (WO(0,w)*WR(w,Kr,Ti,Td)/(1+WO(0,w)*WR(w,Kr,Ti,Td))).real*(np.sin(w*t)/w) def h(t,Kr,Ti,Td): return quad(lambda w: ReWsys(w,t,Kr,Ti,Td),0,0.6)[0] tt=np.arange(0,300,3) h1=[h(t,Kr1,Ti1,Td1) for t in tt] h2=[h(t,Kr2,Ti2,Td2) for t in tt] h3=[h(t,Kr3,Ti3,Td3) for t in tt] I1=round(quad(lambda t: h(t,Kr1,Ti1,Td1), 0,200)[0],3) I11=round(quad(lambda t: h(t,Kr1,Ti1,Td1)**2,0, 200)[0],3) I2=round(quad(lambda t: h(t,Kr2,Ti2,Td2), 0,200)[0],3) I21=round(quad(lambda t: h(t,Kr2,Ti2,Td2)**2,0, 200)[0],3) I3=round(quad(lambda t: h(t,Kr3,Ti3,Td3), 0,200)[0],3) I31=round(quad(lambda t: h(t,Kr3,Ti3,Td3)**2,0, 200)[0],3) print("    I1 =%s ( ‚Ññ1)"%I1) print("    I2 =%s ( ‚Ññ1"%I11) print("    I1 =%s ( ‚Ññ2 )"%I2) print("    I2 =%s ( ‚Ññ2)"%I21) print("    I1 =%s ( ‚Ññ3 )"%I3) print("    I2 =%s ( ‚Ññ3)"%I31) Rez=[I1+I11,I2+I21,I3+I31] In=Rez.index(min(Rez)) print("     :\n %s"%d[In]) plt.figure() plt.title("    \n   ") plt.plot(tt,h1,'r',linewidth=1,label='   ‚Ññ1  ') plt.plot(tt,h2,'b',linewidth=1,label='   ‚Ññ2  ') plt.plot(tt,h3,'g',linewidth=1,label='   ‚Ññ3  ') plt.legend(loc='best') plt.grid(True) plt.show()</span></span></code> </pre> <br></div></div><br><h3>  findings </h3><br>  Software has been developed to fully implement the search method for determining the optimal settings for PID controllers using an integral criterion combining the advantages of its linear and quadratic representation. </div><p>Source: <a href="https://habr.com/ru/post/349686/">https://habr.com/ru/post/349686/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349672/index.html">Overview of the best European and not only QA conferences of this year</a></li>
<li><a href="../349674/index.html">Ramda Thinking: Declarative Programming</a></li>
<li><a href="../349676/index.html">Function and Functional Object</a></li>
<li><a href="../349682/index.html">How to save the charge of a smartphone?</a></li>
<li><a href="../349684/index.html">CoLaboratory: Conference ProContent</a></li>
<li><a href="../349688/index.html">‚ÄúMuch can be solved by helping a startup and explaining what mistakes we have already made‚Äù - Interview with Leonid Igolnik</a></li>
<li><a href="../349690/index.html">Rise of one small wayward neural network, or how to make a codewar-game in 3 days</a></li>
<li><a href="../349692/index.html">QA at CodeFest: the future, iOS farms and backdoors</a></li>
<li><a href="../349694/index.html">Fintech Digest: blockchain legalization, reduction of branches in favor of IT</a></li>
<li><a href="../349698/index.html">Comparative analysis of physical and functional objects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>