<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web Font Performance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The use of web fonts is becoming increasingly popular: according to HTTP Archive , over the past year the number of sites using additional fonts has d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web Font Performance</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/db1/df3/2f1/db1df32f17b90319eb95e42e05220dcc.png"><br><br>  The use of web fonts is becoming increasingly popular: according to <a href="httparchive.org/trends.php%3Fs%3DTop1000%26amp%3Bminlabel%3DSep%2B1%2B2011%26amp%3Bmaxlabel%3DSep%2B1%2B2012">HTTP Archive</a> , over the past year the number of sites using additional fonts has doubled - from 6 to 12%. <br><br>  The weak point of web fonts is performance, but the situation is gradually changing for the better: more advanced compression methods appear, browser support improves, unicode, separate font sets, etc. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Optimization </h2><br>  At first glance, using web fonts is very simple - just download the necessary set and connect it to the page.  But in fact, everything is a little more complicated.  There are four different formats: <br><br><ul><li>  <a href="http://ru.wikipedia.org/wiki/Web_Open_Font_Format">WOFF</a> (Web Open Font Format): Open OpenType or TrueType compressed font format that supports additional metadata. </li><li>  <a href="http://ru.wikipedia.org/wiki/TrueType">TTF</a> : All the familiar, good old TrueType. </li><li>  <a href="http://ru.wikipedia.org/wiki/Embedded_OpenType">EOT</a> (Embedded OpenType): a compact format for OpenType fonts. </li><li>  <a href="http://ru.wikipedia.org/wiki/SVG">SVG</a> (Scalable Vector Graphics): vector graphics format (I already <a href="http://koulikov.com/2012/11/text-svg/">wrote</a> about that). </li></ul><br><br>  But none of them provides cross-browser compatibility (you can check support on caniuse.com: <a href="http://caniuse.com/woff">woff</a> , <a href="http://caniuse.com/ttf">ttf</a> , <a href="http://caniuse.com/eot">eot</a> , <a href="http://caniuse.com/svg">svg</a> ), therefore it is advisable to use several formats at the same time.  And here we are faced with a performance problem: the font file itself is quite massive, for example, the Arial font, which supports all languages, <strong>weighs 22 megabytes!</strong>  Of course, on ordinary pages, it makes no sense to connect all the characters of the set at once, so you need a tool that allows you to use only part of the font (for example, only Cyrillic). <br><br>  For example, the <a href="http://www.google.com/webfonts/specimen/Open%2BSans">Open Sans font</a> is one of the most popular Google Web Fonts, including all languages, weighs 217 kilobytes, but the size can be reduced by using only one set - latin.  then the size will be reduced to 36 kilobytes: <br><br><img title="Google fonts" src="http://koulikov.com/wp-content/uploads/2012/11/0011.png"><br><br>  Here's how to connect only part of the font (latin): <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://fonts.googleapis.com/css?family=Open+Sans&amp;subset=latin"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><br>  File size can be reduced by removing additional <a href="http://en.wikipedia.org/wiki/Font_hinting">Font-hinting</a> metadata for browsers where this technology is not supported.  Font-hinting is part of the font rasterization process, used to improve the appearance of text on a page. <br><br>  <a href="http://googlecode.blogspot.ru/2012/01/web-fonts-now-more-compressed.html">Improved</a> compression algorithms can reduce the file size by 15%, and the expected <a href="http://lists.w3.org/Archives/Public/www-font/2012JanMar/0002.html">WOFF 2.0</a> format in the near future allows compressing 30% better. <br><br>  To connect only part of the characters ("H", "e", "l" and "o") you can use the following code: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://fonts.googleapis.com/css?family=Inconsolata&amp;text=Hello"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br><h2>  Using </h2><br>  All fonts from Google Web Fonts are <a href="http://www.google.com/webfonts">open</a> , which allows cross-site caching to be successfully used.  For example, the above-mentioned Open Sans is used on more than a million sites, which means that to increase productivity, you can cache the font in the user's browser when visiting previous sites with this font. <br><br>  Here's how it works: <br><br><img title="Font caching" src="http://koulikov.com/wp-content/uploads/2012/11/0021.png"><br><br>  The CSS styles used in the Google Web Fonts service are dynamic: they automatically determine the appropriate format for a particular user and his browser.  CSS styles are cached for 24 hours.  Inside the style is a link to the font file itself.  The font cache itself is stored for a year!  Given the popularity of web fonts, it is obvious that the cache already has a copy of the same Open Sans. <br><br>  There is also a useful tool - <a href="https://developers.google.com/webfonts/docs/webfont_loader">Javascript Font Loader</a> from Google, which allows you to display the process of downloading web fonts.  It is quite simple to use: <br><br><pre> <code class="html hljs xml">h1 { visibility: hidden; } .wf-active h1 { visibility: visible; }</code> </pre><br><br>  And javasript handles actions: <br><br><pre> <code class="javascript hljs">WebFontConfig = { <span class="hljs-attr"><span class="hljs-attr">google</span></span>: { <span class="hljs-attr"><span class="hljs-attr">families</span></span>: [ <span class="hljs-string"><span class="hljs-string">'Tangerine'</span></span>, <span class="hljs-string"><span class="hljs-string">'Cantarell'</span></span> ] <span class="hljs-comment"><span class="hljs-comment">// Google example }, typekit: { id: 'myKitId' // Typekit example }, loading: function() { // JavaScript to execute when fonts start loading }, active: function() { // JavaScript to execute when fonts become active }, inactive: function() { // JavaScript to execute when fonts become inactive (time out) } };</span></span></code> </pre><br><br>  <a href="https://developers.google.com/webfonts/docs/webfont_loader">Loader documentation</a> <br><br>  In conclusion, a small summary table of the download speed of the same font (Open Sans) when using different services and browsers (numbers in ms): <br><br><img src="https://habrastorage.org/storage2/182/ad1/e34/182ad1e34191d08e29024490bd94372a.png"><br><br><h2>  Conclusion </h2><br>  Already today, you can be confident in the benefits of using web fonts, but it is obvious that their popularity will only increase, the size will decrease, and browsers will be better supported. <br><br>  Used materials: <br><ul><li>  <a href="http://www.artzstudio.com/2012/02/web-font-performance-weighing-fontface-options-and-alternatives/">Web Font Performance: Weighing @ font-face Options and Alternatives</a> </li><li>  <a href="http://www.igvita.com/2012/09/12/web-fonts-performance-making-pretty-fast/">Web Fonts Performance: Making Pretty, Fast</a> </li><li>  <a href="https://developers.google.com/webfonts/faq%3Fhl%3Dru">Google Web Fonts FAQ</a> </li><li>  <a href="http://blog.futtta.be/2011/01/07/website-performance-impact-of-web-fonts/">Website performance: impact of web fonts</a> </li><li>  <a href="http://googlecode.blogspot.ru/2012/01/web-fonts-now-more-compressed.html">Web Fonts, now more compressed</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/159907/">https://habr.com/ru/post/159907/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159891/index.html">Programming games for Android</a></li>
<li><a href="../159895/index.html">Benchmark Windows Azure showed high performance for large-scale computing</a></li>
<li><a href="../159897/index.html">Skitch and Evernote: an open letter to Keith Lang, co-founder of Skitch</a></li>
<li><a href="../159903/index.html">Disney Research Robot</a></li>
<li><a href="../159905/index.html">School girl in Texas suspended from refusal to wear RFID</a></li>
<li><a href="../159909/index.html">Implementing a Restricted Boltzmann machine on c #</a></li>
<li><a href="../159911/index.html">New version of NetWrix Change Reporter Suite provides reliable control over IT infrastructure</a></li>
<li><a href="../159915/index.html">Ostrovok.ru mobile application for booking hotels</a></li>
<li><a href="../159923/index.html">XenDesktop Failover Cluster</a></li>
<li><a href="../159925/index.html">Energy saving. When is it profitable?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>