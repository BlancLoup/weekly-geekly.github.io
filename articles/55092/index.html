<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we stormed the sapka contest, part one</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few days ago, the week of the Sapka contest ended, for those who missed the news about Sapka, this is a competition of programmers created as an ana...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we stormed the sapka contest, part one</h1><div class="post__text post__text-html js-mediator-article">  A few days ago, the week of the Sapka contest ended, for those who missed the news about Sapka, this is a competition of programmers created as an analogue of the ICFPC contest, but for the Russian and Ukrainian segments of the network. <br><br>  It has always been very interesting for me to read about the ICFPC decision process, so I cannot miss the chance to write a similar report from the first person, so meet the first part of the story about the storming of high heights from the small but proud minime team that took the 7th place in the contest :) <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1st day</b> <br>  <i>In which the minime team gets acquainted with the contest rules and takes the first steps</i> <br><br>  So, at 19-00 GMT + 3 information appears on the site <a href="http://stanfy.com.ua/contest/">stanfy.com.ua/contest</a> about conducting a contest.  To start participating, you need to download a server written on modified Java code and having received a set of keys in advance, try to implement the sapka device logic in it.  What is sapka, how and where to get the keys and why they are needed is completely incomprehensible. <br><br>  While the server is slowly being downloaded, I open the IRC client and connect to the sapka channel, which is already actively discussing the server internals.  I unpack the server, start it and follow the instructions, connect with a telnet to port 20015 in order to see the server's invitation and request to specify the name of the team in the format <b>team teamname;</b>  . <br>  No sooner said than done.  The result is zero.  A few more attempts are similar.  I switch to IRC there, this problem is already being actively discussed, it turns out that you need to add an additional semicolon at the beginning of each command.  I specify - the system reports about successful registration and issuing a fare message prompts you to start configuring the device memory with the command <b>memconfig;</b>  . <br>  And here is the first task, memconfig to start asking for a password.  From where to take it is completely incomprehensible, sapka, god, sex, love, password, etc. go into battle.  The result is zero - it becomes sad because of such a fast plugging.  In fruitless attempts, it takes almost an hour when suddenly it becomes clear that the password must also be started with a " <b>;</b> ".  All right, we repeat all the passwords in a new way and ... the " <b>password</b> " comes up.  Well, quite logical password.  Although lost time is very sorry.  The ‚Äúfreshly broken‚Äù system offers to try your hand in two tasks: <b>engine</b> and <b>lexinterpr</b> <br><br>  Here comes the sad news.  The participants versed in java changed the original bootloader which turned the original (that is, non-standard) Java code into a normal one and received the entire set of tokens (that is, the keys), actually solving all the tasks in the first hour of the competition.  This, of course, was very upset because I wanted to take part in the contest of programmers, and not in the contest of programmers in Java.  There was a desire to leave the competition, but ... something stopped, the benefit of the task seemed interesting.  But from the pleasant - it became clear the total number of keys. <br><br>  Update server hover to version 1.1 and proceed to <b>lexinterpr</b> .  As it becomes clear, this utility is able to decrypt information sent by the server if run in sapka-game mode, and the amount of decrypted data also depends on the number of tokens already activated.  In addition, as a current data to decrypt a huge string of bilberd is loaded.  Fortunately, the last part of the line carries clear information.  It becomes clear that from this line it is necessary to cut out consistently the clear part marked with characters at the end!  and * and perform the specified conversion.  For the first step, take every third character. <br><br>  A 10 line python program is quickly written to perform an operation, the output is another task, but now the rules for taking meaningful characters have changed.  Ok, repeating the iteration 6 or 7 times I get my first pair of tokens at the output and a message that the rules can be interpreted differently.  It is worth noting that in reality this was not the case, but it gave rise to the legendary missing second pair of tokens on which many participants spent a decent amount of time (and we including :)). <br><br>  The interpreter solution allows access to the whole set of tasks: <b>dnalab</b> , <b>sattelite</b> , <b>fifth</b> , <b>aar</b> , <b>clock</b> <br><br>  But I postpone these puzzles until the next day and proceeding to the solution of the <b>engine</b> , which, after launch, reports its version of <b>Caesar-1-3ci.5p5-h.23e.r '' - '~'</b> about itself and produces the next encrypted text.  From the version you see the line Caesar cipher, i.e.  Caesar's cipher and memory suggested that this is encryption shift, which was confirmed by Wikipedia.  Ok, another 10 minutes and another python script runs through the text with all possible shifts.  Here it becomes clear that everything is not so simple - only capital letters were deciphered, and there are only 1 line in the text.  It takes another hour to try to find an error in the program or the logic of the work - the answer is not, and even a hint in the form of a letter Y encoded somehow does not help.  I walk through the remaining text with frequency analysis and, armed with my own translation dictionary, I begin to collect the text character-by-character.  The work is not going fast, instead of frequently occurring characters, trying to substitute "a" and "e" and an attempt to guess some frequently occurring word is tried.  Then the substitution of characters from it and run the script in the text in the hope that the word is recognized correctly and that now you can solve more words.  After almost two hours, the text surrenders and exposes a couple more tokens, as well as the rules of the hopping game. <br><br>  It turns out that the final task of each team is to write an AI for a bomberman clone.  The text contains the resulting points for the bombings of objects by bombs and commands for movement / installation of bombs. <br><br>  On this first day ends, on the clock 4 nights. <br><br>  <b>Day 2</b> <br>  <i>In which the minime team loses the evil virus in checkers and breaks its brains with brainfack and watches</i> <br><br>  So, I <b>am</b> breaking the passage to <b>sattelite</b> - the satellite captured the evil virus and demands to play checkers with it.  Well, since it requires - we will play, the only complication, the playing field cannot be visualized after the first move and we have to mark the move in the open Excel.  On the other hand, it becomes clear (from the boorish cries of the virus) that there is a trick in the game.  After some time, the companion on the <a href="http://habrahabr.ru/users/enchantner/" class="user_link">enchantner</a> team reports that this is the case, winning the virus does not lead to anything and apparently should play in the giveaway.  I understand that my method with excel is not as effective as flash checkers and continue to solve <b>clock</b> . <br><br>  As it becomes clear later, <b>clock is</b> one of the tasks that made many participants swear long and viciously.  Simple in essence, it made many people spend more than one hour on their decision. <br><br>  So, the task - it is necessary to solve 2 puzzles, base clock and eXtended clOck Routines.  From the second, it becomes clear that the task will contain XOR in one way or another.  The source data is a string of the form <i>\ 0 \ 39 \ 34 \ 20 ...</i> (obviously encoding ASCII character codes) and the phrase <i>"I came, I saw, I conquered."</i> . <br>  The first attempt to proxy the original line with a Caesar statement does not lead to success.  This is followed by an attempt to proxy with all the symbols of the alphabet.  Then the phrase "Veni, vidi, vici".  Then the number 42. All without result.  In IRC, people who solve the problem are slowly making fun of those who are in the process, and talk about a completely simple way. <br><br>  By late evening it becomes clear that the task is simple, but it is impossible for us to understand how to solve it.  Then a brilliant idea comes up, take the strings issued to teams with different names (and the tokens depend on the team name), find the different parts and assuming that all the tokens start in CFG and have a fixed length to determine the first 3 characters for XOR. <br><br>  Five minutes later, I begin to fight in hysterics.  The first three letters of the code word " <b>Cae</b> ".  Xoriu ill-starred line Caesar and get another token.  The basic part is solved, but the decoded line contains another line for analysis.  Fortunately, everything at once becomes extremely simple - it is equal to the token in length, and the first three characters are 0. I will copy the string with the just received token and get a second token (three 0 at the beginning suggests that this is a CFG, because CFG xor 000 = CFG).  The clock is solved, you can go to the IRC and watch the torment of the undecided. <br><br>  Shortly before the end of the torment with the clock, <a href="http://habrahabr.ru/users/enchantner/" class="user_link">enchantner</a> brings the second good news - the evil virus has surrendered, and <b>aar has</b> also been resolved.  To do this, it was necessary to swap operators on the advice of the virus from the satellite, run the resulting program in the breinfack interpreter, get another program, run it, and finally find out the token.  This problem, in fact, could be easily solved without a hint of the virus, and it seemed to many too much.  The initial code on a brainfuck person who familiarized with the operators of the language would immediately give a hint in the form of going beyond the limit of permissible memory in the very first operators. <br><br>  On the clock again after midnight and we go to sleep. </div><p>Source: <a href="https://habr.com/ru/post/55092/">https://habr.com/ru/post/55092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../55079/index.html">Moskvich received a suspended sentence for installing pirated software</a></li>
<li><a href="../55082/index.html">A new contest of near-science experiments and experiments!</a></li>
<li><a href="../55084/index.html">National software platform as it is</a></li>
<li><a href="../55086/index.html">Idea for a startup: open-source music</a></li>
<li><a href="../55088/index.html">Archive of Soviet television on the Internet</a></li>
<li><a href="../55093/index.html">Updated YouTube for WM and S60</a></li>
<li><a href="../55096/index.html">Advertising beautiful numbers Asek on icq.com</a></li>
<li><a href="../55097/index.html">Grow tower</a></li>
<li><a href="../55101/index.html">Absolutely gone</a></li>
<li><a href="../55105/index.html">A bit of risk management theory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>