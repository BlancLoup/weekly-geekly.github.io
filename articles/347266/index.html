<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Making games in Python 3 and Pygame: Part 4</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the fourth of the five parts of the tutorial on creating games using Python 3 and Pygame. In the third part, we plunged into the heart of Brea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Making games in Python 3 and Pygame: Part 4</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e38/895/a15/e38895a159ff5bbd8da2f1040b61d219.gif" alt="image"></div><br>  This is the fourth of the five parts of the tutorial on creating games using Python 3 and Pygame.  In the third part, we plunged into the heart of Breakout and learned how to handle events, met the main Breakout class and saw how to move different game objects. <br><br>  (The remaining parts of the tutorial: <a href="https://habrahabr.ru/post/347138/">first</a> , <a href="https://habrahabr.ru/post/347170/">second</a> , <a href="https://habrahabr.ru/post/347256/">third</a> , <a href="https://habrahabr.ru/post/347286/">fifth</a> .) <br><br>  In this section, we will learn how to recognize collisions and what happens when the ball hits different objects: racket, bricks, walls, ceiling and floor.  Finally, we look at the important topic of the user interface and, in particular, how to create a menu of your own buttons. <br><a name="habracut"></a><br><h2>  Collision detection </h2><br>  In games, objects collide with each other, and Breakout is no exception.  Basically with objects the ball collides.  The <code>handle_ball_collisions()</code> method has a built-in function called <code>intersect()</code> , which is used to check whether the ball hit the object and where it collided with the object.  It returns 'left', 'right', 'top', 'bottom' or None if the ball has not collided with an object. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle_ball_collisions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intersect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(obj, ball)</span></span></span><span class="hljs-function">:</span></span> edges = dict( left=Rect(obj.left, obj.top, <span class="hljs-number"><span class="hljs-number">1</span></span>, obj.height), right=Rect(obj.right, obj.top, <span class="hljs-number"><span class="hljs-number">1</span></span>, obj.height), top=Rect(obj.left, obj.top, obj.width, <span class="hljs-number"><span class="hljs-number">1</span></span>), bottom=Rect(obj.left, obj.bottom, obj.width, <span class="hljs-number"><span class="hljs-number">1</span></span>)) collisions = set(edge <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> edge, rect <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> edges.items() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ball.bounds.colliderect(rect)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> collisions: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(collisions) == <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> list(collisions)[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">'top'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> collisions: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ball.centery &gt;= obj.top: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'top'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ball.centerx &lt; obj.left: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'left'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'right'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">'bottom'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> collisions: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ball.centery &gt;= obj.bottom: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'bottom'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ball.centerx &lt; obj.left: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'left'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'right'</span></span></code> </pre> <br><h3>  Ball crash with racket </h3><br>  When the ball hits the racket, it bounces off.  If it hits the top of the racket, it is reflected back up, but retains the same component of the horizontal velocity. <br><br>  But if he hits the side of the racket, it bounces in the opposite direction (left or right) and continues to move down until it hits the floor.  The code uses the <code>intersect()</code> function. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    s = self.ball.speed edge = intersect(self.paddle, self.ball) if edge is not None: self.sound_effects['paddle_hit'].play() if edge == 'top': speed_x = s[0] speed_y = -s[1] if self.paddle.moving_left: speed_x -= 1 elif self.paddle.moving_left: speed_x += 1 self.ball.speed = speed_x, speed_y elif edge in ('left', 'right'): self.ball.speed = (-s[0], s[1])</span></span></code> </pre> <br><h3>  Collision with the floor </h3><br>  When a racket misses the ball on the way down (or the ball hits the side of the racket), the ball continues to fall and then hits the floor.  At this point, the player loses his life and the ball is created anew so that the game can continue.  The game ends when the player ends up living. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    if self.ball.top &gt; c.screen_height: self.lives -= 1 if self.lives == 0: self.game_over = True else: self.create_ball()</span></span></code> </pre> <br><h3>  Collision with ceiling and walls </h3><br>  When the ball hits a wall or ceiling, it just bounces off of them. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    if self.ball.top &lt; 0: self.ball.speed = (s[0], -s[1]) #    if self.ball.left &lt; 0 or self.ball.right &gt; c.screen_width: self.ball.speed = (-s[0], s[1])</span></span></code> </pre> <br><h3>  Facing bricks </h3><br>  When the ball hits a brick, this is the main event of the Breakout game - the brick disappears, the player gets a point, the ball is reflected back and several more events occur (sound effect, and sometimes a special effect), which I will consider later. <br><br>  To determine if the ball hit a brick, the code will check if any of the bricks with the ball intersect: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    for brick in self.bricks: edge = intersect(brick, self.ball) if not edge: continue self.bricks.remove(brick) self.objects.remove(brick) self.score += self.points_per_brick if edge in ('top', 'bottom'): self.ball.speed = (s[0], -s[1]) else: self.ball.speed = (-s[0], s[1])</span></span></code> </pre> <br><h2>  Game menu programming </h2><br>  Most games have some kind of UI.  Breakout has a simple menu with two buttons, 'PLAY' and 'QUIT'.  The menu is displayed at the beginning of the game and disappears when the player clicks on 'PLAY'.  Let's see how buttons and menus are implemented, as well as how they integrate into the game. <br><br><h3>  Creating buttons </h3><br>  Pygame does not have a built-in UI library.  There are third-party extensions, but for the menu I decided to create my own buttons.  A button is a game object that has three states: normal, highlighted and pressed.  The normal state is when the mouse is not above the button, and the highlighted state is when the mouse is above the button, but the left mouse button is not yet pressed.  The pressed state is when the mouse is over the button and the player has pressed the left mouse button. <br><br>  The button is implemented as a rectangle with a background color and text displayed on top of it.  The button also receives the on_click function (by default, which is an empty lambda function), which is called when the button is pressed. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pygame <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> game_object <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GameObject <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> text_object <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TextObject <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> config <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Button</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(GameObject)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, x, y, w, h, text, on_click=lambda x: None, padding=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> super().__init__(x, y, w, h) self.state = <span class="hljs-string"><span class="hljs-string">'normal'</span></span> self.on_click = on_click self.text = TextObject(x + padding, y + padding, <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: text, c.button_text_color, c.font_name, c.font_size) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, surface)</span></span></span><span class="hljs-function">:</span></span> pygame.draw.rect(surface, self.back_color, self.bounds) self.text.draw(surface)</code> </pre> <br>  The button processes its own mouse events and changes its internal state based on these events.  When the button is pressed down and receives the <code>MOUSEBUTTONUP</code> event, this means that the player has pressed the button and the <code>on_click()</code> function is <code>on_click()</code> . <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle_mouse_event</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, type, pos)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type == pygame.MOUSEMOTION: self.handle_mouse_move(pos) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> type == pygame.MOUSEBUTTONDOWN: self.handle_mouse_down(pos) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> type == pygame.MOUSEBUTTONUP: self.handle_mouse_up(pos) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle_mouse_move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, pos)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.bounds.collidepoint(pos): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.state != <span class="hljs-string"><span class="hljs-string">'pressed'</span></span>: self.state = <span class="hljs-string"><span class="hljs-string">'hover'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: self.state = <span class="hljs-string"><span class="hljs-string">'normal'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle_mouse_down</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, pos)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.bounds.collidepoint(pos): self.state = <span class="hljs-string"><span class="hljs-string">'pressed'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle_mouse_up</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, pos)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.state == <span class="hljs-string"><span class="hljs-string">'pressed'</span></span>: self.on_click(self) self.state = <span class="hljs-string"><span class="hljs-string">'hover'</span></span></code> </pre> <br>  The <code>back_color</code> property used to draw the background rectangle always returns the color corresponding to the current state of the button, so that the player can see that the button is active: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@property def back_color(self): return dict(normal=c.button_normal_back_color, hover=c.button_hover_back_color, pressed=c.button_pressed_back_color)[self.state]</span></span></code> </pre> <br><h3>  Menu creation </h3><br>  The <code>create_menu()</code> function creates a menu with two buttons with the text 'PLAY' and 'QUIT'.  It has two built-in functions, <code>on_play()</code> and <code>on_quit()</code> , which it passes to the corresponding button.  Each button is added to the list of <code>objects</code> (for drawing), as well as in the <code>menu_buttons</code> field. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_menu</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i, (text, handler) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(((<span class="hljs-string"><span class="hljs-string">'PLAY'</span></span>, on_play), (<span class="hljs-string"><span class="hljs-string">'QUIT'</span></span>, on_quit))): b = Button(c.menu_offset_x, c.menu_offset_y + (c.menu_button_h + <span class="hljs-number"><span class="hljs-number">5</span></span>) * i, c.menu_button_w, c.menu_button_h, text, handler, padding=<span class="hljs-number"><span class="hljs-number">5</span></span>) self.objects.append(b) self.menu_buttons.append(b) self.mouse_handlers.append(b.handle_mouse_event)</code> </pre> <br>  When the PLAY button is pressed, the <code>on_play()</code> function is <code>on_play()</code> , which removes the buttons from the <code>objects</code> list so that they are no longer drawn.  In addition, the values ‚Äã‚Äãof the Boolean fields that trigger the start of the game ‚Äî <code>is_game_running</code> and <code>start_level</code> ‚Äî become equal to True. <br><br>  When you press the QUIT button, <code>is_game_running</code> takes the value <code>False</code> (actually putting the game on pause), and <code>game_over</code> to True, which triggers the completion sequence of the game. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_play</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(button)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.menu_buttons: self.objects.remove(b) self.is_game_running = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> self.start_level = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_quit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(button)</span></span></span><span class="hljs-function">:</span></span> self.game_over = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> self.is_game_running = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br><h3>  Display and hide the game menu </h3><br>  The display and hiding of the menu are implicitly performed.  When the buttons are in the list of <code>objects</code> , the menu is visible;  when they are removed, it is hidden.  Everything is very simple. <br><br>  You can create a built-in menu with its own surface that renders its subcomponents (buttons and other objects), and then just add / remove these menu components, but for such a simple menu this is not required. <br><br><h2>  Summarize </h2><br>  In this part, we looked at collision detection and what happens when the ball collides with different objects: a racket, bricks, walls, floor and ceiling.  We also created a menu with our own buttons, which can be hidden and displayed by a command. <br><br>  In the last part of the series, we will cover the completion of the game, the tracking of points and lives, sound effects and music. <br><br>  Then we will develop a complex system of special effects that add a little spice to the game.  Finally, we will discuss further developments and possible improvements. </div><p>Source: <a href="https://habr.com/ru/post/347266/">https://habr.com/ru/post/347266/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347256/index.html">Making games in Python 3 and Pygame: Part 3</a></li>
<li><a href="../347258/index.html">Why salt HTTP callbacks</a></li>
<li><a href="../347260/index.html">How to find a good marketer?</a></li>
<li><a href="../347262/index.html">Che Burashka and hacking systems selling tickets to Moscow electric trains</a></li>
<li><a href="../347264/index.html">ATM Security: Application Control Application Difficulties</a></li>
<li><a href="../347268/index.html">As we inventories reduced. 500 million</a></li>
<li><a href="../347272/index.html">I hate constants in ruby</a></li>
<li><a href="../347274/index.html">Own DBMS for 3 weeks. You just need a little time every day ...</a></li>
<li><a href="../347276/index.html">Smart search: how artificial intelligence hh.ru selects jobs to resume</a></li>
<li><a href="../347278/index.html">Learning online programming - is everything as simple as it seems?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>