<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>API First architecture or reasoning on the topic: thick server vs. thin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all habrazhiteli. My name is Ilya Shakitko and I work at LeaseWeb, in a team working on cloud services. Solving the next task associated w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>API First architecture or reasoning on the topic: thick server vs. thin</h1><div class="post__text post__text-html js-mediator-article">  <em>Good day to all habrazhiteli.</em>  <em>My name is Ilya Shakitko and I work at LeaseWeb, in a team working on cloud services.</em>  <em>Solving the next task associated with the study of a particular area, we try to share the acquired knowledge or thoughts with the community.</em>  <em>Not so long ago, we held a DevOps meeting in our office, where one of the speakers was my colleague, Maurits van der Scha, who spoke about API First architecture.</em>  <em>A little earlier in our blog, he published an article, a translation of which I would like to share with you.</em> <br><br><h4>  Introduction </h4><br>  API First architecture is the architecture for which the API user is the main user of the application.  This means that this API should have the highest priority, and not be another view in the MVC paradigm.  The main difference is that API First requires a complete, adaptive and well-documented API.  This is especially important in targeting: on mobile platforms (applications use API), in resellers (presentation layer uses API) and in multi-product environments with high integration, but low connectivity. <br><a name="habracut"></a><br><h4>  Code reuse in MVC </h4><br>  MVC architecture has long been popular.  In 2004, its popularity is rapidly growing with the release of Ruby on Rails.  The MVC paradigm allows you to make the most effective use of existing code if it is a front-end / back-end application (in the form of a CMS), in which users use the front-end, and employees - the back-end.  In this case, you need to select the same software stack for the front-end and back-end and make these applications as similar as possible.  When the MVC strategy is applied correctly, you can reuse the code of many parts of the application.  These can be, for example, DBAL / ORM, Business Logic, Presentation and AAA (Authentication, Authorization and Accounting. In particular, with AAA, employees can use the same login form as clients, and both forms will have a common code . <br><br><h4>  Mobile views for MVC </h4><br>  In 2007, Apple introduces the iPhone, and the need to correctly display web applications (and sites) on small screens quickly grows.  MVC applications have been and still are the most suitable for adapting to small screens.  All that is needed is a separate or modified set of views for display on a smartphone or tablet.  The strategy for creating a set of views for mobile and desktop devices is called ‚Äúmobile first‚Äú.  This is the most cost-effective and radical approach that requires leadership and decision-making, because  any software needs such a dramatic change as the revision of all submissions.  An alternative to this may be the support of two sets of views: one for mobile devices, the other for the desktop.  These views are often placed on ‚Äúm.‚Äù Subdomains.  This is a simple and transparent approach. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Adding API to MVC </h4><br>  In the field of application development, everyone is now arguing on the subject of ‚ÄúHTML5 vs Native‚Äù.  I would quote Danny Brown here: <br><br><blockquote>  Any company creating mobile applications today has to choose: make a Native or HTML5 application.  Both options have their advantages and disadvantages, but the wrong choice can be expensive.  - Danny Brown </blockquote><br><br>  Choosing a native application will require you to create a complete, responsive and well-documented API, while choosing HTML5 entails changing all the views in the application.  There are many arguments in favor of any of the options, and always deciding what is better and what is not depends on the situation.  But there is one approach that will always fail: creating an API as a representation in MVC.  Let me explain why he‚Äôs failing and why so many people still use him. <br><br>  Usually, when the server uses the MVC paradigm, the page load time is 200ms.  Server functions: database abstraction, business logic and presentation.  That is why it is also called ‚Äúfat server‚Äù.  API First, the server is not responsible for the presentation, contains less business logic for the request and therefore is called a ‚Äúthin server‚Äù.  A good API is highly optimized for execution speed, which usually reaches 20ms.  Those.  during the loading of the page for a mobile device (for example, 300ms) you can make up to 10 API calls. <br><br>  Until now, when someone chooses MVC and now needs an API, the simplest thing is to add a few views that return JSON and call this the ‚ÄúRESTful API‚Äù.  And all you have to do is write some documentation, and your boss will be happy.  In fact, such an API is absolutely unsuitable for use in real life, because it is not scalable and terribly slow.  It really feels when the API is already used for a long time and there is no way back. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1f/072/b91/f1f072b91bd3a657d371291d7e97a13c.png"><br><br><h4>  Twitter and API first </h4><br>  In 2010, Twitter announced the "API First" strategy.  They created a JavaScript web application on a similar architecture with mobile applications and called it the Javascript architecture.  This allowed them to fully use their same API.  Previously, the API was an addition to a web application, but now it has become the basis for the development of all other products.  The Twitter API focuses on providing optimal integration for JavaScript programmers through the RESTful JSON API.  But they also support traditional pages: <br><br><blockquote>  In order to support crawlers and users without JavaScript, we need a rendering system that will run on both the server and the client.  - Twitter </blockquote><br><br>  This approach to providing traditional pages with parallel use of the ‚ÄúAPI First‚Äù strategy I would call ‚ÄúHybrid‚Äù.  In the diagram below, I tried to list various approaches. <br><img src="https://habrastorage.org/getpro/habr/post_images/569/0f5/b86/5690f5b8651d70b1172a382d8c4de14c.png"><br><br><h4>  Conclusion </h4><br>  Optimal use of the code reduces costs, but this can only be achieved if there is a strong architectural strategy that you follow.  Refactoring code to comply with API First architecture will not bring profit directly.  It will reduce the cost of subsequent changes, of course, but the level of trust necessary to make such a decision is not so easy to obtain. <br><br><h4>  Reading materials </h4><br>  This is not the first article about API First architecture.  If you are interested in learning more, I suggest that you familiarize yourself with the materials presented below (sources in English): <br><br><ul><li>  2009 - <a href="http://asserttrue.blogspot.nl/2009/04/api-first-design.html">API-First Design, Cas Thomas</a> (blog) </li><li>  2011 - <a href="http://blog.dossot.net/2011/11/api-first-development.html">‚ÄúAPI-First Development,‚Äù David Dossot</a> (blog) </li><li>  2011 - <a href="http://net.tutsplus.com/tutorials/php/creating-an-api-centric-web-application/">‚ÄúCreating API-Centric Web Applications‚Äù, by Nikko Botista</a> (training) </li><li>  2012 - <a href="http://www.soatothecloud.com/2012/08/api-first.html">API First, Mark O'Neill</a> (blog) </li><li>  2012 - <a href="http://www.youtube.com/watch%3Fv%3DYJoCQSu2PlQ">‚ÄúAPI-First Product Development on the Heroku Platform,‚Äù</a> do.com (long video) </li><li>  2012 - <a href="http://benbrignell.com/blog/2012/11/api-first-design-approach/">‚ÄúAPI-First Approach to Design,‚Äù Ben Brignell</a> (blog) </li><li>  2012 - <a href="http://ajnyc.wordpress.com/2012/12/06/apis-first/">APIs First, Amish Jani</a> (blog) </li><li>  2013 - <a href="http://www.api-first.com/pages/posts.html">"www.api-first.com", Fiona and Evan</a> (website) </li><li>  2013 - <a href="https://speakerdeck.com/ramsey/api-first-php-tek-2013%3Fslide%3D56">"API First (PHP Tek 2013)" by Ben Ramsey</a> (presentation slides) </li></ul><br>  I made a selection of <a href="http://www.leaseweblabs.com/wp-content/uploads/2013/10/api_first.pdf">11 slides on ‚ÄúAPI First‚Äù</a> for a presentation that I conducted on November 26, 2013 in LeaseWeb. </div><p>Source: <a href="https://habr.com/ru/post/205560/">https://habr.com/ru/post/205560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../205548/index.html">FreeBSD developers will limit the use of hardware random number generators due to suspicions of backdoors</a></li>
<li><a href="../205550/index.html">12 important elements for website promotion and sales</a></li>
<li><a href="../205552/index.html">Developer at a crossroads: how to vectorize?</a></li>
<li><a href="../205554/index.html">Bitcoin: development history, ASIC</a></li>
<li><a href="../205556/index.html">Samsung's new mSATA-SSD on 1TB weighing 8.5 grams will be on sale this month.</a></li>
<li><a href="../205562/index.html">Viber now has the ability to call any phones.</a></li>
<li><a href="../205564/index.html">December 10th is an alternative programmer day</a></li>
<li><a href="../205566/index.html">By car in the "cloud"</a></li>
<li><a href="../205570/index.html">Object oriented C</a></li>
<li><a href="../205572/index.html">Installing ADB driver for phones of lesser-known manufacturers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>