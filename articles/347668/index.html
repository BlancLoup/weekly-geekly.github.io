<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Break and fallthrough operator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We bring to your attention a series of articles devoted to recommendations for writing high-quality code using the example of errors found in the Chro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Break and fallthrough operator</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4dc/8a3/a81/4dc8a3a810f3bfff54b6c32f1debea3a.png" alt="operator break"></div>  We bring to your attention a series of articles devoted to recommendations for writing high-quality code using the example of errors found in the Chromium project.  This is the second part, which will be devoted to the switch operator, or rather, the problem of the forgotten break operator. <br><br>  For many years I have been studying errors in programs and now I can say with confidence that in C, and after him in C ++, the <i>switch statement was</i> done incorrectly.  I understand that the possibility not to write <i>break</i> , made to transfer control further, allows writing elegant algorithms.  But still, a huge number of errors convinced me that the wrong approach was taken.  It is clear that now it is too late.  I just wanted to say that the right decision would be to write the word <i>break</i> or the reverse keyword, for example, <i>fallthrough</i> .  How much effort, time and money was saved.  Of course, this drawback can not be compared with <a href="https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare">Null References: The Billion Dollar Mistake</a> , but still a big mistake. <br><a name="habracut"></a><br>  Ok, philosophized and that's enough.  C ++ language is what it is.  However, this does not mean that you can relax and do nothing to improve the quality and reliability of the code.  The problem of a ‚Äúmissed break‚Äù is a big problem and should not be underestimated.  Even in the high-quality Chromium project, errors of this type are hidden. <br><br>  Let's see what I noticed in the process of parsing the report issued by PVS-Studio.  As I wrote in the <a href="https://habrahabr.ru/company/pvs-studio/blog/347536/">introductory article</a> , I looked at the report rather briefly, so there may be other errors that I did not notice.  Nevertheless, the errors found will be enough for me to demonstrate that all these are not separate random blunders, but a steady pattern of errors.  Readers should take this pattern seriously and try to use measures to prevent it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first error is taken directly from the Chromium project code. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetFieldTypeGroupMetric</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (AutofillType(field_type).group()) { .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ADDRESS_HOME_LINE3: group = GROUP_ADDRESS_LINE_3; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ADDRESS_HOME_STREET_ADDRESS: group = GROUP_STREET_ADDRESS; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ADDRESS_HOME_CITY: group = GROUP_ADDRESS_CITY; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ADDRESS_HOME_STATE: group = GROUP_ADDRESS_STATE; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; .... }</code> </pre> <br>  Regardless of whether you need to automatically fill in a certain ‚ÄúStreet Address‚Äù field or the ‚ÄúCity‚Äù field, the GROUP_ADDRESS_CITY constant will be selected in any case.  Those.  somewhere instead of the street name will automatically be substituted the name of the city. <br><br>  The reason is that the <i>break</i> statement is missing.  As a result, after assignment: <br><br><pre> <code class="cpp hljs">group = GROUP_STREET_ADDRESS;</code> </pre> <br>  The <i>group</i> variable will immediately be assigned a new value: <br><br><pre> <code class="cpp hljs">group = GROUP_ADDRESS_CITY;</code> </pre> <br>  The PVS-Studio analyzer notices this double assignment and issues a warning: <a href="https://www.viva64.com/ru/w/v519/">V519</a> The 'group' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 145, 147. autofill_metrics.cc 147 <br><br>  The second error also relates to the Chromium code and looks the same way. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> GLES2Util::GetColorFormatComponentSizes(...., <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>* a) { .... <span class="hljs-comment"><span class="hljs-comment">// Sized formats. switch (internal_format) { case GL_ALPHA8_EXT: *a = 8; case GL_ALPHA16F_EXT: *a = 16; case GL_ALPHA32F_EXT: *a = 32; case GL_RGB8_OES: case GL_SRGB8: case GL_RGB8_SNORM: case GL_RGB8UI: case GL_RGB8I: *r = 8; *g = 8; *b = 8; break; case GL_RGB565: .... }</span></span></code> </pre> <br>  2 or 3 <i>break</i> statements are forgotten here.  I do not know how exactly this code should work, so I will refrain from commenting on how to correct the error.  The PVS-Studio analyzer generates two warnings for this code: <ul><li>  V519 CWE-563 The '* a' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 1385, 1387. gles2_cmd_utils.cc 1387 </li><li>  V519 CWE-563 The '* a' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 1387, 1389. gles2_cmd_utils.cc 1389 </li></ul><br>  The third error from the Chromium code. <br><br><pre> <code class="cpp hljs">gfx::ColorSpace VideoColorSpace::ToGfxColorSpace() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (primaries) { .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PrimaryID::SMPTEST431_2: primary_id = gfx::ColorSpace::PrimaryID::SMPTEST431_2; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PrimaryID::SMPTEST432_1: primary_id = gfx::ColorSpace::PrimaryID::SMPTEST432_1; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PrimaryID::EBU_3213_E: primary_id = gfx::ColorSpace::PrimaryID::INVALID; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } .... }</code> </pre> <br>  Exactly the same picture as before.  PVS-Studio warning: V519 CWE-563 The 'primary_id' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 106, 109. video_color_space.cc 109 <br><br>  The fourth error from the Chromium code.  This time, the V796 warning will help us, not the V519.  Diagnostics V519 detects a missing <i>break in an</i> indirect way when it notices a reassignment.  Diagnostics <a href="https://www.viva64.com/ru/w/v796/">V796 is</a> designed specifically to search for missing operators <i>break</i> . <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RecordContextLost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ContextType type, CommandBufferContextLostReason reason)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type) { .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MEDIA_CONTEXT: UMA_HISTOGRAM_ENUMERATION(<span class="hljs-string"><span class="hljs-string">"GPU.ContextLost.Media"</span></span>, reason, CONTEXT_LOST_REASON_MAX_ENUM); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MUS_CLIENT_CONTEXT: UMA_HISTOGRAM_ENUMERATION(<span class="hljs-string"><span class="hljs-string">"GPU.ContextLost.MusClient"</span></span>, reason, CONTEXT_LOST_REASON_MAX_ENUM); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> UI_COMPOSITOR_CONTEXT: UMA_HISTOGRAM_ENUMERATION(<span class="hljs-string"><span class="hljs-string">"GPU.ContextLost.UICompositor"</span></span>, reason, CONTEXT_LOST_REASON_MAX_ENUM); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> CONTEXT_TYPE_UNKNOWN: UMA_HISTOGRAM_ENUMERATION(<span class="hljs-string"><span class="hljs-string">"GPU.ContextLost.Unknown"</span></span>, reason, CONTEXT_LOST_REASON_MAX_ENUM); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> <br>  After executing the ‚ÄúUI_COMPOSITOR_CONTEXT‚Äù branch, control is transferred to the ‚ÄúCONTEXT_TYPE_UNKNOWN‚Äù branch.  Apparently, this leads somewhere to incorrect processing ... But I do not know what it will affect.  But the <i>break</i> here is missed, apparently by chance, and not deliberately. <br><br>  PVS-Studio Warning: V796 CWE-484 It is possible that 'break' statement is missing in switch statement.  command_buffer_metrics.cc 125 <br><br>  The fifth error in the Chromium code, due to which the middle mouse button suffers. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> SystemInputInjectorMus::InjectMouseButton( ui::EventFlags button, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> down) { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> modifier = ui::MODIFIER_NONE; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (button) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ui::EF_LEFT_MOUSE_BUTTON: modifier = ui::MODIFIER_LEFT_MOUSE_BUTTON; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ui::EF_RIGHT_MOUSE_BUTTON: modifier = ui::MODIFIER_RIGHT_MOUSE_BUTTON; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ui::EF_MIDDLE_MOUSE_BUTTON: modifier = ui::MODIFIER_MIDDLE_MOUSE_BUTTON; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: LOG(WARNING) &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Invalid flag: "</span></span> &lt;&lt; button &lt;&lt; <span class="hljs-string"><span class="hljs-string">" for the button parameter"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } .... }</code> </pre> <br>  Incorrectly handling a click on the middle mouse button.  After correct action: <br><br><pre> <code class="cpp hljs">modifier = ui::MODIFIER_MIDDLE_MOUSE_BUTTON;</code> </pre> <br>  The transition to the error flag handler occurs, and the function completes its work ahead of schedule. <br><br>  PVS-Studio Warning: V796 CWE-484 It is possible that 'break' statement is missing in switch statement.  system_input_injector_mus.cc 78 <br><br>  Here the reader has the right to say: ‚ÄúEverything is clear, enough!‚Äù.  However, I caught sight of a couple more such errors in the libraries used, so let's look at them as well.  I want to convincingly show that this kind of error is ubiquitous. <br><br>  The sixth error lives in the code of the Angle library used in Chromium. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> State::getIntegerv(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Context *context, GLenum pname, GLint *params) { .... <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (pname) { .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GL_DEBUG_GROUP_STACK_DEPTH: *params = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;GLint&gt;(mDebug.getGroupStackDepth()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GL_MULTISAMPLE_EXT: *params = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;GLint&gt;(mMultiSampling); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GL_SAMPLE_ALPHA_TO_ONE_EXT: *params = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;GLint&gt;(mSampleAlphaToOne); <span class="hljs-comment"><span class="hljs-comment">// &lt;= case GL_COVERAGE_MODULATION_CHROMIUM: *params = static_cast&lt;GLint&gt;(mCoverageModulation); break; case GL_ATOMIC_COUNTER_BUFFER_BINDING: .... }</span></span></code> </pre> <br>  PVS-Studio warning: V519 CWE-563 The '* params' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 2044, 2046. state.cpp 2046 <br><br>  The seventh error lives in the SwiftShader library code used in Chromium. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">GL_APICALL </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> GL_APIENTRY </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">glInvalidateSubFramebuffer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(target) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GL_DRAW_FRAMEBUFFER: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GL_FRAMEBUFFER: framebuffer = context-&gt;getDrawFramebuffer(); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GL_READ_FRAMEBUFFER: framebuffer = context-&gt;getReadFramebuffer(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> error(GL_INVALID_ENUM); } .... }</code> </pre> <br>  PVS-Studio warning: V519 CWE-563 The framebuffer variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 3879, 3881. libglesv3.cpp 3881 <br><br>  Seven is a beautiful number.  On it and stop.  Perhaps there are other errors, but I leave it to the authors of Chromium and the libraries.  I was bored watching the V519 warnings carefully.  Diagnostics V519 gives a lot of stupid false positives associated with inaccurate code writing or with macros.  And setting up the analyzer for such a large project is already a job requiring payment (yes, it was a subtle hint for Google). <br><br>  So, we‚Äôve finished looking at examples, and it‚Äôs time to talk about how to defend against the error pattern in question. <br><br>  <b>Recommendation</b> <br><br>  As I wrote at the beginning, in my opinion, the reason for such errors is the unsuccessful implementation of the syntax of the language.  And something is too late to change.  However, compilers and analyzers gradually solve this problem.  For a long time, there have been warnings that the <i>break</i> statement has been forgotten.  And when it is really necessary to transfer control further, the compilers and analyzers are informed about this with the help of special magic spells, such as: <ul><li>  [[gnu :: fallthrough]]; </li><li>  [[clang :: fallthrough]]; </li><li>  __attribute __ ((fallthrough)); </li><li>  BOOST_FALLTHROUGH; </li><li>  and so on. </li></ul><br>  Unfortunately, all this was somehow not universal.  Fortunately, I have good news for all C ++ programmers.  In the C ++ standard, 17 finally approved the standard method to prompt the compiler that the programmer specifically plans to transfer control further.  This is the <i>[[fallthrough]]</i> attribute.  Analyzers, of course, will also use this hint.  By the way, I recommend to look at our article " <a href="https://www.viva64.com/ru/b/0533/">C ++ 17</a> " about what is new in this standard. <br><br>  A little more about the attribute <i>[[fallthrough]]</i> . <br><br>  This attribute indicates that the <i>break</i> statement inside the <i>case</i> block is missing intentionally (that is, control is passed to the next <i>case</i> block), and therefore the corresponding warning from the compiler or static code analyzer should not be issued. <br><br>  Usage example: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (i) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>: f1(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>: f2(); [[fallthrough]]; <span class="hljs-comment"><span class="hljs-comment">//    case 30: f3(); break; case 40: f4(); break; }</span></span></code> </pre> <br>  If you have already moved to C ++ 17, there is no reason not to use <i>[[fallthrough]]</i> .  Turn on warnings in your compiler so that it informs about a missed <i>break</i> .  And where the break statement is not really needed, write <i>[[fallthrough]]</i> .  I also recommend to describe all this in the coding standard used in your company. <br><br>  The Clang and GCC compilers begin to warn about a missed <i>break</i> , if you specify the flag: <br><br><pre> <code class="cpp hljs">-Wimplicit-fallthrough</code> </pre> <br>  If you add <i>[[fallthrough]]</i> , then the warning disappears. <br><br>  With MSVC harder.  Starting with Visual C ++ 2017 RTM, it seems to be displaying the warning C4468 if the / W4 flag is specified.  Details: <a href="https://docs.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warnings-by-compiler-version">Compiler Warnings by compiler version</a> (see C4468).  But something I have the latest version of Visual Studio with all the latest updates stubbornly silent.  However, I have not experimented for a long time and may have done something wrong.  In any case, if not now, then in the near future this mechanism will work in Visual C ++. <br><br>  Thank you all for your attention.  I wish you all a hopeless code.  Yes, and do not forget to try checking your working projects with <a href="https://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> . <br><br><div style="text-align:center;"> <a href="https://www.viva64.com/en/b/0554/"><img src="https://habrastorage.org/files/8d2/41b/5bf/8d241b5bf34747169141ed7c1997143b.png"></a> </div><br>  If you want to share this article with an English-speaking audience, then please use the link to the translation: Andrey Karpov.  <a href="https://www.viva64.com/en/b/0554/">break and fallthrough</a> . </div><p>Source: <a href="https://habr.com/ru/post/347668/">https://habr.com/ru/post/347668/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347654/index.html">10 skills cool designer in 2018</a></li>
<li><a href="../347658/index.html">We get our neighbor's Wi-Fi using standard MacOS tools.</a></li>
<li><a href="../347662/index.html">Dostering nginx and php on sockets with log rotation</a></li>
<li><a href="../347664/index.html">Miner Monero: now in YouTube advertising</a></li>
<li><a href="../347666/index.html">The code was checked literally by line: how our firewall was certified by FSTEC</a></li>
<li><a href="../347670/index.html">Developing Tic-Tac-Toe on native javascript</a></li>
<li><a href="../347672/index.html">How robots help people start investing in the stock market: what is roboking and how it works</a></li>
<li><a href="../347674/index.html">"Supercomputer" digest: 4 news from the world of high-performance computing</a></li>
<li><a href="../347676/index.html">Static analysis and property-based testing: together we are powerful</a></li>
<li><a href="../347678/index.html">Creating cognitive connections with players</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>