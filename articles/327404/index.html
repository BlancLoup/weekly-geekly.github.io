<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sending service messages to whatsapp via yowsup2 using http-get method, including Bacula backup server reports</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I've seen quite a lot of examples of using whatsapp notifications with zabbix, and other monitoring systems, but this article inspired me for my own e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sending service messages to whatsapp via yowsup2 using http-get method, including Bacula backup server reports</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/fc1/c4b/c1d/fc1c4bc1ddce4ce48130dc28d85eb6e3.png" align="left">  I've seen quite a lot of examples of using whatsapp notifications with zabbix, and other monitoring systems, but <a href="http://bacula.us/sending-notification-whatsapp/">this article</a> inspired me for my own experiments with whatsapp.  However, if everything is clear with the monitoring systems, then in the presence of an excellent ‚Äúinnate‚Äù system of email alerts, making a garden for one bacula was frankly lazy.  And suddenly, then you want to put zabbix or something else to send?  Every bot on vatsapu? <br>  So, let it be something more universal.  For example, a separate server that can serve a bacula, zabbix, syslog server, site, or even windows with macs. <br><a name="habracut"></a><br><br>  UPD: At once I‚Äôll make a reservation that the tasks ‚Äúthe easiest way to send an arbitrary message to the phone‚Äù did not stand, as there is a jabber, sms, any mobile email client, finally.  The task was: a) to adapt exactly whatsapp, since it already exists in my phone and about 1 billion others, unlike the same notorious telegram b) to make the gateway as universal as possible, from which you can quickly redirect the distribution to wherever then duplicate. <br><br>  Let's get started  I put it on an ‚Äúempty‚Äù Centos 7 amdx64 in an lxc container under proxmox ve 4.4. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first thing I usually do is update, connect epel and install ssh so that it is convenient to work later <br><br><pre><code class="bash hljs">yum -y update yum -y install epel-release openssh-server systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> sshd systemctl start sshd</code> </pre> <br>  Next, set the dependencies and <a href="https://github.com/tgalal/yowsup">yowsup</a> : <br><br><pre> <code class="bash hljs">yum -y install unzip wget tar nano yum -y install python python-dateutil python-argparse yum -y install libtiff-devel libjpeg-devel libzip-devel freetype-devel lcms2-devel yum -y install gcc yum -y install protobuf pycrypto python-axolotl-curve25519 yum -y install python-devel python-pip python-imaging pip install --upgrade pip</code> </pre><br>  Download, unpack and install yowsup: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/src/ wget https://github.com/tgalal/yowsup/archive/master.zip unzip master <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> yowsup-master/ python setup.py install</code> </pre> <br>  We register mobile number.  Simka is inserted into a mobile phone (or gateway, in my case) to which SMS will come.  The number should not be illuminated in whatsapp.  First, we request the registration code: <br><br><pre> <code class="bash hljs">yowsup-cli registration --requestcode sms --phone 7xxxxxxxxxx --cc 7 --mcc 250 --mnc xx --env android</code> </pre> <br><blockquote>  phone - your phone number starting with 7 <br>  cc - country code is the country code (for Russia it is 7) <br>  mcc - mobile country code is a different country code (for Russia it is 250) <br>  mnc - mobile network code - this is the code of your operator.  (01 - MTS, 02 - megaphone, 20 - tele2, 99 - beeline) </blockquote><br>  In response, you will receive an SMS with the code type XXX-XXX, which we use to confirm the registration <br><br><pre> <code class="bash hljs">yowsup-cli registration --register xxx-xxx --phone 7xxxxxxx --cc 7</code> </pre> <br>  The server will report successful registration: <br><br><blockquote>  status: ok <br>  kind: free <br>  pw: X1isWwe + 25d / aOXJpcSduzTV7fg = <br>  price: 33,00 rub. <br>  price_expiration: 1495380655 <br>  currency: RUB <br>  cost: 33.00 <br>  expiration: 4444444444.0 <br>  login: 7xxxxxxxxxxx X1isWwe + 37d / aOXJpcSduzTV7fg = <br>  type: new </blockquote><br>  Write the password from the pw variable to the config file <br><br><pre> <code class="hljs lua">nano yowsup-cli.<span class="hljs-built_in"><span class="hljs-built_in">config</span></span></code> </pre> <br>  There are three lines in this file (country, number, password): <br><br><pre> <code class="hljs pgsql">cc=<span class="hljs-number"><span class="hljs-number">7</span></span> phone=<span class="hljs-number"><span class="hljs-number">7</span></span>xxxxxxx <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>=X1isWwe+<span class="hljs-number"><span class="hljs-number">25</span></span>d/aOXJpcSduzTV7fg=</code> </pre> <br>  Actually, everything.  We try <br><br><pre> <code class="hljs swift">yowsup-cli demos -<span class="hljs-built_in"><span class="hljs-built_in">c</span></span> yowsup-cli.config -s <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-string"><span class="hljs-string">"alarm"</span></span></code> </pre> <br>  If the message has arrived, move on.  To comfortably play around with a live whatsapp chat from the terminal - you need Cyrillic.  If it is not there, and instead of it errors like ‚Äúascii ... ordinal not in range (128)‚Äù, you need to set the locale and fix one file. <br><br>  With <code>localectl</code> there are some problems in my setup, so: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nano</span></span> /etc/locale.conf</code> </pre> <br>  write <code>LANG=ru_RU.UTF-8</code> , save and restart session <br><br>  The next step is to correct the encoding yowsup.  We do, as stated <a href="https://github.com/tgalal/yowsup/issues/1592">here</a> . <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nano</span></span> /usr/lib/python2.<span class="hljs-number"><span class="hljs-number">7</span></span>/site-packages/yowsup2-<span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>-py2.<span class="hljs-number"><span class="hljs-number">7</span></span>.egg/yowsup/demos/cli/layer.py</code> </pre> <br>  After the import sys line add: <br><br><pre> <code class="hljs erlang"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reload</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sys)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sys</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setdefaultencoding</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('utf8')</span></span></span></span></code> </pre> <br>  should be: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> .cli <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Cli, clicmd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> yowsup.layers.interface <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> YowInterfaceLayer, ProtocolEntityCallback <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> yowsup.layers.auth <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> YowAuthenticationProtocolLayer <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> yowsup.layers <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> YowLayerEvent, EventCallback <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> yowsup.layers.network <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> YowNetworkLayer <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys reload(sys) sys.setdefaultencoding(<span class="hljs-string"><span class="hljs-string">'utf8'</span></span>)</code> </pre> <br>  Now you can run live chat and send-receive messages in Cyrillic.  Have fun. <br><br>  Having played enough, it's time to adapt this wonderful tool for the needs of workers around servers.  For this, it was decided to use a fairly simple and flexible tool Webhook <a href="https://github.com/adnanh/webhook">github.com/adnanh/webhook</a> , although there are a lot of other ways.  For example, shell2http <a href="http">github.com/msoap/shell2http</a> . <br><br>  Download and unpack the webhook in any directory.  For convenience, I put in / var / webhook <br><br><pre> <code class="hljs ruby">cd /usr/src wget <span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/github.com/adnanh</span></span><span class="hljs-regexp"><span class="hljs-regexp">/webhook/releases</span></span><span class="hljs-regexp"><span class="hljs-regexp">/download/</span></span><span class="hljs-number"><span class="hljs-number">2.6</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>/webhook-linux-amd64.tar.gz tar -xvf webhook-linux-amd64.tar.gz -C /var mv /var/webhook-linux-amd64 /var/webhook</code> </pre> <br>  And so that later, if desired, it was more convenient to add all sorts of files, pictures, videos - just copied yowsup-cli.config into / var / yowsup As they say, let everything be in one place. <br><br><pre> <code class="hljs swift">mkdir /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/yowsup cp /usr/src/yowsup-master/yowsup-cli.config /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/yowsup</code> </pre> <br>  Since Webhook allows you to run previously prepared commands via http, we will create a file with <code>hooks.json</code> rules. <br><br><pre> <code class="hljs swift">cd /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/webhook‚Äã‚Äã‚Äã‚Äã‚Äã nano hooks.json</code> </pre> <br>  We will describe a hook in the file that will receive commands at <code>http:// :9000/hooks/wp-admin</code> , process and send messages to the admins whatsapp.  Inside the file, add a description of the conditions: <br><br><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"wp-admin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"execute-command"</span></span>: <span class="hljs-string"><span class="hljs-string">"/var/webhook/admin.sh"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"command-working-directory"</span></span>: <span class="hljs-string"><span class="hljs-string">"/var/webhook"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"pass-arguments-to-command"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"source"</span></span>: <span class="hljs-string"><span class="hljs-string">"url"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"msg"</span></span> } ] } ]</code> </pre> <br>  That is, anyone who calls the url <code>http:// :9000/hooks/wp-admin?msg=</code> - <code>/var/webhook/admin.sh</code> script, and he, in turn, sends his regards to admin on whatsupp , and only him.  I decided not to transmit a couple of phone messages each time, and if necessary, send to other numbers to create additional hooks.  For example, a hook with sending to a specific contact list or universal with a pair of telephone message and some kind of token for greater security. <br><br>  So, we check if we wrote the hook correctly by running: <br><br><pre> <code class="bash hljs">./webhook -hooks hooks.json -verbose</code> </pre> <br>  In response, we will see: <br><blockquote>  [webhook] 2017/04/26 05:12:48 version 2.6.3 starting <br>  [webhook] 2017/04/26 05:12:48 setting up os signal watcher <br>  [webhook] 2017/04/26 05:12:48 attempting to load hooks from hooks.json <br>  [webhook] 2017/04/26 05:12:48 found 1 hook (s) in file <br>  [webhook] 2017/04/26 05:12:48 loaded: wp-admin <br>  [webhook] 2017/04/26 05:12:48 serving hooks on <a href="http://0.0.0.0/">0.0.0.0</a> : 9000 / hooks / {id} </blockquote><br>  Next, create a send script /var/webhook/admin.sh, which will send messages to the admin: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#! /bin/bash msg="$(echo "$*" | tr ' ' ' ')" if [[ ! -z "${msg/ //}" ]]; then /usr/bin/yowsup-cli demos -c /var/yowsup/yowsup-cli.config -s 7xxxxxxxxxx "$msg" fi</span></span></code> </pre> <br>  Added a check for emptiness and spaces, so that any call to the hook will not receive empty messages. <br><br>  Open in the browser <code>http:// :9000/hooks/wp-admin?msg=</code> .  Everything should work.  Add a hook to autoload.  I did through <code>systemd</code> . <br><br><pre> <code class="hljs pgsql">nano /etc/systemd/<span class="hljs-keyword"><span class="hljs-keyword">system</span></span>/webhook.service</code> </pre> <br>  We describe the unit: <br><br><pre> <code class="hljs pgsql">[Unit] Description=Webhook <span class="hljs-keyword"><span class="hljs-keyword">After</span></span>=syslog.target <span class="hljs-keyword"><span class="hljs-keyword">After</span></span>=network.target [Service] <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span>=simple PIDFile=/var/webhook/webhook-service.pid WorkingDirectory=/var/webhook <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>=root <span class="hljs-keyword"><span class="hljs-keyword">Group</span></span>=root OOMScoreAdjust=<span class="hljs-number"><span class="hljs-number">-500</span></span> ExecStart=/var/webhook/webhook -hooks hooks.json -<span class="hljs-keyword"><span class="hljs-keyword">verbose</span></span> ExecStop=/usr/bin/pkill -f webhook ExecReload= TimeoutSec=<span class="hljs-number"><span class="hljs-number">300</span></span> [Install] WantedBy=multi-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.target</code> </pre> <br>  We save.  We start.  We are checking. <br><br><pre> <code class="hljs pgsql"> systemctl <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> webhook systemctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> webhook systemctl -l status webhook</code> </pre> <br>  Now you can make a simple sending using curl from another machine <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">curl</span></span> -G http:// :<span class="hljs-number"><span class="hljs-number">9000</span></span>/hooks/wp-admin?msg=</code> </pre> <br>  However, this way you can send only boring messages without formatting, similar to sms.  To receive beautifully formatted messages, and even with emoji-graphics, you must first encode the contents of msg in urlencode.  Otherwise, esc-sequences will be in the url.  This is useful for further examples with Bacula. <br><br>  Surl can do urlencode independently, only the syntax will be different.  For example, send a message with a line break: <br><br><pre> <code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> VAR=<span class="hljs-string"><span class="hljs-string">"\n"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> MSG=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -e <span class="hljs-variable"><span class="hljs-variable">$VAR</span></span>) curl -G http:// :9000/hooks/wp-admin --data-urlencode msg=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$MSG</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br>  Now you can do bacula, i.e.  so that, in fact, inspired the above described dances. We go to the server where the bacula-director is installed, set bc and curl. <br><br><pre> <code class="hljs sql">yum -y <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> bc curl</code> </pre> <br>  Then we take an excellent script from the article <a href="http://bacula.us/sending-notification-whatsapp/">bacula.us/sending-notification-whatsapp</a> and <a href="http://bacula.us/sending-notification-whatsapp/">tweak a</a> little.  Attention, if you want to use emoji emoticons, the file must be in UTF-8. <br><br>  From the Variables section we delete RECIPIENT_NUMBER and CONF, we will not need them.  And the variable YOWSEXEC is changed to the curl call of the send hook to the admin. <br><br><pre> <code class="hljs mel"># Variables HOUR=$(<span class="hljs-keyword"><span class="hljs-keyword">date</span></span> +%d/%m/%Y\ %H:%M:%S) YOWSEXEC=<span class="hljs-string"><span class="hljs-string">"curl -G http:// :9000/hooks/wp-admin"</span></span> LOG=<span class="hljs-string"><span class="hljs-string">"/var/log/bacula/whatsapp.log"</span></span></code> </pre> <br>  Enter your data to connect to MySQL <br><br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta"># MySQL config DBUSER=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bacula"</span></span></span><span class="hljs-meta"> DBPASSWORD=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bacula"</span></span></span><span class="hljs-meta"> DBNAME=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bacula"</span></span></span></span></code> </pre> <br>  And instead of the send line: <br><br><pre> <code class="hljs ruby">$YOWSEXEC demos --config $CONF --send $RECIPIENT_NUMBER <span class="hljs-string"><span class="hljs-string">"`echo -e "</span></span>$MESSAGE${COUNT}<span class="hljs-string"><span class="hljs-string">"`"</span></span> &amp;<span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>$LOG</code> </pre> <br>  write: <br><br><pre> <code class="hljs bash">FMSG=`<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -e <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$MESSAGE</span></span></span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${COUNT}</span></span></span><span class="hljs-string">"</span></span>` <span class="hljs-variable"><span class="hljs-variable">$YOWSEXEC</span></span> --data-urlencode msg=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$FMSG</span></span></span><span class="hljs-string">"</span></span> &amp;&gt;&gt; <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span></code> </pre> <br>  We put the right to perform: <br><br><pre> <code class="bash hljs">chmod +x /etc/bacula/send_whatsapp.sh</code> </pre> <br>  Is done.  Now, as stated in the article, you can insert into tasks <br><br><pre> <code class="hljs perl">Command = <span class="hljs-string"><span class="hljs-string">"/etc/bacula/send_whatsapp.sh %i"</span></span></code> </pre> <br>  and get beautiful reports on your phone: <br><br><img src="https://habrastorage.org/files/ab7/114/4ba/ab71144bac0b4f3ab6d2181ff3a94af3.png"><br><br>  Thanks to all.  I would be grateful for comments and corrections. <br><br>  UPD (01/12/2018): Yousup updated to 2.5.7, bugs fixed.  If someone does not work, update yowsup, use --env android (corrected above) when registering. </div><p>Source: <a href="https://habr.com/ru/post/327404/">https://habr.com/ru/post/327404/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327394/index.html">Where did unreliable tests go to Google</a></li>
<li><a href="../327396/index.html">Nvidia has published a report on the development and optimization of current GPUs and compared them with Google‚Äôs TPU</a></li>
<li><a href="../327398/index.html">New in 3CX V15.5: G.711 fax reception and updated Chrome 3CX Click-to-call extension</a></li>
<li><a href="../327400/index.html">C ++ Russia 2017 videos are available online.</a></li>
<li><a href="../327402/index.html">Do advertising on the Internet - quickly or correctly?</a></li>
<li><a href="../327406/index.html">Features of the development of mobile MMO RTS. Part 5</a></li>
<li><a href="../327408/index.html">Why I don't want to program in Perl anymore</a></li>
<li><a href="../327410/index.html">TLS SNI standard distribution</a></li>
<li><a href="../327412/index.html">DentalTap Service Overview - Business and Communication sections</a></li>
<li><a href="../327414/index.html">Restore 1C Enterprise (DBF) after formatting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>