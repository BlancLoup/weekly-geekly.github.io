<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Clean in the boom workshop. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Or a vacuum cleaner controlled by Bluetooth 
 In the first part I told about vacuum cleaners and cyclones for cleaning chips in the workshop. In the c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Clean in the boom workshop. Part 2</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/wz/r7/hn/wzr7hn8ukrxisgoxflr1hpemxis.jpeg" alt="image"></div><br><h4>  Or a vacuum cleaner controlled by Bluetooth </h4><br>  In the first part I told about vacuum cleaners and cyclones for cleaning chips in the workshop.  In the comments shared the experience of using different vacuum cleaners and not very good.  Now I‚Äôll tell you about how I make prototype boards and devices using the example of a radio-controlled vacuum cleaner.  Below are a lot of pictures! <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Here is a diagram of the vacuum cleaner from the first part</b> <div class="spoiler_text"> <a href=""><img src="https://habrastorage.org/webt/wj/q9/oz/wjq9ozkrisnrvfmcbvqkyhthbhu.jpeg"></a> <br>  Clickable <br></div></div><br>  Now connect the receiver to it. <br><br><h4>  Here is his diagram: </h4><br> <a href=""><img src="https://habrastorage.org/webt/lh/wq/lq/lhwqlq09r9nst2dcq4rnr5ijdgm.jpeg"></a> <br>  <i>Clickable</i> <br><br>  There is nothing tricky.  Denominations are not affixed.  I needed a fee faster.  Drawing circuits and boards is the most complete AD :) We power the circuit from the Chinese step-down (at the output of the trance of the vacuum cleaner 30c and we need 3.3).  The output of the controller is connected to the base of the additional transistor.  We take the synchronization pulse from point 2. Resistor R2 and Zener diode D2 limit the voltage for the controller. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  The logic of the receiver: </h4><br>  On the rising edge of the synchronization pulse, an interrupt is triggered.  In it we start the timer - the counter. <br><br>  He has 2 comparison registers.  On the first - open the vacuum cleaner optocoupler, on the second - close.  The response time of the first depends on the selected power and is inversely proportional to it (PWM from the end of the network half-cycle). <br><br>  The time of the second comparison register is unchanged and it is slightly less than the network half-period (the rest is the guard interval). <br><br>  From the Bluetooth receiver, we accept packets of 3 bytes.  The first 2 of them are IDs - previously known 2 numbers to check the validity of the data so as not to react to any garbage.  If the ID is valid, then we light LED1 and react to the 3rd byte, which is power. <br><br>  Power less than 20% discarded so as not to burn the motor.  We recalculate the obtained power value and write to the first comparison register of the timer - the counter that makes the PWM.  If valid data does not arrive for a few seconds, we cut down the vacuum cleaner (we assume that the transmitter has fallen off).  This is not a tricky algorithm. <br><br><h4>  Here is the vacuum cleaner receiver board: </h4><br><img src="https://habrastorage.org/webt/1p/pb/zg/1ppbzgdsepfinj05gewyxqvmg2i.jpeg" alt="image"><br><br><h4>  Well, now we make the transmitter board </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/53/zb/k-/53zbk-vacjr4su_tbamklphmo2a.jpeg" alt="image"></div><br>  It's still easier with him.  It transmits these same 3 bytes of data several times per second.  3rd byte depends on the position of the resistor on the handle. <br><br>  Prototypes and pieces of boards I saw on the router.  And I don't see it the way I see in most descriptions and reviews.  They use special software for engraving boards and simply lead around the paths with a mill.  This approach is only suitable for very limited use.  For high frequencies or any significant voltages, this is not suitable for sensitive devices.  This prototype of the board should be no different from what is obtained by etching.  That is, it is necessary to cut out all the copper as it should be, and not just to circle the paths along the contour. <br><br>  To create programs for milling boards, I use the usual milling software, which I use to make other parts.  For example, Rhino CAM.  There are many processing strategies, including post processing.  That is, it is not necessary to cut the entire board with the thinnest cutter, which must be passed between the legs of the microcircuits and the thinnest tracks.  It will take a long time.  You can tear down most of the copper with a coarse cutter, and then charge a small one and finish off particularly fine parts.  If the board has a lot of empty places, you can use 3 cutters.  By the time it turns out is already acceptable.  Especially with the automatic measurement of the offset tool.  Replaced, poked a button, it measured and sawn further.  Then drilling and in the end - cutting out the outline of the board.  And all at one time.  Thus, high accuracy is not achieved by the LUT method. <br><br>  For example, I sometimes make prototype boards for testing one familiar office for the production of LED lights.  There it is important that the exact positioning of the lenses over the LEDs is necessary so that it precisely fits into the housing and the holes coincide.  Fees on aluminum foil.  Here for this milling - the most it! <br><br><h4>  Here is a rough pass transmitter board: </h4><br><img src="https://habrastorage.org/webt/vs/zl/f3/vszlf3kedqlkuidpms4cjgbpc8u.jpeg" alt="image"><br><br><h4>  But thin: </h4><br><img src="https://habrastorage.org/webt/dq/4_/ha/dq4_ha-um6rqfxlpxihrrcofwlg.jpeg" alt="image"><br><br>  On the rough there was a 0.5mm mill, and on a thin one 0.2 <br><br><h4>  Well, cutting the outline of the board: </h4><br><img src="https://habrastorage.org/webt/vs/zd/i7/vszdi7ivekyigcqrfjj_yvmdp_k.jpeg" alt="image"><br><br>  Bridges so that the board does not fall out of the sheet. <br><br>  File holes you can feed the software of the machine here the program need not be harvested. <br><br><h4>  Simulation: </h4><br><img src="https://habrastorage.org/webt/m5/wy/lw/m5wylwxko8enjkm6es4uvdfhriy.jpeg" alt="image"><br><br>  Well, the "eye" for ice on a vacuum cleaner from the "milk" acrylic. <br><br><img src="https://habrastorage.org/webt/sk/mc/ht/skmchtss62anirdl1jwtlljdd_c.jpeg" alt="image"><br><br>  There are also bridges here.  On a loose part, you can break the cutter when moving.  Well, so that it is not sucked into the vacuum cleaner. <br><br><h4>  And here is the fee after milling: </h4><br><img src="https://habrastorage.org/webt/ud/yx/ol/udyxolugefq_f53nj6tbipyrlmq.jpeg" alt="image"><br><br><h4>  Milling depth 0,03mm </h4><br>  At this depth, the cutter peels off a layer of copper and almost does not touch the PCB.  Resource cutters increases.  And you can also make thin tracks.  Whatever the exact machine (and this is also important), such milling will not work without measurement.  Procurement is still a curve!  The machine is able to measure the surface of the probe and build the surface of the real workpiece.  It then adjusts the program along this surface, and the entire curvature of the workpiece is taken into account in the process.  The depth is the same, and the accuracy is high. <br><br><h4>  We set the grid in steps of about a centimeter and measure ... </h4><br><img src="https://habrastorage.org/webt/xr/mt/af/xrmtaflwqkkqif4bzhltaeik8jm.jpeg" alt="image"><br><br> <a href=""><img src="https://habrastorage.org/webt/jd/th/op/jdthopei-cllzsr9pdwfoeqmxa4.jpeg"></a> <br>  <i>Clickable</i> <br><br>  A contact is connected to the conductive layer of the board (on the right).  "Quick" clips - isolated, and under the clip on the left I put a piece of plastic.  Such a clip to save so that you can get closer to the edge of the workpiece.  The controller of the machine is completely galvanically isolated from the mechanics of the machine and even with the USB port of the computer with which it works.  This is so as not to kill the brains with statics, when you saw the plastic and that the interference did not affect the transfer via USB. <br><br><h4>  Here is the tool I use for boards: </h4><br><img src="https://habrastorage.org/webt/ah/wp/ij/ahwpijbdw4t3uyqgnfg1bkchdre.jpeg" alt="image"><br><br><ol><li>  Engraving cutter. </li><li>  "Corn" cutter.  I cut out the outlines of the board, large holes and cuts for her, and for very rough demolition of copper.  Nibbles textolite like butter. </li><li>  Normal drill. </li></ol><br>  There is also a cutter with a spring for working with a mask (for varnish), but it has not yet been used. <br><br><h4>  Here is the finished transmitter board: </h4><br><img src="https://habrastorage.org/webt/ov/8e/ob/ov8eob7cqgcafv7_sj1txguiy28.jpeg" alt="image"><br><br><h4>  And here everything is already integrated into the handle of the vacuum cleaner </h4><br> <a href=""><img src="https://habrastorage.org/webt/mk/2d/ah/mk2dahd0bfzpn4x_zeqwffqydn8.jpeg"></a> <br><br>  Powered by a lithium can, a micro USB charger is also integrated.  Then I will make similar boards of transmitters for integration into the machines.  But there will still be synchronization of the inclusion of a vacuum cleaner with the inclusion of the machine. <br><br>  Somehow like this.  Congratulations to all with the early start of the night from Friday to Monday! <br><br>  Beginning of the story: <br><br>  <a href="https://habr.com/post/423267/">Clean in the boom workshop.</a>  <a href="https://habr.com/post/423267/">Part 1</a> </div><p>Source: <a href="https://habr.com/ru/post/423995/">https://habr.com/ru/post/423995/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423985/index.html">Roskomnadzor proposes to abolish network neutrality in 5G networks</a></li>
<li><a href="../423987/index.html">How to become a Java programmer</a></li>
<li><a href="../423989/index.html">VariFlight ADS-B - Flightradar in Chinese</a></li>
<li><a href="../423991/index.html">Apple's App Store Subscription Management Secrets</a></li>
<li><a href="../423993/index.html">How to draw a black hole. Geodesic ray tracing in a curved space-time</a></li>
<li><a href="../423997/index.html">IT Crimea: a new technology park in Sevastopol - it will start working at the end of this year</a></li>
<li><a href="../423999/index.html">The data of Windows users on a PC with touch input is written to a separate file.</a></li>
<li><a href="../424001/index.html">Zimbra and spam protection</a></li>
<li><a href="../424003/index.html">As Apple comes out of an endless loop. Old campus stories</a></li>
<li><a href="../424005/index.html">Rapid prototypes on Flutter and Kotlin / Native</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>