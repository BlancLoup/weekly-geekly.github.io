<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Constructing the Julia Set</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hey. Passions are raging, the end of the year, sessions, deadlines, the new year, as well as censorship penetrates into all layers of the Internet, wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Constructing the Julia Set</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ade/42c/dc5/ade42cdc50f69f1dd35544356afa5f3d.jpg" align="right">  Hey.  Passions are raging, the end of the year, sessions, deadlines, the new year, as well as censorship penetrates into all layers of the Internet, which can not but grieve.  <a href="http://tjournal.ru/paper/deniskin">Habr is no longer a cake</a> .  I just wanted to write that I do not agree with this approach, but then I would just be banned.  So you have to write interesting content.  Although if you are banned because of the preface to the post about Julia's set, well, then the remains of the cake have fallen out and there is no chance. <br><br>  So back to the topic of the post.  I have long wanted to learn a little more about complex numbers, and not just that the root of minus one is i.  Particularly interesting were figures with a fractal structure, I wanted to understand what it means and how to make such visualization.  Somewhere on the shelf was a book on the <a href="https://class.coursera.org/complexanalysis-001/">complex function of the complex</a> , as well as a <a href="https://class.coursera.org/complexanalysis-001/">course on complex analysis on the cursor</a> , and a little free time from work appeared.  Let's get started <br><a name="habracut"></a><br><h4>  Function iteration </h4><br>  Before you write an algorithm, you will have to learn a few basic concepts.  We begin with the concept of iterating the function <b>f</b> .  We introduce the following notation for the <a href="http://en.wikipedia.org/wiki/Iterated_function">nth iteration of the function</a> <b>f</b> : <br><img src="https://habrastorage.org/getpro/habr/post_images/834/7ec/5bc/8347ec5bc01298c034e201fe1c28f55f.gif"><br><ul><li>  where <b>‚óã</b> is the <a href="http://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25BE%25D0%25B7%25D0%25B8%25D1%2586%25D0%25B8%25D1%258F_%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25B9">composition of functions</a> </li></ul><br><br>  The zero <a href="http://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25BE%25D0%25B6%25D0%25B4%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BE%25D1%2582%25D0%25BE%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">mapping</a> is the <a href="http://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25BE%25D0%25B6%25D0%25B4%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BE%25D1%2582%25D0%25BE%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">identity mapping</a> : <br><img src="https://habrastorage.org/getpro/habr/post_images/8ab/fbc/cb7/8abfbccb7e7a9389fd86504bd4bc9b96.gif">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are many <a href="http://en.wikipedia.org/wiki/Fixed-point_theorem">theorems about fixed points of</a> certain types of mappings; let us recall what a fixed point of some mapping <b>g is</b> , this is a solution to the following equation: <br><img src="https://habrastorage.org/getpro/habr/post_images/997/374/68f/99737468fc25e39cde4117c85aa55245.gif"><br><br>  Similarly, for iterating a function, a <a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B5%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25B2%25D0%25B8%25D0%25B6%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2582%25D0%25BE%25D1%2587%25D0%25BA%25D0%25B0">attracting point</a> is introduced ‚Äî such a point from the domain of the function <b>f</b> , that the sequence value of the iterations of the function <b>f</b> converges to some fixed point of the map <b>f</b> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6bc/64a/36b/6bc64a36b276cd6dedb3eca2bc039119.gif"><br><br><ul><li>  where <b>y</b> is some point close enough to the point <b>x</b> </li></ul><br><br>  The set of all <b>y</b> satisfying the previous condition is called the limit set of the point <b>x</b> under the action of iteration of the function <b>f</b> . <br><br>  As a rule, it is of interest to study the sequence of functions formed by iterations (a similar idea can be seen in <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_%25D0%259D%25D1%258C%25D1%258E%25D1%2582%25D0%25BE%25D0%25BD%25D0%25B0">Newton's method</a> , the desired solution turns out to be the attracting fixed point of the constructed map, and therefore can be found as the limit of the sequence of iterations.) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2c1/181/532/2c1181532aa646e05ee1ff36f588d3f1.gif"><br><br>  as well as a sequence of values ‚Äã‚Äãcalculated at some starting point <br><br><img src="https://habrastorage.org/getpro/habr/post_images/516/207/352/516207352d991cbf19ebbf7652a61858.gif"><br><br>  For a complex world, visualizing the iterative convergence of the point <b>y</b> to <b>x</b> under the action of the iteration of the function <b>f is a</b> bit problematic, all the same 4d, but for the real world the picture is only 2d (the red path diverges while the blue converges to a fixed point). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c0e/e6f/9b8/c0ee6f9b8de6bad84062599672f4a162.png"><br><br>  So, the first pebble necessary for understanding the Julia set is laid, we proceed to the next. <br><br><h4>  Quadratic complex polynomial </h4><br><br>  In general, the Julia set is constructed for a function of the form <br><br><img src="https://habrastorage.org/getpro/habr/post_images/000/d5f/168/000d5f16895bd03f9212fe4a4f892227.gif"><br><br><ul><li>  where <b>p</b> and <b>q</b> are complex polynomials </li></ul><br><br>  We will simplify the problem, and we will build the Julia set only for a quadratic polynomial.  A quadratic complex polynomial in general form is as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/394/fc0/7a7/394fc07a7b83378c116b57a16f24f434.gif"><br><br>  There is also the concept of a unitary ( <b>a = 1</b> ) centered ( <b>b = 0</b> ) form of a quadratic polynomial. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/111/829/407/111829407b6200bdee4391ff106d4e39.gif"><br><br>  Introduce the following mapping <b>œÜ</b> , and find its inverse mapping: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1b/59e/719/c1b59e7196f4405e7b9ab74ee289afd8.gif"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c1/fce/b1a/4c1fceb1aba46f8b22221608ae9ff5b2.gif"><br><br>  Consider the following expression <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f39/6e4/d79/f396e4d79e8c378105ffd77cb0f157ea.gif"><br><br>  It is easy to see that the last expression resembles a quadratic polynomial in the general form of <b>p (z)</b> , let's find a <b>c</b> such that the resulting expression is reduced to a quadratic polynomial of general form <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9fc/3e4/855/9fc3e485594e0978a28331bb909cd634.gif"><br><br>  Thus, we have shown that with the above replacement <b>c</b> , a generalized polynomial can be written as <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b1e/890/71e/b1e89071e7690598f45cbe751d7c6ce5.gif"><br><br><h4>  Behavior of a quadratic polynomial under the action of iterations </h4><br>  We turn to the third pebble base for understanding the Julia set.  Consider the second iteration of the complex quadratic polynomial <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebd/5e0/c51/ebd5e0c5177dc7777b80515641a51696.gif"><br><br>  Not hard to show that <br><br><img src="https://habrastorage.org/getpro/habr/post_images/190/b91/a49/190b91a49f0e98207332199690894e7c.gif"><br><br>  And just here we combine all three points, let's formulate a conclusion: <i>in order to investigate the behavior of a quadratic polynomial under the action of iterations, it is enough to examine it in a unitary centered form, and not in general form</i> .  And this is really cool, because in general, we have as many as three coefficients, and in the unitary centered form only one. <br><br><h4>  Chaotic and normal behavior </h4><br><br>  Soon it will be possible to give a definition of Julia's set.  We will consider more intuitive definitions than strictly mathematical ones.  But first, consider the concept of sustainability.  The solution of a certain differential equation is called stable if the behavior of the solution with conditions close to the initial conditions is <i>not much different</i> from the behavior of the original solution.  It is not difficult to guess that all the salt in the phrase is <i>not much different</i> .  In general, various types of stability are distinguished, for example, Lyapunov stability is involved in the definition of the Julia set (this clearer definition follows from <a href="http://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B5%25D0%25BC%25D0%25B0_%25D0%259C%25D0%25BE%25D0%25BD%25D1%2582%25D0%25B5%25D0%25BB%25D1%258F_%25D0%25BE_%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25B0%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE%25D0%25BC_%25D1%2581%25D0%25B5%25D0%25BC%25D0%25B5%25D0%25B9%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5_%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25B9">the Montel theorem on a compact family of functions</a> ), but we will not even go into the essence of the differences in stability, here the main thing is to understand the idea.  Let's try to illustrate it.  To begin with, let's take a look at the intuitive perception of stability, here the blue and yellow trajectories of points with a small change behave almost the same, while for the red trajectory, a small change leads in a completely different direction. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/653/3ef/fe9/6533effe9082fff08acef5eadd602a1f.png"><br><br>  Let's consider the following polynomial <b>f (z) = z <sup>2</sup> - 1 + 0.213i</b> , and construct a trajectory for 100 iterations with <font color="red"><b>z <sub>0</sub> = 0.3 + 0.2 i</b></font> and <font color="blue"><b>z <sub>0</sub> = 0.31 + 0.2 i</b></font> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3be/6ed/00e/3be6ed00e9b07242c7e82903f215bc6f.png"><br><br>  In this example, you see that a small change in the initial condition resulted in a divergence of the trajectories, we call this behavior chaotic in a certain neighborhood of the initial point, i.e.  behavior strongly depends on small changes in the initial conditions.  While the behavior under which stability is maintained, i.e.  small changes in the initial conditions do not strongly affect the behavior in general, we will call normal, as in the following example.  Consider the following polynomial <b>f (z) = z <sup>2</sup> - 1 + 0.2i</b> (just slightly changed the constant <b>c</b> ), and construct a trajectory for 100 iterations at <font color="red"><b>z <sub>0</sub> = 0.3 + 0.2i</b></font> and <font color="blue"><b>z <sub>0</sub> = 0.31 + 0.2i</b></font> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c5/222/986/6c522298630a7c55810853b2721d6503.png"><br><br><h4>  Fatu, Julia and Mandelbrot sets </h4><br><br><ul><li>  <b>The Fatu set of the</b> polynomial <b>f (z) = z <sup>2</sup> + c</b> is a subset of the set of complex numbers, for each point of which, the behavior of the function under the action of iterations is <b>normal</b> , i.e.  the trajectory of points generated by iterations does not change much with changing initial conditions in some small neighborhood of the initial point.  Denoted by <b>f (f)</b> . </li><li>  <b>The Julia set of the</b> polynomial <b>f (z) = z <sup>2</sup> + c,</b> respectively, is a subset of the set of complex numbers, for each point of which, the behavior of the function under the action of iterations is <b>chaotic</b> ;  small changes in the initial conditions in some small neighborhood of the initial point, significantly affect the trajectory.  Denoted by <b>j (f)</b> </li><li>  <b>The Mandelbrot set</b> is such a set of parameters <b>c of the</b> polynomial <b>f (z) = z <sup>2</sup> + c</b> for which the Julia set <b><a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B2%25D1%258F%25D0%25B7%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">is connected</a></b> . </li></ul><br><br><h4>  Attractor Pool </h4><br><br>  So we learned the meaning of the Julia set, we can proceed to the algorithm for constructing such a set.  But for this, it is necessary first to introduce some other definitions. <br><br><ul><li>  <a href="http://en.wikipedia.org/wiki/Attractor">An attractor</a> is a set of states of a dynamic system, in the direction of which the system develops over time.  In our case, we can understand by the attractor a subset of fixed points to which sequences of iterations of the function converge, regardless of the initial conditions. </li><li>  <b>The basin of an attractor of a</b> point <b>z of a</b> function <b>f</b> is a subset of points from a neighborhood of <b>z</b> (denoted as <b>A (z)</b> ), such that any trajectory started at one of these points converges to a point <b>z</b> </li><li>  The pool of an attractor to infinity <b>A (‚àû) is the</b> set of those points <b>z</b> for which the trajectories go to infinity, that is,  in other words, they do not converge to a fixed point, nor do they oscillate between two or more periodic points (a fixed point is a periodic point with a period equal to one). </li></ul><br><br>  Consider <b>A (‚àû)</b> in the context of our reasoning for some polynomial <b>f (z) = z <sup>2</sup> + c</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/887/f50/d9f/887f50d9fdaae6e1b93cf4230bba1a9d.gif"><br><br>  It turns out that the following theorem exists.  <i>The set <b>A (‚àû)</b> (in the context described above) is <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D1%2582%25D0%25BA%25D1%2580%25D1%258B%25D1%2582%25D0%25BE%25D0%25B5_%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">open</a> , <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B2%25D1%258F%25D0%25B7%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">connected</a> and <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2587%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5%2520%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">unbounded</a> .</i>  <i>It is fully contained in the <b>set of veils</b> .</i>  <i><b>Julia set</b> coincides with the <a href="http://ru.wikipedia.org/wiki/%25D0%2593%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2586%25D0%25B0_(%25D1%2582%25D0%25BE%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BE%25D0%25B3%25D0%25B8%25D1%258F)">boundary</a> <b>A (‚àû)</b> , which is a <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BC%25D0%25BA%25D0%25BD%25D1%2583%25D1%2582%25D0%25BE%25D0%25B5_%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">closed</a> and <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2587%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5%2520%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">bounded</a> subset of all complex numbers.</i> <br><br><h4>  Constructing the Julia Set </h4><br><br>  I remind you that we will write an algorithm for constructing the Julia set of <b>quadratic dynamics</b> , and not any function.  So, we learned that the <b>Julia set</b> coincides with the <a href="http://ru.wikipedia.org/wiki/%25D0%2593%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2586%25D0%25B0_(%25D1%2582%25D0%25BE%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BE%25D0%25B3%25D0%25B8%25D1%258F)">boundary</a> <b>A (‚àû)</b> , which is a <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BC%25D0%25BA%25D0%25BD%25D1%2583%25D1%2582%25D0%25BE%25D0%25B5_%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">closed</a> and <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2587%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5%2520%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">bounded</a> subset of all complex numbers, i.e.  Julia's set is also closed and bounded.  Let us denote as follows the subset of complex numbers that is generated by iterations of the function <b>f</b> and remains bounded.  We call such a set a <b>filled Julia set</b> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d4c/485/b3d/d4c485b3de0f5037903157f4085e7636.gif"><br><br>  And the last theorem that we need sounds like this: <br><ul><li>  Let some quadratic polynomial of the form <b>f (z) = z <sup>2</sup> + c be given</b> </li><li>  denote <img src="https://habrastorage.org/getpro/habr/post_images/464/d14/e04/464d14e04651a47d7e8e3827d34792f3.gif"></li><li>  then for some point <img src="https://habrastorage.org/getpro/habr/post_images/31e/54b/63f/31e54b63fb7518fb26a54b14c9d0fdf0.gif">  and <b>n&gt; 0</b> the following condition is satisfied </li><li><img src="https://habrastorage.org/getpro/habr/post_images/3b1/f3f/8d3/3b1f3f8d3e71a3dce02aad017a798705.gif"></li><li>  those.  if the module of the nth iteration is greater than <b>R</b> , then the iterations of the function <b>f</b> diverge, this is equivalent to the fact that the point <b>z <sub>0</sub></b> enters the pool of the attractor to infinity, which means that <b>z <sub>0 is</sub></b> not a point of the filled Julia set </li></ul><br><br>  In addition to the algorithm itself, it can be concluded from this theorem that the entire Julia set is inside a ball of radius <b>R</b> with center at the origin. <br><br>  PS: approximately here lovers of design and golden sections, mystics and occult, will notice that with <b>f (z) = z <sup>2</sup> + 1</b> , the threshold R is equal to the golden section <b>o_0</b> <br><br><h4>  Algorithm </h4><br><ol><li>  Choose <b>c</b> to set the polynomial <b>f (z) = z <sup>2</sup> + s</b> </li><li>  Calculate <b>R</b> for a given polynomial <b>f (z) = z <sup>2</sup> + s</b> </li><li>  We select the maxIter parameter to designate the maximum iteration, obviously the higher it is, the better the accuracy, the slower the algorithm </li><li>  We generate an array of colors, the total maxIter pieces, say from less bright to brighter, we denote by color, how far away is the point from the Julia set </li><li>  For each point, we calculate whether it is part of the filled Julia set or not, as well as the iteration number at which the threshold was exceeded </li><li>  if <b>| z |</b>  <b>&gt; R</b> then use the first color, then use the light on which iteration number the threshold was exceeded </li></ol><br><br><div class="spoiler">  <b class="spoiler_title">Julia set generation procedure</b> <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Generate bmp with Julia set </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="c"&gt;</span></span></span><span class="hljs-comment">parameter of square dynamics</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="w"&gt;</span></span></span><span class="hljs-comment">width of bmp</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="h"&gt;</span></span></span><span class="hljs-comment">height of bmp</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="maxIter"&gt;</span></span></span><span class="hljs-comment">max iterations of function</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="xMin"&gt;</span></span></span><span class="hljs-comment">window in complex plane</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="yMin"&gt;</span></span></span><span class="hljs-comment">window in complex plane</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="xMax"&gt;</span></span></span><span class="hljs-comment">window in complex plane</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="yMax"&gt;</span></span></span><span class="hljs-comment">window in complex plane</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;returns&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/returns&gt;</span></span></span><span class="hljs-comment"> static XBitmap PlotJuliaSet(ComplexNumber c, int w, int h, int maxIter, double xMin = Double.NaN, double yMin = Double.NaN, double xMax = Double.NaN, double yMax = Double.NaN) { double r = CalculateR(c); if (Double.IsNaN(xMin) || Double.IsNaN(xMax) || Double.IsNaN(yMin) || Double.IsNaN(yMax)) { xMin = -r; yMin = -r; xMax = r; yMax = r; } Logger.Instance.Log("R = " + r); double xStep = Math.Abs(xMax - xMin) / w; double yStep = Math.Abs(yMax - yMin) / h; XBitmap bmp = new XBitmap(w, h); IDictionary</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;int, IDictionary&lt;int, int&gt;</span></span></span><span class="hljs-comment">&gt; xyIdx = new Dictionary</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;int, IDictionary&lt;int, int&gt;</span></span></span><span class="hljs-comment">&gt;(); int maxIdx = 0; for (int i = 0; i </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt; w; i++) { xyIdx.Add(i, new Dictionary&lt;int, int&gt;</span></span></span><span class="hljs-comment">()); for (int j = 0; j </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt; h; j++) { double x = xMin + i * xStep; double y = yMin + j * yStep; ComplexNumber z = new ComplexNumber(x, y); IList&lt;ComplexNumber&gt;</span></span></span><span class="hljs-comment"> zIter = SqPolyIteration(z, c, maxIter, r); int idx = zIter.Count - 1; if (maxIdx </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt; idx) { maxIdx = idx; } xyIdx[i].Add(j, idx); } } for (int i = 0; i &lt; w; i++) { for (int j = 0; j &lt; h; j++) { int idx = xyIdx[i][j]; double x = xMin + i * xStep; double y = yMin + j * yStep; ComplexNumber z = new ComplexNumber(x, y); bmp.SetPixel(w - i - 1, j, ComplexHeatMap(idx, 0, maxIdx, z, r)); } } return bmp; } private static IList&lt;ComplexNumber&gt;</span></span></span><span class="hljs-comment"> SqPolyIteration(ComplexNumber z0, ComplexNumber c, int n, double r = 0) { IList</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;ComplexNumber&gt;</span></span></span><span class="hljs-comment"> res = new List</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;ComplexNumber&gt;</span></span></span><span class="hljs-comment">(); res.Add(z0); for (int i = 0; i </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt; n; i++) { if (r &gt;</span></span></span><span class="hljs-comment"> 0) { if (res.Last().Mod &gt; r) { break; } } res.Add(res.Last() * res.Last() + c); } return res; } private static double CalculateR(ComplexNumber c) { return (1 + Math.Sqrt(1 + 4*c.Mod))/2; } public static Color ComplexHeatMap(decimal value, decimal min, decimal max, ComplexNumber z, double r) { decimal val = (value - min) / (max - min); return Color.FromArgb( 255, Convert.ToByte(255 * val), Convert.ToByte(255 * (1 - val)), Convert.ToByte(255 * (z.Mod / r &gt; 1 ? 1 : z.Mod / r)) ); }</span></span></code> </pre> <br></div></div><br><br><h4>  results </h4><br><br>  Here are a few of the 5k to 5k pictures made using this feature. <br><ul><li>  <a href="https://drive.google.com/file/d/0B4bl7YMqDnViR01xbGY5UW9GbVU/edit%3Fusp%3Dsharing"><b>f (z) = z <sup>2</sup> - 0.8 + 0.156i</b></a> </li><li>  <a href="https://drive.google.com/file/d/0B4bl7YMqDnViMEpIUkJJaHV6YUE/edit%3Fusp%3Dsharing"><b>f (z) = z <sup>2</sup> + 0.285 + 0.01i</b></a> </li><li>  <a href="https://drive.google.com/file/d/0B4bl7YMqDnVicnNiU21GcW1CQm8/edit%3Fusp%3Dsharing"><b>f (z) = z <sup>2</sup> - 0.0085 + 0.71i</b></a> </li></ul><br><br>  And now let's look at the Julia set for the polynomial <b>f (z) = z <sup>2</sup> - 0.74543 + 0.11301i</b> , the whole set is contained in the ball of radius <b>1.50197192317588</b> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ba/ff3/fa9/6baff3fa93e60c56d12805dcb15128a6.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b95/18e/8dc/b9518e8dcea37ca72cf780110a38ddbd.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/501/703/0db/5017030dbf462736ed63616254b3c117.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/71f/b84/152/71fb841525517a39a84a8b55b5249d89.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/0fc/b6e/ab6/0fcb6eab697f88ea638fd29f56f7a10f.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c5/a32/d02/8c5a32d02ed0ff69ea4623640f3daa5a.png"><br><br>  Approximately on this picture it seems that the limit of accuracy has been reached, and all the red elements belong to the set of Julia.  But it was not there, we increase the maxIter parameter, and we get an even more accurate approximation.  In general, you can continue indefinitely.  No kidding -) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa4/31b/1c5/fa431b1c5f89f1a72247d9967c6da3bf.png"></div><p>Source: <a href="https://habr.com/ru/post/206516/">https://habr.com/ru/post/206516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../206506/index.html">Online Trading Gadgets</a></li>
<li><a href="../206508/index.html">How we made reading letters safer: Content Security Policy in Yandex.Mail</a></li>
<li><a href="../206510/index.html">Mathematical straightening</a></li>
<li><a href="../206512/index.html">Top 7 cases of downtime known services and resources in 2013</a></li>
<li><a href="../206514/index.html">Piwik 2.0 was released</a></li>
<li><a href="../206518/index.html">Installing Sailfish OS on Nokia N9</a></li>
<li><a href="../206522/index.html">Very interesting video about StarlingJS + Sublime + COLT</a></li>
<li><a href="../206524/index.html">MetaPro - new augmented reality glasses</a></li>
<li><a href="../206526/index.html">Invisible.js - some models on both client and server</a></li>
<li><a href="../206528/index.html">Interview with a twelve-year game developer + author</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>