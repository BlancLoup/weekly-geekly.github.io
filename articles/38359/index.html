<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What can PHP know about the visitor's browser?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is it about? 
 Is it possible to find out more detailed information about the visitor's browser besides the line contained in $ _SERVER ["HTTP_US...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What can PHP know about the visitor's browser?</h1><div class="post__text post__text-html js-mediator-article"><h4>  What is it about? </h4><br>  Is it possible to find out more detailed information about the visitor's browser besides the line contained in <i>$ _SERVER ["HTTP_USER_AGENT"]</i> : does java, applets, style sheets and frames support?  Or maybe it all went guglobot? <br><a name="habracut"></a><br><br><h4>  Prehistory </h4><br>  The customer wanted it to show his favorite logo with a spark of light running through it when entering the site ... I couldn‚Äôt persuade the person to abandon this idea, but in the end we decided that this joy would be displayed only once, and only when entering home page.  If a person came to the site from a search engine, he immediately goes to the page.  If he manually enters the address into the browser, he is redirected to the page with the animation.  After a successful display, a marker is written in the cookie, and the video is no longer loaded.  But ... If a person does not go to the site, but a search engine, he will not write himself a cookie.  Therefore, he will always stumble upon a page with animation, and we will not see ourselves in the search engine results.  And why should the company see the company's logo? :) <br><br><h4>  How can I find out anything about the client browser </h4><br>  The problem was finally solved by searching for the substring of spider names of several well-known search engines in the <i>$ _SERVER ["HTTP_USER_AGENT"]</i> variable.  But before that, I walked around <a href="http://php.net/">mana</a> and found an interesting function <a href="http://ua2.php.net/get_browser">get_browser ()</a> .  She knows how to produce an array of browser parameters of our site‚Äôs guest, but I still don‚Äôt understand the purpose of which is half :) The only subtlety of this function is that it requires a fresh version of <i>browscap.ini</i> file on the host, as well as <i>php.ini</i> settings .  It is obvious that our lazy (please do not be offended) admin administrators constantly update this file, so they usually block it and the function is simply not available.  You can check this by looking in <i>phpinfo ()</i> , finding the <i>browscap</i> directive <i>there</i> , and not at all surprised that ‚Äúno value‚Äù proudly flaunts in front of it, proceed to the next paragraph. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What to do </h4><br>  First we need the <i>browscap.ini</i> file <i>itself</i> .  It can be downloaded from <a href="http://browsers.garykeith.com/">http://browsers.garykeith.com/</a> .  Maybe it is somewhere else, but this source is recommended for downloading by PHP itself, so we use it. <br>  The question arises: where do we actually attach it now?  The admin will not allow us to the server, and will not allow picking in the settings.  In this, it would be necessary to look for another option.  And there were two of them on the net. <br><ul><li>  <a href="http://code.google.com/p/phpbrowscap/">Browser Capabilities PHP Project</a> - PHP5 ONLY </li><li>  <a href="http://alexandre.alapetite.net/doc-alex/php-local-browscap/index.en.html">Alexandre Alapetite's version</a> </li></ul><br>  Here are the detailed and simple instructions for launching.  In short, it remains to download the right library, connect to the right place, and call the appropriate function.  For the <i>Browser Capabilities PHP Project, the</i> call looks like this: <br><br> <code>if(ini_get('browscap')) <br> { <br> //   <br> <br> /*   */ <br> //          <br> echo " -   !"; <br> /*   -   :)*/ <br> <br> $browserInfo=get_browser(); <br> <br> } <br> else <br> { <br> //   <br> require_once('browscap.php'); <br> $bc = new Browscap('path/to/the/cache/dir'); <br> $browserInfo=$bc-&gt;getBrowser(); <br> <br> } <br></code> <br><br>  as a result, we get about the following <br> <code>stdClass Object <br> ( <br> [browser_name] =&gt; Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_2; en-us) AppleWebKit/525.18 (KHTML, like Gecko) Version/3.1.1 Safari/525.18 <br> [browser_name_regex] =&gt; ^mozilla/5\.0 \(macintosh; .; .*mac os x.*\) applewebkit/.* \(.*\) version/3\.1.* safari/.*$ <br> [browser_name_pattern] =&gt; Mozilla/5.0 (Macintosh; ?; *Mac OS X*) AppleWebKit/* (*) Version/3.1* Safari/* <br> [Parent] =&gt; Safari 3.1 <br> [Platform] =&gt; MacOSX <br> [Browser] =&gt; Safari <br> [Version] =&gt; 3.1 <br> [MajorVer] =&gt; 3 <br> [MinorVer] =&gt; 1 <br> [Frames] =&gt; 1 <br> [IFrames] =&gt; 1 <br> [Tables] =&gt; 1 <br> [Cookies] =&gt; 1 <br> [BackgroundSounds] =&gt; 1 <br> [JavaApplets] =&gt; 1 <br> [JavaScript] =&gt; 1 <br> [CSS] =&gt; 2 <br> [CssVersion] =&gt; 2 <br> [supportsCSS] =&gt; 1 <br> [Alpha] =&gt; <br> [Beta] =&gt; <br> [Win16] =&gt; <br> [Win32] =&gt; <br> [Win64] =&gt; <br> [AuthenticodeUpdate] =&gt; <br> [CDF] =&gt; <br> [VBScript] =&gt; <br> [ActiveXControls] =&gt; <br> [Stripper] =&gt; <br> [isBanned] =&gt; <br> [WAP] =&gt; <br> [isMobileDevice] =&gt; <br> [isSyndicationReader] =&gt; <br> [Crawler] =&gt; <br> [AOL] =&gt; <br> [aolVersion] =&gt; 0 <br> [netCLR] =&gt; <br> [ClrVersion] =&gt; 0 <br> ) <br></code> <br><br>  <b>UPD.</b>  The data obtained only indicate that the browser supports some technology, and not about its availability, since the <i>browscap.ini</i> file is essentially a database of all web clients, in which, by the value of the browser‚Äôs User-Agent, information about the technologies supported by this browser is provided.  That is, for modern browsers, when cookies and Java are disabled, the corresponding parameters will still return a unit. <br><br>  Where to use this function, I hope everyone will find for himself :) <br><br></div><p>Source: <a href="https://habr.com/ru/post/38359/">https://habr.com/ru/post/38359/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../38347/index.html">Warm USB shawl.</a></li>
<li><a href="../38349/index.html">Word processors</a></li>
<li><a href="../38352/index.html">UFO on mozilla-europe.org</a></li>
<li><a href="../38356/index.html">Person: Steve Jobs</a></li>
<li><a href="../38358/index.html">Rumors: iPod, MacBook, MacBook Pro and iMac lines will be updated in the fall</a></li>
<li><a href="../38361/index.html">Martian Passion</a></li>
<li><a href="../38362/index.html">SWUSE - design creation</a></li>
<li><a href="../38367/index.html">Accelerate JavaScript (TraceMonkey) in Firefox, without disabling extensions.</a></li>
<li><a href="../38368/index.html">Fighting sysprep, or how to make your life easier with Windows Vista</a></li>
<li><a href="../38369/index.html">The times when computers were no longer big, but man were man and stuff like that.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>