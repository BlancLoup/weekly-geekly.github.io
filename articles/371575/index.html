<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The control unit preheater Webasto (Arduino + Webasto = Ardubasto)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I installed on the car before the starting heater Webasto. After installation, it turned out that it was not controlled by a discrete signal (as in my...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The control unit preheater Webasto (Arduino + Webasto = Ardubasto)</h1><div class="post__text post__text-html js-mediator-article">  I installed on the car before the starting heater Webasto.  After installation, it turned out that it was not controlled by a discrete signal (as in my previous car), but only via the W-bus digital bus.  The electrical parameters of the W-bus bus are analogous to the K-line bus and there is an integrated K-line converter - RS232TTL for it - this is a L9637D chip.  On this chip, based on the Arduino, and it was decided to make the heater control.  The task was complicated by the fact that Arduino only supports the transmission protocol on the serial port without parity, and the W-bus protocol works with the settings of the port 2400/8-E-1.  To circumvent this, waveforms of the Webasto start command were taken and commands for the Webasto were implemented with timing delays. <br><a name="habracut"></a><br>  Functions of the control unit: <br><br>  1) When power is supplied to the control unit through the normally open alarm output contacts (with remote control via SMS), the unit continuously sends a command to the W-bus to warm up. <br><br>  2) When connecting the Arduino to a computer via USB and using Webasto diagnostic software, you can diagnose, control and erase heater errors.  To do this, you need to load an empty sketch. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://yadi.sk/d/3DXbjbPhmf5Vj">Scheme of the device in the format of AutoCad.</a> <br>  <a href="https://yadi.sk/i/5WvUrLKwmf5Pd">Appearance</a> <br>  <a href="https://yadi.sk/d/312MjalMmf4vm">Sketch</a> <br><br>  It was the first fully functional implementation of the control unit. <br><br>  A further development, while not fully realized, is the performance of the following functions and characteristics of the device: <br><br>  1) To control the inclusion of SMS from the signaling unit Webasto - in the short-term contact of the contact signaling Arduino should stand on self-pickup for power during the operation of Webasto. <br>  2) Supplement the device with a monochrome display like Nokia 5110. <br>  3) Display the coolant temperature and voltage of the car battery received from Webasto via W-bus on the display. <br>  4) Display the status of the work Webasto <br>  5) Webasto shutdown should occur either at a sufficient coolant temperature or low voltage car battery. <br>  6) Sound alarm (melody) on / off Webasto, pressing a button, etc. <br>  7) Turn on / off Webasto from the button on the device. <br>  8) Running lights control - when a supply voltage of consumers of group 2 appears - switching on and when switching on dimensions or voltage drop of a car battery below 13.5 volts (polite light) - shutdown. <br><br>  All this is in principle implemented and described in <a href="https://yadi.sk/d/Rg3ukjyMmf7Gi">the</a> control <a href="https://yadi.sk/d/Rg3ukjyMmf7Gi">algorithm</a> e (the program format is yED). <br><br>  <a href="https://yadi.sk/d/06vSzXlGmf8fJ">Scheme in AutoCad format</a> <br>  <a href="https://yadi.sk/d/JiV7_8xwmf8hM">Signet</a> <br><br>  The device itself is <a href="https://yadi.sk/i/l6E5vnPBmf8VJ">front</a> <a href="https://yadi.sk/i/C5ftA8kNmf8Xb">view</a> and <a href="https://yadi.sk/i/C5ftA8kNmf8Xb">rear view.</a> <br>  implemented, but not fully debugged and there are problems with the display - the first one refused to work, the second one is also buggy.  Perhaps go to the OLED display. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/371575/">https://habr.com/ru/post/371575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../371561/index.html">"Bad advice" to publishers and game developers from localizers</a></li>
<li><a href="../371563/index.html">What annoys me in a macbook</a></li>
<li><a href="../371565/index.html">Programming microcomputer LEGO NXT Mindstorms 2.0. Introduction</a></li>
<li><a href="../371569/index.html">"Light" microchip and vertical expansion. How to improve energy efficiency of data center infrastructure</a></li>
<li><a href="../371573/index.html">Oculus Rift opened pre-orders of VR helmets</a></li>
<li><a href="../371577/index.html">British astronaut first enters space on January 15, 2016</a></li>
<li><a href="../371579/index.html">Space debris and time: visualization of the growth in the amount of cosmolom over the years</a></li>
<li><a href="../371581/index.html">Practical use of ROS on the Raspberry Pi - part 1</a></li>
<li><a href="../371583/index.html">Wearable with CES: Garmin, Fossil, HTC. A selection of gadgets from the final exhibition</a></li>
<li><a href="../371585/index.html">Pirates warn: in two years we can lose the hacked games</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>