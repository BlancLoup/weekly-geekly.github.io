<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bash completion for Composer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all. 

 Dedicated to those who use Composer, but faced with the fact that when choosing a package to install (require) you need to enter t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bash completion for Composer</h1><div class="post__text post__text-html js-mediator-article"> Good day to all. <br><br>  Dedicated to those who use Composer, but faced with the fact that when choosing a package to install (require) you need to enter the version of this package.  It is not very convenient to search for it somewhere constantly, even using * it is not always possible to install everything correctly. <br><br>  Thus, I decided to publish an auto-substitution script. <br>  At the moment, it requires the substitution of package names, and if the package is already substituted, then the version of this package is only for the require command. <br><a name="habracut"></a><br>  The essence of the idea was simple - to substitute the package name, then substitute its version, and if the previous is not the package name, then this is the version, then try again to find the package name. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The script itself is usually on the way (you can make a symlink there, well, or someone like that) <br> <code>/usr/share/bash-completion/completions</code> <br> <div class="spoiler">  <b class="spoiler_title">Script content</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Composer completion _composer() { local cur prev words cword _init_completion || return local special i for (( i=0; i &lt; ${#words[@]}-1; i++ )); do if [[ ${words[i]} == @(require) ]]; then special=${words[i]} fi done if [[ -n $special ]]; then if [[ $prev != $special ]]; then # ,       , #     COMPREPLY=( $( composer show $prev 2&gt;/dev/null | \ sed -r -e 's/\x1b\[[0-9]+m//g' | grep ^versions | \ sed -r -e 's/^versions : //' -e 's/, /\n/g' | grep "^$cur" | sort -u ) ) fi if [[ -z $COMPREPLY ]]; then #     ,        COMPREPLY=( $( composer show -a 2&gt;/dev/null | \ grep -v '^No composer' | grep "^$cur" | sort -u ) ) fi return 0 fi #     if [[ "$cur" == -* ]]; then COMPREPLY=( $( compgen -W '-h -q -v -V -n -d \ --help --quiet --verbose --version --ansi --no-ansi \ --no-interaction --profile --working-dir' -- "$cur" ) ) else COMPREPLY=( $( compgen -W 'about archive config create-project \ depends diagnose dump-autoload dumpautoload \ help init install list require search \ self-update selfupdate show status update validate' -- "$cur" ) ) fi return 0 } &amp;&amp; complete -F _composer composer #     composer</span></span></code> </pre><br></div></div><br>  <s>Of the minuses, I want to note a long response due to the fact that the composer itself slowly reads its repository.</s> <br>  The latter was partially corrected by caching the list of packages and their versions, but until the next update of the composer itself. <br>  It turns out that there is a possibility not to autocomplete into the line a package that is already on the list, but was not at the time of caching.  In this case, you must either delete the cache, or update the composer itself.  Something like this ... well, I think this is a compromise. <br><br>  Of course, it is necessary that Composer be installed in the system as a <code>composer</code> . <br>  Personally, I put it in / usr / local / bin and periodically update <code>sudo composer self-update</code> via <code>sudo composer self-update</code> . <br><br>  If anyone has a desire to add something to improve, then I ask on <a href="https://github.com/iArren/bash-comp4composer">Github</a> <br><br>  That's all. <br>  Thanks to all! </div><p>Source: <a href="https://habr.com/ru/post/176715/">https://habr.com/ru/post/176715/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../176703/index.html">Oracle fixes 42 Java vulnerabilities</a></li>
<li><a href="../176705/index.html">Samsung invites you to the presentation of the GALAXY S4 in Moscow!</a></li>
<li><a href="../176707/index.html">How to run a program without an operating system: part 3: Graphics</a></li>
<li><a href="../176711/index.html">How can companies lure IT professionals?</a></li>
<li><a href="../176713/index.html">YouTube introduced the function of "video recorder" to view the video, in honor of the 57th anniversary of the "video"</a></li>
<li><a href="../176717/index.html">1C image processing using the .Net framework when uploading to a website</a></li>
<li><a href="../176719/index.html">Setting the environment for building and testing the application in a closed perimeter</a></li>
<li><a href="../176721/index.html">EasyMapping, or JSON Journey</a></li>
<li><a href="../176723/index.html">Google will change the appearance of search results for Europe, "give odds" to competitive services</a></li>
<li><a href="../176725/index.html">Work in PHP with Tokenizer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>