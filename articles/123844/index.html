<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Importing messages from Twitter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When developing a site, you may need to get some of the latest posts (tweets) from Twitter. This can be either a personal tape of a regular user or th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Importing messages from Twitter</h1><div class="post__text post__text-html js-mediator-article">  When developing a site, you may need to get some of the latest posts (tweets) from Twitter.  This can be either a personal tape of a regular user or the official tape of a company. <br><br>  There are at least 2 ways to solve this problem. <br><a name="habracut"></a><br><h4>  Method 1: </h4><br>  <b>UPD:</b> This method no longer works. <br>  The first way is to get the RSS file with tweets from the tape. <br><br>  The first difficulty that can arise not only in this method is that work is possible only with <u>user_id</u> , and not just a login. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      User information by login can be easily obtained via XML. <br><br><pre><code class="php hljs">$username = <span class="hljs-string"><span class="hljs-string">'newpdv'</span></span>; $user_info = simplexml_load_file(<span class="hljs-string"><span class="hljs-string">'http://twitter.com/users/show.xml?screen_name='</span></span>.$username); $user_id = $user_info[<span class="hljs-number"><span class="hljs-number">0</span></span>]-&gt;id;</code> </pre> <br>  The resulting XML file stores all user information. <br><br>  Knowing <u>user_id</u> without much difficulty, you can get posts from the tape. <br><br><pre> <code class="php hljs">$timeline = simplexml_load_file(<span class="hljs-string"><span class="hljs-string">'http://twitter.com/statuses/user_timeline/'</span></span>.$user_id.<span class="hljs-string"><span class="hljs-string">'.rss'</span></span>);</code> </pre><br>  And display the latest posts. <br><br><pre> <code class="php hljs">$count = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>($i=<span class="hljs-number"><span class="hljs-number">0</span></span>; $i&lt;$count; $i++){ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;b&gt;'</span></span>.date(<span class="hljs-string"><span class="hljs-string">'dmY G:i'</span></span>,strtotime($timeline-&gt;channel-&gt;item[$i]-&gt;pubDate)).<span class="hljs-string"><span class="hljs-string">'&lt;/b&gt;&lt;/br&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $timeline-&gt;channel-&gt;item[$i]-&gt;title.<span class="hljs-string"><span class="hljs-string">'&lt;/br&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;a href="'</span></span>.$timeline-&gt;channel-&gt;item[$i]-&gt;link.<span class="hljs-string"><span class="hljs-string">'"&gt;Twitter&lt;/a&gt;&lt;/br&gt;&lt;/br&gt;'</span></span>; }</code> </pre><br><br><h4>  Method 2: </h4><br>  The second way is to use the Twitter API.  This method is more complex and requires registration, but using the API offers much more features. <br><br>  The first thing you need is to register the application Twittet on the page <a href="http://dev.twitter.com/apps/new">dev.twitter.com/apps/new</a> <br>  We are required to enter the application name, description, the site where the application will be applied, the type (in our case, Browser), the access mode (in our case, Read-only is enough) and, if necessary, the icon. <br><br>  After registration, we will be given the keys Consumer key and Consumer secret. <br><br>  To facilitate our work, we will use one of the ready-made libraries offered by Twitter called TwitterOAuth, written by Abraham Williams. <br>  Other libraries, including  for other programming languages, <a href="http://dev.twitter.com/pages/libraries">visit dev.twitter.com/pages/libraries</a> <br><br>  Download the TwitterOAuth library in the <u>config.php file and</u> specify the applications CONSUMER_KEY, CONSUMER_SECRET and OAUTH_CALLBACK obtained after registration. <br><br>  Having run the library for the first time, we will need to allow it to access Twitter by clicking on <u>Sign in with Twitter</u> , and on the Twitter page answering the question whether the application can access your page - Allow. <br><br>  Now let's edit index.php a bit for our task. <br><br><pre> <code class="php hljs">[...] $content = $connection-&gt;get(<span class="hljs-string"><span class="hljs-string">'account/verify_credentials'</span></span>); $count = <span class="hljs-number"><span class="hljs-number">3</span></span>; $timeline = $connection-&gt;get(<span class="hljs-string"><span class="hljs-string">'statuses/user_timeline'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'count'</span></span> =&gt; $count, <span class="hljs-string"><span class="hljs-string">'include_rts'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($timeline <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $twitt) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;b&gt;'</span></span>.date(<span class="hljs-string"><span class="hljs-string">'dmY G:i'</span></span>,strtotime($twitt-&gt;created_at)).<span class="hljs-string"><span class="hljs-string">'&lt;/b&gt;&lt;/br&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $twitt-&gt;text.<span class="hljs-string"><span class="hljs-string">'&lt;/br&gt;'</span></span>; }</code> </pre><br>  And we get what we need. <br><br><h4>  In addition </h4><br>  As noted <a href="http://habrahabr.ru/users/dharrya/" class="user_link">dharrya</a> , the use of any of the methods in its pure form can be irrational.  You should use Twitter caching in any way possible, be it a database or file system. <br><br><h4>  Conclusion </h4><br>  In my first article on Habr√©, there were two ways to get tweets from the tape. <br>  In terms of execution, both options are about the same (can be seen on screen). <br>  Choose you.  If you just need to get a list of the latest tweets, then the first method is much shorter and does not require any special actions, both from the developer and from the user.  If your requirements are not limited to these, then the huge API capabilities are what you need. </div><p>Source: <a href="https://habr.com/ru/post/123844/">https://habr.com/ru/post/123844/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123836/index.html">Open Source Hardware Initiative from CERN</a></li>
<li><a href="../123837/index.html">How do you think multitasking works on 80386?</a></li>
<li><a href="../123840/index.html">iPad / iPhone on a trip. Matching VPN and public network addresses</a></li>
<li><a href="../123841/index.html">Analytical center DriverPack Solution ranked notebooks that work best on battery power</a></li>
<li><a href="../123843/index.html">Verified by Visa or useless verification</a></li>
<li><a href="../123845/index.html">Regular expressions for validating common data types</a></li>
<li><a href="../123846/index.html">News from "Simple Business"</a></li>
<li><a href="../123848/index.html">Is the National Software Platform a new megapopil or will there be something useful?</a></li>
<li><a href="../123853/index.html">Why in the near future it will be impossible to work with electronic books in the same way as with paper</a></li>
<li><a href="../123854/index.html">Cut the Rope - first place in the Android Market. How much is earned?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>