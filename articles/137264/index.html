<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Context Free: language for generating images</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This picture is generated by the Context Free program according to the following description: 



startshape T // FLIGIZ background{b -1} tile {s 2.5}...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Context Free: language for generating images</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/3d5/ad3/2df/3d5ad32df84501b9745674c0810d67b2.jpg"><br><br>  <a href="http://www.contextfreeart.org/gallery/view.php%3Fid%3D1903">This picture is</a> generated by the Context Free program according to the following description: <br><br><pre><code class="hljs pgsql">startshape T // FLIGIZ background{b <span class="hljs-number"><span class="hljs-number">-1</span></span>} tile {s <span class="hljs-number"><span class="hljs-number">2.5</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> T {<span class="hljs-number"><span class="hljs-number">3</span></span>*{r <span class="hljs-number"><span class="hljs-number">120</span></span> hue <span class="hljs-number"><span class="hljs-number">30</span></span>}S{x <span class="hljs-number"><span class="hljs-number">.3</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> S <span class="hljs-number"><span class="hljs-number">3</span></span>{<span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{hue <span class="hljs-number"><span class="hljs-number">30</span></span>}<span class="hljs-number"><span class="hljs-number">4</span></span>*{r <span class="hljs-number"><span class="hljs-number">20</span></span> b<span class="hljs-number"><span class="hljs-number">.007</span></span> sat <span class="hljs-number"><span class="hljs-number">.1</span></span>}S[s<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.7</span></span>y<span class="hljs-number"><span class="hljs-number">.9</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> S {<span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{hue <span class="hljs-number"><span class="hljs-number">15</span></span>}<span class="hljs-number"><span class="hljs-number">9</span></span>*{r <span class="hljs-number"><span class="hljs-number">20</span></span> b<span class="hljs-number"><span class="hljs-number">.05</span></span> hue <span class="hljs-number"><span class="hljs-number">-3</span></span>}S[s<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.7</span></span>y<span class="hljs-number"><span class="hljs-number">.9</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> S {S{flip <span class="hljs-number"><span class="hljs-number">90</span></span>}}</code> </pre> <a name="habracut"></a><br>  To describe images, Context Free uses the context-free grammar programming language <a href="http://www.contextfreeart.org/mediawiki/index.php/Context_Free_Art:About">CFD</a> , created specifically for generating images.  Roughly speaking, this is a set of basic rules with only two terminals CIRCLE and SQUARE.  Rendering is performed using the Maxim Shemanarev <a href="http://www.antigrain.com/">Anti-Grain Geometry</a> library. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here are some other paintings from the Context Free Art <a href="http://www.contextfreeart.org/gallery">gallery</a> .  All works in the gallery are published under the <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/">Creative Commons license</a> (click on the link to the original). <br><br> <a href="http://www.contextfreeart.org/gallery/view.php%3Fid%3D2816"><img src="https://habrastorage.org/storage2/efe/189/953/efe189953c0dcb55a0f6636d8fb90dce.jpg"></a> <br>  <b>Code</b> <br><pre> <code class="hljs pgsql"> startshape <span class="hljs-keyword"><span class="hljs-keyword">START</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">START</span></span> { <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{} RAINBOW_SPLIT{hue <span class="hljs-number"><span class="hljs-number">0</span></span> sat <span class="hljs-number"><span class="hljs-number">0</span></span> b <span class="hljs-number"><span class="hljs-number">0</span></span>} RAINBOW_SPLIT{r <span class="hljs-number"><span class="hljs-number">180</span></span> hue <span class="hljs-number"><span class="hljs-number">120</span></span> sat <span class="hljs-number"><span class="hljs-number">0</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> RAINBOW_SPLIT{ RAINBOW{} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> RAINBOW_SPLIT{ RAINBOW_MINI{alpha <span class="hljs-number"><span class="hljs-number">-.9</span></span> y <span class="hljs-number"><span class="hljs-number">-.4</span></span> s <span class="hljs-number"><span class="hljs-number">.2</span></span> flip <span class="hljs-number"><span class="hljs-number">1</span></span> b <span class="hljs-number"><span class="hljs-number">-1</span></span>} RAINBOW{} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> RAINBOW{ SHADOW{} <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{} HIGHLIGHT{} RAINBOW_SPLIT{hue <span class="hljs-number"><span class="hljs-number">1.5</span></span> sat <span class="hljs-number"><span class="hljs-number">.1</span></span> s <span class="hljs-number"><span class="hljs-number">.99</span></span> b <span class="hljs-number"><span class="hljs-number">.001</span></span> x <span class="hljs-number"><span class="hljs-number">.09</span></span> r <span class="hljs-number"><span class="hljs-number">2.8</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> RAINBOW_MINI{ SHADOW{} <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{} HIGHLIGHT{} RAINBOW_MINI{alpha <span class="hljs-number"><span class="hljs-number">.1</span></span> hue <span class="hljs-number"><span class="hljs-number">2</span></span> s <span class="hljs-number"><span class="hljs-number">.98</span></span> x <span class="hljs-number"><span class="hljs-number">.3</span></span> r <span class="hljs-number"><span class="hljs-number">2.8</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> RAINBOW_MINI <span class="hljs-number"><span class="hljs-number">.04</span></span>{ SHADOW{} <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{} HIGHLIGHT{} RAINBOW_MINI{flip <span class="hljs-number"><span class="hljs-number">1</span></span> alpha <span class="hljs-number"><span class="hljs-number">.1</span></span> hue <span class="hljs-number"><span class="hljs-number">5</span></span> s <span class="hljs-number"><span class="hljs-number">.99</span></span> x <span class="hljs-number"><span class="hljs-number">.3</span></span> r <span class="hljs-number"><span class="hljs-number">2.8</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> SHADOW { <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{hue <span class="hljs-number"><span class="hljs-number">3</span></span> b <span class="hljs-number"><span class="hljs-number">-1</span></span> sat <span class="hljs-number"><span class="hljs-number">-.6</span></span> s <span class="hljs-number"><span class="hljs-number">1.1</span></span> y <span class="hljs-number"><span class="hljs-number">.04</span></span> alpha <span class="hljs-number"><span class="hljs-number">-.7</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> HIGHLIGHT { <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{ hue <span class="hljs-number"><span class="hljs-number">3</span></span> b <span class="hljs-number"><span class="hljs-number">.7</span></span> sat <span class="hljs-number"><span class="hljs-number">-.3</span></span> s <span class="hljs-number"><span class="hljs-number">.98</span></span> y <span class="hljs-number"><span class="hljs-number">.05</span></span>} <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{ hue <span class="hljs-number"><span class="hljs-number">3</span></span> b <span class="hljs-number"><span class="hljs-number">2</span></span> sat <span class="hljs-number"><span class="hljs-number">-.7</span></span> s <span class="hljs-number"><span class="hljs-number">.9</span></span> y <span class="hljs-number"><span class="hljs-number">.01</span></span>} }</code> </pre> <br><br> <a href="http://www.contextfreeart.org/gallery/view.php%3Fid%3D945"><img src="https://habrastorage.org/storage2/b99/d35/fa8/b99d35fa8bd55ffbacf42a3b870d55e1.png"></a> <br>  <b>Code</b> <br><pre> <code class="hljs pgsql"><span class="hljs-comment"><span class="hljs-comment">/* Ancient Scripts by Leaf Garland */</span></span> background { hue <span class="hljs-number"><span class="hljs-number">40</span></span> sat <span class="hljs-number"><span class="hljs-number">0.2</span></span> b <span class="hljs-number"><span class="hljs-number">-0.2</span></span>} startshape LINES <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> LINES { <span class="hljs-number"><span class="hljs-number">20</span></span> * {y <span class="hljs-number"><span class="hljs-number">-90</span></span>} NEWLINE {hue <span class="hljs-number"><span class="hljs-number">90</span></span> sat <span class="hljs-number"><span class="hljs-number">0.7</span></span> b <span class="hljs-number"><span class="hljs-number">0.2</span></span> a <span class="hljs-number"><span class="hljs-number">-0.5</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> NEWLINE { <span class="hljs-type"><span class="hljs-type">LINE</span></span> {y <span class="hljs-number"><span class="hljs-number">0</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> NEWLINE { <span class="hljs-type"><span class="hljs-type">LINE</span></span> {y <span class="hljs-number"><span class="hljs-number">20</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> NEWLINE { <span class="hljs-type"><span class="hljs-type">LINE</span></span> {y <span class="hljs-number"><span class="hljs-number">30</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">LINE</span></span> { <span class="hljs-number"><span class="hljs-number">50</span></span> * {x <span class="hljs-number"><span class="hljs-number">36</span></span>} <span class="hljs-type"><span class="hljs-type">CHAR</span></span> {} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">CHAR</span></span> <span class="hljs-number"><span class="hljs-number">0.3</span></span> { // space } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">CHAR</span></span> { <span class="hljs-number"><span class="hljs-number">2</span></span> * {x <span class="hljs-number"><span class="hljs-number">20</span></span> flip <span class="hljs-number"><span class="hljs-number">180</span></span>} STROKE {r <span class="hljs-number"><span class="hljs-number">90</span></span>} <span class="hljs-number"><span class="hljs-number">2</span></span> * {y <span class="hljs-number"><span class="hljs-number">20</span></span> flip <span class="hljs-number"><span class="hljs-number">180</span></span>} STROKE {} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">CHAR</span></span> { <span class="hljs-number"><span class="hljs-number">4</span></span> * {r <span class="hljs-number"><span class="hljs-number">60</span></span>} STROKE {} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">CHAR</span></span> { STROKE {r <span class="hljs-number"><span class="hljs-number">90</span></span>} <span class="hljs-number"><span class="hljs-number">3</span></span> * {y <span class="hljs-number"><span class="hljs-number">10</span></span> flip <span class="hljs-number"><span class="hljs-number">180</span></span>} STROKE {} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> STROKE { B {} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> STROKE { B {flip <span class="hljs-number"><span class="hljs-number">90</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> B <span class="hljs-number"><span class="hljs-number">30</span></span> { MARK {} B {x <span class="hljs-number"><span class="hljs-number">.6</span></span> r <span class="hljs-number"><span class="hljs-number">10</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> B <span class="hljs-number"><span class="hljs-number">30</span></span> { MARK {} B {x <span class="hljs-number"><span class="hljs-number">.6</span></span> r <span class="hljs-number"><span class="hljs-number">3</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> B <span class="hljs-number"><span class="hljs-number">250</span></span> { MARK {} B {x <span class="hljs-number"><span class="hljs-number">.9</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> B <span class="hljs-number"><span class="hljs-number">10</span></span> { MARK {} B {flip <span class="hljs-number"><span class="hljs-number">90</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> B <span class="hljs-number"><span class="hljs-number">10</span></span> { } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> MARK <span class="hljs-number"><span class="hljs-number">3</span></span> { <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span> {} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> MARK { <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span> {s <span class="hljs-number"><span class="hljs-number">2</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> MARK { SQUARE {s <span class="hljs-number"><span class="hljs-number">3</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> MARK { <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span> {s <span class="hljs-number"><span class="hljs-number">4</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> MARK <span class="hljs-number"><span class="hljs-number">0.01</span></span> { <span class="hljs-type"><span class="hljs-type">CIRCLE</span></span> {s <span class="hljs-number"><span class="hljs-number">7</span></span>} }</code> </pre> <br><br> <a href="http://www.contextfreeart.org/gallery/view.php%3Fid%3D1162"><img src="https://habrastorage.org/storage2/388/a6d/848/388a6d8482b33a8d6ac841bfabaf599c.jpg"></a> <br>  <b>Code</b> <br><pre> <code class="hljs pgsql">background{b <span class="hljs-number"><span class="hljs-number">-1</span></span>} startshape init <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> init{<span class="hljs-type"><span class="hljs-type">time</span></span>{z <span class="hljs-number"><span class="hljs-number">0</span></span> r <span class="hljs-number"><span class="hljs-number">-90</span></span> sat <span class="hljs-number"><span class="hljs-number">.5</span></span> |h <span class="hljs-number"><span class="hljs-number">220</span></span>}} //CONTROL <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span> {draw{} <span class="hljs-type"><span class="hljs-type">time</span></span>{r <span class="hljs-number"><span class="hljs-number">1</span></span> s <span class="hljs-number"><span class="hljs-number">.9991</span></span> b <span class="hljs-number"><span class="hljs-number">.1</span></span>| a <span class="hljs-number"><span class="hljs-number">.1</span></span>|}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span> {slow{|b <span class="hljs-number"><span class="hljs-number">-1</span></span> |a <span class="hljs-number"><span class="hljs-number">1</span></span> |sat <span class="hljs-number"><span class="hljs-number">1</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span> {slow{|b <span class="hljs-number"><span class="hljs-number">1</span></span> |a <span class="hljs-number"><span class="hljs-number">-1</span></span> |sat <span class="hljs-number"><span class="hljs-number">1</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> slow <span class="hljs-number"><span class="hljs-number">20</span></span> {draw{} slow{ r <span class="hljs-number"><span class="hljs-number">1</span></span> s <span class="hljs-number"><span class="hljs-number">.9991</span></span> b <span class="hljs-number"><span class="hljs-number">.03</span></span>| a <span class="hljs-number"><span class="hljs-number">.03</span></span>| h <span class="hljs-number"><span class="hljs-number">-1</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> slow {<span class="hljs-type"><span class="hljs-type">time</span></span>{|sat <span class="hljs-number"><span class="hljs-number">-1</span></span>}} //IMAGING <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> draw{ SQUARE[z <span class="hljs-number"><span class="hljs-number">0</span></span> x <span class="hljs-number"><span class="hljs-number">1</span></span> s <span class="hljs-number"><span class="hljs-number">.27</span></span> <span class="hljs-number"><span class="hljs-number">.018</span></span> x <span class="hljs-number"><span class="hljs-number">-.5</span></span> a <span class="hljs-number"><span class="hljs-number">1</span></span> h <span class="hljs-number"><span class="hljs-number">1</span></span>|] stars{z <span class="hljs-number"><span class="hljs-number">1</span></span> x <span class="hljs-number"><span class="hljs-number">.91</span></span>} cloud[z <span class="hljs-number"><span class="hljs-number">2</span></span> x <span class="hljs-number"><span class="hljs-number">.83</span></span> s <span class="hljs-number"><span class="hljs-number">.17</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> h <span class="hljs-number"><span class="hljs-number">.7</span></span>| a <span class="hljs-number"><span class="hljs-number">1</span></span> sat <span class="hljs-number"><span class="hljs-number">.3</span></span>|] ground[z <span class="hljs-number"><span class="hljs-number">3</span></span> x <span class="hljs-number"><span class="hljs-number">.73</span></span> s <span class="hljs-number"><span class="hljs-number">.1</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> ground{ SQUARE[s <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">.18</span></span> a <span class="hljs-number"><span class="hljs-number">1</span></span> b <span class="hljs-number"><span class="hljs-number">-.5</span></span>] highlight{s <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">.14</span></span>} stuff{z <span class="hljs-number"><span class="hljs-number">1</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> stuff <span class="hljs-number"><span class="hljs-number">5</span></span> {block[z <span class="hljs-number"><span class="hljs-number">79</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> s <span class="hljs-number"><span class="hljs-number">.7225</span></span> <span class="hljs-number"><span class="hljs-number">.2</span></span> x <span class="hljs-number"><span class="hljs-number">-.5</span></span> a <span class="hljs-number"><span class="hljs-number">1</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> stuff {bush[z <span class="hljs-number"><span class="hljs-number">86</span></span> x <span class="hljs-number"><span class="hljs-number">-.5</span></span> s <span class="hljs-number"><span class="hljs-number">1.62</span></span> r <span class="hljs-number"><span class="hljs-number">-90</span></span> b <span class="hljs-number"><span class="hljs-number">-.7</span></span>| a <span class="hljs-number"><span class="hljs-number">1</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> stuff {} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> block <span class="hljs-number"><span class="hljs-number">2</span></span> {block{b <span class="hljs-number"><span class="hljs-number">-.1</span></span>|}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> block <span class="hljs-number"><span class="hljs-number">3</span></span> {block[z <span class="hljs-number"><span class="hljs-number">-4</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> s <span class="hljs-number"><span class="hljs-number">.7225</span></span> x <span class="hljs-number"><span class="hljs-number">-.5</span></span> b <span class="hljs-number"><span class="hljs-number">.4</span></span>|]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> block <span class="hljs-number"><span class="hljs-number">1</span></span> {block2{} block[z <span class="hljs-number"><span class="hljs-number">-4</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> s <span class="hljs-number"><span class="hljs-number">.64</span></span> x <span class="hljs-number"><span class="hljs-number">-.5</span></span> b <span class="hljs-number"><span class="hljs-number">.4</span></span>|]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> block2 {block3[x <span class="hljs-number"><span class="hljs-number">-.5</span></span> s <span class="hljs-number"><span class="hljs-number">.5</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> h <span class="hljs-number"><span class="hljs-number">12</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> block2 {block3[x <span class="hljs-number"><span class="hljs-number">-.5</span></span> s <span class="hljs-number"><span class="hljs-number">.5</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> h <span class="hljs-number"><span class="hljs-number">-12</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> block3{SQUARE{} gleam{}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> gleam{} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> gleam <span class="hljs-number"><span class="hljs-number">2</span></span> {highlight{a <span class="hljs-number"><span class="hljs-number">1</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> highlight{SQUARE[z <span class="hljs-number"><span class="hljs-number">50</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> s <span class="hljs-number"><span class="hljs-number">.02</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> x <span class="hljs-number"><span class="hljs-number">-.5</span></span> b <span class="hljs-number"><span class="hljs-number">1</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> bush <span class="hljs-number"><span class="hljs-number">2</span></span> {bush[z <span class="hljs-number"><span class="hljs-number">-2</span></span> y <span class="hljs-number"><span class="hljs-number">.617</span></span> s <span class="hljs-number"><span class="hljs-number">.85</span></span> y <span class="hljs-number"><span class="hljs-number">-.617</span></span> b <span class="hljs-number"><span class="hljs-number">.3</span></span>|]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> bush {tree{h <span class="hljs-number"><span class="hljs-number">180</span></span> sat <span class="hljs-number"><span class="hljs-number">-.4</span></span> b <span class="hljs-number"><span class="hljs-number">-.7</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> tree { SQUARE{y <span class="hljs-number"><span class="hljs-number">.08</span></span> s <span class="hljs-number"><span class="hljs-number">.064</span></span> <span class="hljs-number"><span class="hljs-number">.16</span></span>} fork{y <span class="hljs-number"><span class="hljs-number">.155</span></span>} fork{y <span class="hljs-number"><span class="hljs-number">.155</span></span> f <span class="hljs-number"><span class="hljs-number">90</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> branch{tree{}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> branch <span class="hljs-number"><span class="hljs-number">3</span></span> { SQUARE{y <span class="hljs-number"><span class="hljs-number">.192</span></span> s <span class="hljs-number"><span class="hljs-number">.064</span></span> <span class="hljs-number"><span class="hljs-number">.384</span></span>} fork{y <span class="hljs-number"><span class="hljs-number">.38</span></span>} fork{y <span class="hljs-number"><span class="hljs-number">.38</span></span> f <span class="hljs-number"><span class="hljs-number">90</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> fork{branch{r <span class="hljs-number"><span class="hljs-number">22</span></span> s <span class="hljs-number"><span class="hljs-number">.7</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> fork{branch{r <span class="hljs-number"><span class="hljs-number">33</span></span> s <span class="hljs-number"><span class="hljs-number">.7</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> fork <span class="hljs-number"><span class="hljs-number">0.2</span></span> {} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> stars {} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> stars <span class="hljs-number"><span class="hljs-number">6</span></span> {star1{sat <span class="hljs-number"><span class="hljs-number">-1</span></span> h <span class="hljs-number"><span class="hljs-number">.99</span></span>|} stars{}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> star1 {star1{sat <span class="hljs-number"><span class="hljs-number">.12</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> star1 <span class="hljs-number"><span class="hljs-number">6</span></span> {star1{r <span class="hljs-number"><span class="hljs-number">139</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> star1 {star2{}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> star2 {star3{x <span class="hljs-number"><span class="hljs-number">.05</span></span> s <span class="hljs-number"><span class="hljs-number">.8</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> star2 {star3{}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> star3 <span class="hljs-number"><span class="hljs-number">9</span></span> {star3{s <span class="hljs-number"><span class="hljs-number">.8</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> star3 {<span class="hljs-type"><span class="hljs-type">CIRCLE</span></span>{x <span class="hljs-number"><span class="hljs-number">.03</span></span> s <span class="hljs-number"><span class="hljs-number">.007</span></span> b <span class="hljs-number"><span class="hljs-number">1</span></span> h <span class="hljs-number"><span class="hljs-number">-.55</span></span>|}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> cloud <span class="hljs-number"><span class="hljs-number">25</span></span> {} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> cloud{puff[ x <span class="hljs-number"><span class="hljs-number">-.6</span></span> s <span class="hljs-number"><span class="hljs-number">.25</span></span> <span class="hljs-number"><span class="hljs-number">.6</span></span> x <span class="hljs-number"><span class="hljs-number">.5</span></span> a <span class="hljs-number"><span class="hljs-number">-.95</span></span> h <span class="hljs-number"><span class="hljs-number">170</span></span> sat <span class="hljs-number"><span class="hljs-number">.2</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> puff <span class="hljs-number"><span class="hljs-number">7</span></span> {TRIANGLE{} puff{x <span class="hljs-number"><span class="hljs-number">.5</span></span> r <span class="hljs-number"><span class="hljs-number">20</span></span> s <span class="hljs-number"><span class="hljs-number">.91</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> puff { TRIANGLE{} puff{x <span class="hljs-number"><span class="hljs-number">.5</span></span> f <span class="hljs-number"><span class="hljs-number">0</span></span> s <span class="hljs-number"><span class="hljs-number">.91</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">rule</span></span> puff <span class="hljs-number"><span class="hljs-number">5</span></span> {puff{x <span class="hljs-number"><span class="hljs-number">.5</span></span> r <span class="hljs-number"><span class="hljs-number">20</span></span> s <span class="hljs-number"><span class="hljs-number">.9</span></span>} puff{z <span class="hljs-number"><span class="hljs-number">1</span></span> s <span class="hljs-number"><span class="hljs-number">.9</span></span> sat <span class="hljs-number"><span class="hljs-number">-.2</span></span> b <span class="hljs-number"><span class="hljs-number">.02</span></span>}}</code> </pre> <br><br> <a href="http://www.contextfreeart.org/gallery/view.php%3Fid%3D2823"><img src="https://habrastorage.org/storage2/e20/7f6/682/e207f6682082dac6934e05968d440c11.jpg"></a> <br>  <b>Code</b> <br><pre> <code class="hljs sql">//CKL startshape MAIN CF::Background = [hue 0 sat 0.84 b -0.9] CF::MinimumSize = 1 // how far to move each tree part in the local Y axis GTreePartMove = 0.02 // how much to scale each successive tree part GTreePartScale = 0.990 // Min and max length for the size of the trunk MaxTrunkDepth() = randint(10,40) // Min and max length for a branch coming off the trunk MaxTrunkBranchDepth() = randint(20,90) // Min and max length for a leaf branch MaxLeafBranchDepth() = randint(50,200) // returns a random int between (-High,-Low) and (Low,High) RandRange(Low,High) = <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>( randint(), <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> ) * randint(<span class="hljs-keyword"><span class="hljs-keyword">Low</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">High</span></span>) // <span class="hljs-keyword"><span class="hljs-keyword">Returns</span></span> a rotation angle <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> branch NewBranchRotation() = randint(<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>) // <span class="hljs-keyword"><span class="hljs-keyword">Returns</span></span> a random scale <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> branch NewBranchScale() = <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.6</span></span>,<span class="hljs-number"><span class="hljs-number">0.9</span></span>) NewStemRotation() = RandRange(<span class="hljs-number"><span class="hljs-number">30</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>) NewSteamScale() = <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.6</span></span>) LeafScale(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> / <span class="hljs-number"><span class="hljs-number">250</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">returns</span></span> a random rotaiton amount <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> a single branch, <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> give them a <span class="hljs-keyword"><span class="hljs-keyword">less</span></span> rigid shape BranchTwistSmall() = randint(<span class="hljs-number"><span class="hljs-number">10</span></span>) - <span class="hljs-number"><span class="hljs-number">5</span></span> BranchTwistLarge() = RandRange(<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>) shape <span class="hljs-keyword"><span class="hljs-keyword">MAIN</span></span> rule <span class="hljs-number"><span class="hljs-number">1</span></span> { SKY [ z <span class="hljs-number"><span class="hljs-number">-2</span></span> s <span class="hljs-number"><span class="hljs-number">100</span></span> ] SUN [ z <span class="hljs-number"><span class="hljs-number">-1</span></span> s <span class="hljs-number"><span class="hljs-number">400</span></span> ] TREE [ x <span class="hljs-number"><span class="hljs-number">-0.1</span></span> y <span class="hljs-number"><span class="hljs-number">-0.75</span></span> ] GRASS [ x <span class="hljs-number"><span class="hljs-number">-1</span></span> y <span class="hljs-number"><span class="hljs-number">-1</span></span> ] } shape SKY rule <span class="hljs-number"><span class="hljs-number">1</span></span> { CIRCLE [ s <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.02</span></span>,<span class="hljs-number"><span class="hljs-number">0.04</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.01</span></span>,<span class="hljs-number"><span class="hljs-number">0.03</span></span>) sat <span class="hljs-number"><span class="hljs-number">1</span></span> a <span class="hljs-number"><span class="hljs-number">-0.02</span></span> ] SKY [ s <span class="hljs-number"><span class="hljs-number">0.9990</span></span> b <span class="hljs-number"><span class="hljs-number">0.0005</span></span> hue <span class="hljs-number"><span class="hljs-number">0.018</span></span> a <span class="hljs-number"><span class="hljs-number">-0.001</span></span> ] } shape SUN rule <span class="hljs-number"><span class="hljs-number">1</span></span> { CIRCLE [ s <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.001</span></span>,<span class="hljs-number"><span class="hljs-number">0.002</span></span>) sat <span class="hljs-number"><span class="hljs-number">0.84</span></span> b <span class="hljs-number"><span class="hljs-number">1</span></span> a <span class="hljs-number"><span class="hljs-number">-0.95</span></span> ] SUN [[ r <span class="hljs-number"><span class="hljs-number">40</span></span> s <span class="hljs-number"><span class="hljs-number">0.9990</span></span> y <span class="hljs-number"><span class="hljs-number">0.0001</span></span> hue (<span class="hljs-number"><span class="hljs-number">0.02</span></span>,<span class="hljs-number"><span class="hljs-number">48</span></span>) ]] } shape GRASS rule <span class="hljs-number"><span class="hljs-number">1</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> [ y <span class="hljs-number"><span class="hljs-number">0.01</span></span> ] <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> [ x <span class="hljs-number"><span class="hljs-number">0.01</span></span> ] GRASSBLADE [ x <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.02</span></span>) y <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ] } shape GRASSBLADE rule <span class="hljs-number"><span class="hljs-number">1</span></span> { CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.02</span></span> a <span class="hljs-number"><span class="hljs-number">-0.9</span></span> ] GRASSBLADE [ y <span class="hljs-number"><span class="hljs-number">0.01</span></span> s <span class="hljs-number"><span class="hljs-number">0.95</span></span> r BranchTwistSmall() ] } shape TREE rule <span class="hljs-number"><span class="hljs-number">1</span></span> { TRUNK( <span class="hljs-number"><span class="hljs-number">0</span></span>, MaxTrunkDepth() ) [ r ( randint(<span class="hljs-number"><span class="hljs-number">20</span></span>) - <span class="hljs-number"><span class="hljs-number">10</span></span> ) ] } shape TRUNK( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> EndDepth ) rule <span class="hljs-number"><span class="hljs-number">20</span></span> { TreePart[] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> &gt; EndDepth ) { TRUNKSPLIT(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) [] } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { TRUNK( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ y GTreePartMove s GTreePartScale] } } rule <span class="hljs-number"><span class="hljs-number">5</span></span> { TRUNK( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ r BranchTwistSmall() ] } shape TRUNKSPLIT( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) rule <span class="hljs-number"><span class="hljs-number">1</span></span> { // <span class="hljs-keyword"><span class="hljs-keyword">split</span></span> <span class="hljs-keyword"><span class="hljs-keyword">right</span></span> TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxTrunkBranchDepth() ) [ r NewBranchRotation() s NewBranchScale() ] TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxTrunkBranchDepth() ) [ r randint(<span class="hljs-number"><span class="hljs-number">-20</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) s NewBranchScale() ] } rule <span class="hljs-number"><span class="hljs-number">1</span></span> { // <span class="hljs-keyword"><span class="hljs-keyword">split</span></span> <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxTrunkBranchDepth() ) [ r -NewBranchRotation() s NewBranchScale() ] TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxTrunkBranchDepth() ) [ r -randint(<span class="hljs-number"><span class="hljs-number">-20</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) s NewBranchScale() ] } shape TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> EndDepth ) rule <span class="hljs-number"><span class="hljs-number">1000</span></span> { TreePart[] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> &gt; EndDepth ) { TRUNKBRANCHSPLIT(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) [] } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ y GTreePartMove s GTreePartScale] } } rule <span class="hljs-number"><span class="hljs-number">200</span></span> { TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ r BranchTwistSmall() ] } rule <span class="hljs-number"><span class="hljs-number">50</span></span> { TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ r BranchTwistLarge() ] } rule <span class="hljs-number"><span class="hljs-number">1</span></span> { TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ ] LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [ r NewBranchRotation() ] } rule <span class="hljs-number"><span class="hljs-number">1</span></span> { TRUNKBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ ] LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [ r -NewBranchRotation() ] } shape TRUNKBRANCHSPLIT( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) rule <span class="hljs-number"><span class="hljs-number">1</span></span> { // <span class="hljs-keyword"><span class="hljs-keyword">split</span></span> <span class="hljs-keyword"><span class="hljs-keyword">right</span></span> LEAFBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxLeafBranchDepth() ) [ r NewBranchRotation() s NewBranchScale() ] LEAFBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxLeafBranchDepth() ) [ r randint(<span class="hljs-number"><span class="hljs-number">-20</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) s NewBranchScale() ] } rule <span class="hljs-number"><span class="hljs-number">1</span></span> { // <span class="hljs-keyword"><span class="hljs-keyword">split</span></span> <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> LEAFBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxLeafBranchDepth() ) [ r -NewBranchRotation() s NewBranchScale() ] LEAFBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + MaxLeafBranchDepth() ) [ r -randint(<span class="hljs-number"><span class="hljs-number">-20</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) s NewBranchScale() ] } shape LEAFBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> EndDepth ) rule <span class="hljs-number"><span class="hljs-number">50</span></span> { TreePart[] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> &gt; EndDepth ) { //TRUNKBRANCHSPLIT(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) [] } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { LEAFBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ y GTreePartMove s GTreePartScale] } } rule <span class="hljs-number"><span class="hljs-number">50</span></span> { LEAFBRANCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>, EndDepth ) [ r BranchTwistSmall() ] } rule <span class="hljs-number"><span class="hljs-number">5</span></span> { LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [] } //rule <span class="hljs-number"><span class="hljs-number">1</span></span> { // TRUNKBRANCHSPLIT(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) [] //} shape LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) rule <span class="hljs-number"><span class="hljs-number">100</span></span> { TreePart [ ] LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> ) [ y GTreePartMove s GTreePartScale a <span class="hljs-number"><span class="hljs-number">-0.01</span></span> r BranchTwistSmall() ] } rule <span class="hljs-number"><span class="hljs-number">25</span></span> { LEAFSTEM( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [ r NewStemRotation() s NewSteamScale() ] LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [] } rule <span class="hljs-number"><span class="hljs-number">1</span></span> { // <span class="hljs-keyword"><span class="hljs-keyword">split</span></span> <span class="hljs-keyword"><span class="hljs-keyword">right</span></span> LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [ r NewBranchRotation() s NewBranchScale() ] LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [ r randint(<span class="hljs-number"><span class="hljs-number">-20</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) s NewBranchScale() ] } rule <span class="hljs-number"><span class="hljs-number">1</span></span> { // <span class="hljs-keyword"><span class="hljs-keyword">split</span></span> <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [ r -NewBranchRotation() s NewBranchScale() ] LEAFBUNCH( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) [ r -randint(<span class="hljs-number"><span class="hljs-number">-20</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) s NewBranchScale() ] } shape LEAFSTEM( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) rule <span class="hljs-number"><span class="hljs-number">100</span></span> { TreePart [] LEAFSTEM( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> ) [ y GTreePartMove s <span class="hljs-number"><span class="hljs-number">0.98</span></span> a <span class="hljs-number"><span class="hljs-number">-0.05</span></span> ] } rule <span class="hljs-number"><span class="hljs-number">25</span></span> { LEAFSTEM( <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> ) [ r BranchTwistSmall() ] } rule <span class="hljs-number"><span class="hljs-number">25</span></span> { LEAF(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) [ r BranchTwistSmall() ] LEAFSTEM(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) [] } shape LEAF( <span class="hljs-keyword"><span class="hljs-keyword">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span> ) rule <span class="hljs-number"><span class="hljs-number">1</span></span> { LEAFSTAMP [[ s LeafScale(<span class="hljs-keyword"><span class="hljs-keyword">Depth</span></span>) y <span class="hljs-number"><span class="hljs-number">0.5</span></span> ]] } shape LEAFSTAMP rule <span class="hljs-number"><span class="hljs-number">1</span></span> { CIRCLE [ a <span class="hljs-number"><span class="hljs-number">-0.1</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">rand</span></span>(<span class="hljs-number"><span class="hljs-number">0.1</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span> ] } shape TreePart rule <span class="hljs-number"><span class="hljs-number">1</span></span> { CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.1</span></span> ] CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.1</span></span> x +<span class="hljs-number"><span class="hljs-number">0.005</span></span> a <span class="hljs-number"><span class="hljs-number">-0.9</span></span> ] CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.1</span></span> x <span class="hljs-number"><span class="hljs-number">-0.005</span></span> a <span class="hljs-number"><span class="hljs-number">-0.9</span></span> ] CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.1</span></span> x +<span class="hljs-number"><span class="hljs-number">0.0075</span></span> a <span class="hljs-number"><span class="hljs-number">-0.9</span></span> ] CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.1</span></span> x <span class="hljs-number"><span class="hljs-number">-0.0075</span></span> a <span class="hljs-number"><span class="hljs-number">-0.9</span></span> ] CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.1</span></span> x +<span class="hljs-number"><span class="hljs-number">0.0125</span></span> a <span class="hljs-number"><span class="hljs-number">-0.9</span></span> ] CIRCLE [ s <span class="hljs-number"><span class="hljs-number">0.1</span></span> x <span class="hljs-number"><span class="hljs-number">-0.0125</span></span> a <span class="hljs-number"><span class="hljs-number">-0.9</span></span> ] }</code> </pre> <br><br>  The Context Free program is distributed under the GPL license, you can download it <a href="http://www.contextfreeart.org/mediawiki/index.php/Download_page">here</a> (Win / Mac / Linux), <a href="http://www.contextfreeart.org/mediawiki/index.php/CFDG_HOWTO">documentation</a> . <br><br>  We add that this is not the only initiative to create a convenient grammar for image generation.  For example, here is the open source project <a href="http://structuresynth.sourceforge.net/">Structure Synth</a> for 3D graphics. <br><br>  UPD.  It turns out that they wrote about Context Free on Habr√© already <a href="http://habrahabr.ru/blogs/crazydev/28393/">in 2008</a> !  Thank you <a href="http://habrahabr.ru/users/imposeren/" class="user_link">Imposeren</a> for the link. </div><p>Source: <a href="https://habr.com/ru/post/137264/">https://habr.com/ru/post/137264/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137255/index.html">Developer menu</a></li>
<li><a href="../137256/index.html">Practical advice for those who decide to sell through couponers</a></li>
<li><a href="../137258/index.html">Meet text-align-last</a></li>
<li><a href="../13726/index.html">Secure PHP authorization method</a></li>
<li><a href="../137261/index.html">Why does Google use the Duck.com domain?</a></li>
<li><a href="../137266/index.html">Start! First post</a></li>
<li><a href="../137267/index.html">Practical bioinformatics, part 3. Assessment of the significance of experimental data</a></li>
<li><a href="../137269/index.html">Droider Show # 25. And you do not steal!</a></li>
<li><a href="../13727/index.html">30% Molotok.Ru sold to a strategic investor</a></li>
<li><a href="../137270/index.html">Arduino + Portal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>