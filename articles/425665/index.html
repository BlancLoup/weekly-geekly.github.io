<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Git: fixing bugs and ordering commits</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Error in commit ... How to fix it? Confusion in the history of commits ... How to bring everything into a decent look? The author of the article, the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Git: fixing bugs and ordering commits</h1><div class="post__text post__text-html js-mediator-article">  Error in commit ... How to fix it?  Confusion in the history of commits ... How to bring everything into a decent look?  The author of the article, the translation of which we publish today, says that it was written specifically for those who asked such questions.  According to him, after studying the techniques of working with Git, presented here, you can significantly advance the path of mastering Git. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/349/17b/969/34917b969193928c586023f0b971ae38.png"></div><br>  It is assumed that the reader of this article is already familiar with the basics of Git.  If this is not the case, it is first recommended to master the base, for example, using <a href="https://medium.freecodecamp.org/what-is-git-and-how-to-use-it-c341b049ae61">this</a> material. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Correction of errors in commits</font> </h2><br>  Here we consider several scenarios for the appearance of errors in commits and their correction. <br><br><h3>  <font color="#3AC1EF">‚ñçScenario number 1</font> </h3><br>  Suppose you commit a lot of files and understand that the commit message was not particularly clear.  After that you decided to change this message.  To do this, use the <code>git commit --amend</code> .  Here is an example of its use: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-comment"><span class="hljs-comment">--amend -m "New commit message"</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçScenario number 2</font> </h3><br>  Suppose you wanted to commit six files, but, by mistake, commit only five.  It seems that you can correct this error simply by creating a new commit and adding the missing sixth file there. <br><br>  Such an approach is completely entitled to life.  But in order to keep the history of commits in good condition, it would probably be much better to be able to add a randomly missed file to the same commit.  This can be done, again, with the <code>git commit --amend</code> .  Its use looks like this: <br><br><pre> <code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> file6 git <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-comment"><span class="hljs-comment">--amend --no-edit</span></span></code> </pre> <br>  The flag <code>--no-edit</code> means that the commit message does not change. <br><br><h3>  <font color="#3AC1EF">‚ñçScenario number 3</font> </h3><br>  To the commits that make in Git, the name of the author and his email address are attached.  Usually this data is indicated by performing the initial Git setup.  As a result, the one who uses Git may, by performing each commit, not worry about the details of its author. <br><br>  In this case, it is quite possible that, when working with some projects, you will need to use information about the author, for example, an email address that is different from the main ones.  For such a project, you must specify the email address using the following command: <br><br><pre> <code class="hljs pgsql">git config <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.email "your email id"</code> </pre> <br>  Suppose you forgot to perform this setup and have already made the first commit.  The <code>amend</code> command already familiar to us can <code>amend</code> .  With its help you can change the information about the author of the previous commit: <br><br><pre> <code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-comment"><span class="hljs-comment">--amend --author "Author Name &lt;Author Email&gt;"</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçNote</font> </h3><br>  Use the <code>amend</code> command only in your local repository.  Using it in remote repositories can be a huge mess. <br><br><h2>  <font color="#3AC1EF">Bringing order to commit history</font> </h2><br>  Suppose you are working on a piece of code from a project.  You know that it will take about ten days.  During these ten days, other developers commit to the source repository. <br><br>  It is recommended to maintain synchronization between the local and remote repositories.  This avoids many of the merge conflicts that occur when synchronization of repositories is too rare.  Following this practice, you decide to download changes from a remote repository every two days. <br><br>  Each time you download code from a remote to a local repository, a new merge commit is created in the local repository.  This means that in your local commit history there will be many such commits that can confuse the person who will view your code. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac5/abf/43b/ac5abf43b0e1f38fec80193de0db8b45.jpg"><br>  <i><font color="#999999">The history of commits in the local repository</font></i> <br><br>  How to put a commit history in order?  To solve this problem, you can use the <code>git rebase</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç git rebase command</font> </h3><br>  Consider the <code>git rebase</code> with an example. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ff/01b/8a7/5ff01b8a77ee67f99dc8a807ff81defb.jpg"><br>  <i><font color="#999999">Commits in the release branch and in the feature branch</font></i> <br><br>  In the <code>Release</code> branch there are three commits: <code>Rcommit1</code> , <code>Rcommit2</code> , and <code>Rcommit3</code> .  You created your <code>Feature</code> branch from the <code>Release</code> branch when there was only one commit in it - <code>Rcommit1</code> .  After that you added two commits to the <code>Feature</code> branch.  These are <code>Fcommit1</code> and <code>Fcommit2</code> .  Your goal is to download commits from the <code>Release</code> branch to your <code>Feature</code> branch.  In order to do this, you are going to use the <code>rebase</code> command. <br><br>  We will use the names <code>release</code> and <code>feature</code> for the two branches in question. <br><br>  As a result, using the <code>rebase</code> will look like this: <br><br><pre> <code class="hljs pgsql">git checkout feature git rebase <span class="hljs-keyword"><span class="hljs-keyword">release</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçRebase command features</font> </h3><br>  The <code>rebase</code> command <code>rebase</code> used to ensure that the <code>Feature</code> branch <code>Feature</code> fresh code from the <code>Release</code> branch. <br><br>  When using this command, the system tries to add each commit to the <code>Feature</code> branch, one at a time, and check for conflicts.  If it sounds difficult - let's consider the following figure.  This shows the internal mechanisms for the <code>rebase</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b9d/375/b10/b9d375b102b136e99d128571d6d6a562.jpg"><br>  <i><font color="#999999">Feature branch and three steps of the rebase command</font></i> <br><br><h4>  Step 1 </h4><br>  At the moment of calling the command, the <code>Feature</code> branch points to the head of the <code>Release</code> branch.  After that, there are three commits in the <code>Feature</code> branch: <code>Rcommit1</code> , <code>Rcommit2</code> , and <code>Rcommit3</code> .  Perhaps, here you will have a question about what happened to the commits <code>Fcommit1</code> and <code>Fcommit2</code> .  These commits have not gone away; they will be used in the next steps. <br><br><h4>  Step 2 </h4><br>  Now Git is trying to add the <code>Fcommit1</code> commit to the <code>Feature</code> branch.  If there is no conflict, <code>Fcommit1</code> added after <code>Rcommit3</code> .  If a conflict is detected, Git will report this and you will have to resolve this conflict manually. <br><br><h4>  Step 3 </h4><br>  After the commit <code>Fcommit1</code> added to the <code>Feature</code> branch, Git tries to add <code>Fcommit2</code> to the same <code>Fcommit2</code> .  Here, again, if there are no conflicts, then <code>Fcommit2</code> added after <code>Fcommit1</code> and the operation is successfully completed.  If a conflict is detected, then Git, as before, will report this and offer to deal with it. <br><br>  After the completion of the <code>rebase</code> command <code>rebase</code> you will see that there are commits <code>Rcommit1</code> , <code>Rcommit2</code> , <code>Rcommit3</code> , <code>Fcommit1</code> , and <code>Fcommit2</code> in the <code>Feature</code> branch. <br><br><h3>  <font color="#3AC1EF">‚ñçNote</font> </h3><br>  When working with Git, both the <code>merge</code> command and the <code>rebase</code> command are <code>rebase</code> .  It cannot be said that one of them is preferable to the other. <br><br>  If you use the <code>merge</code> command, you will get a commit-merge.  If you use <code>rebase</code> , you will not have any additional <code>rebase</code> . <br><br>  It is recommended to use these commands in various situations.  So, <code>rebase</code> is suitable for updating the local repository code based on fresh code from a remote repository.  Use the <code>merge</code> command when executing pool queries to merge the <code>Feature</code> branch with the <code>Release</code> or <code>Master</code> branch. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  After examining the concepts presented in this material, you have improved your Git skills and come closer to the level of a Git expert.  We hope that what you have learned here will be useful to you.  But the world of Git is huge, therefore, having mastered something new, do not stop there and move on. <br><br>  <b>Dear readers!</b>  Did you encounter confusion in git commits? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/425665/">https://habr.com/ru/post/425665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../425653/index.html">Building a microservice architecture on Golang and gRPC, part 1</a></li>
<li><a href="../425657/index.html">The inevitability of punishment, the effectiveness of sudden checks</a></li>
<li><a href="../425659/index.html">Interactive design doesn't have to be complicated</a></li>
<li><a href="../425661/index.html">22 Angular Development Board. Part 1</a></li>
<li><a href="../425663/index.html">22 Angular Development Board. Part 2</a></li>
<li><a href="../425667/index.html">Node.js Part 10 tutorial: standard modules, streams, databases, NODE_ENV</a></li>
<li><a href="../425669/index.html">Web Design Guide for Non-Designers</a></li>
<li><a href="../425671/index.html">MBLT DEV 2018: Robo Report</a></li>
<li><a href="../425673/index.html">[Peter] Meeting JUG.ru with Venkat Subramaniam - Design Patterns in the Light of Lambda Expressions</a></li>
<li><a href="../425675/index.html">Turing's Law: The state of California has banned chat bots from pretending to be human</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>