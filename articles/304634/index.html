<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML :: Phl module for processing HTML documents containing Perl code instructions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article provides the HTML :: Phl module specification for working with HTML documents containing Perl programming language code. 

 The task of th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML :: Phl module for processing HTML documents containing Perl code instructions</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/2b6/801/9d7/2b68019d79ff4d4d9d89c82086e07f57.jpg" width="721" height="354"><br><br>  The article provides the <font color="#000099">HTML :: Phl</font> module specification for working with HTML documents containing Perl programming language code. <br><br>  The task of the <font color="#000099">HTML :: Phl module</font> is to select a perl-code from a HTML-formatted text document, perform some manipulations on it and the rest of the code, combine the resulting perl code and ‚Äúfeed‚Äù all this ' <font color="#000099">eval</font> ', resulting in a generated HTML page that is rendered by a web browser. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text"><pre><code class="hljs perl"><span class="hljs-number"><span class="hljs-number">1</span></span> &lt;HTML&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> &lt;HEAD&gt; <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;META content=<span class="hljs-string"><span class="hljs-string">"text/html; charset=UTF-8"</span></span> http-equiv=<span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> &lt;TITLE&gt; PHL&lt;<span class="hljs-regexp"><span class="hljs-regexp">/TITLE&gt; 5 &lt;/</span></span>HEAD&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>     f1  f2&lt;br&gt; <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> %pl include(<span class="hljs-string"><span class="hljs-string">"process_win.phl"</span></span>, <span class="hljs-string"><span class="hljs-string">"fork decode=cp1251"</span></span>, <span class="hljs-string"><span class="hljs-string">"f1"</span></span>); <span class="hljs-number"><span class="hljs-number">10</span></span> %pl include(<span class="hljs-string"><span class="hljs-string">"process_utf.phl"</span></span>, <span class="hljs-string"><span class="hljs-string">"fork decode=utf8"</span></span>, <span class="hljs-string"><span class="hljs-string">"f2"</span></span>); <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>   &lt;br&gt; <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> &lt;%pl <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> %join = include(<span class="hljs-string"><span class="hljs-string">"JOIN"</span></span>, <span class="hljs-string"><span class="hljs-string">"f1 f2"</span></span>); %&gt; <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>   &lt;br&gt; <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $key(<span class="hljs-keyword"><span class="hljs-keyword">keys</span></span>(%join)) { <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">ref</span></span> $join{$key}) { <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" '$key' - : "</span></span>; <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $i = <span class="hljs-number"><span class="hljs-number">0</span></span>; $i &lt;= $#{$join{$key}}; $i++) { <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"'</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${$join{$key}</span></span></span><span class="hljs-string">}[$i]' "</span></span>; <span class="hljs-number"><span class="hljs-number">24</span></span> } <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">26</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" '$key' - : '$join{$key}'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">28</span></span> } <span class="hljs-number"><span class="hljs-number">29</span></span> } <span class="hljs-number"><span class="hljs-number">30</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">31</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/HTML&gt;</span></span></code> </pre> <br></div></div><br>  The article is written for informational purposes, the development of the module is conceptual in nature, and its reliable use requires additional testing. <a name="habracut"></a><br><hr><br><a name="sd"></a><br><h2>  Table of contents: </h2><br>  <a href="https://habr.com/ru/post/304634/">PHL Specification</a> <br>  ‚Ä¢ <a href="https://habr.com/ru/post/304634/">Pointers</a> <br>  ‚Ä¢ <a href="https://habr.com/ru/post/304634/">Separators</a> <br>  ‚Ä¢ <a href="https://habr.com/ru/post/304634/">Keys</a> <br>  ‚Ä¢ <a href="https://habr.com/ru/post/304634/">Functions</a> <br>  ‚Ä¢ <a href="https://habr.com/ru/post/304634/">Expansion modules</a> <br>  ‚Ä¢ <a href="https://habr.com/ru/post/304634/">Configuration Settings</a> <br>  <a href="https://habr.com/ru/post/304634/">Distribution PHL</a> <br><br><a name="s"></a><br><h2>  PHL specification <a href="https://habr.com/ru/post/304634/">^</a> </h2><br>  In an HTML document, the perl code is placed using peculiar instructions.  Each such instruction has a beginning and an end to identify the perl code in the document. <br>  The PHL specification defines three options for writing instructions: <br><br>  1. Linear instruction: <br><br>  <font color="#000099">% pl</font> <font color="#710000">[keys] [perl code]</font> <br><br>  2. Instruction in the form of a single-line block: <br><br>  <font color="#000099">&lt;% pl</font> <font color="#710000">[(: | =) [name]] [keys] [perl code]</font> <font color="#000099">%&gt;</font> <br><br>  3. Multi-line block: <br><br>  <font color="#000099">&lt;% pl</font> <font color="#710000">[(: | =) [name]] [keys]</font> <font color="#710000"><br></font>  <font color="#710000">[perl code]</font> <br>  <font color="#000099">%&gt;</font> <br><br>  Where <br><br>  ' <font color="#000099">% pl</font> ', ' <font color="#000099">&lt;% pl</font> ', ' <font color="#000099">%&gt;</font> ' - instruction <a href="https://habr.com/ru/post/304634/">pointers</a> (define the beginning and end of Perl code); <br><br>  <font color="#710000">[name]</font> is the name of the block (used when identifying blocks, mainly in parallel programming); <br><br>  ' <font color="#710000">:</font> ' or ' <font color="#710000">=</font> ' - <a href="https://habr.com/ru/post/304634/">separators</a> (on the one hand, they are separators between instruction pointers and the block name, on the other hand, they have a number of additional functional features); <br><br>  <font color="#710000">[keys]</font> - control <a href="https://habr.com/ru/post/304634/">keys</a> (allow you to modify the Perl code enclosed in the instruction before passing it to the interpreter for execution); <br><br>  <font color="#710000">[perl code]</font> - Perl code. <br><br><div class="spoiler">  <b class="spoiler_title">Examples</b> <div class="spoiler_text"><pre> <code class="hljs perl"> %pl <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sqrt</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>); &lt;%pl <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> $var; %&gt; &lt;%pl= $var; %&gt; &lt;%pl <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $key(<span class="hljs-keyword"><span class="hljs-keyword">keys</span></span>(%ENV)) { <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"$key ‚Äî $ENV{$key}&lt;br&gt;"</span></span>; } %&gt;</code> </pre><br></div></div><br>  The controls <font color="#710000">[name]</font> and <font color="#710000">[keys]</font> are not used as often, and you can successfully do without them, but their use is very convenient. <br><br><pre> <code class="hljs mel"> &lt;%pl:f1 -fork #    my $f = <span class="hljs-string"><span class="hljs-string">"   f1"</span></span>; sleep <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $f; %&gt; &lt;%pl -join=f1 #    f1 <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> $phl_join{f1}; %&gt;</code> </pre><br>  To the standard Perl functions in PHL there is additionally added the <a href="https://habr.com/ru/post/304634/">function</a> ' <font color="#000099">include ()</font> '), implemented for the possibility of building a document from several files. <br><br><pre> <code class="hljs perl"> %pl include($file_name); &lt;%pl include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"socket"</span></span>); %&gt; &lt;%pl <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"open decode"</span></span>); %&gt;</code> </pre><br><a name="u"></a><br><h2>  Pointers <a href="https://habr.com/ru/post/304634/">^</a> </h2><br>  By default, pointers look like: ' <font color="#000099">&lt;% pl</font> ', ' <font color="#000099">%&gt;</font> ' and ' <font color="#000099">% pl</font> '. <br><br>  Pointers can be overridden in the settings of the ' <font color="#000099">Phl.pm</font> ' file or in the configuration file ' <font color="#000099">config.phl</font> '.  As a result, you can write <font color="#000099">&lt;% ... code perl ...%&gt;</font> or <font color="#000099">[... code perl ...]</font> or even so <font color="#000099">¬¶ ... code perl ... ¬¶</font> . <br><br>  If you wish, you can define your own (optional) instruction pointers.  This is implemented using specially designed modules. <br><br>  For example, using the module ' <font color="#000099">HTML :: Phl :: Php</font> ', in addition to the instruction pointer ' <font color="#000099">&lt;% pl</font> ', the pointer ' <font color="#000099">&lt;% php</font> ' is added, allowing you to execute simple PHP programming language code. <br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -ev use HTML::Phl::Php; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;%php <span class="hljs-number"><span class="hljs-number">4</span></span> echo <span class="hljs-string"><span class="hljs-string">"PHP &gt;&gt; &lt;b&gt;OK&lt;/b&gt;&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> echo <span class="hljs-keyword"><span class="hljs-keyword">date</span></span>(<span class="hljs-string"><span class="hljs-string">'H:i:s dmY'</span></span>); <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text">  PHP &gt;&gt; <b>OK</b> <br>  14:23:22 12.26.2016 <br></div></div><br><a name="r"></a><br><h2>  Separators <a href="https://habr.com/ru/post/304634/">^</a> </h2><br>  The delimiter task is to separate the instruction pointer from the block name. <br><br>  Unlike the separator ' <font color="#000099">:</font> ', the separator ' <font color="#000099">=</font> ' changes the interpretation of the code in the analyzer.  At the same time, the result of using the delimiter ' <font color="#000099">=</font> ' in single-line and multi-line blocks differ. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;&lt;/b&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>.  <span class="hljs-string"><span class="hljs-string">'&lt;%pl= $test %&gt;'</span></span>   . <span class="hljs-number"><span class="hljs-number">4</span></span> &lt;br&gt;&lt;br&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> &lt;%pl=name1 <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>.  <span class="hljs-string"><span class="hljs-string">'$test'</span></span>  <span class="hljs-number"><span class="hljs-number">8</span></span>   <span class="hljs-string"><span class="hljs-string">'&lt;b&gt;$phl_blok[1]&lt;/b&gt;'</span></span> ( <span class="hljs-string"><span class="hljs-string">'='</span></span>). <span class="hljs-number"><span class="hljs-number">9</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">10</span></span> &lt;br&gt;&lt;br&gt; <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> &lt;%pl:name2 <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"3.  '$test'"</span></span>; <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"   '&lt;b&gt;$phl_blok[2]&lt;/b&gt;' ( ':')."</span></span>; <span class="hljs-number"><span class="hljs-number">15</span></span> %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Code after analyzer</b> <div class="spoiler_text"><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;&lt;/b&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span> =~ <span class="hljs-regexp"><span class="hljs-regexp">/(.*)/</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>.  <span class="hljs-string"><span class="hljs-string">' 7 [HTML] 8 print($test); 9 print &lt;&lt;'</span></span>[HTML]<span class="hljs-string"><span class="hljs-string">'; 10 '</span></span>   . <span class="hljs-number"><span class="hljs-number">11</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span>; <span class="hljs-number"><span class="hljs-number">13</span></span> &lt;br&gt;&lt;br&gt; <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">"[HTML]"</span></span>; <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>.  <span class="hljs-string"><span class="hljs-string">"$test"</span></span>  <span class="hljs-number"><span class="hljs-number">18</span></span>   <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;$phl_blok[1]&lt;/b&gt;"</span></span> ( <span class="hljs-string"><span class="hljs-string">"="</span></span>). <span class="hljs-number"><span class="hljs-number">19</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span>; <span class="hljs-number"><span class="hljs-number">21</span></span> &lt;br&gt;&lt;br&gt; <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"3.  '$test'"</span></span>; <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"   '&lt;b&gt;$phl_blok[2]&lt;/b&gt;' ( ':')."</span></span>;</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text">  1. The variable ' <b>test</b> ' inside a single line block. <br><br>  2. The variable ' <b>test</b> ' inside the multiline block ' <b>name1</b> ' (delimiter '='). <br><br>  3. The variable ' <b>test</b> ' inside the multiline block ' <b>name2</b> ' (separator ':'). <br></div></div><br><a name="k"></a><br><h2>  Keys <a href="https://habr.com/ru/post/304634/">^</a> </h2><br>  The keys allow you to modify the perl code placed in the instructions.  They can be specified in full or in abbreviated form: <br><br>  <font color="#000099">-begin</font> <br>  <font color="#000099">-end</font> <br>  <font color="#000099">-perl_all</font> <br>  <font color="#000099">-eval</font> <br>  <font color="#000099">-fork</font> <br>  <font color="#000099">-thread</font> <br>  <font color="#000099">-join</font> <br><br><h3>  ‚Ä¢ The keys ' <font color="#000099">-begin</font> ' [' <font color="#000099">-bg</font> '] and ' <font color="#000099">-end</font> ' </h3><br>  When using the ' <font color="#000099">-begin</font> ' key, the analyzer takes the perl code contained in the instruction and wraps it in a ' <font color="#000099">BEGIN {}</font> ' block. <br><br>  The same thing happens when using the ' <font color="#000099">-end</font> ' key - the perl code is placed in the ' <font color="#000099">END {}</font> ' block. <br><br>  Source: <br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>  HTML&lt;br&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> &lt;%pl -end <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"2.  end&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">4</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span>  HTML&lt;br&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> &lt;%pl -begin <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"4.  begin&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">9</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">5.</span></span>  HTML&lt;br&gt; <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> &lt;%pl -end <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"6.  end&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">14</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">7.</span></span>  HTML&lt;br&gt; <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> &lt;%pl -bg <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"8.  begin&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">19</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">9.</span></span>  HTML&lt;br&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text">  4. First begin <br>  8. Second begin <br>  1. HTML text <br>  3. HTML text <br>  5. HTML text <br>  7. HTML text <br>  9. HTML text <br>  6. Second end <br>  2. First end <br></div></div><br><h3>  ‚Ä¢ Key ' <font color="#000099">-perl_all</font> ' [' <font color="#000099">-pl</font> '] </h3><br>  When using this key, there is no need to limit the perl code to instruction directives.  The analyzer will interpret the entire text of the document as Perl code. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> CGI; <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Content-type: text/html; charset=utf-8\n\n"</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $q = new CGI; <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> $q -&gt; h4(<span class="hljs-string"><span class="hljs-string">"$test   CGI"</span></span>); <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"&lt;H4&gt;$test  Phl&lt;/H4&gt;"</span></span>);</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><h4>  Text from CGI module </h4><br><h4>  Text from phl </h4><br></div></div><br><h3>  ‚Ä¢ Key ' <font color="#000099">-eval</font> ' [' <font color="#000099">-ev</font> '] </h3><br>  The key allows you to execute code enclosed within an instruction, during the operation of the analyzer (before its execution by <font color="#000099">eval</font> ). <br><br>  For example, we will try using this key to change the pointers ' <font color="#000099">&lt;% pl</font> ', etc., by placing the following instruction in the code: <br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl -<span class="hljs-keyword"><span class="hljs-keyword">eval</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> $phl{lt} = <span class="hljs-string"><span class="hljs-string">'['</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> $phl{rt} = <span class="hljs-string"><span class="hljs-string">']'</span></span>; <span class="hljs-number"><span class="hljs-number">4</span></span> $phl{ln} = <span class="hljs-string"><span class="hljs-string">'~'</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> $phl{sh} = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt;</code> </pre><br>  The instruction pointers have taken on a completely different look.  Now the instruction can be written like this: <br><br><pre> <code class="hljs json"> <span class="hljs-number"><span class="hljs-number">1</span></span> [= <span class="hljs-number"><span class="hljs-number">2</span></span>   <span class="hljs-number"><span class="hljs-number">3</span></span> ]</code> </pre><br>  or so <br><br><pre> <code class="hljs json"> <span class="hljs-number"><span class="hljs-number">1</span></span> [ print <span class="hljs-string"><span class="hljs-string">" "</span></span> ]</code> </pre><br>  or so <br><br><pre> <code class="hljs swift"> <span class="hljs-number"><span class="hljs-number">1</span></span> ~ <span class="hljs-built_in"><span class="hljs-built_in">print</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span></code> </pre><br><h3>  ‚Ä¢ Key ' <font color="#000099">-fork</font> ' [' <font color="#000099">-fk</font> '] </h3><br>  Code enclosed within an instruction is executed in a parallel child process created as a result of <font color="#000099">fork ()</font> running. <br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl:f1 -fork <span class="hljs-number"><span class="hljs-number">2</span></span> #      f1 <span class="hljs-number"><span class="hljs-number">3</span></span> my $f; <span class="hljs-number"><span class="hljs-number">4</span></span> sleep <span class="hljs-number"><span class="hljs-number">1</span></span>; #     f1 <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $f; <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ Key ' <font color="#000099">-thread</font> ' [' <font color="#000099">-td</font> '] </h3><br>  The code enclosed within the instruction is executed in a parallel thread (‚Äúthread‚Äù, ‚Äúthread‚Äù of the process) created by the standard ' <font color="#000099">threads</font> ' module within one process. <br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl:t1 -thread <span class="hljs-number"><span class="hljs-number">2</span></span> #     t1 <span class="hljs-number"><span class="hljs-number">3</span></span> my $t; <span class="hljs-number"><span class="hljs-number">4</span></span> sleep <span class="hljs-number"><span class="hljs-number">1</span></span>; #     t1 <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $t; <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ Key ' <font color="#000099">-join</font> ' [' <font color="#000099">-jn</font> '] </h3><br>  The key allows you to get the results of the execution of child processes and threads. <br><br>  The results are placed in the <font color="#000099">% phl_join</font> hash, the keys of which are the names of the created processes / threads.  If, when applying for the result, the necessary parallel processes have not yet completed, the program waits for them to complete. <br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl -join <span class="hljs-number"><span class="hljs-number">2</span></span> #        <span class="hljs-number"><span class="hljs-number">3</span></span> foreach my $key(keys(%phl_join)) { <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ref $phl_join{$key}) { #   -  <span class="hljs-number"><span class="hljs-number">5</span></span> my @result = @{$phl_join{$key}}; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" '$key' -    '$result[0]'"</span></span>; <span class="hljs-number"><span class="hljs-number">7</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" '$key' -  '$phl_join{$key}'"</span></span>; <span class="hljs-number"><span class="hljs-number">9</span></span> } <span class="hljs-number"><span class="hljs-number">10</span></span> } <span class="hljs-number"><span class="hljs-number">11</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ Additional keys </h3><br>  If you wish, you can define your own (additional) keys or override existing ones.  This is implemented using specially designed modules. <br><br>  So, for example, using the module ' <font color="#000099">HTML :: Phl :: Utilit</font> ' and the key ' <font color="#000099">-import</font> ' [' <font color="#000099">-im</font> '] you can view a list of all the pointers, keys and parameters currently available to the program. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -ev <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Phl::Utilit; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> %pl -import</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text">  <b>1. <u>HTML :: Phl :: Php</u></b> <br>  ‚Ä¢ <b>param:</b> <br>  - <b><font color="grey">php</font></b> <br>  ‚Ä¢ <b>sh:</b> <br>  - <b><font color="grey">php</font></b> <br>  <b>2. <u>HTML :: Phl :: Psimple</u></b> <br>  ‚Ä¢ <b>param:</b> <br>  - <b><font color="grey">simple</font></b> <br>  - <b><font color="grey">sl</font></b> <br>  <b>3. <u>HTML :: Phl :: Result</u></b> <br>  ‚Ä¢ <b>param:</b> <br>  - <b><font color="grey">result</font></b> <br>  <b>4. <u>HTML :: Phl :: Ru</u></b> <br>  ‚Ä¢ <b>sh:</b> <br>  - <b><font color="grey">rus</font></b> <br>  <b>5. <u>HTML :: Phl :: Utilit</u></b> <br>  ‚Ä¢ <b>eval:</b> <br>  - <b><font color="grey">analys</font></b> <br>  - <b><font color="grey">as</font></b> <br>  - <b><font color="grey">listing</font></b> <br>  - <b><font color="grey">lt</font></b> <br>  ‚Ä¢ <b>include:</b> <br>  - <b><font color="grey">CONFIG</font></b> <br>  - <b><font color="grey">TIMER</font></b> <br>  ‚Ä¢ <b>key:</b> <br>  - <b><font color="grey">analys</font></b> <br>  - <b><font color="grey">as</font></b> <br>  - <b><font color="grey">cf</font></b> <br>  - <b><font color="grey">config</font></b> <br>  - <b><font color="grey">im</font></b> <br>  - <b><font color="grey">import</font></b> <br>  - <b><font color="grey">listing</font></b> <br>  - <b><font color="grey">lt</font></b> <br>  - <b><font color="grey">no_timer</font></b> <br>  - <b><font color="grey">nt</font></b> <br>  - <b><font color="grey">timer</font></b> <br>  - <b><font color="grey">tm</font></b> <br>  ‚Ä¢ <b>param:</b> <br>  - <b><font color="grey">listing</font></b> <br>  - <b><font color="grey">lt</font></b> <br></div></div><br><a name="f"></a><br><h2>  Functions <a href="https://habr.com/ru/post/304634/">^</a> </h2><br>  Only one ' <font color="#000099">include ()</font> ' function has been added to the PHL, implemented to be able to assemble a document from several files containing HTML (TXT) or PHL markup. <br><br>  The function ' <font color="#000099">include ()</font> ' is similar to the standard Perl function ' <font color="#000099">open ()</font> ', with the difference that the first argument is the name of the file to be included in the document, and the second is one or more special control parameters. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl include($file_name); <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;%pl include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"socket"</span></span>); %&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $result = include($file_name, <span class="hljs-string"><span class="hljs-string">"open decode"</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> %&gt;</code> </pre><br>  In general, writing the function ' <font color="#000099">include ()</font> ' looks like this: <br><br>  <font color="#000099">include (" <font color="#710000">file_name</font> " [, " <font color="#710000">param</font> " [, " <font color="#710000">name_process</font> "]])</font> ; <br><br>  <font color="#710000">file_name</font> : <br>  "File_name.phl" <br>  "File_name.cgi" <br>  "File_path / file_name.phl" <br>  "/file_path/file_name.html" <br>  "Https: //domain/file_path/file_name.html" <br><br>  <font color="#710000">[param]</font> : <br>  <font color="#000099">phl</font> , <font color="#000099">exist</font> , <font color="#000099">head</font> <br>  <font color="#000099">abs</font> , <font color="#000099">no_abs</font> , <font color="#000099">no_eval</font> <br>  <font color="#000099">no_strict</font> , <font color="#000099">open</font> , <font color="#000099">decode</font> <br>  <font color="#000099">no_decode</font> , <font color="#000099">cgi</font> , <font color="#000099">socket</font> <br>  <font color="#000099">fork</font> , <font color="#000099">thread</font> <br><br>  additional parameters and dependencies: <br>  <font color="#000099">phl [.phl]</font> &lt;= <font color="#000099">exist, head, abs, decode</font> <br>  <font color="#000099">cgi [.cgi]</font> &lt;= <font color="#000099">require, decode</font> <br>  <font color="#000099">open</font> &lt;= <font color="#000099">decode, abs</font> <br>  <font color="#000099">socket</font> &lt;= <font color="#000099">exist, head, no_abs, decode, no_decode</font> <br>  <font color="#000099">fork</font> &lt;= <font color="#000099">waitpid, no_waitpid</font> <br>  <font color="#000099">thread</font> &lt;= <font color="#000099">join, detach</font> <br><br>  The first argument to ' <font color="#710000">file_name</font> ' may contain the reserved words " <font color="#000099">JOIN</font> ", " <font color="#000099">CONFIG</font> " or " <font color="#000099">TIMER</font> " in addition to the file name. <br><br>  If the file ' <font color="#710000">file_name</font> ' has the extension ' <font color="#000099">.phl</font> ', then this file is identified as a PHL file.  The extension can be changed in the settings using <font color="#000099">$ phl {pl}</font> . <br><br>  When the ' <font color="#000099">include ()</font> ' function is called in an undefined context, the result of the Perl code execution is placed in the body of the document inside the <font color="#000099">print ()</font> function.  For scalar or list context, the result is returned as the requested value of a variable or list of values, respectively. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> include(<span class="hljs-string"><span class="hljs-string">"file_name.phl"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $result = include(<span class="hljs-string"><span class="hljs-string">"file_name.phl"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @result = include(<span class="hljs-string"><span class="hljs-string">"file_name.phl"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> %&gt;</code> </pre><br>  The second argument of the function ' <font color="#000099">include ()</font> ' may contain one or more special control parameters. <br><br><h3>  ‚Ä¢ ' <font color="#000099">phl</font> ' parameter </h3><br>  This parameter indicates to the processor that the code contained in the include file is a PHL format document. <br><br>  The file data is sent to the analyzer, where it is converted into perl-code and transferred to ' <font color="#000099">eval</font> '. <br><br>  The ' <font color="#000099">phl</font> ' parameter performs similar actions if we simply indicated the extension ' <font color="#000099">.phl</font> ' in the name of the included file (the extension can be changed in the settings in ' <font color="#000099">$ phl {pl}</font> '). <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> include(<span class="hljs-string"><span class="hljs-string">"file_name.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"phl"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $result = include(<span class="hljs-string"><span class="hljs-string">"file_name.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"phl decode=utf-8"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @result = include(<span class="hljs-string"><span class="hljs-string">"file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"phl abs"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ The parameter ' <font color="#000099">exist</font> ' (' <font color="#000099">ex</font> ') </h3><br>  Allows you to check the existence of the file. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $exist_file = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"exist"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($exist_file) { <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" $file_name "</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" $file_name  "</span></span>; <span class="hljs-number"><span class="hljs-number">7</span></span> } <span class="hljs-number"><span class="hljs-number">8</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ ' <font color="#000099">head</font> ' parameter (' <font color="#000099">hd</font> ') </h3><br>  Returns a list of 5 elements: Content type, Document length, Modified time, Expires, Server. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @head = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"head"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ Parameter ' <font color="#000099">abs</font> ' </h3><br>  If the parameter ' <font color="#000099">abs</font> ' is present, the relative references specified in the file are converted to absolute ones. <br><br><pre> <code class="hljs pgsql"> %pl <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "abs");</code> </pre><br><h3>  ‚Ä¢ Parameter ' <font color="#000099">no_eval</font> ' (' <font color="#000099">ne</font> ') </h3><br>  When specifying this parameter, the result of the execution of the included file code is ignored. <br><br><pre> <code class="hljs pgsql"> &lt;%pl <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "no_eval") %&gt;</code> </pre><br><h3>  ‚Ä¢ Parameter ' <font color="#000099">no_strict</font> ' (' <font color="#000099">ns</font> ') </h3><br>  If the ' <font color="#000099">no_strict</font> ' parameter is specified, the action of the ' <font color="#000099">use strict</font> ' pragma is not applied to the code of the loaded file ' <font color="#710000">$ file_name</font> '. <br><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "ns"); <span class="hljs-number"><span class="hljs-number">3</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ Parameter ' <font color="#000099">open</font> ' (' <font color="#000099">on</font> ') </h3><br>  Like the ' <font color="#000099">open ()</font> ' function, it is used to open a file and extract any data from it (there is no possibility to write data to a file). <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"open"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"open decode=koi8-r"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"on, decode=cp1251, abs"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ ' <font color="#000099">decode</font> ' (' <font color="#000099">dc</font> ') parameter </h3><br>  If the ' <font color="#000099">decode</font> ' parameter is <font color="#000099">present</font> , the data from the encoding specified in the parameters (for example, ' <font color="#000099">decode = cp1251</font> ') is decoded into the internal Perl format. <br><br>  If the encoding is not specified or the ' <font color="#000099">decode</font> ' parameter is <font color="#000099">missing</font> , then during decoding it is assumed that the encoding of the included file corresponds to the <font color="#000099">$ phl {encoding_in}</font> specified in the <font color="#000099">phl.pm</font> settings (or <font color="#000099">config.phl</font> ). <br><br>  If the encoding of the resulting document is different from ' <font color="#000099">utf-8</font> ', then the data is encoded into the <font color="#000099">$ phl {encoding_out} encoding</font> specified in the <font color="#000099">phl.pm</font> settings (or <font color="#000099">config.phl</font> ). <br>  Encoding and decoding data is carried out using the standard module ' <font color="#000099">Encode.pm</font> '. <br><br><h3>  ‚Ä¢ ' <font color="#000099">cgi</font> ' parameter </h3><br>  This parameter is intended for connecting cgi-scripts written in Perl. <br><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("file_name.cgi"); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "cgi"); <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "cgi require"); <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("file_name.cgi", "decode=cp866"); <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ ' <font color="#000099">socket</font> ' (' <font color="#000099">sk</font> ') parameter </h3><br>  Used to load a web document using the standard module ' <font color="#000099">IO :: Socket :: INET</font> ' <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> include(<span class="hljs-string"><span class="hljs-string">"file_name.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"socket"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> include(<span class="hljs-string"><span class="hljs-string">"http://domain/"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $text = include(<span class="hljs-string"><span class="hljs-string">"http://domain/file_path/file_name.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"decode=cp1251"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"decode no_abs"</span></span>); <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt;</code> </pre><br>  If the address of the file included in the document starts with http or ftp, then the ' <font color="#000099">socket</font> ' parameter is optional. <br><br>  Additional parameters ' <font color="#000099">exist</font> ', ' <font color="#000099">head</font> ', ' <font color="#000099">no_abs</font> ', ' <font color="#000099">decode</font> ', ' <font color="#000099">no_decode</font> ' may be used in conjunction with the ' <font color="#000099">socket</font> ' parameter. <br><br><ul><li>  <u>optional parameter</u> ' <font color="#000099">exist</font> ' (' <font color="#000099">ex</font> ') </li></ul><br>  Allows you to check the existence of a domain, file, address. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @include_name_file = ( <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-string"><span class="hljs-string">'dir1/name_file.html'</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-string"><span class="hljs-string">'/dir2/name_file.php'</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-string"><span class="hljs-string">'http://www.yandex.ru'</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-string"><span class="hljs-string">'http://www.yandex/eklmnfjoeqxngsitwf.html'</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-string"><span class="hljs-string">'http://eklmnfjoeqxngsitwfhoevd.ru'</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> ); <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $name_file (@include_name_file) { <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $ex = include(<span class="hljs-string"><span class="hljs-string">"$name_file"</span></span>, <span class="hljs-string"><span class="hljs-string">"socket exist"</span></span>); <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($ex) { <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" '$name_file' &lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">14</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">elsif</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">defined</span></span> $ex) { <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" '$name_file'  &lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">16</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">" '$name_file'  &lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">18</span></span> } <span class="hljs-number"><span class="hljs-number">19</span></span> } <span class="hljs-number"><span class="hljs-number">20</span></span> %&gt;</code> </pre><br><ul><li>  <u>additional parameter</u> ' <font color="#000099">head</font> ' (' <font color="#000099">hd</font> ') </li></ul><br>  Returns the title of the document. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $name_file (@test_name_file) { <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> head = include(<span class="hljs-string"><span class="hljs-string">"$name_file"</span></span>, <span class="hljs-string"><span class="hljs-string">"socket head"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($#head) { <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  '$name_file'  =&gt; '@head[0..3]'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  '$name_file'  =&gt; '@head'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span> } <span class="hljs-number"><span class="hljs-number">9</span></span> } <span class="hljs-number"><span class="hljs-number">10</span></span> %&gt;</code> </pre><br><ul><li>  <u>additional parameter</u> ' <font color="#000099">no_abs</font> ' (' <font color="#000099">na</font> ') </li></ul><br>  By default, all relative links are replaced with absolute ones, but if the ' <font color="#000099">no_abs</font> ' parameter is specified, this does not happen. <br><br><pre> <code class="hljs pgsql"> %pl <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "socket no_abs");</code> </pre><br><ul><li>  <u>additional parameter</u> ' <font color="#000099">decode</font> ' (' <font color="#000099">dc</font> ') </li></ul><br>  It is used to decode documents from the encoding specified by the ' <font color="#000099">decode</font> ' parameter into the internal Perl format and further into the encoding specified in the settings in <font color="#000099">$ phl {encoding_out}</font> . <br><br>  If the ' <font color="#000099">decode</font> ' parameter is used without specifying the source encoding of the requested file, then decoding is performed taking into account the encoding specified in the file header in ' <font color="#710000">charset</font> ' (if any). <br><br>  If the ' <font color="#000099">decode</font> ' parameter is not used, it is assumed by default that our file is utf-8 encoded. <br><br>  Using the ' <font color="#000099">no_decode</font> ' parameter (' <font color="#000099">nd</font> '), no decoding of the data occurs. <br><br><pre> <code class="hljs ruby"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">"http://www.rbc.ru"</span></span>, <span class="hljs-string"><span class="hljs-string">"decode=utf-8"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">"http://www.mail.ru"</span></span>, <span class="hljs-string"><span class="hljs-string">"decode"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> my $html_text1 = <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">"http://ru.motorsport.com"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> my $html_text2 = <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">"http://www.google.com"</span></span>, <span class="hljs-string"><span class="hljs-string">"nd"</span></span>); <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ ' <font color="#000099">fork</font> ' (' <font color="#000099">fk</font> ') parameter </h3><br>  The code of the file being loaded is executed in a parallel child process created as a result of the launch of ' <font color="#000099">fork ()</font> '. <br><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "fork"); <span class="hljs-number"><span class="hljs-number">3</span></span> %&gt;</code> </pre><br>  The result of executing a parallel process can be returned to the parent using the ' <font color="#000099">return</font> ' in the text of the include file instruction. <br><br><pre> <code class="hljs objectivec"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> &lt;font color=<span class="hljs-meta"><span class="hljs-meta">#646464&gt;</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;I&gt;</span></span></span><span class="hljs-meta">#    $phl_var{name}</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;/I&gt;</span></span></span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;/font&gt;</span></span></span><span class="hljs-meta"> 3 my $f = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">" "</span></span></span><span class="hljs-meta">; 4 sleep 1; 5 return $f; 6 %&gt;</span></span></code> </pre><br>  In the third argument of the function ' <font color="#000099">include ()</font> ' you can specify the unique name of the child process, in order to then look for the result of the execution of the child process ‚Äúby name‚Äù. <br><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "fork", "f1"); <span class="hljs-number"><span class="hljs-number">3</span></span> %&gt;</code> </pre><br><ul><li>  <u>additional parameter</u> ' <font color="#000099">waitpid</font> ' (' <font color="#000099">wd</font> ') </li></ul><br>  In order to return the result of the child process execution to the point of calling the ' <font color="#000099">include ()</font> ' function, it is necessary to specify the ' <font color="#000099">waitpid</font> ' parameter in addition to the ' <font color="#000099">fork</font> ' parameter or to specify ' <font color="#000099">waitpid</font> ' as the third argument to the ' <font color="#000099">include ()</font> ' function. <br><br>  The result of working out a parallel process can be returned back to the parent process by calling ' <font color="#000099">include ()</font> ' in scalar or list context. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> $result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"fork waitpid"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> @result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"fork"</span></span>, <span class="hljs-string"><span class="hljs-string">"waitpid"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> %&gt;</code> </pre><br>  In fact, you can refuse from the ' <font color="#000099">waitpid</font> ' parameter altogether, both in the second and in the third argument.  In this case, the program will still wait for the completion of the child process, and the function ' <font color="#000099">include ()</font> ' will be less cumbersome. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> @result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"fork"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> $result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"fk"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> %&gt;</code> </pre><br><ul><li>  <u>additional parameter</u> ' <font color="#000099">no_waitpid</font> ' (' <font color="#000099">nw</font> ') </li></ul><br>  The result of the process can not be returned, unless, try to write something to a file or display it. <br><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "fork no_waitpid"); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "fork", "no_waitpid"); <span class="hljs-number"><span class="hljs-number">4</span></span> %&gt;</code> </pre><br><ul><li>  <u>argument</u> ' <font color="#000099">JOIN</font> ' </li></ul><br>  To access the result of executing the child process, you can use the function ' <font color="#000099">include ()</font> ', where the first argument is the reserved word ' <font color="#000099">JOIN</font> ', the second argument is the name or names of the child processes. <br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"fork"</span></span>, <span class="hljs-string"><span class="hljs-string">"f1"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> #         <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> my $rezult = include(<span class="hljs-string"><span class="hljs-string">"JOIN"</span></span>, <span class="hljs-string"><span class="hljs-string">"f1"</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> %&gt;</code> </pre><br>  You can return the results of several or even all parallel processes by referring to the hash, the keys of which are the names of the processes, the values ‚Äã‚Äã- the results of their execution. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> %join_2_3 = include(<span class="hljs-string"><span class="hljs-string">"JOIN"</span></span>, <span class="hljs-string"><span class="hljs-string">"f2 f3"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  'f2' = $join_2_3{f2}&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> %join_all = include(<span class="hljs-string"><span class="hljs-string">"JOIN"</span></span>); <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $key(<span class="hljs-keyword"><span class="hljs-keyword">keys</span></span>(%join_all)) { <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">ref</span></span> $join_all{$key}) { <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @result = @{$join_all{$key}}; <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  '$key' = '$join_all{$key}' =&gt; "</span></span>; <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"     = '$result[0]'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">11</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  '$key' = '$join_all{$key}'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">13</span></span> } <span class="hljs-number"><span class="hljs-number">14</span></span> } <span class="hljs-number"><span class="hljs-number">15</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ ' <font color="#000099">thread</font> ' (' <font color="#000099">td</font> ') parameter </h3><br>  A so-called ‚Äúthread‚Äù (‚Äúthread‚Äù) is created - a peculiar branch of the process in which code execution is possible parallel to the code of the process that generated the thread. <br><br>  To create a thread, the standard ' <font color="#000099">thread</font> ' module is used (in turn, Perl must be configured to work with threads). <br><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "thread"); <span class="hljs-number"><span class="hljs-number">3</span></span> %&gt;</code> </pre><br>  As in the case of the <font color="#000099">fork</font> parameter, when using threads, it is possible to return the result of the created thread, both to the call point of the <font color="#000099">include ()</font> function, and to an arbitrary point of the program, or to ‚Äúforget‚Äù about the result without returning anything. <br><br><ul><li>  <u>additional parameter</u> ' <font color="#000099">join</font> ' (' <font color="#000099">jn</font> ') </li></ul><br>  The result of executing the thread returns to the call point, while the parent process temporarily stops its execution and waits for data (from the created threads). <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> $result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"thread join"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> @result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"thread"</span></span>, <span class="hljs-string"><span class="hljs-string">"join"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> %result = include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"thread"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> %&gt;</code> </pre><br><ul><li>  <u>additional parameter</u> ' <font color="#000099">detach</font> ' (' <font color="#000099">dh</font> ') </li></ul><br>  The thread is created, but the main thread of the process does not know in it. <br><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "thread detach"); <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("$file_name", "thread", "detach"); <span class="hljs-number"><span class="hljs-number">4</span></span> %&gt;</code> </pre><br>  You can return data to any point of the main branch of the process by assigning a thread a name (by analogy with the child process created by the ' <font color="#000099">fork</font> ' parameter). <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"thread"</span></span>, <span class="hljs-string"><span class="hljs-string">"t1"</span></span>); <span class="hljs-number"><span class="hljs-number">3</span></span> include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"thread"</span></span>, <span class="hljs-string"><span class="hljs-string">"t2"</span></span>); <span class="hljs-number"><span class="hljs-number">4</span></span> include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"thread"</span></span>, <span class="hljs-string"><span class="hljs-string">"t3"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $rezult = include(<span class="hljs-string"><span class="hljs-string">"JOIN"</span></span>, <span class="hljs-string"><span class="hljs-string">"t2"</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  't2' = '$rezult'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> %join = include(<span class="hljs-string"><span class="hljs-string">"JOIN"</span></span>, <span class="hljs-string"><span class="hljs-string">"t1 t3"</span></span>); <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  't1' = '$join{t1}'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"  't3' = '$join{t3}'&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">12</span></span> %&gt;</code> </pre><br><h3>  ‚Ä¢ Own parameters </h3><br>  If you wish, you can define your own (optional) parameters or override existing ones.  This is implemented using specially designed modules. <br><br>  So, for example, using the ' <font color="#000099">HTML :: Phl :: Utilit</font> ' <font color="#000099">module</font> and the ' <font color="#000099">analys</font> ' (' <font color="#000099">as</font> ') parameter, you can view the perl code generated by the analyzer of the included file before its execution by <font color="#000099">eval</font> . <br><br>  <b>Example:</b> <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -ev <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Phl::Utilit; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">4</span></span> include(<span class="hljs-string"><span class="hljs-string">"$file_name"</span></span>, <span class="hljs-string"><span class="hljs-string">"as"</span></span>); <span class="hljs-number"><span class="hljs-number">5</span></span> %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Listing</b> <div class="spoiler_text"><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span>  HTML&lt;br&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">" Perl&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"$test"</span></span>); <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>  HTML&lt;br&gt;</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span>  HTML&lt;br&gt; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">" Perl&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"$test"</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>  HTML&lt;br&gt; <span class="hljs-number"><span class="hljs-number">10</span></span> [HTML]</code> </pre><br></div></div><br><a name="m"></a><br><h2>  PHL Expansion Modules </h2><br>  To achieve greater flexibility in working in PHL, the ability to set your own instruction pointers <font color="#710000">[sh]</font> , keys <font color="#710000">[keys]</font> , first argument <font color="#710000">[include]</font> and parameters <font color="#710000">[param] of the</font> function ' <font color="#000099">include ()</font> ' is implemented. <br><br>  <font color="#000099">&lt;%</font> <font color="#710000">[sh] [keys]</font> <br>  ... <br>  <font color="#000099">include (" <font color="#710000">[include]</font> ", " <font color="#710000">[param]</font> ")</font> ; <br>  ... <br>  <font color="#000099">%&gt;</font> <br><br>  New keys, parameters and pointers are imported into <font color="#000099">phl.pm</font> from specially written modules for this purpose. <br><br>  For example, 4 modules are included in the PHL: <br><br><pre> <code class="hljs rust"> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Phl::Utilit; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Phl::Psimple; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Phl::Php; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Phl::Ru;</code> </pre><br>  Modules can be connected both in the file ' <font color="#000099">phl.pm</font> ' or ' <font color="#000099">config.phl</font> ', and in the PHL file. <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -ev <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Phl::Utilit <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment">#  perl 5 %&gt;</span></span></code> </pre><br><h3>  ‚Ä¢ Module ' <font color="#000099">HTML :: Phl :: Utilit</font> ' </h3><br>  The module exports to the program 5 keys, 2 parameters and 2 arguments for the function ' <font color="#000099">include ()</font> '. <br><br>  <font color="#710000">[keys]</font> : <br>  <font color="#000099">-listing</font> <br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-analys </font></font></font> <br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-config </font></font></font> <br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-timer </font></font></font> <br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-no_timer </font></font></font> <br><br> <font color="#710000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[param]</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">listing </font></font></font> <br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analys </font></font></font> <br><br> <font color="#710000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[include]</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONFIG </font></font></font> <br> <font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIMER The </font></font></font> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keys</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-listing</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '[' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-lt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '] and' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-analys</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' [' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-as</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '] and the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parameters</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">listing</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' (' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ') and' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analys</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' (' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ') give the opportunity to see the program listing or the perl code generated by the analyzer before its execution by </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eval</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Key ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-listing</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' ['</font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-lt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ']</font></font><br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span>  HTML <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> &lt;br&gt;&lt;br&gt; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> &lt;%pl -<span class="hljs-keyword"><span class="hljs-keyword">lt</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">" Perl&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"$test"</span></span>; <span class="hljs-number"><span class="hljs-number">7</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">8</span></span> &lt;br&gt; <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>  HTML <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text">  HTML 1 <br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">" Perl&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"$test"</span></span>;</code> </pre><br>  HTML 2 <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Key ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-analys</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' [' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-as</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ']</font></font><br><br><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -as <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">" Perl&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"$test"</span></span>); <span class="hljs-number"><span class="hljs-number">6</span></span> %&gt; <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>  HTML  &lt;%pl= $test %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs perl"> <span class="hljs-number"><span class="hljs-number">1</span></span> ; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $test = <span class="hljs-string"><span class="hljs-string">" Perl&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"$test"</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> &lt;&lt;<span class="hljs-string"><span class="hljs-string">'[HTML]'</span></span> =~ <span class="hljs-regexp"><span class="hljs-regexp">/(.*)/</span></span>; <span class="hljs-number"><span class="hljs-number">11</span></span>  HTML  <span class="hljs-number"><span class="hljs-number">12</span></span> [HTML] <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>($test);</code> </pre><br></div></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The key</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-config</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' [' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-cf</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '] or the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONFIG</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' of the function ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">include ()</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' prints the hash of </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% phl</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> configuration variables.</font></font><br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -config <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>   <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">6</span></span> include(<span class="hljs-string"><span class="hljs-string">"CONFIG"</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><h3>   </h3><br> <b>bottom</b> = '' <br> <b>bufer</b> = ' <font color="gray">1</font> ' <br> <b>config</b> = ' <font color="gray">config.phl</font> ' <br> <b>config_path</b> = '' <br> <b>encoding_in</b> = ' <font color="gray">utf8</font> ' <br> <b>encoding_out</b> = ' <font color="gray">utf8</font> ' <br> <b>finde_config</b> = ' <font color="gray">yes</font> ' <br> <b>header</b> = ' <font color="gray">Content-type: text/html; charset=utf-8</font> ' <br> <b>index</b> = ' <font color="gray">index.phl</font> ' <br> <b>ln</b> = ' <font color="gray">%</font> ' <br> <b>locale</b> = ' <font color="gray">utf8</font> ' <br> <b>lt</b> = ' <font color="gray">&lt;%</font> ' <br> <b>pl</b> = ' <font color="gray">phl</font> ' <br> <b>rt</b> = ' <font color="gray">%&gt;</font> ' <br> <b>script_dir</b> = '' <br> <b>sh</b> = ' <font color="gray">pl</font> ' <br> <b>threads</b> = ' <font color="gray">1</font> ' <br> <b>timer</b> = ' <font color="gray">0</font> ' <br> <b>top</b> = '' <br></div></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The keys</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-timer</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' [' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-tm</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '] and ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-no_timer</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' [' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-nt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '] allow you to change the mechanism for displaying time intervals for the program components, and using the ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIMER</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font><font style="vertical-align: inherit;">argument of the </font><font style="vertical-align: inherit;">' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">include ()</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font><font style="vertical-align: inherit;">function </font><font style="vertical-align: inherit;">you can set your own timer .</font></font><br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> #    <span class="hljs-number"><span class="hljs-number">3</span></span> %pl -timer <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> #    <span class="hljs-number"><span class="hljs-number">6</span></span> %pl -nt <span class="hljs-number"><span class="hljs-number">7</span></span> %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text"> 1.  timer  '-timer'  '-tm' <br> <b>timer = 4</b> <br><br> 2.     'include()' ( ) <br><br>  =&gt; <p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.248574</font> <font color="gray">[0.226931 ]</font> &lt; <font color="#000099">INCLUDE_BEGINE</font> <font color="gray">()</font> </p><br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.248953</font> <font color="gray">[0.227302 ]</font> &lt; <font color="#000099">INCLUDE_END</font> <font color="gray">()</font> </p><br> test: <b>timer = 4</b> <br><br> 3.  timer  '-no_timer'  '-nt' <br><br> 4.     'include()' <br><br>  =&gt; test: <b>timer = 0</b> <br></div></div><br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;%pl <span class="hljs-number"><span class="hljs-number">2</span></span> #     <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("TIMER", " "); <span class="hljs-number"><span class="hljs-number">4</span></span> %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text">   <b>1</b> <br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.000005</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_1)</font> </p><br>    ‚Äî <b>sleep 0.2</b> <br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.200440</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_1)</font> </p><br><br>   <b>2</b> <br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.000004</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_2)</font> </p><br>    ‚Äî <b>sleep 0.5</b> <br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.701001</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_1)</font> </p><br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.500496</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_2)</font> </p><br><br>   <b>3</b> <br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.000003</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_3)</font> </p><br>    ‚Äî <b>sleep 0.35</b> <br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">1.051648</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_1)</font> </p><br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.851139</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_2)</font> </p><br><p> <font color="gray">‚Ä¢  ‚Äî</font> <font color="#000099">0.350579</font> &lt; <font color="#000099">TIMER</font> <font color="gray">(name_timer_3)</font> </p><br></div></div><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ Module ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML :: Phl :: Php</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exports the ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">php</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' pointer, turning the instruction pointer ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;% pl</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' into ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;% php</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ', to be able to work with the programming language code PHP;</font></font><br><br><pre> <code class="hljs bash"> 1 %pl -ev use HTML::Phl::Php; 2 3 %pl our <span class="hljs-variable"><span class="hljs-variable">$pl</span></span> = 5; 4 5   PERL: <span class="hljs-variable"><span class="hljs-variable">$pl</span></span> = &lt;b&gt;<span class="hljs-string"><span class="hljs-string">'&lt;%pl= $pl %&gt;'</span></span>&lt;/b&gt;. 6 &lt;br&gt;&lt;br&gt; 7 8 &lt;%php 9 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"  </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pl</span></span></span><span class="hljs-string">   PHP (</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pl</span></span></span><span class="hljs-string"> -&gt; </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$php</span></span></span><span class="hljs-string">).&lt;br&gt;"</span></span>; 10 OUT_PERL(<span class="hljs-variable"><span class="hljs-variable">$pl</span></span> -&gt; <span class="hljs-variable"><span class="hljs-variable">$php</span></span>); 11 12 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;li&gt; </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$php</span></span></span><span class="hljs-string"> = </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$php</span></span></span><span class="hljs-string">.&lt;/li&gt;&lt;br&gt;"</span></span>; 13 14 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">" PHP   : </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$php</span></span></span><span class="hljs-string"> = 2 * </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$php</span></span></span><span class="hljs-string"> + 1.5.&lt;br&gt;&lt;br&gt;"</span></span>; 15 <span class="hljs-variable"><span class="hljs-variable">$php</span></span> = 2 * <span class="hljs-variable"><span class="hljs-variable">$php</span></span> + 1.5; 16 17 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"   </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$php</span></span></span><span class="hljs-string">  PERL (</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$php</span></span></span><span class="hljs-string"> -&gt; </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pl</span></span></span><span class="hljs-string">).&lt;br&gt;"</span></span>; 18 IN_PERL(<span class="hljs-variable"><span class="hljs-variable">$php</span></span> -&gt; <span class="hljs-variable"><span class="hljs-variable">$pl</span></span>); 19 %&gt; 20 21 &lt;li&gt;  PERL: <span class="hljs-variable"><span class="hljs-variable">$pl</span></span> = &lt;b&gt;<span class="hljs-string"><span class="hljs-string">'&lt;%pl= $pl %&gt;'</span></span>&lt;/b&gt;&lt;/li&gt;.</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text">   PERL: $pl = <b>'5'</b> . <br><br>   $pl   PHP ($pl -&gt; $php). <br>  $php = 5. <br>  PHP   : $php = 2 * $php + 1.5. <br><br>    $php  PERL ($php -&gt; $pl). <br>   PERL: $pl = <b>'11.5'</b> . <br></div></div><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ Module ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML :: Phl :: Ru</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exports the ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rus</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' pointer, turning the instruction pointer ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;% pl</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' into ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;% rus</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ', allowing you to work with some functions and operators of Cyrillic writing.</font></font><br><br><pre> <code class="hljs mel"> <span class="hljs-number"><span class="hljs-number">1</span></span> %pl -ev use HTML::Phl::Ru; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;% <span class="hljs-number"><span class="hljs-number">4</span></span> my @_ = ( <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-string"><span class="hljs-string">'file_exist.phl'</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-string"><span class="hljs-string">'http://www.pushkinmuseum.ru'</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-string"><span class="hljs-string">'http://www.pushkinmuseum.ru/467899'</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-string"><span class="hljs-string">'http://eklmn12344556778.ru'</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> ); <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> foreach my $_ (@_) { <span class="hljs-number"><span class="hljs-number">12</span></span> my $ = (<span class="hljs-string"><span class="hljs-string">"$_"</span></span>, <span class="hljs-string"><span class="hljs-string">"socket exist"</span></span>); <span class="hljs-number"><span class="hljs-number">13</span></span>  ($) { <span class="hljs-number"><span class="hljs-number">14</span></span>  <span class="hljs-string"><span class="hljs-string">"'$_' - &lt;B&gt;&lt;/B&gt;&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">15</span></span> }   (!defined $) { <span class="hljs-number"><span class="hljs-number">16</span></span>  <span class="hljs-string"><span class="hljs-string">"'$_' - &lt;B&gt; &lt;/B&gt;&lt;br&gt;"</span></span>; <span class="hljs-number"><span class="hljs-number">17</span></span> }  { <span class="hljs-number"><span class="hljs-number">18</span></span>  (<span class="hljs-string"><span class="hljs-string">"'$_' - &lt;B&gt; &lt;/B&gt;&lt;br&gt;"</span></span>); <span class="hljs-number"><span class="hljs-number">19</span></span> } <span class="hljs-number"><span class="hljs-number">20</span></span> } <span class="hljs-number"><span class="hljs-number">21</span></span> %&gt;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"> 'file_exist.phl' ‚Äî <b> </b> <br> 'http://www.pushkinmuseum.ru' ‚Äî <b></b> <br> 'http://www.pushkinmuseum.ru/467899' ‚Äî <b> </b> <br> 'http://eklmn12344556778.ru' ‚Äî <b> </b> <br></div></div><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ Module ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML :: Phl :: Psimple</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exports the parameter ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simple</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' [' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sl</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> '] to work with the standard Perl module ' </font></font><font color="#000099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LWP :: Simple</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ';</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expansion Module Structure </font></font></h3><br>    ,          (  ‚Äî  'Phl',       ' <font color="#000099">phl.pm</font> ')     ' <font color="#000099">%phl_import</font> ',        ,   . <br><br>  ' <font color="#000099">%phl_import</font> '   5  ‚Äî ' <font color="#000099">sh</font> ', ' <font color="#000099">key</font> ', ' <font color="#000099">param</font> ', ' <font color="#000099">include</font> '  ' <font color="#000099">eval</font> '. <br><br><pre> <code class="hljs php"> <span class="hljs-number"><span class="hljs-number">1</span></span> our %phl_import = ( <span class="hljs-number"><span class="hljs-number">2</span></span> key =&gt; { <span class="hljs-number"><span class="hljs-number">3</span></span> tm =&gt; \&amp;HTML::Phl::Utilit::key_timer, <span class="hljs-number"><span class="hljs-number">4</span></span> im =&gt; \&amp;HTML::Phl::Utilit::print_import, <span class="hljs-number"><span class="hljs-number">5</span></span> }, <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> =&gt; { <span class="hljs-number"><span class="hljs-number">7</span></span> TIMER =&gt; \&amp;HTML::Phl::Utilit::my_timer, <span class="hljs-number"><span class="hljs-number">8</span></span> CONFIG =&gt; \&amp;HTML::Phl::Utilit::config, <span class="hljs-number"><span class="hljs-number">9</span></span> }, <span class="hljs-number"><span class="hljs-number">10</span></span> param =&gt; {lt =&gt; \&amp;HTML::Phl::Utilit::open_listing}, <span class="hljs-number"><span class="hljs-number">11</span></span> sh =&gt; {<span class="hljs-string"><span class="hljs-string">''</span></span> =&gt; \&amp;HTML::Phl::Ru::ru_perl}, <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">eval</span></span> =&gt; {<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> =&gt; \&amp;HTML::Phl::Utilit::eval_code} <span class="hljs-number"><span class="hljs-number">13</span></span> );</code> </pre><br><a name="n"></a><br><h2>   <a href="https://habr.com/ru/post/304634/">^</a> </h2><br>   ' <font color="#000099">config.phl</font> '    ,   ' <font color="#000099">phl.pm</font> '.      web-,  PHL . <br><br>      Perl      <font color="#000099">%phl</font> . <br><br><div class="spoiler"> <b class="spoiler_title">config.phl</b> <div class="spoiler_text"> <i>#  ,   ,    PHL (    ‚Äî '.phl')</i> <br> <font color="#000099">$phl{pl}</font> = ' <font color="#710000">phl</font> '; <br><br> <i>#  ,    'include()'  ,     ,   <a href="http://domain.ru/file_path/">domain.ru/file_path</a></i> <br> <font color="#000099">$phl{index}</font> = ' <font color="#710000">index.phl</font> '; <br><br> <i>#        'config.phl'    include()  [ yes/no ]</i> <br> <font color="#000099">$phl{finde_config}</font> = " <font color="#710000">yes</font> "; <br><br> <i>#    [  , '&lt;%pl code_perl %&gt;', '%pl line_code_perl' ]</i> <br> <font color="#000099">$phl{lt}</font> = ' <font color="#710000">&lt;%</font> '; <br> <i>#   </i> <br> <font color="#000099">$phl{rt}</font> = ' <font color="#710000">%&gt;</font> '; <br> <i>#   </i> <br> <font color="#000099">$phl{ln}</font> = ' <font color="#710000">%</font> '; <br> <i>#  </i> <br> <font color="#000099">$phl{sh}</font> = ' <font color="#710000">pl</font> '; <br> <i>#      (    perl)</i> <br><br> <i>#   [  , ¬´Content-type: text/html; charset=utf-8\n\n¬ª; $phl_header = "" ‚Äî   ]</i> <br> <font color="#000099">$phl{header}</font> = ""; <br><br> <i>#  </i> <br> <font color="#000099">$phl{top}</font> = ""; <br><br> <i>#  </i> <br> <font color="#000099">$phl{bottom}</font> = ""; <br><br> <i>#   [ ¬´1¬ª  =&gt; $| = 1, ¬´0¬ª  =&gt; $| = 0 ]</i> <br> <font color="#000099">$phl{bufer}</font> = <font color="#710000">1</font> ; <br><br> <i>#   () [ 1/0 ]</i> <br> <font color="#000099">$phl{threads}</font> = <font color="#710000">1</font> ; <br><br> <i>#     [    =&gt; ¬´0¬ª ‚Äî , ¬´1¬ª...¬´4¬ª ‚Äî  ]</i> <br> <font color="#000099">$phl{timer}</font> = <font color="#710000">0</font> ; <br><br> <i>#   [ cp1251, utf8, koi8-r, iso-8859-5, cp866‚Ä¶ ]</i> <br> <font color="#000099">$phl{encoding_in}</font> = " <font color="#710000">utf8</font> "; <i>#   include() </i> <br> <font color="#000099">$phl{encoding_out}</font> = " <font color="#710000">utf8</font> "; <i>#   </i> <br> <font color="#000099">$phl{locale}</font> = " <font color="#710000">utf8</font> "; <i>#     </i> <br></div></div><br><hr><br><a name="d"></a><br><h2>  PHL <a href="https://habr.com/ru/post/304634/">^</a> </h2><img src="https://habrastorage.org/files/76b/388/7a3/76b3887a3d564bc18e9d56a7adb61dbb.jpg" width="92" height="100" alt="camel" align="right"><br>  <font color="#000099">'HTML::Phl'</font>    -,      <a href="http://phl.cherti.ru/%3Fdownloads"></a> . <br><br>        Android,   <a href="http://phl.cherti.ru/%3Fsl4a">SL4A</a> ,      perl-,   -,   HTML    Perl.    -  Perl  Android   <a href="http://korzh.net/2011-04-pishem-svoj-veb-server-na-perl-pod-android.html"></a>        PHL  <a href="http://phl.cherti.ru/%3Fdownloads"></a> . </div><p>Source: <a href="https://habr.com/ru/post/304634/">https://habr.com/ru/post/304634/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304624/index.html">The digest of interesting events from the world of Java, and around it # 5 (06/20/2016 - 07/03/2016)</a></li>
<li><a href="../304626/index.html">PVS-Studio hurries to the aid of CERN: checking the project Geant4</a></li>
<li><a href="../304628/index.html">Everything you wanted to know about BPM, but were afraid to ask</a></li>
<li><a href="../304630/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ218 (July 27 - 3, 2016)</a></li>
<li><a href="../304632/index.html">Creation of the minimap on Unity</a></li>
<li><a href="../304636/index.html">How I changed the main domain in Google Apps</a></li>
<li><a href="../304638/index.html">"Confrontation" through the eyes of a defender: A story about PHDays CTF from a competitor</a></li>
<li><a href="../304640/index.html">Instant Run: how does it work?</a></li>
<li><a href="../304642/index.html">A little bit about improving database performance: Practical advice</a></li>
<li><a href="../304644/index.html">SO_TIMESTAMPING in pictures. Reception package</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>