<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dcoin on iOS ... and Kate. The final</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The final part of a series of articles about my experience of switching from PHP to Go. 

 The first part , second , third , fourth . 

 4.5 years ago...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dcoin on iOS ... and Kate. The final</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/post/281709/"><img src="https://habrastorage.org/getpro/habr/post_images/c18/995/6f4/c189956f4ea4e08c0e7ea18e2e50a398.jpg"></a> <br><br>  The final part of a series of articles about my experience of switching from PHP to Go. <br><a name="habracut"></a><br>  <a href="http://habrahabr.ru/company/dcoin/blog/272695/">The first part</a> , <a href="http://habrahabr.ru/post/273333/">second</a> , <a href="https://habrahabr.ru/post/274885/">third</a> , <a href="https://habrahabr.ru/post/277099/">fourth</a> . <br><br>  4.5 years ago I had the imprudence to start writing my cryptocurrency in a completely inappropriate language for this business - in PHP.  As a result, of course, I wrote (I am stubborn), but it turned out to be a crutch on a crutch and that it worked at all was just some kind of magic. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I just want to warn you, I‚Äôm a self-taught programmer and I write code, to say the least, imperfectly. <br><br>  It all started with the fact that I broke up with a girl named Katya and on the same day (April 4, 2015) decided to study Go and rewrite my cryptocurrency.  I can‚Äôt write about Katya not under the spoilers;  Habr is still for IT-related articles, and not for love stories and harsh IT people who are interested in Go, can simply not pay attention to spoilers ‚Äúabout Katya‚Äù and ‚Äúabout Masha‚Äù. <br><br>  A total of 8 months: the application runs on <a href="https://github.com/c-darwin/dcoin-go/releases/">Win, OSX, Linux, FreeBSD</a> , <a href="https://play.google.com/store/apps/details%3Fid%3Dorg.golang.app">Android</a> , <a href="http://dcoin.club/ru/ios.html">IOS</a> <br><br>  General code ~ 73k lines, code for different OS somewhere a few hundred lines. <br><br>  40k - processing / generation of blocks / tr-s, 17.5k - controllers for the interface, 15.5k - templates. <br><br>  PostgreSQL, SQLite, MySQL are supported. <br><br>  Those who will test my creation, I warn you - there may be bugs, and if you have time, drop a line about them, please, at <a href="">darwin@dcoin.club</a> or in a personal on Habr√©.  Suggestions and advice are also welcome. <br><br>  In the first four parts, I talked about how a web server works in dcoin, about <a href="https://golang.org/pkg/html/template/">html / template</a> , databases, smooth application termination, encryption and parsing of blocks, Android application. <br><br>  In this part I will tell about compilation under IOS. <br><br><h3>  Start </h3><br>  The first difficulty was that I did not have a developer certificate.  And without it, the application could not be compiled.  I didn't have an iPhone either, as well as Mack.  Day 3 was fiddling with installing osx on virualbox, in the end I could only install on vmware and establish a network with a virtualbox to work in the console. <br><br>  I found out that in my luck, in xcode 7 there was an opportunity to compile applications with a free certificate that anyone can create.  And the iPhone 4s was lent me very much in time.  It was possible to plunge into the development. <br><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  (In previous parts): <br>  I wrote to her at VK, said that she had forgotten the bodies at home, and now she was with a friend.  I wrote that I would wait for her.  Then he received "Do not call and do not write me more !!!!".  He didn‚Äôt ask any questions, called the next apartment, asked me to send the flowers to Kate when she was home.  I came home, a few hours later I decided to rewrite Dcoin to Go. <br><br>  A couple of days later I wrote to her that I was leaving for several months with my head in my project and asked me not to bother me over nothing. <br><br>  A week later, Kati came sms-ka hello.  Well, how are you? ‚Äù.  I did not answer.  A week later, another "hello.  how are you?".  I did not answer again. <br><br>  About a week later, she wrote that she urgently needed 7 tr.  in debt, because  she does not have enough to pay for the apartment.  I answered "OK".  The next day she came to my house. <br><br>  I do not know what she had in her head, she probably thought that I would pester her.  She was kind of weird all evening.  I was cold and tried to avoid any contact with her.  We ate, drank tea.  Katya said she needed to go home.  I called a taxi. <br>  When accompanied her to the taxi asked: <br><br>  - We are not together right?  Those.  I can do what I want? <br>  She: - In the sense of "what I want"?  No, we are together (moves up to me) <br>  I: - Well, we didn‚Äôt have a first date, we have not started everything from the beginning. <br>  She: - So it was just that. <br>  I: - What a date this is, you just came for the money. <br><br>  We were already at the door of the taxi, I got her down, paid the driver, she left. <br><br>  In the morning the phone rang, it was Katya.  I did not pick up the phone. <br><br>  The next day, she sent a sms-ku "hello.  I called yesterday, you did not pick up. "  I did not respond. <br><br>  A week later, she wrote that she received a ZP.  and wants to throw money on my card.  I did not answer anything.  A few days later she wrote ‚Äúhello.  how are you?".  I ignored again. <br><br>  About a week later, I finally ran Dcoin on the nodes and saw how the generation of the blocks was going on and how they were flying between the nodes, filling the databases.  It seemed to me that this can be considered the end of my temporary retreat and I wrote to Katya. <br><br>  She responded very positively to the fact that I came in contact with her, agreed to meet.  Then she said that everything was bad for her, the girlfriend with whom she rented the apartment moved out and that she was crying every day because of stress, she also decided to quit.  I decided that when we met, I would suggest that she move to live with me and not bathe about anything. </div></div><br>  It compiled and started everything without any special problems.  Opened in the browser and ... nothing.  But if you go through the network at <a href="http://127.0.0.1/">127.0.0.1</a> : 8089, it would give out a wallet.  It became obvious that when you press the home button, the application goes into some kind of sleep mode. <br><br>  By analogy with the android decided to make the service.  But, it turns out services on ios are impossible.  The maximum that can be done is to hang 600 seconds in the background.  So it is, of course, logical - the struggle for the safety of the battery.  In general, I had to learn how applications in ios generally work there. <br><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  As a result, Katya never arrived.  Again there were some excuses.  It ended with the fact that she sent me again.  This time I did not think to leave immediately, because  felt that she needed.  But Katya too much wanted me to leave and I had to leave her alone.  And promise never to call and write to her again. </div></div><br><br>  I created a simple application in xcode, I threw it on the phone, it works.  I began to dig up the file structure and at the same time look for something similar in gomobile, found <a href="">this file</a> .  I learned about NSLog, determined the place where he gives info <br><br>  I remember my joy when I saw the lines in the log that my application displayed.  It was cool, the connection is established, it will be easier further.  For me, the ability to write and read logs is probably the most important thing when developing an application. <br><br><div class="spoiler">  <b class="spoiler_title">About Masha</b> <div class="spoiler_text">  Again began to look for a girl on dating sites and in VK.  I forgot to mention that I keep myself in excellent physical.  form, because  at home there are a bunch of pancakes, 2 bars, dumbbell necks, a bench and a horizontal bar.  And I look at 20 with something, although I am already over 30. I quickly found a girl who liked me and wanted to meet me. </div></div><br>  Objectve-C, I did not know, and now I really do not know.  But it was obvious that without understanding, at least, the syntax will not work.  I read the lessons about Objectve-C a little, it became easier to understand the code. <br><br>  Googled about the background mode, found out that it was necessary to add such code in didFinishLaunchingWithOptions <br><pre><code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">// UIApplicationBackgroundFetchIntervalMinimum -           [[UIApplication sharedApplication] setMinimumBackgroundFetchInterval:UIApplicationBackgroundFetchIntervalMinimum];</span></span></code> </pre> <br>  And add to info.plist <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>UIBackgroundModes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>fetch<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Gomobile generates its info.plist.  You can edit it <a href="">here</a> . <br><br><div class="spoiler">  <b class="spoiler_title">About Masha</b> <div class="spoiler_text">  On the first date, I was 10 minutes late. When I saw Masha, I immediately thought ‚ÄúWow, and I am lucky,‚Äù she was very much in my taste.  We walked through the park, rode a boat, then I said that I needed to eat protein foods, otherwise the muscles would not grow and led me to our home.  After eating chicken meat, let's go to the bedroom to watch a movie.  But after 30 minutes, she said that she needed to go home, because  she feels unwell because she is not yet completely cured of a cold.  Called a taxi.  Masha left. </div></div><br><h3>  webView </h3><br>  The fact that everything worked in the browser was of course cool, but this was enough for only 3 minutes, because when the browser opens, the application goes into the background mode and drops after 3 minutes.  Without webView here in any way.  For quite a long time I understood where and how to insert a webView so that it is displayed.  There is no GUI, everything must be written in a text file, and considering that I was not familiar with the development under IOS at all, it was very hard for me <br><br>  In the end, of course, everything turned out and turned out to be extremely simple. <br><br><div class="spoiler">  <b class="spoiler_title">About Masha</b> <div class="spoiler_text">  Then during the week she said that she was working and had no time to meet, and we could only see each other on Sunday and not earlier than in 2 weeks.  I said that I would just come to me after work, we live side by side, and I don‚Äôt like to see each other once a week.  She replied that she would think. <br>  A day later, she wrote that she was afraid to go to the unfamiliar guy for the night.  I said that I thought she was missing at the ends and had almost begun to date other girls for the weekend.  She got angry, swore. <br>  The next day I sent jokes for the sake of sms-ku "All day on a date, I ride on a boat, in calluses of the hands and not only."  She did not understand the joke, she became angry more than ever, she had to explain that they said it was a joke, I was at home all day, I wrote the code. </div></div><br><pre> <code class="hljs ruby">- (void)viewDidLoad { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-number"><span class="hljs-number">3</span></span> ,  -   ,     . dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="hljs-number"><span class="hljs-number">0</span></span>), ^{ [NSThread <span class="hljs-symbol"><span class="hljs-symbol">sleepForTimeInterval:</span></span><span class="hljs-number"><span class="hljs-number">3.0</span></span>f]; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        dispatch_async(dispatch_get_main_queue(), ^{ <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   webView <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.webView = [[UIWebView alloc] <span class="hljs-symbol"><span class="hljs-symbol">initWithFrame:</span></span>CGRectMake(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.height)]; NSMutableURLRequest * request =[NSMutableURLRequest <span class="hljs-symbol"><span class="hljs-symbol">requestWithURL:</span></span>[NSURL <span class="hljs-symbol"><span class="hljs-symbol">URLWithString:</span></span>@<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:8089"</span></span>]]; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.webView.autoresizingMask = UIViewAutoresizingFlexibleWidth<span class="hljs-params"><span class="hljs-params">|UIViewAutoresizingFlexibleHeight; </span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">self</span></span></span><span class="hljs-params">.webView.scrollView.bounces = NO; </span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">self</span></span></span><span class="hljs-params">.webView.scalesPageToFit = NO; </span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">self</span></span></span><span class="hljs-params">.view = </span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">self</span></span></span><span class="hljs-params">.webView; </span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">self</span></span></span><span class="hljs-params">.webView.delegate = </span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">self</span></span></span><span class="hljs-params">; [</span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">self</span></span></span><span class="hljs-params">.webView loadRequest:request]; }); }); [</span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">super</span></span></span><span class="hljs-params"> viewDidLoad]; }</span></span></code> </pre><br><br>  Our webView should be added to the ViewController interface. <br><pre> <code class="hljs objectivec"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewController</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIWebViewDelegate</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIScrollViewDelegate</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UITextFieldDelegate</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">IBOutlet</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIWebView</span></span> *webView; ..... } <span class="hljs-keyword"><span class="hljs-keyword">@property</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">retain</span></span>)<span class="hljs-built_in"><span class="hljs-built_in">UIWebView</span></span> *webView;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">About Masha</b> <div class="spoiler_text">  A day later she said she was ready to come to me for the night.  Apparently jealousy defeated fear.  I, frankly, very surprised.  Just in case, he said that I wouldn‚Äôt put a finger on her if she didn‚Äôt start the first one, just have dinner, chat and go to bed. </div></div><br><h3>  Notifications </h3><br>  ‚ÄúSince everything is so simple, then we need to make notifications,‚Äù I thought. <br>  Objectiv-C code had to be implemented in Go <br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// +build darwin // +build arm arm64 package sendnotif /* #cgo CFLAGS: -x objective-c #cgo LDFLAGS: -framework Foundation -framework GLKit -framework UIKit #import &lt;UIKit/UIKit.h&gt; #import &lt;Foundation/Foundation.h&gt; #import &lt;GLKit/GLKit.h&gt; void ShowMessM(char* title, char* text) { UILocalNotification* localNotification = [[UILocalNotification alloc] init]; localNotification.soundName = UILocalNotificationDefaultSoundName; localNotification.alertTitle = [NSString stringWithUTF8String:title]; localNotification.alertBody = [NSString stringWithUTF8String:text]; localNotification.timeZone = [NSTimeZone systemTimeZone]; localNotification.applicationIconBadgeNumber = 1; localNotification.repeatInterval = NSCalendarUnitMinute; [[UIApplication sharedApplication] scheduleLocalNotification:localNotification]; [localNotification release]; } */ import "C" func SendMobileNotification(title, text string) { C.ShowMessM(C.CString(title), C.CString(text)) }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">About Masha</b> <div class="spoiler_text">  He sent a taxi to her, met her, went up to me, had dinner, watched a movie.  The time was already late, I had to go to bed.  She said she would sleep on the guest couch, because  with me in the same bed she is not ready yet.  "Well, no, so no," she laid on the couch.  After 5 minutes, she comes in and says that she has never had ‚Äúthis‚Äù, but she really wants it.  For me, it was a pleasant surprise.  In general, that night we did not sleep. </div></div><br>  In Go code, use the following: sendnotif.SendMobileNotification (‚ÄúTitle‚Äù, ‚ÄúNotification Text‚Äù) <br>  And in didFinishLaunchingWithOptions you need to add: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([application respondsToSelector:@selector(isRegisteredForRemoteNotifications)]) { <span class="hljs-comment"><span class="hljs-comment">// iOS 8 Notifications [application registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]]; [application registerForRemoteNotifications]; } else { // iOS &lt; 8 Notifications [application registerForRemoteNotificationTypes: (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeSound)]; }</span></span></code> </pre><br>  This is so that when the user starts, a message pops up asking for permission to use notifications. <br><br><div class="spoiler">  <b class="spoiler_title">About Masha</b> <div class="spoiler_text">  On the 4th date, I invited her to move in with me.  Masha agreed.  I drove to her in a hostel and moved things. </div></div><br><h3>  Conclusion </h3><br>  This concludes a series of articles about my experience of switching from PHP to Go.  I hope my material was useful to someone.  If you have questions about cross-platform development on Go, write in a personal, I will help. <br><br><div class="spoiler">  <b class="spoiler_title">About Masha and Katya</b> <div class="spoiler_text">  It took about a couple of weeks.  Late evening, lying with Masha on the bed, watching the Interns.  Katya calls.  Drunk  He says that he asks forgiveness from all, and that she swallowed sleeping pills and will die in a few hours.  I was confused, did not know what to say.  I tried to find out where she was, to send the police and the doctors to her.  Then I wrote to her best friend so that she would give her address and contact Katya urgently, for some reason she wanted to say the address.  I called Katya and heard a drunken voice in the background.  Everything became clear, this is a bluff, she is having fun with her girlfriend.  The next day, I became convinced that everything was fine with Katya, since  she was online. <br>  Already the 6th month I live with Masha.  Recently brought a cat. <br></div></div><br><br>  PS <br>  In Dcoin now you can get free coins (enough to pay for an Internet for several months). </div><p>Source: <a href="https://habr.com/ru/post/281709/">https://habr.com/ru/post/281709/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../281673/index.html">Site Reliability Engineering: Google's wisdom anthology or new word in DevOps</a></li>
<li><a href="../281675/index.html">Merge sort in a simple way</a></li>
<li><a href="../281691/index.html">What is the difference between the Everyone and Authenticated Users groups?</a></li>
<li><a href="../281703/index.html">This will not be in BI (By purchasing the BI tool, you will not get it)</a></li>
<li><a href="../281707/index.html">How to win the game with unknown rules?</a></li>
<li><a href="../281711/index.html">Vertical indents or again about the margin</a></li>
<li><a href="../281715/index.html">Programming and debugging ARM Cortex-M4 microcontrollers by Atmel in the environment of the Linux operating system. Part 2</a></li>
<li><a href="../281717/index.html">Ladies Code Conference: Girls at IT April 26 in Moscow</a></li>
<li><a href="../281719/index.html">The main issue of programming, refactoring and all that</a></li>
<li><a href="../281721/index.html">AngularJS: Migration from 1.2 to 1.4, part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>