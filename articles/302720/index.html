<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing the Carbon + Graphite + Grafana + Nginx + MySQL bundle to collect and display metrics in Ubuntu</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share the experience of installing and configuring a service for collecting and displaying Graphite + Grafana . 
 I searched for a long time...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing the Carbon + Graphite + Grafana + Nginx + MySQL bundle to collect and display metrics in Ubuntu</h1><div class="post__text post__text-html js-mediator-article"><p> I want to share the experience of installing and configuring a service for collecting and displaying <code>Graphite</code> + <code>Grafana</code> . <br>  I searched for a long time, I read a lot, I found 2 articles in English, I added my own, this article turned out as a result. </p><br><p>  A little background .. </p><br><p>  <code>Graphite</code> is a system for displaying metrics (numeric values) for any server or home PC properties. </p><br><p>  <code>Carbon</code> is a daemon / backend in which metrics are written. </p><br><p>  <code>Grafana</code> - more beautiful and convenient Web-muzzle for <code>Graphite</code> . </p><br><p>  And so, let's get started. </p><a name="habracut"></a><br><h2>  Install and configure Php + Nginx + MySQL </h2><br><h3>  Install Php + Nginx + MySQL </h3><br><p>  It's all pretty simple. </p><br><pre> <code class="bash hljs">sudo apt install php5-fpm php5-json php5-mysql sudo apt install nginx nginx-extras sudo apt install mysql-server</code> </pre> <br><p>  During installation, you will be prompted for a password for the <code>MySQL</code> <code>root</code> . </p><br><h3>  Install phpMyAdmin </h3><br><p>  For more convenient access to <code>MySQL</code> install <code>phpMyAdmin</code> . </p><br><p>  Download the latest version <a href="https://www.phpmyadmin.net/downloads/">from here.</a> </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/share/ sudo wget https://files.phpmyadmin.net/phpMyAdmin/4.6.2/phpMyAdmin-4.6.2-all-languages.zip sudo unzip phpMyAdmin-4.6.2-all-languages.zip sudo rm phpMyAdmin-4.6.2-all-languages.zip sudo mv phpMyAdmin-4.6.2-all-languages phpmyadmin</code> </pre> <br><h3>  Configuring Nginx for phpMyAdmin </h3><br><p>  In the settings file <code>/etc/nginx/conf.d/pma.conf</code> we write the following: </p><br><pre> <code class="bash hljs">server { server_name pma.your.site; listen 80; location / { root /usr/share/phpmyadmin/; index index.php index.html index.htm; location ~ ^/(.+\.php)$ { try_files <span class="hljs-variable"><span class="hljs-variable">$uri</span></span> =404; root /usr/share/phpmyadmin/; fastcgi_pass unix:/var/run/php5-fpm.sock; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME <span class="hljs-variable"><span class="hljs-variable">$request_filename</span></span>; include /etc/nginx/fastcgi_params; } location ~* ^/(.+\.(jpg|jpeg|gif|css|png|js|ico|html|xml|txt))$ { root /usr/share/phpmyadmin/; } } }</code> </pre> <br><p>  And restart <code>Nginx</code> </p><br><pre> <code class="bash hljs">sudo service nginx restart</code> </pre> <br><h3>  MySQL Presets </h3><br><p>  We go to the address <code>pma.your.site</code> , which you registered in the settings above, log in as <code>root</code> user with the password that you set during the installation of <code>MySQL</code> . </p><br><p>  Create a <code>graphite</code> database and a <code>graphite</code> user, and give this user all the privileges on this database. </p><br><h2>  Install and configure Graphite + Carbon </h2><br><h3>  Install Graphite + Carbon </h3><br><p>  Here, too, everything is quite simple: </p><br><pre> <code class="hljs swift">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install graphite-web graphite-carbon</code> </pre> <br><h3>  Graphite Setup </h3><br><p>  Edit the configuration file <code>/etc/graphite/local_settings.py</code> . </p><br><pre> <code class="bash hljs">SECRET_KEY = <span class="hljs-string"><span class="hljs-string">'MY NICE RANDOM SALT'</span></span> TIME_ZONE = <span class="hljs-string"><span class="hljs-string">'UTC'</span></span> USE_REMOTE_USER_AUTHENTICATION = True DATABASES = { <span class="hljs-string"><span class="hljs-string">'default'</span></span>: { <span class="hljs-string"><span class="hljs-string">'NAME'</span></span>: <span class="hljs-string"><span class="hljs-string">'graphite'</span></span>, <span class="hljs-string"><span class="hljs-string">'ENGINE'</span></span>: <span class="hljs-string"><span class="hljs-string">'django.db.backends.mysql'</span></span>, <span class="hljs-string"><span class="hljs-string">'USER'</span></span>: <span class="hljs-string"><span class="hljs-string">'graphite'</span></span>, <span class="hljs-string"><span class="hljs-string">'PASSWORD'</span></span>: <span class="hljs-string"><span class="hljs-string">'mypassword'</span></span>, <span class="hljs-string"><span class="hljs-string">'HOST'</span></span>: <span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'PORT'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> } }</code> </pre> <br><h3>  Sync Database </h3><br><p>  Synchronize the database with the following command </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> graphite-manage syncdb</code> </pre> <br><h3>  Carbon Setup </h3><br><p>  Editing the following configuration files </p><br><p> <code>/etc/default/graphite-carbon</code> </p> <br><pre> <code class="hljs objectivec"><span class="hljs-built_in"><span class="hljs-built_in">CARBON_CACHE_ENABLED</span></span> = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br><p> <code>/etc/carbon/carbon.conf</code> </p> <br><pre> <code class="hljs pgsql">ENABLE_LOGROTATION = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  Copy the default storage aggregation settings </p><br><pre> <code class="hljs pgsql">sudo cp /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/doc/graphite-carbon/examples/<span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>-aggregation.conf.example /etc/carbon/<span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>-aggregation.conf</code> </pre> <br><p>  And restart <code>Carbon</code> </p><br><pre> <code class="hljs sql">sudo service carbon-<span class="hljs-keyword"><span class="hljs-keyword">cache</span></span> <span class="hljs-keyword"><span class="hljs-keyword">start</span></span></code> </pre> <br><h3>  UWSGI installation </h3><br><p>  To install <code>uWSGI</code> run the following commands. </p><br><pre> <code class="hljs sql"> sudo apt-get <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> python-dev sudo pip <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> uwsgi</code> </pre> <br><p>  If <code>pip</code> is not installed on your system, install it </p><br><pre> <code class="hljs swift">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install python-pip</code> </pre> <br><p>  And we execute the commands above. </p><br><p>  Copy the standard configuration file </p><br><pre> <code class="hljs pgsql">sudo cp /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/graphite-web/graphite.wsgi /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/graphite-web/graphite_wsgi.py</code> </pre> <br><p>  Create a configuration file: </p><br><pre> <code class="hljs swift">sudo nano /etc/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>/uwsgi-graphite.conf</code> </pre> <br><p>  And enter the following lines there: </p><br><pre> <code class="hljs mel"> <span class="hljs-keyword"><span class="hljs-keyword">env</span></span> UWSGI_BIN=/usr/local/bin/uwsgi <span class="hljs-keyword"><span class="hljs-keyword">env</span></span> PYTHONPATH=/usr/share/graphite-web expect fork umask <span class="hljs-number"><span class="hljs-number">0000</span></span> start on runlevel [<span class="hljs-number"><span class="hljs-number">2345</span></span>] stop on runlevel [!<span class="hljs-number"><span class="hljs-number">2345</span></span>] script <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> $UWSGI_BIN --socket /var/run/graphite.sock --master --need-app \ --<span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>-exceptions --reload-on-exception --pp $PYTHONPATH \ -w graphite_wsgi:application --buffer-<span class="hljs-keyword"><span class="hljs-keyword">size</span></span> <span class="hljs-number"><span class="hljs-number">32768</span></span> -p <span class="hljs-number"><span class="hljs-number">4</span></span> -O <span class="hljs-number"><span class="hljs-number">2</span></span> &gt;&gt;/var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/graphite.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> &amp; end script</code> </pre> <br><p>  And run <code>Graphite</code> </p><br><pre> <code class="hljs pgsql">sudo service uwsgi-graphite <span class="hljs-keyword"><span class="hljs-keyword">start</span></span></code> </pre> <br><h3>  Configure Nginx for Graphite </h3><br><p>  Editing the configuration file <code>/etc/nginx/conf.d/graphite.conf</code> </p><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> graphite.your.site; <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">access_log</span></span> /var/log/nginx/graphite.access.log; <span class="hljs-attribute"><span class="hljs-attribute">error_log</span></span> /var/log/nginx/graphite.<span class="hljs-literal"><span class="hljs-literal">error</span></span>.log; <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /usr/share/graphite-web; <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> = /favicon.ico { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">204</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /content { <span class="hljs-attribute"><span class="hljs-attribute">alias</span></span> /usr/share/graphite-web/static; <span class="hljs-attribute"><span class="hljs-attribute">expires</span></span> max; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">uwsgi_pass</span></span> unix:/var/run/graphite.sock; <span class="hljs-attribute"><span class="hljs-attribute">include</span></span> uwsgi_params; } }</code> </pre> <br><p>  Restart <code>Nginx</code> and go to <code>graphite.your.site</code> </p><br><p><img src="http://blog.kai-zer.ru/images/graphite.png" alt="It looks like Graphite"></p><br><h3>  Graphite Testing </h3><br><p>  To test the <code>Graphite</code> functionality, it‚Äôs enough to execute one simple command: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">echo</span></span> <span class="hljs-string"><span class="hljs-string">"test.count 9 `date +%s`"</span></span> | nc -q0 <span class="hljs-number"><span class="hljs-number">127.0.0.1</span></span> <span class="hljs-number"><span class="hljs-number">2003</span></span>;</code> </pre> <br><p>  Well, or run a cycle: </p><br><pre> <code class="hljs bash"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 4 6 8 16 2; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"test.count </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$i</span></span></span><span class="hljs-string"> `date +%s`"</span></span> | nc -q0 127.0.0.1 2003; sleep 6; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br><p>  Now in <code>Graphite</code> it is fashionable to observe the following: </p><br><p><img src="http://blog.kai-zer.ru/images/graphite2.png" alt="It looks like Graphite"></p><br><h2>  Install and configure a beautiful Web-muzzle Grafana </h2><br><h3>  Install Grafana </h3><br><p><img src="http://grafana.org/assets/img/docs/nice_dashboard.png" alt="This is the graphics in grafana"></p><br><p>  To install <code>Grafana</code> execute the following commands: </p><br><pre> <code class="hljs pgsql">echo <span class="hljs-string"><span class="hljs-string">'deb https://packagecloud.io/grafana/stable/debian/ wheezy main'</span></span> | sudo tee -a /etc/apt/sources.list curl https://packagecloud.io/gpg.key | sudo apt-key <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> - sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install grafana</code> </pre> <br><h3>  Configuring MySQL for Grafana </h3><br><p>  Create a database in <code>grafana</code> in <code>MySQL</code> and give all privileges to it to the <code>graphite</code> user we created earlier. </p><br><p>  Editing the configuration file <code>/etc/grafana/grafana.ini</code> </p><br><pre> <code class="hljs pgsql">[<span class="hljs-keyword"><span class="hljs-keyword">database</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = mysql host = <span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>:<span class="hljs-number"><span class="hljs-number">3306</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span> = grafana <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> = graphite <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> = mypassword [<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>] protocol = http http_addr = <span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> http_port = <span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span> = grafana.your.site enforce_domain = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> root_url = %(protocol)s://%(<span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>)s/ [<span class="hljs-keyword"><span class="hljs-keyword">security</span></span>] admin_user = <span class="hljs-keyword"><span class="hljs-keyword">admin</span></span> # - admin_password = your_secure_password #  - secret_key = your_random_secret_salt</code> </pre> <br><p>  And run <code>Grafana</code> </p><br><pre> <code class="hljs pgsql">sudo service grafana-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">start</span></span></code> </pre> <br><h3>  Configuring Nginx for Grafana </h3><br><p>  Editing the configuration file <code>/etc/nginx/conf.d/grafana.conf</code> </p><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> grafana.your.site; <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">access_log</span></span> /var/log/nginx/grafana.access.log; <span class="hljs-attribute"><span class="hljs-attribute">error_log</span></span> /var/log/nginx/grafana.<span class="hljs-literal"><span class="hljs-literal">error</span></span>.log; <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> = /robots.txt { <span class="hljs-attribute"><span class="hljs-attribute">echo</span></span> <span class="hljs-string"><span class="hljs-string">"User-agent: *\nDisallow: /\n"</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://localhost:3000; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Host <span class="hljs-variable"><span class="hljs-variable">$host</span></span>; } }</code> </pre> <br><p>  Restart <code>Nginx</code> and go to <code>grafana.your.site</code> </p><br><p><img src="http://blog.kai-zer.ru/images/grafana.png" alt="This is the Grafana login page."></p><br><p>  Enter the administrator login / password that you set above, and get into the admin panel <code>Grafana</code> . </p><br><p><img src="http://blog.kai-zer.ru/images/grafana2.png" alt="It looks like the admin Grafana"></p><br><p>  Before creating dashboards and displaying metrics, you need to configure data sources. </p><br><p>  Go to the section <code>Data Source</code> -&gt; <code>Add New</code> </p><br><p>  Enter the following data </p><br><ul><li>  Name: graphite </li><li>  URL: graphite.your.site </li></ul><br><p>  Here is an example: </p><br><p><img src="http://blog.kai-zer.ru/images/grafana3.png" alt="Grafana datasource configuration example"></p><br><p>  Now go to the main page, click <code>New Dashboard</code> -&gt; <code>New</code> , <br>  On the left there will be an inconspicuous green button, when you hover on it, it crawls out from the edge of the screen.  Click on it and then <code>Add Panel</code> -&gt; <code>Graph</code> </p><br><p>  Below you will see the metrics that we created with the test command above, <code>test</code> and <code>count</code> . </p><br><p><img src="http://blog.kai-zer.ru/images/grafana4.png" alt="Display graphics"></p><br><p>  That‚Äôs all for now, later I‚Äôll tell you about the plugins for <code>Grafana</code> . </p><br><h2>  More information </h2><br><p>  Please follow the links below to learn more about <code>Grafana</code> and its amazing settings. </p><br><ul><li>  <a href="http://docs.grafana.org/">Grafana official documentation</a> </li><li>  <a href="http://graphite.wikidot.com/documentation">Official Graphite Documentation</a> </li></ul><br><h2>  Thanks </h2><br><p>  The article was based on the following articles: </p><br><ul><li>  <a href="http://arpitbhayani.me/techie/graphite.html">Deploy Graphite and Nginx on an Ubuntu 14.04 server</a> </li><li>  <a href="http://arpitbhayani.me/techie/grafana.html">Deploy Grafana and Graphite an Ubuntu 14.04 server</a> </li></ul><br><p>  Original article published on my <a href="http://blog.kai-zer.ru/articles/ustanovka-sviazki-carbon-graphite-grafana-nginx-mysql-dlia-sbora-i-otobrazheniia-metrik-v-ubuntu/">blog.</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/302720/">https://habr.com/ru/post/302720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../302708/index.html">Checking the source code of 7-Zip with PVS-Studio</a></li>
<li><a href="../302710/index.html">My Circle Results Report for May 2016</a></li>
<li><a href="../302714/index.html">A free test drive of Cisco Aironet 1832 and 1852 access points will be held in Kiev</a></li>
<li><a href="../302716/index.html">Service "Case of the Day" and two new ratings on Ruvard</a></li>
<li><a href="../302718/index.html">Intel Tools for Video Codec Makers</a></li>
<li><a href="../302722/index.html">Object data recognition system</a></li>
<li><a href="../302724/index.html">Collaborate can not compete: social networks and news sites divide the audience</a></li>
<li><a href="../302726/index.html">Self-configuring applications</a></li>
<li><a href="../302728/index.html">Bitrix24: how to avoid mistakes in project management</a></li>
<li><a href="../302730/index.html">Dash cryptocurrency: full DAO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>