<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>In search of perfect architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For 9 years of working with features in robot projects, it became more and more, it became easier to get confused in the code. 

 When there were more...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>In search of perfect architecture</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/tk/42/qq/tk42qqybcrq8eryafedbykjkcni.jpeg" alt="image"><br>  For 9 years of working with features in robot projects, it became more and more, it became easier to get confused in the code. <br><br>  When there were more than a dozen developers, another problem appeared - the painful rotation of people between projects.  Outsourcing development is famous for tough deadlines, and developers do not have months or weeks to dive in, in particular, a new project, while at the same time working on different projects is necessary for the development of specialists. <br><br>  The main problem that arises during the long-term development of the application is scalability.  It can be solved by switching to a new architecture or refactoring the code base and adding new entities that unload objects with a large number of duties. <br><a name="habracut"></a><br><h2>  Disclaimer </h2><br>  In our understanding, there is no such thing as a ‚Äúuniversal architecture‚Äù.  Everyone makes a choice in favor of the one with which it is more effective and convenient to work throughout the entire project.  What is effectively used in our country may become a useless overhead for other teams. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Start </h2><br>  It all started with the popular MVC and his buddy network manager. <br><br>  The main problems of MVC: calling network requests and database requests, implementing business logic and navigation are located in the controller.  Because of this, objects are highly interconnected, and the level of reuse and testing is low. <br><br>  Network manager in serious projects turns into a <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582">‚Äúdivine object‚Äù</a> , which becomes impossible to maintain due to its size. <br><br>  Imagine that we have an application for a chain of stores, in which there are stock screens, profiles and settings.  The first screen displays a list of valid promotions, in the profile - the current bonus balance, the name and phone number of the user, in the settings, for example, the ability to enable push notifications about new promotions.  To enter the application, you must log in using your login and password. <br><br>  It turns out that in this case, all requests to the server - authorization, getting the list of shares, getting information on the profile, changing the settings - are in the network manager, including the logic for creating model objects from JSON. <br><br><h3>  Farewell to NetworkManager </h3><br>  At the layer of interaction with the network, it was decided to adhere to the SOA approach - dividing the service layer into multiple services depending on the type of entity. <br><br><img src="https://habrastorage.org/webt/59/ed/dd/59edddca9380f972423309.png" alt="image"><br><br>  In our example, the <code>ConcreteService</code> will be <code>AuthService, UserService, DealService, SettingsService</code> .  Each service does its own thing - the authorization service works with authorization, the user service works with user data, and so on.  A good rule is to split the server side into different path: <code>/auth, /user, /deals, /settings</code> , but not necessarily. <br><br>  A more detailed description of the service layer is in <a href="https://habrahabr.ru/company/redmadrobot/blog/246551/">our previous article</a> . <br><br><h3>  JSON / XML serialization / deserialization, etc. </h3><br>  We select the serialization / deserialization of objects into separate entities: the <a href="https://github.com/RedMadRobot/core-parser">parser</a> and the serializer.  The operations are reciprocal: the parser converts an object of the data type that it receives from the server into a model object, the serializer converts it from a model object into a data object for transmission over the network.  Inside these classes, field binding and error logging are implemented. <br><br><div class="spoiler">  <b class="spoiler_title">Examples of interfaces for working with the ‚Äúuser‚Äù entity</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserParser</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JSONParser</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> data: JSON)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">User?</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserSerializer</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JSONSerializer</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">serializeObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> object: User)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Data?</span></span> }</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/59/ed/e4/59ede45c0b3f8428953717.png" alt="image"><br><br>  For each entity we have separate parsers <code>AuthParser, UserParser, DealParser</code> and <code>SettingsParser</code> .  With serializers - exactly the same. <br><br><h2>  Splitting </h2><br>  In our architecture, we adhere to the division into layers, the upper layer knows only about the existence of the lower. <br><br><img src="https://habrastorage.org/webt/6s/8m/8i/6s8m8i8ac-91p0u5kzuigxbgpxm.png" alt="image"><br><br>  Above in order: user interface layer, business logic layer, service layer and data layer. <br><br><h3>  Data layer </h3><br>  We most often implement this layer through the <a href="http://www.oracle.com/technetwork/java/dataaccessobject-138824.html">DAO</a> pattern, abstracting from the implementation and database features on all other layers.  We have ready-made solutions for Realm and CoreData, most often we use Realm.  An example implementation <a href="https://github.com/RedMadRobot/DAO">here</a> . <br><br><img src="https://habrastorage.org/webt/59/ed/e7/59ede7d2a28d2626643991.png" alt="image"><br><br>  Imagine that in the application we want to cache discounts.  Therefore, when using DAO, we will have the following classes: <br><br><ul><li>  <code>DBDeal</code> - the essence of discounts in the database Realm. </li><li>  <code>DealTranslator</code> - entity translator. </li><li>  <code>DealDAO</code> - DAO for discounts. </li></ul><br>  In the section "Code Generation" I will give examples of the implementation of these classes. <br><br><h2>  How to deal with the UI-layer? </h2><br>  Here we had several iterations, during which we analyzed the existing solutions: MVVM and VIPER, but without practical application it was difficult to evaluate them objectively.  VIPER for our projects seemed redundant: a large number of entities for a single module (in many cases they are only intermediaries in the call chain), a complicated implementation of routing using storyboards, and distancing from UIKit.  Of course, testing modules can be attributed to the pluses. <br><br>  Using MVVM, in our opinion, it was easier to understand with knowledge of MVC, binding solved the problem of explicit calls for updating data, it became possible to write test code.  Problems with the use of reactive programming was not - we used it in conjunction with MVC. <br><br><h3>  Moving to MVVM </h3><br>  This architecture is <a href="https://www.objc.io/issues/13-architecture/mvvm/">disassembled</a> in detail, and it is hardly worth trying to do it n + 1 times.  What is the advantage over MVC we saw here?  In most cases, the information displayed to the user is a conversion of models from the server.  Therefore, the logic for converting this information is encapsulated inside the view model, or, if there is a dependency between objects, partly in the view model factory.  An example of how a user's phone number is converted for further display on the screen: <br><br><img src="https://habrastorage.org/webt/q4/bq/gv/q4bqgv_izxb9e1ulrvbd1ieky4e.png" alt="image"><br><br><h3>  Go to the presentation model and the router. </h3><br>  After some time, we realized that we could not do with MVVM alone.  The view controller class gradually ‚Äúswelled‚Äù, this was especially noticeable if several requests were called up on the screen.  The next step identified the appeal to services in a separate entity - the presentation model and the view controller ceased to know about their existence. <br><br>  Using navigation (with or without segue) on multiple screens also led to the growth of the view controller.  I note that a call in itself to show the screen will take you 2-3 lines of code, whereas the configuration and transfer of the necessary data to another screen may take, say, 10 lines.  Therefore, the router was allocated to a separate entity (yes, a little more and VIPER).  Using the router turned out to be convenient, including when we abandoned stroyboards in favor of xib.  Reading the router class is definitely harder than visually grasping a map of transition screens.  But even less convenient if your navigation code is scattered everywhere. <br><br><img src="https://habrastorage.org/webt/59/ed/f4/59edf4cb65462230241314.png" alt="image"><br><br>  Router in this scheme is a separate property on the view controller that is created in the <code>viewDidLoad</code> method.  On some projects we created it directly at the time of the navigation. <br><br>  Here it is important to understand that we do not require compliance with the division on the presentation model and the router for relatively simple screens, say, where everything fits in 200 lines. <br><br>  For example, the router in our application will have methods <br><br><ul><li>  <code>showProfile()</code> - show user profile. </li><li>  <code>showDeal(_ deal: Deal)</code> detailed description of the discount. </li><li>  <code>showSettings()</code> - show settings. </li></ul><br>  Since the settings and the user in the application exist in a single copy, there is no need to transfer it to the router to configure the new screen.  On the contrary, having many discounts, the presentation model of the details screen of the discount should be created with the discount entity parameter (or the view model if it is sufficient). <br><br><h3>  And what about the table and the collection? </h3><br>  Initially, we created the data source and delegate implementation as a separate class that was stored on the view controller.  This class, in turn, took the data (view model) from the presentation model. <br><br><img src="https://habrastorage.org/webt/59/ee/07/59ee070b37d2a509659887.png" alt="image"><br><br>  The cell mapper in this scheme is a closure that aligns the cell class with the view model class.  This is done in order not to manually register the classes of cells on each screen. <br><br>  Thus, we have allocated most of the data source and delegate code into a separate entity. <br>  We tried, it turned out that delegation in a separate class is inconvenient, and when selecting one data source, the gain is not so significant. <br><br>  Therefore, the next iteration turned to the use of the table presentation model as a data source, the view controller became the delegate. <br><br>  The scheme is simplified, the unnecessary data source and cell mapper entities are gone.  Easier - better. <br><br><img src="https://habrastorage.org/webt/xo/sx/i_/xosxi_ztwekp6iq-2bpuz_awy4o.png"><br><br>  The scheme is simplified, the unnecessary data source and cell mapper entities are gone.  Easier - better. <br><br><h3>  Revised routing </h3><br>  The implementation of the routing, which was described above, is bad in that all transitions are hard-coded in the view controller.  To implement a weak connection between navigation and the internal device of a separate view controller, we do the following: <br><br><ol><li>  On the specific implementation of the presentation model, we set up the desired closure - handler (or several, if navigation leads to several places) as optional variables. </li><li>  When creating the presentation model in the router, we install this handler.  For example, when you call which should go to another screen. </li><li>  From the view controller, at the right time, call the handler for the presentation model. </li></ol><br>  Overall, the view controller has ceased to have knowledge of the router. <br><br><h2>  Code Generation </h2><br>  We should also mention another feature of the development in Redmadrobot - the use of code generation.  Based on model entities using the console utility, <a href="https://github.com/RedMadRobot/core-parser-generator">parsers</a> and <a href="https://github.com/RedMadRobot/DAO-generator">translators</a> for <a href="https://github.com/RedMadRobot/DAO">DAO are</a> generated. <br><br><div class="spoiler">  <b class="spoiler_title">Consider this on the example of working with the essence of a discount.</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-comment"><span class="hljs-comment">/*  @model */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Deal</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*  @json */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> title: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-comment"><span class="hljs-comment">/*  @json */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subtitle: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   @json end_date */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> endDateString: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(title: <span class="hljs-type"><span class="hljs-type">String</span></span>, subtitle: <span class="hljs-type"><span class="hljs-type">String?</span></span>, endDateString: <span class="hljs-type"><span class="hljs-type">String</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.title = title <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.subtitle = subtitle <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.endDateString = endDateString <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() } }</code> </pre><br></div></div><br>  We have personally written <code>Deal</code> discount class.  Based on its and auxiliary annotations ( <code>@model, @json</code> ), the code generation utility creates the <code>DealParser</code> parser class, the <code>DealParser</code> database <code>DBDeal</code> class, and the <code>DealTranslator</code> translator <code>DealTranslator</code> . <br><br><div class="spoiler">  <b class="spoiler_title">Class of parser, DB entity and translator</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DealParser</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JSONParser</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Deal</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> data: JSON)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Deal?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> title: <span class="hljs-type"><span class="hljs-type">String</span></span> = data[<span class="hljs-string"><span class="hljs-string">"title"</span></span>]?.string, <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> endDateString: <span class="hljs-type"><span class="hljs-type">String</span></span> = data[<span class="hljs-string"><span class="hljs-string">"end_date"</span></span>]?.string <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subtitle: <span class="hljs-type"><span class="hljs-type">String?</span></span> = data[<span class="hljs-string"><span class="hljs-string">"subtitle"</span></span>]?.string <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> object = <span class="hljs-type"><span class="hljs-type">Deal</span></span>( title: title, subtitle: subtitle, endDateString: endDateString ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object } }</code> </pre><br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DBDeal</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RLMEntry</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dynamic</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> title = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dynamic</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> subtitle: <span class="hljs-type"><span class="hljs-type">String?</span></span> = <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dynamic</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> endDateString = <span class="hljs-string"><span class="hljs-string">""</span></span> }</code> </pre><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DealTranslator</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RealmTranslator</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Deal</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DBDeal</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fill</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> entity: Deal, fromEntry: DBDeal)</span></span></span></span> { entity.entityId = fromEntry.entryId entity.title = fromEntry.title entity.subtitle = fromEntry.subtitle entity.endDateString = fromEntry.endDateString } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fill</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> entry: DBDeal, fromEntity: Deal)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> entry.entryId != fromEntity.entityId { entry.entryId = fromEntity.entityId } entry.title = fromEntity.title entry.subtitle = fromEntity.subtitle entry.endDateString = fromEntity.endDateString } }</code> </pre><br></div></div><br>  Recently, we have learned how to generate service on the basis of a documented protocol (it‚Äôs worth writing a separate article about it).  Until the moment when they started using zeplin, they generated color and font styles based on a text file with their description. <br><br>  We use our <a href="https://github.com/RedMadRobot/model-compiler">Model Compiler</a> library for writing utilities for generation, but <a href="https://github.com/krzysztofzablocki/Sourcery">Sourcery</a> may well be suitable for this task. <br><br><h2>  Conclusion </h2><br>  Developing the architecture, we first of all thought about the possibility of expanding our projects, the obvious segregation of duties and low entry threshold for new developers.  Of course, we also encounter complex scenarios, where some of the elements of our architecture ‚Äúsubside‚Äù, and we figure out how to get out of this situation, how to spread responsibility to auxiliary entities and make the code more understandable.  Obviously, no architecture solves absolutely all problems.  On several projects that we have been developing for more than a year, our approaches have proven convenient, and rarely any problems arise with this. <br><br>  We do not preach MVC, MVVM, VIPER, Riblets and other architectures.  We are constantly trying something new at the expense of efficiency.  At the same time we try not to reinvent the wheel.  Then we check how comfortable it is to work with this or that approach, how new developers can quickly grab these changes. </div><p>Source: <a href="https://habr.com/ru/post/340600/">https://habr.com/ru/post/340600/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340584/index.html">Object Oriented Programming in Vanilla JavaScript</a></li>
<li><a href="../340586/index.html">History - one project on "Trust". Or how big the little ones get hurt</a></li>
<li><a href="../340588/index.html">SC and Unity: two boots - a pair</a></li>
<li><a href="../340590/index.html">let's live in peace</a></li>
<li><a href="../340592/index.html">How does mobx work from the inside and compare it with redux</a></li>
<li><a href="../340602/index.html">How I stopped selling food on the street and started working in top technology companies</a></li>
<li><a href="../340604/index.html">Your own std :: code_error</a></li>
<li><a href="../340610/index.html">UI design in games on the example of NieR: Automata</a></li>
<li><a href="../340612/index.html">Classes of matrices and vectors in Delphi</a></li>
<li><a href="../340616/index.html">OSX / Proton backdoor distributed with Trojanized Elmedia Player</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>