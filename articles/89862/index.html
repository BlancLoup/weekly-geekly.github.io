<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Broadcom Crystal HD: hardware accelerated HD video "from A to Z"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I think many people know that HD (720p) H.264 video is not so easy on a netbook. Intel Atom power is simply not enough to decode. I use my Acer Aspire...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Broadcom Crystal HD: hardware accelerated HD video "from A to Z"</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/a3d/3c0/018/a3d3c00180cdb0576886d368619244f9.jpg" alt="image"><br><br>  I think many people know that HD (720p) H.264 video is not so easy on a netbook.  Intel Atom power is simply not enough to decode.  I use my Acer Aspire One as a video player during business trips and long trips and I also came across this.  There are several ways to solve this problem: <br><ul><li>  transcode with lower resolution / bitrate </li><li>  use software tricks </li><li>  use hardware acceleration </li></ul><br>  The first way is too slow and humiliating (because typical of portable players like iPods, etc.). <br><br>  The second is not universal and limited.  I know of two ways - installing the <a href="http://corecodec.com/products/coreavc">CoreAVC</a> codec and Crystal Player advanced playback buffer (see <a href="http://habrahabr.ru/blogs/netbook/84536/">Tuning a netbook for maximum performance for HDTV</a> ).  In principle, this is quite a tolerable solution for 720p.  However, there are two big drawbacks: 100% CPU usage and total inconsistency in the case of 1080p. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The third seems to me the most "correct."  You can immediately buy a netbook with <a href="http://www.nvidia.ru/object/sff_ion_ru.html">Nvidia ION</a> - a universal solution that gives you additional bonuses like CUDA calculations and the ability to play 3D games (however, the pleasure on a small little screen is dubious).  Unfortunately, Nvidia ION-powered netbooks have appeared only recently and are still expensive.  And what to do, if you already bought a netbook without any ‚Äúponts‚Äù? <br><br>  There is a way out!  It is called Broadcom Crystal HD, and it‚Äôs quite realistic and cheap to ‚Äúspeed up‚Äù your EEE PC or Aspire One. <br><a name="habracut"></a><br>  A year ago, Broadcom released the Crystal HD card on the Mini PCI Express interface, which provides hardware accelerated playback of H.264 and MPEG 2.4 (according to rumors, Flash).  The beauty is that the microcircuit can be inserted into the free PCIe slot of the netbook.  Then we will talk about how to get this miracle, how to set it up and how it works. <br><br>  <b>Everything that will be discussed further below may, if there are very crooked hands, lead to losses of both money and netbook as a whole.</b> <br><br>  I will tell you by my own example.  My configuration: <br>  <a href="http://www.acer.ru/acer/product.do%3FLanguageISOCtxParam%3Dru%26rcond5e.c2att92%3D833%26inu49e.current.c2att92%3D833%26link%3Dln314e%26CountryISOCtxParam%3DRU%26kcond47e.c2att92%3D833%26rcond159e.att21k%3D1%26kcond48e.c2att101%3D58025%26rcond190e.att21k%3D1%26acond23%3DRU%26rcond4e.att21k%3D1%26sp%3Dpage17e%26rcond157e.c2att92%3D833%26ctx1g.c2att92%3D833%26rcond42e.att21k%3D1%26kcond50e.c2att92%3D833%26rcond45e.att21k%3D1%26rcond158e.c2att1%3D21%26ctx2.c2att1%3D21%26inu53e.current.c2att92%3D833%26rcond38e.c2att1%3D21%26var13e%3DRU%26rcond44e.c2att1%3D21%26rcond186e.c2att92%3D833%26rcond3e.c2att1%3D21%26rcond28e.attN2B2F2EEF%3D3292%26rcond189e.c2att1%3D21%26ctx1.att21k%3D1%26CRC%3D1035670089">Acer Aspire One AOD 250</a> : <br>  Intel Atom Single Core N270 (1.60 GHz / 512 KB / FSB 533), 10.1 "SD (1024x600), 2GB RAM <br>  Windows 7 + Xubuntu 10.04 (beta) <br><br><h5>  What we need </h5><br><ul><li>  availability of free mini PCIe slot </li><li>  about $ 30 on PayPal or Crystal HD already purchased </li><li>  if you buy - willingness to wait 2 months * </li><li>  specific software under Windows </li><li>  patience and strong nerves (by itself) </li></ul><br>  * if Russian Post will <a href="http://www.lookatme.ru/flows/moscow-news/posts/86708-ebay-naporolsya-na-pochtu-rossii-2010-03-10">still work</a> <br><br>  <a href="http://ru.wikipedia.org/wiki/PCI_Express">Link to mini PCIe from wikipedia</a> . <br><img src="https://habrastorage.org/getpro/geektimes/post_images/14e/849/7e2/14e8497e24ea3a9688eb3a54b154148b.jpg" alt="image"><br>  Usually a cheap netbook without Yota has a free slot for a 3G card, it is exactly the right one.  In my case, it was on the back side, to the left of the compartment for changing RAM.  I know for sure that the old man AOD150 has a similar, but there is no connector (that is, where to directly plug the board).  If there is no slot, and I really want to insert the microcircuit, you can disassemble the netbook, replace the wifi card (which in most cases mini PCIe) with Crystal HD, and solve the problem with wireless Internet by buying a USB wifi dongle. <br><br>  I bought a card on <a href="http://ebay.com/">eBay</a> .  It is possible that it is sold on some radio markets.  I didn‚Äôt have time to run / find out, but there was money on PayPal. <br><br>  I will describe the software list further. <br><br><h5>  Get Crystal HD </h5><br>  We buy a microcircuit on eBay.  For example <a href="http://cgi.ebay.com/BroadCom-BCM70010-BCM70012-HD-Decoder-HP-Mini-1000-110_W0QQitemZ140395297108QQcmdZViewItemQQptZPCC_Video_TV_Cards%3Fhash%3Ditem20b0363954">here</a> .  I bought 2 months ago, and it was 23 bucks including shipping.  Now apparently their stock is coming to an end, and they are much more expensive.  I pay attention that there are 3 versions of the model - 70010 (old), 70012 (like mine), 70015 (the newest and coolest of features).  70012 works quite well. <br>  We wait about 2 months until it is delivered (sent to me from Singapore). <br><br><h5>  Making the iron work </h5><br>  When I happily inserted Crystal HD into my netbook, I broke it off at first, because neither Windows 7 nor Xubuntu could see it.  Team <br><br> <code>lspci | grep Broadcom</code> <br> <br>  showed shish with butter.  Don't be upset, friends!  Perhaps, in this case, the point is not that the microcircuit was irradiated with something at customs or confused with static in the plane, but trite in the old BIOS version of your netbook.  Acting intuitively and at random, I reflashed the BIOS of my AOD250 from 1.06 to 1.27.  Oh miracle!  The map is determined <br><br> <code>lspci | grep Broadcom</code> <br> <br>  gave out <br><br> <code>Multimedia controller: Broadcom Corporation BCM70012 Video Decoder [Crystal HD] (rev 01)</code> <br> <br>  Windows 7 tried to install the driver on the Multimedia controller when downloading, but, of course, it did not work.  Go to the list of required software: <br><ul><li>  <a href="http://www.broadcom.com/support/crystal_hd/">driver from the site Broadcom</a> </li><li>  to play MKV - <a href="http://haali.su/mkv/">Haali Media Splitter</a> </li><li>  for playing sound - <a href="http://ac3filter.net/">AC3 Filter</a> and <a href="http://www.free-codecs.com/download/CoreAAC_Directshow_filter.htm">CoreAAC</a> </li><li>  if you have Windows 7 - <a href="http://codecguide.com/windows7_preferred_filter_tweaker.htm">Windows 7 Preferred Filter Tweaker</a> </li><li>  for codec diagnostics - <a href="http://blog.monogram.sk/janos/tools/monogram-graphstudio/">GraphStudio</a> </li></ul><br>  Those who have CoreAVC + Haali Matroska (Media) Splitter (like mine) and those who have CCCPs, K-Lite Codec Packs, etc.  - tear down everything under the root. <br>  We swing, we put the driver (32-bit). <br>  I note that in this sequence. <br><br><h5>  Messing around with codecs </h5><br>  We put Haali Media Splitter (for container MKV).  We put AC3Filter (for Dolby AC3) and CoreAAC (for AAC). <br><br>  Maybe, of course, some of the lucky ones will earn everything immediately after that, but I was clearly not among them.  When I opened the first 720p mkv (h.264) Windows Media Player (and Media Player Classic Home Cinema too), I received familiar brakes and 100% CPU for a long time.  Hello, <a href="http://ru.wikipedia.org/wiki/DirectShow">codec hell</a> . <br>  When I opened this file in GraphStudio (File-&gt; Add Media file), I saw that the h.264 video stream is still decoded by the built-in codec in Windows 7.  DirectShow filter from Broadcom stood.  You can verify this by finding the ‚ÄúBroadcom Video Decoder‚Äù in the Graph-&gt; Insert filter ... <br><br>  Anyway, the reboot did not change anything.  Windows 7 Preferred Filter Tweaker comes to the rescue! <br>  Having launched it, we switch h.264 and MPEG2 from Microsoft to Broadcom.  Apparently, in the future, the developers of this tool will add the declared support for Xvid, VC-1 and Divx for Broadcom, but at the time of writing this was not.  Click Apply, in the next window we put daws everywhere (turn off all Microsoft codecs so that they don‚Äôt interfere).  Voila!  GraphEdit shows that h.264 is decoded by Broadcom, sound - CoreAAC, Windows Media Player, etc. confidently shows video with sound. <br><br><img src="http://img63.imageshack.us/img63/8044/graphqm.png" alt="image"><br><br>  Perhaps those who have Windows XP, such problems will not arise. <br><br>  I didn‚Äôt manage to get Broadcom to play Xvid, even collecting a ‚Äúblockbuster‚Äù in GraphEdit.  Perhaps I missed something and you will succeed.  Not for nothing in Windows 7 Preferred Filter Tweaker, the developers did not add Broadcom as an Xvid decoder.  I was satisfied with installing the usual Xvid with xvid.org. <br><br>  Setting up Crystal HD under Xubuntu pulls on a separate topic ... <br><br><h5>  Field trials </h5><br>  ... conducted on Windows Media Player 12, the netbook screen, and mains power. <br><table><tbody><tr><td>  Media </td><td>  CPU load, avg </td><td>  CPU load, max </td><td>  Quality </td></tr><tr><td>  720p MKV (3216MB, 2:18) <br>  Video: AVC 1280x544 24.00fps <br>  Audio: AAC 48000Hz 6ch </td><td>  thirty% </td><td>  40% </td><td>  Great </td></tr><tr><td>  1080p MKV (8421MB, 1:43) <br>  AVC 1920x816 23.98fps <br>  Audio: Dolby AC3 48000Hz 6ch </td><td>  thirty% </td><td>  40% </td><td>  <b>Great</b> </td></tr></tbody></table><br>  DWM (Aero effects) ate up to 15% of the CPU. <br>  By ‚Äúexcellent‚Äù playback quality, I meant synchronization of video with sound, the absence of lags and jerks, color saturation, in general, the usual normal movie display.  The operating time from a standard 3-cell battery was 2 hours in the case of 720p and 1 hour 55 minutes in the case of 1080p.  Crystal HD is very hot (not just because it had a special heat-transfer adhesive that dissipates heat). <br><br>  <b>Update:</b> I tested Crystal HD on an external monitor.  <a href="http://www.youtube.com/watch%3Fv%3DZ1ypiVdBD3c">Youtube</a> .  The verdict is ‚Äúexcellent‚Äù.  The monitor was a SyncMaster 2223nw 1680x1050, 1080p video - a fragment of the film number 2. <br><br>  In normal operation with a netbook, the card does not heat up at all and does not affect the battery life. <br><br><h5>  Total </h5><br>  Broadcom Crystal HD is suitable for solving the problem of playing high-definition video on netbooks with limited processor resources.  It is relatively cheap and has no obvious disadvantages. </div><p>Source: <a href="https://habr.com/ru/post/89862/">https://habr.com/ru/post/89862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../89846/index.html">Consumer drama</a></li>
<li><a href="../89849/index.html">IT Security for the Next Generation. Day 1 Part 1st</a></li>
<li><a href="../89850/index.html">E-books in ICQ / Jabber, is it possible?</a></li>
<li><a href="../89851/index.html">Hosting FastVPS.ru or why OpenVZ is evil</a></li>
<li><a href="../89858/index.html">About the professional growth of a programmer</a></li>
<li><a href="../89864/index.html">Automatic backup of configs using DropBox</a></li>
<li><a href="../89871/index.html">Glitter and poverty of Russian Internet buying ...</a></li>
<li><a href="../89872/index.html">Onyx Boox 60 - a book or tablet?</a></li>
<li><a href="../89873/index.html">High technology in Russian, or how to get money from Google</a></li>
<li><a href="../89874/index.html">[C ++] Comparison of structures for a set of fields</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>