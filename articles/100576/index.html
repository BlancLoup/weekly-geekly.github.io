<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rubik's Cube on canvas</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recent posts about the 5 √ó 5 cube assembly algorithm made me write a cube emulator for canvas . The author of articles about the assembly offered his ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rubik's Cube on canvas</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/bd6/3b9/e4c/bd63b9e4cba6758c56220ed02edeb2b5.png" align="left">  <a href="http://habrahabr.ru/blogs/algorithm/99324/">Recent</a> <a href="http://habrahabr.ru/blogs/algorithm/99782/">posts</a> about the 5 √ó 5 cube assembly algorithm made me write <b><a href="http://amaembo.github.io/rubik/cube.html">a cube emulator for canvas</a></b> .  The author of articles about the assembly offered his cube on OpenGL, but I didn‚Äôt like it to many.  I hope with my someone will be able to master the algorithm faster.  Some features and benefits: <br><ul><li>  Cross-platform, cross-browser compatibility (we do not consider IE for the browser), uselessness of the installer and other advantages of the web application. </li><li>  Support for cubes from 2 √ó 2 to infinity (as long as the edges do not become very small and rendering starts to slow down severely).  The interface rendered up to 11 √ó 11, but in the library there are no restrictions. </li><li>  Pseudo-volume faces for beauty. </li><li>  Endless undo buffer. </li><li>  The ability to knead the cube (shuffle). </li><li>  Layers rotate easily and intuitively, you get used to it quickly.  Twisting the whole cube (with the mouse with the clamped cipher or the right button) is not so easy, but you can also get used to it. </li><li>  The entire library is compact, placed in a <a href="">single js-file</a> and has no external dependencies. </li><li>  MIT license, as well as open and not very scary source codes allow you to insert a cube on your site and refine it to your taste. </li></ul><a name="habracut"></a>  I do not know whether to talk about the features of the development.  There were many difficulties, but all are quite minor.  For some reason, I was too lazy to use homogeneous coordinates, which is why, in particular, the projection is orthogonal, and not perspective.  The rendering model is also a bit strange.  In general, the cube is represented as 6, 12 or 18 faces, and each face contains up to size ^ 2 elements, each element is a square.  On the internal sections, which can be seen when rotating, the element is only one area on the entire face.  9 visible faces are signed here, the remaining 9 are arranged symmetrically to them: <br><img src="https://habrastorage.org/getpro/habr/post_images/621/b1b/e16/621b1be167078c349eb3c021daad3244.png"><br>  It also took to sort the faces in the correct order so that the invisible parts were correctly removed.  Here the correct order is along the axis of rotation (if there is no rotation, the order is unimportant). <br><br>  The scope of the faces is unscientific: it is simply a circular gradient of canvas, the center of which deviates in the direction of the normal.  Honestly considered illumination by <a href="http://en.wikipedia.org/wiki/BRDF">BRDF</a> seemed unreasonable for this task. <br><br>  What else would you like to do, but laziness: <br><ul><li>  Keyboard control. </li><li>  Before rotating the layers with the mouse, highlight the rotating layer to reduce the number of errors.  Now the rotation begins if, with the button held down, to hold the mouse 50 pixels in the direction of rotation.  The backlight can be turned on at a smaller distance, then the user will stop on time.  Maybe this is not necessary, my mistakes rarely happened. </li><li>  <s>To fix a 2 √ó 2 cube, for some reason it does not work.</s>  fixed - thanks <a href="http://habrahabr.ru/users/fllln/" class="user_link">fllln</a> </li><li>  Make a perspective projection. </li><li>  Saving / loading (can be in cookies). </li><li>  IE6-8 support (probably the radial gradient in excanvas will not work). </li></ul>  If anyone wants to do something, then please.  If you have questions about the code, ask, I will answer with pleasure. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/100576/">https://habr.com/ru/post/100576/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../100569/index.html">Constantly opening CPU window with a stop at ntdll.dbgbreakpoint</a></li>
<li><a href="../100570/index.html">Android'a review on HTC HD2</a></li>
<li><a href="../100573/index.html">Samsung N127, or a good netbook for parents</a></li>
<li><a href="../100574/index.html">Canobuvosti, 50th edition (anniversary, inside the competition!)</a></li>
<li><a href="../100575/index.html">Stocking popcorn - 87 million rubles allocated to the new zakupki.gov.ru</a></li>
<li><a href="../100579/index.html">Excursion to the Angstrom microcircuit plant!</a></li>
<li><a href="../100581/index.html">Forgotten music or a bit of Nokia 3310, PC-Seaker and MIDI file generation (P1)</a></li>
<li><a href="../100583/index.html">Universal "machine" ASUS N53Jn</a></li>
<li><a href="../100584/index.html">Livebase.ru - a year later</a></li>
<li><a href="../100585/index.html">Day of the sysadmin in the Moscow metro</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>