<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Crossposting from Twitter to VKontakte using a router</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, my name is Eugene, and I am an alcoholic and I love social networks. Due to the absence of any hints of writing talent, I prefer Twitter - its ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Crossposting from Twitter to VKontakte using a router</h1><div class="post__text post__text-html js-mediator-article">  Hello, my name is Eugene, and I am an <s>alcoholic</s> and I love social networks.  Due to the absence of any hints of writing talent, I prefer Twitter - its 140 character limit eliminates the need to invent something long.  In addition, only for twitter there is a normal java-client, which I used to use on a mobile phone. <br>  On the other hand, most of my acquaintances use VKontakte, and, frankly, I like to listen to music there and read news.  It is obvious that it is inconvenient to write yourself in two different social networks, it is necessary to automate it - use crossposting (post transfer). <br>  Further, a brief description of my not very usual way of cross-hosting. <br><a name="habracut"></a><br><h5>  A little more background </h5><br>  Previously, I <a href="http://zzeneg.ru/post/eksport-zapisei-iz-twitter-v-vkontakte.aspx">used</a> IFTTT to transfer records.  It was not very convenient - posts were transferred once every 15 minutes, special characters were encoded ("turned into &amp; quot;), links were transferred abbreviated (t.co) ‚ÄîVkontakte cursed when trying to follow these links. However, due to recent changes in the Twitter API IFTTT <a href="http://techcrunch.com/2012/09/20/ifttt-is-the-latest-service-to-be-affected-by-twitters-api-constraints-will-remove-triggers/">was forced to</a> turn off ‚Äúrecipes" that read tweets. I had to search for a new path. Suddenly ‚Ñ¢ I learned that Vkontakte has an official way to import tweets, but for this you have to use the #vk hashtag. it is not always (apparently again with  worked out the new Twitter API restrictions on the number of requests), plus there was a problem with links. <br>  Of course, the easiest way would be to use a script that will transfer records.  On Habr√© <a href="http://habrahabr.ru/post/131107/">,</a> <a href="http://habrahabr.ru/post/149093/">they</a> <a href="http://habrahabr.ru/post/131107/">repeatedly</a> <a href="http://habrahabr.ru/post/149093/">wrote</a> about different ways of cross-hosting, but all of these methods rested on my lack of a server.  It is not enough to buy paid hosting (albeit inexpensive) for one simple script. <br>  But just recently, crawling on the Internet in search of a new firmware version for my router, it dawned on me that on the basis of my Zyxel Keenetic you can make a small web server!  Even before buying, I read about the capabilities of the router, but then it somehow got out of my head.  And so I began to implement the conceived project - crossposting from Twitter on Vkontakte using a router. <br><br><h5>  Moscow was not built in a day </h5><br>  To begin, talk a little about the possibilities of Zyxel Keenetic.  In short, various ready-made modules can be installed quickly, easily and securely on the router (php, lighttpd, dlna, transmission, perl, python, etc.).  More detail you can read on the <a href="http://forum.zyxmon.org/forum6-marshrutizatory-zyxel-keenetic.html">forum</a> . <br>  Before the start of the project, I formed a list of women.  The script should be able to: <br><ul><li>  transfer tweets immediately after they appear or when the script is run via cron </li><li>  do not carry answers, retweets and mentions </li><li>  expand t.co short links in tweet </li><li>  If possible, copy attached images (for example, Instagram) </li></ul><br>  At first it was necessary to choose the language of the script.  There are Perl and Python modules for the router, and I was equally unfamiliar with these languages.  I also never came across the Twitter API and Vkontakte API, so first of all I was interested in ready-made examples of working with them.  Fortunately, there were enough such scripts in the network.  Somehow I accidentally chose Perl :) <br>  Then I proceeded directly to the documentation and examples on the Twitter API.  As you know, there are two types - Streaming and REST.  The latest changes in the API clearly show Twitter‚Äôs desire to transfer developers to the Streaming API.  Therefore, it was decided to use Streaming in order to have no problems in the future. <br><br>  Since I was making the script only for myself, I did not get access token, but took it immediately from the settings page of my Twitter application.  For a couple of hours, a simple console application that output tweets was written using the <a href="http://search.cpan.org/~mmims/Net-Twitter-Lite-0.11002/">perl module</a> .  Everything worked fine on my computer.  To check on the router, I installed all the necessary packages (as I thought), launched the script, and ... nothing.  Does not work.  I installed all the available packages for Perl, did not help.  By googling the text of the error, I found out that the problem is most likely due to the absence of some kind of Perl module, as a result, the script cannot work correctly with SSL.  As a result, it was decided to leave Perl, and try Python. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Perl is dead, long live Python </h5><br>  Download <a href="http://www.jetbrains.com/pycharm/">PyCharm</a> , began to learn the syntax.  To be honest, after .NET was shocked by the use of indentation as a block notation :) I understood the syntax, found the <a href="https://github.com/tweepy/tweepy">tweepy</a> module, and pretty quickly my tweet output script was rewritten in Python.  I install the python packages on the router, run the script - oh, a miracle!  Works!  It remains to add side functionality and record posts in Vkontakte. <br>  First, let's deal with the functionality. <br>  Unfolding links.  If the tweet contains a link, then Twitter returns us a JSON in which there is a <code>"entities"</code> element containing <code>"urls"</code> .  It looks like this: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"entities"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hashtags"</span></span>:[], <span class="hljs-string"><span class="hljs-string">"user_mentions"</span></span>:[], <span class="hljs-string"><span class="hljs-string">"urls"</span></span>:[{ <span class="hljs-string"><span class="hljs-string">"indices"</span></span>:[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">21</span></span>], <span class="hljs-string"><span class="hljs-string">"display_url"</span></span>:<span class="hljs-string"><span class="hljs-string">"dev.twitter.com/terms/display-\u2026"</span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"https://t.co/Ed4omjYs"</span></span>, <span class="hljs-string"><span class="hljs-string">"expanded_url"</span></span>:<span class="hljs-string"><span class="hljs-string">"https://dev.twitter.com/terms/display-guidelines"</span></span> }] }</code> </pre><br>  The tweet text contains <code>"url"</code> , so to expand the link, you just need to replace the <code>"url"</code> value with the value of <code>"expanded_url"</code> in the text. <br>  Image acquisition.  If a picture is attached to a tweet, then a <code>"media"</code> element will be added to the <code>"entities"</code> <code>"media"</code> , like this: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"entities"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hashtags"</span></span>:[], <span class="hljs-string"><span class="hljs-string">"user_mentions"</span></span>:[], <span class="hljs-string"><span class="hljs-string">"urls"</span></span>:[], <span class="hljs-string"><span class="hljs-string">"media"</span></span>:[{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"photo"</span></span>, <span class="hljs-string"><span class="hljs-string">"media_url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://p.twimg.com/A7kqLpACEAAUlwz.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"indices"</span></span>:[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>], <span class="hljs-string"><span class="hljs-string">"sizes"</span></span>: { <span class="hljs-string"><span class="hljs-string">"large"</span></span>:{<span class="hljs-string"><span class="hljs-string">"resize"</span></span>:<span class="hljs-string"><span class="hljs-string">"fit"</span></span>,<span class="hljs-string"><span class="hljs-string">"h"</span></span>:<span class="hljs-number"><span class="hljs-number">454</span></span>,<span class="hljs-string"><span class="hljs-string">"w"</span></span>:<span class="hljs-number"><span class="hljs-number">584</span></span>}, <span class="hljs-string"><span class="hljs-string">"small"</span></span>:{<span class="hljs-string"><span class="hljs-string">"resize"</span></span>:<span class="hljs-string"><span class="hljs-string">"fit"</span></span>,<span class="hljs-string"><span class="hljs-string">"h"</span></span>:<span class="hljs-number"><span class="hljs-number">264</span></span>,<span class="hljs-string"><span class="hljs-string">"w"</span></span>:<span class="hljs-number"><span class="hljs-number">340</span></span>}, <span class="hljs-string"><span class="hljs-string">"thumb"</span></span>:{<span class="hljs-string"><span class="hljs-string">"resize"</span></span>:<span class="hljs-string"><span class="hljs-string">"crop"</span></span>,<span class="hljs-string"><span class="hljs-string">"h"</span></span>:<span class="hljs-number"><span class="hljs-number">150</span></span>,<span class="hljs-string"><span class="hljs-string">"w"</span></span>:<span class="hljs-number"><span class="hljs-number">150</span></span>}, <span class="hljs-string"><span class="hljs-string">"medium"</span></span>:{<span class="hljs-string"><span class="hljs-string">"resize"</span></span>:<span class="hljs-string"><span class="hljs-string">"fit"</span></span>,<span class="hljs-string"><span class="hljs-string">"h"</span></span>:<span class="hljs-number"><span class="hljs-number">454</span></span>,<span class="hljs-string"><span class="hljs-string">"w"</span></span>:<span class="hljs-number"><span class="hljs-number">584</span></span>} }, <span class="hljs-string"><span class="hljs-string">"display_url"</span></span>:<span class="hljs-string"><span class="hljs-string">"pic.twitter.com/XzDoEpH9"</span></span>, <span class="hljs-string"><span class="hljs-string">"media_url_https"</span></span>:<span class="hljs-string"><span class="hljs-string">"https://p.twimg.com/A7kqLpACEAAUlwz.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://t.co/XzDoEpH9"</span></span>, <span class="hljs-string"><span class="hljs-string">"expanded_url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://twitter.com/TestTwVK/status/268292032273977344/photo/1"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">268292032278171648</span></span>, <span class="hljs-string"><span class="hljs-string">"id_str"</span></span>:<span class="hljs-string"><span class="hljs-string">"268292032278171648"</span></span> }] },</code> </pre><br>  A direct link to the image is contained in the <code>"media_url"</code> element.  I had to save the image to a temporary file on a local disk, did not find a way to upload it to VC directly from the twitter server. <br><br>  Let's look at the received code to work with Twitter. <br>  First log in and start reading stream <br><pre> <code class="python hljs">url = <span class="hljs-string"><span class="hljs-string">"https://userstream.twitter.com/1.1/user.json"</span></span> param = {<span class="hljs-string"><span class="hljs-string">"delimited"</span></span>:<span class="hljs-string"><span class="hljs-string">"length"</span></span>, <span class="hljs-string"><span class="hljs-string">"with"</span></span>:<span class="hljs-string"><span class="hljs-string">"user"</span></span>} header = {} auth = tweepy.OAuthHandler(consumer_key, consumer_secret) auth.set_access_token(access_key, access_secret) auth.apply_auth(url, <span class="hljs-string"><span class="hljs-string">"POST"</span></span>, header,param) logging.info(<span class="hljs-string"><span class="hljs-string">'Twitter authorization successful'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  req = urllib2.Request(url) req.add_header("Authorization", header["Authorization"]) r = urllib2.urlopen(req, urllib.urlencode(param), 90)</span></span></code> </pre><br>  We read the answers, if it is tweet - we process it <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-comment"><span class="hljs-comment">#   length = "" while True: c = r.read(1) if c == "\n": break if c == "": raise Exception length += c length = length.strip() if not length.isdigit(): continue #    tweet = json.loads(r.read(int(length))) #   -    if "user" in tweet and "text" in tweet and "created_at" in tweet and "id" in tweet: handleTweet(tweet)</span></span></code> </pre><br>  Tweet processing method: <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   text = tweet["text"] #,    ,    if not text.startswith('@') and not "@zzeneg" in text: #    urls = tweet["entities"]["urls"] #   for url in urls: text = text.replace(url["url"], url["expanded_url"]) #    EyeEm -  id  #   -     if "media" in tweet["entities"]: photo = tweet["entities"]["media"][0] text = text.replace(photo["url"], "")</span></span></code> </pre><br><br><h5>  Work with VK </h5><br>  VK has a slightly different authorization mechanism, and it will not work just to get access token. <br>  First you need to create a desktop application and take it id.  Then create a link of the form <code><a href="https://oauth.vk.com/authorize%3Fclient_id%3D"></a> oauth.vk.com/authorize?client_id={ID}&amp;scope=wall,photos,offline&amp;redirect_uri=http://oauth.vk.com/blank.html&amp;display=page&amp;response_type=token</code>  <code><a href="https://oauth.vk.com/authorize%3Fclient_id%3D"></a> oauth.vk.com/authorize?client_id={ID}&amp;scope=wall,photos,offline&amp;redirect_uri=http://oauth.vk.com/blank.html&amp;display=page&amp;response_type=token</code> , where {ID} is the application ID.  This link also shows the permissions for the application - wall for posting on the wall, photos for uploading the image and offline for the token to be eternal.  We copy this link in the browser.  VC will ask us about granting rights to this application, and then redirect to the URL, which will contain the token. <br><br>  Such a wrapper is used to work with VK API methods.  The code is not mine, but I completely forgot where I got it from - I apologize for not indicating the author. <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vkMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(method, data={})</span></span></span><span class="hljs-function">:</span></span> url = <span class="hljs-string"><span class="hljs-string">'https://api.vk.com/method/%s.json'</span></span> % (method) data.update({<span class="hljs-string"><span class="hljs-string">'access_token'</span></span>: vkToken}) response = requests.post(url, data).json <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">'error'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> response: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'VK API error: %s'</span></span> % (response[<span class="hljs-string"><span class="hljs-string">'error'</span></span>][<span class="hljs-string"><span class="hljs-string">'error_msg'</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response</code> </pre><br>  Here vkToken is the received token for VK, method is the name of the method from the list of VK API methods, data is some data for the method. <br><br>  To attach a picture to a post on a wall, you need to upload it to the user's album.  For photos on the wall in VK there is a special album and special methods for working with it.  First we get a link to upload photos, then save the picture.  The result was the following method: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uploadPhoto</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fileUrl)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># url    response = vkMethod('photos.getWallUploadServer') uploadUrl = response['response']['upload_url'] #   urllib.urlretrieve(fileUrl,'temp.jpg') #    files = {'photo': open('temp.jpg', 'rb')} response = requests.post(uploadUrl, files = files).json #    response = vkMethod('photos.saveWallPhoto', response) # id  return response['response'][0]['id']</span></span></code> </pre><br>  This method returns the ID of the loaded picture, which can be specified directly when creating a message on the wall: <br><pre> <code class="python hljs">attachments = uploadPhoto(photo[<span class="hljs-string"><span class="hljs-string">"media_url"</span></span>]) vkMethod(<span class="hljs-string"><span class="hljs-string">'wall.post'</span></span>, {<span class="hljs-string"><span class="hljs-string">'message'</span></span>: text,<span class="hljs-string"><span class="hljs-string">'attachments'</span></span>:attachments})</code> </pre><br>  In this case, if the <code>attachments</code> is an empty line - then the message will still appear on the wall, without attachments. <br><br><h5>  Work with EyeEm </h5><br>  I use EyeEm (this is an analog of Instagram, but with normal Privacy Terms), and recently I thought that it would be nice to upload photos from there to VKontakte.  Fortunately, EyeEm has a very simple and straightforward API, and in just two lines you can add support for uploading photos from the script to the script. <br>  The method of obtaining links to photos by her ID <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEyeEmPhotoUrlById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(photoId)</span></span></span><span class="hljs-function">:</span></span> url = <span class="hljs-string"><span class="hljs-string">"https://www.eyeem.com/api/v2/photos/{0}?access_token={1}"</span></span>.format(photoId, eyeEmToken) response = requests.get(url).json <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response[<span class="hljs-string"><span class="hljs-string">'photo'</span></span>][<span class="hljs-string"><span class="hljs-string">'photoUrl'</span></span>]</code> </pre><br>  Now we find the link to the photo in the tweet, we get its url and also upload it to VK <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> url[<span class="hljs-string"><span class="hljs-string">"expanded_url"</span></span>].startswith(<span class="hljs-string"><span class="hljs-string">"http://www.eyeem.com/p/"</span></span>): eyeEmId = url[<span class="hljs-string"><span class="hljs-string">"expanded_url"</span></span>].replace(<span class="hljs-string"><span class="hljs-string">"http://www.eyeem.com/p/"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>) photoUrl = getEyeEmPhotoUrlById(eyeEmId) attachments = uploadPhoto(photoUrl)</code> </pre><br><br><h5>  Installing the script on the router </h5><br>  The finished script can be downloaded from <a href="https://github.com/zzeneg/TwVk">github</a> .  Tokens in it, of course, changed :) You will need to get yours. <br>  Now we are setting up a router to support third-party packages according to the instructions on the <a href="http://code.google.com/p/zyxel-keenetic-packages/wiki/Welcome">wiki</a> .  I will give here a brief instruction for Windows: <br><ol><li>  Format the flash drive in NTFS, create system / bin folders on it </li><li>  Insert the flash drive into the router, open it in the explorer and copy the <a href="">ext_init.sh</a> file <a href="">there</a> </li><li>  Remount the disk - disconnect the disk through the web interface, rewind the flash drive.  We are waiting until the post " <code>dropbear[4017] Running in background</code> " appears in the logs of the router </li><li>  Connect via SSH (root / zyxel) and execute finish_install.sh.  We are waiting for the end of the swap. </li></ol><br>  The router is ready to install opkg packages.  Their list can be viewed on the <a href="http://code.google.com/p/zyxel-keenetic-packages/source/browse/">website</a> or by <code>opkg list</code> .  Install python and the necessary modules: <br>  Then, install python with the command: <br><ol><li>  Basic packages using <code>opkg install python</code> and <code>opkg install python-openssl</code> </li><li>  The <a href="https://github.com/tweepy/tweepy">tweepy</a> and <a href="https://github.com/kennethreitz/requests">requests</a> modules simply copy the folder to <code>system\usr\lib\python2.7\</code> .  The new version of requests did not work for me, try either the <a href="https://github.com/kennethreitz/requests/tree/cache">cache</a> branch, or <a href="">from the archive</a> . </li><li>  To activate cron, rename the K02cron file in the system \ etc \ init.d folder in S02cron </li><li>  Configuring the script to run in cron.  Add the line to the system \ etc \ crontabs \ root file <pre> <code class="hljs ruby">*<span class="hljs-regexp"><span class="hljs-regexp">/15 * * * * killall -9 "python" ; /media</span></span><span class="hljs-regexp"><span class="hljs-regexp">/DISK_A1/system</span></span><span class="hljs-regexp"><span class="hljs-regexp">/usr/bin</span></span><span class="hljs-regexp"><span class="hljs-regexp">/python /media</span></span><span class="hljs-regexp"><span class="hljs-regexp">/DISK_A1/system</span></span><span class="hljs-regexp"><span class="hljs-regexp">/root/</span></span>TwVk.py</code> </pre>  Now cron at 0/15/30/45 minutes of each hour will kill the script and restart it. This is very crooked, but the standard for cron command for action after rebooting <code>@reboot</code> did not work.  Well, plus the script is also not quite perfect, restarting it does not hurt.  If someone can come up with a better idea, you are welcome. </li><li>  Finally, we copy the script to system \ root \ and remount the disk again. </li></ol><br><br><h5>  Conclusion </h5><br>  This script works for me for about six months (the article was written sooo long), most of the errors I corrected.  My wall in VC has become much easier to read because of the expanded links and attached photos.  I am pleased.  I plan to create a couple of Twitter scripts based on a router, such as a twitter bot. <br><br>  I hope this article is useful to someone.  At least to start using the existing router not only for its intended purpose :) <br><br>  I honestly tried to correct all grammatical errors and typos, but if you notice something - write in a personal. <br>  I also remind you once again that my knowledge of Linux and Python is not far from zero, and I will be happy to hear your tips on how to improve the script. <br><br><h5>  Acknowledgments </h5><br><ul><li>  <a href="https://habrahabr.ru/users/zyxmon/" class="user_link">zyxmon</a> , man and <s>steamer</s> forum.  His contribution to the Zyxel community cannot be overemphasized. </li><li>  <a href="https://habrahabr.ru/users/kethlin_mil/" class="user_link">kethlin_mil</a> , my girlfriend, without her I wouldn‚Äôt have figured out linux, cron and Perl. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/158285/">https://habr.com/ru/post/158285/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158269/index.html">Experience and knowledge are the basis of any assessment.</a></li>
<li><a href="../158273/index.html">Theory of radio waves: antennas</a></li>
<li><a href="../158275/index.html">Matrix printing technology</a></li>
<li><a href="../158277/index.html">Paradigms of programming. Data Driven vs Domain Driven</a></li>
<li><a href="../158283/index.html">Recovering virtual machines from SAN snapshots using Veeam Backup & Replication</a></li>
<li><a href="../158287/index.html">Developer Contest: integrate the application with Evernote and please the first users with premium subscriptions</a></li>
<li><a href="../158291/index.html">Do you need a service to find information about the training being held to develop business skills (webinars, offline, online), or the possibility of training online?</a></li>
<li><a href="../158293/index.html">Mobile Developer & Business Day Russia in Moscow</a></li>
<li><a href="../158295/index.html">The invention of Ukrainian students is one of the best versions of TIME.</a></li>
<li><a href="../158301/index.html">Dating "Mamba" in the new operating system from Microsoft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>