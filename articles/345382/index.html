<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Symfony Flex Private Recipes: Creating, Customizing, and Using</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr. 

 I bring to your attention a brief article-instructions for creating, customizing and using personal recipes (private recipes). For this w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Symfony Flex Private Recipes: Creating, Customizing, and Using</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr. <br><br>  I bring to your attention a brief article-instructions for creating, customizing and using personal recipes (private recipes).  For this we need: a project, a repository with a bundle, a repository with our recipes. <br><br>  The article contains many images, so the links to the repositories are placed here, and everything else will end up under the cat. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Bundle: <a href="https://github.com/yurijbogdanov/symfony-acme-bundle">symfony-acme-bundle</a> <br>  Recipes: <a href="https://github.com/yurijbogdanov/symfony-recipes">symfony-recipes</a> <br><a name="habracut"></a><br>  So let's go. <br><br>  1) Create a new project or use an existing one.  The main condition is to have Symfony Flex installed.  I decided to create a project from scratch. <br><br>  To create a new project, use the command <br><br><pre><code class="bash hljs">composer create-project symfony/skeleton symfony-acme-project</code> </pre> <br><img src="https://habrastorage.org/webt/gg/6y/im/gg6yimna9my_lxazyrzr3ye0gfm.jpeg"><br><br>  The project was successfully created, and in the installed packages we see symfony / flex. <br><br>  2) Create a new bundle (symfony-acme-bundle) or use an existing one.  I decided to create a simple bundle from scratch and register it with packagist.org.  A link to the repository can be found at the beginning of the article.  I lowered the processes of creating and registering a bundle, since  there is nothing complicated about them. <br><br>  3) Connect and configure symfony Flex Server.  To do this, go to <a href="https://symfony.sh/">Symfony Recipes Server</a> and click on the "register" link in the "Private Recipes BETA" section.  You can also register through the <a href="https://github.com/apps/symfony-flex-server/">symfony Flex Server</a> . <br><br>  Choose our repository with recipes and click "Install". <br><br><img src="https://habrastorage.org/webt/2v/fr/cc/2vfrcca_l0e-qmybabva_84yaoo.jpeg"><br><br>  After that, we should see a page with congratulations. <br><br><img src="https://habrastorage.org/webt/zk/wm/l_/zkwml_uah0vqzvegs_sut2y_qda.jpeg"><br><br>  4) Create a recipe. <br>  This item I broke into 2 parts.  First, we will create a repository, and then add a new recipe via pull request. <br><br>  4.1) Create a new repository (symfony-recipes) and add the files: LICENSE, config.json, README.md (optional).  A link to the repository can be found at the beginning of the article. <br><br>  We are very important config.json, namely the data that it contains. <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"projects"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"01C1K60FQVPP7FN6C3YB6639RZ"</span></span>: <span class="hljs-string"><span class="hljs-string">"Symfony Acme Project"</span></span> } }</code> </pre><br>  ‚Äú01C1K60FQVPP7FN6C3YB6639RZ‚Äù is the ID of our symfony project.  You can find it in the composer.json file of the project created in claim 1. <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"extra"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"symfony"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"01C1K60FQVPP7FN6C3YB6639RZ"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"allow-contrib"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } }</code> </pre><br>  or running in the project folder <br><br><pre> <code class="bash hljs">composer config extra.symfony.id</code> </pre> <br>  4.2) Add a recipe.  To do this, create a new branch (add-acme-recipe) and add 3 files: manifest.json, post-install.txt and config / packages / acme.yaml.  The important point is that the name of the folder with the recipe must match the name of the package (bundle) in packagist.org, and the versions must match.  In our case, this is ‚Äúyurijbogdanov / acme-bundle‚Äù and version ‚Äú1.0‚Äù. <br><br>  Sample file contents: <br><br>  yurijbogdanov / acme-bundle / 1.0 / <b>manifest.json</b> <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"bundles"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"Acme\\AcmeBundle"</span></span>: [<span class="hljs-string"><span class="hljs-string">"all"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"copy-from-recipe"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"config/"</span></span>: <span class="hljs-string"><span class="hljs-string">"%CONFIG_DIR%/"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"env"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ACME_FOO"</span></span>: <span class="hljs-string"><span class="hljs-string">"hello"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ACME_BAR"</span></span>: <span class="hljs-string"><span class="hljs-string">"world"</span></span> } }</code> </pre><br>  yurijbogdanov / acme-bundle / 1.0 / <b>post-install.txt</b> <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bg=blue;fg=white</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bg=blue;fg=white</span></span></span><span class="hljs-tag">&gt;</span></span> Next: Configuration <span class="hljs-tag"><span class="hljs-tag">&lt;/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bg=blue;fg=white</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/&gt;</span></span> * Modify your ACME_FOO config in <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fg=green</span></span></span><span class="hljs-tag">&gt;</span></span>.env<span class="hljs-tag"><span class="hljs-tag">&lt;/&gt;</span></span> * Modify your ACME_BAR config in <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fg=green</span></span></span><span class="hljs-tag">&gt;</span></span>.env<span class="hljs-tag"><span class="hljs-tag">&lt;/&gt;</span></span> * Configure your parameters in <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fg=green</span></span></span><span class="hljs-tag">&gt;</span></span>config/packages/acme.yaml<span class="hljs-tag"><span class="hljs-tag">&lt;/&gt;</span></span></code> </pre><br>  yurijbogdanov / acme-bundle / 1.0 / <b>config / packages / acme.yaml</b> <br><br><pre> <code class="hljs">acme: foo: hello bar: world</code> </pre><br>  Next, we add our branch with the recipe to the remote repository and do a pull request. <br><br><img src="https://habrastorage.org/webt/zp/rc/_g/zprc_grlis78mdk5ezaxfmjgvpi.jpeg"><br><br><img src="https://habrastorage.org/webt/sg/vt/pr/sgvtprly7ekfa89iuiijep2edmq.jpeg"><br><br>  Now a few words why it is better to add recipes via pull request, and not directly to the master (even if you are working alone). <br><br>  Every time you make a pull request, your code will be checked by the symfony-flex-server bot and even the smallest deviations from the requirements will be recorded. <br><br><img src="https://habrastorage.org/webt/ku/ps/id/kupsidueotlz3ditouq8hh92ah0.jpeg"><br><br>  By clicking on the ‚ÄúDetails‚Äù link, you can see exactly which errors were found by the bot. <br><br><img src="https://habrastorage.org/webt/kz/g6/l-/kzg6l-jxn78tnjuealsg9wmewgi.jpeg"><br><br>  If successful, you will see approve from the bot and you can make a merge in master. <br><br><img src="https://habrastorage.org/webt/95/ja/bq/95jabq_mvabvcgmqnpd-fe0hieo.jpeg"><br><br>  The branch is successful, and it is now possible to go to installing the package (bundle). <br><br><img src="https://habrastorage.org/webt/k-/bp/kt/k-bpktzwuatb8nkficpzum9qe7i.jpeg"><br><br>  5) Add a bundle to our project.  To do this, go to the folder with the project and execute the command <br><br><pre> <code class="bash hljs">composer require yurijbogdanov/acme-bundle</code> </pre> <br><img src="https://habrastorage.org/webt/yi/zq/_4/yizq_4nhgeqrargjau3ngw2ua8y.jpeg"><br><br>  The bundle was successfully installed using our recipe. <br><br><pre> <code class="bash hljs">Symfony operations: 1 recipe (7302152d871c6cc69ec5de45f91d1b38) - Configuring yurijbogdanov/acme-bundle (&gt;=1.0): From github.com/yurijbogdanov/symfony-recipes:master</code> </pre><br>  The recipe made the following changes to the project: <br><br>  1) added a bundle in config / bundles.php <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ Symfony\Bundle\FrameworkBundle\FrameworkBundle::class =&gt; [<span class="hljs-string"><span class="hljs-string">'all'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>], Acme\AcmeBundle::class =&gt; [<span class="hljs-string"><span class="hljs-string">'all'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>], ];</code> </pre><br>  2) added environment variables to .env.dist <br><br><pre> <code class="hljs coffeescript"><span class="hljs-comment"><span class="hljs-comment">###&gt; yurijbogdanov/acme-bundle ###</span></span> ACME_FOO=hello ACME_BAR=world <span class="hljs-comment"><span class="hljs-comment">###&lt; yurijbogdanov/acme-bundle ###</span></span></code> </pre><br>  3) added acme.yaml configuration file to config / packages / <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/345382/">https://habr.com/ru/post/345382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345370/index.html">POWA-like PostgreSQL Monitoring with Prometheus</a></li>
<li><a href="../345372/index.html">Dagger 2 for novice Android developers. Dagger 2. Advanced. Part 1</a></li>
<li><a href="../345374/index.html">Mikrotik RoS 6.41: Big Changes in Bridging and VLAN</a></li>
<li><a href="../345376/index.html">Study Tuples in C # 7</a></li>
<li><a href="../345380/index.html">The complete guide to Splash Screen on Android</a></li>
<li><a href="../345384/index.html">The market for cryptocurrency caught up in terms of trading volume with the New York Stock Exchange</a></li>
<li><a href="../345386/index.html">How in TMemo to make vertical alignment, indents and TextHint</a></li>
<li><a href="../345388/index.html">HTML 5.2 in brief</a></li>
<li><a href="../345390/index.html">Synchronizing AssemblyVersion and Publish Version in a ClickOnce application</a></li>
<li><a href="../345392/index.html">Methods of simulation of probability distributions in the programming language Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>