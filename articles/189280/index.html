<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Battle for conversion</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article, we talked about how to attract an audience through our own affiliate program. Now you need to bring new visitors to the goals...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Battle for conversion</h1><div class="post__text post__text-html js-mediator-article">  In the previous article, we talked about <a href="http://habrahabr.ru/company/buruki/blog/188218/">how to attract an audience</a> through our own affiliate program.  Now you need to bring new visitors to the goals for which your service was started. <br><br>  We will review the public tools that we used to increase <a href="http://buruki.ru/">Buruk</a> ‚Äôs conversion by 25% and make users a little happier.  In the end - about the new product from Google Analytics, which allows you to link online traffic sources with offline conversion. <br><br>  Work on increasing conversion consists of several stages.  Which one is more important - you can‚Äôt tell right away, it‚Äôs important that the work is iterative and the information obtained at the previous iteration is used for the next one. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Easy conversion. </h2><a name="habracut"></a><br>  For this you need: <br><ul><li>  <b>understand what goals are on the site</b> . <br>  Goals can be at least two types - final and intermediate.  With the ultimate goal, everything is clear: for an online store, this is a purchase, for Grupon, registration, etc.  But on the way to this goal there can be many intermediate stages. <br><br>  <b>IMPORTANT!</b>  Your goals and goals of the user do not always coincide!  A cool robust backend and a simple buying procedure are not synonymous!  Think about the user and as a user.  Even if he is inexperienced. <br><br>  Our users want to go to Thailand, they dream to fly there (other dream destinations are Barcelona, ‚Äã‚ÄãParis, Rome), they search for tickets many times, compare hotels, but only buy after a few months.  In this case, the path from the intermediate to the final goal is stretched for a long time and this chain should be monitored. <br></li></ul><br><ul><li>  <b>identify entry points and their differences.</b> <br>  Users who come from the search and regular visitors can expect different information from the service. <br></li></ul><br><ul><li>  <b>go through all possible paths from the entrance to the goal.</b> <br>  But it is impossible to pass!  Therefore, it is necessary to identify the most important ways and simplify them as much as possible. </li></ul><br><ul><li>  <b>change and watch and poke a wand.</b> <br>  This is the most interesting, at this stage the first three stages are repeated in a circle, maximum information is collected, we rejoice at the results. </li></ul><br><br><h2>  Description of tools for monitoring and making changes. </h2><br>  For Buruk, our main goals are the beginning of the search, the subscription to the newsletter, the transition to the agent from the search results and the most important, but postponed in time target - the purchase of a ticket.  It became possible to track deferred targets quite recently and this is a very cool feature.  How to use deferred conversion - at the end of the article. <br><br>  After the goals are set, it is necessary to collect statistics of the initial conversion, we will dance from it and we will increase it.  Depending on the number of goals, project attendance and the frequency of transactions, the initial data collection period can take from a couple of hours to a couple of weeks. <br><br>  Placed goals will help not only to understand the effectiveness of the work, but also signal the problems on the site.  For example, thanks to the conversion report in IE, we learned that JS works ‚Äúa little‚Äù incorrectly - half of the users stopped getting to the goal. <br><br><img src="https://habrastorage.org/storage2/58a/e16/193/58ae161938b0d18820617e4898fb5290.png"><br><br>  There are goals, there are initial data - into battle!  Let's look at the tools that will help in this matter. <br><br><h3>  Let's start with Yandex.Metrics </h3><br>  <a href="http://metrika.yandex.ru/">The metric</a> provides some cool tools for in-page analytics, allowing you to understand what is stopping the user from sorting out a particular page. <br><br>  <strong>Form analytics</strong> is one of the main tools for online stores and services with non-trivial registration (although it is in itself wrong, but sometimes necessary).  The tool shows how many users started filling out the form, how many reached the end and where the majority stopped.  Great stuff, allows programmers to give hands and make forms more humane. <br>  <strong>Click Map</strong> - where your users actually click, what they are interested in and how they use your navigation. <br>  <strong>Scrolls map</strong> - it is immediately clear to what height the page ‚Äúworks‚Äù.  The more content in the blind zone - the more you need to fix. <br>  <strong>Map of paths on the site</strong> - allows you to understand how the user comes to the site, where he goes and how many steps to the goal is lost on the way. <br><br>  These tools work more for static-statistical analysis, when collecting primary data they need to be used over large intervals - a week, a month, this way you can identify all possible gags and illogical user behavior caused by page curvature. <br><br>  An example of what we are working on right now is an incorrectly constructed main menu.  Users do not want to "fly away for the holidays."  They want interesting promotions and flexible search.  And special offers, perhaps, deserve more attention.  In the search form, it is noticeable how the definition of a city by IP works - the arrival city is changed much more often. <br><br><img src="https://habrastorage.org/storage2/287/276/efc/287276efc0241194269021d36f5be4d1.png"><br><br>  It is convenient to apply click cards without additional settings for pages like the main one.  But what to do if your site has a large number of pages of the same type placed on different URLs, and yet you want to see the general picture of the behavior of users on these pages?  Here comes to the rescue <strong>urlFilter</strong> , which is stated in the <a href="">official documentation</a> , to which, however, not everyone gets.  Using the filter, you can group multiple pages into one.  For example, we search all the search pages in Bukury into groups by city / airport of departure: / search / mow / rom / 2013-09-09 / 2013-09-15 / 1 / - / - / e / ‚Üí / search / mow <br><br>  Example setup code: <br><br><pre><code class="javascript hljs">yaCounter.clickmap({ <span class="hljs-attr"><span class="hljs-attr">urlFilter</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">urlOrig</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> url = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.pathname.toLowerCase(), prefix = <span class="hljs-string"><span class="hljs-string">'http://'</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.host; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (url.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>) === <span class="hljs-string"><span class="hljs-string">'/search/'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prefix + url.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>); } <span class="hljs-comment"><span class="hljs-comment">//   // ... return urlOrig; } });</span></span></code> </pre> <br><br>  In the report, these pages will be visible with full URLs, but when you go to the player - the result will be common to all pages. <br><br>  The next tool is a scrolling card.  Consider again our main page. <br>  By scrolling it is clear that the main page is done correctly.  The main elements of the most popular laptops appear on the screen (note the column on the right - the redder, the more users see the page).  If you see the same picture with your own, with clear boundaries of the number of views - this is an occasion to think about adding "beacons" that will push the user to scroll the page.  We are just thinking. <br><br><img src="https://habrastorage.org/storage2/be0/4ac/3e1/be04ac3e1452138f53b9227e5f63af2c.png"><br><br>  <strong><a href="http://metrika.yandex.ru/promo">The web visitor</a></strong> is a unique feature (it is also free!) Metrics.  The web visitor was once a separate product, but in 2010 Yandex bought the code with the team and since 2011 this functionality has organically complemented the Metrics toolkit. <br><br>  The web browser allows you to view all the actions of users in the record - clicking on links, filling out forms, jerking with a mouse (this is a separate funny bonus, which suggests that the user is sad and it would be nice to entertain him with useful information). <br><br>  A web visitor comes into play after a page is found on which users fall off and you need to understand why the user has not found the right path to the goal. <br><br><h3>  Now a little about GA </h3><br><br>  Google is now reorienting <a href="http://www.google.com/analytics/">Analytics</a> from pure statistics to a platform for usability experiments and AB tests.  The functionality is huge, there is even a book about 1500 pages about it. <br><br>  We recently switched to Univeral Analytics, this is the future of Google Analytics.  The previous version of tracking will not be updated if you use the old code - you need to update it.  Not all Universal functions work correctly (they are now in the public beta), but the news is so pleasant that we did not delay the transition.  The new Analytics works faster, provides greater limits, allows you to transfer your user ID, allows you to send requests from the backend, etc. In addition, Google‚Äôs new analytics capabilities will be implemented only in Universal Analytics. <br><br>  We are interested in the conversion section <br><br><img src="https://habrastorage.org/storage2/3ed/dfd/0e8/3eddfd0e8464c702b531a6663eba33e0.png" align="left"><br><br>  The last three points (Reverse Goal Path, Funnel Visuzlization and Goal Flow) provide an overall picture of what is happening on the site, even for very large projects. <br><br>  In support of these points, with <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/events">properly placed events,</a> you can get a picture of the user passing through the site. <br><br>  In our case, the diagram looks like this. <br><br><img src="https://habrastorage.org/storage2/d6e/724/f85/d6e724f85a6a0656fc7c05b7905d9063.png"><br><br>  And now about the coolest and the freshest in GA - new opportunities for transferring events from the server and tracking any events happening ‚Äúoffline‚Äù! <br><br>  On Buruki, we are looking for airline tickets for agencies, but we don‚Äôt sell anything ourselves, like Yandex.Market.  The purchase occurs after the transition from us to the agent, we have no control over this process and cannot place our counter on the agent pages.  After some time (sometimes minutes, sometimes hours) sales statistics come to us. <br>  The problem is that with such a scheme of work it is not at all clear what kind of source brought the real sale. <br><br>  Google solves this problem for us and for all who have a transaction going on offline. <br><br>  Google has unified the interface for interacting with analytics servers.  All requests go to the URL <a href="http://www.google-analytics.com/collect">www.google-analytics.com/collect</a> and accept the same set of parameters, regardless of whether we work on the frontend or backend.  The only difference is that in js, we have a ready-made convenient wrapper function at our disposal, with which we can, for example, send events: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  analytics.js ga('create', 'UA-XXXX-Y'); ga('send', 'event', 'category', 'action', 'label', value);</span></span></code> </pre><br><br>  On the server side, the entire request is sent as POST payload encoded in form-urlencoded (line breaks in the example below are added for clarity): <br><br><blockquote>  POST / collect HTTP / 1.1 <br>  Host: <a href="http://www.google-analytics.com/">www.google-analytics.com</a> <br><br>  v = 1 <br>  &amp; tid = UA-XXXX-Y <br>  &amp; cid = 555 <br>  &amp; t = event <br>  &amp; ec = category <br>  &amp; ea = action <br>  &amp; el = label <br>  &amp; ev = value </blockquote><br><br>  The attentive reader will pay attention to the additional parameter cid - client ID.  This is again a new feature in Universal Analytics.  If earlier the definition of what a ‚Äúvisitor‚Äù was was the privilege of the analyst itself, then now we can manually specify our id.  This is done on the burok: for each visitor we create a visitor, and accordingly send an ID to analytics.  Thanks to this, we are able to accurately track the actions that take place after the user has left the site.  In our case - this is an extract of the air ticket, which takes from 2 minutes to several hours. <br><br>  For those who want to experience offline tracking, I leave a link to the <a href="https://developers.google.com/analytics/devguides/collection/protocol/v1/">official documentation</a> . <br><br>  This method can be used, for example, for conferences, stores or concerts - you distribute unique coupons on the site to users, and later you pull GA on events when the user reached a real institution and performed an action. <br><br>  The conversion work is endless.  As soon as a new section appears on the site, a new functionality or a cool special offer - you need to start working on improving usability, increasing conversion and simplifying the site. <br><br>  An interesting fight and a beautiful victory! <br><br>  PS If you already use offline analytics from Google - share your case in the comments.  The topic is new, the potential is crazy. <br>  PS We are looking for django-python in St. Petersburg - <a href="http://hantim.ru/jobs/21698-python-django-razrabotchik">hantim.ru/jobs/21698-python-django-razrabotchik</a> , respond or wait for letters to andrew.novoselsky@gmail.com! </div><p>Source: <a href="https://habr.com/ru/post/189280/">https://habr.com/ru/post/189280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189258/index.html">How I studied on my own wishes</a></li>
<li><a href="../189262/index.html">How to record an electric guitar in Cubase 5</a></li>
<li><a href="../189266/index.html">Dissent - an anonymous communication protocol for small closed communities</a></li>
<li><a href="../189268/index.html">Tricky network issues</a></li>
<li><a href="../189276/index.html">Google, IBM, Mellanox, NVIDIA and Tyan form the data center solution development team</a></li>
<li><a href="../189282/index.html">Runetology (205): Igor Magazin, co-founder of Viber</a></li>
<li><a href="../189286/index.html">JQuery Russia Conference: First Topics and Speakers</a></li>
<li><a href="../189288/index.html">UNIGINE Open Air 2013. Photo report</a></li>
<li><a href="../189290/index.html">Review Supra M127G - middling with an unusual design</a></li>
<li><a href="../189294/index.html">A brief excursion into the history of flash memory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>