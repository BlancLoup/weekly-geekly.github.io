<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ansible Tower: Workflow Job Templates</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The phrase "task flow" speaks for itself. This Ansible Tower feature appeared in version 3.1 and allows you to specify a sequence of operations as a c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ansible Tower: Workflow Job Templates</h1><div class="post__text post__text-html js-mediator-article">  The phrase "task flow" speaks for itself.  This Ansible Tower feature appeared in version 3.1 and allows you to specify a sequence of operations as a combination of job templates (job templates, as well as synchronization (syncs) of projects and inventory, and then execute this sequence as a whole.  In other words, task streams help to organize playbooks and task templates for individual groups. <br><br><img src="https://habrastorage.org/webt/uo/jd/zf/uojdzf_6f9gmliwo8ppsuo2k1fy.png" width="100%"><br><br>  Consider what templates of task flows are, what their benefits are, how to create and edit them, as well as a number of other useful points about their use. <br><a name="habracut"></a><br><h3>  How useful task flows </h3><br>  They help to formalize and streamline the interaction of teams, for example, networkers and developers, giving them access to the relevant task streams.  At the same time, participants do not even need to know the composition and order of the tasks of the flow, since all this is already set up by those who created it.  By linking tasks of various types and unifying projects, task flows relieve representatives of one team from the need to understand exactly what the other team is doing, and vice versa. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition, task flows let you link absolutely any number of playbooks to an algorithmic chain of any complexity, where the choice of the next one to complete the task depends on the success or failure of the previous one. <br><br><h3>  How to create them </h3><br>  Click <b>Templates</b> on the Ansible Tower main menu: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vh/l-/j6/vhl-j6evhdpoixyzbjv14cpegq0.jpeg"></div><br><br>  Then click <b>Add</b> , and select <b>Workflow Template</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tp/jf/cm/tpjfcmjz0mcyalzw7w5hrl8wnh8.jpeg"></div><br><br>  A screen will appear where you can specify a name and save the task flow template: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nb/bs/uo/nbbsuouznf3epdyeokcxrbfhyfi.jpeg"></div><br><br>  After you finish, go to <b>Edit Workflow</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/68/sp/3l/68sp3l2z2zomr6xkwbfkbcgfnwo.jpeg"></div><br><br>  A screen will appear where you can add task templates and set conditions for their launching (if an error occurs or if successful, or unconditionally): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/67/t8/n-/67t8n-cd1pjdzatbrz88_qmzuqs.jpeg"></div><br><br>  Launch conditions are specified at the bottom of the panel on the right: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sf/0b/v9/sf0bv9l6xor3srrdlns1lvu8j9m.jpeg"></div><br><br>  Ansible task flows can be as simple as possible ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qh/tx/ox/qhtxoxddj5lzuqlognotveuluu8.jpeg"></div><br><br>  ... and very difficult: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k2/tx/9_/k2tx9_jhl20amjdrjsecxatlyyg.jpeg"></div><br><br>  After you configure and save the task flow template, you can run it.  To do this, simply click the icon with the rocket to the right of the template name: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bg/m8/ri/bgm8ri3gm1gupw19xzspqzcojpe.jpeg"></div><br><br><h3>  What else can you do with task flows? </h3><br>  <a href="https://docs.ansible.com/ansible-tower/latest/html/userguide/workflow_templates.html">They can be run on a schedule</a> .  To do this, click the calendar icon next to the name of the task flow template: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x5/x7/b9/x5x7b90hm2sqorg02gsysifu-lo.jpeg"></div><br><br>  ... and set its startup parameters: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/n4/c8/dr/n4c8dr7gkobgtk9g6_wykgngu4c.jpeg"></div><br><br>  To copy the task flow template, click the icon marked with an arrow on the screenshot below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7a/gu/5o/7agu5o9pumhia_elkbaauzdtmls.jpeg"></div><br><br>  However, keep in mind that when you copy a workflow, its permissions, notifications, and schedules are not copied. <br><br>  If you need to set additional variables for playbooks involved in the task flow template, and / or organize the input of information from the user, this can be done using <a href="https://docs.ansible.com/ansible-tower/latest/html/userguide/workflow_templates.html">surveys</a> .  To create a Survey, select a task flow template and click <b>Add Survey</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0c/ep/xr/0cepxrcqqjffemyfdonp4rp6j6s.jpeg"></div><br><br>  A survey screen will appear, where you can ask questions and specify the types of answers: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/is/av/6s/isav6s9gs9aq26rthft9le4rdxo.jpeg"></div><br><br>  <a href="https://docs.ansible.com/ansible-tower/latest/html/userguide/workflow_templates.html">Notifications</a> allow you to track the execution of task flows.  Simply select the task flow for which you want to configure notifications, and click <b>Notifications</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/91/0d/qr/910dqrjjc1pamifhzofb6jrta8k.jpeg"></div><br><br>  Please note that there are already some entries in the list of notifications.  Therefore, on the pop-up screen, you need to choose what you need, for example, on the screen, we selected the notification Workflow-Specific Notification, for which activation was set for both successful and unsuccessful startup: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5j/uu/uf/5juuufwcjn7mc_3qjlslb9mxvpo.jpeg"></div><br><br>  <i>Note: If you are using dynamic inventory when creating a new task flow template, make sure that the update on launch option is enabled for this inventory.</i> <br><br><h3>  Conclusion </h3><br>  So, we learned how to create a decision tree, combining the existing playbooks, setting up the launch of their tasks and creating notifications.  It is especially nice that all these features are available not only in the corporate version of Ansible Tower, so you can play with task streams right now. <br><br>  You can learn more about how to create and modify task flow templates in the <a href="https://docs.ansible.com/ansible-tower/latest/html/userguide/workflow_templates.html">official Ansible documentation</a> , in a special <a href="https://www.ansible.com/resources/webinars-training/ansible-tower-basics-workflows">webinar,</a> and in the comments to this post. </div><p>Source: <a href="https://habr.com/ru/post/432294/">https://habr.com/ru/post/432294/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../432282/index.html">The Maze Runner: Real-Time Analysis of Rat Neural Brain Activity</a></li>
<li><a href="../432284/index.html">Life in the Bottle</a></li>
<li><a href="../432286/index.html">The heyday and death of the Dreamcast</a></li>
<li><a href="../432288/index.html">LED lamps with / from Ukraine</a></li>
<li><a href="../432292/index.html">Variable and parametric fonts - win-win for designers</a></li>
<li><a href="../432296/index.html">Google keeps you in a personal ‚Äúsearch bubble‚Äù even if you log out.</a></li>
<li><a href="../432298/index.html">Timeweb entered TOP-10 domain registrars in the .RU zone</a></li>
<li><a href="../432300/index.html">Support, service, headache and all-all-all</a></li>
<li><a href="../432302/index.html">Sequence-to-Sequence Part 2 models</a></li>
<li><a href="../432304/index.html">A brilliant neuroscientist who may have the key to creating real artificial intelligence.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>