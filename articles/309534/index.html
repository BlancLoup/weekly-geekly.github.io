<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SmartSAN - how to make life easier</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you had to set up zoning in medium and large SAN networks, then you will probably agree that this is quite a tedious and complicated process that t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SmartSAN - how to make life easier</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/5f1/0eb/df7/5f10ebdf7b848c0a0a24de1cca6d61b6.jpg" align="left">  If you had to set up zoning in medium and large SAN networks, then you will probably agree that this is quite a tedious and complicated process that takes a lot of time.  And besides, when zoning is easy to make mistakes, which subsequently will not be easy to catch.  Therefore, it would be reasonable to maximally automate the process of creating zones in order to reduce time costs and eliminate errors associated with the so-called "human factor". <br><br>  HPE SmartSAN technology for HPE 3PAR StoreServ disk arrays is designed to automate the configuration of zones. <br><a name="habracut"></a><br><h2>  <font color="#00b882">Peer Zoning and Target Driven Peer Zoning (TDPZ)</font> </h2><br>  First of all, it must be said that to automate zoning (and SmartSAN to work) requires the support of a new type of zones - Peer Zoning and TDPZ.  The traditional type of zoning ‚Äúsingle initiator zoning‚Äù has the disadvantages already mentioned above (a large number of zones with a large number of servers and the associated difficulty of creating zones and a high probability of error when creating zones).  For the ‚Äúsingle initiator‚Äù zones, for each initiator in the SAN factory (that is, for each FC port of the server), a separate zone is created, which, in addition to the initiator itself, includes all the array ports that this initiator should see.  Or a separate zone can be created for each pair of initiator - target (array port). <br><br>  To overcome the shortcomings of single initiator zoning, the T11 technical committee for Fiber Channel standards developed a new type of zoning - Peer Zoning.  Peer Zoning is like an ‚Äúinverted‚Äù single initiator zoning, i.e.  Peer-zone is built ‚Äúaround‚Äù the target, and not the initiators.  Peer-zone includes a principal member (port of the array) and peer members (initiators - FC-ports of servers that must see this port of the array).  An important feature of Peer Zoning is that peer members within one zone cannot see each other, peer members can only interact with the principal member of their zone.  Peer Zoning allows you to significantly reduce the number of required zones - the number of zones will be determined by the number of FC ports of the array.  In the case of single initiator zoning, the number of zones will be determined by the number of servers and with a large number of servers the number of zones single initiator will significantly exceed the number of peer-zones. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Target Driven Peer Zoning (TDPZ) is an expansion of Peer Zoning, also based on new Fiber Channel standards developed by the T11 committee.  As the name implies, TDPZ allows devices connected to FC switches to create and manage zones themselves.  That is, TDPZ zones can be created by disk array software, while all interactions between devices (FC switches, disk arrays and servers) are performed only via the Fiber Channel protocol. <br><br><h2>  <font color="#00b882">HPE SmartSAN - automatic zone creation</font> </h2><br>  If you do not use SmartSAN, then the process of creating zones (single initiator) is actually performed in two stages: first, zones are created at the FC switch level, then hosts and volumes are configured at the disk array level, and the same WWNs must be reused ports that were already used in the first stage. <br><br>  The application of SmartSAN allows the light process of creating zones (TDPZ) to one stage - when configuring hosts at the level of the disk array, the TDPZ zones are created automatically.  If you use the CLI, the process is as follows: <br><br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">createhost</span></span> ‚Äì<span class="hljs-selector-tag"><span class="hljs-selector-tag">port</span></span> 0<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:8</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lincoln</span></span> 1000<span class="hljs-selector-tag"><span class="hljs-selector-tag">A0B3CC1C68BE</span></span></code> </pre> <br>  As a result, a TDPZ-zone will be automatically created on the switchboard, including an array port of 0: 8: 1 as a principal member and a <code>lincoln  WWN 1000A0B3CC1C68BE</code> host port <code>lincoln  WWN 1000A0B3CC1C68BE</code> as a peer member (here, to designate an array port, the designation N: S: P, t. e. node: slot: port). <br><br>  The following command allows you to create several zones at once: <br><br><pre> <code class="hljs markdown">createhost ‚Äìport <span class="hljs-emphasis"><span class="hljs-emphasis">*:8:*</span></span> lincoln 1000A0B3CC1C68BE 1000A0B3CC1C68BF</code> </pre> <br>  Here, for each port of the array located in slot 8, its own TDPZ zone will be created, including 2 server ports with <code>WWN 1000A0B3CC1C68BE</code> and <code>1000A0B3CC1C68BF</code> . <br><br>  This command allows, for example, to expand existing zones: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">createhost</span></span> ‚Äì<span class="hljs-selector-tag"><span class="hljs-selector-tag">add</span></span> ‚Äì<span class="hljs-selector-tag"><span class="hljs-selector-tag">port</span></span> 0<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:8</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:3</span></span>,1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:8</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lincoln</span></span> 1000<span class="hljs-selector-tag"><span class="hljs-selector-tag">A0B3CC1C68BD</span></span></code> </pre> <br>  The server port 1000A0B3CC1C68BD will be added to each of the two zones that correspond to the two two principal members (array ports 0: 8: 3 and 1: 8: 3). <br><br>  SmartSAN 1.0 now supports only the CLI interface for configuring zones.  The next version of SmartSAN 2.0, which will appear this year, will also support a graphical interface. <br><br>  To use SmartSAN technology, it must be supported at the level of all devices included in the SAN: FC switches, disk arrays, servers.  The current list of supported devices can and should be viewed in the compatibility matrix, which can be found <a href="https://h20272.www2.hpe.com/spock/">here</a> . <br><br>  From the disk arrays, all HPE 3PAR StoreServ arrays with microcode not lower than 3.2.2 are supported (and only on the ports of the FC 16Gb array).  The FC switches support Brocade 16Gb and 8Gb switches with FOS not lower than 7.4.0a, as well as HPE FlexFabric 5900CP and 5930 switches. As for servers, the list of supported operating systems and FC-HBA can be found at the link above. <br><br><h2>  <font color="#00b882">Total</font> </h2><br>  Using HPE SmartSAN allows for sufficiently large SANs to significantly reduce the time required to create zones.  It also avoids errors when configuring zones - which is also important for small SANs. <br><br>  From a financial point of view, the purchase of one SmartSAN license per array is required and the cost of this license is extremely small. </div><p>Source: <a href="https://habr.com/ru/post/309534/">https://habr.com/ru/post/309534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309522/index.html">Super Mario World Method: Obstacle Series</a></li>
<li><a href="../309526/index.html">WebGL + WebAudio = Tower Defense</a></li>
<li><a href="../309528/index.html">How to create working rules and instructions without making enemies</a></li>
<li><a href="../309530/index.html">Google updated Android</a></li>
<li><a href="../309532/index.html">How to make friends Zabbix and Observium</a></li>
<li><a href="../309536/index.html">How to achieve an A + rating for an SSL certificate on your website, and other aspects of hosting security</a></li>
<li><a href="../309538/index.html">The report on the results of "My Circle" for August 2016, and the most popular vacancies of the month</a></li>
<li><a href="../309542/index.html">A brief history of passwords from P to b: the birth, death and zombie apocalypse</a></li>
<li><a href="../309544/index.html">Tower Defense on the Unity engine - Part 2</a></li>
<li><a href="../309546/index.html">A person. Dennis Ritchie - creator of the C language and OS UNIX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>