<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kotlin in production, what did we get, and what did we lose?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Since Google made Kotlin a new beloved wife , enough time has passed. And immediately after this announcement, our team started a new project entirely...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kotlin in production, what did we get, and what did we lose?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/571/d7e/1ea/571d7e1ea37a46f5ac25760e50dea675.jpg" alt="Kotlin" align="left" height="180">  Since Google made Kotlin a <a href="https://developer.android.com/kotlin/index.html">new beloved wife</a> , enough time has passed.  And immediately after this announcement, our team started a new project entirely on Kotlin.  Let me clarify: not a test or just an internal project, but a new module for a live application with 600+ thousand active users per month.  What experience have we learned from this?  What did we win and what did we lose? <br><a name="habracut"></a><br>  For a start, I will not repeat the promises of JetBrains at the expense of assembly time, full interaction with Java and performance.  It is true that the Kotlin code is almost as fast, and that the overhead does not exceed the size of a typical PNG image from resources.  But why do we need Kotlin at all, and what is the difference? <br><br><h3>  Fan factor </h3><br>  Obviously, Kotlin must first learn.  Even though the learning curve does not look like Mount K2, it is not flat either: one colleague noticed that it took him about two times more time to complete tasks on Kotlin, however, no one had ever complained .  On the contrary, everyone was just glad to have the opportunity to apply a cool new toy with all its whistles in production.  Moreover, in order to attract the best candidates, we did not agree to mention in the course of the interview what we were writing on Kotlin.  So the net victory in this category is +100 points to Kotlin. <br><br><h3>  Speed </h3><br>  Working with a new language is not only the study of its syntax, it is a combination of writing, reading, refactoring, testing, etc.  Let us dwell on this in a bit more detail. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Writing speed </h4><br>  On average, it took about two weeks to feel more or less comfortable with Kotlin.  And it took about two more weeks to start writing on it faster than on Java.  It was easier for those who had experience of Scala and Groovy, as the authors of Kotlin were inspired in many respects by them.  Support from the IDE is still not perfect: a lot of convenient and familiar Java refactorings and auto-substitutions simply do not work now.  But even despite this problem, in the end, we are still a bit of a plus in speed.  Kotlin's weak victory in this category, however, we expect more from the final version of Android Studio 3.0 (at the time of this writing, we were still using beta). <br><br><h4>  Read speed </h4><br>  Although the code on Kotlin turns out to be significantly shorter, it is longer to parse pull requests on the GitHub.  Why is that?  First, neither Google nor JetBrains prepared a full-fledged style guide, so the team members began to spend more time on discussions on the topic of ‚Äúbeauty‚Äù.  Even official code samples are not all uniform.  Secondly, some new (for Java) constructions can be used to the detriment, while on Java it is not possible to write like that.  Total: a small but still a loss in this direction, although, again, we expect improvements in the near future, because we have already agreed on 99% of the controversial cases. <br><br><h4>  Tools and Libraries </h4><br>  The terrible truth is that Checkstyle and Lint are absolutely useless for Kotlin, and we use them actively, but there are almost no problems with libraries, the same Dagger works fine.  And we got Kotlin-X and are going to draw into the Anko project.  Here again Kotlin‚Äôs loss, and even though Anko with Kotlin-X may sweeten the pill, we don‚Äôt particularly expect dramatic improvements in the work of the stackers in the near future. <br><br><h4>  Testing </h4><br>  And here we suddenly got an advantage.  Kotlin does not come with any new tools or libraries for testing, but new language features, especially type inference, extensions, and reified types have significantly reduced the number of boiler plates in test classes.  A clear victory here, even though the IDE sometimes tries to run Espresso as if it were pure JVM unit tests and obviously does not cope with the task. <br><br><h3>  Self development </h3><br>  A new programming language is not only a bunch of new keywords, it is new ways to rewrite old patterns, it is a bit of new paradigms and, sometimes, new ways to think and express thoughts in code.  Studying Kotlin, we not only learned how to write in another language, we understood how to make a better part of the code in the old one.  And we absolutely definitely pushed ourselves beyond the boundaries of the comfort zone, which, frankly, is also a kind of fan factor, but the fan factor is worth it! <br><br>  P.S.  Initially, the article was written in English for a corporate blog, but I decided that it should also exist in Russian, so the ‚Äúcoincidence‚Äù of the authors' names is not accidental. </div><p>Source: <a href="https://habr.com/ru/post/338388/">https://habr.com/ru/post/338388/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../338378/index.html">Computer forensics (forsensik): a selection of useful links</a></li>
<li><a href="../338380/index.html">Abstraction of the network layer using "strategies"</a></li>
<li><a href="../338382/index.html">Our method of calculating the stack of printed circuit boards</a></li>
<li><a href="../338384/index.html">First-line support bikes: great work if you have strong nerves</a></li>
<li><a href="../338386/index.html">Sheat-sheets "regular expressions"</a></li>
<li><a href="../338390/index.html">Is there an OpenVPN GUI for Linux?</a></li>
<li><a href="../338392/index.html">Visiting a fairy tale: patent trolls</a></li>
<li><a href="../338394/index.html">Hidden costs in the implementation of CRM-systems. Field experience</a></li>
<li><a href="../338396/index.html">We connect Swagger module in Play Framework</a></li>
<li><a href="../338398/index.html">Libgdx Practical questions and answers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>