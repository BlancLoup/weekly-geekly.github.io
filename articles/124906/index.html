<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>On the experience of writing AI to a simple 2D shooter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings habrochiteli, I want to tell you about the experience of writing AI to a simple 2D toy in the distant already 2003-2004. I will say right aw...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>On the experience of writing AI to a simple 2D shooter</h1><div class="post__text post__text-html js-mediator-article">  Greetings habrochiteli, I want to tell you about the experience of writing AI to a simple 2D toy in the distant already 2003-2004.  I will say right away that I never succeeded in writing essays in my life, but I will try. <br>  Most likely, gamedev specialists will find this post Nubian, but I hope that the rest will be interesting, so let's start from the beginning. <br><a name="habracut"></a><br><h5>  Game world </h5><br>  The game world consists of "squares" of the same size, teleports, jumpers and other elements suddenly changing the player's position are available. <br>  The map contains useful items in the form of weapons, cartridges, first-aid kits, armor, etc.  The player is available long jumps in space allowing enough free to move around the game world. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f9/5fd/40c/7f95fd40ceb38012f1649e22e9e822fb.jpg" width="640" height="480" alt="game world"><br><br>  The task of the future bot is to freely navigate on absolutely any new map in order to elegantly succumb to the player, and, if possible, kill as many opponents as possible. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Priority system </h5><br>  The essence of the AI ‚Äã‚Äãbot is built on a system of priorities.  Each significant point on the map where you can stand is entered into an array and for each element the weight is calculated based on the current situation. <br>  Significant points are the positions of first-aid kits, armor, weapons and the location of enemies, if they are currently on the ground.  The weight of a position with a first-aid kit is inversely proportional to the amount of health and time needed to hit a point and directly proportional to a certain amount of conditional weight chosen for first-aid kits. <br>  If the level of health is complete, then it is absolutely clear that the weight of this point is reset.  The situation is similar with other significant points.  The positions of the enemies are more priority if they have a low level of health or have no weapons.  The positions of the weapon increase the weight in the absence of it and are equal to zero if present.  Revision of the goal occurs every few seconds, or upon reaching the position of the current goal. <br>  It would seem that he told everything, but there is one more thing without which the described AI could not work - calculating the time to reach a significant point. <br><br><h5>  Shortest way </h5><br>  In order for the AI ‚Äã‚Äãsystem not to slow down the game process, at the start of the map, the movements are calculated.  Moreover, each point at which you can stand is assigned a sequence number, the distance between the points is equal to one player‚Äôs step.  Before the start of the game, the full calculation of movements was made  The bot was consistently placed at each of these points and performed possible actions for itself: a step to the left, a step to the right, a weak jump to the left, a strong jump to the left, etc. <br>  After the action was completed, the gameplay continued until the bot came to rest, after which the result was saved to a two-dimensional array of the form "[starting point] [action] = {touchdown point, move time}".  This mechanism allowed the bot to use teleports, jumpers and any other elements of the game world, since  the bot just knew that if being at point X and stepping to the left, we appear at point Y after N seconds. <br>  Having this array for the whole world, an array of movements of the form "[start point] [finish point] = {minimum time of movement}" was built.  For this, a fairly common wave algorithm was used: <br><img src="https://habrastorage.org/getpro/habr/post_images/23b/890/e2b/23b890e2b194c663bb9424435d02d0cb.gif" width="306" height="317" alt="wave algorithm"><br><br>  Only with more actions: <br><img src="https://habrastorage.org/getpro/habr/post_images/6b1/5cb/32e/6b15cb32e98e5780831dbb14ae8fb600.jpg" width="640" height="515" alt="wave algorithm"><br><br>  as a result, at any time, a bot can get an exact time to achieve the goal and a list of consecutive actions necessary for it. <br><br><h5>  Self study </h5><br>  For the selection of optimal weight parameters (which is more important than a first-aid kit, a weapon, or to kill a weak enemy), a mini-tournament was organized.  In each, 10 bots participated in each of which the weight parameters differed by some random variable.  After 20 minutes of sparing, the strongest stood out and moved on to the next battle level, where he killed even stronger opponents.  The result was a fairly good opponent to a live player - you cannot of course call him perfectly smart, but he is able to retreat and run for the medicine cabinet or cartridges in time. <br>  The remaining moments, such as aiming or choosing the optimal weapon, are quite boring and not worth your attention. <br>  I hope that you have read to the end.  Well, finally, a small video of this action: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/QOqkKKG8Nlk%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhhdqmN56XFhTx4XDS-zf-YPK9HxSQ" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/124906/">https://habr.com/ru/post/124906/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../124899/index.html">Chosen: make drop-down lists more friendly</a></li>
<li><a href="../12490/index.html">Read the instructions. This, if not useful, then at least fun.</a></li>
<li><a href="../124902/index.html">Dark color scheme for Netbeans</a></li>
<li><a href="../124904/index.html">Ideas for the future: a wrist PC</a></li>
<li><a href="../124905/index.html">Invitation to international research for gamers</a></li>
<li><a href="../124907/index.html">World of Warcraft - a game or a digital drug?</a></li>
<li><a href="../124909/index.html">Comparison of memory consumption for different data storage structures</a></li>
<li><a href="../12491/index.html">Cheer up!</a></li>
<li><a href="../124910/index.html">Introduction to cycle optimization techniques</a></li>
<li><a href="../124911/index.html">Imperavi: a convenient and really beautiful JS WYSIWYG editor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>