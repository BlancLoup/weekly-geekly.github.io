<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Chef for 21 days. Part two. Creating and using a cookbook</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Hi, Habrayuzer! Still with us? CHEF is interesting! We continue our voyage to the skill of the automaton warrior, which began in the first part of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Chef for 21 days. Part two. Creating and using a cookbook</h1><div class="post__text post__text-html js-mediator-article">  Hi, Hi, Habrayuzer!  Still with us?  CHEF is interesting!  We continue our voyage to the skill of the automaton warrior, which began in the <a href="http://habrahabr.ru/company/epam_systems/blog/208542">first part of</a> this article.  This article will focus on the first writing experience of a <b>cookbook</b> , <b>recipes</b> , <b>attributes,</b> and <b>patterns</b> . <br><a name="habracut"></a><br>  Before we go further, a small digression on the infrastructure.  In the future, we need a couple of computers or virtual machines.  Of course, there is VirtualBox, there is Vagrant, but I strongly advise using <b>Amazon Web Services</b> (AWS).  The main reason is that AWS is universally used by different companies, and getting to know it is an added bonus to you.  There are free images on it that anyone can use.  There are many different services and tools that Amazon offers.  Some of them are extremely relevant.  I believe that this experience is a must-have experience. <br><br><h2>  Step 5. Welcome to the kitchen, baby </h2><br><br>  Welcome to the kitchen!  In our hands is the most important and indispensable tool - <b>knife</b> ! <br>  What will we cook?  Of course, our first recipe, and in order not to forget it and use it in the future - we write it in our <b>cookbook</b> .  This is where the knife, which can create cookbooks, will help us.  Of course, you can recreate the structure of the cookbook manually, but why?  Better to get acquainted with the correct structure of the standard cookbook. <br>  The <i><b>knife cookbook create</b></i> directive will help us in creation.  It will create a folder with our first cookbook in the <i>/ cookbooks</i> directory (you can specify its location in the <i>knife.rb</i> configuration <i>file</i> ).  Let's take a look at the main content of this folder. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The <b>/ attributes</b> directory contains files with a description of cookbook attributes that can be used on the site to overwrite the values ‚Äã‚Äãof certain default values ‚Äã‚Äãof the site.  These can be <i>variables</i> that contain paths to working directories, network port numbers for services, any specific <i>labels of</i> this node (for example, its role in the working environment).  The most important thing when using attributes is understanding how to apply them through a recipe.  How does CHEF get the standard attribute values?  It has a tool called <b>ohai</b> , the system attribute collector used for CHEF.  These attributes are not system variables, you are unlikely to see such attribute names in your OS ‚Äî these are variables with logical names, such as <i>node [‚Äúplatform‚Äù]</i> , which stores the name of the node's OS, or <i>node [‚Äúfqdn‚Äù]</i> - which stores full domain name of the node.  If you want to make changes to the current configuration of a service / software, you must use the attribute names provided by ohai.  No less important attribute property is the <b>identification of the</b> node - the purpose of these "tags".  I will give an example from practice. <br>  It was necessary to create a group of virtual machines (chef-clients), associate them with the Chef-server and distribute to them cookbook-and in accordance with their role in this group (master or slave).  At the stage of registering nodes on the Chef server, it is not known which node is <i>master</i> and which is <i>slave</i> .  What to do, do not hand assign each?  Everything was decided simply to impossible.  Each node received, depending on its purpose, the attribute env_role = master or slave, which was accessible to the Chef-server.  The server, in turn, on all the nodes registered on it, conducted a search on this attribute and, depending on the value, distributed cookbooks (by means of roles, which we will discuss later). <br></li><li>  Directory <b>/ files</b> - contains a set of files that will be used for distribution to nodes.  In other words, if it is necessary to <i>generate</i> a file with static content on a node (it is assumed that the contents of the file do not change during the process of using it), this is the directory where you place the files.  Further, in the recipe, the resource <b>cookbook_file</b> initializes the use of your file.  It is worth noting that the name of this resource indicates the absolute path of the location of the file on the node, so be careful when specifying the name.  In order to specify the source file - use the resource property called <i>source</i> , which indicates the name of the source file located in the / files directory.  Additionally, you can specify access rights to files on nodes, a user and a group of users who ‚Äúown‚Äù these files. <br>  Another interesting property has <i>the</i> file <i>name</i> .  For it, there are <i>templates</i> according to which a specific file can be transferred to a specific node (using the FQDN), used on a specific platform with a specific current version.  Example - a file named ubuntu-12.04 will be transferred only to nodes running Ubuntu OS 12.04. <br></li><li>  The <b>/ recipies</b> directory is the fundamental directory of our cookbook, the directory with recipes.  These are our <b>recipes</b> .  This is where we define what and how we will configure.  A recipe file is a <i>Ruby</i> file, which obviously uses Ruby language syntax (cap here!) Depending on the complexity of the task, it may contain a description of the functional and collection of resources (for simple tasks) or a collection of resources and calls from providers ( we will talk about them below).  In the recipe, you can call <i>other</i> recipes, <i>build</i> dependencies on other recipes, <b>place</b> script blocks for end nodes (for example, <i>bash</i> or <i>powershell</i> commands), and use many other features available to the Ruby language.  It is worth remembering that the execution of the code occurs exactly in the <b>order</b> specified in the recipe.  As a result, we have rather massive opportunities in our hands, limited by our knowledge of the Ruby language and its capabilities. <br></li><li>  Directory <b>/ templates</b> - contains resource <i>templates</i> that can be used in the recipe.  Templates are described in the <b>Embedded Ruby</b> format, have the <i>.erb</i> extension <i>,</i> and describe dynamic content that is generated based on variables, logic, or plain text.  Next, the resource template is declared in the resource.  The minimum ad option is as follows: <br><br><pre><code class="ruby hljs">template ‚Äú/path/to/file/on/our/node.cmd‚Äù <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> source ‚Äúnode.erb‚Äù <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><br>  Also, it is possible to set, for example, the access rights, owner and group of owners of this file.  In this particular case, a cmd file will be created on the node with the specified absolute path, the template of which is the <i>node.erb</i> file.  This template can be a set of commands that need to be run on a node via the command line.  And it can also contain some variables and logic.  Variables in the template can be, for example, attributes of your cookbook, giving the template the mentioned dynamism.  It looks like this: <br>  <code>&lt;%= node['sql_server']['product_key'] %&gt;</code> , <br>  and is the declaration of the <i>attribute</i> (SQL server key) present in the cookbook.  Also, it is worth noting that, like the file names in the <b>/ files</b> directory, template names have the same name property, namely, they describe the correspondence of the template to a specific OS and version, or the FQDN of the node. <br></li><li>  The <b>/ providers</b> and <b>/ resources</b> directories are the two directories that are organized in terms of Chef by <b>LWRP</b> ( <i>light-weight resource providers</i> ).  I could compare it with the concept of <i>class</i> in the PLO, but such a comparison may not be very correct (the programmer brothers will forgive the administrator).  In the provider, you can describe the <i>functionality</i> , in the resources - <i>attributes / variables</i> and available <i>actions</i> (possible <i>actions</i> for providers that can be called from recipes).  Resources are identified and associated with the provider, forming a kind of ‚Äúclass‚Äù. <br>  The interaction between parts of the LWRP is provided by using a <i>Resource DSL</i> - a language containing several methods for describing attributes and actions.  And given that this is a variant of Ruby DSL, then <i>Ruby</i> code can be part of the definition of resources and providers.  In order not to go into theory for a long time, here is an example of LWRP, which sends letters (for example, upon the occurrence of any event in the system). <br><br><div class="spoiler">  <b class="spoiler_title">/providers/default.rb</b> <div class="spoiler_text"><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mailing</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">puts</span></span></span><span class="hljs-function"> "\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">n</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sending</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">your</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">email</span></span></span><span class="hljs-function">..." </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">r</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">chef_gem</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mail</span></span></span><span class="hljs-function">" </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">action</span></span></span><span class="hljs-function"> :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">install</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Gem</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clear_paths</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">require</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mail</span></span></span><span class="hljs-function">' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">options</span></span></span><span class="hljs-function"> = { :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">address</span></span></span><span class="hljs-function"> =</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new_resource</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">server</span></span></span><span class="hljs-function">, :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">port</span></span></span><span class="hljs-function"> =</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new_resource</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">port</span></span></span><span class="hljs-function">, :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mailto</span></span></span><span class="hljs-function"> =</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new_resource</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mailto</span></span></span><span class="hljs-function">, :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">user_name</span></span></span><span class="hljs-function"> =</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new_resource</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">user_name</span></span></span><span class="hljs-function">, :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">password</span></span></span><span class="hljs-function"> =</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new_resource</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">password</span></span></span><span class="hljs-function">, :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">authentication</span></span></span><span class="hljs-function"> =</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">plain</span></span></span><span class="hljs-function">', :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enable_starttls_auto</span></span></span><span class="hljs-function"> =</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">true</span></span></span><span class="hljs-function"> } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mail</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaults</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delivery_method</span></span></span><span class="hljs-function"> :</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">smtp</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">options</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mail</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mail</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deliver</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">from</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">options</span></span></span><span class="hljs-function">[:</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">user_name</span></span></span><span class="hljs-function">] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">options</span></span></span><span class="hljs-function">[:</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mailto</span></span></span><span class="hljs-function">] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subject</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-function">' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">body</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new_resource</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">msg</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre> <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">/resources/default.rb</b> <div class="spoiler_text"><pre> <code class="ruby hljs">actions <span class="hljs-symbol"><span class="hljs-symbol">:create</span></span> default_action <span class="hljs-symbol"><span class="hljs-symbol">:create</span></span> attribute <span class="hljs-symbol"><span class="hljs-symbol">:app_name</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; String attribute <span class="hljs-symbol"><span class="hljs-symbol">:user_name</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; String, <span class="hljs-symbol"><span class="hljs-symbol">:default</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> attribute <span class="hljs-symbol"><span class="hljs-symbol">:password</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; String, <span class="hljs-symbol"><span class="hljs-symbol">:default</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> attribute <span class="hljs-symbol"><span class="hljs-symbol">:server</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; String, <span class="hljs-symbol"><span class="hljs-symbol">:default</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> attribute <span class="hljs-symbol"><span class="hljs-symbol">:port</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; Integer, <span class="hljs-symbol"><span class="hljs-symbol">:default</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">465</span></span> attribute <span class="hljs-symbol"><span class="hljs-symbol">:mailto</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; [String, NilClass], <span class="hljs-symbol"><span class="hljs-symbol">:default</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> attribute <span class="hljs-symbol"><span class="hljs-symbol">:from</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; [String, NilClass], <span class="hljs-symbol"><span class="hljs-symbol">:default</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> attribute <span class="hljs-symbol"><span class="hljs-symbol">:msg</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:kind_of</span></span> =&gt; String, <span class="hljs-symbol"><span class="hljs-symbol">:default</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"Hi there"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*args)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> @ action = <span class="hljs-symbol"><span class="hljs-symbol">:create</span></span> End</code> </pre><br></div></div><br><br>  I think it‚Äôs pretty obvious, even for those who haven‚Äôt met Ruby syntax as described in this file.  This is the function of sending an email.  In the next part, we‚Äôll introduce you to the <i>cookbook</i> , which LWRP uses to send messages about changes in the system. <br></li></ul><br><br><h2>  Step 6. Tasting time </h2><br>  Well, let's imagine that our <b>cookbook</b> is ready (I will give it an example and describe its use in the next section). <br>  What to do next?  How to upload it to the server and send for execution by nodes?  <b>Knife</b> will do it for us.  In order to successfully carry out further operations, we need the Chef-admin to have a correctly configured knife (the knife.rb file) and an administrator certificate (for example, admin.pem).  Next, you need to go to the <b>/ chef-repo</b> directory (where our starter kit is, for example) and, while in it, execute commands. <br>  The first step is to make sure that the nodes are registered on the server ‚Äî the <code>knife node list</code> .  As a result, should get the names of the active nodes. <br>  Next, upload our <b>cookbook</b> to the server.  It should be located in the directory specified in the <i>knife.rb</i> file‚Äôs <i>cookbook_path</i> . <br>  We execute - <code>knife cookbook upload name-of-cookbook</code> .  As a result, a message about successful loading and the presence of our cookbook in the list received by the <code>knife cookbook list</code> command. <br>  The next step is to assign the <b>run-list</b> node.  Here you can go 2 ways - <i>simple</i> or <i>correct</i> . <br>  Simple - immediately add a <b>recipe</b> to the run-list - <code>knife node edit name-of-node</code> and make text changes to the run-list section, adding the line <i>‚Äúrecipe [name-of-recipe]‚Äù there</i> .  And what if there are ten such recipes?  Not very comfortable. <br><br>  The right way is to add a <b>role</b> .  The role file is a description of the <i>attributes of the</i> run-list.  Including recipes.  Accordingly, one role can be assigned to multiple nodes.  The role file is located at <i>/ chef-repo / roles</i> : <br><br><pre> <code class="ruby hljs">name <span class="hljs-string"><span class="hljs-string">"mailer"</span></span> description <span class="hljs-string"><span class="hljs-string">"Role for host that will notify us on changes"</span></span> run_list <span class="hljs-string"><span class="hljs-string">"recipe[name-of-recipe]"</span></span></code> </pre> <br><br>  In order to upload a role to the server, use the command <code>knife role from file name-of-role-file</code> .  After loading - the role can be assigned to the run-list of the node, which we will do. <br><br>  At this simple process is completed, we are ready to run the client on the site.  After that, we will get a node with ( <s>conditionally</s> ) the <b>cookbook</b> implemented on it. <br><br>  With this, I will finish the second part and will announce the third - more technically-oriented (with more code), which will tell you about the example of using <b>AWS</b> and <b>Chef</b> . </div><p>Source: <a href="https://habr.com/ru/post/209368/">https://habr.com/ru/post/209368/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209354/index.html">Components. Example</a></li>
<li><a href="../209356/index.html">How to force the process to use the new DNS server address from the updated resolv.conf without restarting the process itself</a></li>
<li><a href="../209360/index.html">Video recordings of reports on the stream ‚ÄúJavaScript on backend‚Äù of the FOSS Sea conference</a></li>
<li><a href="../209362/index.html">14 tools for web design and web development for 2014</a></li>
<li><a href="../209364/index.html">Tronsmart T1000 - ‚Äúeasy‚Äù media player for broadcasting images to the big screen</a></li>
<li><a href="../209372/index.html">Components. Testing Console</a></li>
<li><a href="../209374/index.html">Ocean Networks is going to lay a new Internet highway 9400 km long along the bottom of the Pacific Ocean</a></li>
<li><a href="../209376/index.html">Study of salaries of project managers in Russia</a></li>
<li><a href="../209380/index.html">Beginning of the end of net neutrality on the Internet?</a></li>
<li><a href="../209382/index.html">Review of Kobo Aura HD - the largest black and white reader with backlight</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>