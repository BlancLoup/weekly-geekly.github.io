<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GraphQL Voyager as a tool for finding vulnerabilities</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Currently, more and more companies are starting to use GraphQL . This is a relatively new technology (to be more precise, it is a query language), whi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GraphQL Voyager as a tool for finding vulnerabilities</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/wy/ne/hu/wynehuaurycjw6fyaaguq9essuk.png"><br><br>  Currently, more and more companies are starting to use <a href="https://graphql.org/">GraphQL</a> .  This is a relatively new technology (to be more precise, it is a query language), which is designed to solve existing <a href="https://ru.wikipedia.org/wiki/REST">REST</a> problems. <br><br>  If you are not familiar with <a href="https://graphql.org/">GraphQL</a> , then I recommend starting with resources: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <a href="https://www.howtographql.com/">https://www.howtographql.com/</a> - online training with tasks and control points.  Training starts from scratch and ends with the development of a GraphQL application. <br></li><li>  <a href="https://graphql.org/learn/">https://graphql.org/learn/</a> and <a href="https://graphql.github.io/graphql-spec/June2018">https://graphql.github.io/graphql-spec/June2018</a> - training in documentation format.  Suitable if you want to study a specific topic. <br></li></ul><br>  In this article I want to share one of the vulnerability search tools in the GraphQL API.  If you were looking for vulnerabilities in the GraphQL API, you probably encountered the following problems: <br><br><ul><li>  Instead of documentation, you have a huge unreadable JSON (GraphQL schema). <br></li><li>  The web application only uses part of the GraphQL API, so you cannot see all the data and endpoints. <br></li></ul><br>  In solving these problems, <a href="https://apis.guru/graphql-voyager/">GraphQL Voyager</a> , which visualizes the GraphQL schema, is a good helper.  Visualization greatly facilitates the understanding of the GraphQL API and helps to quickly find vulnerabilities. <br><a name="habracut"></a><br><h2>  Why use GraphQL Voyager? </h2><br>  Before looking for vulnerabilities, we want to understand what data can be obtained and what operations to perform using the GraphQL API.  As a rule, there will be no documentation page, because GraphQL contains documentation inside it.  You can get the documentation using a special request that returns a GraphQL schema that contains all the public information about the GraphQL API (how to do it further down the text). <br><br>  Most often, the schema is a huge JSON, and it is very difficult to understand the API just by reading it.  Another thing is the visual presentation of the same JSON: <br><br><img src="https://habrastorage.org/webt/5g/xp/n-/5gxpn-jf-d8fhbrptvfoepnvme4.png"><br>  <i>JSON vs IMAGE</i> <br><br><h2>  How to use GraphQL Voyager? </h2><br>  First of all you need to find the URL where the GraphQL API is located.  This can be done in several ways: <br><br><ol><li>  View requests from the client (browser, mobile application). <br></li><li>  Browse through standard URLs for GraphQL.  For example: / graphql, / api / graphql, ... (more URLs can be found here <a href="https://medium.com/%40localh0t/discovering-graphql-endpoints-and-sqli-vulnerabilities-5d39f26cea2e">https://medium.com/@localh0t/discovering-graphql-endpoints-and-sqli-vulnerabilities-5d39f26cea2e</a> ). <br></li><li>  Find mention in documentation ( <a href="https://developer.github.com/v4/">https://developer.github.com/v4/</a> ) or news ( <a href="https://medium.com/paypal-engineering/graphql-a-success-story-for-paypal-checkout-3482f724fb53">https://medium.com/paypal-engineering/graphql-a-success-story-for-paypal-checkout-3482f724fb53</a> ). <br></li></ol><br>  Having found the URL for GraphQL API-shki, you can proceed to use GraphQL Voyager.  It is quite simple.  For example, you can visualize <a href="https://github.com/graphql/swapi-graphql">SWAPI GraphQL</a> in three steps: <br><br>  <b>Step 1.</b> Copy the introspection query (the query that returns the schema): <br><br><ol><li>  Go to <a href="https://apis.guru/graphql-voyager/">https://apis.guru/graphql-voyager/</a> . </li><li>  Click "Custom Schema". </li><li>  Click "Copy Introspection Query". </li></ol><br>  <b>Step 2.</b> Execute an introspection query: <br><br><ol><li>  Go to <a href="https://graphql.github.io/swapi-graphql">https://graphql.github.io/swapi-graphql</a> . </li><li>  Paste the introspection query into the query (left side of the page). </li><li>  Send request. </li></ol><br>  <b>Step 3.</b> Copy the resulting scheme (right side of the page) and paste it into Voyager. <br><br>  <i>Note</i> : specific steps may vary from one API to another, since  queries in GraphQL can be implemented in different ways. <br><br>  After that, you will have an intuitive interface, containing: a graph with objects, their fields and connections between objects. <br><br><img src="https://habrastorage.org/webt/_e/97/eu/_e97euj-rmnbydfuldwoz3nh1su.png"><br>  <i>Now it is <b>much clearer</b></i> <br><br>  Do not be alarmed if you have a huge scheme.  In GraphQL API there can be a lot of functionality, as well as the REST API, so, despite the convenient presentation, it will still take time to learn all the details. <br><br><h2>  Conclusion </h2><br>  GraphQL Voyager is an indispensable tool when testing the GraphQL API.  With it, you can see the full picture and figure out how to use the GraphQL API. <br><br>  You can make Voyager even better if you add the ability to compare two schemes.  The idea is to track changes in GraphQL and visualize them when changes occur.  This will help to quickly find out about the new functionality or about the modification of the old functionality. <br><br>  I created a <a href="https://github.com/APIs-guru/graphql-voyager/issues/113">github ticket for this feature</a> .  You can assist in the development, for example, in the following ways: <br><br><ol><li>  (easy option) Vote for the feature.  This will raise the priority of its development. <br></li><li>  (hard version) Write the code yourself, because  <a href="https://github.com/APIs-guru/graphql-voyager">GraphQL Voyager is open source</a> . <br></li></ol></div><p>Source: <a href="https://habr.com/ru/post/448354/">https://habr.com/ru/post/448354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../448340/index.html">The creation of the game "35MM". Postapocalypse in Russia</a></li>
<li><a href="../448342/index.html">MyDrops - inexpensive TWS with good sound and reliable Bluetooth</a></li>
<li><a href="../448346/index.html">From GNU to Doom: TechTrain 2019 Announcement</a></li>
<li><a href="../448348/index.html">Elements, the basis for the development</a></li>
<li><a href="../448350/index.html">Python dictionary implementation</a></li>
<li><a href="../448358/index.html">We listen to music and lectures from Youtube with a locked smartphone screen and without advertising using Telegram</a></li>
<li><a href="../448360/index.html">A small backdoor on Flask or how to control a computer on a local network</a></li>
<li><a href="../448362/index.html">I thought I needed to send the designers to ...</a></li>
<li><a href="../448364/index.html">Stormglass - Crystals Predictors</a></li>
<li><a href="../448366/index.html">Rust 1.34 release</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>