<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CSS and iOS Safari</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear habrakhabrovtsy! 

 You always want your site to look equally good on different devices, including mobile ones. But, if the behavior in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CSS and iOS Safari</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/791/a78/39d/791a7839d89a4570b2697881760f9b89.jpg" alt="image" align="left" width="160">  Good day, dear habrakhabrovtsy! <br><br>  You always want your site to look equally good on different devices, including mobile ones.  But, if the behavior in Android browsers is largely predictable, then a number of ‚Äúsurprises‚Äù arise from iOS.  About them today and talk! <br><a name="habracut"></a><br>  Some examples have already been published on Habr√©, but I decided to include them in the article anyway.  I will divide the article into two parts.  In the first - I‚Äôll give you a list of useful css-properties for the webkit, and in the second we will talk about the fixes of problems that arise during the version for iOS Safari. <br><br><h2>  Properties </h2><br>  <b>1. -webkit-overflow-scrolling: touch</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This css-property will add a smooth scroll in blocks with overflow: scroll.  I recommend adding this property wherever scrolling can occur inside a block, for example, in the mobile menu. <br><br><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.ov-scroll</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">overflow-y</span></span>: auto; <span class="hljs-attribute"><span class="hljs-attribute">-webkit-overflow-scrolling</span></span>:touch; }</code> </pre> <br>  <b>2. -webkit-text-size-adjust: none</b> <br><br>  Disables scaling of text in horizontal orientation. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">-webkit-text-size-adjust</span></span>: none; }</code> </pre> <br>  Example: <br><br><img src="https://habrastorage.org/web/9bb/5a7/0db/9bb5a70db0ec4ccdb713d1c0d20d711d.jpg" alt="image"><br><br>  <b>3. -webkit-tap-highlight-color: #ccc</b> <br><br>  Sets the color of the selection of the active element with a tap on it (a, label).  The default is gray, and can often be to nothing, or stand out from the general design. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">-webkit-tap-highlight-color</span></span>: transparent; }</code> </pre><br>  An example of such a selection: <br><br><img src="https://habrastorage.org/web/dcb/fd6/c65/dcbfd6c655db456184ca9dd53a8e6971.jpg" alt="image"><br><br>  <b>4. -webkit-appearance: none</b> <br><br>  Disables the imposition on the elements of the system styles: shadows, border-radius, etc.  Used for input (but not all), textarea, etc.  Convenient when you need to set a uniform view of the elements on all devices. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[type=text]</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[type=submit]</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">textarea</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">-webkit-appearance</span></span>: none; }</code> </pre> <br>  It is used not only in the layout for Safari. <br><br>  <b>5. <a href="https://habrahabr.ru/users/media/" class="user_link">media</a> (pointer: coarse)</b> <br><br>  This media query will allow you to separately register styles only for devices with touch support.  Thus, on the touch devices, you can turn off unnecessary animations that are unnecessary for these types of devices. <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (pointer:coarse){ ... }</code> </pre> <br>  Can be used not only in the layout for Safari. <br><br><h2>  Fixes </h2><br>  <b>1. background-attachment: fixed</b> <br><br>  <b>Problem:</b> background-attachment: fixed does not work in iOS Safari. <br><br>  <b>Solution:</b> Fix not a background, but a block or pseudo-element. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(...); <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: fixed; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: -<span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre> <br>  <b>2. Unwanted modal window scroll</b> <br><br>  <b>Problem:</b> This is quite a rare case, but for general information, I think it will also be useful to know about it.  If the modal window has its own scrolling and in the closed state just set a negative z-index (and, for example, opacity: 0) - then when you try to scroll the page, the modal window can intercept the scroll.  As a result, the page will not be scrolled. <br><br>  <b>Solution:</b> Add pointer-events: none to the modal window in the closed state. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.modal</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: fixed; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: -<span class="hljs-number"><span class="hljs-number">9</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: none; }</code> </pre> <br>  <b>3. Lost menu when scrolling</b> <br>  In order for the menu to ‚Äústick‚Äù to the upper border of the screen when scrolling the page, the following technique is often used.  Initially, the menu has the position: absolute property, and when the upper border of the window is reached, it changes to fixed via js.  And when the page is scrolled to the top, the value again changes to absolute. <br><br>  <b>Problem:</b> In Safari on iOS, when you change the position from fixed to absolute, the menu disappears from the screen until the scroll completes. <br><br>  <b>Solution:</b> Use position: -webkit-sticky for the menu.  The behavior of the menu will be comparable to the above, but nothing will be lost!  Plus, don't use js <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.nav</span></span>{ ......... <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; } <span class="hljs-selector-class"><span class="hljs-selector-class">.nav_fix</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: fixed; } @<span class="hljs-keyword"><span class="hljs-keyword">supports</span></span> ((position:sticky) or (position:-webkit-sticky)){ <span class="hljs-selector-class"><span class="hljs-selector-class">.nav</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.nav_fix</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: -webkit-sticky; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: sticky; } }</code> </pre> <br>  By the way, the sticky value for the position property is now supported by a large number of browsers, so it can be used in desktop browsers. <br><br>  <b>4. Block with position: fixed when scrolling</b> <br><br>  If I have seen implementation of solutions to previous problems on some sites, then this problem is constantly encountered on sites. <br><br>  <b>Problem:</b> When scrolling in the browser, the screen height changes.  From here, if the scroll is not blocked when the menu or modal window is open, a similar effect occurs: <br><br><img src="https://habrastorage.org/web/6fb/9c4/b20/6fb9c4b20103465ea06da470a8be88d1.jpg" alt="image"><br><br>  <b>Solution:</b> You need to do the following "trick" using transform. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.nav</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: fixed; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: -<span class="hljs-number"><span class="hljs-number">70px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">70px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateY</span></span>(70px); }</code> </pre> <br>  The value of 70px covers the difference in the height of the window.  And only transform allows you to draw the background of the element outside the screen in this situation. <br><br><h2>  findings </h2><br>  And there are no particular conclusions, just use) If you know more useful css-properties or ‚Äúfixes‚Äù that are applicable in practice, write in the comments! <br><br>  Thanks for attention! <br><br>  <b>Update</b> <br>  Paragraph 5 was changed in the properties. Since  <a href="https://habrahabr.ru/users/media/" class="user_link">media</a> (hover) has narrow support.  Thanks dom1n1k for the valuable comment. </div><p>Source: <a href="https://habr.com/ru/post/332872/">https://habr.com/ru/post/332872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332862/index.html">Load testing of Web-systems. How to prepare for it</a></li>
<li><a href="../332864/index.html">‚ÄúHow it works‚Äù: Tier data center classification</a></li>
<li><a href="../332866/index.html">Linear programming in python by the scipy library</a></li>
<li><a href="../332868/index.html">ASP.NET Developer Path ‚Üí PHP</a></li>
<li><a href="../332870/index.html">Interview with a programmer from Tinkoff Bank Andrei Stepanov about the language of Python and ML</a></li>
<li><a href="../332874/index.html">Bank "Otkrytie" holds a small business lending harvest</a></li>
<li><a href="../332876/index.html">Port forwarding or how to get to the network for NAT using Node.JS</a></li>
<li><a href="../332878/index.html">Enter the rating of the participant "Habra" and "Toaster" on "My Circle"</a></li>
<li><a href="../332880/index.html">The critical vulnerability of the BIND authentication mechanism allows you to steal and modify DNS server records</a></li>
<li><a href="../332882/index.html">Hacking Clocktower - The First Fear</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>