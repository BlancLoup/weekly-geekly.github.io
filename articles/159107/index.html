<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple release management with Git</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Git is not only a convenient distributed VCS, but also a release preparation tool. 
 The article will review the flow of the example of Java-projects ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple release management with Git</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/e7b/ffc/8e4/e7bffc8e4fdd838f84d3c5eff9d01841.png" alt="image"><br>  Git is not only a convenient distributed VCS, but also a release preparation tool. <br>  The article will review the flow of the example of Java-projects on Maven.  The article may be useful for developers of small and medium-sized teams, the basic knowledge of git is implied.  The material overlaps with <a href="http://habrahabr.ru/post/147260/">git-flow</a> , but a simpler version is described here. <br>  In the classic case, there is one master branch in the repository, and assemblies are made from it.  If the project is built on the build server, it can lead to confusion - several different builds under the same version, the set of commits that get released is not clear (for example, if the build is done automatically by a trigger on the VCS). <br><br><a name="habracut"></a><br><br><h5>  How to solve this problem </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/adc/4d3/f8a/adc4d3f8a8f29d5894152517f519c43d.png"><br>  The first thing you can do is to enter the auxiliary release branch, into which the regular merge from the master is made (the screenshot is made in TortoiseGit, the timeline is bottom-up).  For maven-projects at the time of merge in pom-files, the version of SNAPSHOT is replaced with the release version.  If done correctly, this is the only conflict.  It is advisable to put a tag with the version number.  After that, the major-up SNAPSHOT version is done in the master branch, so the master is always SNAPSHOT, release is always not.  Accordingly, the build server is configured on the release branch for production assemblies. <br>  The disadvantage of the two-master and release branches is the inability to make a hotfix without releasing new functionality from the master, which can be critical. <br><br><h5>  Enter hotfix branch </h5><br><img src="https://habrastorage.org/storage2/a8c/1fb/551/a8c1fb551cd776452951bc0502aa5427.png"><br>  To do this, you can enter the hotfix branch, which will grow from the commit preceding the merge in release.  The first commit in this thread will be a minor-up SNAPSHOT version (1 in the illustration).  Next, the corrections are made on the release and master branches.  With merge in release, a single conflict is resolved in favor of fixing the non-SNAPSHOT-minor-version (2), with merge in the master, the version remains from the master (3).  After the merge in release, a minor-up SNAPSHOT version (4) is made in the hotfix branch.  Before the next major release, hotfix merges into master - so we won't lose all the fixes.  After completion of the preparation of branches, they are sent to the origin-repository. <br><br><h5>  What we have in the end </h5><br>  The main advantages of the solution: <br><ul><li>  cleanup with releases;  one release version corresponds to exactly one commit </li><li>  by regulating repository rights, roles in a team are clearly separated: developer, reviewer, tester / release manager </li><li>  in the case of a normal course of things, you don‚Äôt have to push --force, risking overwriting someone else‚Äôs edits, the probability of losing valuable changes is minimal </li><li>  There is no need to regularly create new configurations according to the template on the build server (as opposed to the option of creating a new branch for each major release) </li><li>  The scheme is relatively simple, it is quite convenient.  We use options with two and three branches in almost all our projects. </li></ul><br>  The disadvantages include the inability to release hotfix in the previous major release.  It is also impossible to type release only from the necessary commits.  This is solved by complicating the flow and is beyond the scope of this article. <br><br>  For many, there is nothing new here, but judging by the same github, the absolute majority of open-source projects use the simplest scheme with one branch. <br><br>  And what flow do you use? <br><br>  Useful links: <a href="http://git-scm.com/book">ProGit</a> , <a href="http://githowto.com/ru">Git How To</a> </div><p>Source: <a href="https://habr.com/ru/post/159107/">https://habr.com/ru/post/159107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159091/index.html">Questions "What? Where? When? ‚ÄùIn functional requirements</a></li>
<li><a href="../159093/index.html">Integration of social networks in iOS 6</a></li>
<li><a href="../159099/index.html">Decorator cached_property</a></li>
<li><a href="../159101/index.html">Basic styles and useful CSS snippets</a></li>
<li><a href="../159103/index.html">ReactOS in the semi-final of Zvorykin Prize</a></li>
<li><a href="../159109/index.html">Phased array antenna</a></li>
<li><a href="../159113/index.html">Hibernation on PROXMOX2</a></li>
<li><a href="../159115/index.html">We improve labor productivity. Objective-c macros and literals</a></li>
<li><a href="../159121/index.html">We solder a ‚Äúsmart‚Äù car PSU on 5v with USB charging and automatic on / off</a></li>
<li><a href="../159123/index.html">We turn on FCoE on the Cisco Nexus 5000 switch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>