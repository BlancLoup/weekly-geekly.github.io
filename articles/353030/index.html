<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using rrd4j for OpenHab2 persistence</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="OpenHab is a popular smart home server (or IoT, as it is now fashionable to say) and has already been seen on Habr√©. However, there is not as much doc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using rrd4j for OpenHab2 persistence</h1><div class="post__text post__text-html js-mediator-article">  OpenHab is a popular smart home server (or IoT, as it is now fashionable to say) and has already been <a href="https://habrahabr.ru/search/%3Fq%3D%255Bopenhab%255D%26target_type%3Dposts">seen</a> on Habr√©.  However, there is not as much documentation on specific aspects of server setup as we would like.  And in Russian it, consider that there is not. <br><br>  An important feature of OpenHab is modularity.  By itself, the server provides basic functions (even without any UI).  The rest of the functionality is provided by plugins.  One type of plug-in is persistence - providing the ability to store history values ‚Äã‚Äãfor items (device parameters).  This is necessary to display historical data (graphics) and restore the state of items when the server is restarted. <br><br>  Existing plugins allow you to use all popular databases for storage.  I will tell you about setting up a very interesting backend - rrd4j.  This is a high-performance storage for data that is a series of values ‚Äã‚Äãassociated with time.  The author was inspired by the RRDTools suite, but rewrote its functionality in Java (OpenHab is also written in Java), optimized and expanded the functionality.  The rrd4j repository files are not compatible with RRDTools files. <br><a name="habracut"></a><br>  Here you need to tell what is this repository.  This is one or more cyclic buffers that store parameter values ‚Äã‚Äãwith a time reference.  At the same time, it is possible to aggregate several changes into one buffer value (for example, to take data every minute, and to store one average value for 5 minutes). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, we have the installation of OpenHab2 without persistence.  For tests, I will use this kind of board: <br><br><img src="https://habrastorage.org/webt/gr/cb/xt/grcbxtici5yasyrtd6q4eq4sruy.jpeg"><br><br>  There are two Dallas 18B20 thermometers and a button on the board. <br><br><img src="https://habrastorage.org/webt/qu/y3/tj/quy3tjmeyer9ny3dlg6uzjzaqgo.png"><br><br>  To communicate with the server, it uses MySensors.  By the way, the plug-in for the MySensors protocol, for some reason, is not in the repository, so you need to install it with your hands, download from <a href="https://forum.mysensors.org/topic/1598/openhab-2-0-binding">the forum thread</a> and put it in the / usr / share / openhab2 / addons / folder. <br><br>  A typical gateway with the same radio module is connected to the server via USB. <br><br><div class="spoiler">  <b class="spoiler_title">Firmware for board</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Enable debug prints to serial monitor #define MY_DEBUG // Enable and select radio type attached #define MY_RADIO_NRF24 // Static node id #define MY_NODE_ID 1 #include &lt;MySensors.h&gt; #include &lt;DallasTemperature.h&gt; #define SKETCH_NAME "Test board" #define SKETCH_MAJOR_VER "1" #define SKETCH_MINOR_VER "0" // Item IDs #define CHILD_ID_BTN 3 #define CHILD_ID_TEMP 10 // Pin definitions #define PIN_BTN 2 #define PIN_BTN_LED 3 #define PIN_ONE_WIRE 7 // Messages MyMessage msgBtn(CHILD_ID_BTN, V_STATUS); MyMessage msgTemp(CHILD_ID_TEMP, V_TEMP); //OneWire temperature OneWire oneWire(PIN_ONE_WIRE); DallasTemperature temp(&amp;oneWire); #define MAX_TEMP_SENSORS 10 int cntSensors = 0; // Don't support hotplug float arrSensors[MAX_TEMP_SENSORS]; DeviceAddress arrAddress[MAX_TEMP_SENSORS]; void before() { temp.begin(); } void presentation() { // Send the sketch version information to the gateway and Controller sendSketchInfo(SKETCH_NAME, SKETCH_MAJOR_VER "." SKETCH_MINOR_VER); // Present locally attached sensors present(CHILD_ID_BTN, S_BINARY); cntSensors = temp.getDeviceCount(); if (cntSensors &gt; MAX_TEMP_SENSORS) cntSensors = MAX_TEMP_SENSORS; Serial.print("Temperature sensors found:"); Serial.print(cntSensors); Serial.println("."); for (int i = 0; i &lt; cntSensors; i++) { present(CHILD_ID_TEMP + i, S_TEMP); arrSensors[i] = 0; temp.getAddress(arrAddress[i], i); } } void setup() { // Setup locally attached sensors pinMode(PIN_BTN, INPUT_PULLUP); pinMode(PIN_BTN_LED, OUTPUT); temp.setWaitForConversion(false); temp.setResolution(12); // 0,0625 grad celsius } void loop() { // Send locally attached sensor data here static unsigned long owNextConversTm = 0; if (0 == owNextConversTm) { temp.requestTemperatures(); int16_t owConversTm = temp.millisToWaitForConversion(temp.getResolution()); owNextConversTm = millis() + owConversTm + 50; // Wait a little more } else if (owNextConversTm &lt; millis() &amp;&amp; temp.isConversionComplete()) { for (int i = 0; i &lt; cntSensors; i++) { if (temp.validFamily(arrAddress[i])) { int t1 = temp.getTempC(arrAddress[i]) * 10; float t = t1 / 10 + (t1 % 10) * 0.1; if (t != arrSensors[i]) { send(msgTemp.setSensor(CHILD_ID_TEMP + i).set(t, 1)); arrSensors[i] = t; Serial.print("Sensor #"); Serial.print(i); Serial.print(", temperature: "); Serial.print(t); Serial.println(" C."); } } } owNextConversTm = 0; } else if ((owNextConversTm + 30000) &lt; millis()) { // It was couter reset owNextConversTm = 0; } static int currVal = HIGH; int val = digitalRead(PIN_BTN); if (val != currVal) { digitalWrite(PIN_BTN_LED, val == HIGH ? LOW : HIGH); send(msgBtn.set(val == LOW)); currVal = val; Serial.print("Btn state changed to "); Serial.println(val == HIGH ? "off." : "on."); } }</span></span></code> </pre> <br></div></div><br>  Yes, I prefer to use ClassicUI (and the UI in OpenHab is also a plug-in).  I want to add a graph for two thermal sensors (see them on the same graph). <br><br>  First you need to install a plugin for rrd4j.  Fortunately, it is in the repository. <br><br><img src="https://habrastorage.org/webt/aa/0h/hg/aa0hhghllxmgqlkkjytl5x4kufu.png"><br><br>  The save setting is made in the /etc/openhab2/persistence/rrd4j.persist file.  As can be understood from the path and name, it is possible to save different data to different backends because  for each of them there will be a file with a schedule and a list of items. <br><br>  The file consists of two groups of settings - a strategy, where the save interval in the Quartz syntax and elements are set, where strategies are set for items or groups. <br><br><pre> <code class="hljs ruby">Strategies { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> Strategy name /<span class="hljs-regexp"><span class="hljs-regexp">/ | Seconds /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ | | Minutes /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ | | | Hours /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ | | | | Day of month /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ | | | | | Month /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ | | | | | | Day of week /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ | | | | | | | Year every5sec : "0/</span></span><span class="hljs-number"><span class="hljs-number">5</span></span> * * * * ?<span class="hljs-string"><span class="hljs-string">" every15sec : "</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">15</span></span> * * * * ?<span class="hljs-string"><span class="hljs-string">" everyMinute : "</span></span><span class="hljs-number"><span class="hljs-number">0</span></span> * * * * ?<span class="hljs-string"><span class="hljs-string">" every30min : "</span></span><span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> * * * ?<span class="hljs-string"><span class="hljs-string">" everyHour : "</span></span><span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> * * * ?<span class="hljs-string"><span class="hljs-string">" everyDay : "</span></span><span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> * * ?<span class="hljs-string"><span class="hljs-string">" default = everyChange } Items { gTemperature* : strategy = everyMinute, restoreOnStartup }</span></span></code> </pre><br>  In my example below, gTemperature is a group that includes both items for temperature sensors (groups need to put an asterisk after the name, otherwise the value of the group, and not its members, will be saved). <br><br>  Save the file, it will be re-read automatically.  As you can see, we save sensor values ‚Äã‚Äãevery minute.  Now this is the best option;  and why so - I will tell below. <br><br>  Where is the data stored?  In the / var / lib / openhab2 / persistence / rrd4j / folder.  There will be created a file for each item, and the file size will be immediately so as to store all the data, including the archive.  This is declared as an important feature of RRD storages - the file does not grow uncontrollably. <br><br><pre> <code class="hljs ruby">root@chubarovo<span class="hljs-symbol"><span class="hljs-symbol">:/etc/openhab2</span></span><span class="hljs-comment"><span class="hljs-comment"># ll -h1 /var/lib/openhab2/persistence/rrd4j/ total 78K drwxr-xr-x 2 openhab openhab 4.0K Apr 7 21:53 ./ drwxr-xr-x 5 openhab openhab 4.0K Feb 18 18:59 ../ -rwxr-xr-x 1 openhab openhab 32 Dec 18 15:44 Readme.txt* -rw-r--r-- 1 openhab openhab 35K Apr 7 21:54 Test_temp1_soc.rrd -rw-r--r-- 1 openhab openhab 35K Apr 7 21:54 Test_temp2_soc.rrd</span></span></code> </pre><br>  Well, since everything is fine, add graphics to yourself in the sitemap: <br><br><pre> <code class="hljs pgsql">sitemap test label=" " { <span class="hljs-type"><span class="hljs-type">Text</span></span> item=Test_button_soc label=" [MAP(ru.map):%s]" <span class="hljs-type"><span class="hljs-type">Text</span></span> item=Test_temp1_soc <span class="hljs-type"><span class="hljs-type">Text</span></span> item=Test_temp2_soc Chart item=gTemperature <span class="hljs-keyword"><span class="hljs-keyword">refresh</span></span>=<span class="hljs-number"><span class="hljs-number">60000</span></span> period=<span class="hljs-number"><span class="hljs-number">4</span></span>h }</code> </pre><br>  Here‚Äôs how it looks on screen: <br><br><img src="https://habrastorage.org/webt/i-/zt/30/i-zt30pc3a96ypjtyvmg2bjrjwm.png"><br><br>  By the way, there are also graphics in the mobile application: <br><br><img src="https://habrastorage.org/webt/k1/68/qe/k168qe3uy5j8cofvaueno1mjc2m.png"><br><br>  Another interesting feature of rrd4j (and the original RRDTools) is the built-in graphics rendering engine.  In OpenHab, such a graph can be inserted in another UI - HabPanel.  It looks old school: <br><br><img src="https://habrastorage.org/webt/uv/kn/5m/uvkn5m0zl7pl6skx1utyp6gztza.png"><br><br>  The engine is available directly from the link.  It should look something like this: <br><br> <code>http://192.168.144.243:8080/rrdchart.png?groups=gTemperature&amp;theme=black&amp;period=h&amp;h=464&amp;w=447</code> <br> <br>  w and h - the size of the graph in pixels.  The groups parameter specifies the names of the groups to display.  For individual items you need to use the items parameter.  If you need to show several groups / parameters, you must specify them separated by commas <br><br>  Okay, how does it all work?  How often is the value stored?  How much is stored?  Anyway, rrd4j has a lot of settings, but we didn‚Äôt do anything! <br><br>  To view the current storage, we will use a graphical utility that runs with the plugin for OpenHab.  There are no X on my test server, so I copied the data files and the .jar plug-in to the main Windows machine. <br><br>  To run, of course, you need Java.  It has a cool feature to run any appropriate class from .jar by name.  We need org.rrd4j.inspector.RrdInspector and run it like this: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-cp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rrd4j-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.jar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">org</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.rrd4j</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.inspector</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.RrdInspector</span></span></code> </pre> <br>  And this is what we will see for our archive: <br><br><img src="https://habrastorage.org/webt/h9/vw/-i/h9vw-ipiitm7ecbawh5uv1upeo0.png"><br><br>  Here lies the reason that there is no point in storing value more than once a minute!  The data is recorded in the storage every 60 seconds, and if you try to save more often, the average of all values ‚Äã‚Äãwill be recorded. <br><br>  It's time to consider configuring rrd4j, because I would like to take sensor readings more often.  Yes, and I also want to record the state of the button, and not to store the average (what is the use of the button?), But the maximum value for the period, in order to know whether the button was pressed during the specified period. <br><br>  As you already understood, the default configuration does not suit us.  So it would be nice to change it.  Storage settings are in /etc/openhab2/services/rrd4j.cfg.  Now the file is empty, but there is a syntax hint above. <br><br>  So, above, I already wrote common words on the format.  Now it's time to do the configuration.  As you can see from the example, the settings are in two lines: .def and .archives.  In the .items parameter, items are listed through which the configuration will be applied.  Those parameters for which there is no configuration of their own will be saved with the default settings (we saw them above in the Java Viewer). <br><br>  Make settings for thermometers: <br><br><pre> <code class="hljs go"># each <span class="hljs-number"><span class="hljs-number">15</span></span> sec temps.def=GAUGE,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span> # <span class="hljs-number"><span class="hljs-number">4</span></span>h/<span class="hljs-number"><span class="hljs-number">15s</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>m/<span class="hljs-number"><span class="hljs-number">24</span></span>h : <span class="hljs-number"><span class="hljs-number">5</span></span>m/<span class="hljs-number"><span class="hljs-number">7d</span></span> temps.archives=AVERAGE,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">960</span></span>:AVERAGE,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">1440</span></span>:AVERAGE,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">2016</span></span> temps.items=Test_temp1_soc,Test_temp2_soc</code> </pre> <br>  As you can see, the syntax is somewhat different from the classic RRDTools.  In .def we set the value type to GAUGE - this is the storage of absolute values.  Next is the heartbeat, the minimum, and the maximum possible values.  And step. <br><br>  Step is the normal interval between counts in seconds.  I chose 15, as I wanted. <br>  Hearbeat is added to step and this is the maximum time interval to save the value.  If during this time (step + heartbeat = 30 seconds in my case) the value is not recorded, then rrd4j will save in the countdown NaN. <br><br>  In .archives I set storage options.  Everything that is written to the file is configured here.  As you can see, there may be several archives.  The syntax of one archive is given in the description in the file. <br><br>  I use AVERAGE as an aggregate function.  I have a temperature and when combining samples, I need to keep the average.  Next is the xff parameter, which is poorly described on the Internet.  I had to go to the source.  It turned out to be a coefficient (in fact, a percentage), which determines at what amount of NaN, when grouping, the final NaN is recorded. <br><br>  For example, for the second archive, where 4 values ‚Äã‚Äãare combined, with a coefficient of 0.5, the final NaN will be recorded if two or more initial values ‚Äã‚Äãare NaN. <br><br>  The following parameters specify how many initial values ‚Äã‚Äãare recorded in one archive and how many archive values ‚Äã‚Äãneed to be stored (overwritten cyclically). <br><br>  In my setup, I created three archives with the following parameters: <br><br>  ‚Ä¢ Store each value, a total of 960 pieces (960 * 15 seconds = 4 hours). <br>  ‚Ä¢ Store the average of four values, a total of 1,440 pieces (1,440 * 15 seconds = 24 hours). <br>  ‚Ä¢ Store the average of 20 values, total 2016 pieces (2016 * 15 seconds = 7 days). <br><br>  We fix skills.  Button settings: <br><br><pre> <code class="hljs go"># each <span class="hljs-number"><span class="hljs-number">60</span></span> sec temps.def=DERIVE,<span class="hljs-number"><span class="hljs-number">60</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">60</span></span> # <span class="hljs-number"><span class="hljs-number">6</span></span>h/<span class="hljs-number"><span class="hljs-number">60s</span></span> : <span class="hljs-number"><span class="hljs-number">5</span></span>m/<span class="hljs-number"><span class="hljs-number">24</span></span>h : <span class="hljs-number"><span class="hljs-number">5</span></span>m/<span class="hljs-number"><span class="hljs-number">7d</span></span> temps.archives=MAX,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">360</span></span>:MAX,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">288</span></span>:MAX,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,<span class="hljs-number"><span class="hljs-number">336</span></span> temps.items=Test_button_soc</code> </pre> <br>  Here I save the values ‚Äã‚Äãevery 60 seconds and keep the maximum. <br><br>  Yes.  If in the persistence setting you specify saving more often than step in the rrd4j config, then the storage will group the values ‚Äã‚Äãby the aggregate function from the first archive. <br><br>  Now let's go back to the OpenHab setup (I bring only the Items part): <br><br><pre> <code class="hljs">Items { gTemperature* : strategy = every15sec, restoreOnStartup Test_button_soc : strategy = everyMinute, everyChange }</code> </pre> <br>  I asked for thermometers save every 15 seconds and set the settings for the button.  We will save it every minute when changing, which together with the aggregate function MAX will allow you to record 1 in the archive if the button was pressed at least once for a minute. <br><br>  I finish sitemap and see what I see: <br><br><img src="https://habrastorage.org/webt/wn/4j/oj/wn4jojjp97zxf8ozyt4d2sehxxu.png"><br><br><img src="https://habrastorage.org/webt/3p/3e/ma/3p3emazuaxhgw4caqyjspwhu8vi.png"><br><br>  OpenHab is a good solution for smart home and home automation.  Use and expand the Russian community! </div><p>Source: <a href="https://habr.com/ru/post/353030/">https://habr.com/ru/post/353030/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353020/index.html">Check incoming data. The root cause of the vulnerability and attacks on Cisco IOS</a></li>
<li><a href="../353022/index.html">Metalsmith static site generator</a></li>
<li><a href="../353024/index.html">Operating systems from scratch; level 2 (upper half)</a></li>
<li><a href="../353026/index.html">"Japan - Guam - Australia": Google is laying a new submarine cable</a></li>
<li><a href="../353028/index.html">Another example of automation or PowerShell + Google Apps Script</a></li>
<li><a href="../353034/index.html">An alternative look at the problem from Odnoklassniki with JPoint 2018</a></li>
<li><a href="../353036/index.html">Javascript MIDI Player</a></li>
<li><a href="../353040/index.html">Evaluating human capital of an IT company using SFIA criteria</a></li>
<li><a href="../353044/index.html">The digest of interesting materials for the mobile developer # 248 (April 2 - April 8)</a></li>
<li><a href="../353046/index.html">Briefly about the formats of fiscal documents: shoals version 1.0 and the transition to version 1.05 and 1.1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>