<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Make a "mindmap" on Javascript with local storage in the browser database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a small learning example of a memory card editor. Due to very detailed comments and simple code, it will not be a problem to understand it. Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Make a "mindmap" on Javascript with local storage in the browser database</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage3/ea6/221/1d4/ea62211d4013faa49c22a69a22e10416.png"><br>  This is a small learning <a href="https://4tree.ru/mindmap/">example of</a> a memory card editor.  Due to very detailed comments and simple code, it will not be a problem to understand it.  This article is intended for those who know and learn Javascript. <br><br>  I will describe the features of creating a memory card editor that uses a browser database.  Moreover, it will not be LocalStorage, which can not exceed 5 megabytes.  The amount of data can exceed 100-200 megabytes, as used by IndexedDB or webSQL, depending on what is available in a particular browser. <br><br>  Sources <a href="https://github.com/Imater/mindmap">are available on Github</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We will be laid in 520 lines of code, while in our map you can drag the nodes between them, delete, rename and create new ones.  And also it will be possible to assign one of 120 icons through the context menu. <br><br>  The secret of minimalism is that we will use plug-ins tested in <a href="https://4tree.ru/">battle</a> : <br><ol><li>  <a href="http://git.yathit.com/ydn-db/wiki/Home">Ydn.db</a> - storing information in a browser database with automatic selection of the best method and a single API </li><li>  <a href="http://medialize.github.io/jQuery-contextMenu/">jQuery context menu</a> - context menu that can be dynamically populated with Javascript </li><li>  <a href="http://jsplumbtoolkit.com/home/jquery.html">jsPlumb</a> - an extension that allows you to draw lines between HTML elements </li><li>  <a href="http://jqueryui.com/droppable/">jQuery UI</a> - Drag &amp; drop - drag and drop items between themselves </li></ol><br><br>  PS: We will also learn how to create a ‚Äúsingleton‚Äù, facilitate asynchronous programming with jQuery and the built-in object $ .Deferred (), as well as with the <a href="http://livereload.com/">LiveReload</a> plugin, save the paint on the F5 key when changing CSS properties and code in HTML and JavaScript. <br><a name="habracut"></a><br><br><h5>  Program code with comments for those in a hurry </h5><br>  Many may not continue to read, but simply get acquainted with the code. <br><div class="spoiler">  <b class="spoiler_title">Main Javascript code with very detailed comments.</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> API_4_MINDMAP = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//singleton -      if ( (typeof arguments.callee.instance=='undefined') ) { //     arguments.callee.instance = new function() { var this_api = this; //  ,     var my_all_data = {}; //    var my_all_data_template = { //  ,     "n1":{ id:1, parent_id:0, title:" &lt;br&gt; &lt;br&gt;"+ "  &lt;br&gt; .&lt;br&gt;Javascript" }, "n2":{ id:2, parent_id:1, title:"", icon:"icon-gift" }, "n3":{ id:3, parent_id:2, title:"   ", icon:"icon-flow-line" }, "n5":{ id:5, parent_id:3, title:"  jsPlumb", icon: "icon-link" }, "n4":{ id:4, parent_id:3, title:"  -  SVG" }, "n7":{ id:7, parent_id:6, title:"  jQuery ContextMenu", icon: "icon-link" }, "n8":{ id:8, parent_id:1, title:" ", icon: "icon-lamp" }, "n9":{ id:9, parent_id:8, title:"Javascript + jQuery ‚Äî 520 " }, "n10":{ id:10, parent_id:2, title:"   ", icon: "icon-floppy-1" }, "n11":{ id:11, parent_id:17, title:"IndexedDB" }, "n12":{ id:12, parent_id:17, title:"webSQL" }, "n13":{ id:13, parent_id:17, title:"LocalStorage" }, "n14":{ id:14, parent_id:10, title:"  Ydn.db", icon: "icon-link" }, "n15":{ id:15, parent_id:10, title:"   " }, "n16":{ id:16, parent_id:2, title:"   Javascript", icon: "icon-cd" }, "n17":{ id:17, parent_id:10, title:"" }, "n18":{ id:18, parent_id:6, title:"  " }, "n20":{ id:20, parent_id:8, title:"CSS ‚Äî 220 " }, "n19":{ id:19, parent_id:8, title:"HTML ‚Äî 50 " }, "n22":{ id:22, parent_id:16, title:"    " }, "n23":{ id:23, parent_id:16, title:"   " }, "n24":{ id:24, parent_id:2, title:"  ", icon: "icon-emo-wink" }, "n6":{ id:6, parent_id:2, title:" ", icon: "icon-list" }, "n25":{ id:25, parent_id:24, title:"   Fontello", icon: "icon-link" }, "n27":{ id:27, parent_id:2, title:"Drag&amp;Drop jQuery UI", icon: "icon-link" }, "n26":{ id:26, parent_id:24, title:"    " } }; this.jsSaveAllToDB = function() { //      $.each(my_all_data, function(i, el){ db.put("mindmap_db", el ).done(function(){ }); }); } this.jsLoadAllFromDB = function() { //          var d=new $.Deferred(); //    my_all_data = {}; //  db.values("mindmap_db",null,99999999).done(function(records) { if(records.length &amp;&amp; false) { $.each(records, function(i, el){ my_all_data["n"+el.id] = {}; my_all_data["n"+el.id] = el; }); } else { //   ,          my_all_data = my_all_data_template; this_api.jsSaveAllToDB(); } d.resolve(); // ,     done }); return d.promise(); //,    ,    } this.jsFind = function(id, changes) { //   id     //    ,  n     id var answer = my_all_data["n"+id]; if(!answer) return false; //     if(changes) { //   ,     $.each(changes, function(name_field, new_field_value){ answer[name_field] = new_field_value; }); db.put("mindmap_db", answer ).done(function(){ //      console.info("     "); //    }); } return answer; } this.jsFindByParent = function(parent_id) { //    parent_id var answer = []; $.each(my_all_data, function(i,el){ //      = parent_id if((el.parent_id == parent_id) &amp;&amp; (!el.del)) answer.push(el); }); return answer; } this.jsAddNew = function(parent_id, title) { //    parent_id var max_id = 0; $.each(my_all_data, function(i,el){ //  id if(el.id&gt;max_id) max_id = el.id; }); var new_id = (parseInt(max_id)+1); //  id my_all_data["n"+new_id] = {}; //   my_all_data["n"+new_id] = {id:new_id, parent_id: parent_id, title: title}; //  return new_id; } //   ,     this.jsRecursiveByParent = function(id, recursive_array) { if(!recursive_array) recursive_array = []; var answer = this_api.jsFindByParent(id); $.each(answer,function(i,el) { //      ,    recursive_array.push(el); recursive_array = this_api.jsRecursiveByParent(el.id, recursive_array); }); return recursive_array; } this.jsDeleteById = function(id) { //       if(confirm("  ‚Ññ"+id+"   ?")) { var childs = this_api.jsRecursiveByParent(id); $.each(childs, function(i, el){ api4mindmap.jsFind(el.id, {del:1}); //"" -       }); if(id!=1) api4mindmap.jsFind(id, {del:1}); // ,    ‚Ññ1 } } this.jsRenderAllMap = function(focus_id) { //      if(!focus_id) focus_id = 1; var html = "&lt;ul myid='"+focus_id+"'&gt;"; html = this_api.jsRenderOneParent(focus_id, html); //  html += "&lt;/ul&gt;"; $("#mindmap").html(html); jsMakeDroppable(); //    } this.jsRenderOneParent = function(parent_id, html) { //     html += "&lt;li id='node_"+parent_id+"' myid='"+parent_id+"'&gt;"; html += "&lt;div class='big_n_title'&gt;"; html += this_api.jsRenderOneElement(parent_id); //   html += "&lt;/div&gt;"; var childs = this_api.jsFindByParent(parent_id); //   if(childs.length) { html += "&lt;ul class='childs' myid='"+parent_id+"'&gt;"; } $.each(childs, function(i,el){ html = this_api.jsRenderOneParent(el.id,html); //   ,    }); if(childs.length) { html += "&lt;/ul&gt;"; } html += "&lt;/li&gt;"; return html; } this.jsRenderOneElement = function(id) { //   var element = this_api.jsFind(id); //  var childs_count = this_api.jsFindByParent(id).length; //-    var icon_type = ''; if(element.icon) icon_type = element.icon; //  ,   if(childs_count&gt;0) { //   var collapser_html = "&lt;div class='collapse'&gt;&lt;/div&gt;"; //   ,   var icon = "&lt;div class='type_icon'&gt;&lt;i class='icon-folder-1 folder'&gt;&lt;div class='count'&gt;"+ childs_count+"&lt;/div&gt;&lt;/i&gt;&lt;i class='"+icon_type+"'&gt;&lt;/i&gt;"+"&lt;/div&gt;"; } else { var collapser_html = ""; var icon = "&lt;div class='type_icon'&gt;&lt;i class='"+icon_type+"'&gt;&lt;/i&gt;&lt;/div&gt;"; } var answer = icon+"&lt;div class='n_title' contenteditable='true'&gt;"+element.title+ "&lt;/div&gt;&lt;div class='contextmenu'&gt;&lt;/div&gt;"+collapser_html; return answer; } this.jsDrawMindmap = function(focus_id) { //     var line_cache = []; $("#mindmap ul:visible").each(function(){ //   ul var ul_id = $(this).attr("myid"); var childs = this_api.jsFindByParent(ul_id); $.each(childs, function(i,el){ // ,      var target = el.id; if(!$("li[myid='"+target+"']"+" .big_n_title:first").hasClass("_jsPlumb_endpoint_anchor_")) { var parent_id = el.parent_id; line_cache.push( {source: parent_id, target: target} ); } }); }); if(line_cache.length) { //   ,     if(!myjsPlumb.isSuspendDrawing()) { myjsPlumb.setSuspendDrawing(true, true); console.info("set_suspend"); } } $.each(line_cache, function(i, el){ if(el.source == 1) { //        anchor1 = [ 1, 0.5, 1, 0, -1, -1 ]; } else { anchor1 = [ 1, 1, 1, 0, -1, -1 ]; //    } //   : var p1 = myjsPlumb.addEndpoint("node_"+el.source+" .big_n_title:first", { anchor: anchor1 }); //   : var p2 = myjsPlumb.addEndpoint("node_"+el.target+" .big_n_title:first", { anchor: [ 0, 1, -1, 0, 1, -1 ]}); //   : var count = this_api.jsFindByParent(el.source).length; if(count&gt;10) { //  ,     var LineType = "Straight"; } else { var LineType = "Bezier"; //   } //  ,    myjsPlumb.connect({source: p1, target: p2, scope:"someScope", deleteEndpointsOnDetach:true, connector:[ LineType, { curviness: 30, cornerRadius: 20 } ]}); }); } //jsDrawMindmap this.jsRefreshMindmap = function() { //         myjsPlumb.reset(); //   var save_scroll_top = $("#mindmap").scrollTop(); //  ,   var save_scroll_left = $("#mindmap").scrollLeft();//     var hidden_elements = []; //    $(".hide").each(function(){ hidden_elements.push($(this).attr("myid")); }); api4mindmap.jsRenderAllMap(1); //    $.each(hidden_elements, function(i, el){ // ,    . $("#node_"+el).addClass("hide"); }); api4mindmap.jsDrawMindmap(1); // ,      onResize(); //    $("#mindmap").scrollTop(save_scroll_top); //  ,   $("#mindmap").scrollLeft(save_scroll_left);//     } this.jsRegAllKeys = function() { //    $("#mindmap").on("keydown", ".n_title", function(e){ //  Enter if(e.keyCode==13) { e.preventDefault(); $(this).blur(); // ,      } }); $("#mindmap").on("keyup", ".n_title", function(e){ e.preventDefault(); if(e.keyCode==13) $(this).blur(); onResize(); // ,   ,  ,  }); $("#mindmap").on("blur", ".n_title", function(){ //  ,   var n_title_text = $(this).html(); var id = $(this).parents("li:first").attr("myid"); if(n_title_text.length==0) n_title_text = " "; //  ,   . $(this).html( strip_tags(n_title_text) ); //     this_api.jsFind(id, {title:n_title_text}); //        onResize(); //  }); $("#mindmap").on("click", ".n_title", function(){ //   ,  $(this).focus(); }); $("#mindmap").on("focus", ".n_title", function(){ // ,    var ntitle = $(this); setTimeout(function(){ if(ntitle.is(":focus")) document.execCommand('selectAll',false,null); },3); //        Firefox }); $("#mindmap").on("click", ".collapse", function(){ //     $(this).parents("li:first").toggleClass("hide"); //  api4mindmap.jsDrawMindmap(1); // ,   onResize(); return false; }); var font_size = 14; //   $("#zoom_in").on("click", function(){ //   font_size += 1; $("#mindmap").css("font-size", font_size+"px"); onResize(); return false; }); $("#zoom_out").on("click", function(){ //   font_size -= 1; $("#mindmap").css("font-size", font_size+"px"); onResize(); return false; }); $("#collapse_all").on("click", function(){ // "  " $("#node_1 ul li").addClass("hide"); onResize(); return false; }); $("#expand_all").on("click", function(){ // "  " $("#node_1 ul li").removeClass("hide"); onResize(); return false; }); } //jsRegAllKeys } } return arguments.callee.instance; //   } function onResize() { myjsPlumb.setSuspendDrawing(false, true); //   } function jsGetIcons(n) { //    var icons = {}; icons[0] = ["progress-0","progress-1","progress-2","progress-3","dot","dot-2","dot-3","star-empty","star","record"]; icons[1] = ["check","heart-empty","heart","bookmark-empty","bookmark","ok-2","help","wallet","mail-2","cloud"]; icons[2] = ["tree","chat-2","article-alt","volume","flash","aperture-alt","layers","steering-wheel","skiing","flight"]; icons[3] = ["lock-open","lock","umbrella","camera","book-open","clock-1","plus","minus","trash","music"]; icons[4] = ["calculator","address","pin","vcard","basket-1","swimming","youtube","leaf","mic","target"]; icons[5] = ["monitor","phone","download","bell","at","pause","play","stop-1","flag","key"]; icons[6] = ["users-1","eye","inbox","brush","moon","college","fast-food","coffee","top-list","bag"]; icons[7] = ["chart-area","info","home-1","hourglass","attention","scissors","tint","guidedog","archive","flow-line"]; icons[8] = ["emo-grin","emo-happy","emo-wink","emo-sunglasses","emo-thumbsup","emo-sleep","emo-unhappy","emo-devil","emo-surprised","emo-tongue"]; icons[9] = ["plus","minus","keyboard","fast-fw","to-end","to-start","cancel-circle","check","flash","feather"]; icons[10] = ["plus-circle","pencil-alt","target-1","chart-pie","adjust","user-add","volume","install","flow-cascade","sitemap"]; icons[11] = ["minus-circle","clock-1","light-down","light-up","lamp","upload","picture-2","dollar","gift","link-1"]; answer = {}; $.each(icons, function(j, icon_group){ sub_icons = {}; $.each(icons[j], function(i, icon){ sub_icons["icon-"+icon] = {}; sub_icons["icon-"+icon] = {name:icon, icon: "icon-"+icon}; }); answer["icon-group"+icon_group] = {}; answer["icon-group"+icon_group] = {name:" ‚Ññ"+(parseInt(j)+1), icon: "icon-"+icons[j][0], items: sub_icons}; }); return answer; //     } function jsMakeDroppable() { //    $(".n_title").not("ui-draggable").draggable({ zIndex: 999, delay:50, revert: false, // will cause the event to go back to its helper:"clone", appendTo: "body", refreshPositions:true }); $( ".n_title" ).not("ui-droppable").droppable({ accept: ".n_title", activeClass: "ui-can-recieve", tolerance: "pointer", hoverClass: "ui-can-hover", over: function (event, ui) { //$(this).click(); }, drop: function( event, ui ) { //console.info("drop-all",usedOverlays,ui,ui.draggable[0] ); var my_draggable = $(ui.draggable[0]); var my_droppable = $(event.target); my_draggable_id = my_draggable.parents("li:first").attr("myid"); my_droppable_id = my_droppable.parents("li:first").attr("myid"); if( jsCanDrop(my_draggable_id, my_droppable_id) ) { //,    api4mindmap.jsFind(my_draggable_id, {parent_id:my_droppable_id}); api4mindmap.jsRefreshMindmap(); $(".ui-draggable-dragging").remove(); //  ,   } else { alert("      "); } } }); } function jsCanDrop(draggable_id, droppable_id) { // ,        var can_drop = true; var all_childs = api4mindmap.jsRecursiveByParent(my_draggable_id); $.each(all_childs, function(i,el){ console.info(el.id, droppable_id); if(el.id == droppable_id) can_drop = false; }); if(draggable_id == droppable_id) var can_drop = false; return can_drop; } //      function strip_tags( str ){ if(!str) return ""; answer = str.replace(/&lt;\/?[^&gt;]+&gt;/gi, ''); answer = answer.replace(/\n/gi, ''); return answer; } var myjsPlumb; //    ///////////////////////   html //////////////////////// function jsDoFirst() { api4mindmap = new API_4_MINDMAP(); //  api  "" jsPlumb.Defaults.Container = $("#mindmap"); // ""  myjsPlumb = jsPlumb.getInstance({ DragOptions: { cursor: 'pointer', zIndex: 2000 }, PaintStyle:{ lineWidth:1, strokeStyle:"#888" }, Connector:[ "Bezier", { curviness: 30 } ], Endpoint:[ "Blank", { radius:5 } ], EndpointStyle : { fillStyle: "#567567" }, Anchors : [[ 1, 1, 1, 0, -1, -1 ],[ 0, 1, -1, 0, 1, -1 ]] }); var icons_html = jsGetIcons(0); //         $.contextMenu({ //          .contextmenu selector: '.contextmenu', trigger: 'left', callback: function(key, options) { var id = $(this).parents("li:first").attr("myid"); if( /icon-/ig.test(key) ) { //  api4mindmap.jsFind(id, {icon:key}); api4mindmap.jsRefreshMindmap(); } else if(key == "delete") { //    api4mindmap.jsDeleteById(id); api4mindmap.jsRefreshMindmap(id); } else if(key == "add_down") { //  var parent_id = api4mindmap.jsFind(id).parent_id; var new_id = api4mindmap.jsAddNew(parent_id, " "); api4mindmap.jsRefreshMindmap(); $("#node_"+new_id+" .n_title").focus(); } else if(key == "add_right") { //  var new_id = api4mindmap.jsAddNew(id, " "); $(this).parents("li").removeClass("hide"); api4mindmap.jsRefreshMindmap(); $("#node_"+new_id+" .n_title").focus(); } }, delay:0, items: { "add_down": {"name":" ", "icon": "icon-down-1"}, "add_right": {"name":" ", "icon": "icon-right-1"}, "sep1": "--------", "delete": {"name":"", "icon": "icon-trash"}, "context_make_did1011": {"name": "", "icon": "icon-emo-wink", "items": icons_html //     } } }); //    var mindmap_store_schema = { //   name: "mindmap_db", //  keyPath: 'id', //       , autoIncrement: false }; var schema = { //   stores: [mindmap_store_schema] }; if( navigator.userAgent.toLowerCase().indexOf("android") !=-1 ) { var options = {mechanisms: ['websql', 'indexeddb']}; // websql   } else { var options = {}; // indexeddb    ),      } db = new ydn.db.Storage('_all_mindmap', schema, options); //    api4mindmap.jsLoadAllFromDB().done(function(){ //        api4mindmap.jsRegAllKeys(); //  api4mindmap.jsRenderAllMap(1); //    ‚Ññ1 api4mindmap.jsDrawMindmap(1); // ,      onResize(); //  }); //       }</span></span></code> </pre> <br></div></div><br><br><h5>  Tools that I use when programming </h5><br>  For now, let's postpone the study of the code.  First, I will briefly describe the tools I use.  Many newcomers do not know about them and lose time on it. <br><br>  I program in <a href="http://panic.com/coda/">Coda</a> , and sometimes in <a href="http://www.sublimetext.com/2">Sublime Text</a> .  Coda is more familiar, but it slows down a little while coloring the code (it is only for Mac), and Sublime Text is very fast and works on any platform, but, first, I am not used to it, and second, I like to log in directly to Coda to quickly fix multiple files.  And I use the terminal to communicate with Debian through Coda. <br><br>  A real breakthrough in the speed of work for me was the opening of <a href="http://git-scm.com/book/en/Getting-Started">GIT</a> .  This is a version control system.  I use it through the official <a href="https://github.com/">GitHub</a> program: <br><img src="https://habrastorage.org/storage3/d82/66d/d25/d8266dd25a05c1699b8b86c7984fabc3.png"><br><br>  I use Github as a cloud storage of my code, and I also publish releases using it.  To ‚Äúrelease‚Äù the version of my site, I do this: <br><ol><li>  I check the work of the site on a local machine and make a ‚Äúcommit‚Äù, i.e.  I confirm the changes (see the picture above, the Commit button) </li><li>  ‚ÄúPush‚Äù changes to the server with one button (there is a Sync button in the same window below) </li><li>  I go to the terminal on my <a href="http://www.fornex.com/">server in Germany</a> via SSH and run the command: <br>  git pull https: // myuser_name: mysslpassword@github.com/Imater/tree.git master </li><li>  I run a script that compresses all JS and CSS files, throwing comments and ZIP files out of them into one js file and one css file.  The fewer files you insert into your HTML page, the faster the site loads. </li></ol><br><br>  While working with the code, I always have Chrome and its console open.  In the console, you can try the created functions, play around with the data and debug the code using the built-in debugger: <br><img src="https://habrastorage.org/storage3/b9c/b32/d2b/b9cb32d2b16d2dc382a8c200d76d4bb2.png"><br><br>  Learn how to work with the console and <a href="http://habrahabr.ru/post/149053/">Developer Tools</a> and save a lot of time. <br><br>  Now let's talk about the paint on the F5 key (in the case of MacOS - cmd + r).  Most recently discovered <a href="http://livereload.com/">LiveReload</a> .  There is a version for both Win and Mac. <br><br>  Install the program, then install the plugin under Chrome or another browser, or paste the code immediately after the body tag in the main HTML file: <br><pre> <code class="javascript hljs">&lt;script&gt;<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.write(<span class="hljs-string"><span class="hljs-string">'&lt;script src=\"http://'</span></span> + (location.host || <span class="hljs-string"><span class="hljs-string">'localhost'</span></span>).split(<span class="hljs-string"><span class="hljs-string">':'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-string"><span class="hljs-string">':35729/livereload.js?snipver=1\"&gt;&lt;/'</span></span> + <span class="hljs-string"><span class="hljs-string">'script&gt;'</span></span>)&lt;<span class="hljs-regexp"><span class="hljs-regexp">/script&gt;</span></span></code> </pre><br><br>  And after that you get a lot of pleasure.  The scenario is this: open your website, which you program, then write code in CSS or Javascript or replace the images in the folder that ‚Äúmonitors‚Äù livereload, and as soon as you save it, the website is immediately updated.  If you replace CSS, the changes are applied instantly without reloading the page. <br><br>  Well, in the end, descriptions of the tools, I want to recommend a PNG image reducer, which saves up to 70% of the volume and, thereby, speeds up the loading of the site. <br><br><h5>  Description of the program code for creating a memory card </h5><br>  All code is laid out on <a href="https://github.com/Imater/mindmap">Github</a> .  You can download it and deploy to any folder.  All you need is already in the repository.  All plugins in the folder.  Comments in the code are very detailed. <br><br>  Let's start with the basics.  I love to wrap all the many features in a <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B4%25D0%25B8%25D0%25BD%25D0%25BE%25D1%2587%25D0%25BA%25D0%25B0_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">singleton</a> .  I do this as follows: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> API_4_MINDMAP = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//singleton -      if ( (typeof arguments.callee.instance=='undefined') ) { //     arguments.callee.instance = new function() { var my_all_data = {}; var this_api = this; //  ,      this.jsAlert = function( name ) { if( prompt("Hello "+name+", are you ok?") ) { var is_ok = true; } else { var is_ok = false; } my_all_data[name] = {}; my_all_data[name] = {name: name, hi_is_ok: is_ok}; return my_all_data; } } return arguments.callee.instance; //   } api4mindmap = new API_4_MINDMAP(); //  api  "" console.info( api4mindmap.jsAlert("Habrahabr") );</span></span></code> </pre><br>  The advantage of this approach is the ability to save large data arrays inside such a "singleton" and not be afraid that the user or any plugin will change the data.  We isolate functions and variables.  And from practice, I like to type in the console: ‚Äúapi4mindmap.js ...‚Äù and wait for a pop-up list of all the functions that I created.  Quick and convenient. <br><br>  At one time it was a <a href="http://habrahabr.ru/post/78991/">discovery</a> for me that in the above example, the data in the array my_all_data is stored between function calls. <br><br>  Now let's talk about the plugins we use: <br><br><h5>  <a href="http://git.yathit.com/ydn-db/wiki/Home">Ydn.db</a> - browser database </h5><br><br>  This is a jQuery plugin that allows you to save and read data from local browser databases using a single api.  It also works on any platforms, including mobile ones.  Even in Phonegap. <br><br>  I do not use most of its functions, but I use it mainly in the following cases: <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.jsLoadAllFromDB = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//          var d=new $.Deferred(); //    my_all_data = {}; //  db.values("mindmap_db",null,99999999).done(function(records) { if(records.length) { $.each(records, function(i, el){ my_all_data["n"+el.id] = {}; my_all_data["n"+el.id] = el; }); } else { //   ,          my_all_data = my_all_data_template; this_api.jsSaveAllToDB(); } d.resolve(); // ,     done }); return d.promise(); //,    ,    } this.jsFind = function(id, changes) { //   id     //    ,  n     id var answer = my_all_data["n"+id]; if(!answer) return false; //     if(changes) { //   ,     $.each(changes, function(name_field, new_field_value){ answer[name_field] = new_field_value; }); db.put("mindmap_db", answer ).done(function(){ //      console.info("     "); //    }); } return answer; }</span></span></code> </pre><br>  This is an example from the code for the memory card editor.  Here are very simple commands: db.values ‚Äã‚Äã("mindmap_db", null, 99999999) - reads all the elements from the IndexedDb table (if in Chrome) and returns after some time to a function that is in the .done () parameters.  So you can read items from a database.  One element can be counted using the command: db.get (‚Äúmindmap_db‚Äù, 5) - this is how you consider the element with id = 5. <br><br>  To write to the database, use the command: db.put ("mindmap_db", answer).  Since this command is asynchronous and the browser does not wait for its execution, it does not slow down.  That is why this program will work faster in Chrome. <br><br>  To work with asynchronous commands, I use the <a href="http://habrahabr.ru/post/113073/">$ .Deferred ()</a> object built into jQuery.  An example is given above.  You simply promise at the end of the function that you will return the result as soon as, then immediately, with the help of the command: return d.promise (x);  And then when you have everything in the function completed, for example, the data is sent to the server, you perform d.resolve (200);  Then the .done () function is executed and the x parameter is passed to it. <br><br>  This is very convenient, since it allows you not to write functions inside each other.  And also, I recommend learning the $ .when command.  I use it when we have a lot of asynchronous functions that we started at the same time and want to do something right after the completion of all asynchronous functions.  Here is an example: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jsDo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dfdArray = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;<span class="hljs-number"><span class="hljs-number">1000</span></span>; i++) { dfdArray.push( jsAsync() ); } $.when.apply(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, dfdArray).then( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ alert(<span class="hljs-string"><span class="hljs-string">"  "</span></span>) } ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jsAcync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> d = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> $.Deferred(); setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ d.resolve(); }, <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random()*<span class="hljs-number"><span class="hljs-number">5000</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> d.promise(); }</code> </pre><br>  In fact, all the ‚Äúpromises‚Äù are recruited into the array and transferred to the $ .when command, which performs the ‚Äú.done‚Äù function exactly at the moment when the last promise is fulfilled. <br><br>  Ydn.db allows you to work with data without thinking about the methods of storing them in the browser, as it wraps their diversity into a single api.  It also allows you to work with indices, do selections, apply filters, calculate sums in tables, and so on.  But in this example, we use it only for storing and reading data, and the role of the index is performed by the array my_all_data, this provides a very high speed.  At the same time, data security is ensured by the fact that the function api4mindmap.jsFind (id, {title: ‚Äúnew_title‚Äù}) updates this array immediately, and sends data asynchronously to the database.  But, nevertheless, you can change the host header in the memory card and immediately update the browser, and all the data will be saved.  The database in the browser is fast, reliable and has the ability to store more than 100 megabytes of information. <br><br>  After examining Ydn.db, you can forget about the 5 megabytes of LocalStorage restrictions.  The only thing that the user will ask permission to store data every 5 megabytes (Chrome does not ask). <br><br>  This plugin works fine on Android and iOS.  But remember, in order to avoid mistakes, you may have to disable the IndexedDB selection in Android.  Remarkably, in the latest versions of Internet Explorer IndexedDB is used, which speeds up the work of such applications due to asynchrony.  If you save 1000 items at once, they will do it in parallel, but at different speeds, which is faster than sequential recording. <br><br><h5>  <a href="http://jsplumbtoolkit.com/home/jquery.html">jsPlumb</a> - draw SVG lines in any browser </h5><br><br>  Canvas could be used to draw lines between different html page elements, but it has many drawbacks.  You would have to create a Canvas of significant size, for example 4000 x 4000 px, which would lead to an unstable browser.  Lines would be raster and on modern Retina screens, would look worse than vector ones.  And the worst thing is that all these 16 million pixels would require a redraw every time you enter a letter into a memory card. <br><br>  jsPlumb draws each line in the SVG and places it in the right place, giving it the absolute CSS property and calculated coordinates.  It is possible to instantly redraw all the lines in one command.  In fact, you only need to specify the start and end point once, then connect them with a line and you can forget about the plugin.  Almost 3 teams and you know how to handle lines. <br><br>  On their website there is an example where each element can be moved with a mouse, while the lines move after the element without slowing down. <br><img src="http://habrastorage.org/storage3/e07/bc3/5f7/e07bc35f73363675b0b4c475215b13b8.png"><br><br>  Learn, useful for drawing: hierarchical structures, simple graphs, tutorials (which show a line with an arrow on the element about which they are talking about), organizational structures of enterprises, diagrams, and so on.  It works in almost all browsers, including iOS and Android. <br><br><h5>  <a href="http://medialize.github.io/jQuery-contextMenu/">jQuery context menu</a> - context menu </h5><br>  All the menu plugins I've seen are used to create their own html hierarchy.  And in this plugin you can create a structure in a simple, almost JSON format, using an array of objects. <br><br><img src="http://habrastorage.org/storage3/94c/f52/120/94cf5212054dd12a0f3b181717a20081.png"><br>  You can set a set of commands in the menu using this code: <br><pre> <code class="javascript hljs"> $.contextMenu({ <span class="hljs-comment"><span class="hljs-comment">//     .contextmenu selector: '.contextmenu', trigger: 'left', callback: function(key, options) { var id = $(this).parents("li:first").attr("myid"); if( /icon-/ig.test(key) ) { //  api4mindmap.jsFind(id, {icon:key}); api4mindmap.jsRefreshMindmap(); } else if(key == "delete") { //    api4mindmap.jsDeleteById(id); api4mindmap.jsRefreshMindmap(id); } else if(key == "add_down") { //  var parent_id = api4mindmap.jsFind(id).parent_id; var new_id = api4mindmap.jsAddNew(parent_id, " "); api4mindmap.jsRefreshMindmap(); $("#node_"+new_id+" .n_title").focus(); } else if(key == "add_right") { //  var new_id = api4mindmap.jsAddNew(id, " "); $(this).parents("li").removeClass("hide"); api4mindmap.jsRefreshMindmap(); $("#node_"+new_id+" .n_title").focus(); } }, delay:0, items: { "add_down": {"name":" ", "icon": "icon-down-1"}, "add_right": {"name":" ", "icon": "icon-right-1"}, "sep1": "--------", "delete": {"name":"", "icon": "icon-trash"}, "context_make_did1011": {"name": "", "icon": "icon-emo-wink", "items": icons_html //     } } });</span></span></code> </pre><br><br>  Pay attention to the item items, everything is very clear and beautiful.  Moreover, to store all the functions called by the context menu together in the callback function, allows less confusing. <br><br>  The only thing I had to do was to tweak the plug-in scripts so that it did not draw raster icons, but icons from the Fontello font. <br><br>  The main advantage of this context menu is that you can control the keys to select items and even assign hotkeys to certain commands.  All the benefits become clear after studying the <a href="http://medialize.github.io/jQuery-contextMenu/demo.html">demonstration at the office</a> . <br><br><h5>  <a href="http://fontello.com/">Fontello</a> - font with vector icons </h5><br><br>  Here, as in a supermarket, go to the site and type those icons that can be useful to you: <br><img src="http://habrastorage.org/storage3/3ad/5b7/bf1/3ad5b7bf15a9b37d35b4cb21ab3e50c8.png"><br><br>  After that, download the archive and insert a link to the CSS file in your main html file.  Since then, regardless of the browser, you use these icons like this: - this html code will turn into an icon. <br><br>  The icons themselves can be evaluated in a <a href="https://4tree.ru/mindmap/">demonstration of</a> a memory card by going to the context menu.  There are 120 icons in their natural habitat. <br><br><h5>  <a href="http://jqueryui.com/droppable/">jQuery UI</a> - plugin library for user interaction </h5><br><br>  This is a very famous library in which there are such elements as: selecting a date from the calendar, resizing any items, dragging, top bookmarks, sorting items in the list with the mouse and so on.  Study, you will not regret. <br><br><img src="http://habrastorage.org/storage3/827/f2b/42a/827f2b42a49a399e0e5310bb72d6b240.png"><br>  In this example of the memory card, we use Drag &amp; drop to drag the map nodes between other nodes.  Everything is simple, the only thing that we had to ‚Äúscrew up‚Äù is to check that we are not dragging a parent to our descendants, as this would lead to a tree looping. <br><br><h5>  CSS - drawing a memory card </h5><br>  Each node we have looks like this: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mindmap"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'childs'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'big_n_title'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'n_title'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'childs'</span></span></span><span class="hljs-tag">&gt;</span></span> ...... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  If you correctly assign CSS properties to the ul, li, .b_g_n_title and .n_title elements, you‚Äôll get exactly the kind of memory card you see.  All CSS properties you can see in the <a href="">source</a> . <br><br>  In fact, the whole secret is that we do this: <br><pre> <code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#mindmap</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(cross.png); <span class="hljs-attribute"><span class="hljs-attribute">background-attachment</span></span>: scroll; <span class="hljs-attribute"><span class="hljs-attribute">white-space</span></span>: nowrap; } <span class="hljs-selector-id"><span class="hljs-selector-id">#mindmap</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">white-space</span></span>: nowrap; <span class="hljs-attribute"><span class="hljs-attribute">vertical-align</span></span>: middle; <span class="hljs-attribute"><span class="hljs-attribute">list-style</span></span>: none; } <span class="hljs-selector-id"><span class="hljs-selector-id">#mindmap</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.big_n_title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">vertical-align</span></span>: baseline; <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>: <span class="hljs-number"><span class="hljs-number">40px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; } <span class="hljs-selector-id"><span class="hljs-selector-id">#mindmap</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.n_title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">white-space</span></span>: normal; }</code> </pre><br>  Those.  we prohibit lists from moving elements to a new line, and elements of lists make display: inline-block, so that they become similar to characters in a line of text.  We also add vertical centering, and in order for it to work for each node separately, we wrap the node in div.big_n_title. <br><br>  Nothing revolutionary and very complicated.  And it works. <br><br>  It is verified that if you combine this technique with <a href="http://www.w3schools.com/cssref/pr_text_direction.asp">direction: rtl</a> , then you can draw a map and in the other direction - from right to left.  You can make the left side of the card go one way, and the right the other.  But I prefer one-sided cards more - they are easier to read. <br><br>  Let's start to round out.  Anyone who wants read the detailed comments in the github code listing, although I prefer to call functions with long names that themselves say what the function does.  My code, it is possible to improve, but then I had the task to demonstrate the work of several plug-ins, which are used in a much more complex my <a href="https://4tree.ru/">project</a> . <br><br>  Study the finished <a href="https://4tree.ru/mindmap/">example</a> , all sources are open. <br><br>  PS: If you ‚Äúslightly‚Äù modify the example, you will get a <a href="http://www.mindmeister.com/ru/">mindmaster</a> and you will be able to charge users from 5 to 15 dollars a month (just <a href="http://www.mindmeister.com/ru/">kidding</a> ). <br><br>  Thank you for your attention, and jQuery and plug-in creators for saving time. </div><p>Source: <a href="https://habr.com/ru/post/191850/">https://habr.com/ru/post/191850/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191836/index.html">Office Entertainment: Pros and Cons</a></li>
<li><a href="../191840/index.html">Laugh after the word "shovel!". Highscreen Alpha GTX Review</a></li>
<li><a href="../191842/index.html">Custom layouts. Part 2. CellLayout</a></li>
<li><a href="../191844/index.html">Panorama of the solar halo</a></li>
<li><a href="../191848/index.html">Bur. Module for mass registration of users</a></li>
<li><a href="../191852/index.html">Using the Aastra 6725ip and Aastra 6721ip IP terminals in the MS Lync 2013 Server infrastructure</a></li>
<li><a href="../191854/index.html">Raspberry Pi in the hands of an amateur or home rocking torrent</a></li>
<li><a href="../191856/index.html">Is cloudy IP PBX suitable for small companies?</a></li>
<li><a href="../191858/index.html">Another JavaScript preprocessor</a></li>
<li><a href="../191860/index.html">The attacker got caught selling root accesses to supercomputers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>