<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using dictionaries in tcl</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, Habra! % username, you probably heard about such a language as tcl and its graphic toolkit tk. The language is particularly flexible (in my...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using dictionaries in tcl</h1><div class="post__text post__text-html js-mediator-article">  Greetings, Habra!  % username, you probably heard about such a language as tcl and its graphic toolkit tk.  The language is particularly flexible (in my humble opinion).  While there is not much time to write about the "cloud" development, I decided to write a mini-article / mini-lesson about one of the features of the wonderful language tcl - dictionaries (and, I can not recall them in the book "Practical Tcl / TK programming", perhaps just read the old version).  The most complete description of this data type,% username, you can find by <a href="http://www.tcl.tk/man/tcl8.6/TclCmd/dict.htm">reference</a> . <br><a name="habracut"></a><br>  A bit of theory - a dictionary in tcl is a type of data that allows you to store complex ordered values ‚Äã‚Äãof the type "key-value", and with the ability to branch the tree itself.  In other words, a single key (for example, a record ID) may have more than one value, but several more keys with values.  It looks like this in the tcl syntax: <br><pre><code class="hljs swift">dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> title <span class="hljs-string"><span class="hljs-string">"myProgram"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> minWidth <span class="hljs-number"><span class="hljs-number">800</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> minHeight <span class="hljs-number"><span class="hljs-number">600</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> resizableX <span class="hljs-number"><span class="hljs-number">1</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> resizableY <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  What does this code do?  It's simple - he creates a dictionary programSettings, which has the attributes title, minWidth, minHeight, resizableX, resizableY.  Moreover, due to the ID of the element in the dictionary, we can rub settings for other root windows of programs (this may be necessary if you plan to do multi-window <br>  interface). <br><br>  Access to the value from the dictionary can be obtained by means of the following command: <br><pre> <code class="hljs xml">dict get <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Let's draw the Tk window using our dictionary.  Normal code would look like this: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">wm</span></span> title . <span class="hljs-string"><span class="hljs-string">"myProgram"</span></span> wm resizable . <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> wm minsize . <span class="hljs-number"><span class="hljs-number">800</span></span> <span class="hljs-number"><span class="hljs-number">600</span></span></code> </pre><br>  Our code will look like this: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">wm</span></span> title . [dict get <span class="hljs-variable"><span class="hljs-variable">$nonUserSettings</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"title"</span></span>] wm resizable . [dict get <span class="hljs-variable"><span class="hljs-variable">$nonUserSettings</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"resizableX"</span></span>] [dict get <span class="hljs-variable"><span class="hljs-variable">$nonUserSettings</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"resizableY"</span></span>] wm minsize . [dict get <span class="hljs-variable"><span class="hljs-variable">$nonUserSettings</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"minWidth"</span></span>] [dict get <span class="hljs-variable"><span class="hljs-variable">$nonUserSettings</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"minHeight"</span></span>]</code> </pre><br>  What will it give us?  In essence, dictionaries (as well as all the data in tcl) are mutable.  Consequently, can be redefined.  Thus, we get a window that changes when you redefine the value obtained from the dictionary.  In this case, restarting the program is not required.  In other words - your GUI settings will be picked up dynamically.  But, all this can be easily implemented through the list.  Then why do we need to use a dictionary.  Well, firstly - using the dictionary will make the program more readable, its data - more systematic (in fact, you keep some kind of database table in the code).  And on the other ... now show. <br><br>  Suppose we need to make the usual top menu.  As a widget - it has its own name, as well as the option tearOff.  To store the settings, create another <br>  vocabulary: <br><pre> <code class="hljs pgsql">dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span> mainMenuBar dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> tearOff <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  Data about the type of drop-down menu from the menu bar will add immediately: <br><pre> <code class="hljs cs">option <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> *tearOff [dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menu-settings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"tearOff"</span></span>]</code> </pre><br>  Also, suppose we want to give the user the ability to enable and disable the top menu: <br><pre> <code class="hljs swift">dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> userSettings <span class="hljs-number"><span class="hljs-number">0</span></span> menuBar <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  But with the rendering let's wait a little.  Describing the entire GUI manually does not make much sense, because we have in the arsenal a very powerful tool - an iterative search of the dictionary for keys and parameters.  For the menu of menu titles we create a dictionary: <br><pre> <code class="hljs pgsql">dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span> connectionItem dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">0</span></span> text_item "Connection" dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span> helpItem dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">1</span></span> text_item "Help"</code> </pre><br>  Now we will create a dictionary in which the first level will be stored by me (the parent parameter will denote the id of the menu header to which the first level is attached): <br><pre> <code class="hljs bash">dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 0 parent 0 dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 0 label <span class="hljs-string"><span class="hljs-string">"Open"</span></span> dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 0 <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> NONE dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 1 parent 0 dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 1 label <span class="hljs-string"><span class="hljs-string">"Editt"</span></span> dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 1 <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> NONE dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 2 parent 0 dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 2 label <span class="hljs-string"><span class="hljs-string">"Exit"</span></span> dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 2 <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span>; } dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 3 parent 1 dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 3 label <span class="hljs-string"><span class="hljs-string">"About"</span></span> dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 3 <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> NONE dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 4 parent 1 dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 4 label <span class="hljs-string"><span class="hljs-string">"Help"</span></span> dict <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> menuBarItems_FirstLevel 4 <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> NONE</code> </pre><br>  The standard menu syntax will not be disassembled, it can be viewed in any tutorial.  It is better to go straight to the menu ‚Äúdrawing‚Äù algorithm: <br><pre> <code class="hljs mel">#  ,   <span class="hljs-string"><span class="hljs-string">""</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> assembleMyMenu {} { # ,       ,             <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> userSettings <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> menuBarSettings <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> menuBarItems_ZeroLevel <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> menuBarItems_FirstLevel # ,        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[dict get $userSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"menuBar"</span></span>]==true} { # ,  , : #       ( ,       <span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> .[dict get $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>] #          . config -<span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> .[dict get $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>] #   .         dict <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> {id info} $menuBarItems_ZeroLevel { # info -        . ,   id-      ,     with     : dict with info { #        name  <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-bar-items       <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-settings: <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> .[dict get $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>].$name #    .[dict get $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>] add cascade -label $text_item -<span class="hljs-keyword"><span class="hljs-keyword">menu</span></span> .[dict get $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>].$name #        ,     <span class="hljs-keyword"><span class="hljs-keyword">menu</span></span>-bar-items_first-level dict <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> {iter data} $menuBarItems_FirstLevel { dict with data { #      ,   - : <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$id==$parent} { #    -     .[dict get $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>].$name add command -label $label -command $command } } } } } } }</code> </pre><br>  The full code of our program: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs vbscript">#Require main packages <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> work package require Tk # Data <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> non user settings dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> title <span class="hljs-string"><span class="hljs-string">"myPrograms"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> minWidth <span class="hljs-number"><span class="hljs-number">800</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> minHeight <span class="hljs-number"><span class="hljs-number">600</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> resizableX <span class="hljs-number"><span class="hljs-number">1</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> resizableY <span class="hljs-number"><span class="hljs-number">1</span></span> # Data <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> user settings dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> userSettings <span class="hljs-number"><span class="hljs-number">0</span></span> menuBar <span class="hljs-literal"><span class="hljs-literal">true</span></span> # Data <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> biuld menubar dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> name mainMenuBar dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> tearOff <span class="hljs-number"><span class="hljs-number">1</span></span> # Data <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>-level menu dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">0</span></span> name connectionItem dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">0</span></span> text_item <span class="hljs-string"><span class="hljs-string">"Connection"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">1</span></span> name helpItem dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_ZeroLevel <span class="hljs-number"><span class="hljs-number">1</span></span> text_item <span class="hljs-string"><span class="hljs-string">"Help"</span></span> # Data <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>-level menu dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">0</span></span> parent <span class="hljs-number"><span class="hljs-number">0</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">0</span></span> label <span class="hljs-string"><span class="hljs-string">"LogIn"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">0</span></span> command NONE dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">1</span></span> parent <span class="hljs-number"><span class="hljs-number">0</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">1</span></span> label <span class="hljs-string"><span class="hljs-string">"LogOut"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">1</span></span> command NONE dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">2</span></span> parent <span class="hljs-number"><span class="hljs-number">0</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">2</span></span> label <span class="hljs-string"><span class="hljs-string">"Exit"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">2</span></span> command { <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; } dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">3</span></span> parent <span class="hljs-number"><span class="hljs-number">1</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">3</span></span> label <span class="hljs-string"><span class="hljs-string">"About"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">3</span></span> command NONE dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">4</span></span> parent <span class="hljs-number"><span class="hljs-number">1</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">4</span></span> label <span class="hljs-string"><span class="hljs-string">"Help"</span></span> dict <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> menuBarItems_FirstLevel <span class="hljs-number"><span class="hljs-number">4</span></span> command NONE # Procedure <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> builing menu bar proc assembleMyMenu {} { global userSettings global menuBarSettings global menuBarItems_ZeroLevel global menuBarItems_FirstLevel <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $userSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"menuBar"</span></span>]==<span class="hljs-literal"><span class="hljs-literal">true</span></span>} { menu .[dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>] . config -menu .[dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>] dict <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> {id info} $menuBarItems_ZeroLevel { dict <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> info { menu .[dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>].$name .[dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>] add cascade -label $text_item -menu .[dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>].$name dict <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> {iter data} $menuBarItems_FirstLevel { dict <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> data { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$id==$parent} { .[dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"name"</span></span>].$name add command -label $label -command $command } } } } } } } # Main programm logic # Window Manager main settings wm title . [dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"title"</span></span>] wm resizable . [dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"resizableX"</span></span>] [dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"resizableY"</span></span>] wm minsize . [dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"minWidth"</span></span>] [dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $nonUserSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"minHeight"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">option</span></span> add *tearOff [dict <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> $menuBarSettings <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"tearOff"</span></span>] assembleMyMenu</code> </pre><br><br>  I hope the lesson / article was helpful.  Have a nice dive into the tcl / tk addict code! </div><p>Source: <a href="https://habr.com/ru/post/174243/">https://habr.com/ru/post/174243/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../174231/index.html">Tuning JVM on the example of one project</a></li>
<li><a href="../174233/index.html">ASUS GX1000 Gaming Mouse</a></li>
<li><a href="../174237/index.html">Yahoo! acquired a startup 17-year-old guy for $ 30,000,000</a></li>
<li><a href="../174239/index.html">An inside view: the world around us - 2</a></li>
<li><a href="../174241/index.html">Curiosity is back</a></li>
<li><a href="../174245/index.html">Recommender system: we get user tags from social networks</a></li>
<li><a href="../174247/index.html">Metric # 1 - Podcast on technologies and design of interfaces and services</a></li>
<li><a href="../174249/index.html">The concept of network virtualization based on Windows Server 2012 and System Center 2012 SP1</a></li>
<li><a href="../174253/index.html">Domains.COM and.ORG should belong to Runet</a></li>
<li><a href="../174255/index.html">Designer to build a cell phone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>