<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I forced Ubuntu to work 10 hours on battery</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am an ordinary Linux user and so you should not expect very clever moves or non-standard programmer solutions from this article. All manuals. But on...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I forced Ubuntu to work 10 hours on battery</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/826/5f9/8d7/8265f98d73a4b451b06a64fa4af3f7e8.jpg" alt="image">  I am an ordinary Linux user and so you should not expect very clever moves or non-standard programmer solutions from this article.  All manuals.  But once the result is achieved, it means that someone other than me may find it useful. <br><br>  A lot has been written about how to make a laptop work under Linux as long as possible, including on the habr.  To some extent, I will once again bring together all the tips together, from the obvious to the obscure ones, at the same time I will describe several problems and solutions that I found to be quite ‚Äúindividual‚Äù. <br><br>  I installed Ubuntu 10.10 on an <a href="">Acer Aspire Timeline 5810TG laptop</a> .  This machine has a screen of almost 16 inches and is relatively productive, but the battery is capacious enough to set personal records with it. <br><a name="habracut"></a><br><h4>  The content of the post. </h4>  1. Disable the discrete graphics card. <br>  2. Useful commands for energy saving. <br>  3. Laptop problems (related to energy saving) and their solutions. <br>  4. Automation. <br>  5. Additional tips. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1. Disable the discrete graphics card. </h4>  My laptop has the ability to switch between Intel's integrated graphics chip, low-power and low-power, and the relatively strong and power-consuming ATI Radeon HD4330 card.  Many owners of laptops with switchable graphics are having problems working with Linux systems.  A search for ‚Äúubuntu switchable graphics‚Äù on ubuntuformus gives out more than 50 <u>pages of</u> topics. <br>  I rarely need a productive graphics card, so I set out to turn it off by default with the ability to turn on quickly and painlessly. <br>  I read a lot of those 50 pages of forum topics.  And you just had to look at the ubuntu wiki, <s>or even try to use Habrapoisk</s> . <br>  In versions of the kernel, starting with 2.6.34, there is a vga_switcheroo mechanism that allows switching between video cards.  That is, in Ubuntu 10.10, it is by default.  About how to use it, it was well written <a href="http://habrahabr.ru/blogs/ubuntu/94032/">here</a> (see the second method) almost a year ago, I will quickly remind you what's what. <br>  First, perform <br><pre><code class="bash hljs">lspci | grep VGA 00:02.0 VGA compatible controller: Intel Corporation Mobile 4 Series Chipset Integrated Graphics Controller (rev 07) 01:00.0 VGA compatible controller: ATI Technologies Inc M92 LP [Mobility Radeon HD 4300 Series] (rev ff)</code> </pre>  Knowing which GPU is designated as, let's see which one is in which state. <br><pre> <code class="bash hljs">cat /sys/kernel/debug/vgaswitcheroo/switch 0: :Pwr:0000:01:00.0 1:+:Pwr:0000:00:02.0</code> </pre>  The plus sign is against the video chip currently in use, Pwr means that the video card is turned on and consumes power. <br>  Important: all of my few acquaintances who have laptops with two video cards have the same picture: whatever you do, when you boot the system, both cards work, while the output uses the built-in ‚Äúweak‚Äù graphics.  This is good for us, because de-energizing inactive video cards is happening without blood. <br>  Team <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> OFF &gt; /sys/kernel/debug/vgaswitcheroo/switch</code> </pre>  disables unused GPU right away.  Therefore, we turn to the file <b>/etc/rc.local</b> , adding the above command to it (before the exit 0 line).  So, when booting the system, the discrete video card will already be disabled and I will not have to worry about anything. <br><pre> <code class="bash hljs">0: :Off:0000:01:00.0 1:+:Pwr:0000:00:02.0</code> </pre>  Important: as far as I can tell, vga_switcheroo does not work if proprietary drivers are installed on a discrete graphics card. <br><br>  By the way, if you want to switch between video cards via a graphical interface, install the <a href="http://sites.google.com/site/ubuntucontrolcenter/">Ubuntu Control Center</a> .  The program is a control panel of Ubuntu settings, but we are only interested in the option of switching between GPUs (of course, here it also happens using vga_switcheroo). <br><img src="https://habrastorage.org/getpro/habr/post_images/bb9/057/380/bb9057380b8366af3258752802ae4b7a.png" alt="image"><br>  Be careful with UCC: first, it works crookedly, for example, I had to switch to a discrete video card first, and then to a built-in one to de-energize a discrete one (or echo OFF&gt; / sys / kernel / debug / vgaswitcheroo / switch first and then switch to the integrated GPU).  But it works.  Secondly, switching occurs immediately, that is, without demand, the session is completed and it is necessary to log in again. <br>  You can read more about switchable graphics in <a href="http://asusm51ta-with-linux.blogspot.com/">the blog post</a> I referred to above, as well as in <a href="https://help.ubuntu.com/community/HybridGraphics">Ubuntu Wiki</a> and in <a href="http://asusm51ta-with-linux.blogspot.com/">this blog</a> .  I will not return to this issue. <br><br><h4>  2. Useful tips on energy saving. </h4>  These tips were collected from <a href="http://www.lesswatts.org/">lesswatts</a> , <a href="http://www.lesswatts.org/">ubuntuforums</a> , <a href="http://ubuntuforums.org/">powertop hints</a> were taken into account, something was found by chance. <br>  1) If you have Ubuntu on a laptop, you absolutely have the laptop_mode package, which optimizes the performance of the computer depending on the power source.  A value of 0 sent to / proc / sys / vm / laptop_mode turns off power saving mode, 5 sets the most aggressive.  More information about how laptop_mode saves energy, you can read <a href="http://samwel.tk/laptop_mode/faq">anywhere</a> . <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 0 &gt; /proc/sys/vm/laptop_mode <span class="hljs-comment"><span class="hljs-comment"># laptop_mode echo 5 &gt; /proc/sys/vm/laptop_mode # laptop_mode</span></span></code> </pre> <br>  2) Power saving mode for SATA devices. <br><pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host0/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host1/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host2/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host3/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host4/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host5/link_power_management_policy</code> </pre>  I do not know why I have as many as six devices in / sys / class / scsi_host / :) To enable maximum performance, execute commands with max_performance instead of min_power. <br><br>  3) By default, Ubuntu has four processor profiles: <pre> <code class="bash hljs">cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors conservative ondemand userspace powersave performance</code> </pre> <br>  conservative: slowly raises the processor frequency depending on the load on the system and sharply resets the frequency to the minimum when idle. <br>  ondemand: quickly increases the frequency of the processor when the load increases and slowly resets the frequency to a minimum when idle. <br>  powersave and performance obviously correspond to the minimum and maximum CPU frequencies. <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ;      (   ) echo ondemand &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor echo ondemand &gt; /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor #  echo powersave &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor echo powersave &gt; /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor</span></span></code> </pre>  Many independent users are not strongly advised to use the performance mode, so even to work from the network, when saving on watts does not make sense, I use ondemand mode. <br><br>  4) The 'sched_mc_power_savings' parameter from / sys / devices / system / cpu / allows using a power-saving mode of the processor if it has more than one core due to the special load distribution between the cores. <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 1 &gt; /sys/devices/system/cpu/sched_mc_power_savings <span class="hljs-comment"><span class="hljs-comment">#  echo 0 &gt; /sys/devices/system/cpu/sched_mc_power_savings #</span></span></code> </pre> <br>  5) Integrated audio chips from Intel (which belong to the so-called High Definition Audio - HDA) also have the ability to save watts if the audio chip is not used <br><pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 0 &gt; /sys/module/snd_hda_intel/parameters/power_save <span class="hljs-comment"><span class="hljs-comment">#  echo 10 &gt; /sys/module/snd_hda_intel/parameters/power_save #</span></span></code> </pre><br>  6) In order to gain even a little bit more battery life, you can prevent the system from occasionally ‚Äúpolling‚Äù the cd / dvd drive for the presence of a disk there. <pre> <code class="bash hljs"> hal-disable-polling --device /dev/cdrom <span class="hljs-comment"><span class="hljs-comment"># hal-disable-polling --enable-polling --device /dev/cdrom #  </span></span></code> </pre> <br>  7) You can turn off the webcam to the devil with the driver.  I did not check separately, but they report that the case is very good when working on battery power. <pre> <code class="bash hljs"> modprobe -r uvcvideo <span class="hljs-comment"><span class="hljs-comment"># modprobe uvcvideo # </span></span></code> </pre>  Naturally, skip this step if you have to use Skype or else you need a camera for something. <br><br>  8) Dirty ratio - the maximum memory size (in percent) for storing dirty data before the process that generated it is forced to record it.  The higher the value, obviously, the less often the recording is done and the less activity the hard disk and the system. <pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 10 &gt; /proc/sys/vm/dirty_ratio <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 90 &gt; /proc/sys/vm/dirty_ratioe <span class="hljs-comment"><span class="hljs-comment">#   </span></span></code> </pre> <br>  9) Dirty background ratio - the minimum amount of memory (in percent), where it is allowed to store different data instead of writing to disk.  This parameter should be much less than dirty_ratio to allow writing pieces of dirty data in one pass. <pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 5 &gt; /proc/sys/vm/dirty_background_ratio <span class="hljs-comment"><span class="hljs-comment">#   echo 1 &gt; /proc/sys/vm/dirty_background_ratio #  </span></span></code> </pre> <br>  10) Dirty Writeback sentisecs - how often the kernel should check if there is any ‚Äúdirty‚Äù (changed) data to write to the disk (in ccts).  The higher the value, obviously, the less often the disk is used to write dirty data. <pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 6000 &gt; /proc/sys/vm/dirty_writeback_centisecs <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 60000 &gt; /proc/sys/vm/dirty_writeback_centisecs <span class="hljs-comment"><span class="hljs-comment"># </span></span></code> </pre> <br>  11) Turning on the power-saving mode PCI Express, as people say, saves quite a lot of battery power. <pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> default &gt; /sys/module/pcie_aspm/parameters/policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> powersave &gt; /sys/module/pcie_aspm/parameters/policy</code> </pre> <br><br><h4>  3. Some problems of the laptop (related to energy saving) and their solutions. </h4><br>  <u>Problem 1</u> .  Changing the brightness of the screen does not work.  Brightness is always at its maximum.  This is a critical moment for energy saving, since the bright backlight of the display eats up a lot of electricity.  This problem is observed on many laptops, especially on Acer's.  Symptom: changing the brightness with the gnome-applet does not have the effect, how many do not drag the slider, switching the keys FN + Right, FN + Left, or similar Fn-combinations hangs the system, only a hard reset helps. <br>  The solution was not the most practical, but rather simple: <br><pre> <code class="bash hljs">sudo setpci -s 00:02.0 F4.B=XX</code> </pre> <br>  Here XX takes values ‚Äã‚Äãfrom 00 to FF in hexadecimal.  For battery operation, I chose the value 40, for network operation - FF. <br><br>  <u>Problem 2. The</u> Bluetooth radio was turned on every time the system was booted, despite the fact that the Bluetooth module was turned off manually and removed from startup.  Another solution that someone will like very ugly: add rfkill block bluetooth to /etc/rc.local. <br><br><h4>  4. Automation. </h4>  Of course, every time to drive teams into the terminal is a sad business.  Even every time you manually start the bash-script too quickly get bored.  However, the transition to power saving mode within the described methods can be automated very easily: just add the code to /etc/acpi/power.sh <br>  &lt;source lang = "bash" $ sudo gedit /etc/acpi/power.sh <br>  The code will be <pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> on_ac_power; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> &lt; &gt; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> &lt; &gt; <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br>  You can add it right after the line #! / Bin / sh <br><br>  Through experiments, I was delighted to find out that this script runs every time the system starts.  In addition, after looking at the contents of the ac and battery files in / etc / acpi / events /, I saw that the script was supposed to be called when the laptop was plugged in and disconnected from it.  This is logical, but for some reason it did not work.  The solution came quickly, it was necessary only to give the necessary power.sh script permissions: <br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$sudo</span></span> chmod +x /etc/acpi/power.sh</code> </pre> <br>  Now everything has become automated as much as possible. <br>  Here is what my script for energy saving looks like. <br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> on_ac_power; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 0 &gt; /proc/sys/vm/laptop_mode <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 10 &gt; /proc/sys/vm/dirty_ratio <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 5 &gt; /proc/sys/vm/dirty_background_ratio <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 6000 &gt; /proc/sys/vm/dirty_writeback_centisecs <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 0 &gt; /sys/module/snd_hda_intel/parameters/power_save <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> max_performance &gt; /sys/class/scsi_host/host0/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> max_performance &gt; /sys/class/scsi_host/host1/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> max_performance &gt; /sys/class/scsi_host/host2/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> max_performance &gt; /sys/class/scsi_host/host3/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> max_performance &gt; /sys/class/scsi_host/host4/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> max_performance &gt; /sys/class/scsi_host/host5/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ondemand &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor modprobe uvcvideo <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> default &gt; /sys/module/pcie_aspm/parameters/policy setpci -s 00:02.0 F4.B=FF hal-disable-polling --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-polling --device /dev/cdrom <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 0 &gt; /sys/devices/system/cpu/sched_mc_power_savings <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 5 &gt; /proc/sys/vm/laptop_mode <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 90 &gt; /proc/sys/vm/dirty_ratio <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 1 &gt; /proc/sys/vm/dirty_background_ratio <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 60000 &gt; /proc/sys/vm/dirty_writeback_centisecs <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 10 &gt; /sys/module/snd_hda_intel/parameters/power_save <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host0/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host1/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host2/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host3/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host4/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> min_power &gt; /sys/class/scsi_host/host5/link_power_management_policy <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ondemand &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ondemand &gt; /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor modprobe -r uvcvideo <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> powersave &gt; /sys/module/pcie_aspm/parameters/policy setpci -s 00:02.0 F4.B=40 hal-disable-polling --device /dev/cdrom <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 1 &gt; /sys/devices/system/cpu/sched_mc_power_savings <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><br>  So, what has been achieved?  Here are some screenshots. <br>  There is Wi-Fi, Google Chrome with a stack of tabs, the owner of the laptop (me) has the usual web surfing mode: <br><img src="http://i18.fastpic.ru/big/2011/0318/a4/1c8cb1d1fd49698dcf9011106f061da4.png" alt="image"><br><br>  The same Wi-Fi and chrome, plus qutIM, Transmission, plays Exaile music, the OpenOffice.org Calc sheet is open with something financial and mathematical.  In general, my standard set: <br><img src="http://i18.fastpic.ru/big/2011/0318/39/ef1584aec8c4c588ad2bd5d0496f6039.jpg" alt="image"><br><br>  Video in full screen mode for an unknown reason eats very few resources.  Leaving only qutIM (and Wi-Fi connection, of course) work, you can watch movies (normal SD, Xvid) for almost nine hours! <br>  The results are not rigged and not momentary.  All true.  Before taking screenshots, I worked with a laptop in my usual mode for about 10 minutes.  If you leave the fully charged laptop and do nothing with it for a couple of minutes, you can see the numbers like 13 hours.  But we are interested only in the result in everyday conditions, is not it? <br><h3>  Overview. </h3>  Brief guide to action: take the script specified above, add it to /etc/acpi/power.sh, make power.sh executable, then add the commands to turn off bluetooth and a discrete video card in /etc/rc.local. <br>  That's all I did.  the results you saw above. <br><br><h4>  5. Additional tips. </h4>  How else can you improve the situation?  Yes, a lot like, I guess.  From what I know, but did not apply: <br>  1) Many in the forums advise the team <br>  hdparm -B 1 -S 12 / dev / sda <br>  The unit here means the most "aggressive" mode of saving energy of the hard disk.  Personally, I could not tolerate that the disk slows down after just a couple of seconds after doing nothing, and to accelerate again he has to spend a moment, which creates a lag effect.  Often parked head hdd.  Not very nice, besides, I dare to suggest that it also wears the screw faster than usual.  255 instead of 1 disables hard drive power saving altogether.  You can experiment with it in your own home, I don‚Äôt mind :) By the way, picking / lib / hdparm / hdparm-functions allows you to find such a piece of code: <br><pre> <code class="bash hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> hdparm_is_on_battery; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> hdparm_set_option -B128 <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> hdparm_set_option -B254 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br>  which hints as if the parameter is set to 128 when switching the power to the battery.  I think the installation unit could win a few tens of minutes of work.  But the comfort of work is more important.  By the way, by the way, I want to note that the things described before this do not contribute any kind of discomfort to the work with a laptop. <br><br>  2) Powertop, in the absence of other prompts, all the time offers to reduce power consumption to disable USB-ports for devices that are not storage media.  You can use it to save even more energy, but personally I can't use a laptop without a mouse.  I hate touchpads. <br>  3) You can apply the noatime option to the file system.  It means that the log of the last access time to the file will not be logged.  This will reduce the activity of the system and the hard disk.  By default, in Ubuntu 10.10, as I understand it from the manuals, there is relatime mode, which, if I'm not mistaken, updates the access time only if changes are made to the file.  More on this, for example, <a href="http://help.ubuntu.ru/wiki/fstab">here</a> . <br><br><h4>  Conclusion </h4>  Is it possible to achieve the same amazing time in Windows?  It is possible, if not the same, then close.  In Win7, this is done by installing two driver packages and two or three programs (which even without a GUI, just work in the background) from Acer, of course, there are no analogues for Linux. <br>  So in this matter, you can additionally be happy for ubuntu: everything is done by means of the system (kernel), and if you have, for example, this post, everything happens in a couple of minutes and five copies. <br>  PS I apologize for amateurishness, if one is noticed.  We have recently met with Ubuntu. </div><p>Source: <a href="https://habr.com/ru/post/115451/">https://habr.com/ru/post/115451/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../115440/index.html">Opera Widgets - Facts and Figures</a></li>
<li><a href="../115442/index.html">iPhone 4 now unlockable?</a></li>
<li><a href="../115444/index.html">An example of technical specifications on the site. Save time and nerves</a></li>
<li><a href="../115445/index.html">Management municipality</a></li>
<li><a href="../115449/index.html">Arcade Volleyball. 40 KB of pleasure</a></li>
<li><a href="../115452/index.html">Toshiba uses energy-saving technologies.</a></li>
<li><a href="../115453/index.html">There is something to strive for,% username%</a></li>
<li><a href="../115455/index.html">Who thinks faster?</a></li>
<li><a href="../115459/index.html">Qt and Digia: facts and fiction</a></li>
<li><a href="../115460/index.html">Internet Explorer 9 RTM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>