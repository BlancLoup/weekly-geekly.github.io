<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>You want a delicious beer, Arduino to help</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This publication is inspired by another. It's called the Mega Brewery Home Brewery Controller. Part I ‚Äù and published by megadenis . 

 How did it all...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>You want a delicious beer, Arduino to help</h1><div class="post__text post__text-html js-mediator-article">  This publication is inspired by another.  It's called <a href="http://habrahabr.ru/post/122886/">the Mega Brewery Home Brewery Controller.</a>  <a href="http://habrahabr.ru/post/122886/">Part I ‚Äù</a> and published by <a href="http://habrahabr.ru/users/megadenis/" class="user_link">megadenis</a> . <br><br><h2>  How did it all start? </h2><br>  I am a technical college student.  One day, sitting in a cafe with a friend who then studied at a medical university, they decided to open a bar.  There were many ideas that, in principle, deserved some attention.  For example, the dance floor, which changes the angle of inclination depending on the style of music ... But, along with all the variety of ideas, there was one more - <br><br><h2>  ... and not to make us your beer? </h2><br>  After a couple of weeks, I brewed beer, taking the ingredients from the brewery, where my father's friend worked.  But many processes were violated, so instead of beer there was something with a not very pleasant smell. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After a few years, I decided to repeat the process, automating it a little with Arduino UNO.  And that's what happened. <br><a name="habracut"></a><br>  To begin with, what the whole installation should do. <br><br><ul><li>  Check yourself - everything works, everything is connected; </li><li>  Clean yourself; </li><li>  Preparing for the brewing process; </li><li>  Brew beer in semi-automatic mode; </li><li>  Brew beer in manual mode; </li><li>  Brew beer in automatic mode (as a washing machine washes clothes). </li></ul><br><br>  The first item is not currently implemented.  So far, even thoughts are not how to implement. <br>  The second one is also not implemented, but I will finish it in the near future, only I will wait for the pumps from ebay to be delivered. <br>  The third point is quite simple. <br><br><h2>  Preparing for the brewing process </h2><br>  The message from the system that it is necessary to pour water into the tank -&gt; the program waits for the OK key -&gt; the program sends the arduino a command to turn on the <a href="http://www.ebay.com/itm/Output-24V-380V-25A-SSR-25-DA-Solid-State-Relay-For-PID-Temperature-Controller/390915738600%3F_trksid%3Dp2047675.c100005.m1851%26_trkparms%3Daid%253D222007%2526algo%253DSIC.MBE%2526ao%253D1%2526asc%253D26943%2526meid%253Dcf9da8c81bed41d99c314d5d59fe9277%2526pid%253D100005%2526prg%253D11184%2526rk%253D1%2526rkt%253D6%2526sd%253D310702225734%26rt%3Dnc">solid-state relay</a> -&gt; the solid-state relay turns on the one-kilo tenn in the tank, brings the temperature to 37 degrees, sends the program that everything is ready for cooking.  Maintains a temperature of 37 degrees. <br><br>  I want to check for water, but the sensor is still waiting for its departure from the ‚ÄúChinese brothers‚Äù. <br><br><h2>  Beer brewing in semi-automatic mode </h2><br>  In principle, a simple procedure: <br><br>  - Press the ‚ÄúWarm up‚Äù button in the control program, the rest of the control buttons are not active; <br>  - After warming up, the program displays the message ‚ÄúEverything is ready, you can cook‚Äù; <br>  - Fill up the ingredients, choose a program for brewing - the button "Brewing beer" becomes active; <br>  - Press the "Brewing" button, the process has started; <br>  - Further, the system will periodically notify with information messages what to do and when. <br><br>  You need to follow the instructions. <br><br><h2>  Manual brewing </h2><br>  This process allows you to set cooking parameters, change them in the cooking cycle.  He has not reached him yet. <br><br><h2>  Automatic cooking </h2><br>  It's a dream.  There are currently no components to implement.  Not enough pumps, water level sensors.  I do not know how to measure the density of the wort, how much alcohol is in a young beer and whatnot.  But I do not despair and will automate gradually, until the brewing of beer looks like this: <br><br>  I threw the ingredients into the appropriate trays, pressed the button and ... after a month and a half I received the finished beer. <br><br>  This is a brief about the process, and now we come to the technical side. <br><br><h2>  The technical side of the process </h2><br>  As stated above, the arduino UNO is in favor of the control microcontroller.  2 relays connected to it, 2 <br>  <a href="http://www.ebay.com/itm/170821333658%3F_trksid%3Dp2060778.m2749.l2649%26ssPageName%3DSTRK%253AMEBIDX%253AIT.">digital thermometer DS18B20</a> . <br><br>  Arduino communicates with the main program through the com port.  Since  I do not have a real-time Schild to arduino, I had to take timers from visual c #.  I have no experience in writing programs, so if all of a sudden someone has ideas, the criticism is an honor.  Criticize, fuck, so to speak, that suddenly do not like. <br><br><div class="spoiler">  <b class="spoiler_title">Here is the text of the program on arduino</b> <div class="spoiler_text"><pre><code class="hljs lua">#include &lt;OneWire.h&gt; OneWire ds(<span class="hljs-number"><span class="hljs-number">8</span></span>); //     <span class="hljs-number"><span class="hljs-number">8</span></span>  int reley1 = <span class="hljs-number"><span class="hljs-number">13</span></span>; int reley2 = <span class="hljs-number"><span class="hljs-number">12</span></span>; int reley3 = <span class="hljs-number"><span class="hljs-number">11</span></span>; int reley4 = <span class="hljs-number"><span class="hljs-number">10</span></span>; int reley5 = <span class="hljs-number"><span class="hljs-number">7</span></span>; //  int reley6 = <span class="hljs-number"><span class="hljs-number">6</span></span>; //     float temp1; float temp2; void setup(void) { Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>); pinMode(reley1,OUTPUT); pinMode(reley2,OUTPUT); pinMode(reley3,OUTPUT); pinMode(reley4,OUTPUT); pinMode(reley5,OUTPUT); pinMode(reley6,OUTPUT); digitalWrite(reley1,LOW); digitalWrite(reley2,LOW); digitalWrite(reley3,LOW); digitalWrite(reley4,LOW); digitalWrite(reley5,LOW); digitalWrite(reley6,LOW); } void loop(void) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Serial.available()) { switch (Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>()){ case <span class="hljs-string"><span class="hljs-string">'i'</span></span>: infuz(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-string"><span class="hljs-string">'p'</span></span>: progrev(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-string"><span class="hljs-string">'a'</span></span>: avariya(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-string"><span class="hljs-string">'v'</span></span>: varka(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-string"><span class="hljs-string">'t'</span></span>: temperature(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } void varka() { digitalWrite(reley6, HIGH); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>()!=<span class="hljs-string"><span class="hljs-string">'m'</span></span>) { temperature(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (temp1 &gt;= <span class="hljs-number"><span class="hljs-number">52.00</span></span>) digitalWrite(reley6,LOW); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> digitalWrite(reley6,HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>()!=<span class="hljs-string"><span class="hljs-string">'n'</span></span>) { //digitalWrite(reley6,HIGH); temperature(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(temp1&gt;= <span class="hljs-number"><span class="hljs-number">62.00</span></span>) digitalWrite(reley6,LOW); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> digitalWrite(reley6,HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>()!=<span class="hljs-string"><span class="hljs-string">'b'</span></span>) { //digitalWrite(reley6,HIGH); temperature(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(temp1 &gt;= <span class="hljs-number"><span class="hljs-number">75.00</span></span>) digitalWrite(reley6,LOW); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> digitalWrite(reley6,HIGH); } digitalWrite(reley6,LOW); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>()!=<span class="hljs-string"><span class="hljs-string">'c'</span></span>) delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>()!=<span class="hljs-string"><span class="hljs-string">'x'</span></span>) { digitalWrite(reley5,HIGH); temperature(); } digitalWrite(reley5,LOW); } void infuz() { //temperature(); //Serial.available(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>()!=<span class="hljs-string"><span class="hljs-string">'s'</span></span>){ //    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (temp&lt;=<span class="hljs-number"><span class="hljs-number">69.50</span></span>) digitalWrite(reley5,HIGH); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> digitalWrite(reley5,LOW); } digitalWrite(reley5,LOW); } void progrev() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (temp1 &lt;=<span class="hljs-number"><span class="hljs-number">36.00</span></span>) temperature(); digitalWrite(reley6,HIGH); digitalWrite(reley6,LOW); //<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (temperature() &gt;<span class="hljs-number"><span class="hljs-number">40.0</span></span>) //delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); Serial.println(<span class="hljs-string"><span class="hljs-string">'s'</span></span>); } void avariya(){ digitalWrite(reley1,LOW); digitalWrite(reley2,LOW); digitalWrite(reley3,LOW); digitalWrite(reley4,LOW); digitalWrite(reley5,LOW); } void temperature() { <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> present = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> data[<span class="hljs-number"><span class="hljs-number">12</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> addr[<span class="hljs-number"><span class="hljs-number">8</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> zator[<span class="hljs-number"><span class="hljs-number">8</span></span>] = {<span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">218</span></span>, <span class="hljs-number"><span class="hljs-number">43</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>}; //      <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> varilka[<span class="hljs-number"><span class="hljs-number">8</span></span>] = {<span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-number"><span class="hljs-number">115</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">234</span></span>}; //      float celsius; // float temp; boolean gde; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !ds.search(addr)) { //Serial.println(<span class="hljs-string"><span class="hljs-string">"No more addresses."</span></span>); //Serial.println(); ds.reset_search(); delay(<span class="hljs-number"><span class="hljs-number">250</span></span>); // <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (OneWire::crc8(addr, <span class="hljs-number"><span class="hljs-number">7</span></span>) != addr[<span class="hljs-number"><span class="hljs-number">7</span></span>]) { Serial.println(<span class="hljs-string"><span class="hljs-string">"CRC is not valid!"</span></span>); // <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } ds.reset(); ds.<span class="hljs-built_in"><span class="hljs-built_in">select</span></span>(addr); ds.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(<span class="hljs-number"><span class="hljs-number">0x44</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); // start conversion, with parasite power on at the <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> delay(<span class="hljs-number"><span class="hljs-number">840</span></span>); // maybe <span class="hljs-number"><span class="hljs-number">750</span></span>ms is enough, maybe <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> // we might <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> a ds.depower() here, but the reset will take care of it. present = ds.reset(); ds.<span class="hljs-built_in"><span class="hljs-built_in">select</span></span>(addr); ds.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(<span class="hljs-number"><span class="hljs-number">0xBE</span></span>); // Read Scratchpad <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">9</span></span>; i++) { // we need <span class="hljs-number"><span class="hljs-number">9</span></span> bytes data[i] = ds.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>(); } int16_t raw = (data[<span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | data[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> cfg = (data[<span class="hljs-number"><span class="hljs-number">4</span></span>] &amp; <span class="hljs-number"><span class="hljs-number">0x60</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cfg == <span class="hljs-number"><span class="hljs-number">0x00</span></span>) raw = raw &amp; ~<span class="hljs-number"><span class="hljs-number">7</span></span>; // <span class="hljs-number"><span class="hljs-number">9</span></span> bit resolution, <span class="hljs-number"><span class="hljs-number">93.75</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cfg == <span class="hljs-number"><span class="hljs-number">0x20</span></span>) raw = raw &amp; ~<span class="hljs-number"><span class="hljs-number">3</span></span>; // <span class="hljs-number"><span class="hljs-number">10</span></span> bit res, <span class="hljs-number"><span class="hljs-number">187.5</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cfg == <span class="hljs-number"><span class="hljs-number">0x40</span></span>) raw = raw &amp; ~<span class="hljs-number"><span class="hljs-number">1</span></span>; // <span class="hljs-number"><span class="hljs-number">11</span></span> bit res, <span class="hljs-number"><span class="hljs-number">375</span></span> ms celsius = (float)raw / <span class="hljs-number"><span class="hljs-number">16.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;<span class="hljs-number"><span class="hljs-number">8</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (addr[i] == zator[i]) gde = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { gde = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (gde) { Serial.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"t2 "</span></span>); //temperatura  temp2 = celsius; Serial.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(temp2); Serial.println(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Serial.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"t1 "</span></span>); //  temp2 = celsius; Serial.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(temp1); } }</code> </pre> <br><br></div></div><br><br>  All is good, but for some reason, the third sensor shows constantly 85 degrees.  I can not yet say why.  And he needed for further automation - maintaining the temperature in the refrigerator. <br><br>  Briefly describe what the program does. <br><br>  The program is divided into subroutines, each of which is activated if a certain character appears on the com port.  For example, if the letter ‚Äúp‚Äù enters the port, the ‚ÄúWarm up‚Äù mode is activated.  Or, if ‚Äúa‚Äù, the subroutine avariya () is called and everything is turned off.  When the temperature () subroutine is called, the data is written to global variables temp1, temp2.  From there, and get into the right subroutine. <br><br>  In the future, there will be routines for boiling different varieties and even moonshine. <br><br>  Now, as for the main control program. <br><br><h2>  Main management program </h2><br>  It is written in visual studio c #. <br><br>  Source code of the program: <br><br><div class="spoiler">  <b class="spoiler_title">Source code of the program</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.ComponentModel; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Data; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Drawing; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Text; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Threading.Tasks; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Windows.Forms; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.IO.Ports; namespace WindowsFormsApplication1 { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Form1 : Form { // String portnumber; SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM5", <span class="hljs-number"><span class="hljs-number">9600</span></span>); <span class="hljs-type"><span class="hljs-type">int</span></span> s=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> Form1() { InitializeComponent(); } <span class="hljs-comment"><span class="hljs-comment">/*private const int CP_NOCLOSE_BUTTON = 0x200; protected override CreateParams CreateParams { get { CreateParams myCp = base.CreateParams; myCp.ClassStyle = myCp.ClassStyle | CP_NOCLOSE_BUTTON; return myCp; } }*/</span></span> private <span class="hljs-type"><span class="hljs-type">void</span></span> Form1_Load(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { label2.Text = Port1.PortName; Port1.<span class="hljs-keyword"><span class="hljs-keyword">Open</span></span>(); } //  private <span class="hljs-type"><span class="hljs-type">void</span></span> button1_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Port1.IsOpen == <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { try { //     podrugomu.com/node/<span class="hljs-number"><span class="hljs-number">987</span></span> Port1.PortName = label2.Text; Port1.<span class="hljs-keyword"><span class="hljs-keyword">Open</span></span>(); Port1.<span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>("Check"); //SerialPort Port2 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM4", <span class="hljs-number"><span class="hljs-number">9600</span></span>); //Port2.<span class="hljs-keyword"><span class="hljs-keyword">Open</span></span>(); //label3.Text = Convert.ToString(Port2.ReadByte()); //   MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   ", " "); richTextBox1.Text = richTextBox1.Text + "\n" + "   "+" "+DateTime.Now.ToString("HH:mm"); button1.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button3.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Port1.ReadByte() == <span class="hljs-number"><span class="hljs-number">1000</span></span>) { richTextBox1.Text = richTextBox1.Text + "\n" + "   "+" "+DateTime.Now.ToString("HH:mm"); button1.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; button3.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; Port1.<span class="hljs-keyword"><span class="hljs-keyword">Close</span></span>(); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   " +" "+ DateTime.Now.ToString("HH:mm")); richTextBox1.SaveFile("CheckLOG.rtf"); } } catch { richTextBox1.Text = richTextBox1.Text + "\n" + "   " +" "+ DateTime.Now.ToString("HH:mm"); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   .      ", "Warninig"); richTextBox1.SaveFile("log/Check_"+DateTime.Now.ToString("ddMMyyyy")+".rtf"); } } } //   private <span class="hljs-type"><span class="hljs-type">void</span></span> button3_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Port1.IsOpen == <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { try { //     podrugomu.com/node/<span class="hljs-number"><span class="hljs-number">987</span></span> MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   ", "WARNING", MessageBoxButtons.OK, MessageBoxIcon.<span class="hljs-built_in"><span class="hljs-built_in">Warning</span></span>); Port1.PortName = label2.Text; Port1.<span class="hljs-keyword"><span class="hljs-keyword">Open</span></span>(); Port1.<span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>("Clean"); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   ", " "); button1.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button3.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Port1.ReadByte() == <span class="hljs-number"><span class="hljs-number">1000</span></span>) { button1.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; button3.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; Port1.<span class="hljs-keyword"><span class="hljs-keyword">Close</span></span>(); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   "); } } catch { MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   .      ", "Warninig"); } } } private <span class="hljs-type"><span class="hljs-type">void</span></span> contextMenuStrip1_Opening(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, CancelEventArgs e) { } private <span class="hljs-type"><span class="hljs-type">void</span></span> cOM1ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM1", <span class="hljs-number"><span class="hljs-number">9600</span></span>); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  COM1"); label1.Visible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; label2.Text = "COM1"; } private <span class="hljs-type"><span class="hljs-type">void</span></span> label2_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { } private <span class="hljs-type"><span class="hljs-type">void</span></span> cOM2ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM2", <span class="hljs-number"><span class="hljs-number">9600</span></span>); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  COM2"); label1.Visible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; label2.Text = "COM2"; } private <span class="hljs-type"><span class="hljs-type">void</span></span> cOM3ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM3", <span class="hljs-number"><span class="hljs-number">9600</span></span>); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  COM3"); label1.Visible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; label2.Text = "COM3"; } private <span class="hljs-type"><span class="hljs-type">void</span></span> cOM4ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM4", <span class="hljs-number"><span class="hljs-number">9600</span></span>); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  COM4"); label1.Visible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; label2.Text = "COM4"; } private <span class="hljs-type"><span class="hljs-type">void</span></span> cOM5ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM5", <span class="hljs-number"><span class="hljs-number">9600</span></span>); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  COM5"); label1.Visible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; label2.Text = "COM5"; } private <span class="hljs-type"><span class="hljs-type">void</span></span> cOM6ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM6", <span class="hljs-number"><span class="hljs-number">9600</span></span>); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  COM6"); label1.Visible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; label2.Text = "COM6"; } private <span class="hljs-type"><span class="hljs-type">void</span></span> cOM7ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { SerialPort Port1 = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SerialPort("COM7", <span class="hljs-number"><span class="hljs-number">9600</span></span>); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  COM7"); label1.Visible = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; label2.Text = "COM5"; } private <span class="hljs-type"><span class="hljs-type">void</span></span> ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { } //   private <span class="hljs-type"><span class="hljs-type">void</span></span> button2_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { // <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Port1.IsOpen == <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) //{ // try //{ //     podrugomu.com/node/<span class="hljs-number"><span class="hljs-number">987</span></span> //Port1.PortName = label2.Text; //Port1.<span class="hljs-keyword"><span class="hljs-keyword">Open</span></span>(); switch (label3.Text) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> "  ": MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   ", " "); Port1.WriteLine("i"); timer1.<span class="hljs-keyword"><span class="hljs-keyword">Start</span></span>(); break; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> "  Cooper": MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  Cooper ", " "); Port1.WriteLine("v"); timer3.<span class="hljs-keyword"><span class="hljs-keyword">Start</span></span>(); break; } button1.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button3.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; // button5.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; // richTextBox1.Text = Port1.ReadLine()+"\n"; <span class="hljs-comment"><span class="hljs-comment">/* if (Port1.ReadLine() == "e\r") { button1.Enabled = true; button2.Enabled = true; button3.Enabled = true; button5.Enabled = true; */</span></span> //Port1.<span class="hljs-keyword"><span class="hljs-keyword">Close</span></span>(); // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   "); // } // } // catch //{ // MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   .      ", "Warninig"); //} // } } private <span class="hljs-type"><span class="hljs-type">void</span></span> button5_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { Port1.<span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>("p"); button1.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; button3.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; timer2.<span class="hljs-keyword"><span class="hljs-keyword">Start</span></span>(); richTextBox1.Text = richTextBox1.Text + "\n" + "       37 " + " " + DateTime.Now.ToString("HH:mm"); <span class="hljs-comment"><span class="hljs-comment">/* Port1.Open(); //Port1.Open(); //richTextBox1.Text = richTextBox1.Text + "\n" + Port1.ReadLine(); Port1.WriteLine("o"); Port1.Close(); */</span></span> } private <span class="hljs-type"><span class="hljs-type">void</span></span> ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { <span class="hljs-keyword"><span class="hljs-keyword">Close</span></span>(); } private <span class="hljs-type"><span class="hljs-type">void</span></span> button4_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { } private <span class="hljs-type"><span class="hljs-type">void</span></span> ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { label3.Text = "  "; } private <span class="hljs-type"><span class="hljs-type">void</span></span> timer1_Tick(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { textBox1.Text = Convert.ToString(Convert.ToInt32(s / <span class="hljs-number"><span class="hljs-number">60</span></span>)); textBox2.Text = Convert.ToString(Convert.ToInt32((s))); s++; label5.Text = Port1.ReadLine(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s==<span class="hljs-number"><span class="hljs-number">4200</span></span>){ //<span class="hljs-number"><span class="hljs-number">70</span></span>   <span class="hljs-number"><span class="hljs-number">4200</span></span>  timer1.Stop(); //timer2.<span class="hljs-keyword"><span class="hljs-keyword">Start</span></span>(); //Port1.<span class="hljs-keyword"><span class="hljs-keyword">Open</span></span>(); Port1.WriteLine("s"); // Port1.<span class="hljs-keyword"><span class="hljs-keyword">Close</span></span>(); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("     "); button1.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; button3.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; button5.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; textBox1.Text = ""; textBox2.Text = ""; } //Port1.<span class="hljs-keyword"><span class="hljs-keyword">Close</span></span>(); } private <span class="hljs-type"><span class="hljs-type">void</span></span> label4_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { } private <span class="hljs-type"><span class="hljs-type">void</span></span> timer2_Tick(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { label5.Text = Port1.ReadLine(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Port1.ReadLine() == "s\r") { timer2.Stop(); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   37 .       "); richTextBox1.Text = richTextBox1.Text + "\n" + "    . =37 " + " " + DateTime.Now.ToString("HH:mm"); button2.Enabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } private <span class="hljs-type"><span class="hljs-type">void</span></span> ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { Port1.WriteLine("a"); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("    "); } private <span class="hljs-type"><span class="hljs-type">void</span></span> ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { Port1.WriteLine("k"); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("    .  60 "); richTextBox1.Text = richTextBox1.Text + "\n" + "    .  60 " + " " + DateTime.Now.ToString("HH:mm"); } private <span class="hljs-type"><span class="hljs-type">void</span></span> timer3_Tick(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { string s1 = ""; Port1.ReadLine(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s1.Substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) == "t1") label5.Text = s1.Substring(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s1.Substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) == "t2") label9.Text = s1.Substring(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); s++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s == <span class="hljs-number"><span class="hljs-number">900</span></span>) { Port1.WriteLine("m"); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   62 "); richTextBox1.Text = richTextBox1.Text + "\n" + "   62 " + " " + DateTime.Now.ToString("HH:mm"); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(s== <span class="hljs-number"><span class="hljs-number">2250</span></span>) { Port1.WriteLine("n"); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("   78 "); richTextBox1.Text = richTextBox1.Text + "\n" + "   78 " + " " + DateTime.Now.ToString("HH:mm"); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s ==<span class="hljs-number"><span class="hljs-number">2700</span></span>) { Port1.WriteLine("b"); MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("  ,   "); richTextBox1.Text = richTextBox1.Text + "\n" + "  .   " + " " + DateTime.Now.ToString("HH:mm"); } } private <span class="hljs-type"><span class="hljs-type">void</span></span> ToolStripMenuItem_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { label3.Text = "  Cooper"; } } }</code> </pre><br><br></div></div><br><br>  The program communicates with arduino through com port.  The only thing I can‚Äôt win is that the program does not hang when the subroutine is executed when polling the com port.  After the end of the subprogram, the program hangs down, but so far it is not critical and even a certain plus.  Foolproof - not to press anything during a specific procedure. <br><br><h2>  Total, the program can </h2><br>  - prepare the equipment for cooking; <br>  - cook; <br>  - write a simple log of work (very useful for further analysis of cooking); <br>  - select the port to connect to the controlling controller (arduino UNO); <br>  boil the cooker and the mash vats. <br><br>  When pumps and solenoid valves come, I will automate further.  In the meantime, every Sunday I will add one cooking program.  In total there will be 5 programs.  Also waiting for their turn implementation of the manual mode. <br>  As the saying goes, <br><br><h2>  to be continued ... </h2><br><br><h2>  UPD: </h2><br>  Here are some pictures of the brewery. <br><img src="https://habrastorage.org/files/d23/bab/00a/d23bab00a4dc41f7814db0ee8e05a261.jpg"><br>  This is a cooking pot.  I have two of them.  With side mounted temperature sensor DS18B20 in an airtight frame. <br>  I could not understand for a long time why periodically the arduino hangs until it dawned that everything needs to be grounded, but it punches on the case, then on the sensor case and on the arduino. <br><br>  Copper tube inside - this is for filtering the wort.  You can make it more beautiful, but it is better to use false.  Unfortunately, the Chinese collect in no hurry to expel him. <br><br>  It's too early to talk about the result, that's what happened. <br><img src="https://habrastorage.org/files/65a/5d4/a12/65a5d4a12bac4f588d6845b764fa20d2.jpg"><br><br>  The general view of the vat looks like this. <br><img src="https://habrastorage.org/files/e59/d1f/cb1/e59d1fcb1bae466e9ebe1bd9076d6954.jpg"><br><br>  Used regular connectors <br>  for connecting temperature sensors that connect to a double outlet.  It is more convenient to wash the equipment.  Disconnected, carried to the bathroom.  Washed, connected and everything works. <br><br>  Everything froze according to the schedule, it did not overflow.  And the most immediate plans are to merge a batch of beer for the development of one more beer.  The recipe, in principle, can be viewed in the code in the arduino varka () subroutine. <br><br>  Finally came the solenoid valves.  The automation process continues. </div><p>Source: <a href="https://habr.com/ru/post/241463/">https://habr.com/ru/post/241463/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241453/index.html">Simple OneDrive client - it's not that simple</a></li>
<li><a href="../241455/index.html">How recommender systems work. Lecture in Yandex</a></li>
<li><a href="../241457/index.html">In which countries does the Internet ‚Äúsleep‚Äù at night?</a></li>
<li><a href="../241459/index.html">Statistics of Russian IT-specialists on stackoverflow.com and github.com</a></li>
<li><a href="../241461/index.html">Something Better A / B Testing</a></li>
<li><a href="../241465/index.html">Advanced use of objects in javascript</a></li>
<li><a href="../241469/index.html">Stop doing freemium - it's time to make money</a></li>
<li><a href="../241471/index.html">Zend Framework 2: Service Manager</a></li>
<li><a href="../241473/index.html">How programmers solve problems</a></li>
<li><a href="../241475/index.html">Business vs Service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>