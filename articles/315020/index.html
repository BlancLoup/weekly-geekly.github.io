<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VMware Replication and Disaster Recovery Solutions: vSphere Replication and Site Recovery Manager (SRM)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Site Recovery Manager (SRM) 
 VMware Site Recovery Manager (SRM) is a business continuity and disaster recovery solution designed to plan, test and re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VMware Replication and Disaster Recovery Solutions: vSphere Replication and Site Recovery Manager (SRM)</h1><div class="post__text post__text-html js-mediator-article"><h2>  Site Recovery Manager (SRM) </h2><br>  VMware Site Recovery Manager (SRM) is a business continuity and disaster recovery solution designed to plan, test and restore VMs (virtual machines) from a protected (primary) site to a (backup) recovery site. <br><br>  SRM offers 3 approaches to VM protection (replication): <br><a name="habracut"></a><br>  ‚Ä¢ <b>Storage</b> groups (datastore groups).  Protecting VMs in storage groups via third-party replication mechanisms (3rd party).  Array-based replication is used at the array level. <br>  ‚Ä¢ <b>Separate VMs</b> .  Protection of individual VMs at the host level.  SRM is used in combination with VMware vSphere Replication technology. <br>  ‚Ä¢ <b>Storage</b> policies.  VM protection based on special retention policies.  Array-based replication is used at the array level. <br><br>  SRM provides 2 options for restoring a site (data center): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚Ä¢ Planned migration.  It assumes the availability and full functionality of the main and backup sites.  Eliminates data loss, this is a scheduled operation, runs in working order, without emergency situations. <br>  ‚Ä¢ Disaster recovery.  Calculated on the sudden fall of the main site, switching to a backup site, an unplanned operation. <br><br>  SRM orchestrates data center recovery processes and replication mechanisms, which minimizes data loss and recovery time: <br><br>  ‚Ä¢ SRM provides VM extinguishing at the primary site and data synchronization between sites in the event that the primary site is operational. <br>  ‚Ä¢ SRM runs replicated VMs on the backup site in the order determined by the recovery plan. <br><br>  SRM allows you to test recovery plans.  For tests, temporary copies of the replicated data are used, which allows eliminating the impact on the basic processes of both sites. <br><br>  SRM provides 2 deployment options in the context of relationships between sites: <br>  ‚Ä¢ Basic (unidirectional) option - suggests the possibility of migrating the services of the main data center (protected site) to the backup site (recovery site). <br>  ‚Ä¢ Bidirectional option - provides VM protection in both directions.  Each site in the formed pair is the main one, performing the backup function for its neighbor. <br><br>  Site configuration requirements for SRM operation: <br><br>  ‚Ä¢ Identity and compatibility of SRM, vCenter Server, vSphere Replication versions on both sites. <br>  ‚Ä¢ In the case of replication at the array level (Array-based replication), the selected replication technology must be maintained at both sites, and the arrays must be paired. <br>  ‚Ä¢ The infrastructure of the backup site (hosts, networks, storage) must correspond to the VM and support the load of the main site.  The backup site can be loaded (above the norm) with unproductive or non-critical VMs that can be stopped if the main site is restored. <br>  ‚Ä¢ Sites must be connected through a reliable IP network that provides the necessary bandwidth. <br>  ‚Ä¢ The backup site must have a connection to public and private networks accessible to the main site. <br><br>  The technology requires the installation of SRM servers (Site Recovery Manager Server) on the primary and backup sites.  For small data centers, it is permissible to install an SRM server on the same system as the vCenter server, in particular, installing them on one VM.  For large infrastructures for reasons of load and availability, it is advisable to install the SRM server on a separate system (on a separate VM). <br><br><h3>  Multi-site SRM configurations </h3><br>  The standard configuration, which was discussed above, included 2 sites: primary and backup.  Both sites have a vCenter server that is connected via SRM servers installed on both sites.  Thus, VMs belonging to the primary site vCenter can be restored to the backup site vCenter. <br><br>  In case the data center has more than 2 sites, SRM supports various multi-site configurations: <br><br>  ‚Ä¢ Shared recovery site - shared recovery site (many-to-one, N: 1) - many protected sites can replicate and restore their VMs to one shared backup site; <br>  ‚Ä¢ Shared primary site - shared protected site (one-to-many, 1: N) ‚Äîthe primary site has several backup sites; <br>  ‚Ä¢ Many to many - many-to-many (N: N). <br><br>  SRM entities (SRM servers) on the primary and backup sites must be paired, they are assigned the same identifier (extension ID).  Therefore, on a common site, the number of SRM entities equal to the number of its partner sites should be raised.  For example, if the general recovery site serves 5 protected sites, then 5 SRM servers must be deployed on it, which are paired with the protected sites.  Shared site SRM servers must be installed on different VMs (host machines) and have unique identifiers.  At the same time, multiple SRM entities of a common site interact with one vCenter server that manages this site. <br><br>  You cannot install multiple SRM servers on a single host machine (VM).  Each SRM server must have its own database.  One recovery site can have no more than 10 protected sites. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/0af/772/339/0af7723398a641b2b773233f42ea0545.png"></div><br><h3>  SRM with array-level replication (Array-based replication) </h3><br>  This approach involves the replication of data between sites at the level of arrays (SHD), through their replication mechanisms.  SRM integration with arrays is done through storage replication adapters (SRAs), these are software components that must be developed by array manufacturers.  To support Array-based replication on the SRM-server, each site must have SRA installed for each array connected to it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/569/aab/a93/569aaba932fa4b9cafc8e6a10e4ed4b0.png"></div><br><h3>  SRM using vSphere Replication </h3><br>  SRM can use vSphere Replication (a built-in and free VMware vSphere technology package) to replicate data at the VM level between sites.  The operation of vSphere Replication does not depend on the type and model of the storage, does not require integration with the array (developed by SRA), and supports any storage compatible with vSphere. <br><br>  vSphere Replication allows you to create a chain of snapshots for replicated VMs on a backup site ‚Äî many replicas of protected machines at different points in time.  Thus, it is possible to select the optimal state of the VM to restore among the many snapshots of the replica. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fdd/435/628/fdd4356280594a90a0c15fa1c8011e63.png"></div><br><h3>  Mixed replication mode </h3><br>  SRM supports a mixed mode of operation in which both replication mechanisms are shared: Array-based replication and vSphere Replication.  This mode requires the deployment and configuration of these technologies on both sites.  Configuring different replication mechanisms for the same VMs is not supported.  However, SRM allows you to include in the same plan restoration tasks with different replication mechanisms, but for different VMs. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/21c/75f/b26/21c75fb260084592b1ae6caaad3b3790.png"></div><br><h2>  vSphere Replication </h2><br>  vSphere Replication is an extension for vCenter that provides replication and recovery of VMs at the hypervisor level, as well as provides monitoring and management of these processes.  This technology is an alternative to replication at the array level.  The solution supports the following options for replicating a VM site: <br><br>  ‚Ä¢ between the source site and the target site (site-to-site); <br>  ‚Ä¢ between clusters within one site; <br>  ‚Ä¢ between multiple sources sites and a common target site (many-to-one). <br><br>  vSphere Replication is independent of the type of array and supports any vSphere compatible storage.  The solution is included in all editions of vSphere (with the exception of the most simple and useless) and does not require the purchase of licenses. <br><br>  Replication is accomplished by transferring modified blocks between sites or clusters of source and target.  This implies an initial full synchronization of the source and replica VMs.  Configuring the replication task allows you to set the RPO, as well as activate the ability to save multiple intermediate time states of the replica (MPIT - multiple points in time) - an analog of VM snapshots. <br><br>  It is possible to monitor and manage the status of replication, obtaining information about incoming and outgoing replications, the status of sites, replication results and errors. <br><br>  The process of recovering a VM from a replica is not automated and requires manual intervention.  In particular, it requires manually selecting the state of the VM to synchronize with the source site or restore the last state from the replica.  The restored VM does not have network connections in order not to cause potential conflicts, which requires manual connection of the VM to the necessary virtual data center networks.  MPIT provides recovery of a replicated VM with a given snapshot chain, which makes it possible to select the desired state of the restored VM. <br><br>  The vSphere Replication appliance is the main essence of the solution, which is registered and connected as an extension to the vCenter server.  vCenter allows the installation and connection of only one vSphere Replication appliance (VR appliance).  The VR appliance includes an embedded vSphere Replication server that manages all replication processes.  For load balancing, deployment of additional vSphere Replication servers is supported, which are connected to the main VR appliance of this site (vCenter) and, in fact, are themselves virtual elasens. <br><br>  Sample site-to-site replication configuration: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b56/b8b/ef1/b56b8bef12da470d1240f6151dafc3c5.png" alt="image"></div><br>  An example of replication configuration between clusters within a single site, using 2 VR servers for load balancing (this is not necessary, you could do with one VR appliance): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/045/418/15e/04541815e2260cbf8441352c3a655823.png" alt="image"></div><br>  An example of many-to-one replication configuration: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c1/3c0/dc8/0c13c0dc8bbf10d3ee57c8f298b9a0ac.png" alt="image"></div></div><p>Source: <a href="https://habr.com/ru/post/315020/">https://habr.com/ru/post/315020/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../315008/index.html">DPI-digest: Analyzing traffic, locks, platforms and manufacturers of DPI systems</a></li>
<li><a href="../315012/index.html">Salt in 10 minutes</a></li>
<li><a href="../315014/index.html">Developing requirements for conflicting legislation</a></li>
<li><a href="../315016/index.html">Do you think you know C?</a></li>
<li><a href="../315018/index.html">Useful features of dbForge for administering MS SQL Server databases</a></li>
<li><a href="../315022/index.html">Haskell. Monads. Monad transformers. Game types</a></li>
<li><a href="../315024/index.html">Includor.js, or @j includor</a></li>
<li><a href="../315026/index.html">CTF from Bi.Zone on ZeroNights2016</a></li>
<li><a href="../315028/index.html">Networks for the harshest. Part twelfth. MPLS L2VPN</a></li>
<li><a href="../315030/index.html">The frontend build system in the CleverStyle Framework or why you may not need a custom</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>