<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Solving linear programming problems using Python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why solve extreme problems 
 In practice, very often problems arise for the solution of which optimization methods are used. In everyday life, with a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Solving linear programming problems using Python</h1><div class="post__text post__text-html js-mediator-article"><h3>  Why solve extreme problems </h3><br>  In practice, very often problems arise for the solution of which optimization methods are used.  In everyday life, with a plurality of choices, for example, gifts for the new year, we intuitively solve the problem of minimum costs for a given quality of purchases. <br><br>  Unfortunately, it is not always possible to rely on intuition.  Suppose you are an employee of a commercial company and are responsible for advertising.  The cost of advertising per month should not exceed 10 000 monetary units (d).  A minute of radio advertising costs CU 5, and television commercials CU 90.  The company intends to use radio advertising three times more often than television advertising.  Practice shows that 1 minute of television advertising provides sales of 30 times more than 1 minute of radio advertising. <br><a name="habracut"></a><br>  Your task is to determine the distribution of funds between the two types of advertising mentioned, at which the company's sales volume will be maximum.  You first select the variables, namely the monthly volume in minutes on TV advertising - x1, and on radio advertising - x2.  Now it is not difficult to make the following system: <br><br>  <b>30x1 + x2 -</b> increased sales from advertising; <br>  <b>90x1 + 5x2 &lt;= 10 000</b> - limited funds; <br>  <b>x2 = 3x1</b> - the ratio of the times of radio and television advertising. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now for the time being we will forget about advertising and try to summarize the above.  There may be a lot of such tasks as hardened, but they have the following common features.  Obligatory is the presence of a goal-dependent linear function, in our case it is <b>30x1 + x2</b> , which, with the values ‚Äã‚Äãof the incoming variables found, should have a single maximum value.  At the same time, the condition that the incoming variables are not negative is satisfied automatically.  Then follow again linear equations and inequalities in the number, depending on the presence of conditions.  So we formulated one group of linear programming problems. <br><br>  Another large group of linear programming problems, consider the example of the so-called transport problem.  Suppose you are an employee of a commercial company that provides transportation services.  There are suppliers of goods with warehouses in different three cities, and the volumes of homogeneous products in these warehouses are respectively equal to a1, a2, a3.  There are consumers in the other three cities that need to bring goods from suppliers in volumes b1, b2, b3, respectively.  Also known are the cost of shipping c1 √∑ c9 goods from suppliers to consumers, according to the table. <br><br><img src="https://habrastorage.org/web/a49/8a1/d95/a498a1d9541a459594c3cb118a61762c.JPG"><br><br>  If x1 ... xn is the quantity of the transported cargo, then the function of the target will be the total cost of transportation: <br><br>  F (x) = c1 * x1 + c2 * x2 + c3 * x3 + c4 * x4 + c5 * x5 + c6 * x6 + c7 * x7 + c8 * x8 + c9 * x9. <br><br>  Conditions that are recorded.  in the form of inequalities: <br><br>  x1 + x2 + x3 &lt;= 20 - you can‚Äôt take more than the supplier‚Äôs <br>  x4 + x5 + x6 &lt;= 45 <br>  x7 + x8 + x9 &lt;= 30 <br><br>  Conditions that are recorded.  in the form of equalities: <br><br>  x1 + x4 + x7 = b1‚Äì as much as necessary and bring <br>  x2 + x5 + x8 = b2 <br>  x3 + x6 + x9 = b3 <br><br>  Here we also need conditions for the non-negativity of the variables x, since they are not negative in meaning and the minimum of F (x) is sought.  These inequalities are not given. <br><br>  Now you know how to build goal functions and conditions for basic linear programming tasks.  But when you read in the special literature about the geometric, simplex, artificial basis methods for solving these problems, you threw and advertising and logistics.  But you can find a simple and understandable solution in Python. <br><br><h3>  Choosing Python libraries to solve common linear programming problems </h3><br>  For linear programming in Python, I know three specialized libraries.  Consider the solution to both of the above problems in each of the libraries.  In addition to the interface and optimization results, we will evaluate the performance.  Since we need only a qualitative difference in speed, we will use the simplest listing for this purpose, averaging the results of each program launch. <br><br>  Optimization with the pulp library [1]. <br><br><div class="spoiler">  <b class="spoiler_title">Listing of the program for solving the problem ‚ÄúOn Advertising‚Äù</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pulp <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() x1 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x1"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x2 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x2"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) problem = pulp.LpProblem(<span class="hljs-string"><span class="hljs-string">'0'</span></span>,pulp.LpMaximize) problem += <span class="hljs-number"><span class="hljs-number">30</span></span>*x1 +x2, <span class="hljs-string"><span class="hljs-string">" "</span></span> problem += <span class="hljs-number"><span class="hljs-number">90</span></span>*x1+ <span class="hljs-number"><span class="hljs-number">5</span></span>*x2 &lt;= <span class="hljs-number"><span class="hljs-number">10000</span></span>, <span class="hljs-string"><span class="hljs-string">"1"</span></span> problem +=x2 ==<span class="hljs-number"><span class="hljs-number">3</span></span>*x1, <span class="hljs-string"><span class="hljs-string">"2"</span></span> problem.solve() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">":"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> variable <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> problem.variables(): <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (variable.name, <span class="hljs-string"><span class="hljs-string">"="</span></span>, variable.varValue) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">":"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (value(problem.objective)) stop = time.time() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>) print(stop - start)</code> </pre> </div></div><br>  In the tenge program, the ratios already known to us for the maximum profit from advertising are 30 * x1 + x2, the cost restriction conditions marked for comparison are "1".  We have not forgotten about the relationship between the times of using radio and television advertising, marked in Fox tenge as "2".  The purpose of other operators is obvious. Details can be read in [1]. <br><br>  Results of solving an optimization problem using <i>pulp</i> . <br><br>  <b>Result:</b> <br>  x1 = 95.238095 <br>  x2 = 285.71429 <br>  <b>Profit:</b> <br>  3142.85714 <br>  <b>Time:</b> <br>  0.10001182556152344 <br><br>  As a result, we obtained the values ‚Äã‚Äãof the times of advertising, at which the expected profit from its use will be maximum. <br><br>  Optimization with the <i>cvxopt</i> library [2]. <br><br><div class="spoiler">  <b class="spoiler_title">Program listing for solving the problem ‚ÄúOn Advertising‚Äù.</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cvxopt.modeling <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> variable, op <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() x = variable(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>) z=-(<span class="hljs-number"><span class="hljs-number">30</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] +<span class="hljs-number"><span class="hljs-number">1</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>])<span class="hljs-comment"><span class="hljs-comment">#  mass1 = (90*x[0] + 5*x[1] &lt;= 10000) #"1" mass2 = (3*x[0] -x[1] == 0) # "2" x_non_negative = (x &gt;= 0) #"3" problem =op(z,[mass1,mass2,x_non_negative]) problem.solve(solver='glpk') problem.status print (":") print(abs(problem.objective.value()[0])) print (":") print(x.value) stop = time.time() print (" :") print(stop - start)</span></span></code> </pre></div></div><br>  The structure of the program is similar to the previous one, but there are two significant differences.  First, the cvxopt library is set to search for the minimum of the goal function, and not the maximum.  Therefore, the objective function is taken with a negative minus sign - (30 * x [0] + 1 * x [1]).  The resulting negative value of it is displayed in absolute value.  Secondly, the restriction on non-negativity of variables, non_negative, is introduced.  Did this affect the result we now see. <br><br>  Results of solving an optimization problem using cvxopt. <br><br>  <b>Profit:</b> <br>  3142.857142857143 <br>  <b>Result</b> : <br>  [9.52e + 01] <br>  [2.86e + 02] <br>  <b>Time:</b> <br>  0.041656494140625 <br><br>  There were no significant changes in comparison with the pulp library, except for the program runtime. <br><br>  Optimization with the <i>scipy</i> library <i>.</i>  <i>optimiz</i> e [3]. <br><br><div class="spoiler">  <b class="spoiler_title">Program listing for solving the problem ‚ÄúOn Advertising‚Äù.</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.optimize <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> linprog <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() c = [<span class="hljs-number"><span class="hljs-number">-30</span></span>,<span class="hljs-number"><span class="hljs-number">-1</span></span>] <span class="hljs-comment"><span class="hljs-comment">#  A_ub = [[90,5]] #'1' b_ub = [10000]#'1' A_eq = [[3,-1]] #'2' b_eq = [0] #'2' print (linprog(c, A_ub, b_ub, A_eq, b_eq)) stop = time.time() print (" :") print(stop - start)</span></span></code> </pre></div></div><br>  A quick glance at the listing is enough to understand that we are dealing with a fundamentally different approach to data entry.  Although the figures in the listings help clarify the principle of data organization, by comparison, I will provide explanations.  The c = [-30, -1] list contains the coefficients of the target function with the opposite sign, since linprog () searches for a minimum.  The matrix A_ub contains the coefficients of the variables for the conditions in the form of inequalities.  For our task, this is 90x1 + 5x2 &lt;= 10000.  The values ‚Äã‚Äãon the right side of the inequality is 1000, placed in the b_ub list.  The matrix A_eq contains the coefficients of the variables for conditions in the form of equalities.  For our problem, <b>3x1-x2 = 0</b> , and the zero on the right-hand side is placed on the b_eq list. <br><br>  Results of solving an optimization problem using scipy.  optimize. <br><br>  Fun: -3142.8571428571431 <br>  message: 'Optimization terminated successfully.' <br>  nit: 2 <br>  slack: array ([0.]) <br>  status: 0 <br>  success: True <br>  x: array ([95.23809524, 285.71428571]) <br><br>  <b>Time:</b> <br>  0.03020191192626953 <br><br>  Here the calculation results are displayed in more detail, but the results are the same as in the previous libraries. <br><br>  According to the results of solving the problem ‚ÄúOn Advertising‚Äù, an interim conclusion can be made that the use of the scipy library.  optimize provides greater speed and rational form of source data.  However, without the results of solving the transportation problem, it is too early to make a final conclusion. <br><br>  I present a solution to the transportation problem, but without detailed explanation, since the main stages of the solution have already been described in detail. <br><br>  Optimization with the <i>pulp</i> library. <br><br><div class="spoiler">  <b class="spoiler_title">Program listing for solving the transportation problem.</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pulp <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() x1 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x1"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x2 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x2"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x3 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x3"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x4 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x4"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x5 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x5"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x6 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x6"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x7 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x7"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x8 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x8"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) x9 = pulp.LpVariable(<span class="hljs-string"><span class="hljs-string">"x9"</span></span>, lowBound=<span class="hljs-number"><span class="hljs-number">0</span></span>) problem = pulp.LpProblem(<span class="hljs-string"><span class="hljs-string">'0'</span></span>,pulp.LpMaximize) problem += <span class="hljs-number"><span class="hljs-number">-7</span></span>*x1 - <span class="hljs-number"><span class="hljs-number">3</span></span>*x2 - <span class="hljs-number"><span class="hljs-number">6</span></span>* x3 - <span class="hljs-number"><span class="hljs-number">4</span></span>*x4 - <span class="hljs-number"><span class="hljs-number">8</span></span>*x5 <span class="hljs-number"><span class="hljs-number">-2</span></span>* x6<span class="hljs-number"><span class="hljs-number">-1</span></span>*x7- <span class="hljs-number"><span class="hljs-number">5</span></span>*x8<span class="hljs-number"><span class="hljs-number">-9</span></span>* x9, <span class="hljs-string"><span class="hljs-string">" "</span></span> problem +=x1 + x2 +x3&lt;= <span class="hljs-number"><span class="hljs-number">74</span></span>,<span class="hljs-string"><span class="hljs-string">"1"</span></span> problem +=x4 + x5 +x6 &lt;= <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-string"><span class="hljs-string">"2"</span></span> problem +=x7 + x8+ x9 &lt;= <span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-string"><span class="hljs-string">"3"</span></span> problem +=x1+ x4+ x7 == <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"4"</span></span> problem +=x2+x5+ x8 == <span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-string"><span class="hljs-string">"5"</span></span> problem +=x3 + x6+x9 == <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-string"><span class="hljs-string">"6"</span></span> problem.solve() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">":"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> variable <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> problem.variables(): <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (variable.name, <span class="hljs-string"><span class="hljs-string">"="</span></span>, variable.varValue) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (abs(value(problem.objective))) stop = time.time() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>) print(stop - start)</code> </pre></div></div><br>  The solution of the transportation problem requires minimization of delivery costs, therefore, the goal function is entered with a minus sign, and displayed in absolute value. <br><br>  The results of solving the transport problem using pulp. <br><br>  <b>Result:</b> <br>  x1 = 0.0 <br>  x2 = 45.0 <br>  x3 = 0.0 <br>  x4 = 0.0 <br>  x5 = 0.0 <br>  x6 = 30.0 <br>  x7 = 20.0 <br>  x8 = 0.0 <br>  x9 = 0.0 <br>  <b>Cost of delivery:</b> <br>  215.0 <br>  <b>Time:</b> <br>  0.19006609916687012 <br><br>  Optimization with the library <i>cvxopt</i> . <br><br><div class="spoiler">  <b class="spoiler_title">Program listing for solving the transportation problem.</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cvxopt.modeling <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> variable, op <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() x = variable(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>) z=(<span class="hljs-number"><span class="hljs-number">7</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">3</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">6</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">4</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] + <span class="hljs-number"><span class="hljs-number">8</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">2</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+x[<span class="hljs-number"><span class="hljs-number">6</span></span>] + <span class="hljs-number"><span class="hljs-number">5</span></span>*x[<span class="hljs-number"><span class="hljs-number">7</span></span>] +<span class="hljs-number"><span class="hljs-number">9</span></span>* x[<span class="hljs-number"><span class="hljs-number">8</span></span>]) mass1 = (x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +x[<span class="hljs-number"><span class="hljs-number">2</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">74</span></span>) mass2 = (x[<span class="hljs-number"><span class="hljs-number">3</span></span>] + x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +x[<span class="hljs-number"><span class="hljs-number">5</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">40</span></span>) mass3 = (x[<span class="hljs-number"><span class="hljs-number">6</span></span>] + x[<span class="hljs-number"><span class="hljs-number">7</span></span>] + x[<span class="hljs-number"><span class="hljs-number">8</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">36</span></span>) mass4 = (x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + x[<span class="hljs-number"><span class="hljs-number">3</span></span>] + x[<span class="hljs-number"><span class="hljs-number">6</span></span>] == <span class="hljs-number"><span class="hljs-number">20</span></span>) mass5 = (x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +x[<span class="hljs-number"><span class="hljs-number">4</span></span>] + x[<span class="hljs-number"><span class="hljs-number">7</span></span>] == <span class="hljs-number"><span class="hljs-number">45</span></span>) mass6 = (x[<span class="hljs-number"><span class="hljs-number">2</span></span>] + x[<span class="hljs-number"><span class="hljs-number">5</span></span>] + x[<span class="hljs-number"><span class="hljs-number">8</span></span>] == <span class="hljs-number"><span class="hljs-number">30</span></span>) x_non_negative = (x &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) problem =op(z,[mass1,mass2,mass3,mass4 ,mass5,mass6, x_non_negative]) problem.solve(solver=<span class="hljs-string"><span class="hljs-string">'glpk'</span></span>) problem.status print(<span class="hljs-string"><span class="hljs-string">":"</span></span>) print(x.value) print(<span class="hljs-string"><span class="hljs-string">" :"</span></span>) print(problem.objective.value()[<span class="hljs-number"><span class="hljs-number">0</span></span>]) stop = time.time() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>) print(stop - start)</code> </pre></div></div><br>  The results of solving the transport problem using cvxopt. <br><br>  <b>Result:</b> <br>  [0.00e + 00] <br>  [4.50e + 01] <br>  [0.00e + 00] <br>  [0.00e + 00] <br>  [0.00e + 00] <br>  [3.00e + 01] <br>  [2.00e + 01] <br>  [0.00e + 00] <br>  [0.00e + 00] <br>  <b>Cost of delivery:</b> <br>  215.0 <br>  <b>Time:</b> <br>  0.03001546859741211 <br><br>  Optimization with the scipy library.  optimize. <br><br><div class="spoiler">  <b class="spoiler_title">Program listing for solving the transportation problem.</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.optimize <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> linprog <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() c = [<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>] A_ub = [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]] b_ub = [<span class="hljs-number"><span class="hljs-number">74</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>,<span class="hljs-number"><span class="hljs-number">36</span></span>] A_eq = [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]] b_eq = [<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">45</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>] print(linprog(c, A_ub, b_ub, A_eq, b_eq)) stop = time.time() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>) print(stop - start)</code> </pre></div></div><br>  The results of solving the transport problem using scipy optimize. <br><br>  fun: 215.0 <br>  message: 'Optimization terminated successfully.' <br>  nit: 9 <br>  slack: array ([29., 10., 16.]) <br>  status: 0 <br>  success: True <br>  x: array ([0., 45., 0., 0., 0., 30., 20., 0., 0.]) <br>  <b>Time:</b> <br>  0.009982585906982422 <br><br>  The analysis of the solution of two typical linear programming problems with the help of three libraries of similar purpose does not raise doubts in the choice of the scipy library.  optimize, as a leader in data entry compactness and speed. <br><br><h3>  Whats new to use the scipy library.  optimize when solving linear programming problems </h3><br>  Obtaining from the source matrix, a list for the goal function, as well as filling the A_ub inequalities matrices and A_eq equalities programmatically, will simplify the data entry work and increase the dimension of the original matrix.  This allows solving real optimization problems.  Let us consider how this can be done with a simple demo, which does not pretend to code ideality. <br><br><div class="spoiler">  <b class="spoiler_title">Spoiler header</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.optimize <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> linprog b_ub = [<span class="hljs-number"><span class="hljs-number">74</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>,<span class="hljs-number"><span class="hljs-number">36</span></span>] b_eq = [<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">45</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>] A=np.array([[<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>]]) m, n = A.shape c=list(np.reshape(A,n*m))<span class="hljs-comment"><span class="hljs-comment">#   A   c. A_ub= np.zeros([m,m*n]) for i in np.arange(0,m,1):#    ‚Äì. for j in np.arange(0,n*m,1): if i*n&lt;=j&lt;=n+i*n-1: A_ub [i,j]=1 A_eq= np.zeros([m,m*n]) for i in np.arange(0,m,1):#    ‚Äì. k=0 for j in np.arange(0,n*m,1): if j==k*n+i: A_eq [i,j]=1 k=k+1 print(linprog(c, A_ub, b_ub, A_eq, b_eq))</span></span></code> </pre></div></div><br>  Now, only the matrix A itself and the right parts of the b_ub inequalities and b_ub - equalities are entered. <br><br>  The result of the program is predictable. <br>  fun: 215.0 <br>  message: 'Optimization terminated successfully.' <br>  nit: 9 <br>  slack: array ([29., 10., 16.]) <br>  status: 0 <br>  success: True <br>  x: array ([0., 45., 0., 0., 0., 30., 20., 0., 0.]) <br><br><h3>  Private withdrawal </h3><br>  When solving linear programming problems, it is advisable to use the scipy.optimize library as described in the article, and to fill in the matrix of conditions programmatically.  In this case, you do not need special knowledge about the methods of solving optimization problems. <br><br><h3>  Common conclusion </h3><br>  Recently, various Python libraries have appeared solving a similar problem.  The decision on the use of a library is often subjective.  Therefore, it is advisable to carry out their comparative analysis for the field of problems you are solving. <br><br><h3>  Links </h3><br><ol><li>  <a href="https://pythonhosted.org/PuLP/">pythonhosted.org/PuLP</a> </li><li>  <a href="http://cvxopt.org/userguide/modeling.html">cvxopt.org/userguide/modeling.html</a> </li><li>  <a href="https://docs.scipy.org/doc/scipy/reference/tutorial/optimize.html">docs.scipy.org/doc/scipy/reference/tutorial/optimize.html</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/330648/">https://habr.com/ru/post/330648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330638/index.html">By magic ... (Pike programming language)</a></li>
<li><a href="../330640/index.html">No edits. How to become the happiest designer on the planet</a></li>
<li><a href="../330642/index.html">Is it always safe to encrypt or recover data from an external hard drive Prestigio Data Safe II</a></li>
<li><a href="../330644/index.html">Red-black trees: short and clear</a></li>
<li><a href="../330646/index.html">Screen rotation during long-term operation</a></li>
<li><a href="../330650/index.html">Ruby on Rails agreement. Part 4</a></li>
<li><a href="../330654/index.html">Dialectics of Neural Machine Translation</a></li>
<li><a href="../330656/index.html">Integration React and DataTables - not as hard as advertised</a></li>
<li><a href="../330658/index.html">How to make a beautiful avatar? New social media marketing</a></li>
<li><a href="../330660/index.html">Attention! Hackers have begun to use the SambaCry vulnerability to crack Linux systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>