<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We program the quadcopter on Arduino (a part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, habrozhiteli! 
 In this series of articles, we will slightly open the quadcopter lid a little more than the hobby requires, and we will also wr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We program the quadcopter on Arduino (a part 1)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/273/acb/b5e/273acbb5ef7f942256627c7fe9d1ed92.jpg"><br clear="all"><br clear="all">  Hello, habrozhiteli! <br clear="all">  In this series of articles, we will slightly open the quadcopter lid a little more than the hobby requires, and we will also write, configure and launch our own program for the flight controller, which will be the usual Arduino Mega 2560 board. <br clear="all"><br clear="all">  We have ahead: <ol><li>  Basic concepts (for beginner copterovodov). </li><li>  PID controllers with interactive web-demonstration of operation on a virtual quadcopter. </li><li>  Actually the program for Arduino and the tuning program on Qt. </li><li>  Dangerous tests of a quadcopter on a rope.  The first flights. </li><li>  Wreck and loss in the field.  Automatic air search using Qt and OpenCV. </li><li>  Final successful tests.  Summarizing.  Where to go? </li></ol><br clear="all">  The material is voluminous, but I will try to keep within 2-3 articles. <br clear="all">  <b>Today we are waiting for: a spoiler with a video of how our quadrocopter flew;</b>  <b>basic concepts;</b>  <b>PID controllers and the practice of selecting their coefficients.</b> <a name="habracut"></a><br clear="all"><br clear="all"><h1>  <font color="black">Why all this?</font> </h1>  Academic interest, which, incidentally, pursues not only me ( <a href="http://habrahabr.ru/post/217345/">1</a> , <a href="http://habrahabr.ru/post/183964/">2</a> , <a href="http://habrahabr.ru/company/technoworks/blog/216437/">3</a> ).  And, of course, for the soul.  I got great pleasure during the work and felt the real inexpressible happiness when ‚ÄúIT‚Äù flew with my program :-) <br clear="all"><br clear="all"><h1>  <font color="black">For whom?</font> </h1>  This material may be interesting, including for people who are far away, or are only going to do multi-rotor systems so far.  Now let's talk about the purpose of the basic quadcopter nodes, how they interact with each other, about the basic concepts and about the principles of flight.  Of course, all the knowledge that we need, you can find on the network, but you can not force them to seek out on the vast expanses of the Internet. <br clear="all"><br clear="all">  Without prejudice to understanding in basic terms, feel free to skip everything that you know, until the next unfamiliar term <b>in bold</b> , or until an incomprehensible illustration. <br clear="all"><br clear="all"><h1>  <font color="red">NO # 1!</font> </h1>  Do not undertake to write your own program for the flight controller, until you try ready-made solutions, which are now quite a lot (Ardupilot, MegapirateNG, MiltiWii, AeroQuad, etc.).  First, it is dangerous!  To control a quadcopter without a GPS and a barometer, practice is needed, and even more so when it is buggy, turns over, flies not exactly where it should be - and this is almost impossible to avoid during the first tests.  Secondly, it will be much easier for you to program, understanding that you need to program and how it should work in the end.  Believe me: <b>flight math is only a small part of the program code</b> . <br clear="all"><br clear="all"><h1>  <font color="red">NO # 2!</font> </h1>  Do not undertake to write your own program for the flight controller, if you are not pursued by academic interest and you only need what ready solutions have been able to do for a long time (fly, photograph, shoot video, fly on mission, etc.) While you write everything, It will take a lot of time, even if you are not alone. <br clear="all"><br clear="all"><h1>  <font color="black">Basic concepts</font> </h1><br clear="all">  Quadcopters are different, but all of them are united by four rotors: <table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a8/8e8/331/9a88e83311d45323b463c27b61bd21c3.png"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53c/748/9c4/53c7489c45995345b5d65f658742a233.png"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/33e/6b1/d33/33e6b1d33a7c20a6154332340a546674.png"></div></td></tr><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/690/205/4f9/6902054f93423197b7093bac17fe1de9.png"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/946/53d/dad/94653ddad9e5dd8a3f0477f86e8f2ce5.png"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/de5/415/362/de541536288b239ca72500177f8e5aee.png"></div></td></tr></tbody></table> Despite the apparent symmetry, it is very important for the pilot to distinguish where the quadcopter is in front of (shown by the arrow).  Here, like radio-controlled car models: with the ‚Äúforward‚Äù command, the quadrocopter flies not to where the pilot is looking, but to where the imaginary nose of the quadcopter is directed.  It is fraught with danger: it can be difficult for beginners to get back to themselves a device caught up in the wind, deployed somehow sideways (of course, we don‚Äôt talk about flying through the camera from the first person and smart flight modes using a compass and GPS.) This problem may be partly helped by front screws or rays of a different color, some kind of bulb in front or multi-colored LEDs.  But all this turns out to be useless when pepelats are rapidly turning into a point above the horizon. <br clear="all"><br clear="all">  We will fly on the frame of the X-shaped quadcopter, because I like it more externally.  Each design has its own advantages and its purpose.  In addition to quadcopters, there are other multicopters.  Even if not to consider exotic options, all the same their types - the whole heap! <br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/0a9/a34/eaa/0a9a34eaa5d4d3319d3f9dda1a988be1.png"><br clear="all"><br clear="all">  Let us see how our quadrocopter is arranged inside, and what should the flight controller, which we plan to program, do. <br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/62b/019/4a5/62b0194a51d7507b7c9ba573fdc94e4c.png"><br clear="all"><br clear="all">  <b>Pitch, roll and yaw</b> angles <b>(pitch, roll, yaw)</b> are the angles that are used to determine and set the orientation of the quadrocopter in space. <br clear="all"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/14f/b14/a73/14fb14a73d90543d287955f53eb127e5.gif"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/cee/343/33d/cee34333da9ffa9431e699d42eb8ee10.gif"><img src="https://habrastorage.org/getpro/habr/post_images/c9d/58f/ffe/c9d58fffe5d31afa35d443f77a948418.gif"><br clear="all"><br clear="all">  Sometimes the word "angle" is omitted and they simply say: pitch, roll, yaw.  But according to <a href="http://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B0%25D0%25BD%25D0%25B3%25D0%25B0%25D0%25B6">Wikipedia,</a> this is not entirely accurate.  Flight quadcopter in the desired direction is achieved by changing these three angles.  For example, in order to fly forward, the quadcopter must bend due to the fact that the rear engines will spin slightly stronger than the front ones: <br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/91a/c31/ce3/91ac31ce3c7c0612db0e509d50dcbb4b.gif"><br clear="all">  <b>The quadcopter gas</b> is the arithmetic average between the rotational speeds of all the motors.  The more gas, the more the total thrust of the motors, the more they pull the quadcopter <i>up</i> (NOT FORWARD !!! "Slippers on the floor" here means the fastest rise).  Usually measured in percent: 0% - the motors are stopped, 100% - rotate at maximum speed.  <b>Gas hovering</b> is the minimum level of gas that is necessary so that the quadcopter does not lose height. <br clear="all"><br clear="all">  Gas, pitch, roll, yaw - if you can control these four parameters, then you can control a quadrocopter.  They are sometimes referred to as control channels.  If you purchased a dual-channel remote control, you cannot cope with a quadrocopter.  Three-channel is more suitable for small helicopters: you can fly without roll control, but on quadcopter it is not convenient.  If you want to change flight modes, you will have to fork out for a five-channel console.  You want to control the tilt and turn of the camera on board - another plus two channels, although professionals use a separate console for this. <br clear="all"><br clear="all">  There are many flight modes.  Used and GPS, and barometer, and range finder.  But we want to implement the basic - stabilization mode ( <b>stab, stabilize</b> , fly in ‚ÄúStaba‚Äù), in which the quadcopter holds those angles that are set to it from the console, regardless of external factors.  In this mode, when there is no wind, the quadrocopter can hang almost in place.  The wind will have to compensate the pilot. <br clear="all"><br clear="all">  The direction of rotation of the screws is not chosen randomly.  If all the motors rotated in one direction, the quadcopter would rotate in the opposite direction due to the generated moments.  Therefore, one pair of opposing engines always rotates in one direction, and the other pair in the other.  The effect of the occurrence of torques is used to change the yaw angle: one pair of motors begins to rotate a little faster than the other, and now the quadcopter slowly turns to face us (what a horror): <br clear="all"><br clear="all"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/341/09c/feb/34109cfeb1325ec11a5925410416e84e.gif"><img src="https://habrastorage.org/getpro/habr/post_images/8ac/9b8/607/8ac9b86079db63df8b320890b90319f0.gif"><br clear="all"><br clear="all"><ul><li>  LFW - left front clockwise rotation (left front, clockwise rotation) </li><li>  RFC - right front counter clockwise rotation (right front, counterclockwise rotation) </li><li>  LBC - left back counter clockwise rotation (left rear, counterclockwise rotation) </li><li>  RBW - right back clockwise rotation (right rear, clockwise rotation) </li></ul><br clear="all">  The speed of the motors is controlled by the <b>flight controller (controller, brains)</b> .  This is usually a small board or box with multiple inputs and outputs.  There is a huge number of different controllers with a different set of features, different firmware, different tasks.  Here are some: <br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/5d4/d29/571/5d4d29571c2e44ce85fdad821bdb8af0.png"><br clear="all"><br clear="all">  The generalized task of the flight controller is several tens of times per second to perform a control cycle which includes: reading the sensor readings, reading the control channels, processing information and issuing control signals to the motors in order to execute the pilot commands.  That is what we are going to program. <br clear="all"><br clear="all">  There are a lot of different types of sensors that can be used.  We will use the <b>three-axis gyroscope and the three-axis accelerometer</b> , which have become almost mandatory in all quadrocopters.  Accelerometer measures acceleration, gyroscope measures angular velocity.  Thanks to them, the flight controller learns the current angles of pitch, roll and yaw.  These sensors are built into the flight controller, and are external.  The process of calculating the three angles of the sensor readings is a topic for a separate article.  But we don‚Äôt need to know this here: the MPU-6050 will do everything for us.  This is a small board that performs the necessary calculations and filtering inside and delivers almost ready angles using the i2c protocol.  We will have to count them, process them with the rest of the data and issue control signals to the motors. <br clear="all"><br clear="all">  Motors on multicopters consume large currents, so the flight controller controls them not directly, but through special hardware drivers, called <b>speed regulators ( <abbr title="Electric Speed ‚Äã‚ÄãRegulator">ESC</abbr> , regula, esca)</b> .  These regulators are powered by the main onboard battery, the control signal is received from the controller, and at the output they have three wires (A, B, C) that go directly to the motors (each motor has its own regulator!) <br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/64f/a68/967/64fa689675e9558e13fc530ce290080a.gif"><br clear="all"><br clear="all">  The ‚Äúprotocol‚Äù of communication between the controller and the motor is not as important to us as the ‚Äúprotocol‚Äù of communication between the flight controller and the controller, because we have to control the controller from the controller programmatically.  There are regulators controlled by i2c, but the most common ones are controlled by a rectangular signal with a minimum of 0 volts and a maximum of 3-5 volts (it is called <b><abbr title="Pulse width modulation">PWM</abbr></b> or <b><abbr title="Pulse-width modulation">PWM</abbr></b> , and some argue that <b><abbr title="Pulse position modulation">PPM is</abbr></b> more correct. For more details, for example, <a href="http://blog.oscarliang.net/pwm-ppm-difference-conversion/">here</a> ). <br clear="all"><br clear="all">  ‚ÄúProtocol‚Äù - it says loudly: in order to give the motor a command to rotate at maximum speed, the controller must send pulses with a duration of 2 milliseconds, interspersed with a logical zero of 10 to 20 milliseconds.  The pulse duration of 1 millisecond corresponds to stopping the motor, 1.1 ms - 10% of the maximum speed, 1.2 ms - 20%, etc.  Practically zero duration does not play any role, only the duration of the pulse itself is important. <br clear="all"><br clear="all">  For all its seeming simplicity, an ambush lies here: flight controllers are different with different settings, controllers are different, and the minimum (1 ms) and maximum (2 ms) are not universal.  Depending on many factors, the range of 1-2 ms may actually be 1.1 - 1.9 ms.  In order for the regulator and controller to speak absolutely the same language, there is a procedure for <b>calibrating regulators</b> .  During this procedure, the ranges of the regulators change and become equal to the range of the controller.  The procedure is sewn into the program of each controller and includes several simple steps (steps may vary depending on the manufacturer - read the instructions!): <br clear="all"><br clear="all"><ul><li>  Disconnect the regulator power supply. </li><li>  Remove the propeller from the motor. </li><li>  Send to the regulator input a signal corresponding to the maximum rotation speed. </li><li>  Provide power to the regulator.  The motor must remain immobile without assistance. </li><li>  Make a pause for 1-2 seconds, wait for a characteristic squeak. </li><li>  Send to the regulator input a signal corresponding to the minimum rotation speed. </li><li>  Make a pause for 1-2 seconds, wait for a characteristic squeak. </li><li>  Disconnect the regulator power supply. </li></ul><br clear="all">  After that, the corresponding interval boundaries will be entered into the controller.  If you try to take off with uncalibrated regulators, the consequences can be unexpected: from a sudden jerk of a quadrocopter into the nearest tree to a complete immobility of the motors for any value of gas. <br clear="all"><br clear="all">  PWM with the same principle uses the <b>on-board receiver</b> .  This is a small device that receives radio signals from the ground and transmits them to the flight controller.  Most often, the flight controller for each control channel (gas, pitch, roll, etc.) has its own input to which PWM enters.  The interaction logic is simple: the command, for example, ‚Äú70% gas‚Äù continuously goes from the ground to the receiver, where it is converted into PWM and goes to the flight controller via a separate wire.  Similarly, with pitch, roll, yaw. <br clear="all"><br clear="all">  Since the relations between the receiver and the controller are their friendly PWM relations, they will also have to be calibrated: the consoles with the receivers are different with their own ranges of operation.  The controller must be able to adapt.  The procedure for <b>calibrating the radio</b> , in contrast to the calibration of the regulators, we have to create ourselves as part of the flight program.  The general calibration plan is: <br clear="all"><br clear="all"><ul><li>  Remove the propellers from the motors, just in case. </li><li>  In any way, put the controller into radio calibration mode. </li><li>  The controller starts the radio calibration for several tens of seconds. </li><li>  For the allotted time we move all the stick sticks in all directions until it stops. </li><li>  The controller remembers the highs and lows for all control channels in the internal memory for centuries. </li></ul>  So: during radio calibration, the flight controller remembers the receiver ranges in all control channels;  during calibration of the regulators, the range of the flight controller is recorded in all the regulators. <br clear="all"><br clear="all">  In addition to the program for the flight controller, another program is needed: <b>the flight controller setup interface</b> .  Most often, it is a PC program that connects to the flight controller via USB and allows the user to set up and check the flight program, for example: start the radio calibration, adjust the stabilization parameters, check the sensors, set the flight route on the map, determine the multicopter behavior when the signal is lost and much more.  We will write our customization interface in C ++ and Qt as a console utility.  Here it is, if you look into the future: <br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/234/23e/080/23423e080c6c9d70ad9b9f5c6d5ee6fe.png"><br clear="all"><br clear="all">  No one is immune from accidents.  Even ten-inch plastic screws on small motors can leave bloody bruises on the skin, which will hurt for another week (checked personally).  Elementary make yourself a new make-up and hairstyle, if you hook the stick of gas on the remote, while you carry on the included quadrocopter.  Therefore, the flight controller should provide at least some security: the <b>armed / disarmed mechanism</b> .  The status of the quadcopter "disarmed" means that the motors are turned off and even the full throttle command from the console has no effect, although the power is on.  The ‚Äúarmed‚Äù status of the quadcopter means that the commands from the console are executed by the flight controller.  In this state, quadrocopters take off, fly and land.  The quadcopter turns on and should immediately get into the disarmed state in case the inattentive pilot turns it on when the gas stick on the console is not at zero.  In order to transfer the rotor to the ‚Äúarmed‚Äù state, the pilot needs to make some pre-specified gestures from the console.  Often this gesture is to hold the left stick in the lower right corner (gas = 0%, yaw = 100%) for a couple of seconds.  After that, the flight controller makes at least a minimal self-test and, if it is successfully passed, it ‚Äú <b>armies</b> ‚Äù (ready for flight!) <b>With</b> another gesture (gas = 0%, yaw = 0%) the quadcopter is ‚Äú <b>disarming</b> ‚Äù.  Another good security measure is <b>autodisarm</b> , if the gas was at zero for 2-3 seconds. <br clear="all"><br clear="all"><div class="spoiler">  <b class="spoiler_title">About motors, batteries, regulators, propellers</b> <div class="spoiler_text">  The choice of components for a multicopter is a topic for a whole series of articles.  If you are going to make your first quadcopter - state what you need it for, and use the tips of experienced ones or take the list of components that someone else has compiled and successfully fly on it. <br clear="all"><br clear="all">  And yet for the general understanding it is useful to know the main points. <br clear="all"><br clear="all"><h2>  Batteries </h2><br clear="all">  Among the fans and professionals of multi-rotor systems, the most common are lithium-polymer batteries, as the main sources of power for on-board electronics and motors.  They are distinguished by capacitance, voltage and maximum current output.  Capacity, as usual, is measured in ampere hours or milliampere hours.  Voltage is measured in the number of "cans" of the battery.  One "bank" - an average of 3.7 volts.  Fully charged "bank" - 4.2 volts.  Most common are batteries with cans ranging from three to six.  Maximum current output is measured in amperes, and is marked, for example, like this: 25C.  C - battery capacity, 25 - multiplier.  If the capacity is 5 amps, then this battery can give 25 * 5 = 125 amps.  Of course, the current output parameter is better to take with a margin, but, basically, the larger it is, the more expensive the battery is.  Marking example: 25C 3S 4500mah. <br clear="all"><br clear="all">  Each can is a separate battery.  All of them are soldered consistently.  In order to evenly charge all the banks, a balancing connector is provided with access to each bank separately, and special chargers are used. <br clear="all"><br clear="all"><h2>  Motors, propellers, regulators </h2><br clear="all">  The main parameter of the brushless motor is its kv.  This is the number of revolutions per minute for every volt of applied voltage.  The most common motors with kv from 300 to 1100. Kv closer to 1000 is usually chosen for small quadcopters (1-2 kilograms plus 500 grams of payload) and put on them plastic propellers up to 12 inches in diameter.  On large multicopters (for raising good and heavy photo-video equipment) or for long periods (for flight time records) there are usually low-kv (300-500) motors and huge carbon propellers (15-20 inches in diameter).  Kv is not the only important parameter of the motor: you can often find complete tables of motor power and thrust from the supplied voltage and the type of propeller installed.  In addition, each motor is designed for its own voltage range (number of battery cans) and its maximum current.  If the manufacturer writes 3-4S, do not use it with 5S batteries.  The same goes for regulators. <br clear="all"><br clear="all">  If the motor is rated for current up to 30A, then the controller should rely on current up to 30 + 10A to prevent overheating.  Poor-quality or unsuitable regulators can cause the so-called "sync failures" and stop the engine in flight, and you will learn another multi-rotor term: " <b>caught the planet</b> ."  Another important point is the thickness and quality of the wires.  Incorrectly calculated wire cross-section or a poor connector can cause a fire in the air. <br clear="all"><br clear="all">  As you can see, there are a lot of nuances.  I haven‚Äôt even listed half, so it‚Äôs quite difficult to choose the components for the first multicopter myself. </div></div><br clear="all"><br clear="all"><h1><a name="PID"></a>  <font color="black">Stabilization mathematics, PID controllers (PID)</font> </h1><br clear="all">  If you decide to do multi-copters, then sooner or later you will have to face the PID controller setting, since this mathematical device is used in almost all stabilization tasks: stabilizing quadrocopter angles in the air, flying and holding the GPS position, keeping the barometer altitude, brushless gear camera stabilization in flight (camera mount). <br clear="all"><br clear="all">  You get a two-axis camera suspension, put GoPro there, for example, turn on and instead of stabilization get convulsions, vibrations and twitching, although all sensors are calibrated and mechanical problems are eliminated.  The reason is incorrect PID parameters. <br clear="all"><br clear="all">  You collect a multicopter, calibrate sensors, regulators, radio, check everything, try to take off, and it is so dull in the air that it even turns it over with a light breeze.  Or vice versa: it is so sharp that it suddenly takes off and twists a triple flip without permission.  The reason is the same: the parameters of the PID controllers. <br clear="all"><br clear="all">  For many devices using PID controllers, there are instructions for tuning, and even a few in addition to numerous video constructions from the users themselves.  But to make it easier to navigate this variety, it is useful to understand how these regulators are arranged inside.  In addition, we are going to write our own quadcopter stabilization system!  I propose, together with me, to ‚Äúreinvent‚Äù and <b>‚Äúon the fingers‚Äù</b> again <b>understand the</b> formula of the PID controller.  For those who prefer dry math language, I recommend Wikipedia, an <a href="http://en.wikipedia.org/wiki/PID_controller">English article</a> , because  <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%2598%25D0%2594-%25D1%2580%25D0%25B5%25D0%25B3%25D1%2583%25D0%25BB%25D1%258F%25D1%2582%25D0%25BE%25D1%2580">Russian</a> is not yet described in such detail. <br clear="all"><br clear="all">  We will consider the quadcopter in two-dimensional space, where it has only one angle - the roll angle, and two motors: left and right. <br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/987/fde/420/987fde420fd3a0854b9bac6d38e47465.png"><br clear="all"><br clear="all">  The flight controller continuously receives commands from the ground: ‚Äúroll 30 degrees‚Äù, ‚Äúroll -10 degrees‚Äù, ‚Äúroll 0 degrees (keep horizon)‚Äù;  its task is to perform them as quickly and accurately as possible with the help of motors, taking into account: wind, uneven weight distribution of the quadrocopter, uneven wear of the motors, inertia of the quadrocopter, etc.  Thus, the flight controller must continuously solve the problem, what speed of rotation to apply to each motor, taking into account the current value of the angle of heel and the required one.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Continuously - this, of course, loudly said. </font><font style="vertical-align: inherit;">It all depends on the computational capabilities of a particular iron. </font><font style="vertical-align: inherit;">On Adruino, it is quite possible to fit one iteration of the processing and control cycle in 10 milliseconds. </font><font style="vertical-align: inherit;">This means that every 10 milliseconds the readings of the angles of the quadrocopter will be read, and on their basis, control signals will be sent to the motors. </font><font style="vertical-align: inherit;">These 10 milliseconds are called </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the adjustment period</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It is clear that the smaller it is, the more often and more precisely the regulation occurs. </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The gas level flows from the receiver to the controller. </font><font style="vertical-align: inherit;">Denote it</font></font><img src="https://habrastorage.org/getpro/habr/post_images/6f9/9c1/32a/6f99c132aac32c39dfd62b0c326dd143.gif">  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let me remind you that this is the arithmetic average between the speeds of rotation of all motors, expressed as a percentage of the maximum speed of rotation. </font><font style="vertical-align: inherit;">If a</font></font><img src="https://habrastorage.org/getpro/habr/post_images/e04/1d8/5ef/e041d85ef4ad9f1c043476871fc750b5.gif">  and <img src="https://habrastorage.org/getpro/habr/post_images/e14/9cf/276/e149cf276f4dbe6b5af2e2cac980f0e1.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - rotational speeds of the left and right motors, then: </font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/519/6cf/2fe/5196cf2fefec6a552c78b23f7b839f35.gif"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/850/bce/b9c/850bceb9ccc101bb79f2f796612f717b.gif"><br clear="all"><br clear="all">  Where <img src="https://habrastorage.org/getpro/habr/post_images/3b8/6c2/613/3b86c261318947f131298dd0c57511e3.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- quadcopter reaction (force), which creates a torque due to the fact that the left motor rotates at a </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3b8/6c2/613/3b86c261318947f131298dd0c57511e3.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faster rate than the gas, and the right one - at the same rate slower. </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3b8/6c2/613/3b86c261318947f131298dd0c57511e3.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">may take negative values, then the right motor will spin faster. </font><font style="vertical-align: inherit;">If we learn to calculate this value at each iteration of the processing cycle, then we will be able to control a quadcopter.</font></font> It is clear that <img src="https://habrastorage.org/getpro/habr/post_images/3b8/6c2/613/3b86c261318947f131298dd0c57511e3.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as a minimum, must depend on the current angle of heel ( </font></font><img src="https://habrastorage.org/getpro/habr/post_images/8b3/5fc/864/8b35fc8647c66f80cd26a59d1aae72bb.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) and the desired angle of heel ( </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c85/68e/dae/c8568edaeee9f2d0400605a9a1090878.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) that comes from the control panel. </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imagine a situation: the command ‚Äúkeep the horizon‚Äù ( </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c85/68e/dae/c8568edaeee9f2d0400605a9a1090878.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 0) is </font><font style="vertical-align: inherit;">received </font><font style="vertical-align: inherit;">, and the quadrocopter has a roll to the left: </font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/3fa/8a1/71b/3fa8a171be4df8f91c95e8b35ca7f432.png"><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the difference (error) between</font></font><img src="https://habrastorage.org/getpro/habr/post_images/c85/68e/dae/c8568edaeee9f2d0400605a9a1090878.gif">  and <img src="https://habrastorage.org/getpro/habr/post_images/8b3/5fc/864/8b35fc8647c66f80cd26a59d1aae72bb.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which the controller seeks to minimize. </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The greater the difference between the desired roll angle and the current angle, the stronger the response should be, the faster the left motor should spin relative to the right one. If this is written using our notation: </font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/d75/b07/41d/d75b0741d4402ca24513df83d59b8ecc.gif"><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here P is the proportionality coefficient. The larger it is, the stronger the reaction will be, the sharper the quadcopter will react to the deviation from the required roll angle. This intuitive and simple formula describes the operation of a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proportional controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The essence is elementary: the more the quadrocopter deviates from the required position, the more one should try to return it. Unfortunately, this formula will have to complicate. The main reason is overshoot.</font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For several tens of milliseconds (several iterations of the processing cycle) under the influence of a proportional regulator, the quadrocopter will return to the desired (in this case, horizontal) position. All this time, error </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and effort </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3b8/6c2/613/3b86c261318947f131298dd0c57511e3.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will have the same sign, although it will become smaller and smaller. Having gained some kind of rotation speed (angular speed), the quadrocopter will simply roll over on the other side, because no one will stop it in the desired position. It is the same as a spring, which always seeks to return to the initial position, but if it is pulled back and released, it will fluctuate until friction takes over. Of course, friction will also act on a quadcopter, but practice shows that it is not enough.</font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For this reason, one more term should be added to the proportional regulator, which will slow down the quadcopter rotation and prevent overshooting (overloading in the opposite direction) - a kind of friction imitation in a viscous medium: the faster the quadcopter turns, the more reasonable limits. </font><font style="vertical-align: inherit;">The rotational speed (the rate of change of the error) is denoted as </font></font><img src="https://habrastorage.org/getpro/habr/post_images/1d5/de0/b6d/1d5de0b6da187474bf732cac26f868a6.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, then: </font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/d35/846/20f/d3584620f4b13dc128bbfffe67b87a35.gif"><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">where D is the adjustable coefficient: the larger it is, the stronger the stopping force. </font><font style="vertical-align: inherit;">Vague memories emerge from the school physics course that the rate of change of any quantity is a derivative of this quantity over time:</font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/af3/5dd/24c/af35dd24c7bca8b131420c365c650495.gif">  . <br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And here the proportional regulator turns into a proportional-differential (proportional term and differential): </font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/1ef/92b/7f5/1ef92b7f57f69e694e600419713c1928.gif">  . <br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The error is </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">easy to calculate, because at each iteration we know</font></font><img src="https://habrastorage.org/getpro/habr/post_images/8b3/5fc/864/8b35fc8647c66f80cd26a59d1aae72bb.gif">  and <img src="https://habrastorage.org/getpro/habr/post_images/c85/68e/dae/c8568edaeee9f2d0400605a9a1090878.gif">  ;<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P and D - customizable parameters before launch. </font><font style="vertical-align: inherit;">To calculate the derivative (rate of change </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), it is necessary to store the previous value </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, know the current value </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and know the time elapsed between measurements (adjustment period). </font><font style="vertical-align: inherit;">And here it is - the physics of the sixth grade of the school (speed = distance / time):</font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/516/061/81e/51606181e138d5e9505a66fa416e4554.gif">  . <br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/e59/acf/d82/e59acfd823451727672042a740be8c27.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the period of regulation; </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3ab/65b/7da/3ab65b7dacd9f57b54f8ffa3969e281a.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- error value from the previous iteration of the regulation cycle. By the way, this formula is the simplest method of numerical differentiation, and it is quite suitable for us here. </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we have a proportional-differential controller in a flat ‚Äúbiccopter‚Äù, but another problem remains. Let the left edge weigh a little more than the right, or, equivalently, the left engine works a little worse than the right one. The quadcopter is slightly tilted to the left and does not rotate back: the differential term is zero, and the proportional term takes a positive value, but it is not enough to return the quadrocopter to the horizontal position, because the left edge weighs slightly more than the right one. As a result, the quadcopter will always pull to the left.</font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A mechanism is needed to track such deviations and correct them. A characteristic feature of such errors is that they manifest themselves over time. The integral component comes to the rescue. It stores the sum of all errors </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for all iterations of the processing cycle. How does this help? If the proportional term is not enough to correct a small error, but it is still there - gradually, over time, the integral term is gaining strength, increasing the response </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3b8/6c2/613/3b86c261318947f131298dd0c57511e3.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and the quadrocopter takes the required angle of heel. </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a nuance. Suppose</font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">equal to 1 degree, the regulation cycle - 0.1 s. </font><font style="vertical-align: inherit;">Then in one second the sum of errors will take the value of 10 degrees. </font><font style="vertical-align: inherit;">And if the processing cycle is 0.01s, then the amount will reach as much as 100 degrees. </font><font style="vertical-align: inherit;">So that for the same time the integral term should gain the same value for different periods of regulation, the resulting amount will be multiplied by the period of regulation itself. </font><font style="vertical-align: inherit;">It is easy to calculate that in both cases from the example we get the sum of 1 degree. </font><font style="vertical-align: inherit;">Here it is - an integral term (for the time being without a tunable coefficient):</font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/d6b/8e4/715/d6b8e47154fb589a3d9d4234646f1cb9.gif">  . <br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This formula is nothing more than the numerical integral over the time of a function </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c01/54b/a86/c0154ba86607cc99f86646dcd71f8613.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the interval from zero to the current moment. </font><font style="vertical-align: inherit;">That is why the term is called integral:</font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/c27/67c/6f9/c2767c6f9210431ee5c174080e81774d.gif">  , <br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">where T is the current time. </font></font><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It's time to write the final formula of the proportional-intergral-differential controller:</font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/731/2ca/657/7312ca65766354c215a731d0896cc106.gif">  , <br clear="all"><br clear="all">  Where <img src="https://habrastorage.org/getpro/habr/post_images/c32/64e/8b9/c3264e8b949f2e9430fa37dc1f7ce989.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - one of the adjustable parameters, which are now three: </font></font><img src="https://habrastorage.org/getpro/habr/post_images/de2/b62/cda/de2b62cdaa63a97ee016bf170c0a6f08.gif">  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This formula is convenient to use from the program code, but the formula, which is given in the textbooks: </font></font><br clear="all"><br clear="all"><img src="https://habrastorage.org/getpro/habr/post_images/d7c/a5e/337/d7ca5e3376c3263a381a9d2da0d32867.gif">  . <br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> There are several variations of it, for example, you can limit the module of the integral term so that it does not exceed a certain allowable threshold (we will do so). </font></font><br clear="all"><br clear="all"><h1> <font color="black"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Practice</font></font></font> </h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Well, now it's time to practice the selection of coefficients. </font><font style="vertical-align: inherit;">Readers are invited to a JavaScript-page with a virtual quadrocopter, which he has already seen in the pictures: </font></font><a href="http://copterpilot.ru/articles/o-pid-regulyatorax-2/"><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selection of parameters of the PID controller for a quadrocopter</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="http://jsfiddle.net/limon_spb/ZPmPh/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSFiddle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). When you first start the overshoot is immediately visible - fluctuations around the desired position. When the oscillations stop, you can observe the effect that the proportional coefficient does not cope with the error due to the "asymmetrical" quadrocopter (set by tick "Asymmetry"). The parameters P, I, D are available for setting. Now you know what to do with them. "Scrolling" under the quadrocopter can control the desired value of the roll. "Interval (ms):" - regulation interval. Reducing it is ‚Äúcheating‚Äù, but it‚Äôs very useful to see how it affects the quality of stabilization. </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For lovers of "pure" mathematics, you can offer to </font></font><a href="http://copterpilot.ru/articles/o-pid-regulyatorax/"><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configure an abstract PID controller</font></font></u></a> <br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The entered parameters are not automatically applied: you need to click ‚ÄúApply‚Äù. A couple of small tips: if it seems to you that the quadcopter is too slow to respond to control, you can increase P, but too much P can result in overshoot. Parameter D will help with overshoot, but too large values ‚Äã‚Äãwill lead to frequent fluctuations, or again overshoot. The parameter I is usually 10 - 100 times smaller than the parameter P since its power is in accumulation in time, not in quick response.</font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manual tuning of PID parameters requires practice. </font><font style="vertical-align: inherit;">There are analytical methods for calculating them, but they require good preparation and accurate knowledge of many parameters of a particular tunable system. </font><font style="vertical-align: inherit;">As an average between manual selection and analytical calculation, there is a wide range of empirical methods proposed by various researchers. </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In our 2D quadcopter, only one angle changes - the roll angle. </font><font style="vertical-align: inherit;">In a tuning 3D quadcopter, three independent PID regulators will be required for each of the corners, and the control of a specific motor will represent the sum of the efforts for all the regulators.</font></font><br clear="all"><br clear="all"><h1> <font color="black"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion of the first part</font></font></b></font> </h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this article, we got acquainted with the basic concepts: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quadrocopter and flight principle, pitch, roll, yaw, gas, gas hovering, stabilize flight mode, flight controller, gyroscope, accelerometer, speed controller, PWM, controller calibration, radio calibration, onboard receiver, interface settings for the flight controller, armed / disarmed, autodisarm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After this, we re-invented the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> formula </font><b><font style="vertical-align: inherit;">by</font></b><font style="vertical-align: inherit;"> slightly touching on the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">numerical differentiation and integration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and we experienced how to adjust the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P, I, D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parameters </font><font style="vertical-align: inherit;">on the </font></font><a href="http://copterpilot.ru/articles/o-pid-regulyatorax-2/"><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">virtual quadrocopter</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now, if you own a lightsaber-programming, you can start your quadcopter stabilization program, or, better yet, join in with fresh ideas to existing open source projects. Well, I will, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in a week or two</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , when there will be strength and time to match the quality, I will continue the story, how it was all programmed, tested, fell, cut my fingers and completely flew away in an unknown direction. If you really want to continue - you can kick me in here or, for example, VKontakte: it gives a little incentive.</font></font><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In conclusion of this part, I just have to mention the person who helped me in choosing the components and setting up the most difficult (first!) Quadrocopter on the MegapirateNG firmware and patiently answered hundreds of questions on these very basic concepts: </font></font><a href="http://habrahabr.ru/users/sovgvd/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SovGVD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , thank you!</font></font> :-) <br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> As a reward to those who were able to squander this entire sheet, I spread the promised small video, like our quadrocopter with our ‚Äúinvented‚Äù PID controllers, on our program for Arduino Mega 2560 flies: </font></font><br clear="all"><br clear="all"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/VSgZAQwO0fI%3Ffeature%3Doembed&amp;xid=17259,1500000,15700023,15700186,15700191,15700253&amp;usg=ALkJrhhrpljASgn0l7hWUY0zYPLW7EKkzQ" frameborder="0" allowfullscreen=""></iframe><br clear="all"><br clear="all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, it lacks GPS, as in commercial and mass products, a little lack of stability, but on the other hand - OUR, and we know it up and down to the last factor with an integral factor! </font><font style="vertical-align: inherit;">And it is really cool that such technologies are available to us today.</font></font><br clear="all"><br clear="all"><h3> <font color="black"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isn't it a great time we live ?!</font></font></font> </h3></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/227425/">https://habr.com/ru/post/227425/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../227411/index.html">Synology Announces Free Five-Year Warranty for XS / XS + Series NAS Servers</a></li>
<li><a href="../227415/index.html">Own WebGL engine. Article number 3. Primitives</a></li>
<li><a href="../227419/index.html">Formed a preliminary program WebCamp: Project Management Day</a></li>
<li><a href="../227421/index.html">Sell ‚Äã‚Äãa lot: the principles of the device sales department</a></li>
<li><a href="../227423/index.html">Database monitoring HostTracker</a></li>
<li><a href="../227429/index.html">Why should a cat tail: realtime statistics in conditions of medium visibility</a></li>
<li><a href="../227431/index.html">Webinar "Integrated IT infrastructure from Fujitsu"</a></li>
<li><a href="../227433/index.html">Vacuum transistor will be able to overcome the line of 1 THz</a></li>
<li><a href="../227435/index.html">Never ‚Äúdo‚Äù what you regret or smart home with CCU.IO</a></li>
<li><a href="../227443/index.html">How to buy a Linux VPS server</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>