<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Localization of applications for the Chinese market-2. Block lists</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous topic, I just made a brief overview of the requirements for a developer who wants to release his application on the PRC market. Of all...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Localization of applications for the Chinese market-2. Block lists</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="http://habrahabr.ru/post/237725/">previous topic,</a> I just made a brief overview of the requirements for a developer who wants to release his application on the PRC market.  Of all the questions received, the two main ones concerned precisely the block lists and the withdrawal of money from China.  I want to consider the first point in more detail. <br><img src="https://habrastorage.org/files/c4d/8f3/7a9/c4d8f37a943f4b869d493e93fdb81cac.jpg"><br> Á¶Å - means "prohibited" <br><br><a name="habracut"></a><br>  Naturally, such questions should begin to study with the regulatory framework.  One of the main documents on this subject is <a href="http://www.gov.cn/flfg/2010-06/22/content_1633935.htm">ÊñáÂåñ ÈÉ®‰ª§ Á¨¨ 49 Âè∑ - ÁΩëÁªú Ê∏∏Êàè ÁÆ°ÁêÜ ÂäûÊ≥ï</a> (Decree of the Ministry of Culture of the People's Republic of China No. 49 ‚ÄúTemporary measures for regulating and managing online games‚Äù).  Article 9 lists the content that is unacceptable in online games: <br>  ‚ÄúArticle 9. In online games there should not be the following content: <br>  1) Violating the basic principles of the Constitution of China; <br>  2) creating a threat to the national unity, sovereignty and territorial integrity of the PRC; <br>  3) disclosing state secrets, endangering national security or harming national honor and interests; <br>  4) inciting ethnic hatred or ethnic discrimination, undermining national unity, or infringing national customs and habits; <br>  5) Promoting cults and superstitions; <br>  6) Distributing rumors that disrupt public order, undermine social stability; <br>  7) Disseminating obscenity, pornography, gambling, violence or abetting offenses; <br>  8) An insultant who slanders others and infringes upon their legitimate rights and interests; <br>  9) Contradicting public morality; <br>  10) Other content prohibited by the laws, administrative and government regulations. <br>  Everything is more or less sensible and reasonable.  We will not discuss the feasibility of such restrictions, but let's talk about how to approach the technical implementation of this task. <br>  Immediately, a small remark - if you have a large project that is expected to give a big return, the following text does not make sense to you and you better get an enterprise solution in which all this has long been implemented at the highest level, the bases are updated daily, and technical support is good and loyal.  For example, such products are offered by <a href="http://goonie.cn/">Âè§ Â∞º</a> - their ‚ÄúPublic Mood Control System‚Äù is really smart and includes everything that is possible, two impossible functions and one incredible one.  True, this decision will cost you 150,000 yuan a one-time + 20,000 yuan annually.  There are other firms, but the price range is about the same. <br>  If you have a small project, the following text is for you. <br>  According to Chinese law, all user-generated content should be censored.  The user can create the following content: <br>  1) text (nicknames, messages to other players) <br>  2) graphic (avatars) <br>  3) video <br><br>  <b>So, point one - censoring text content.</b> <br>  In the very realization of the impossibility of recruiting (saving) certain words and sentences, there is nothing complicated.  But it is at first glance.  You, like 100% of foreigners, have no idea about which words and sentences should be blocked.  Nothing complicated, such tables are easily found on the Chinese developer forums, searched for ÊïèÊÑü ËØçÂ∫ì (the base of sensitive words and expressions) and immediately downloaded in XLS or XML format, and they are easily embedded in any block list. <br>  Difficulties begin later. <br>  Firstly, any resident of the PRC understands and can read both traditional hieroglyphs and simplified ones.  But in the Unicode system the same hieroglyph in the traditional and simplified form is two different characters.  Accordingly, you need to either inflate the database twice or three times by simply converting the simplified ones into the traditional ones (that is, instead of one record, the government will not be able to have two - ÊîøÂ∫ú Êó†ËÉΩ and ÊîøÂ∫ú Ôºâ or else convert them into the other one on the fly and compare them with the base. similar projects for conversion are searched for on request ÁÆÄÁπÅ ËΩ¨Êç¢ Â∑•ÂÖ∑ ‰ª£Á†Å Secondly, a resident of the People‚Äôs Republic of China uses pinyin in 95% of cases for typing on a computer / phone. Pinyin uses phonetic transcription of hieroglyphic recordings and you choose the one you need by system  It looks like T9. That is, in order to type the previous phrase, you need to type the following: <br><img src="https://habrastorage.org/files/7a3/f96/48c/7a3f9648c59c4e56a7f117a1b3175bd5.png"><br>  and choose the first option.  When creating a block list, this causes certain difficulties.  After all, if you replace Êó† with wu, then the meaning of the phrase (ÊîøÂ∫ú Êó†ËÉΩ) will remain completely clear - kak ecJIu 6bI to write like this.  That is, one should either apply the hieroglyph converter to transcription on the fly and compare it with the base, or inflate the base several more times (add values ‚Äã‚ÄãÊó† Êó† neng, zheng Êó†ËÉΩ, etc.) This is apart from the fact that hieroglyphs can be masked by similar letters with accents (this is actually a key, but has nothing to do with the topic - w -, w√π, w√∫, w≈´) <br>  Third, we must take into account local tricks.  How to bypass the block list in Russian, approximately represent everything.  In Chinese, it is both simpler and more complex.  Suppose ÊîøÂ∫ú (government) can be written as Ê≠£ Â§Ç Âπø ‰ªò - while the native speaker will easily understand the meaning, but the system will not block it.  To do this, there are also certain solutions based on heuristics and comparison of the elements of hieroglyphs - first, we look for Â≠óÊ†π (base of hieroglyphic elements), and then the relations between them and their possible combinations with each other are painstakingly written in it.  Again, we must not forget that all this must be done for both traditional forms and simplified ones. <br>  Fourthly, the base must be constantly updated, as the local bright minds are also not asleep, and are constantly looking for new ways to control. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Lock graphic content</b> <br>  It's all a little more complicated and you can't do without a final moderator, but you can (and even need) simplify his work. <br>  First, the pictures may also contain textual information.  To do this, you need to connect any OCR-module and link it with the text base from the item above <br>  Secondly, there are several dozen styles of writing hieroglyphs.  But the task is facilitated by the fact that any hieroglyph in writing using a specific writing style will be easily determined.  To do this, we go to any website converter (like <a href="http://ziti88.com/">this</a> , parse its database and assign a correspondence to each hieroglyph. For example, the above phrase about the government in the style of ÁÆÄ ÈªÑËçâ will look like this: <br><img src="https://habrastorage.org/files/619/4cd/7b0/6194cd7b0ab1473baeaa69d3fea4adc7.png"><br>  And in the style of ‰∏≠ÂõΩ Èæô Êñ∞ Ëçâ ‰Ωì like this: <br><img src="https://habrastorage.org/files/66b/cd8/fbe/66bcd8fbed7c4b4db7393aae1765c76c.png"><br>  Accordingly, it is necessary to essentially create for each hieroglyph in the base your own picture and assign it a match with the item in the block list. <br>  Thirdly, it is necessary to use the existing methods of blocking pictures of a clearly pornographic nature, read the news weekly and add photos from the news to the table of blocking already graphic content (by analyzing the correspondence of images of the developments a huge amount all over the world), etc.  Fully moderators from the work it will not save, but it will facilitate it considerably. <br>  But the implementation of automatic censoring of video recordings is so cumbersome and the work of creating them on its own is so subdued that it is generally easier to disable this feature.  Well, or attend to manual pre-moderation of all videos. <br>  Actually, the implementation of the first two percent points will protect you by 90% from a loud departure from the Chinese market and give you a pass to all respected local app stores. <br>  These are just basic actions.  In the article, they are considered very superficially, the article does not consider the process of content filtering, which is sent from the application to third-party resources (social networks, microblogging, etc.), the process of filtering files for prohibited content and hundreds more items is not considered.  Here is a more or less simplified diagram of how the Goonie solution works.  After our own implementation of this, I now understand why they require money-) <br><img src="https://habrastorage.org/files/452/7be/80a/4527be80a35446d3b075f518922b2ca7.png"><br>  Thanks for attention.  I hope it was interesting. <br>  PS An example of a basic text block list of 3,500 lines (it is suddenly interesting to someone) is located by <a href="https://yadi.sk/i/ZFfeiQXod9mEk">reference</a> </div><p>Source: <a href="https://habr.com/ru/post/245027/">https://habr.com/ru/post/245027/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../245015/index.html">Postgis data type Geometry on the example of imported OpenStreetMap maps</a></li>
<li><a href="../245017/index.html">Increased confidence in the IC while maintaining the privacy of personal data</a></li>
<li><a href="../245019/index.html">Why did you need a static analyzer message suppression system</a></li>
<li><a href="../245021/index.html">What prevents outsourcers from working better than the regular admin</a></li>
<li><a href="../245025/index.html">Conversion: several useful graphs and tables</a></li>
<li><a href="../245029/index.html">Merchium is looking for partners</a></li>
<li><a href="../245031/index.html">How we made smarter our foosball and ourselves</a></li>
<li><a href="../245035/index.html">We master the CC430 - microcontrollers with a radio module: do-it-yourself photo finish</a></li>
<li><a href="../245037/index.html">OpenFlow: current state, prospects, problems</a></li>
<li><a href="../245041/index.html">Do your letters get spammed? Check ip on ban</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>