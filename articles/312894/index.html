<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How in Java to shoot yourself in the leg of lambda and not to miss</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes you can hear such conversations: there have been no fundamental changes in Java 8 and lambdas are good old anonymous classes generously spri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How in Java to shoot yourself in the leg of lambda and not to miss</h1><div class="post__text post__text-html js-mediator-article">  Sometimes you can hear such conversations: there have been no fundamental changes in Java 8 and lambdas are good old anonymous classes generously sprinkled with syntactic sugar.  No matter how wrong!  I suggest today to talk, what is the difference between lambda and anonymous classes.  And why did it get more difficult to hit your leg? <br><a name="habracut"></a><br>  In order not to take time from those who believe that they have already mastered anonymous functions, a simple task.  What distinguishes the two code fragments below: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnonymousClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Runnable </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRunnable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"I am a Runnable!"</span></span>); } }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnonymousClass().getRunnable().run(); } }</code> </pre> <br>  And the second fragment: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lambda</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Runnable </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRunnable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"I am a Runnable!"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Lambda().getRunnable().run(); } }</code> </pre><br>  If you can immediately answer - decide for yourself whether you want to read further. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Decompile </h3><br>  We look byte code for both options.  (Detailed decompiling with the <i>-verbose</i> flag under the spoiler.) <br><br>  <i><b>Anonymous class</b></i> <br><br><pre> <code class="hljs pgsql">Compiled <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "AnonymousClass.java" <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AnonymousClass { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> AnonymousClass(); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">1</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>."&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> java.lang.Runnable getRunnable(); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">2</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AnonymousClass<span class="hljs-meta"><span class="hljs-meta">$1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">5</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">3</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> AnonymousClass<span class="hljs-meta"><span class="hljs-meta">$1</span></span>."&lt;init&gt;":(LAnonymousClass;)V <span class="hljs-number"><span class="hljs-number">8</span></span>: areturn <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(java.lang.String[]); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">4</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AnonymousClass <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">5</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> "&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">7</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">6</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> getRunnable:()Ljava/lang/Runnable; <span class="hljs-number"><span class="hljs-number">10</span></span>: invokeinterface #<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> // InterfaceMethod java/lang/Runnable.run:()V <span class="hljs-number"><span class="hljs-number">15</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">RunnableAnonymousClassExperiment.class (detailed decompilation)</b> <div class="spoiler_text"><pre> <code class="hljs smalltalk"><span class="hljs-type"><span class="hljs-type">Classfile</span></span> /<span class="hljs-type"><span class="hljs-type">E</span></span>:/.../src/main/java/<span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span>.class <span class="hljs-type"><span class="hljs-type">Last</span></span> modified <span class="hljs-number"><span class="hljs-number">17.10</span></span><span class="hljs-number"><span class="hljs-number">.2016</span></span>; size <span class="hljs-number"><span class="hljs-number">518</span></span> bytes <span class="hljs-type"><span class="hljs-type">MD5</span></span> checksum cf61f38da50d7062537edefea71995dc <span class="hljs-type"><span class="hljs-type">Compiled</span></span> from <span class="hljs-comment"><span class="hljs-comment">"AnonymousClass.java"</span></span> public class <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span> minor version: <span class="hljs-number"><span class="hljs-number">0</span></span> major version: <span class="hljs-number"><span class="hljs-number">52</span></span> flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span>, <span class="hljs-type"><span class="hljs-type">ACC_SUPER</span></span> <span class="hljs-type"><span class="hljs-type">Constant</span></span> pool: #<span class="hljs-number"><span class="hljs-number">1</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">8.</span></span>#<span class="hljs-number"><span class="hljs-number">20</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">21</span></span> // <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span><span class="hljs-string"><span class="hljs-string">$1</span></span> #<span class="hljs-number"><span class="hljs-number">3</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">2.</span></span>#<span class="hljs-number"><span class="hljs-number">22</span></span> // <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span><span class="hljs-string"><span class="hljs-string">$1</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:(<span class="hljs-type"><span class="hljs-type">LAnonymousClass</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">4</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">23</span></span> // <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span> #<span class="hljs-number"><span class="hljs-number">5</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">4.</span></span>#<span class="hljs-number"><span class="hljs-number">20</span></span> // <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">6</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">4.</span></span>#<span class="hljs-number"><span class="hljs-number">24</span></span> // <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span>.getRunnable:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">7</span></span> = <span class="hljs-type"><span class="hljs-type">InterfaceMethodref</span></span> #<span class="hljs-number"><span class="hljs-number">25.</span></span>#<span class="hljs-number"><span class="hljs-number">26</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>.run:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">8</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">27</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span> #<span class="hljs-number"><span class="hljs-number">9</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">InnerClasses</span></span> #<span class="hljs-number"><span class="hljs-number">10</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> &lt;init&gt; #<span class="hljs-number"><span class="hljs-number">11</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> ()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">12</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span> #<span class="hljs-number"><span class="hljs-number">13</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span> #<span class="hljs-number"><span class="hljs-number">14</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> getRunnable #<span class="hljs-number"><span class="hljs-number">15</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> ()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">16</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> main #<span class="hljs-number"><span class="hljs-number">17</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> ([<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">18</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">SourceFile</span></span> #<span class="hljs-number"><span class="hljs-number">19</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span>.java #<span class="hljs-number"><span class="hljs-number">20</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">10</span></span>:#<span class="hljs-number"><span class="hljs-number">11</span></span> // <span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">21</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span><span class="hljs-string"><span class="hljs-string">$1</span></span> #<span class="hljs-number"><span class="hljs-number">22</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">10</span></span>:#<span class="hljs-number"><span class="hljs-number">28</span></span> // <span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:(<span class="hljs-type"><span class="hljs-type">LAnonymousClass</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">23</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span> #<span class="hljs-number"><span class="hljs-number">24</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">14</span></span>:#<span class="hljs-number"><span class="hljs-number">15</span></span> // getRunnable:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">25</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">29</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span> #<span class="hljs-number"><span class="hljs-number">26</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">30</span></span>:#<span class="hljs-number"><span class="hljs-number">11</span></span> // run:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">27</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span> #<span class="hljs-number"><span class="hljs-number">28</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> (<span class="hljs-type"><span class="hljs-type">LAnonymousClass</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">29</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span> #<span class="hljs-number"><span class="hljs-number">30</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> run { public <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span>(); descriptor: ()<span class="hljs-type"><span class="hljs-type">V</span></span> flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span>: stack=<span class="hljs-number"><span class="hljs-number">1</span></span>, locals=<span class="hljs-number"><span class="hljs-number">1</span></span>, args_size=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">1</span></span> // <span class="hljs-type"><span class="hljs-type">Method</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: return <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span>: line <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> public java.lang.<span class="hljs-type"><span class="hljs-type">Runnable</span></span> getRunnable(); descriptor: ()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span>: stack=<span class="hljs-number"><span class="hljs-number">3</span></span>, locals=<span class="hljs-number"><span class="hljs-number">1</span></span>, args_size=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: new #<span class="hljs-number"><span class="hljs-number">2</span></span> // class <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span><span class="hljs-string"><span class="hljs-string">$1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">5</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">3</span></span> // <span class="hljs-type"><span class="hljs-type">Method</span></span> <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span><span class="hljs-string"><span class="hljs-string">$1</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:(<span class="hljs-type"><span class="hljs-type">LAnonymousClass</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>: areturn <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span>: line <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> public static void main(java.lang.<span class="hljs-type"><span class="hljs-type">String</span></span>[]); descriptor: ([<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span>, <span class="hljs-type"><span class="hljs-type">ACC_STATIC</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span>: stack=<span class="hljs-number"><span class="hljs-number">2</span></span>, locals=<span class="hljs-number"><span class="hljs-number">1</span></span>, args_size=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: new #<span class="hljs-number"><span class="hljs-number">4</span></span> // class <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">5</span></span> // <span class="hljs-type"><span class="hljs-type">Method</span></span> <span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">6</span></span> // <span class="hljs-type"><span class="hljs-type">Method</span></span> getRunnable:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; <span class="hljs-number"><span class="hljs-number">10</span></span>: invokeinterface #<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> // <span class="hljs-type"><span class="hljs-type">InterfaceMethod</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>.run:()<span class="hljs-type"><span class="hljs-type">V</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>: return <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span>: line <span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> line <span class="hljs-number"><span class="hljs-number">13</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span> } <span class="hljs-type"><span class="hljs-type">SourceFile</span></span>: <span class="hljs-comment"><span class="hljs-comment">"AnonymousClass.java"</span></span> <span class="hljs-type"><span class="hljs-type">InnerClasses</span></span>: #<span class="hljs-number"><span class="hljs-number">2</span></span>; //class <span class="hljs-type"><span class="hljs-type">AnonymousClass</span></span><span class="hljs-string"><span class="hljs-string">$1</span></span></code> </pre></div></div><br>  <i><b>With lambda</b></i> <br><br><pre> <code class="hljs pgsql">Compiled <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "Lambda.java" <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Lambda { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> Lambda(); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">1</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>."&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> java.lang.Runnable getRunnable(); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: invokedynamic #<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> // InvokeDynamic #<span class="hljs-number"><span class="hljs-number">0</span></span>:run:()Ljava/lang/Runnable; <span class="hljs-number"><span class="hljs-number">5</span></span>: areturn <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(java.lang.String[]); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">3</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Lambda <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">4</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> "&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">7</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> getRunnable:()Ljava/lang/Runnable; <span class="hljs-number"><span class="hljs-number">10</span></span>: invokeinterface #<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> // InterfaceMethod java/lang/Runnable.run:()V <span class="hljs-number"><span class="hljs-number">15</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Lambda.class (detailed decompilation)</b> <div class="spoiler_text"><pre> <code class="hljs smalltalk"><span class="hljs-type"><span class="hljs-type">Classfile</span></span> /<span class="hljs-type"><span class="hljs-type">E</span></span>:/.../src/main/java/<span class="hljs-type"><span class="hljs-type">Lambda</span></span>.class <span class="hljs-type"><span class="hljs-type">Last</span></span> modified <span class="hljs-number"><span class="hljs-number">17.10</span></span><span class="hljs-number"><span class="hljs-number">.2016</span></span>; size <span class="hljs-number"><span class="hljs-number">1095</span></span> bytes <span class="hljs-type"><span class="hljs-type">MD5</span></span> checksum f09061410dfbe358c50880576557b64e <span class="hljs-type"><span class="hljs-type">Compiled</span></span> from <span class="hljs-comment"><span class="hljs-comment">"Lambda.java"</span></span> public class <span class="hljs-type"><span class="hljs-type">Lambda</span></span> minor version: <span class="hljs-number"><span class="hljs-number">0</span></span> major version: <span class="hljs-number"><span class="hljs-number">52</span></span> flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span>, <span class="hljs-type"><span class="hljs-type">ACC_SUPER</span></span> <span class="hljs-type"><span class="hljs-type">Constant</span></span> pool: #<span class="hljs-number"><span class="hljs-number">1</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">10.</span></span>#<span class="hljs-number"><span class="hljs-number">22</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-type"><span class="hljs-type">InvokeDynamic</span></span> #<span class="hljs-number"><span class="hljs-number">0</span></span>:#<span class="hljs-number"><span class="hljs-number">27</span></span> // #<span class="hljs-number"><span class="hljs-number">0</span></span>:run:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">3</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">28</span></span> // <span class="hljs-type"><span class="hljs-type">Lambda</span></span> #<span class="hljs-number"><span class="hljs-number">4</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">3.</span></span>#<span class="hljs-number"><span class="hljs-number">22</span></span> // <span class="hljs-type"><span class="hljs-type">Lambda</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">5</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">3.</span></span>#<span class="hljs-number"><span class="hljs-number">29</span></span> // <span class="hljs-type"><span class="hljs-type">Lambda</span></span>.getRunnable:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">6</span></span> = <span class="hljs-type"><span class="hljs-type">InterfaceMethodref</span></span> #<span class="hljs-number"><span class="hljs-number">30.</span></span>#<span class="hljs-number"><span class="hljs-number">31</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>.run:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">7</span></span> = <span class="hljs-type"><span class="hljs-type">Fieldref</span></span> #<span class="hljs-number"><span class="hljs-number">32.</span></span>#<span class="hljs-number"><span class="hljs-number">33</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">System</span></span>.out:<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/io/<span class="hljs-type"><span class="hljs-type">PrintStream</span></span>; #<span class="hljs-number"><span class="hljs-number">8</span></span> = <span class="hljs-type"><span class="hljs-type">String</span></span> #<span class="hljs-number"><span class="hljs-number">34</span></span> // <span class="hljs-type"><span class="hljs-type">I</span></span> am a <span class="hljs-type"><span class="hljs-type">Runnable</span></span>! #<span class="hljs-number"><span class="hljs-number">9</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">35.</span></span>#<span class="hljs-number"><span class="hljs-number">36</span></span> // java/io/<span class="hljs-type"><span class="hljs-type">PrintStream</span></span>.println:(<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">10</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">37</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span> #<span class="hljs-number"><span class="hljs-number">11</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> &lt;init&gt; #<span class="hljs-number"><span class="hljs-number">12</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> ()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">13</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span> #<span class="hljs-number"><span class="hljs-number">14</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span> #<span class="hljs-number"><span class="hljs-number">15</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> getRunnable #<span class="hljs-number"><span class="hljs-number">16</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> ()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">17</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> main #<span class="hljs-number"><span class="hljs-number">18</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> ([<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">19</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> lambda<span class="hljs-string"><span class="hljs-string">$g</span></span>etRunnable<span class="hljs-string"><span class="hljs-string">$0</span></span> #<span class="hljs-number"><span class="hljs-number">20</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">SourceFile</span></span> #<span class="hljs-number"><span class="hljs-number">21</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">Lambda</span></span>.java #<span class="hljs-number"><span class="hljs-number">22</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">11</span></span>:#<span class="hljs-number"><span class="hljs-number">12</span></span> // <span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">23</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">BootstrapMethods</span></span> #<span class="hljs-number"><span class="hljs-number">24</span></span> = <span class="hljs-type"><span class="hljs-type">MethodHandle</span></span> #<span class="hljs-number"><span class="hljs-number">6</span></span>:#<span class="hljs-number"><span class="hljs-number">38</span></span> // invokestatic java/lang/invoke/<span class="hljs-type"><span class="hljs-type">LambdaMetafactory</span></span>.metafactory:(<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandle</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;)<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">CallSite</span></span>; #<span class="hljs-number"><span class="hljs-number">25</span></span> = <span class="hljs-type"><span class="hljs-type">MethodType</span></span> #<span class="hljs-number"><span class="hljs-number">12</span></span> // ()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">26</span></span> = <span class="hljs-type"><span class="hljs-type">MethodHandle</span></span> #<span class="hljs-number"><span class="hljs-number">6</span></span>:#<span class="hljs-number"><span class="hljs-number">39</span></span> // invokestatic <span class="hljs-type"><span class="hljs-type">Lambda</span></span>.lambda<span class="hljs-string"><span class="hljs-string">$g</span></span>etRunnable<span class="hljs-string"><span class="hljs-string">$0</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">27</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">40</span></span>:#<span class="hljs-number"><span class="hljs-number">16</span></span> // run:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">28</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">Lambda</span></span> #<span class="hljs-number"><span class="hljs-number">29</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">15</span></span>:#<span class="hljs-number"><span class="hljs-number">16</span></span> // getRunnable:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; #<span class="hljs-number"><span class="hljs-number">30</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">41</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span> #<span class="hljs-number"><span class="hljs-number">31</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">40</span></span>:#<span class="hljs-number"><span class="hljs-number">12</span></span> // run:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">32</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">42</span></span> // java/lang/<span class="hljs-type"><span class="hljs-type">System</span></span> #<span class="hljs-number"><span class="hljs-number">33</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">43</span></span>:#<span class="hljs-number"><span class="hljs-number">44</span></span> // out:<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/io/<span class="hljs-type"><span class="hljs-type">PrintStream</span></span>; #<span class="hljs-number"><span class="hljs-number">34</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">I</span></span> am a <span class="hljs-type"><span class="hljs-type">Runnable</span></span>! #<span class="hljs-number"><span class="hljs-number">35</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">45</span></span> // java/io/<span class="hljs-type"><span class="hljs-type">PrintStream</span></span> #<span class="hljs-number"><span class="hljs-number">36</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">46</span></span>:#<span class="hljs-number"><span class="hljs-number">47</span></span> // println:(<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">37</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span> #<span class="hljs-number"><span class="hljs-number">38</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">48.</span></span>#<span class="hljs-number"><span class="hljs-number">49</span></span> // java/lang/invoke/<span class="hljs-type"><span class="hljs-type">LambdaMetafactory</span></span>.metafactory:(<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandle</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;)<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">CallSite</span></span>; #<span class="hljs-number"><span class="hljs-number">39</span></span> = <span class="hljs-type"><span class="hljs-type">Methodref</span></span> #<span class="hljs-number"><span class="hljs-number">3.</span></span>#<span class="hljs-number"><span class="hljs-number">50</span></span> // <span class="hljs-type"><span class="hljs-type">Lambda</span></span>.lambda<span class="hljs-string"><span class="hljs-string">$g</span></span>etRunnable<span class="hljs-string"><span class="hljs-string">$0</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">40</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> run #<span class="hljs-number"><span class="hljs-number">41</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span> #<span class="hljs-number"><span class="hljs-number">42</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">System</span></span> #<span class="hljs-number"><span class="hljs-number">43</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> out #<span class="hljs-number"><span class="hljs-number">44</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">Ljava</span></span>/io/<span class="hljs-type"><span class="hljs-type">PrintStream</span></span>; #<span class="hljs-number"><span class="hljs-number">45</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/io/<span class="hljs-type"><span class="hljs-type">PrintStream</span></span> #<span class="hljs-number"><span class="hljs-number">46</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> println #<span class="hljs-number"><span class="hljs-number">47</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> (<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">48</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">51</span></span> // java/lang/invoke/<span class="hljs-type"><span class="hljs-type">LambdaMetafactory</span></span> #<span class="hljs-number"><span class="hljs-number">49</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">52</span></span>:#<span class="hljs-number"><span class="hljs-number">56</span></span> // metafactory:(<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandle</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;)<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">CallSite</span></span>; #<span class="hljs-number"><span class="hljs-number">50</span></span> = <span class="hljs-type"><span class="hljs-type">NameAndType</span></span> #<span class="hljs-number"><span class="hljs-number">19</span></span>:#<span class="hljs-number"><span class="hljs-number">12</span></span> // lambda<span class="hljs-string"><span class="hljs-string">$g</span></span>etRunnable<span class="hljs-string"><span class="hljs-string">$0</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">51</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/invoke/<span class="hljs-type"><span class="hljs-type">LambdaMetafactory</span></span> #<span class="hljs-number"><span class="hljs-number">52</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> metafactory #<span class="hljs-number"><span class="hljs-number">53</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">58</span></span> // java/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup #<span class="hljs-number"><span class="hljs-number">54</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">Lookup</span></span> #<span class="hljs-number"><span class="hljs-number">55</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> <span class="hljs-type"><span class="hljs-type">InnerClasses</span></span> #<span class="hljs-number"><span class="hljs-number">56</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> (<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandle</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;)<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">CallSite</span></span>; #<span class="hljs-number"><span class="hljs-number">57</span></span> = <span class="hljs-type"><span class="hljs-type">Class</span></span> #<span class="hljs-number"><span class="hljs-number">59</span></span> // java/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span> #<span class="hljs-number"><span class="hljs-number">58</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup #<span class="hljs-number"><span class="hljs-number">59</span></span> = <span class="hljs-type"><span class="hljs-type">Utf8</span></span> java/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span> { public <span class="hljs-type"><span class="hljs-type">Lambda</span></span>(); descriptor: ()<span class="hljs-type"><span class="hljs-type">V</span></span> flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span>: stack=<span class="hljs-number"><span class="hljs-number">1</span></span>, locals=<span class="hljs-number"><span class="hljs-number">1</span></span>, args_size=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">1</span></span> // <span class="hljs-type"><span class="hljs-type">Method</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Object</span></span>.<span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: return <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span>: line <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> public java.lang.<span class="hljs-type"><span class="hljs-type">Runnable</span></span> getRunnable(); descriptor: ()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span>: stack=<span class="hljs-number"><span class="hljs-number">1</span></span>, locals=<span class="hljs-number"><span class="hljs-number">1</span></span>, args_size=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: invokedynamic #<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> // <span class="hljs-type"><span class="hljs-type">InvokeDynamic</span></span> #<span class="hljs-number"><span class="hljs-number">0</span></span>:run:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span>: areturn <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span>: line <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> public static void main(java.lang.<span class="hljs-type"><span class="hljs-type">String</span></span>[]); descriptor: ([<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;)<span class="hljs-type"><span class="hljs-type">V</span></span> flags: <span class="hljs-type"><span class="hljs-type">ACC_PUBLIC</span></span>, <span class="hljs-type"><span class="hljs-type">ACC_STATIC</span></span> <span class="hljs-type"><span class="hljs-type">Code</span></span>: stack=<span class="hljs-number"><span class="hljs-number">2</span></span>, locals=<span class="hljs-number"><span class="hljs-number">1</span></span>, args_size=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: new #<span class="hljs-number"><span class="hljs-number">3</span></span> // class <span class="hljs-type"><span class="hljs-type">Lambda</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">4</span></span> // <span class="hljs-type"><span class="hljs-type">Method</span></span> <span class="hljs-comment"><span class="hljs-comment">"&lt;init&gt;"</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span> // <span class="hljs-type"><span class="hljs-type">Method</span></span> getRunnable:()<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>; <span class="hljs-number"><span class="hljs-number">10</span></span>: invokeinterface #<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> // <span class="hljs-type"><span class="hljs-type">InterfaceMethod</span></span> java/lang/<span class="hljs-type"><span class="hljs-type">Runnable</span></span>.run:()<span class="hljs-type"><span class="hljs-type">V</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>: return <span class="hljs-type"><span class="hljs-type">LineNumberTable</span></span>: line <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> line <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span> } <span class="hljs-type"><span class="hljs-type">SourceFile</span></span>: <span class="hljs-comment"><span class="hljs-comment">"Lambda.java"</span></span> <span class="hljs-type"><span class="hljs-type">InnerClasses</span></span>: public static final #<span class="hljs-number"><span class="hljs-number">54</span></span>= #<span class="hljs-number"><span class="hljs-number">53</span></span> of #<span class="hljs-number"><span class="hljs-number">57</span></span>; //<span class="hljs-type"><span class="hljs-type">Lookup</span></span>=class java/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup of class java/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span> <span class="hljs-type"><span class="hljs-type">BootstrapMethods</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>: #<span class="hljs-number"><span class="hljs-number">24</span></span> invokestatic java/lang/invoke/<span class="hljs-type"><span class="hljs-type">LambdaMetafactory</span></span>.metafactory:(<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandles</span></span><span class="hljs-string"><span class="hljs-string">$L</span></span>ookup;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/<span class="hljs-type"><span class="hljs-type">String</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodHandle</span></span>;<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">MethodType</span></span>;)<span class="hljs-type"><span class="hljs-type">Ljava</span></span>/lang/invoke/<span class="hljs-type"><span class="hljs-type">CallSite</span></span>; <span class="hljs-type"><span class="hljs-type">Method</span></span> arguments: #<span class="hljs-number"><span class="hljs-number">25</span></span> ()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">26</span></span> invokestatic <span class="hljs-type"><span class="hljs-type">Lambda</span></span>.lambda<span class="hljs-string"><span class="hljs-string">$g</span></span>etRunnable<span class="hljs-string"><span class="hljs-string">$0</span></span>:()<span class="hljs-type"><span class="hljs-type">V</span></span> #<span class="hljs-number"><span class="hljs-number">25</span></span> ()<span class="hljs-type"><span class="hljs-type">V</span></span></code> </pre></div></div><br><h3>  We analyze </h3><br>  Anything caught my eye?  Ta-ta-ta-dam ... <br><br>  <i>Anonymous class:</i> <br><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">5</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">3</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> AnonymousClass<span class="hljs-meta"><span class="hljs-meta">$1</span></span>."&lt;init&gt;":(LAnonymousClass;)V</code> </pre><br>  <i>Lambda:</i> <br><br><pre> <code class="hljs 1c"><span class="hljs-number"><span class="hljs-number">0</span></span>: invokedynamic <span class="hljs-meta"><span class="hljs-meta">#2, 0 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// InvokeDynamic #0:run:()Ljava/lang/Runnable;</span></span></span></span></code> </pre> <br>  It seems an anonymous class captured when creating a <a href="http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html">link</a> to the instance that generates it: <br><br><pre> <code class="hljs pgsql">AnonymousClass<span class="hljs-meta"><span class="hljs-meta">$1</span></span>."&lt;init&gt;":(LAnonymousClass;)V</code> </pre> <br>  and keep it until the omnipotent Garbage Collector ‚Ñ¢ marks it as unattainable and free from this burden.  Although this link is not used inside, it is anonymous greedy. <br><br>  But seriously, there is a potential memory leak if you give a copy of an anonymous class to the outside world.  With lambdas, this will only happen if you explicitly or implicitly refer to <i>this</i> in the body of the anonymous function.  Otherwise, as in this example, the <b>lambda does not hold a reference to the caller</b> . <br><br>  <b>Do it yourself.</b>  I suggest that all readers conduct an experiment and see what will happen in each of the cases, if we add the <i>.toString ()</i> call to the generating instance to the string. <br><br><h3>  How to get up?  He promised to tell you! </h3><br>  The easiest way to run into a potential memory leak is to use non-static external class methods inside the lambda if you really are not interested in its internal state: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LambdaCallsNonStatic</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Runnable </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRunnable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; { nonStaticMethod(); }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nonStaticMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"I am a Runnable!"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LambdaCallsNonStatic().getRunnable().run(); } }</code> </pre><br>  Lambda will receive a link to the caller‚Äôs instance of the class (although it will be created once, but more on that below): <br><br><pre> <code class="hljs 1c"><span class="hljs-number"><span class="hljs-number">1</span></span>: invokedynamic <span class="hljs-meta"><span class="hljs-meta">#2, 0 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// InvokeDynamic #0:run:(LLambdaCallsNonStatic;)...</span></span></span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Decompiling LambdaCallsNonStatic.class</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Compiled <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "LambdaCallsNonStatic.java" <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> LambdaCallsNonStatic { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> LambdaCallsNonStatic(); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">1</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>."&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> java.lang.Runnable getRunnable(); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokedynamic #<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> // InvokeDynamic #<span class="hljs-number"><span class="hljs-number">0</span></span>:run:(LLambdaCallsNonStatic;)Ljava/lang/Runnable; <span class="hljs-number"><span class="hljs-number">6</span></span>: areturn <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> nonStaticMethod(); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: getstatic #<span class="hljs-number"><span class="hljs-number">3</span></span> // Field java/lang/<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>:Ljava/io/PrintStream; <span class="hljs-number"><span class="hljs-number">3</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">4</span></span> // String I am a Runnable! <span class="hljs-number"><span class="hljs-number">5</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/io/PrintStream.println:(Ljava/lang/String;)V <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(java.lang.String[]); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">6</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> LambdaCallsNonStatic <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">7</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> "&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">7</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">8</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> getRunnable:()Ljava/lang/Runnable; <span class="hljs-number"><span class="hljs-number">10</span></span>: invokeinterface #<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> // InterfaceMethod java/lang/Runnable.run:()V <span class="hljs-number"><span class="hljs-number">15</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre></div></div><br>  <b>Solution:</b> declare the method used as static or put it into a separate utility class. <br><br><h3>  And everything? </h3><br>  No, there is one more nice lambdas bun compared to anonymous classes.  If you have ever worked in the dungeons of a blood-entertaining office and do not let God write this: <br><br><pre> <code class="java hljs">Collections.sort(list, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Comparator&lt;Integer&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer o1, Integer o2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> -Integer.compare(o1, o2); } });</code> </pre><br>  That approached you about the wisest timlid and said: <br><br>  <i>You are not economical, <s>Fedor</s> &lt;developer name&gt;, you spend corporate resources.</i>  <i>Come on, we'll fix it up in an adult way.</i> <br><br>  After all, a new copy of the comparator will be created every time when this code fragment is run.  The result was such a footwoman: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CorporateComparators</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Comparator&lt;Integer&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">integerReverseComparator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IntegerReverseComparator.INSTANCE; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> IntegerReverseComparator implements Comparator&lt;Integer&gt; { INSTANCE; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer o1, Integer o2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> -Integer.compare(o1, o2); } } } ... Collections.sort(list, CorporateComparators.integerReverseComparator());</code> </pre> <br>  It has become more convenient, everything in your file now lies and can be reused.  I agree with the latter, but it became more convenient unless you have DDR4 instead of gray matter in your head.  The readability of such a code does not just fall, but flies into the tartare with a supersonic one. <br><br>  With lambdas, you can keep the logic closer to the place of direct use and not pay for it from above: <br><br><pre> <code class="java hljs">Collections.sort(list, (i1, i2) -&gt; -Integer.compare(i1, i2));</code> </pre> <br>  An anonymous function that does not capture values ‚Äã‚Äãfrom an external context will be easy and will only be created once.  Although the specification does not require a specific implementation of the virtual machine to do this ( <a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html">15.27.4. Run-Time Evaluation of Lambda Expressions</a> ), this is exactly what is observed in the Java HotSpot VM. <br><br><h3>  Java version </h3><br>  The experiments were conducted on: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> "1<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0_92</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">Java</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">TM</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">SE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Runtime</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Environment</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">build</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0_92-b14</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">Java</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">HotSpot</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">TM</span></span>) 64<span class="hljs-selector-tag"><span class="hljs-selector-tag">-Bit</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Server</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">VM</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">build</span></span> 25<span class="hljs-selector-class"><span class="hljs-selector-class">.92-b14</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">mixed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mode</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">javac</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0_92</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">javap</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0_92</span></span></code> </pre> <br><h3>  Finally </h3><br>  The article does not pretend to be ultra-strict, academic, and complete, but it seems to me (I‚Äôm so arrogant, I‚Äôll get it in the comments on the first number) to sufficiently reveal two killer features that make you feel even more lambdas.  Criticism in the comments, constructive and not very, categorically welcome. </div><p>Source: <a href="https://habr.com/ru/post/312894/">https://habr.com/ru/post/312894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312884/index.html">A brief history of the gaming industry by platform</a></li>
<li><a href="../312886/index.html">Telegram bots: to help the editor</a></li>
<li><a href="../312888/index.html">IoT market. There are many grades, no consensus</a></li>
<li><a href="../312890/index.html">Kerosene vs. Patriots: How American military programmers learned how to round correctly</a></li>
<li><a href="../312892/index.html">We introduce a full-fledged system of feedback about each other on "Freelance"</a></li>
<li><a href="../312896/index.html">Welcome to Moscow CocoaHeads Meetup October 28</a></li>
<li><a href="../312898/index.html">Thermal Resistance: Theory</a></li>
<li><a href="../312900/index.html">Multiseat on a Debian computer</a></li>
<li><a href="../312902/index.html">Filter characters entered in input</a></li>
<li><a href="../312904/index.html">Perfect marketing on the example of the series ‚ÄúBetter Call Saul‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>