<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SAP HANA Cloud Platform: Download and Store Data</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article, we talked about how to create a test instance of a cloud platform (hereinafter referred to as HCP - HANA Cloud Platform ) and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SAP HANA Cloud Platform: Download and Store Data</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="http://habrahabr.ru/company/sap/blog/256761/">previous article,</a> we talked about how to create a test instance of a cloud platform (hereinafter referred to as HCP - <a href="http://hcp.sap.com/">HANA Cloud Platform</a> ) and how to connect the Eclipse development environment with the cloud using the simplest XS application (XS - eXtended Services) as an example. <br><br>  Now we would like to go further and show how you can load data into the database from an external service.  In this case, some subtleties will be shown when working with the trial cloud related to the requirements of isolating users within a single trial system. <br><a name="habracut"></a><br>  So what we have.  The first is access to our cloud control panel at <a href="https://account.hanatrial.ondemand.com/cockpit">https://account.hanatrial.ondemand.com/cockpit</a> <br><br>  The second is a created instance of the platform on SAP HANA called <b>helloworldtrial</b> . <br><img src="https://habrastorage.org/files/c38/783/38b/c3878338bcfd46a38114ff80476a3f3c.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The third is an installed Eclipse development environment with a plug-in for the SAP HANA Cloud and with a created connection to the helloworldtrial: <br><img src="https://habrastorage.org/files/9cd/36b/c74/9cd36bc7426843cd82974c6a45b14dc1.png" alt="image"><br><br>  What we want to do is create a table in the SAP HANA database and load data from an external source there.  For our purposes, we will store information about the current air temperature in several cities.  For example, we will take data from openweathermap.org. <br><br>  Let's start by creating a new project.  Launch our Eclipse, open the SAP HANA Development perspective ( <i>Window&gt; Open Perspective&gt; Other ...</i> ): <br><img src="https://habrastorage.org/files/2a1/bb9/3c1/2a1bb93c100b4890a461f5c7782e57be.png" alt="image"><br><br>  Create a new project XS application, specifying its name (File&gt; New&gt; Project ...&gt; SAP HANA Cloud): <br><img src="https://habrastorage.org/files/6c0/d14/862/6c0d148626844323be9912310a721228.png" alt="image"><br><br>  Next, we need to perform the standard steps for choosing a workspace and a package.  <u>Attention!</u>  For our example, it is important to choose a package that matches our instance of the cloud system, of the form pXXXXXXXXtrial.helloworldtrial.  Where pXXXXXXXXtrial is the username in the cloud system: <br><img src="https://habrastorage.org/files/152/4af/f9e/1524aff9efb64aeaae67ec9ecc85ffb4.png" alt="image"><br><br>  And we indicate our main script file, which will do all the work - get_weather.xsjs: <br><img src="https://habrastorage.org/getpro/habr/post_images/41e/aa1/c00/41eaa1c008f5f6df0de29fe8f67b47b2.png" alt="image"><br><br>  <b>Package Access Control.</b>  <b>.Xsaccess file</b> <br>  Using the .xsaccess file, we specify the properties of our XS application (for example, the required authorization to execute the script, etc.).  Replace the contents of this file with: <br><pre><code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"exposed"</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"default_file"</span></span> : <span class="hljs-string"><span class="hljs-string">"get_weather.xsjs"</span></span> }</code> </pre> <br>  The <i>exposed</i> property indicates that this XS application can be executed on the server from a URL.  The <i>default_file</i> property specifies the main executable file of the application;  This will allow us to launch it directly from the control panel (cockpit), without appending the file name. <br><br>  Now we activate our application to check that at this stage all the steps have been executed correctly.  To do this, right-click on our project in the Project Explorer tab and select <i>Team&gt; Activate</i> in the context menu. <br><br>  Restart the control panel in the web browser by clicking update (F5);  Otherwise, our XS application does not appear in the list: <br><img src="https://habrastorage.org/files/005/4e2/fd7/0054e2fd778b4feb91b29ca27189a799.png" alt="image"><br><br>  Click on the URL of our XS application: <br><img src="https://habrastorage.org/files/6a6/761/af6/6a6761af61f144d5b3f6d072c4e48fce.png" alt="image"><br><br>  A new window should open with the contents of ‚ÄúWrong content type request use application / json‚Äù.  Having made sure that our stocking is started, we can move on. <br><br>  <b>Creating a table in the database</b> <br>  Create a table in the database, which will contain columns: date and time, name of the settlement and the current air temperature. <br>  There are several ways to create a table in the system - using an interactive designer, SQL script or. Hdbtable file. <br><br>  The fastest way is to run a script by substituting the name of our schema.  Go to the Systems tab and run the SQL console for our cloud: <br><img src="https://habrastorage.org/files/239/db9/f0f/239db9f0f14243dca7d917b8e573e09c.png" alt="image"><br><br>  Run such a script, substituting the name of our <font color="#0a0aa0">NEO_</font> scheme: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">column</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> <span class="hljs-string"><span class="hljs-string">"NEO_&lt;&lt;&lt;&gt;&gt;&gt;"</span></span>.<span class="hljs-string"><span class="hljs-string">"T_WEATHER"</span></span>( <span class="hljs-string"><span class="hljs-string">"ID"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GENERATED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALWAYS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">MINVALUE</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">START</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INCREMENT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-string"><span class="hljs-string">"FORECAST_TMSTMP"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">TIMESTAMP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> , <span class="hljs-string"><span class="hljs-string">"LOCATION"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NVARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">"TEMPERATURE"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">REAL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">"TIMESTMP"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">TIMESTAMP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CURRENT_TIMESTAMP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">"ID"</span></span>));</code> </pre><br>  Note that we are creating a table with column storage.  And also implicitly create a so-called.  sequence, which generates a sequence of integers and, when creating records in a table, stores them in the ID attribute. <br><br>  Updating the <font color="#0a0aa0">NEO_</font> catalog, we will see our table: <br><img src="https://habrastorage.org/files/edf/bf1/8e3/edfbf18e3a934b1782b6e9c45d404ac5.png" alt="image"><br><br>  <b>DB user role.</b>  <b>.Hdbrole file</b> <br>  In the free trial system, the user has a very limited set of rights.  This concerns, in particular, authorization to change objects in the directory and management of user accounts.  Therefore, the trial system has a set of procedures in the ‚ÄúHCP‚Äù scheme that allow the user to manage the rights to the objects created by him. <br><br>  To write and read data from the T_WEATHER table, we need a new role.  Add a file of type .hdbrole to our project (in the main menu <i>File&gt; New&gt; Other ...</i> ): <br><img src="https://habrastorage.org/files/77d/e5a/f76/77de5af76b3e41969166510a4216b84e.png" alt="image"><br><br>  call it weather_access: <br><img src="https://habrastorage.org/files/eda/660/b7e/eda660b7e6e34d19bfb6433d5e236f4e.png" alt="image"><br><br>  Replace the contents of this file with the following fragment, and then activate the file: <br><pre> <code class="javascript hljs">role p&lt;&lt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;&gt;</span></span></span><span class="xml">&gt;&gt;trial.helloworldtrial.TryWeather::weather_access { catalog sql object "NEO_</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;&lt;&lt;&gt;</span></span></span><span class="xml">&gt;&gt;&gt;"."T_WEATHER": SELECT, UPDATE, INSERT; }</span></span></code> </pre><br>  Replace <font color="#0a0aa0">p &lt;&lt;&lt; &gt;&gt;&gt; trial</font> with the name of your user.  Instead of the <font color="#0a0aa0">NEO _ &lt;&lt;&lt; &gt;&gt;&gt;&gt;</font> scheme, you need to insert the name of your scheme, which we saved when creating the table.  And now the magic begins, connected with the fact that our cloud in trial mode creates many users on one system.  And for the separation of access rights for these users are very limited privileges. <br><br>  In order for our system user to get the weather_access role, we must perform a system procedure. <br>  Run the SQL console and execute the following script in it: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">call</span></span> <span class="hljs-string"><span class="hljs-string">"HCP"</span></span>.<span class="hljs-string"><span class="hljs-string">"HCP_GRANT_ROLE_TO_USER"</span></span>(<span class="hljs-string"><span class="hljs-string">'p&lt;&lt;&lt;&gt;&gt;&gt;trial .helloworldtrial.TryWeather::weather_access'</span></span>, <span class="hljs-string"><span class="hljs-string">'p&lt;&lt;&lt;&gt;&gt;&gt;'</span></span>);</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Additional embedded procedures in the trial system</b> <div class="spoiler_text">  I would like to draw attention to the fact that when changing tables, views, procedures in the trial directory of the system, it is necessary to explicitly update the permissions to access these objects.  This is done by calling the procedure: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">call</span></span> <span class="hljs-string"><span class="hljs-string">"HCP"</span></span>.<span class="hljs-string"><span class="hljs-string">"HCP_GRANT_SELECT_ON_ACTIVATED_OBJECTS"</span></span>;</code> </pre><br>  After modifying and activating the .hdbrole file, do the following: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">call</span></span> <span class="hljs-string"><span class="hljs-string">"HCP"</span></span>.<span class="hljs-string"><span class="hljs-string">"HCP_GRANT_ACTIVATED_ROLES"</span></span>;</code> </pre><br></div></div><br>  <b>The main script.</b>  <b>.Xsjs file</b> <br>  So, we have a blank XS script and a table in the database for which we added permission to write and read data.  In this table we will write data about the current weather. <br><div class="spoiler">  <b class="spoiler_title">Where to get weather data</b> <div class="spoiler_text">  To get the temperature, we use the API from openweathermap.org.  In more detail this service was described <a href="http://habrahabr.ru/post/164045/">in article on Habr√©</a> . <br>  An example URL to get current weather data in Moscow: <a href="http://api.openweathermap.org/data/2.5/weather%3Fq%3DMoscow,ru%26units%3Dmetric">http://api.openweathermap.org/data/2.5/weather?q=Moscow,ru&amp;units=metric</a> . <br>  The obtained data in the form of a JSON object contains, among other things, information about air temperature in the unix timestamp format.  Tag "dt": <br><pre> <code class="javascript hljs">{ ... <span class="hljs-string"><span class="hljs-string">"dt "</span></span> : <span class="hljs-number"><span class="hljs-number">1430318471</span></span>, <span class="hljs-string"><span class="hljs-string">"id "</span></span> : <span class="hljs-number"><span class="hljs-number">524901</span></span>, <span class="hljs-string"><span class="hljs-string">"name "</span></span> : <span class="hljs-string"><span class="hljs-string">"Moscow "</span></span>, <span class="hljs-string"><span class="hljs-string">"cod "</span></span> : <span class="hljs-number"><span class="hljs-number">200</span></span> }</code> </pre><br></div></div><br>  We will retrieve the weather data and write it in a table. <br><div class="spoiler">  <b class="spoiler_title">Script source code</b> <div class="spoiler_text">  <u>Important!</u>  Replace the values ‚Äã‚Äãof the constants in the first two lines with your login (ends with -trial) and the schema name of the database <font color="#0a0aa0">NEO_</font> : <br><img src="https://habrastorage.org/files/c57/b18/469/c57b1846916241ad9964e443d32803f4.png" alt="image"><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> CONST_ROOT_PACKAGE = <span class="hljs-string"><span class="hljs-string">"&lt;&lt;&lt;pXXXXXtrial&gt;&gt;&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> CONST_NEO_SCHEMA = <span class="hljs-string"><span class="hljs-string">"&lt;&lt;&lt;NEO_XXXXXXXXXXXXXXXX&gt;&gt;&gt;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentWeather</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">city_name</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> destination_package = <span class="hljs-string"><span class="hljs-string">"helloworldtrial.TryWeather"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> destination_name = <span class="hljs-string"><span class="hljs-string">"o_weather"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> destPackagePath = CONST_ROOT_PACKAGE + <span class="hljs-string"><span class="hljs-string">"."</span></span> + destination_package; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dest = $.net.http.readDestination(destPackagePath, destination_name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> client = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> $.net.http.Client(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> req = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> $.web.WebRequest($.net.http.GET, <span class="hljs-string"><span class="hljs-string">"?q="</span></span> + city_name + <span class="hljs-string"><span class="hljs-string">"&amp;units=metric"</span></span>); client.request(req, dest); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> response = client.getResponse(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> weather_data = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(response.body.asString(), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key, value</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (key === <span class="hljs-string"><span class="hljs-string">"dt"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(value * <span class="hljs-number"><span class="hljs-number">1000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ weather_data.dt, city_name, weather_data.main.temp ]; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">storeData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data_receiving_time, city, temp</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> conn = $.db.getConnection(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stmt = conn .prepareStatement(<span class="hljs-string"><span class="hljs-string">"INSERT INTO \""</span></span> + CONST_NEO_SCHEMA + <span class="hljs-string"><span class="hljs-string">"\".T_WEATHER (FORECAST_TMSTMP,LOCATION,TEMPERATURE) VALUES (?,?,?)"</span></span>); stmt.setTimestamp(<span class="hljs-number"><span class="hljs-number">1</span></span>, data_receiving_time);<span class="hljs-comment"><span class="hljs-comment">//      OpenWeatherMap stmt.setString(2, city); stmt.setFloat(3, temp); var rs = stmt.executeQuery(); rs.close(); stmt.close(); conn.commit(); conn.close(); } function processRequest() { var cityNames = [ "Moscow,ru", "Saint Petersburg,ru", "Novosibirsk,ru", "Volgograd,ru", "Krasnoyarsk,ru" ]; var body = ""; var cityName, i; var dt; var city; var temp; var out_vals; try { for (i = 0; i &lt; cityNames.length; i++) { cityName = cityNames[i]; out_vals = getCurrentWeather(cityName); dt = out_vals[0]; city = out_vals[1]; temp = out_vals[2]; storeData(dt, city, temp); body += " .\n: " + dt + "\n: " + city + "\n: " + temp + " C\n\n"; } $.response.setBody(body); $.response.contentType = "text/plain"; $.response.status = $.net.http.OK; } catch (e) { $.response.contentType = "text/plain"; $.response.status = $.net.http.INTERNAL_SERVER_ERROR; $.response.setBody(e.toString()); } } processRequest();</span></span></code> </pre><br></div></div><br>  This code uses the so-called.  <i>destination</i> to call external API. <br>  And access to the database from Javascript is carried out through the connection object in the $ .db namespace: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> conn = $.db.getConnection(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stmt = conn.prepareStatement(<span class="hljs-string"><span class="hljs-string">"INSERT INTO &lt;&lt;table&gt;&gt; (FORECAST_TMSTMP,LOCATION,TEMPERATURE) VALUES (?,?,?)"</span></span>);</code> </pre><br><br>  <b>Access to external URL.</b>  <b>.Xshttpdest file</b> <br>  Add a new object of type .xshttpdest with the name o_weather to our project: <br><img src="https://habrastorage.org/files/6f2/783/0a9/6f27830a94604aafb69acf568cf0b914.png" alt="image"><br><br>  And replace the contents of this file with: <br><pre> <code class="javascript hljs">host = <span class="hljs-string"><span class="hljs-string">"api.openweathermap.org"</span></span>; port = <span class="hljs-number"><span class="hljs-number">80</span></span>; description = <span class="hljs-string"><span class="hljs-string">"current weather"</span></span>; useSSL = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; pathPrefix = <span class="hljs-string"><span class="hljs-string">"/data/2.5/weather"</span></span>; authType = none; useProxy = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; proxyHost = <span class="hljs-string"><span class="hljs-string">"proxy-trial"</span></span>; proxyPort = <span class="hljs-number"><span class="hljs-number">8080</span></span>; timeout = <span class="hljs-number"><span class="hljs-number">5000</span></span>; <span class="hljs-comment"><span class="hljs-comment">// in milliseconds</span></span></code> </pre><br>  Save and activate this object. <br><br>  Now in the HCP control panel on the tab with XS applications, we will see a new element in the Destinations panel: <br><img src="https://habrastorage.org/files/e61/a02/51a/e61a0251a8604e8293b95e48d9149c6f.png" alt="image"><br><br>  Clicking on the URL of our application, run the script and get approximately the result on the screen: <br><img src="https://habrastorage.org/files/72a/401/bd2/72a401bd2e1f4cc9a4eba70a13e680a1.png" alt="image"><br><br>  Now in Eclipse, check that the data has been saved in the table.  To do this, right-click on the T_WEATHER table and select Open Data Preview: <br><img src="https://habrastorage.org/files/37e/02b/b9b/37e02bb9b79242c0b0eba7c6aa5efaa7.png" alt="image"><br><br>  And make sure that a new record in the database has been created: <br><img src="https://habrastorage.org/files/bcd/9f3/64b/bcd9f364b1dc4f4ea4ee2979e35d44f8.png" alt="image"><br><br>  <b>Total</b> <br>  So, in this article, we created an XS application that can receive data from an external source (in our case, a web service) and store it in a table in the HANA database.  In addition, we created two special objects: the definition of roles (weather_access.hdbrole) and the definition of a channel for accessing an external web service (o_weather.xshttpdest).  They also called stored procedures in order to give permissions to access the database table in the trial system. </div><p>Source: <a href="https://habr.com/ru/post/257761/">https://habr.com/ru/post/257761/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257747/index.html">Super-fast start with Arduino: you take and do</a></li>
<li><a href="../257749/index.html">PhoneGap for iOS and Android application development infrastructure</a></li>
<li><a href="../257751/index.html">Is it possible to combine unit tests and memory profiling?</a></li>
<li><a href="../257753/index.html">Forward to victory: PHDays V competition program published</a></li>
<li><a href="../257757/index.html">Solving the picture from the Intel company Twitter</a></li>
<li><a href="../257763/index.html">Generating a QR code in the format of a machine embroidery file Tajima DST</a></li>
<li><a href="../257767/index.html">Referrer spam in google analytics and how to deal with it</a></li>
<li><a href="../257769/index.html">Online voting is one step closer thanks to a breakthrough in security technology</a></li>
<li><a href="../257771/index.html">Airbnb-flavored Aviasales</a></li>
<li><a href="../257775/index.html">Abstractions without overhead: types in Rust</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>