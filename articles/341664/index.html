<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Crash browser warnings with pseudo-password fields</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It seems there is no limit to human ingenuity if you need to get around some kind of restriction. For example, you need to connect the device to an ou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Crash browser warnings with pseudo-password fields</h1><div class="post__text post__text-html js-mediator-article">  It seems there is no limit to human ingenuity if you need to get around some kind of restriction.  For example, you need to connect the device to an outlet in the center of an inflatable pool - nothing happens, right?  Wrong! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/271/9a0/ae0/2719a0ae0eca8a5cdbf723a57969f90d.jpg"></div><br>  Or put out the fire on the other side of the railway tracks.  And it is <i>very</i> necessary to stretch a hydrant there, but you can not stop the train - what are the options?  None?  Wrong again! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1d4/06a/c20/1d406ac205f0c6feedbec1a6a6f3d8be.jpg"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Noticed the trend?  Let's extend it to the digital world and talk a bit about HTTPS. <br><a name="habracut"></a><br>  You must use HTTPS.  No, really, if you don‚Äôt wrap everything up with HTTPS, you‚Äôre doing something wrong.  Browser developers are aware of this and are pressing naughty sites to their nails.  The pressure especially increased in January, when <a href="https-adoption-has-reached-the-tipping-point/">Chrome and Firefox began to issue warnings</a> at the same time <a href="https-adoption-has-reached-the-tipping-point/">, if the authorization form is transmitted over an insecure channel</a> .  Not everyone was happy about this, because ... damn, HTTPS is difficult, right?  Not so, but <a href="https/">this did not stop the company Oil and Gas International from registering a bug report in Mozilla</a> : <br><br><blockquote>  ‚ÄúYour message about the unsafe transfer of a password and / or authorization automatically appears during authorization on our website Oil and Gas International - it is not needed and placed there without our permission.  Please remove it immediately.  We have our own security system, and it has never been hacked in more than 15 years.  Your message is disturbing to our subscribers and is detrimental to our business. ‚Äù </blockquote><br>  It's pretty funny, because ‚Äúto alarm subscribers and cause damage to business‚Äù is exactly what browser developers wanted!  This is such a means of action to force organizations to protect their sites when simple common sense does not affect them.  (By the way, I think that their 15-year period without hacking was still interrupted when they reported this ‚Äúbug‚Äù and immediately underwent free pentest). <br><br>  What to do?  Well, it is clear that if such warnings interfere with your business, then you need to get rid of them!  I'm not joking, some people actually did this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d65/2b6/480/d652b648006293ed9ae2d90e0ca76f8e.jpg"><br><br>  In fact, I only found out about this yesterday, when one person described a conversation with a representative of the company ShopCambridge.ca: <br><br><blockquote>  ‚ÄúI spoke with the owner about using SSL before I signed up for their membership, but the platform developer told her (this is a franchisor‚Äôs system called ShopCity.com) that SSL more likely helps Google to monopolize the visibility of the content, rather than providing security.‚Äù </blockquote><br>  Back to ShopCity.com a little later, and now let's try to understand their logic.  As you know, security warnings in the browser appear only if the input type attribute is set to "password".  If so, then the idea arises - to create what looks like a form for entering a password, but in fact it is not: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"pw"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Password"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"pw"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxlength</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textbox"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width:230px;margin-bottom:5px;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript:this.placeholder='';"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textbox"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  It only says "Password", and in fact the "textbox" attribute is set there.  There is a single CSS class for some styling, but if you enter the cursor in the field, magic happens: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> jQuery(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">).on(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'click'</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#pw'</span></span></span><span class="javascript">, </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ jQuery(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">).addClass(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'text-security'</span></span></span><span class="javascript">); }) </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  And here we have a completely new class in the field.  And of course, the onclick event in the input field sets the placeholder text as an empty string.  So what makes this new class?  It just changes the font: <br><br><pre> <code class="html hljs xml">.text-security { font-family: 'text-security-disc'; }</code> </pre> <br>  And as you might have guessed, this ‚Äúfont‚Äù is nothing but the only symbol of the circle that you usually see when you enter the password in the correct password form.  Everything should work in this order, because otherwise the placeholder does not show the inscription "Password", and you just see 8 circles for letters.  And if everything is connected together, then the <i>appearance of the</i> password field is created, but since this is <i>not a</i> password field, then there are no browser warnings!  It's like magic!  More precisely, this is a pseudo-password field for cheating users so that they do not see the browser warning. <br><br>  Both the script for adding a class and CSS for a font are embedded side by side into the page source, like some kind of an afterthought: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54d/501/357/54d501357382db601e8b055eaa47450a.png"><br><br>  In general, this JS and CSS block is there twice, once on line 1111, and another time on line 1156. The most likely explanation that comes to my mind is that somewhere during this year, when security warnings started appearing at all unprotected sites, somewhere made some enterprising developer: "I know how to fix it!".  O, and by the way, the <a href="https://github.com/noppa/text-security/tree/master/dist">font used was</a> created at least two and a half years ago, which was much earlier than the security warnings appeared in browsers that this ‚Äúpatch‚Äù had to fix. <br><br>  This is really ridiculous and could not be a coincidence.  I mean, there were no other design decisions, after which a hack appeared as a by-product with the concealment of security warnings in browsers.  It was a deliberate attempt to hide from the screen information that is valuable from a security point of view - it was made specifically to protect users.  Fortunately, such nonsense no longer works in Chrome 62 and, as I wrote in the recent article <a href="https/">Happy Path to HTTPS</a> , this behavior will gradually become available to all users: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b86/da0/718/b86da07187e9c52851eda78656966246.png"><br><br>  Ideally, the Firefox browser will also duplicate this patch, and <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1413344">Scott Helme has already registered a bug in Mozilla about the dubious behavior of ShopCambridge.ca</a> .  But it is clear that the crux of the problem <a href="http://www.shopcity.com/">lies</a> in the fundamental lack of understanding of technology by developers of the franchisor <a href="http://www.shopcity.com/">ShopCity.com</a> .  If you remember, I mentioned them in the first message I received from one reader, and you can see the same hack on other sites of their platform, such as <a href="http://www.shopmidland.com/">ShopMidland.com</a> .  When you try to download any of the unsafe sites on HTTPS, it issues an invalid certificate, in the case for ShopCity.com this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ab/88d/b95/1ab88db95117598f38b85b2fe5ad5b24.png"><br><br>  Although it is not for ShopCity.com, but for Secure.ShopCity.com, so if you try to download <a href="https://www.shopcity.com/">https://www.shopcity.com</a> , you will get another security exception, because, of course, the certificate is invalid!  So I tried to download <a href="https://secure.shopcity.com/">https://secure.shopcity.com</a> instead, but here the certificate also (a little) does not work: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e7a/3fc/fa5/e7a3fcfa59b699cf745b988983c6d6be.png"><br><br>  It seems that they simply do not care about the secure delivery of content, which returns us to the previous comment: "SSL rather helps Google to monopolize the visibility of the content, rather than providing security."  I have heard this before from a person who can only be called an anti-vaccination agent in the technological world, he releases <a href="https/">comments like these</a> : <br><br><blockquote>  Google is just evil because it is a giant.  He went to f ** c. </blockquote><br>  He explained that because of a bad code on the backend, the site can be hacked even with SSL, but the <i>green lock remains</i> misinforming users, so HTTPS is useless.  If you search for the <a href="https://www.troyhunt.com/tag/ssl/">SSL tag</a> in my blog, you can find surprisingly many similar statements that SSL is just a gangster protection from Google. <br><br>  I actually <a href="https://twitter.com/troyhunt/status/925562274063851521">contacted ShopCity.com and asked why they were behaving in this way</a> , but at the time of publication I did not get an answer. <br><br>  So what do these guys do?  In fact, the answer is very simple: <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); width: 500px; margin: 10px auto; max-width: 100%; min-width: 220px;" data-tweet-id="925486730047774720"></twitter-widget><blockquote class="twitter-tweet" align="center" data-twitter-extracted-i1552470677324539086="true"><p lang="en" dir="ltr">  Just use HTTPS, for fuck's sake. </p>  - …π«ùq«ù ç uƒ± á…π…ê…Ø (@web_martin) <a href="https://twitter.com/web_martin/status/925486730047774720%3Fref_src%3Dtwsrc%255Etfw">October 31, 2017</a> </blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  For those who want to switch to HTTPS, see the 6-step guide <a href="https/">"Happy Path" to HTTPS</a> , which I have already mentioned.  Now it is easier than ever and you don‚Äôt even need to fool your users! </div><p>Source: <a href="https://habr.com/ru/post/341664/">https://habr.com/ru/post/341664/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341652/index.html">From user to CAD developers</a></li>
<li><a href="../341654/index.html">The cat died, the tail peeled off</a></li>
<li><a href="../341656/index.html">We invite to the conference FPConf 2017</a></li>
<li><a href="../341660/index.html">Streaming and analyzing Java application logs in MS Azure using Log4j and Stream Analytics</a></li>
<li><a href="../341662/index.html">Report - overview of the capabilities and architecture of CppComet comets</a></li>
<li><a href="../341666/index.html">Joker 2017 conference: amazing stories</a></li>
<li><a href="../341668/index.html">R, Asterisk and wardrobe</a></li>
<li><a href="../341670/index.html">Let's try to evaluate Kubernetes</a></li>
<li><a href="../341672/index.html">Do you have a student syndrome?</a></li>
<li><a href="../341676/index.html">No, I do not have third-party projects to show you</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>