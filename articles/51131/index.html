<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How can I check the values ‚Äã‚Äãentered by the user</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In any software products, whether it is a windows-application or a web-site, information from users is often obtained using data entry forms. 

 Of co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How can I check the values ‚Äã‚Äãentered by the user</h1><div class="post__text post__text-html js-mediator-article">  In any software products, whether it is a windows-application or a web-site, information from users is often obtained using data entry forms. <br><br>  Of course, one cannot be absolutely sure that the user will enter exactly what is needed, so all data must be carefully checked. <br><br>  As a rule, the algorithm for checking this data is the same: ‚ÄúIf the value of the field satisfies the requirement, then check the following requirement, otherwise output an error message.  Go to check the value of the next field ". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In practice, this results in a rather long ‚Äúif-else‚Äù sequence.  Personally, I didn‚Äôt like it terribly, because it‚Äôs difficult at first glance to determine which fields are checked as how and which messages are issued in case of errors.  But there may be ten fields in the form, then the verification code is generally delayed.  In general, I thought about how to minimize the amount of work and this is what came of it. <br><a name="habracut"></a><br>  I presented the test as converting a value of one type to a value of another type (for example, checking that a chilo field is entered is a conversion of a string to a number).  A validation is a function that has the signature of the System.Converter &lt;T, U&gt; delegate. <br><br>  To check the value, put the wrapper in the class: <br><br><blockquote><code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> ValidationStep&lt;T&gt; <br> { <br> <font color="#0000ff">public</font> T Value { <font color="#0000ff">get</font> ; <font color="#0000ff">set</font> ; } <br> }</font></code> </blockquote> <br><br>  The essence of the verification lies in the sequential invocation of extension methods for objects of the ValidationStep &lt;T&gt; class, which again return an object of the ValidationStep &lt;T&gt; class.  This allows you to create chains of checks.  Here is an example of such extension methods: <br><br><blockquote> <code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">class</font> ValidationExtensions <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> ValidationStep&lt;T&gt; Validate&lt;T&gt;( <font color="#0000ff">this</font> T <font color="#0000ff">value</font> ) <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> ValidationStep&lt;T&gt; { Value = <font color="#0000ff">value</font> }; <br> } <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> ValidationStep&lt;T&gt; Validate&lt;T&gt;( <font color="#0000ff">this</font> ValidationStep&lt;T&gt; step, <br> Predicate&lt;T&gt; predicate, <font color="#0000ff">string</font> message) <br> { <br> <font color="#0000ff">if</font> (predicate(step.Value)) <font color="#0000ff">return</font> step; <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ValidationException(message); <br> } <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> ValidationStep&lt;U&gt; Convert&lt;T, U&gt;( <font color="#0000ff">this</font> ValidationStep&lt;T&gt; step, <br> Converter&lt;T, U&gt; converter, <font color="#0000ff">string</font> message) <br> { <br> <font color="#0000ff">try</font> { <font color="#0000ff">return</font> converter(step.Value).Validate(); } <br> <font color="#0000ff">catch</font> { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ValidationException(message); } <br> } <br> }</font></code> </blockquote> <br><br>  The first method is used to check objects of any type, the second method checks for compliance with the predicate, and the third for the possibility of converting values ‚Äã‚Äãfrom one type to another.  You can also write any other checks, for example, if the integer corresponds to a range.  The main thing is that in case of unsuccessful validation, a ValidationException should be thrown that contains the message with the error text. <br><br>  To perform the check itself, you can use the following class, which will deal with the interception of exceptions: <br><br><blockquote> <code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">class</font> Validation <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">bool</font> Validate&lt;T, U&gt;(T <font color="#0000ff">value</font> , Converter&lt;T, U&gt; validator, <br> Action&lt;U&gt; onSuccess, Action&lt;ValidationException&gt; onFailure) <br> { <br> <font color="#0000ff">try</font> <br> { <br> <font color="#0000ff">var</font> result = validator( <font color="#0000ff">value</font> ); <br> onSuccess(result); <br> <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; <br> } <br> <font color="#0000ff">catch</font> (ValidationException e) <br> { <br> onFailure(e); <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> } <br> } <br> }</font></code> </blockquote> <br><br>  And now about how to use it.  Suppose we need to check the text field (tb1) and make sure that an integer is entered into it in the range from 0 to 10. You can do this by: <br><br><blockquote> <code><font color="black">Validation.Validate( <br> tb1.Text, value =&gt; value.Validate() <br> .Validate(x =&gt; x.Length &gt; 0, <font color="#A31515">" -"</font> ) <br> . <font color="#2B91AF">Convert</font> (x =&gt; <font color="#2B91AF">Convert</font> .ToInt32(x), <font color="#A31515">"     "</font> ) <br> .Validate(x =&gt; x &gt;= 0, <font color="#A31515">"     "</font> ) <br> .Validate(x =&gt; x &lt;= 10, <font color="#A31515">"     "</font> ), <br> v =&gt; MessageBox.Show( <font color="#A31515">"  : "</font> + v.Value), <br> e =&gt; MessageBox.Show(e.Message));</font></code> </blockquote> <br><br>  Considering that there can be more checks, and the number of fields in the form, as a rule, is more than one, this way of checking can be very convenient. <br><br>  Well, actually, that's all: o) <br></div><p>Source: <a href="https://habr.com/ru/post/51131/">https://habr.com/ru/post/51131/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../51122/index.html">Server history</a></li>
<li><a href="../51123/index.html">More than just an encyclopedia. Using Wikipedia as a dictionary</a></li>
<li><a href="../51125/index.html">Import this - Zen of Python</a></li>
<li><a href="../51129/index.html">Formant group travel along the vocal tract</a></li>
<li><a href="../51130/index.html">Two tools for creating fonts.</a></li>
<li><a href="../51133/index.html">Blackberry + Optimus Maximus phone concept</a></li>
<li><a href="../51134/index.html">Inventing complicated passwords is easy</a></li>
<li><a href="../51136/index.html">Indian miracle for $ 10 was not a laptop!</a></li>
<li><a href="../51138/index.html">Today is Facebook's birthday</a></li>
<li><a href="../51139/index.html">Cisco: Package Processing "In Complex Configurations"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>