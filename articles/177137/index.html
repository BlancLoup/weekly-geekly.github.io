<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cobalt Qube 2 - rare server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 
 I got into the hands of another ancient piece of iron (and maybe not very ancient - only 13 years have passed since its birth), and I woul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cobalt Qube 2 - rare server</h1><div class="post__text post__text-html js-mediator-article"> Good day! <br>  I got into the hands of another ancient piece of iron (and maybe not very ancient - only 13 years have passed since its birth), and I would like to tell about it to the Habrasoobshchestvo. <br><br>  Meet the Cobalt Qube 2. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/fc3/d02/e29/fc3d02e290030433fb0eb6c0da00703e.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Cobalt Qube 2 is a server manufactured by Cobalt Networks Inc.  (subsequently purchased by Sun Microsystems).  It received its name for the cobalt-blue color of the hull and its cubic shape.  In the not very distant two thousand year, this kid (his height does not exceed 20 cm) successfully performed the functions of a mail and file server, a web server and a server of discussion groups, and could also index and archive documents located on his hard disk.  And, as you have already guessed, a modified Red Hat Linux OS was installed on the Cobalt Qube 2 server.  And to manage and configure used a fairly convenient and intuitive web interface. <br><br>  The price of the Cobalt Qube 2 server at the start of sales was $ 2,500. <br><a name="habracut"></a><br>  <b>Cobalt Qube 2 Server Specification:</b> <br><br>  64Bit MIPS RISC CPU QED RM5231-250Q (250MHz) processor <br>  Chipset: Galileo GT-64111 <br>  PCI-ISA Bridge / ATA Controller: Via VT821C586 (Apollo VP) <br>  The amount of RAM 1x16MB RAM (EDO 3.3V, SIMM-Modul 72 Pin) <br>  Maximum memory capacity: 256MB (2x128 SIMM) <br>  Ultra-ATA 10.2GB Hard Drive (Seagate ST310212A) <br>  Maximum hard disk size (BIOS limit): 30GB <br>  2 network interfaces DECchip DC21142 10 / 100baseTX-FDX <br>  Control panel with LCD display <br>  1 high speed serial port (SubD9) <br>  1 PCI slot <br>  External power supply 12V, 3A <br>  Dimensions: 18.4 cm x 18.4 cm x 19.7 cm <br>  Weight: 2.8kg <br>  Power supply: 100-240V, 50 / 60Hz <br>  Power Consumption: 25W <br><br>  <b>Appearance.</b> <br><br>  The Cobalt Qube 2 server case is made of cobalt blue plastic.  The case dimensions are 18.4 cm X 18.4 cm X 19.7 cm, and its weight is 2.8 kg. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/276/ca0/938/276ca093810e6a2c9e723183f04c662b.jpg" alt="image"><br>  On the front side of the case there is a power indicator light, which is lit in a pleasant green color. <br>  The left and right wall of the case is not remarkable, but on the back wall are all the controls and interfaces. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/5fa/e66/c55/5fae66c552d2990647868808a5b702d7.jpg" alt="image"><br><br>  To the right of the PCI slot (in which I installed the audio card) there is a console connector, two network interfaces (Primary and Secondary) and a power supply connector.  In the center is the LCD display and control buttons.  The power button is located next door.  And above the console port there is a small hole, where another button is hidden - the service button.  With it, you can enable or disable the console, as well as reset the password.  The fan located above does not need to be introduced. <br><br>  <b>Interior view.</b> <br><br>  To look under the hood of the Cobalt Qube 2 server, you need to unscrew the four screws on the back of the case. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/c9f/95e/fee/c9f95efee5fd24717165f3c8d2d1f1f6.jpg" alt="image"><br>  Carefully removing the plastic, we see another cube, this time an iron one.  Two more screws are located on the bottom of the case - unscrew them and remove the plastic bottom. <br><br>  In order to remove the metal casing, it is necessary to unscrew two more screws on the left and right wall. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/0a6/954/68d/0a695468d3709a5942303fee46b40716.jpg" alt="image"><br>  So, to our look the inner world of the Cobalt Qube 2 server appeared. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e45/4e4/8e0/e454e48e0833e8d3d6345ee1d51dfcec.jpg" alt="image"><br>  Inside, everything is neat and beautiful. <br><br>  The hard drive is attached to one of the walls with four screws. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/2de/a28/f1c/2dea28f1c824845d379b9defce3acf36.jpg" alt="image"><br>  They also have to unscrew in order to change the hard drive to a more capacious.  By the way, in my copy of the Cobalt Qube 2, instead of the complete HDD for 10GB, a hard disk with a capacity of only 4GB was installed.  Apparently, the previous owner of the server had a penchant for minimalism. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/2c7/c10/d6d/2c7c10d6d319a39d1b9b41eef219e313.jpg" alt="image"><br>  To replace the RAM, you must remove the daughter board, unscrewing one screw and removing it from the slot. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d1b/3ee/59f/d1b3ee59fcb93a4c361b560b80dc2676.jpg" alt="image"><br>  And this is what the main board looks like. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d03/a08/f11/d03a08f115b8511934abeafc98d57c68.jpg" alt="image"><br>  Now you can replace the battery. <br><br>  In older versions of the BIOS, there was a limit on the maximum hard disk capacity, which was only 30GB.  However, the latest BIOS firmware supports larger disks.  Some Cobalt Qube 2 owners successfully installed a 120GB hard drive, but I only had 80GB HDD at my disposal, which later took its place inside the server. <br><br>  With RAM, everything turned out to be much more complicated.  Initially, the Cobalt Qube 2 server had 16MB SIMM 72 pin in the first slot.  In the second (free) slot, the strip chosen at random was inserted, after which the server began to feel bad.  As it turned out, if you install several memory bars of different sizes, the largest of them must be installed in the first slot. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c9d/a15/82b/c9da1582bcc27a328473e2a7076376ac.jpg" alt="image"><br><br>  It is noteworthy that there are only two memory slots, and the system during the passage of POST reports the presence of four memory banks.  To see the server boot process, you need to connect to its console with a null modem cable, specifying the following connection parameters in the terminal: speed 115200 bps, 8 data bits, 1 stop bit, without parity. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e3a/3a5/963/e3a3a5963f9dca58951a6c7b4467ecd2.jpg" alt="image"><br><br>  The maximum amount of Cobalt Qube 2 RAM can be 256MB (two SIMM bars of 128MB each), but I did not manage to find a RAM of this size.  Two 64MB SIMM bars were purchased, and the total memory capacity was 128MB, which, in general, is not bad either. <br><br>  Now you can return to Cobalt Qube 2 a native hard disk with the operating system Red Hat Linux, and get acquainted with its web interface. <br><br>  <b>Web interface.</b> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1aa/9e7/969/1aa9e7969a98014b69ca5e4ea1dd64e6.jpg" alt="image"><br><br>  To configure and manage the Cobalt Qube 2 server, a web interface is used, which can be accessed by IP address or server name on the network.  After passing the authorization, we will get to the so-called Public Site, where you can view a list of users and groups, use the search for documents stored on the server and edit the user profile. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/78b/c60/16c/78bc6016ca9302e2acd10d127f77c8ec.jpg" alt="image"><br>  The Programs menu displays a list of user-accessible programs installed on the server. <br><br>  In order to change the settings or add a user, you must go to the Administrator Site section. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/647/ce7/08e/647ce708eaf79f147de8f16bddc5a4f1.jpg" alt="image"><br>  The administrator can create and delete users and groups, as well as create a mailing list. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/489/309/e39/489309e392bbee294994168dbab3a8a1.jpg" alt="image"><br>  Network interface configuration is available in the Network section. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/53a/312/c07/53a312c07fbf5de0421cb7699afacea2.jpg" alt="image"><br>  In the Control Panel section, you can configure installed services and services. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7a4/599/8c9/7a45998c972cf69634dfc79a65c08872.jpg" alt="image"><br>  The Maintenance section provides data backup, program installation, and server reboot and shutdown functions. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/9c5/c8d/6ac/9c5c8d6ac44a0b7176d64e26aa802755.jpg" alt="image"><br>  In the System Status section you can find information about the memory in use, free space on the hard disk, processor utilization and network status. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8a7/c95/f45/8a7c95f450a102a4c913562852a36360.jpg" alt="image"><br>  Section Service Status allows you to monitor the status of running services and services. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/24e/5b7/eca/24e5b7eca37131cf2a3e2d4661ecd162.jpg" alt="image"><br>  And the oval icon with the letter C displays server configuration information. <br><br>  <b>Installing Debian.</b> <br><br>  The functionality of the Cobalt Qube 2 server is pleasantly striking.  The Cobalt Cube can be turned into a NAS for storing music, or into a small file dump, or into a web server for the homepage of the name of a loved one ... <br><br>  Stop!  And how is he doing with security from hacker attacks?  No way!  Support for this product has long been discontinued, so the software installed in the Cobalt Qube 2 is outdated and is replete with security holes. <br>  The only correct solution to this problem is to install some fresh * nix or * bsd distribution.  Because of the habit, my choice fell on Debian, even though the installation of NetBSD on Cobalt Qube 2 is much easier. <br><br>  So, let's proceed to the installation. <br><br>  First of all, you need to make sure that the Cobalt Qube 2 has enough RAM to install Debian OS - 48MB or more.  Internet access is also required. <br><br>  Since the Cobalt Qube 2 does not have a CD-reading device, the server will be loaded and the OS installed over the network.  To do this, we need a computer (hereinafter - a server) on which you need to install the NFS and DHCP services.  In my case, the server role will be performed by a laptop with Debian 6.0.7 on board. <br><br>  Install the necessary packages on the server: <br><br> <code>apt-get install nfs-kernel-server</code> <br> <code>apt-get install isc-dhcp-server</code> <br> <br>  Open the file <code>/etc/exports</code> and append a line to it <br><br> <code>/nfsroot 192.168.1.0/255.255.255.0(ro,fsid=0,sync,no_subtree_check)</code> <br> <br>  Naturally, instead of the value 192.168.1.0, your subnet address must be specified. <br>  Next, set up a DHCP server.  Open the file <code>/etc/dhcp/dhcpd.conf</code> and add something similar to these lines to it: <br><br> <code>option domain-name-servers 192.168.1.1;</code> <br> <code>subnet 192.168.1.0 netmask 255.255.255.0 {</code> <br> <code>range 192.168.1.10 192.168.1.100;</code> <br> <code>}</code> <br> <code>host cobalt {</code> <br> <code>hardware ethernet 00:10:e0:0:be:5e;</code> <br> <code>fixed-address 192.168.1.67;</code> <br> <code>option routers 192.168.1.1;</code> <br> <code>next-server 192.168.1.1;</code> <br> <code>option root-path "/nfsroot";</code> <br> <code>filename "default.colo";</code> <br> <code>option host-name "cobalt";</code> <br> <code>}</code> <br> <br>  Do not forget to change the <code>domain-name-servers, subnet, netmask, range  option routers</code> to the values ‚Äã‚Äãcorresponding to your local network.  The <code>hardware ethernet</code> parameter should contain the Cobalt Qube 2 server MAC address (if the native hard disk is still alive, the MAC address can be viewed in the admin panel).  The <code>fixed-address</code> parameter sets the static IP address of your Cobalt Qube 2, and the <code>next-server</code> parameter contains the IP address of the NFS server. <br><br>  If there is another DHCP server on your local network (for example, on a router), you need to temporarily disable it. <br><br>  Now you need to download the necessary files for installing Debian: <br><br> <code>cd $HOME</code> <br> <code><a href=""></a> wget ftp.ru.debian.org/debian/dists/stable/main/installer-mipsel/current/images/cobalt/nfsroot.tar.gz</code> <br> <code>cd /</code> <br> <code>tar -xzvf ~/nfsroot.tar.gz</code> <br> <br>  Restart the DHCP and NFS services to apply the changes: <br><br> <code>/etc/init.d/nfs-kernel-server restart</code> <br> <code>/etc/init.d/isc-dhcp-server restart</code> <br> <br>  Now everything is ready to install Debian.  We connect the Cobalt Qube 2 to the local network where our configured DHCP server and NFS are running, turn on the Cube and immediately put it into the network boot mode.  To do this, you must simultaneously (and most importantly quickly) press the ‚Äúleft‚Äù and ‚Äúright‚Äù buttons on the control panel immediately after turning on the power of the Cobalt Cuba. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/aab/361/305/aab3613055557859fa310f91b88def88.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e17/4aa/414/e174aa414a9da88cca60575ae8731ec7.jpg" alt="image"><br>  The line " <i>Net booting</i> " should appear on the LCD screen, otherwise you should turn off the Cobalt Qube 2 and try to put it into network boot mode again. <br><br>  As a result of these manipulations, we should see the boot menu.  If the boot menu does not appear, check that the Cobalt Qube 2 is correctly connected to the local network - use only the Cube network interface (Primary or Secondary), the MAC address of which we registered in the DHCP server settings. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/2b2/a3f/8a1/2b2a3f8a14d5d3999b80920766e5c95d.jpg" alt="image"><br>  In the boot menu, select the item " <i>Network (NFS)</i> " with the arrow buttons and press Enter.  Network download has begun. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1b0/efe/843/1b0efe84344167bf78263fd7fa8cbd17.jpg" alt="image"><br>  If you received the message " <i>Unit Boot Failed</i> " during the boot process, you need to turn off the Cobalt Qube 2 and perform the network boot procedure again. <br><br>  Now we decide on how we will control the OS installation.  There are two options to choose from - installation via SSH and using a console session. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/853/451/9c5/8534519c58bc55afcf4b9b3c20bce67e.jpg" alt="image"><br>  In my opinion, using SSH is much more convenient, so I chose the first installation option.  Confirm your choice by pressing the Enter button. <br><br>  With the help of any SSH client, we connect to the Cobalt Cube using the IP address, using an <code>installer</code> login for authorization.  Password and IP address are displayed on the LCD of your Cobalt Qube 2. <br><br>  Installing the Debian operating system on the Cobalt Qube 2 is no different from the standard one. <br>  When selecting components for installation, do not forget to choose an SSH server, otherwise you will have to interact with the Cobalt Cube after installing the OS via the console.  You can also install a web server and file server, slightly expanding the functionality of Cobalt Qube 2. <br><br>  It should be borne in mind that the amount of RAM of the Cobalt Cuba is extremely limited, so you should install only those components that you really need. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f9e/920/e4a/f9e920e4adaee9a264bf3c4a05dbd50e.jpg" alt="image"><br>  After the OS installation is completed, you can go to the Cobalt Qube 2 via SSH and configure the necessary services to your taste. <br><br>  <b>Installing Webmin.</b> <br><br>  As you remember, initially the Cobalt Cube had a fairly user-friendly graphical interface, which is no longer there.  Install Webmin to fix this misunderstanding. <br><br> <code><a href=""></a> wget prdownloads.sourceforge.net/webadmin/webmin_1.620_all.deb</code> <br> <code>dpkg --install webmin_1.620_all.deb</code> <br> <br>  If the system swears at unsatisfied dependencies, install them <br><br> <code>apt-get install perl libnet-ssleay-perl openssl libauthen-pam-perl libpam-runtime libio-pty-perl apt-show-versions python</code> <br> <br>  Be patient - Webmin installation takes several minutes, during which time it may seem like the server has hung.  After successful installation, you can log in to the server using the web interface located at <br><br> <code><a href="https://yourserver/"></a> yourserver:10000/</code> <br> <br>  where <code>yourserver</code> is the name or IP address of your Cobalt Cuba. <br><br>  For authorization, use the <code>root</code> account and the current root password (we set it when installing Debian). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/b21/a4c/b3a/b21a4cb3a25bc8b052fb7ba2476e6392.jpg" alt="image"><br>  As you can see, using Webmin to manage Cobalt Qube 2 server is much easier and more pleasant. <br><br>  After installing Debian on the Cobalt Qube 2 server, there is about 80 MB of free RAM and about 70 GB on the hard disk.  This is quite enough for the Cobalt Cube to become a file bin, mail server or web server for a simple home site. </div><p>Source: <a href="https://habr.com/ru/post/177137/">https://habr.com/ru/post/177137/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177121/index.html">Failsafe resource allocator over DHT</a></li>
<li><a href="../177125/index.html">"Beeline" is updated: first - a personal account. We invite you to beta tests</a></li>
<li><a href="../177127/index.html">Post of Russia, ban on receiving international mail in Sheremetyevo, take two, from April 18</a></li>
<li><a href="../177129/index.html">Unobvious use of open data</a></li>
<li><a href="../177131/index.html">Tunnel modeling v 0.1. Spherical worldview model. Ideology presentation</a></li>
<li><a href="../177139/index.html">Reported spam using the theme of the tragedy in Boston</a></li>
<li><a href="../177141/index.html">Review of fresh materials, January-March 2013</a></li>
<li><a href="../177143/index.html">Creating an ‚ÄúInternet Celebrity‚Äù for $ 68</a></li>
<li><a href="../177145/index.html">DNS based fault tolerance</a></li>
<li><a href="../177147/index.html">How we built a cellular network in Cambodia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>