<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cloudify and its use in OpenStack. First step</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="General 
 In this article I want to talk about the Cloudify orchestration and automation system and give an example of installing it inside the OpenSt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cloudify and its use in OpenStack. First step</h1><div class="post__text post__text-html js-mediator-article"><h4>  General </h4><br>  In this article I want to talk about the Cloudify orchestration and automation system and give an example of installing it inside the OpenStack cloud, the current version of IceHouse and the subsequent reversal of the test application. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/8eb/a7f/565/8eba7f565f8b91029a93756544c4a8b5.png" alt="image"><br><br>  Cloudify is a system that allows you to achieve a smooth transition to the cloud and easy automation of even the most complex applications throughout their life cycle in it.  Organize the creation of the entire cloud infrastructure necessary for your application, starting with computing resources, up to networks and data storage devices.  Cloudify can deploy applications to the cloud (Amazon EC2, OpenStack, VMWare Vsphere, or even on pure hardware), display progress and scale if necessary.  Thanks to the support of various platforms, it is possible to choose a cloud service provider with the same frontend.  To monitor, manage, and scale applications within Cloudify, regardless of the stack, topology, and platform where they are deployed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9e8/f77/ec7/9e8f77ec722c370e7e93f4d381392477.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is given in its description, you can add that plugins are supported that allow you to work with Bash, Chef, OpenStack, Puppet, Windows and Linux agent installer. <br>  The current version is 3.0, is being developed 3.1.  One of the tangible drawbacks - in version 3.0, the advanced functionality was removed, which was in 2.7, and offered it for money by subscription. <br><br>  Cloudify includes a management node, a gateway, through which applications can be accessed.  Cloduify controls are also possible via GUI, CLI and the extensive REST API. <br><br>  Available packages are provided for Debian or Ubuntu, Centos \ RedHat can also be installed from github or pypi python.  The version of the used python 2.7. <br><br><h4>  Installation </h4><br>  My node, where OpenStack is deployed, was managed by RedHat.  Accordingly, the steps were as follows. <br><br>  Install python 2.7. <br><br>  In my opinion the easiest way is to take ready packages from the repository: <a href="http://mirror.yandex.ru/centos/6/SCL/x86_64/python27/">mirror.yandex.ru/centos/6/SCL/x86_64/python27</a> <br>  Python is placed in /opt/rh/python27/root/usr/bin/python2.7 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ba7/7c1/a0c/ba77c1a0cd20eaf59c488297692bd80a.png" alt="image"><br><br>  Install pip: <br><br> <code><a href="https://bootstrap.pypa.io/get-pip.py"></a> wget bootstrap.pypa.io/get-pip.py <br> /opt/rh/python27/root/usr/bin/python2.7 /var/repo-python/get-pip.py</code> <br> <br>  In principle, you can install from github, but it seems to me that using PyPi is easier and faster. <br><br>  Install clodify: <br><br> <code>/opt/rh/python27/root/usr/bin/pip install cloudify <br> /opt/rh/python27/root/usr/bin/pip install cloudify-openstack <br> /opt/rh/python27/root/usr/bin/pip install cloudify-openstack-provider</code> <br> <br>  Do not forget to specify the full path for python 2.7, or you can make a symbolic link: <br><br> <code>ln -s /opt/rh/python27/root/usr/bin/python2.7 /usr/bin/python2.7 <br> ln -s /opt/rh/python27/root/usr/bin/pip /usr/bin/pip2.7 <br> ln -s /opt/rh/python27/root/usr/bin/cfy /usr/bin/cfy</code> <br> <br>  To run commands faster. <br><br>  The next step is to start the management node of the cloudify itself inside openstack.  To do this, in the directory we have chosen (for example, ~ / cloudify / init1) execute the command <br><br> <code>cfy init openstack</code> <br> <br>  We will have two files in this directory, <code>.cloudify  cloudify-config.yaml</code> . <br>  plugin.yaml is the config we need to edit in order to run the next bootstrap. <br><br>  An example of a working configuration file: <br><br><pre> <code class="python hljs">keystone: username: admin password: ADMIN_PASSWORD tenant_name: admin auth_url: http://controller:<span class="hljs-number"><span class="hljs-number">5000</span></span>/v2<span class="hljs-number"><span class="hljs-number">.0</span></span> networking: neutron_url: http://controller:<span class="hljs-number"><span class="hljs-number">9696</span></span> int_network: create_if_missing: true name: cloudify-admin-network subnet: create_if_missing: true name: cloudify-admin-network-subnet ip_version: <span class="hljs-number"><span class="hljs-number">4</span></span> cidr: <span class="hljs-number"><span class="hljs-number">10.67</span></span><span class="hljs-number"><span class="hljs-number">.79</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> dns_nameservers: [<span class="hljs-string"><span class="hljs-string">'8.8.8.8'</span></span>] ext_network: name: Ext-Net compute: management_server: user_on_management: root userhome_on_management: /root instance: image: <span class="hljs-number"><span class="hljs-number">883293298</span></span>-fn32u98-fnf83-fkdfs flavor: <span class="hljs-number"><span class="hljs-number">102</span></span> management_keypair: create_if_missing: false name: default_keypair private_key_path: ~/.ssh/default_keypair.pem</code> </pre><br><br>  Only those lines that are required in editing are displayed. <br><br>  Automatically Cloudify will be deployed only on Ubuntu \ Debian, I chose Ubuntu, and version 14.04 is not suitable.  During bootstrap'a, will swear at her.  Therefore, the choice was set to version 12.04, which is officially supported.  Perhaps in version 3.1 this will be fixed. <br><br>  You must first prepare an image, namely, install three packages into it: java, unzip and github. <br><br>  The very image of Ubuntu can either be done by yourself, for example, in VirtualBox, and then spoil it in glance, I will omit this step, since  no difficulty should arise.  Or you can download from here: <a href="">cloud-images.ubuntu.com/releases/12.04.2/release-20120424/ubuntu-12.04-server-cloudimg-amd64-disk1.img</a> <br><br>  Log only by keys. <br><br>  Unzip and github set simply: apt-get install unzip github.  Java is somewhat more difficult, download the jre-7u67-linux-x64.gz archive or with a different version.  Unpack it into / opt / java / 64 or another one selected and put it into the system: <br><br> <code>update-alternatives --install "/usr/bin/java" "java" "/opt/java/64/jre1.7.0_67/bin/java" 1</code> <br> <img src="https://habrastorage.org/getpro/habr/post_images/662/f33/6ec/662f336eca33cfdeed290277fa171b50.png" alt="image"><br><br>  After that we consider that our image is ready, we make it a snapshot and we start the management node from the image we created again. <br><br>  Now in the cloudify-config.yaml config we register our image id.  Go to the directory in which you made the cfy init openstack and execute the command: <br><br> <code>cfy bootstrap</code> <br> <br>  Sample output on successful execution: <br><br><pre> <code class="python hljs">cfy bootstrap prefix <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> all resources: <span class="hljs-string"><span class="hljs-string">''</span></span> bootstrapping using cloudify_openstack validating provider resources <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> configuration schema validated successfully validating networking resources... validating compute resources... resources validated successfully provider validations completed successfully provisioning resources <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> management server... attaching IP <span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span> to the instance provisioning complete ensuring connectivity <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> the management server... connected <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> the management server successfully bootstrapping the management server... uploading keystone <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> neutron <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> files to manager [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] put: /root/.ssh/cloudify-agents-kp.pem -&gt; /root/.ssh/cloudify-agents-kp.pem [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] put: /tmp/tmpel_Iyv/keystone_config.json -&gt; /root/keystone_config.json [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] put: /tmp/tmpel_Iyv/neutron_config.json -&gt; /root/neutron_config.json initializing manager on the machine at <span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span> downloading cloudify-components package... downloading cloudify-core package... downloading cloudify-ui... unpacking cloudify-core packages... installing cloudify on <span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>... [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: Installing cloudify-components version <span class="hljs-number"><span class="hljs-number">3.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>... [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: (by the way, you may tail /var/log/cloudify-bootstrap.log <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the full installation log) [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: NOTE: this should take approx <span class="hljs-number"><span class="hljs-number">5</span></span> minutes on an average machine... [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: checking whether the system meets the minimum installation requirements... [<span class="hljs-number"><span class="hljs-number">10.10</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.227</span></span>] out: the system meets the requirements necessary <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Cloudify<span class="hljs-string"><span class="hljs-string">'s installation [10.10.10.227] out: [10.10.10.227] out: checking whether openjdk-7-jdk is installed...openjdk-7-jdk is not installed, installing... [10.10.10.227] out: checking whether openjdk-7-jdk is installed...Status: install ok installed [10.10.10.227] out: checking whether curl is installed...Status: install ok installed [10.10.10.227] out: curl is already installed, skipping... [10.10.10.227] out: checking whether logstash is installed...logstash is not installed, installing... [10.10.10.227] out: checking whether logstash is installed...Status: install ok installed [10.10.10.227] out: checking whether elasticsearch is installed...elasticsearch is not installed, installing... [10.10.10.227] out: checking whether elasticsearch is installed...Status: install ok installed [10.10.10.227] out: checking whether kibana3 is installed...kibana3 is not installed, installing... [10.10.10.227] out: checking whether kibana3 is installed...Status: install ok installed [10.10.10.227] out: checking whether riemann is installed...riemann is not installed, installing... [10.10.10.227] out: checking whether riemann is installed...Status: install ok installed [10.10.10.227] out: checking whether rabbitmq-server is installed...rabbitmq-server is not installed, installing... [10.10.10.227] out: checking whether rabbitmq-server is installed...Status: install ok installed [10.10.10.227] out: checking whether nginx is installed...nginx is not installed, installing... [10.10.10.227] out: checking whether virtualenv is installed...virtualenv is not installed, installing... [10.10.10.227] out: checking whether virtualenv is installed...Status: install ok installed [10.10.10.227] out: checking whether make is installed...make is not installed, installing... [10.10.10.227] out: checking whether make is installed...Status: install ok installed [10.10.10.227] out: checking whether nodejs is installed...nodejs is not installed, installing... [10.10.10.227] out: checking whether nodejs is installed...Status: install ok installed [10.10.10.227] out: [10.10.10.227] out: performing post installation tests... [10.10.10.227] out: post installation tests completed successfully. [10.10.10.227] out: [10.10.10.227] out: cloudify-components 3.0.0 installation completed successfully! [10.10.10.227] out: [10.10.10.227] out: [10.10.10.227] out: [10.10.10.227] out: Installing cloudify-core version 3.0.0... [10.10.10.227] out: [10.10.10.227] out: checking whether celery and the management plugins are installed...celery is not installed, installing... [10.10.10.227] out: checking whether celery is installed...Status: install ok installed [10.10.10.227] out: checking whether manager is installed...manager is not installed, installing... [10.10.10.227] out: checking whether manager is installed...Status: install ok installed [10.10.10.227] out: [10.10.10.227] out: performing post installation tests... [10.10.10.227] out: post installation tests completed successfully. [10.10.10.227] out: [10.10.10.227] out: cloudify-core 3.0.0 installation completed successfully! [10.10.10.227] out: [10.10.10.227] out: installing cloudify-ui... cloudify-ui installation successful. deploying cloudify agents cloudify agents installation successful. bootstrapping complete management server is up at 10.10.10.227 (is now set as the default management server)</span></span></code> </pre><br><br>  After that you can go to http 10.10.10.227. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/769/976/0c9/7699760c969ed5f66a5415d40b38d0cc.png" alt="image"><br><br>  Compared to version 2.7, the interface is very poor in the free version and allows you to download a blueprint, create deployments and run it, watching the logs and receiving information from the hosts: <br><br>  For example, the screen from version 2.7: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24b/46e/1f7/24b46e1f7dc205fa6786d9ccdeeb19db.png" alt="image"><br><br><h4>  Application Installation </h4><br>  An example of the recipes themselves: <br><br><pre> <code class="python hljs">imports: - http://www.getcloudify.org/spec/bash-plugin/<span class="hljs-number"><span class="hljs-number">1.0</span></span>/plugin.yaml - http://www.getcloudify.org/spec/openstack-plugin/<span class="hljs-number"><span class="hljs-number">1.0</span></span>/plugin.yaml plugins: nodecellar_config_plugin: derived_from: cloudify.plugins.agent_plugin properties: folder: nodecellar-config-plugin types: vm_host: derived_from: cloudify.openstack.server properties: - cloudify_agent: user: ubuntu - server: <span class="hljs-comment"><span class="hljs-comment">### if defined, will serve as the hostname for the started instance, ### otherwise, the node_id will be used #name: no_name ### HOST_NAME"" image: 75d47d10-fef8-473b-9dd1-fe2f7649cb41 ### IMAGE_NAME flavor: 101 ### FLAVOR_NAME security_groups: ['node_cellar_security_group'] mongo_database: derived_from: cloudify.types.bash.db_server properties: - role - port nodejs_server: derived_from: cloudify.types.bash.app_server nodejs_app: derived_from: cloudify.types.bash.app_module properties: - app_name - startup_script - git_url - git_branch - base_port - num_instances - env_file_path relationships: nodecellar_connected_to_mongo: derived_from: cloudify.relationships.connected_to source_interfaces: cloudify.interfaces.relationship_lifecycle: - postconfigure: nodecellar_config_plugin.tasks.get_mongo_host_and_port blueprint: name: nodecellar nodes: - name: node_cellar_security_group type: cloudify.openstack.security_group properties: security_group: name: node_cellar_security_group rules: - remote_ip_prefix: 0.0.0.0/0 port: 8080 - remote_ip_prefix: 0.0.0.0/0 port: 27017 - remote_ip_prefix: 0.0.0.0/0 port: 28017 - name: floatingip type: cloudify.openstack.floatingip properties: floatingip: floating_network_name: Ext-Net - name: mongod_vm type: vm_host instances: deploy: 1 relationships: - target: node_cellar_security_group type: cloudify.relationships.depends_on - name: nodejs_vm type: vm_host instances: deploy: 1 relationships: - target: floatingip type: cloudify.openstack.server_connected_to_floating_ip - target: node_cellar_security_group type: cloudify.relationships.depends_on - name: mongod type: mongo_database properties: role: mongod port: 27017 scripts: create: mongo-scripts/install-mongo.sh start: mongo-scripts/start-mongo.sh stop: mongo-scripts/stop-mongo.sh relationships: - target: mongod_vm type: cloudify.relationships.contained_in - name: nodejs type: nodejs_server properties: scripts: create: nodejs-scripts/install-nodejs.sh relationships: - type: cloudify.relationships.contained_in target: nodejs_vm - name: nodecellar_app type: nodejs_app properties: app_name: nodecellar startup_script: server.js git_url: https://github.com/cloudify-cosmo/nodecellar.git git_branch: master base_port: 8080 num_instances: 1 env_file_path: /tmp/mongo_host_and_port.sh scripts: create: nodejs-scripts/install-app.sh start: nodejs-scripts/start-app.sh stop: nodejs-scripts/stop-app.sh relationships: - type: cloudify.relationships.contained_in target: nodejs - type: nodecellar_connected_to_mongo target: mongod</span></span></code> </pre><br><br>  Next, we can perform a test deployment of the application. <br><br>  Download the drawings from the book and select the version for ours: <br><br> <code><a href=""></a> cd ~/simple/blueprints <br> git clone github.com/cloudify-cosmo/cloudify-nodecellar-singlehost.git <br> cd cloudify-nodecellar-singlehost/ <br> git checkout tags/3.0 <br> cd ~/simple</code> <br> <br>  Load the drawings: <br><br> <code>cfy blueprints upload -b nodecellar1 blueprints/cloudify-nodecellar-singlehost/blueprint.yaml</code> <br> <br>  Create Deployment: <br><br> <code>cfy deployments create -b nodecellar1 -d nodecellar1</code> <br> <br>  And run the installation: <br><br> <code>cfy deployments execute -d nodecellar1 install</code> <br> <br>  In the logs see: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/02d/0d6/78a/02d0d678aa31afd1832776f5c8830133.png" alt="image"><br><br>  In the output there will be a url by which you can get access to the deployed application, the page will look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/705/841/ab8/705841ab831e4512b9950c51d3d09080.png" alt="image"><br><br><h4>  Conclusion </h4><br>  In this article, preparatory procedures were performed, an image was created and Cloudify was installed in OpenStack, and a test application was deployed.  An overview of the current version. <br><br>  If someone has experience using this application, please unsubscribe in the comments about the cases in which it was used and my impressions.  My knowledge with this product is only introductory. </div><p>Source: <a href="https://habr.com/ru/post/238325/">https://habr.com/ru/post/238325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../238307/index.html">Hub AnyMote Home will make any device in the house smart</a></li>
<li><a href="../238315/index.html">Open source UTM on network perimeter protection</a></li>
<li><a href="../238317/index.html">3D Sand Printing with Sun</a></li>
<li><a href="../238321/index.html">Grape: no single rails</a></li>
<li><a href="../238323/index.html">How we test CSS regressions with Gemini. Report on BEMup in Yandex</a></li>
<li><a href="../238327/index.html">Google Play Game Services in Libgdx</a></li>
<li><a href="../238329/index.html">My way is an indie developer, several years</a></li>
<li><a href="../238331/index.html">Speculations on the domain *. Moscow</a></li>
<li><a href="../238333/index.html">Features of Microsoft.Win32.SystemEvents in a Multi AppDomain Application</a></li>
<li><a href="../238335/index.html">How user factors influence ranking: 2 critical factors</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>