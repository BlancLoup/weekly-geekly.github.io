<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google chrome hacker is not an assistant</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=", Chrome XSS-.  

 Why am I looking for vulnerabilities? 
 Like many of you, I do a Code Review and the first thing I‚Äôm looking for is of course a vul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google chrome hacker is not an assistant</h1><div class="post__text post__text-html js-mediator-article"><pre><code class="bash hljs"> ,  Chrome    XSS-.</code> </pre> <br><br><h4>  Why am I looking for vulnerabilities? </h4><br>  Like many of you, I do a <abbr title="Code Revision">Code Review</abbr> and the first thing I‚Äôm looking for is of course a vulnerability.  When a vulnerability is found in the code, it would be good to check if it actually exists through the browser, because there are ‚Äúfalse alarms‚Äù.  These are those cases when the data already comes filtered and <abbr title="Cross-site scripting">XSS is</abbr> impossible.  It is always useful to be able to show the developer an attack in action, because this is a good argument and helps to quickly move to a constructive solution to the problem if there is any doubt that the vulnerability does exist.  But I do not often check in the browser - either the problem is obvious directly from the code, or they believe in the word.  In general, looking for vulnerabilities is interesting. <br><br><h4>  The beginning of this story </h4><br>  A friend dropped links to the site, which a year ago had <abbr title="Cross-site scripting">XSS</abbr> vulnerability, which I wrote to the owners of the resource.  It became interesting to check again.  I checked - there is XSS, but I couldn't get the simplest confirmation of <abbr title="Javascript">JS</abbr> execution! .. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/fab/c5a/e8d/fabc5ae8d80d3a05edeaebf5fef3ee9e.jpg"><br><br>  I do not break websites and do not engage in security auditing, so it is possible that what I found out has long been known to specialists, but for me this was a revelation. <br><br><h4>  First suspicions </h4><br>  So, I began to check <a href="http://ha.ckers.org/xss.html">all sorts of code injection options</a> - but without result.  Along the way, I found out what and how is filtered, what are the checks and so on, but alert (1);  persistently not performed.  Along the way, <abbr title="Cross-site request forgery">XSRF</abbr> was also found - a nice bonus! <br><a name="habracut"></a><br>  There was a suspicion that the browser changes the code it received from the server.  I tried using wget to get the HTML code of the page - yes, it does, but in a strange way.  At first I suspected that he was trying to close the tags in order to fix the broken markup, but it turned out that the matter was different.  All this time I used Google Chrome and the idea to try another browser somehow did not occur (but in vain!). <br><br>  In the end, the simplest <abbr title="Cross-site scripting">XSS</abbr> test in FireFox gave a positive result - super!  I did prove that there is a vulnerability, but it‚Äôs not clear why nothing happened in chrome?! .. I understand that browsers can render the same code in different ways, but Chrome did take a bite out of my embedded code, no matter how sophisticated I am did!  A screenshot from Chrome, where the link to the external <abbr title="Javascript">JS</abbr> file is replaced with <code>about:blank</code> : <br><br><img src="https://habrastorage.org/storage2/f03/9b3/292/f039b32926fcb3ee5faee403d27620eb.jpg"><br><br>  Thus, it is possible to attack users of FF, Opera, IE, but not Chrome.  This is some kind of infringement of users.  The problem did not give me rest, and the reason was still found!  It turned out that <a href="http://news.softpedia.com/news/Chrome-Gets-XSS-Filter-and-Starts-Disabling-Outdated-Plug-Ins-159498.shtml">Google Chrome from version 7 has an XSS filter (Cross Site Scripting Auditor</a> ! It was this XSS Auditor that did not give me the opportunity to check for XSS. <br><br>  The reason is clear, but the problem is not solved.  Has Chrome become an unapproachable fortress ?!  Is there no way to bypass this filter?  If so, it is worth everyone recommends using Chrome and forget about XSS.  Life is getting easier and better! <br><br><h4>  How to bypass XSS Auditor in Google Chrome? </h4><br>  But you can't be like that, right?  So I did not believe it. <br><br><img src="https://habrastorage.org/storage2/618/4ba/437/6184ba43764ba5cf1686508b026ab3c1.jpg"><br><br>  It is necessary to somehow bypass the XSS Auditor in Chrome to restore the universal equilibrium.  I found such methods: <br><ol><li>  You need to start the browser with the <code>--disable-xss-auditor</code> key.  Great for testing. </li><li>  If you control 2 parameters, they are inserted in 2 places on the page.  We break the code into 2 parts and use multi-line comments to comment out HTML between these 2 points - details in <a href="http://code.google.com/p/chromium/issues/detail%3Fid%3D96616">Issue 96616: Security: Google Chrome Anti-XSS filter circumvention</a> </li><li>  If there is an opportunity to leave one tag unclosed, then the browser itself will try to close it.  And at first XSS Auditor will work, and then the browser will try to close the tags. </li><li>  Send a special HTTP header that disables XSS Auditor ( <a href="http://code.google.com/p/chromium/issues/detail%3Fid%3D98787">Proof</a> ): <pre> <code class="php hljs">header(<span class="hljs-string"><span class="hljs-string">"X-XSS-Protection: 0"</span></span>);</code> </pre> </li></ol><br><br><h4>  findings </h4><br>  Use Google Chrome to test XSS without add.  movements will not work - it's easier to take any other browser. <br>  But to protect yourself from XSS is quite possible, but it is worth remembering that <a href="http://habrahabr.ru/post/138867/">Google uses its browser to collect information</a> - so there‚Äôs a double-edged sword. <br><br><h4>  What else can you read? </h4><br><ul><li>  <a href="http://www.hackingtricks.in/2012/03/xss-chef-chrome-extension-exploitation.htm">XSS ChEF: Chrome Extension Exploitation Framework</a> </li><li>  <a href="http://www.collinjackson.com/research/xssauditor.pdf">Regular Expressions Considered Harmful in Client-Side XSS Filters</a> </li><li>  <a href="http://www.frameloss.org/2011/11/01/using-google-chrome-for-security-testing/">Using Google Chrome for Security Testing</a> </li><li>  <a href="http://a4apphack.com/security/disabling-default-xss-filtering-in-ie8-for-security-testers">Disabling default XSS filtering in IE8 - For Security Testers</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/143022/">https://habr.com/ru/post/143022/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143017/index.html">5 social applications created on the basis of Code for America</a></li>
<li><a href="../143018/index.html">Incredibox Music Designer, second version</a></li>
<li><a href="../143019/index.html">Every MobileMe user has a Snow Leopard license.</a></li>
<li><a href="../143020/index.html">Evernote is preparing an application for business</a></li>
<li><a href="../143021/index.html">Steve Wozniak greatly praises Windows Phone 7.5 Mango</a></li>
<li><a href="../143023/index.html">Sony Xperia P with aluminum case goes on sale</a></li>
<li><a href="../143024/index.html">Unsuccessful notes on ASP.NET MVC. Part 1 (and only)</a></li>
<li><a href="../143025/index.html">Cyclic slideshow on pure CSS3</a></li>
<li><a href="../143026/index.html">Imperative RegExp. Notation</a></li>
<li><a href="../143027/index.html">Nokia's indoor location</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>