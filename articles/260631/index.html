<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We pump HP t5325 thin client</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will focus on refining an HP thin client to install Debian 8 on it. 



 HP t5325 Thin Client is the smallest in its family and the only ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We pump HP t5325 thin client</h1><div class="post__text post__text-html js-mediator-article">  This article will focus on refining an HP thin client to install Debian 8 on it. <br><br><img src="https://habrastorage.org/files/620/49f/376/62049f3760a041edb43f2337c250f796.jpg"><br><br>  HP t5325 Thin Client is the smallest in its family and the only one built on the ARM architecture.  Below are its main characteristics: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Marvell ARM 88F6281 1.2 GHz processor. </li><li>  XGI VOLARI-Z11-A2CB-HF ‚Äã‚Äã64MB video card. </li><li>  RAM 512MB DDR2. </li><li>  Flash memory 512MB. </li></ul><br><a name="habracut"></a><br><h2>  Training </h2><br>  This client is powered by HP ThinPro, which is based on Debian.  The problem is that the system is installed on the internal flash memory of 512MB.  By modern standards, this volume is not enough for comfortable work, and the resource of rewriting cycles of the built-in Flash is small.  Therefore, it was decided to install the OS on an external hard drive. <br><br><img src="https://habrastorage.org/files/54b/470/34f/54b47034f1c6418692e3063d69be6000.JPG"><img src="https://habrastorage.org/files/064/31f/a87/06431fa8735e496d9bbdbfebd3a59976.JPG"><br><br>  On the printed circuit board, you can see that there is space for installing a vertical SATA connector, but the dimensions of the case do not allow this.  Also, on a more detailed study, it turned out that some elements are not soldered on the board, in particular, the filter capacitors on the Rx, Tx terminals of the SATA0 connector: C80, C81, C82, C83.  The photo below shows their installation locations. <br><br><img src="https://habrastorage.org/files/437/f8c/289/437f8c289b864cbab5e54ea25a81393a.jpg"><img src="https://habrastorage.org/files/be3/b2f/af0/be3b2faf08f54e5e81b890f3bebeb688.jpg"><br><br>  These capacitors can be borrowed from the board from the old hard drive: <br><br><img src="https://habrastorage.org/files/ac3/f97/744/ac3f97744f704854b8e76451cbd0a30f.jpg"><br><br>  After mounting the capacitors and studying the wiring of the board in the SATA connector area, the following connection scheme was determined: <br><br><img src="https://habrastorage.org/files/1ba/aca/83c/1baaca83c7594f22ad9e53b7d7f67653.jpg"><br><br>  Due to the lack of space inside the case, it was decided to install a hard drive on the outside, on the top cover.  This provided convenient disk access and better cooling.  For these purposes, a SATA cable from an HP DV5 laptop was purchased, it also fits DV6 and DV7-1000, it has enough length and a suitable diameter to fit through the holes in the top cover. <br><br><img src="https://habrastorage.org/files/4d5/a01/5f4/4d5a015f44884b8aa3bfa5b4e3d0729e.JPG"><br><br>  Next, remove the connector, determine the pinout and solder according to the scheme. <br><br><img src="https://habrastorage.org/files/bd9/b14/262/bd9b142622f94687bfd69bed4f81f3d9.JPG"><img src="https://habrastorage.org/files/a3f/286/1a0/a3f2861a0a104c918d00bd5852d1e764.JPG"><br><br>  To increase the mechanical strength of the compound, fix everything with hot melt. <br><br><img src="https://habrastorage.org/files/401/e54/9fe/401e549fe8e44c2d8b662642e2366b31.JPG"><img src="https://habrastorage.org/files/981/8ca/5bc/9818ca5bc13e49449a27a7e930255f01.JPG"><br><br>  This thin client has no BIOS, it uses U-Boot to boot the OS.  To configure the boot from an external drive, you need to access the U-Boot console; this can be done by connecting to the corresponding pins on the board, USB - UART converter. <br><br><img src="https://habrastorage.org/files/e39/ec9/bb4/e39ec9bb43d745f2b1514ca0e70cd09b.jpg"><br><br>  Open Putty and select the COM port that is assigned to the converter.  We supply power and quickly press the spacebar button until we see an invitation to enter commands. <br><br><img src="https://habrastorage.org/files/868/57d/c0d/86857dc0dc554ae382fda1acaf1e325d.jpg"><br><br>  In the U-Boot console, you must enter the following commands: <br><br><pre><code class="bash hljs">setenv hdd_bootargs <span class="hljs-string"><span class="hljs-string">'console=ttyS0,115200 root=/dev/sdb1 rw rootwait video=xgifb'</span></span> setenv boot_hdd <span class="hljs-string"><span class="hljs-string">'ext2load ide 1:1 0x800000 /uImage; ext2load ide 1:1 0x1100000 /uInitrd'</span></span> setenv hdd <span class="hljs-string"><span class="hljs-string">'ide reset; wol; setenv bootargs $(hdd_bootargs); run boot_hdd; bootm 0x800000 0x1100000'</span></span> setenv mainlineLinux yes setenv arcNumber 2846 setenv bootcmd <span class="hljs-string"><span class="hljs-string">'run hdd'</span></span> saveenv</code> </pre> <br>  Here we expose booting from the hard disk (ide 1: 1), uImage and uInitrd will be loaded.  The saveenv command means writing a configuration to non-volatile memory.  More information about the available commands can be found by typing a question mark in the console. <br><br><h2>  System installation </h2><br>  Debian 8 was chosen as the OS as the most compatible and does not require additional doping.  Before starting the installation, you must prepare the hard disk.  On the disk, you need to create a single partition and format it into the ext2 file system, then copy to the root, <a href="http://ftp.debian.org/debian/dists/jessie/main/installer-armel/current/images/kirkwood/netboot/marvell/openrd/uImage">uImage</a> and <a href="http://ftp.debian.org/debian/dists/jessie/main/installer-armel/current/images/kirkwood/netboot/marvell/openrd/uInitrd">uInitrd</a> .  Next, connect the hard drive to the thin client and apply power.  If everything is done correctly, the system boot log should be displayed in the console and the installation should begin. <br><br><img src="https://habrastorage.org/files/475/579/c7e/475579c7e88e4a0ea039d6b1c10a81ca.jpg"><br><br>  After successful installation, you need to log into the U-Boot console and make small changes to the config.  If during the installation of the system the default disk partitioning was chosen and a separate disk partition was created for the boot folder, enter the following commands: <br><br><pre> <code class="bash hljs">setenv hdd_bootargs <span class="hljs-string"><span class="hljs-string">'console=ttyS0,115200 root=/dev/sdb1 rw rootwait video=xgifb'</span></span> setenv boot_hdd <span class="hljs-string"><span class="hljs-string">'ide reset; ext2load ide 1:1 0x800000 /uImage; bootm 0x800000'</span></span> setenv hdd <span class="hljs-string"><span class="hljs-string">'setenv bootargs $(hdd_bootargs); run boot_hdd; bootm 0x800000'</span></span> saveenv</code> </pre><br>  If everything is set in one section: <br><br><pre> <code class="bash hljs">setenv hdd_bootargs <span class="hljs-string"><span class="hljs-string">'console=ttyS0,115200 root=/dev/sdb1 rw rootwait video=xgifb'</span></span> setenv boot_hdd <span class="hljs-string"><span class="hljs-string">'ide reset; ext2load ide 1:1 0x800000 /boot/uImage; bootm 0x800000'</span></span> setenv hdd <span class="hljs-string"><span class="hljs-string">'setenv bootargs $(hdd_bootargs); run boot_hdd; bootm 0x800000'</span></span> saveenv</code> </pre><br>  Everything!  Now you have a mini Debian server that you can find a lot of applications at work and at home.  Below are photos of what happened.  The hard disk is mounted on the bolts from the VGA connector. <br><br><img src="https://habrastorage.org/files/8e0/76b/f77/8e076bf770904495a68f7ea85cffce95.jpg"><img src="https://habrastorage.org/files/b78/a13/5a5/b78a135a5a9546488532326d6876a19d.jpg"><br><br><img src="https://habrastorage.org/files/766/a18/ce3/766a18ce372e40beb20fddd46923361b.jpg"><img src="https://habrastorage.org/files/87a/eb2/f2e/87aeb2f2e56b4ea9bc721064a784f895.jpg"><br><br><img src="https://habrastorage.org/files/ac9/795/1b8/ac97951b8b784388abf6fc7cf5d3f2e9.JPG"><img src="https://habrastorage.org/files/5f4/c9b/0b8/5f4c9b0b8d064120b5163c770039fa8a.JPG"><br><br><img src="https://habrastorage.org/files/30e/a69/5f7/30ea695f7e2144779b54b57f9098d019.JPG"><img src="https://habrastorage.org/files/e39/1e7/a2a/e391e7a2aed247af83f23cb8367c8b37.JPG"><br><br><img src="https://habrastorage.org/files/47b/166/406/47b166406b21429d930fc0be3fe95eb6.JPG"><img src="https://habrastorage.org/files/525/c29/529/525c295291c340fb9bcb68ff2ab790ac.JPG"><br><br><img src="https://habrastorage.org/files/b03/5d8/c5e/b035d8c5e63c4210926f08737fb09786.JPG"><img src="https://habrastorage.org/files/3a2/b84/609/3a2b846094a5477d841fddfec1e82b3e.JPG"></div><p>Source: <a href="https://habr.com/ru/post/260631/">https://habr.com/ru/post/260631/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260617/index.html">Home server from scratch</a></li>
<li><a href="../260619/index.html">Google hunting season is open</a></li>
<li><a href="../260621/index.html">Multiple / Class Table Inheritance in Rails</a></li>
<li><a href="../260623/index.html">High-performance code on the .NET platform</a></li>
<li><a href="../260629/index.html">Digest news of the gaming industry</a></li>
<li><a href="../260633/index.html">What to tell at the training on service h. 1</a></li>
<li><a href="../260635/index.html">Matlab features for developing and testing mechanistic trading systems</a></li>
<li><a href="../260637/index.html">Retrospective development of Crash Bandicoot, or how the developers packed the whole game in 2MB RAM</a></li>
<li><a href="../260639/index.html">Sensors and microcontrollers. Part 3. We measure current and voltage.</a></li>
<li><a href="../260641/index.html">200 design and engineering blogs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>