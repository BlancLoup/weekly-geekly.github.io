<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ya. Incident: Why did I read your SMS?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last summer's events related to leakage of confidential data to search engines directly or indirectly affected everyone who follows news courtesy of t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ya. Incident: Why did I read your SMS?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/f0633bf9/dd14a99a/f40b87fb/a3bd937d.jpg" alt="J.Incedent"><br><br>  Last summer's events related to leakage of confidential data to search engines directly or indirectly affected everyone who follows news courtesy of the media.  Under the "system knife" got search robots and personal data of a citizen of the Russian Federation.  Dig a little deeper and find out how privacy can be "in plain sight." <a name="habracut"></a><br><br>  In the midst of the summer period, the media vied with each other to share news about the leakage of information from web pages containing SMS texts of users of one of the largest cellular operators.  Among the many cunning and more or less adequate versions concerning the reasons for this fact, a thought finally emerged, which was supported by the results of the research.  The forum <a href="http://rdot.org/forum">member rdot.org</a> under the pseudonym <i>‚ÄúC3 ~ RET‚Äù</i> published a small <a href="https://rdot.org/forum/showthread.php%3Ft%3D1605">research paper</a> , which, thus, set another, rather good vector for new publications in the media. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the same time, while researchers separated flies from cutlets, diggers made up more and more search engines compromising the owners of web resources who processed personal data, as well as owners of search engines who allegedly mercilessly consolidated these data on their servers.  Examples of such leaks include the following information cached by search engines: <br><br>  <i>1) personal data of sex shop buyers;</i> <i><br><br></i>  <i>2) documents with the stamp "for official use";</i> <i><br><br></i>  <i>3) deleted photos of the social network VKontakte;</i> <i><br><br></i>  <i>4) personal data of customers of Russian Railways tickets.</i> <br><br><h4>  Surface situation </h4><br>  Was there really an incident?  The direct collision between web resources and the search engine, beautifully described by the ‚Äúpropaganda department‚Äù, is in fact only a <i>‚ÄúGoogle Hacking‚Äù</i> technique demonstrated to the masses only by the example of another search engine. <br><br><img src="https://habrastorage.org/storage1/11708a46/284d5921/47dce6bc/047e3b18.jpg" alt="Google hacking"><br><br>  The well-known fact began to be highlighted: the documented functionality of the search robot forbids it to index pages that are not contained in the special file <i>‚Äúrobots.txt‚Äù</i> in the root web resource or have a special HTML tag <i>‚Äúnoindex‚Äù</i> , which, by the way, is offered by <b>Yandex</b> .  However, if only the ‚Äúscapegoat‚Äù in the face of Yandex used exclusively documented means of indexation, then perhaps the hype would quickly cease, and this material would not be published ... <br><br><h4>  In search of truth </h4><br>  The key findings of the researchers and the preliminary version of the causes of the incident, primarily related to the leakage of SMS to the search engine cache, are formulated like this: on the client side of the short message sending gateway, the installed extension to the browser from the search engine developer‚Äôs company provoked the transfer of all user data search engine.  A cursory inspection of the source code of the SMS gateway web page, which <i>Google</i> ‚Äôs a kind cache provided after the cellular operator temporarily closed access to the gateway, made sure that the specified page from which the messages were sent contained a JavaScript code that was part of <a href="http://metrika.yandex.ru/">the Yandex.Metrika service</a> , which is a tool for webmasters and is designed to generate statistics about visitors to a web page.  Thus, we have another potential channel of confidential information leaking into the <i>Yandex</i> search engine cache. <br><br>  Acquaintance with the user agreement finally lands a paranoid on treason in the following paragraph: <br><br>  <i>"eight.</i>  <i>... The recording function of the Sessions of visits is fully automatic and does not know how to analyze the content and meaning of the information placed on the pages and entered by third parties (visitors) in the fields on the pages of the User‚Äôs site, and records it completely regardless of the content.</i>  <i>... "</i> <br><br>  In other words: the user understands that the <i>Yandex.Metrics</i> script records everything without parsing.  Our task is to determine specifically what it is. <br><br>  To test this hypothesis, three pages were created containing the above-mentioned JavaScript and unique text for the purpose of their subsequent identification in search results.  The first page of the form <i><a href="http://xn--defetech-ich.ru/p4ste3stOfYa">defetech.ru / p4ste3stOfYa</a></i> was open to the search engine <i>Yandex</i> .  The other - <i><a href="http://defectech.ru/4tom1cprOfit">defectech.ru/4tom1cprOfit</a></i> is listed in the <i>robots.txt</i> file.  The addresses of the pages exclude the possibility of selecting links if this functionality is available to the search bot (which will allow us to reason about whether there was a so-called intelligent scan in the incident in question).  In order to more promptly notify the bot of the appeared public page ( <i>defectech.ru/p4ste3stOfYa</i> ) a link to it was placed on the root page ( <i>defectech.ru</i> ). <br><br>  Two days later.  The consoling results for us: the placement of the JS code in no way affected the indexation of pages that were closed to search bots.  Moreover, the indexing of public pages is also not done, which can only speak about extremely short periods of presence of test pages in the perimeter of the World Wide Web, which did not allow the search robot to reach for unique data.  However, the code itself of the analytical system for the web developer did not provoke page indexing, which means that, at a minimum, at this stage it cannot be a channel for data leakage to the search engine.  According to the representatives of Yandex, after detecting the fact of a leak, the corresponding corrections were made in <i>Yandex.Metrica</i> ( <a href="http://bit.ly/qFtSs5">http://bit.ly/qFtSs5</a> - comments from representatives of the search engine).  Details are not specified.  Moving on. <br><br>  Not one Yandex is full of many search engines, for this reason it was decided to superficially inspect the actions of similar JS-code from Google.  A quick inspection of the sniffer logs showed the results of the activity of this script, which consists in transmitting statistical information about the user's actions to the <a href="http://www.google.com/intl/ru/analytics/">Google Analytics</a> service.  Among this information is the address of the page where the code is placed, which means that Google at least ‚Äúknows‚Äù about the presence of this page (the code is used to generate statistics displayed by Google on the resource‚Äôs admin panel, but who knows where still leaving the data). <br><br><h4>  Gas discharge effect </h4><br>  As a result of analyzing the behavior of additional software provided by search engine developers in the form of browser extensions, third-party activity of these extensions was revealed, which could lead to information leaks to third parties.  The magnitude of the effect, which initializes the leakage channel of confidential data, can be visualized if we draw an analogy with the gas decay effect.  Without getting into the wilds of the exact sciences, we will look at a picture demonstrating the process of this decay: under the influence of an external force, a group of elementary particles collides with a group of other elementary particles;  they, in turn, make similar collisions and as a result we see an avalanche effect.  In our case, elementary particles are confidential information or a part of it, which through leak channels enters different parts of the network and eventually becomes publicly available due to its prevalence.  Thus, impersonal personal data as a result of entering the search engines can uniquely identify its owner. <br><br><img src="https://habrastorage.org/storage1/39dabb7a/bff56fcd/cd93a0b9/3634fd6c.jpg" alt="Illustration of impersonal data leakage"><br><br>  Let's take a closer look at data leakage channels that open the above extensions for user browsers from search engine developers using the example <b>of Yandex.Bar</b> and <b>Google.Toolbar</b> . <br><br>  Investigating the activity of <i>Google Toolbar</i> , in the sniffer logs, you can also notice a line in which the address of the user's current page is sent to one of the Google services.  Moreover, if you do not perform any actions in the browser, you can notice the background activity of the plugin: with a certain frequency, one of the Google services is called with a suggestive name <i>"safebrowsing"</i> .  The frequency of calls is due to the fact that the plugin sends sufficiently large data. <br><br><img src="https://habrastorage.org/storage1/de1b2030/42886d0c/6a91411c/73405b21.jpg" alt="Google Toolbar background activity."><br>  <i>Google Toolbar background activity.</i> <br><br><img src="https://habrastorage.org/storage1/97bf4221/91fa055b/258c86eb/c53930a0.jpg" alt="Yandex.Bar simultaneously transmits data over HTTP despite the transfer of data over an HTTPS connection."><br>  <i>Yandex.Bar simultaneously transmits data over HTTP despite the transfer of data over an HTTPS connection.</i> <br><br>  We are switching our attention to a similar product from Yandex.  To make the results of the study ‚Äúhotter‚Äù, let's consider the behavior of the plug-in under combat conditions: let's make a payment operation in the popular Internet banking system <b>‚ÄúHandyBank‚Äù</b> installed by one of the major Russian banks. <br><br>  Classic genre: plugin sends the page address to the search engine service.  Enter the details of the payment transaction and click "Next."  The script of the Internet banking system transfers all the entered information in a GET request and this provokes the transfer of confidential information to the Yandex service.  The jamb ... And, from the vendor's side of the system. <br><br><img src="https://habrastorage.org/storage1/7909f867/f28ac753/f5a8e665/be9c7802.jpg" alt="Demonstration of billing data transfer in URL parameters to a Yandex service."><br><br>  <i>‚ÄúYandex. Bar‚Äù</i> in addition to fast search provides the ability to check the spelling of data entered by the user on the current page.  We activate this option and what we see: the plug-in transmits all the information about the details of the payment operation in a specially compiled XML file to the spell-checking service from Yandex (the structure of this file is clearly visible in the corresponding screenshot).  And all this Ya.Bar transmits to their servers to bypass HTTPS connections via an unprotected HTTP protocol. <br><br><img src="https://habrastorage.org/storage1/eea3f2e9/9f9dd36e/0b8e41b8/fca5f067.jpg" alt="The Spell Check option J.Bara provokes the transfer of payment data to a Yandex service."><br><br><h4>  In the eyes of the analyst </h4><br>  Search engines resemble an octopus trying to reach its most remote repositories of information in the web space with its tentacles.  These tentacles are by no means limited to search bots and are nothing more than various plugins, web developer tools and other useful services, on the one hand, courtesy of the search engines themselves to make life easier for end users, and on the other hand oriented indexation procedures. "All Internet". <br><br>  Particular attention to the news, which served as the starting point for monitoring the activities of search engines, is quite possibly indirectly caused by events unfolding around <b>FZ-152</b> , the changes of which have shaken the Russian information industry.  The published SMS correspondence and the <i>megaphone</i> set in a corner is a vivid demonstration of the allegedly poor security of personal data, to which, according to the updated definition, now almost any information created by a human being is related.  But that's another story. </div><p>Source: <a href="https://habr.com/ru/post/129321/">https://habr.com/ru/post/129321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../129314/index.html">New name among mobile platforms: Tizen</a></li>
<li><a href="../129315/index.html">Matlab cluster do it yourself</a></li>
<li><a href="../129316/index.html">Data emulator with GNSS receiver using NMEA protocol</a></li>
<li><a href="../129319/index.html">Misunderstanding zone</a></li>
<li><a href="../129320/index.html">Letters that annoy us</a></li>
<li><a href="../129322/index.html">Administration for the smallest (Part 2: we write identifiers correctly)</a></li>
<li><a href="../129323/index.html">On the "Rambler Maps" turned on the camera</a></li>
<li><a href="../129324/index.html">Expansion timeStats - what do you spend time on the Internet</a></li>
<li><a href="../129327/index.html">We classify corporate styles</a></li>
<li><a href="../129328/index.html">We collect rarities!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>