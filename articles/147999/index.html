<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Toy" cartography or 3D cards do it yourself</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About one and a half years ago, a post about unique maps of the Chinese search engine Baidu was posted on Habr√© (for those who have not seen, here it ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Toy" cartography or 3D cards do it yourself</h1><div class="post__text post__text-html js-mediator-article">  About one and a half years ago, a post about unique maps of the Chinese search engine Baidu was posted on Habr√© (for those who have not seen, here it is: <a href="http://habrahabr.ru/post/115107/">http://habrahabr.ru/post/115107/</a> ).  I was amazed at how painstaking, detailed and beautifully these maps were made, so one day we, together with a group of comrades, decided to sort out the process of creating Baidu-cards and make our own maps of the whole world that would look just as cool.  There are a lot of pictures under the cut, the disclosure of the secret of Baidu-like cards and what we have. <br><br><img src="https://habrastorage.org/storage2/bae/263/1a7/bae2631a79c04e16916679b8c3b92441.jpg"><br><br><a name="habracut"></a><br><h4>  Search for a solution (how did the Chinese do it?) </h4><br>  It is obvious to all that such things are something completely new for cartography.  They are beautiful, they are interesting, they can be seen for hours.  They are understandable, in the end, because it is probably easier to find a building where you have an appointment if the map contains a detailed copy of it, and not a dull gray rectangle.  Similar cards do not only Baidu;  Here are a few examples: Edushi ( <a href="http://shanghai.edushi.com/">shanghai.edushi.com</a> ), the city of Kerch ( <a href="http://gorodkerch.com/map/">http://gorodkerch.com/map/</a> ), even Bing shows non-aerial photography at some zoom levels ( <a href="http://binged.it/O3F5Ez">http://binged.it/O3F5Ez</a> ) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At first glance, it is clear that creating a map of this level of detail requires huge resources.  The first thing that comes to mind is the work of millions of specially trained Chinese, who painstakingly draw, by pixel, each building, tree and bench.  We started with this (not with the search for an extra million Chinese artists, but with the rendering of buildings using pixel art). <br><br>  It soon became clear that the creation of even one house required an incredible amount of time and effort.  We were more and more convinced that Baidu is a 3d-map, that they are rendered, and not drawn by pixel to pixel by diligent Chinese guys.  In fact, the fact that the maps were created in 3d, says a lot: the shading between nearby buildings, the same parts and objects that are located at different angles to the camera.  In the end, on the site <a href="http://www.o.cn/">http://www.o.cn/</a> (manufacturer of maps for Baidu) we found a page that fully confirmed the conjectures: <a href="http://gis.o.cn/en/3d-process.html">http://gis.o.cn/en/3d-process.html</a> .  So, there was no doubt, Baidu is just very high quality rendered 3d maps. <br><br><h4>  Our experiments </h4><br>  But even the identification of technology did not solve all the problems - the question was still open as to who and how would fill such cards.  Okay, each object doesn‚Äôt need to be painted by hand, the same buildings can not be redrawn from scratch, but only re-rendered ... However, where can we get such detailed, beautiful and detailed models of buildings? <br><br>  Such questions and searches led us to the decision to make the map a collaborative one, that is, to create it together with the users.  Just imagine: users draw not lines and rectangles in OpenStreetMap or Wikimapia, but beautiful, almost toy models of real-life houses! <br><br>  The campus of Stanford University was chosen as the test object.  To understand how cool the maps can be made, and to understand the process of their creation, we decided to first model the terrain on our own.  During the work on the university map, it was found that getting a Baidu level picture is absolutely real with v-ray: <img src="https://habrastorage.org/storage2/d43/ed7/c89/d43ed7c89f0f8a847716611b454f9808.png"><br><br>  We can render not only a single view of the city from north to south, but all four types of it, or even more: <img src="https://habrastorage.org/storage2/4f2/099/a9e/4f2099a9e2765691a066dfe393dff9b4.png"><br><br>  Changing the light in the scene, it is easy to get a night view: <img src="https://habrastorage.org/storage2/369/0aa/758/3690aa75875d105c6fec3eb2d51a842f.png"><br><br>  3d leaves a lot of room for detail and zadrotstvo - you can draw layouts, lights, bushes, benches, and other tasty things: <img src="https://habrastorage.org/storage2/1e3/bab/79f/1e3bab79f4b621a67ed356bf873878ff.png"><br><br>  So, we modeled Stanford University on trial and proceeded to create a map of San Francisco, deciding to give everyone access to this process.  Now the map is assembled as follows: users in the 3d-constructor application (we have chosen Unity 3d) create models of houses, and on the server in the v-ray standalone package are rendered and sent to the general map beautiful pictures. <br><br>  As a result, the full cycle of the application looks like this: <br><ul><li>  The user draws the perimeter of the house on top of satellite maps, as in OSM.  We build a closed loop and transfer it to Unity, and also remember the location of the house on the map. </li><li>  In the designer, the user creates a model of the house: he textures it, places windows, doors, bay windows, cornices, sets the shape of the roof - in short, turns a rectangle into a highly detailed model.  When the model is ready, it is sent to the map.  Unity exports the scene to obj and sends it to the server. </li><li>  The server accepts obj, calculates the position of the house on the map, places it in the scene with a map of the city, where the light is already set up and v-ray materials are created.  Then the server calculates which tiles of the map have changed due to the house setting, secretly renders it, renders SVG for highlights and sends it all to a web server. </li></ul><br><h4>  Conclusion </h4><br>  Now we are preparing a beta version of the application for release in the AppStore, with which users can create a San Francisco map.  We have learned how to make pictures of excellent quality, with the smallest detail and precise fit to a geographical location. <br>  At the very beginning, we assumed that it would be very interesting for users to make such cards, but we never tested this assumption in practice.  Today, for the first time, we are showing our work to a wide range of people, and therefore we want to ask: would you be interested (yes, personally to you, habraiser) to participate in filling such cards?  And we have one more question: how / why specifically would you be interested to use these cards / technology? <br><br>  We will be glad to any feedback! <br><br>  You can see our maps here: <br><ul><li>  <a href="http://cutetown.net/">cutetown.net</a> - site with a map of Stanford University </li><li>  <a href="http://cutetown.net/hires">cutetown.net/hires</a> - highres.  On it you can see all the small details such as bicycle racks, cafe tables, markings, etc. </li><li>  <a href="http://cutetown.net/sf">cutetown.net/sf</a> - map of San Francisco, which is preparing the release of the application </li></ul><br><br>  ps Anticipating holivars on ‚Äúfu, a map with only four views is garbage, nothing will ever replace real 3d‚Äù: just look at the picture.  Here is the same building of the Stanford Church.  So it looks on fresh 3d-cards from Apple and on our map.  We think the difference is obvious. <br><br><img src="https://habrastorage.org/storage2/33a/4ff/9ad/33a4ff9ad3b7609729d86ce7d99d09f6.png"><br><br>  pps Yesterday we tried to publish on Habr√©, but let GAE down the billing and we were out of quota. <br></div><p>Source: <a href="https://habr.com/ru/post/147999/">https://habr.com/ru/post/147999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../147988/index.html">Firefox 14 is available for download.</a></li>
<li><a href="../147990/index.html">We translate from Bencode to XML</a></li>
<li><a href="../147991/index.html">Quadcopter-R2. Upgrade</a></li>
<li><a href="../147993/index.html">The largest index of pirated content</a></li>
<li><a href="../147996/index.html">Networks for the smallest. Part Five ACL and NAT</a></li>
<li><a href="../148000/index.html">Edit-in-place on Bootstrap components</a></li>
<li><a href="../148001/index.html">Review of fresh materials, April-June 2012</a></li>
<li><a href="../148002/index.html">The ideal student, or what is silent in machine learning</a></li>
<li><a href="../148003/index.html">Completed the contest on VK messenger for Android</a></li>
<li><a href="../148004/index.html">Increase web application stack security (LAMP virtualization, step 1/6)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>