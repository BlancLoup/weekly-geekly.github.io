<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Zend Framework 2 - long-awaited improvements in Controller and View</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The other day I tried the new ZF2. I re-read a bunch of material, collected a simple saytik on their tutorial. And when I reached the creation of Acti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Zend Framework 2 - long-awaited improvements in Controller and View</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/be1e66d6/e8ae3018/923c8e7c/df7464ee.png" alt="image" align="left">  The other day I tried the new ZF2.  I re-read a bunch of material, collected a simple saytik on their tutorial.  And when I reached the creation of Action and View'hi, then the limit of my joy knew no bounds.  Passing variables to the view is now done via return, and they become local (no $ this-&gt; param).  Only for the sake of this improvement, I am ready to switch to ZF2 right now, despite the fact that it is in beta. <br><br>  Under the cat you will find: a brief about innovations, about performance and about changes regarding the controller and view templates. <br><a name="habracut"></a><br><br><h4>  Innovations ZF2, which everyone talks about: </h4><ul><li>  improved performance </li><li>  more flexible approaches, improvements in standardization and unification are used </li><li>  redesigned model for working with plugins </li><li>  widespread use of namespaces </li><li>  no more calls to require_once inside components (all via autoloader) </li><li>  2 new basic components of <a href="http://www.slideshare.net/fabpot/dependency-injectionzendcon2010">Dependency Injection</a> and <a href="http://habrahabr.ru/blogs/zend_framework/131077/">EventManager</a> (DI is unquestionably cool, but it scares its magic of setting parameters to objects by the names of variables in methods. Usually such magic negatively affects performance. EventManager is a handy thing. Logging, caching, pre- and post-processing data is now at the highest level) </li></ul>  The developers tried and did a decent <a href="https://github.com/zendframework/ZendSkeletonApplication">ZendSkeletonApplication</a> - this is a simple application skeleton, using the ZF2 MVC layer and system modules.  The skeleton uses free css and html <a href="http://twitter.github.com/bootstrap/">tools</a> from twitter.  We get a nice web2.0 site from one page that is easy to inflate to a full-fledged site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Concerning ZF2 performance </h4><ul><li>  at the expense of new autoload, Class Map gives up to 85% performance improvement compared to ZF1 </li><li>  use of namespaces up to 40% (at first I thought it was a minor bun in PHP5.3 and is purely aesthetic) </li><li>  reduced number of calls when using plugins (7 calls instead of 13, I think we can talk about double acceleration) </li><li>  M <u><b>VC</b></u> refactoring (should accurately give a tangible increase in performance. The usability has improved by an order of magnitude.) </li></ul>  It is difficult to estimate, but it is safe to assume that productivity will increase no less than twice. <br><br><h4>  Long-awaited improvements in Controller and View </h4><br>  Finally accomplished!  In action controllers, the transfer of variables has ceased to be magic.  Instead of the ugly $ this-&gt; view -&gt; ..., now the action should return an associative array with the data for the view.  I will give examples for comparison. <br><br>  <b>It was ZF1:</b> <br><blockquote>  <font color="#000000">public</font> <font color="#000000">function</font> indexAction <font color="#009900">(</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">albums</font> <font color="#339933">=</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">albumTable</font> <font color="#339933">-&gt;</font> <font color="#004000">fetchAll</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">user</font> <font color="#339933">=</font> <font color="#cc66cc">123</font> <font color="#339933">;</font> <br>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">text</font> <font color="#339933">=</font> <font color="#0000ff">'any &lt;html&gt; it will not be automatically escaped in view'</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> </blockquote><br>  <b>It became ZF2:</b> <br><blockquote>  <font color="#000000">public</font> <font color="#000000">function</font> indexAction <font color="#009900">(</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#b1b100">return</font> <font color="#990000">array</font> <font color="#009900">(</font> <br>  <font color="#0000ff">'albums'</font> <font color="#339933">=&gt;</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">albumTable</font> <font color="#339933">-&gt;</font> <font color="#004000">fetchAll</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">,</font> <br>  <font color="#0000ff">'user'</font> <font color="#339933">=&gt;</font> <font color="#cc66cc">123</font> <font color="#339933">,</font> <br>  <font color="#0000ff">'text'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'any &lt;html&gt; it will be automatically escaped in view'</font> <font color="#339933">,</font> <br>  <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> </blockquote><br><br>  View templates are also transformed for the better.  Variables became local (available by their name), and helpers remained available through $ this-&gt; helper ().  All string variables are automatically escaped to avoid XSS.  Arrays and objects remain unchanged, therefore, when deriving values ‚Äã‚Äãfrom them, it is necessary to pass through $ this-&gt; escape (); <br>  Writing and reading code has become more convenient. <br><br>  <b>It was ZF1:</b> <br><blockquote>  <font color="#000000">&lt;? php</font> <br>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">headTitle</font> <font color="#009900">(</font> <font color="#0000ff">'My albums'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000000">?&gt;</font> <br><br>  <font color="#000000">&lt;? php</font> <br>  <font color="#b1b100">foreach</font> <font color="#009900">(</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">albums</font> <font color="#b1b100">as</font> <font color="#000088">$ album</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#666666">// some code</font> <br>  <font color="#009900">}</font> <br>  <font color="#000000">?&gt;</font> <br><br>  <font color="#000000">&lt;? php</font> <br>  <font color="#b1b100">echo</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">escape</font> <font color="#009900">(</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">text</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000000">?&gt;</font> <br></blockquote><br>  <b>It became ZF2:</b> <br><blockquote>  <font color="#000000">&lt;? php</font> <br>  <font color="#666666">// all helpers are also available via $ this</font> <br>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">headTitle</font> <font color="#009900">(</font> <font color="#0000ff">'My albums'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000000">?&gt;</font> <br><br>  <font color="#000000">&lt;? php</font> <br>  <font color="#666666">// the albums from the action from the example above are available via a local variable</font> <br>  <font color="#b1b100">foreach</font> <font color="#009900">(</font> <font color="#000088">$ albums</font> <font color="#b1b100">as</font> <font color="#000088">$ album</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#666666">// some code</font> <br>  <font color="#009900">}</font> <br>  <font color="#000000">?&gt;</font> <br><br>  <font color="#000000">&lt;? php</font> <br>  <font color="#666666">// there is no need to call escape, all scalar values ‚Äã‚Äãare automatically escaped</font> <br>  <font color="#666666">// arrays and objects are skipped and get into view as is</font> <br>  <font color="#b1b100">echo</font> <font color="#000088">$ text</font> <font color="#339933">;</font> <br>  <font color="#000000">?&gt;</font> <br></blockquote><br>  In my opinion this is the most "delicious" improvement in ZF2. <br><br><h4>  How to try and what to read </h4><br>  Zend Framework 2 is in beta state.  I saw somewhere that the stable release will be in the spring of 2012. But you can use it at your own risk now. <br><br>  Be sure to put the latest PHP 5.3.8.  On PHP 5.3.2, I got a Strict Standart error. <br>  Under Windows, I had to install a new <a href="http://www.apachelounge.com/download/">Apache 2.4 compiled for VC9</a> .  Download PHP x86 TS VC9 <a href="http://windows.php.net/download/">from here</a> , extensions apc and mongo <a href="http://downloads.php.net/pierre/">from here</a> , pick up php_xdebug.dll on the official website by <a href="http://xdebug.org/find-binary.php">sending</a> your phpinfo in a form. <br><br>  First of all, read a good article in Russian <a href="http://tokarchuk.ru/2011/11/zend-framework-2-materials/">"Zend Framework 2. Materials for study"</a> on the site tokarchuk.ru. <br><br>  Then use the wonderful tutorial <a href="http://akrabat.com/wp-content/uploads/Getting-Started-with-Zend-Framework-2.pdf">Getting Started with Zend Framework 2</a> (PDF, en), with which you will install ZF2 in an hour or two and create a test module "album". </div><p>Source: <a href="https://habr.com/ru/post/135768/">https://habr.com/ru/post/135768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135761/index.html">What a project manager should know about testing</a></li>
<li><a href="../135763/index.html">Yandeks.Slovari - Using words from the "Notebooks" in the "Test Yourself" block</a></li>
<li><a href="../135764/index.html">Making a Valli robot</a></li>
<li><a href="../135765/index.html">WipeOut in reality</a></li>
<li><a href="../135767/index.html">Nginx overtook Microsoft IIS and came in second place on active sites</a></li>
<li><a href="../135769/index.html">[archlinux testing news] MIT is not needed. Long live kmod-3!</a></li>
<li><a href="../135770/index.html">New release of NetBeans IDE 7.1 released</a></li>
<li><a href="../135771/index.html">On Monday, Gorilla Glass 2 will be presented.</a></li>
<li><a href="../135772/index.html">Canobuvosti, 125th edition</a></li>
<li><a href="../135773/index.html">Broadcom Launches IEEE 802.11ac Chips</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>