<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make a simple three-dimensional toy on Unity in two days</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The most graphically impressive project of our hackathon was Skyeng Action. When the author presented his idea on the eve of the event, few people bel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make a simple three-dimensional toy on Unity in two days</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/pu/g3/db/pug3dbji77nqef7xu7ja9o7j8nk.jpeg"><br><br>  The most graphically impressive project of our hackathon was Skyeng Action.  When the author presented his idea on the eve of the event, few people believed that it would be brought to working condition in two days.  Nevertheless, the team of three previously unacquainted neither with each other nor with Unity developers successfully coped with the task.  We tell how it was. <br><a name="habracut"></a><br><h3>  Idea </h3><br>  When we make our applications, we almost always try to gamify them, add some elements of the game: achievements, prizes, competitiveness.  In this case, the idea was to go from the opposite: to take the game as a basis, and to introduce elements of training into it. <br><br><img src="https://habrastorage.org/webt/3k/si/or/3ksiorrwhoapv_3ae3nisrxpcsm.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Gradually, this idea crystallized into the concept of a 3D toy, built on a short game cycle of a minute or a few minutes.  This is not Far Cry to stick for hours, but the ability to quickly run somewhere, practice a few words and go about your business again.  The toy should be networked, one on one with the person, and not with the bot.  Three-dimensional maze, which you can stupidly run all over from the beginning to the end, and you can find special gates that allow you to cut, if you remember the word correctly.  Accordingly, the winner is the one who recalls words faster and more accurately - well, if the score is equal, the one who ‚Äúruns‚Äù faster in the virtual space. <br><br>  Given the limited time of the hackathon, it was decided to make the logic and one level (with the ability to quickly add new ones later);  sew the words for the demo version directly into the game (so as not to be distracted by other tasks such as connecting the Skyeng API);  for now, abandon any backend and make direct connection of players to each other over a local network, in which one acts as a server and the other as a client. <br><br><h3>  Team </h3><br>  Three people entered the Skyeng Action team: two Kodili, the third designed levels.  Plus, the fourth "freelance" 2D-designer who helped with the design of menus. <br><br>  It is noteworthy that these three developers before the hackathon were not only not personally acquainted, but also had practically no experience with the tools on which everything was done.  The author of the idea wrote toys a long time ago at school, with Unity, I picked a couple of days at my leisure and had Java programming experience, but not C #;  the second developer had experience with C #, but not gaming;  Well, the level designer never did anything like that (a developer without experience with Unity and C #) - he just came to the hackathon without a team and joined on the spot. <br><br><img src="https://habrastorage.org/webt/if/9e/at/if9eatslgmbbtovlbnfoqfgauv8.png"><br><br>  As a result, the process of creating Skyeng Action turned out to be no less fascinating than the result: full-fledged teamwork built from scratch.  Considering that everyone was engaged in their own part of the project, and its assembly took place on the night before the presentation, it was at least amusing.  Colleagues who at two o'clock in the morning watched a rectangle soaring in the void on one monitor, pieces of code on the second and a set of static pictures on the third, did not believe that this project would be brought to mind.  However, at three o'clock everything worked, and at the presentation these colleagues were quite surprised. <br><br><img src="https://habrastorage.org/webt/gi/xt/hp/gixthpl84h8b2hwqygiobopyxjy.png"><br><br><h3>  Device </h3><br>  To write a 3D toy in two days from scratch is an impossible task.  Fortunately, Unity contains a simple and clear level editor and a huge number of ready assets, both in the library of standard components and in the <a href="https://www.assetstore.unity3d.com/en/">asset store</a> .  Unity allows you to quickly construct an MVP, a minimally viable version of the game, using off-the-shelf components that are not always ideal, but at least show the logic of the process.  For example, the same door is not so difficult to do on your own, but this task would have eaten precious time;  a ready-made object was used, which varies in geometry, speed and direction of opening, texture.  As a result, the game logic and some unique elements were written independently, and the environment and interaction of objects are taken from the library (Nature Starter Kit 2, Character Pack: Free Sample, FirstPersonCharacter).  For multiplayer, what was also used in Unity was used: client and server in the same application;  On one computer, a server is started that sends a message on the local network, on the other, a client that waits for this message (the built-in components NetworkDiscovery, NetworkManager, NetworkIdentity, NetworkTransform). <br><br>  However, the work on the project was not limited to dragging ready assets into the basket;  It was written about a thousand lines of code.  One of its own objects was a tablet attached to the door and showing a puzzle with the word. <br><br><img src="https://habrastorage.org/webt/rv/x5/2m/rvx52m7pt87mixgqxxpqgoaegdy.png"><br><br>  Below are a few code fragments from the component that defined its behavior (it implements the transfer of control to the camera that is not tied to the player, it approaches the tablet): <br><br><pre><code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// playerCamera - ,    // flyingCamera - ,     // source -     // target -     // positionSource -     // positionTarget -     // tablet - ,    .    -   . // spaceBeforeTablet -        float spaceBeforeTablet = 0.5f; playerCamera.gameObject.SetActive(false); flyingCamera.gameObject.SetActive(true); Vector3 source = flyingCamera.transform.forward; //           . //             , //    ""  .      . //    -    180 .       -  -90. Vector3 target = Quaternion.AngleAxis(90, Vector3.up) * tablet.transform.forward; Vector3 positionSource = flyingCamera.transform.position; Vector3 positionTarget = tablet.transform.position - target * spaceBeforeTablet; StartCoroutine(MoveCamera(flyingCamera, source, target, positionSource, positionTarget, null));</span></span></code> </pre> <br>  Coroutine in Unity is a process that can take more than one frame.  Approaching the camera to the tablet is one such process. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MoveCamera</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> Camera camera, Vector3 source, Vector3 target, Vector3 positionSource, Vector3 positionTarget, Camera cameraToActivateInTheEnd</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> animationStart = Time.time; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> animationEnd = animationStart + cameraAnimationDuration; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Time.time &lt; animationEnd) { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> phase = (Time.time - animationStart) / cameraAnimationDuration; camera.transform.forward = Vector3.Lerp(source, target, phase); camera.transform.position = Vector3.Lerp(positionSource, positionTarget, phase); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForEndOfFrame</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; } camera.transform.forward = target; camera.transform.position = positionTarget; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cameraToActivateInTheEnd != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { flyingCamera.gameObject.SetActive(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); cameraToActivateInTheEnd.gameObject.SetActive(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); } }</code> </pre> <br>  Fly back to the camera tied to the player: <br><br><pre> <code class="cs hljs"> Vector3 source = flyingCamera.transform.forward; Vector3 target = playerCamera.transform.forward; Vector3 positionSource = flyingCamera.transform.position; Vector3 positionTarget = playerCamera.transform.position; StartCoroutine(MoveCamera(flyingCamera, source, target, positionSource, positionTarget, playerCamera));</code> </pre> <br><img src="https://habrastorage.org/webt/iv/gd/wp/ivgdwp_k0bqw-p6vhucdt_1j--w.png"><br><br><h3>  Result </h3><br>  Summing up, we can note the following: <br><br>  - The team members got acquainted with brand new tools that they had not dealt with before.  It was possible to avoid the situation at all ‚Äúa hackathon is the same job, only in the forest‚Äù; <br><br>  - the ability to quickly prototype 3D applications and games using Unity and a certain enthusiasm was demonstrated; <br><br>  - the MVP-version of a simple toy with useful educational content was brought, which can be quite easily developed and maintained; <br><br>  - a wow effect was achieved on the presentation, since no one expected that such a colorful picture could be achieved in two days. <br><br>  But the main thing - all this was done by people who actually met at the hackathon and managed to quickly establish teamwork. <br><br>  And we remind that we are constantly in <a href="https://moikrug.ru/companies/skyeng/vacancies">search of cool people in our team</a> ! <br><img src="https://habrastorage.org/getpro/habr/post_images/b79/8f4/ce7/b798f4ce7359fd815df4bdf76503b295.gif"><img src="https://habrastorage.org/getpro/habr/post_images/563/98e/76b/56398e76be6355ad5999b262208a17c9.gif"><img src="https://habrastorage.org/getpro/habr/post_images/df3/e56/7d6/df3e567d6f16d040326c7a0ea29a4f41.gif"><img src="https://habrastorage.org/getpro/habr/post_images/d89/746/888/d89746888da2d9510b64a9f031eaecd5.gif"></div><p>Source: <a href="https://habr.com/ru/post/342872/">https://habr.com/ru/post/342872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342860/index.html">Startup history ROI4CIO: Is it possible to automate the sale of IT solutions in the B2B sector and not only?</a></li>
<li><a href="../342862/index.html">Should I use the tabular model SSAS?</a></li>
<li><a href="../342864/index.html">The second wave cnPilot</a></li>
<li><a href="../342868/index.html">Indexing is global and not very</a></li>
<li><a href="../342870/index.html">Manage Windows Server over SSH in the Azure Pack Infrastructure Cloud</a></li>
<li><a href="../342876/index.html">Impression of the 3rd Innovate or Die Conference</a></li>
<li><a href="../342880/index.html">Why you have no future without a strategy?</a></li>
<li><a href="../342882/index.html">Digital Friday 2017</a></li>
<li><a href="../342884/index.html">The story of the creation of the second game on Unity (or how I found strength after the first failure)</a></li>
<li><a href="../342886/index.html">GitHub warns developers about vulnerabilities in their projects.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>