<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How the Cardberry loyalty card aggregator works</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In my wallet a lot of space is occupied by discount cards. These are at least three cards from stores of children's goods, a couple of cards from elec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How the Cardberry loyalty card aggregator works</h1><div class="post__text post__text-html js-mediator-article"><p>  In my wallet a lot of space is occupied by discount cards.  These are at least three cards from stores of children's goods, a couple of cards from electronics stores, cosmetics, cards for pharmacies and grocery stores.  The <a href="https://cardberry.com/ru">Cardberry</a> project <a href="https://cardberry.com/ru">was</a> conceived as a way to get rid of a large amount of plastic, replacing it with a single, commensurate device. </p><br><p>  And now you can buy this card.  I tested it on myself and found out if it is easy to use and whether it is accepted in stores.  Then I realized that this would not be enough, and looked into the office to Cardberry, to communicate with the founders and developers. </p><br><p>  <strong>Leave questions in the comments - I invited the founders to Geektimes to answer them.</strong> </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/d7f/475/e94/d7f475e94924fdb7e5469da786c9892f.png"></p><a name="habracut"></a><br><p>  Relief wallets began with the transition from coins to paper money, and then - to <a href="https://geektimes.ru/post/277182/">plastic cards</a> .  Cardberry's concept is to free the wallet from a large number of plastic cards that we carry with us all the time - this is primarily about loyalty cards, but in the future we will work with bank cards. </p><br><p>  The company's history began with the idea of ‚Äã‚Äãcreating a universal plastic card in November 2013.  Then the founders began to analyze the technologies used.  Cards were divided into three types - with a magnetic stripe, with a bar code and with a number, as well as combined.  The main and most important element of the Cardberry card is the magnetic stripe.  If a barcode from any discount card can be photographed and shown on the phone screen in a store, and is highly likely to be able to be counted, then a magnetic stripe cannot be obtained without the card itself.  Therefore, the greatest problem was precisely the emulation of the magnetic strip. </p><br><p>  The magnetic stripe on the map is, in fact, a tape with positively and negatively magnetized areas.  When the card is pulled through the reader, a magnetic field is created on the read head.  The developers had the task to recreate the sequence of the changing magnetic field on the head of the card reader.  Among the first prototypes of the card was a device with USB, with serial coils ColiCraft, with longitudinal winding.  Data from these cards was read correctly in 30-60% of cases.  More details about the first prototypes <a href="https://habrahabr.ru/company/cardberry/blog/231465/">were written by the developers themselves at Habrahabr</a> . </p><br><p>  For the first time, it was possible to buy something in the store using Cardberry on March 14, 2014, but this technology was not suitable for further use for several reasons.  Including because the signal transmission was not a point, and information from one track could be read on all three.  Due to the mutual influence of magnetic fields, the second track was inoperable.  The prototype at the same time worked from three finger-type batteries, which from the point of view of the concept was a huge minus. </p><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1d5/1d5/756/1d51d57565f300693ae3248a2a6234b9.png" width="600"><br><p>  <i>Prototype</i> </p><br><p>  Emulation of a magnetic strip without the magnetic strip itself proved to be a difficult task.  The existing technology of this type was not found, so Cardberry developed its own module that can recreate the first and second of the three tracks of the magnetic strip.  A coil with an ultrathin core with high magnetic permeability was made, a way was found to remove the magnetic field pickups on neighboring tracks - the Cardberry card became three-track.  But it was not enough to design it - it was also necessary to find factories that can produce such a module together with other components of the device. </p><br><p>  The next call concerned the issue of entering data on the card.  All work goes through the appropriate application, but how to record the data from the loyalty card on Cardberry for use in the store?  This question seemed simple, until the developers found out that the readers, firstly, are expensive if they work with more than one track, and, secondly, they work unstable with different models of smartphones.  In addition to designing my own module for emulating a magnetic strip, I had to make my own reader with a charger. </p><br><p>  The reader is also a charger.  Charging method - contactless.  The receivers existing in the market turned out to be too thick, therefore a receiving coil with a 0.1 mm flexible plate was developed.  A screen is being used to transfer data from a magnetic strip - the corresponding QR code is generated on it.  Now there is a new device that is free from the display - it transmits data to the smartphone directly via Bluetooth. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/1e3/58f/7f1/1e358f7f1d50436cb4bce264f7994656.png"><br></p><br><h2>  Production </h2><br><p>  In order for the card to be easily rolled into the reader and placed in the users' wallets, its thickness should not exceed 0.87-0.89 millimeters.  In this gadget, this should fit the battery, which does not have to be put every day to charge.  At first it turned out to find batteries with a capacity of 60 - 80 mAh with a thickness of 0.55 mm to 0.67 mm, but in this case the device was too thick.  We stopped at a lithium-polymer battery with a capacity of 20 mAh, whose thickness is 0.5 millimeter. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/70e/427/9b3/70e4279b331a5ae3ca10fbab25b0e3ec.jpg" width="600"><br><p>  <em>One of the first batteries that tried to use the card</em> </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/c86/74f/165/c8674f1650eea8d346b5a1ca99f992f9.png"><br>  <em>Here and further, the schemes on the map are conceived, since publishing them will prevent the device from being patented.</em> </p><br><p>  The card must communicate with the phone, so it needs a fast receiver.  All work with the application and the card should be carried out directly at the store's checkout, so an increase in time can add only inconvenience to the user.  For this, a miniature Bluetooth module was used. </p><br><p>  The LED module allows you to emulate a bar code.  In the store for this you need to send a scanner beam to the device. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/6bd/e1e/abd/6bde1eabd87961fa2baf775f7fa6cafb.png"></p><br><p>  The first prototypes were made on the basis of thick printed circuit boards.  For the card, a flexible board with a thickness of 0.1 millimeter was needed.  The problem is that in Russia such boards are not made to order by commercial companies.  In order to set up production, one of the company's employees, Alexander, lived for about a year and a half in the Chinese city of Shenzhen. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/9fe/9d6/50e/9fe9d650e9f7c7f07bd45d68f395c235.png"><br></p><br><p>  Due to large-scale investments, the city of Shenzhen has become a major industrial and financial center in a short period of time.  This is one of the reasons for the choice - it was convenient to negotiate with various factories here. </p><br><p>  Alexander spoke about the difficulties and intricacies of the relationship with Chinese partners.  First of all, he debunked the myth of the workaholism of the Chinese: "We collect a sample with two girls and one English-speaking manager. Time is ten minutes to six, work remains for half an hour. Exactly at six the bell rings, the girls relax their hands, the components fall on the table, and they get up and leave. The manager already had to linger and help finish the job. " </p><br><p>  The second important problem is that the Chinese do not know how to say no.  They take on any work, say that they are able to do it efficiently and quickly, but in the end, after receiving the money, they can do something similar to the necessary component and say "This is all that we could."  It took a long time to correspond with the factories in order to return at least part of the money.  ‚ÄúThen we decided to go differently: we paid a little money for the sample, and only after that we made a large order,‚Äù adds Alexander. </p><br><p> When it was possible to make and break in the production of components, one more important question remained: the frame.  The technology of creating smart cards did not fit, because the sintering of layers under pressure and at high temperature is technically impossible in the case of such a gadget.  As a result, we stopped at a transparent PVC case, which was then applied to the drawing. </p><br><p>  It looks like the map before painting.  One can see a square battery, a module that emulates a magnetic strip, a bluetooth module, a button. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/85e/9c1/b1c/85e9c1b1c82bc53c66164169eb975aed.png"><br></p><br><p>  Left - collected in China map.  On the right is a map, the assembly and painting of which took place in Russia, in the Moscow region town of Pushkino in its own shop. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/08d/29d/327/08d29d327402b8cc2ed4a8038964d627.png"><br></p><br><p>  After receiving the collected cards, you must flash them.  To do this, use a snap. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/4c6/1d0/ca1/4c61d0ca1c12fa7aa7d09833d5a1a25a.png"><br></p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/6b4/2c9/f2b/6b42c9f2bd2d67d7a254d6fba69c1666.png"></p><br><p>  At this booth the cards are being tested.  A certain percentage is rejected.  Which is a commercial secret, unfortunately. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/69c/d2e/a31/69cd2ea31b9bf53dd3ce65760bd341b4.png"></p><br><h2>  Outcome and outlook </h2><br><p>  The product comes in a nice little cardboard box.  The Cardberry package consists of a card, a reader for recharging the card and entering data from a magnetic strip of loyalty cards into the application, and from the Android and iOS application itself, which allows you to manage and share your cards with friends.  You only need to carry a card and a smartphone with you - the device's battery should last for many days. </p><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d6e/a4d/b1b/d6ea4db1be551240a797acccf588ca33.png"><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/ef6/3a7/55c/ef63a755cfddf3c437a90d398facdad6.png"></p><br><p>  To get started, you need to download the application and enter data from loyalty cards.  In the process you are photographing the map from two sides, put bar codes in the application.  If the card is equipped with a magnetic stripe, then you pass it through the reader, which forms a QR code - and you scan it with a smartphone. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/1e3/58f/7f1/1e358f7f1d50436cb4bce264f7994656.png"></p><br><p>  In the store, you press the button on the map, open the application on your smartphone and select the desired loyalty card.  Then - give Cardberry at the checkout. </p><br><p>  Reader and the card itself will soon undergo changes.  To get rid of the extra component - namely, the display on the reader - the data after rolling the card will be transmitted via Bluetooth to the smartphone.  Charging will be a contact - for this purpose, a module is used, resembling a chip on a bank card, but not being one. </p><br><p>  This is what the next generation reader looks like: </p><br><p><img src="https://habrastorage.org/files/11b/3a6/29b/11b3a629b5ea4acf977f9832b17ee78b"><br></p><br><p>  The fee for the reader is on the left for the first generation, on the right for the second. </p><br><p><img src="https://habrastorage.org/files/884/3dd/1f0/8843dd1f0b994e178251a58f4d0274ea.png"><br></p><br><p>  The next generation card features a smaller battery and the presence of charging contacts. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/1f6/a4f/ae1/1f6a4fae102596d9e11065ebc2f92340.png"><br></p><br><p>  The map may receive a display in the future.  This is one of the options: a display showing the first three characters of the name of the card or its number, a Bluetooth signal, a battery and other data. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/45d/6df/469/45d6df469b63632726e4a52b0c86bc99.png"><br></p><br><p>  Immediately did not use the display, because the finished modules were too cumbersome.  If this idea is developed, in any case it will be necessary to design your own version.  The display on the background of the map shows how much one of the existing modules would occupy space. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/691/178/eab/691178eab7ea93a0988a1f8f00d49b9a.png"><br></p><br><h2>  Sales </h2><br><p>  From the very beginning, the company positioned the device as a gadget for girls who have a lot of loyalty cards.  Later in the process of working with experts, the strategy was changed.  Now most of the buyers are men, as Marina Druzhenets, the founder of the project, says.  And they come thanks to the fact that they are talking about the map in various IT publications and at industry events, including competitions - Telecom Idea, Generation S. </p><br><p>  I wonder how the prices for this device have changed over time, and how it affected sales.  One hundred dollars two years ago is not such big money as one hundred dollars today.  However, people left pre-orders.  For the New Year 2015-2016, the card was sold for 5500, and now for 8500. At the same time, the number of sales has not changed, from which it was concluded that people interested in such a gadget buy a card for which the price in a certain plug is not an important factor. </p><br><p>  Cardberry has already switched to self-sufficiency, but now there is a minimal budget for marketing.  Articles in IT publications and public speaking allow people to learn about the project. </p><br><p>  In terms of monetization, the company has a number of developments.  First, joint projects with banks are possible.  Such projects would allow the use of a co-branded Cardberry as a bank card out of the box.  Secondly, retailers may be interested in Cardberry.  They will receive information about cardholders, will be able to issue free discount cards instead of spending money on the production of physical cards, as well as the ability to send information about promotions and discounts based on geolocation to the client and communicate with the client in real time through the application. </p><br><p>  To date, over a thousand Cardberry sets have been sold.  The company actively leads sales in the corporate segment - the cards are branded as a corporate gift. </p><br><h2>  Analogs and competitors </h2><br><p>  The main global trends in consumer loyalty at the moment: </p><br><ul><li>  Mobile technology.  The percentage of smartphones continues to grow, and the prices of such devices - to fall. </li><li>  Smart cards.  The card chip stores data on transactions, detailed information about the level of the program participant, rules for charging bonuses, data on discounts and promotions. </li><li>  NFC and RFID.  Chips of wireless communication in maps and smartphones. </li><li>  Geolocation targeting.  GPS and GLONASS allows you to determine the location of the client so that the seller can convey the most relevant offers. </li><li>  Big data.  Analysis of large amounts of data allows you to identify patterns in customer behavior, so that, again, convey to him the most relevant suggestions. </li></ul><br><p>  People do not enjoy the benefits of loyalty programs in full.  In Russia, on average, there are 12-14 discount cards per person, of which 70% are not used, and every three cards out of five are lost or deteriorated.  It‚Äôs inconvenient to carry them with you, so with great pleasure 30% of consumers are ready to switch to digital loyalty programs - for example, receiving cards through an application without their physical option. </p><br><p>  Retailers are interested in retaining old customers, as attracting a new one is seven times more expensive, and the average check of a loyal customer is 67% more than a new customer‚Äôs check.  An effective loyalty program generates up to 20% of additional store profits. </p><br><p>  To solve these problems, and in the wake of existing trends, the development of applications and devices has begun, allowing users to be included in loyalty programs. </p><br><p>  In the Russian market, the only competitors are map aggregators in the form of mobile applications.  Such applications allow you to store a barcode or card number, but not a magnetic strip.  From the screen of the phone, not all scanners can read the barcode, in addition, problems arise due to the beam of the reader gleaming from the screen. </p><br><p>  In several models of Samsung smartphones used technology Loop.  It allows you to reproduce a magnetic strip by a magnetic field, but this possibility is limited to one track, with interference to unused coils (tracks) of the magnetic head.  The Korean company uses technology for its payment system.  Since only one track is emulated, Samsung went for a trick: a non-chip card with a magnetic stripe and PayPass is translated into a digit for writing to a smartphone, but only its copy with a single track. </p><br><p>  The first idea in the world to bring all the cards into one was proposed by a startup <a href="https://stratoscard.com/">Stratos</a> in 2012.  But the card can still only be "reserved" - it did not come out in the series.  Later <a href="http://fortune.com/2015/09/23/coin-2-0-review/">Coin</a> cards were issued - about 300 thousand units in the USA, but in May 2016 sales were stopped, and the technology was bought by FitBit.  Three more startups - Plastc, Swype, Brilliant card - have not yet released the finished product to the market. </p><br><p>  In early 2016, LG introduced the <a href="https://geektimes.ru/post/270158/">LG Pay</a> card aggregator.  As in the case of Cardberry, the system is distinguished from Apple Pay, Google Wallet and Samsung Pay by the presence of a physical device - the White Card.  The card <a href="https://www.engadget.com/2016/07/07/will-lg-s-payment-card-succeed-where-others-have-failed/">may appear</a> until the end of 2016. </p><br><h2>  Results </h2><br><p>  Cardberry card is a convenient assistant for the aggregation of loyalty cards.  The main difficulties are in the human factor: older sellers may not accept such a device.  In some stores, you may encounter the fact that employees are not ready to accept the card due to the lack of an agreement with the developers. </p><br><p>  Not all scanners recognize the LED barcode.  In this case, you have to show the barcode from your smartphone, but even then the old scanners may not cope with the task. </p><br><p>  The main question that arose among many people at the presentations of the device is whether it is possible to add bank cards.  At the moment the question is being worked out, but due to the lack of certain security measures, it is not recommended to do this.  In the future, co-branding with banks is planned, or the opportunity to add data from any bank cards that are not equipped with a chip without restriction. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/397401/">https://habr.com/ru/post/397401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../397389/index.html">VimpelCom Ltd. officially confirmed the resignation of Beeline CEO Mikhail Slobodin</a></li>
<li><a href="../397391/index.html">[Crowd mower] - a lawn mower that anyone can control via the Internet</a></li>
<li><a href="../397393/index.html">Goodbye Roaming - Hello, –°wSim</a></li>
<li><a href="../397397/index.html">Physics at the limit of the universe</a></li>
<li><a href="../397399/index.html">MIT terahertz scanner reads closed books and sealed letters</a></li>
<li><a href="../397403/index.html">SLO: film camera, fully printed on a 3D printer</a></li>
<li><a href="../397405/index.html">Spacecraft</a></li>
<li><a href="../397407/index.html">How the sugar industry paid for Harvard's research on fat damage</a></li>
<li><a href="../397409/index.html">GKNPTs them. Khrunicheva announced the creation of the "Middle" and "Light" versions of the "Proton-M"</a></li>
<li><a href="../397411/index.html">Resurrection of the corpse. Four years later, Adobe resumed the update cycle of Flash Player NPAPI for Linux.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>