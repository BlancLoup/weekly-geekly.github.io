<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pimping wheelbarrow - we customize and expand the capabilities of the D-Link DNS-325</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="NAS. Network-accessible file storage, a place to drain backups, the ability to store the necessary data in one place. But not only! Today we will rewa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pimping wheelbarrow - we customize and expand the capabilities of the D-Link DNS-325</h1><div class="post__text post__text-html js-mediator-article">  NAS.  Network-accessible file storage, a place to drain backups, the ability to store the necessary data in one place.  But not only!  Today we will reward our DNS-325 with new features.  Owners of devices of the same series (for example, DNS-320, DNS-345, DNS-346) also will not leave offended.  Under the cat more than a dozen photos and screenshots, beware! <br><img src="https://habrastorage.org/storage2/69f/5a0/375/69f5a037502c888805ace10c6edc2f04.jpg"><a name="habracut"></a><br><br>  Why this particular NAS?  Firstly, it has quite decent characteristics: almost silent cooling, 2 disks with SATA2 interface (not everyone needs 3 disks, 1 disk - not enough), 1.2 GHz processor and 256 RAM.  In addition, it installs the very real linux itself, which means you can get it to do almost anything!  I want to warn you in advance - I am not a very experienced linux user, so if I‚Äôve gotten used to terminology somewhere, forgot something or added an extra step, I‚Äôll be happy with the comments! <div class="spoiler">  <b class="spoiler_title">0. Update firmware</b> <div class="spoiler_text">  First of all, I highly recommend upgrading the firmware, good, the latest version greatly stabilizes the work and removes a lot of bugs, for example, in the work of the FTP server.  Updating is very simple - download the firmware from official FTP - <a href="">ftp://ftp.dlink.ru/pub/NAS/DNS-325/Firmware/</a> (at the time of writing the latest version 1.03, the file <a href="">ftp://ftp.dlink.ru/ pub / NAS / DNS-325 / Firmware / DNS-325_A1_FW_v1_03.rar</a> ), unpack (tar file will be inside), go to this page in the system and update: <img src="https://habrastorage.org/storage2/334/574/ba5/334574ba5acb6ad20c6b9ea7c40f7f32.png"></div></div><div class="spoiler">  <b class="spoiler_title">1.It is important to know about the wheels.</b> <div class="spoiler_text"><ol><li>  The file system format is EXT3.  No options.  If you have another one - you will have to reformat, the NAS can do it yourself. </li><li>  The file system format of USB-screws and flash drives - as EXT3, and FAT / NTFS. </li><li>  Scripts to control the axis are placed on the first screw (Volume1), if you look at the NAS - it will be on the right. </li></ol></div></div><div class="spoiler">  <b class="spoiler_title">2. Create balls (folders available on the network)</b> <div class="spoiler_text">  Everything is simple, of course, but there is one catch that baffled not only me: to get a list of directories, you need to click on the name of a folder or screw. <img src="https://habrastorage.org/storage2/491/8b3/e96/4918b3e96b0635591f6ddcaf8364b5d5.png"><br>  After creating directories - create users. <br><img src="https://habrastorage.org/storage2/998/466/3ba/9984663ba1878745e03ca9076f62712e.png"><br>  In the same place on the go we specify which user needs access, except for SMB (standard for windows access to directories) - for example, FTP. <br><img src="https://habrastorage.org/storage2/ff8/eb8/051/ff8eb80515e6c1e9e4cf0b3334c74bbb.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">3. Connect FTP</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/331/a66/bd4/331a66bd40442c865af9a7dde4ef7691.png"><img src="https://habrastorage.org/storage2/540/52a/189/54052a189b8ec0ece0371911ca10c833.png">  As you can see from the screenshot, everything is simple.  But what is important: after adding new users or deleting old ones, it is highly desirable to restart FTP, if he didn‚Äôt do it himself. Also, if you have a NAS stuck in a router, do not forget to forward ports to the outside!  (if you need access to FTP from the server).  On my D-Link DIR-615, for example, the settings look like this: <img src="https://habrastorage.org/storage2/7c1/137/93e/7c113793efecf6be312a09ea50e80c7a.png"></div></div><div class="spoiler">  <b class="spoiler_title">4.Connect the video broadcast (UPnP media server than watch on android)</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/856/448/ed2/856448ed26afeaf5bbdf1f6c8c0dc688.png">  Turn on, select folders ... Supports all file types I have encountered.  Cons: Reindexing will have to run hands.  Unpleasant. What to watch video?  I have an android on my tablet and phone, so I use the free <a href="http://play.google.com/store/apps/details%3Fid%3Dcx.hoohol.silanoid%26hl%3Dru">UPnPlay</a> . </div></div><div class="spoiler">  <b class="spoiler_title">5. Install fun_plug (ssh access to NAS)</b> <div class="spoiler_text">  Take care of telnet and ssh-clients in advance - I use trite putty on Windows, but there are so many that I don‚Äôt dare to recommend something specific. <ol><li>  So, firstly, we upload the fun_plug file ( <a href="http://wolf-u.li/u/433">http://wolf-u.li/u/433</a> ) and fun_plug.tgz ( <a href="">http://inreto.de/dns323/fun-plug/0.7/arm/ fun_plug.tgz</a> ) </li><li>  Restarting the NAS - now we can connect via telnet.  Connect by name or address - no password! <br><br><img src="https://habrastorage.org/storage2/a84/037/92c/a8403792c76b52e2b6f5ffe64738fbce.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li><li>  Set root password <pre><code class="bash hljs">usermod -s /ffp/bin/sh root mkdir -p /ffp/home/root/ sed -ie <span class="hljs-string"><span class="hljs-string">'s#:/home/root:#:/ffp/home/root:#g'</span></span> /etc/passwd pwconv</code> </pre>  If ‚Äúusermod‚Äù errors appear: ‚Äúusermod: no changes‚Äù or ‚Äúpwconv‚Äù: ‚Äúpwconv: failed to change the mode of / etc / passwd- to 0600‚Äù '- just ignore them. <pre> <code class="bash hljs">passwd</code> </pre>  Enter the new password. <pre> <code class="bash hljs">login</code> </pre>  We enter the root username and your password - we receive in reply the message ‚Äúno mail‚Äù.  The following steps are required to save a password: <pre> <code class="bash hljs">wget http://wolf-u.li/u/172/ -O /ffp/sbin/store-passwd.sh store-passwd.sh</code> </pre>  Activate SSH <pre> <code class="bash hljs">chmod a+x /ffp/start/sshd.sh sh /ffp/start/sshd.sh start</code> </pre>  And now - we connect in another window via SSH, we answer in the affirmative to the question about saving the key, and if everything went smoothly - we disable the autostart of the telnet service in the first window: <pre> <code class="bash hljs">chmod -x /ffp/start/telnetd.sh</code> </pre>  Preparation is complete - now you have full access and full control over the system.  If, all of a sudden, you need to delete fun_plug, then <ol><li>  Delete the file in the root fun_plug </li><li>  Reboot </li><li>  Delete the ffp directory </li></ol></li></ol></div></div><div class="spoiler">  <b class="spoiler_title">6. Install additional repositories (needed for steps 7-9, and simply useful)</b> <div class="spoiler_text"><ol><li>  Add additional repositories <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"mijzelf http://downloads.zyxel.nas-central.org/Users/Mijzelf/FFP-Stick/packages/0.7/arm"</span></span> &gt;&gt; /ffp/etc/funpkg/sites <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"memiks http://ffp.memiks.fr/pkg"</span></span> &gt;&gt; /ffp/etc/funpkg/sites <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"kylek http://kylek.is-a-geek.org:31337/files/ffp/0.7-arm"</span></span> &gt;&gt; /ffp/etc/funpkg/sites</code> </pre></li><li>  Install Optware <pre> <code class="bash hljs">wget http://wolf-u.li/u/233 -O /ffp/start/optware.sh chmod a+x /ffp/start/optware.sh /ffp/start/optware.sh start</code> </pre></li></ol>  After these actions, I recommend to re-login.  Now you can work with repositories in two ways: <ol><li>  Through slacker.  It is quite convenient due to the full-fledged visual interface in text mode. <pre> <code class="bash hljs">slacker -U</code> </pre>  update information about available programs <br><br><pre> <code class="bash hljs">slacker -i</code> </pre>  install the program (select the desired one in the visual interface) <br><br><pre> <code class="bash hljs">slacker -r</code> </pre>  remove the program (select the desired one in the visual interface) <br></li><li>  Via ipkg.  Commands: <br><br><pre> <code class="bash hljs">ipkg update</code> </pre>  update information about available programs <br><br><pre> <code class="bash hljs">ipkg upgrade</code> </pre>  update installed programs <br><br><pre> <code class="bash hljs">ipkg install [ ]</code> </pre>  to install the program <br><br><pre> <code class="bash hljs">ipkg info [ ]</code> </pre>  get information about the program.  Templates can be used in the title, for example, ‚Äúscree *‚Äù <br><br><pre> <code class="bash hljs">ipkg remove [ ]</code> </pre>  remove the program. </li></ol></div></div><div class="spoiler">  <b class="spoiler_title">7. Install Midnight Commander (file manager)</b> <div class="spoiler_text">  Why is it needed?  Perform Operations on files and folders inside an array.  I like it more than the browser interface, it works faster, you can run on the background, log out, and it will copy / move itself. <ol><li>  Initially, I constantly had problems with Russian letters, colors, cursor control keys (choose any 2 or even 3), but the following algorithm was developed.  Actually, we install: <pre> <code class="bash hljs">ipkg install pcre glib e2fsprogs slang libpng mc</code> </pre></li><li>  Create a script called mc.sh (well, or whatever) in the /ffp/etc/profile.d/ folder with the following contents: <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/ffp/bin/sh export TERM="xterm" export TERMINFO="/ffp/share/terminfo" export LANG="en_US.utf8"</span></span></code> </pre></li><li>  We execute the command <pre> <code class="bash hljs">chmod a+x /ffp/etc/profile.d/mc.sh</code> </pre>  After that, let's pause. </li><li>  Now you can run commander command <pre> <code class="bash hljs">mc</code> </pre>  And you will have support for Russian file names, and normal key management.  If there is a problem with Russian names, then go to this menu and everything will be fine: <img src="https://habrastorage.org/storage2/bdd/ad8/329/bddad8329ebaad2ae63ee1c47c22a26a.png"><br><br><img src="https://habrastorage.org/storage2/7c0/f4b/6d0/7c0f4b6d00318163155756b3dedbe808.png"><br><br><img src="https://habrastorage.org/storage2/266/85b/5ad/26685b5ada4b51183197bc970c33ce70.png"><br><br></li></ol></div></div><div class="spoiler">  <b class="spoiler_title">8. Install the screen (run the commands in the background)</b> <div class="spoiler_text">  Screen is an extremely useful utility that allows you to create ‚Äúscreens‚Äù that work on the background.  The beauty is that if the connection is interrupted or you close the putty - the user's session will remain working in the background.  It is suitable if you need to download something, for example, or move the folder from disk to disk.  We connect, start the screen, give the command, disconnect - and the NAS know yourself rustling and following instructions. <ol><li>  Install <pre> <code class="bash hljs">ipkg install screen</code> </pre></li><li>  Create a script with the name screen.sh (well, or whatever) in the /ffp/etc/profile.d/ folder and the following contents: <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/ffp/bin/sh alias screen="screen -U"</span></span></code> </pre>  This is necessary to automatically start the screen in UTF8 mode.  Dislodge. </li></ol><br>  Now - how to use it. <br>  <b>screen</b> - start the screen <br>  <b>screen -R</b> - return to the last running screen.  If there are several screens, a list will be displayed starting with numbers - the transition to a specific screen is made with the <b>screen -R</b> [number] command. <br>  <b>ctrl + a D</b> - exit the screen without closing it (unhook from the window) <br>  <b>ctrl + ak</b> - close the current window <br></div></div><div class="spoiler">  <b class="spoiler_title">9. Install Transmission (Torrent)</b> <div class="spoiler_text">  Although NAS has a built-in rocking chair for torrents, the quality of its work is so far from ideal that it is extremely desirable to install another, if you need such functionality, of course. <ol><li>  We execute the command <pre> <code class="bash hljs">slacker -i</code> </pre>  choose <b>transmission</b> and <b>curl</b> , then click "ok". </li><li>  We execute the following commands <pre> <code class="bash hljs">chown -R nobody /mnt/HD/HD_a2/torrent mkdir /ffp/var/transmission mkdir /ffp/var/transmission/incomplete chown -R nobody /ffp/var/transmission</code> </pre></li><li>  Now edit the file /ffp/start/transmission.sh, change the path to this: <pre> <code class="bash hljs">TRANSMISSION_HOME=/ffp/var/transmission</code> </pre></li><li>  Execute the command for the first run and initialization of the config: <pre> <code class="bash hljs">su nobody -c <span class="hljs-string"><span class="hljs-string">"transmission-daemon -f -g /ffp/var/transmission -w /mnt/HD/HD_a2/torrent -t -u admin -v password -a 127.0.0.1,192.168.*.*"</span></span></code> </pre>  Where <b>admin</b> is your username for working with the web interface, <b>password</b> is the password for it, <b>127.0.0.1,192.168. *. *</b> Is the list of IPs from which you can enter the web interface Wait for the launch, then shut down the system by pressing CTRL + C. </li><li>  Next - customizable.  To do this, edit the file /ffp/var/transmission/settings.json <br>  The most interesting lines for us are: <pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"incomplete-dir"</span></span>: <span class="hljs-string"><span class="hljs-string">"/ffp/var/transmission/incomplete"</span></span>,</code> </pre>  Directory for under-downloaded files <pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"incomplete-dir-enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,</code> </pre>  Store under-downloaded files in this directory <pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"peer-port"</span></span>: 11000, <span class="hljs-string"><span class="hljs-string">"peer-port-random-high"</span></span>: 11999, <span class="hljs-string"><span class="hljs-string">"peer-port-random-low"</span></span>: 11001,</code> </pre>  Ports for download and return. <pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"rpc-port"</span></span>: 9091,</code> </pre>  The port on which the web interface will be available.  For example, in this case it will work at the address http://192.168.0.200:9091 from within the network <pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"rpc-whitelist"</span></span>: <span class="hljs-string"><span class="hljs-string">"127.0.0.1,192.168.*.* "</span></span></code> </pre>  Make the web interface available only from these IPs. <pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"rpc-whitelist-enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,</code> </pre>  Enable access control panel access by IP. </li><li>  Finish the installation: <pre> <code class="bash hljs">chown -R nobody /ffp/var/transmission chmod a+x /ffp/start/transmission.sh /ffp/start/transmission.sh start</code> </pre></li></ol>  Plus, do not forget to push the ports out, in my DIR-615 settings look like this: <img src="https://habrastorage.org/storage2/7c1/137/93e/7c113793efecf6be312a09ea50e80c7a.png"></div></div><div class="spoiler">  <b class="spoiler_title">10. Unsolved problems</b> <div class="spoiler_text"><ul><li>  <s>UPnP server does not automatically re-index files - you need to do this manually.</s>  We look at the solution in <b>update 1</b> ! </li><li>  Failed to compile davfs2 or another service / utility to work with WebDav.  More precisely, it is of course compiled, when launched, it asks for a login, password, specifies whether we are sure ... Then it falls.  Silently.  Accordingly, it is not possible to mount cloud storage via WebDav such as Dropbox or Yandex.Disk. </li><li>  External USB-drives are connected with the rights of "everything is possible."  Cannot be limited. </li><li>  When working from inside the screen, the PageUp / PageDown keys do not work (letters are typed instead) </li></ul>  Perhaps the HF community will help me and other future / current owners of this device with these problems. </div></div><div class="spoiler">  <b class="spoiler_title">11. References</b> <div class="spoiler_text"><ul><li>  Performance characteristics, such as processor, output / proc / cpuinfo, etc.  - <a href="http://dns323.kood.org/dns-325">http://dns323.kood.org/dns-325</a> </li><li>  Description DNS-325 from D-Link website - <a href="http://dlink.ru/ru/products/120/1400_b.html">http://dlink.ru/en/products/120/1400_b.html</a> </li><li>  Detailed instructions for using fun_plug (in English) - <a href="http://bernaerts.dyndns.org/dns325">http://bernaerts.dyndns.org/dns325</a> </li><li>  Discussion of NAS D-Link ShareCenter Pulse DNS-320 on the iXBT forum - <a href="http://forum.ixbt.com/topic.cgi%3Fid%3D11:43076">http://forum.ixbt.com/topic.cgi?id=11:43076</a> </li><li>  Building davfs2 on an ARM device (in German) - <a href="http://www.synology-wiki.de/index.php/WebDAV-Speicher_mithilfe_von_davfs2_direkt_in_die_DS_einbinden">http://www.synology-wiki.de/index.php/WebDAV-Speicher_mithilfe_von_davfs2_direkt_in_die_DS_einbinden</a> </li><li>  Mounting cloud disks via Webdav - <a href="http://wl500g.info/showthread.php%3F24669-DropBox-Client-%25E4%25EB%25FF-%25F0%25EE%25F3%25F2%25E5%25F0%25E0-Asus%26p%3D249071">http://wl500g.info/showthread.php?24669-DropBox-Client-%E4%EB%FF-%F0%EE%F3%F2%E5%F0%</a> E0-Asus&amp;p=249071# <a href="http://wl500g.info/showthread.php%3F24669-DropBox-Client-%25E4%25EB%25FF-%25F0%25EE%25F3%25F2%25E5%25F0%25E0-Asus%26p%3D249071">post249071</a> </li><li>  Instructions for using the screen - <a href="http://xgu.ru/wiki/man:screen">http://xgu.ru/wiki/man:screen</a> </li></ul></div></div><br><br>  <b>update 1</b> .  As it turned out, it is still possible to launch automatic re-indexing of media files - the <b>upnpdbmgr</b> program is responsible for it.  To do this, go to the task management mode (such a command is needed for convenient task management - via the mc editor): <pre> <code class="bash hljs">EDITOR=mcedit crontab -e</code> </pre>  Now add to the end a command of this type (re-indexing the database every hour, at the 5th minute of the hour) <pre> <code class="bash hljs">5 * * * * /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/modules/sbin/upnpdbmgr --mode=add [   ]</code> </pre>  Example of a real command: <pre> <code class="bash hljs">5 * * * * /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/modules/sbin/upnpdbmgr --mode=add /mnt/HD/HD_a2/torrent /mnt/HD/HD_a2/series /mnt/HD/HD_a2/movie</code> </pre>  To clear the database of already deleted files, use the command <pre> <code class="bash hljs">/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/modules/sbin/upnpdbmgr --mode=remove-all</code> </pre>  More information about the crown - <a href="http://ru.wikipedia.org/wiki/Cron">in Wikipedia</a> .  The idea (obvious, but not for a deliberate eye!) ‚ÄúTo search for a program and put it in cron‚Äù suggested <a href="https://habrahabr.ru/users/diam0n/" class="user_link">Diam0n</a> . </div><p>Source: <a href="https://habr.com/ru/post/155557/">https://habr.com/ru/post/155557/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155545/index.html">Active Record Pattern</a></li>
<li><a href="../155547/index.html">Graphic format JNG - what is useful, how it works, what to convert, view and download</a></li>
<li><a href="../155551/index.html">Correct social share buttons</a></li>
<li><a href="../155553/index.html">TNW: October 29, Google will show the 10-inch tablet Nexus "Manta" and the 3G version of the Nexus 7</a></li>
<li><a href="../155555/index.html">Transfer site (s) without downtime and data loss between dedicated servers</a></li>
<li><a href="../155559/index.html">ZTE V970 - strong middle peasants from China</a></li>
<li><a href="../155561/index.html">Sony has released a 20-inch tablet with Windows 8</a></li>
<li><a href="../155563/index.html">The quarter-finals of the Moscow region Acm Icpc</a></li>
<li><a href="../155565/index.html">Overcoming a disconnection of a remote connection in the absence of user actions</a></li>
<li><a href="../155567/index.html">How we collect data for Nokia Maps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>