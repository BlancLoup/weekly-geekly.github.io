<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What will happen in django 1.3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Release django 1.3 very soon. I think many already use RC in production. But still, I‚Äôll go over what‚Äôs waiting for us, trying not to slip into the tr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What will happen in django 1.3</h1><div class="post__text post__text-html js-mediator-article">  Release django 1.3 very soon.  I think many already use RC in production.  But still, I‚Äôll go over what‚Äôs waiting for us, trying not to slip into the translation of the release notes. <br><a name="habracut"></a><br><br><h4>  django.contrib.staticfiles </h4><br>  Now you can organize static (pictures, js, css, etc.) just like templates are organized: keep it in the application folder (especially useful for individual django applications) or in the project folder, override some files, leaving others intact , to link to files, not caring about where the user will put them or where they are stored (separate server? amazon s3?), you no longer need to ‚Äúfinger out‚Äù these files and copy them to the right place. <br><br>  Dirty khaki with statics for admin panel now, too, can be considered in the past - if you just use django.contrib.staticfiles, there will be no problems. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Testing </h4><br>  Unittest2 now lives in <a href="http://www.voidspace.org.uk/python/articles/unittest2.shtml">janga</a> , django.test.TestCase is inherited from unittest2.TestCase.  This means that you can write tests for jungles using all the new features from unittest2.  For example, you can write tests in advance and mark them with the expectedFailure decorator.  Or specify the conditions under which tests should be skipped (for example, tests that are specific to mysql and should not pass under sqlite).  Or use new assertions. <br><br>  Of course, before you could put unittest2 and use it, but it did not help when you needed a base and you had to inherit from django.test.TestCase. <br><br>  There were also various useful things like assertNumQueries. <br><br><h4>  ForeignKey </h4><br>  Hooray, now when deleting an object that someone referred to via FK, the referencing objects will not necessarily be deleted.  You can <a href="http://docs.djangoproject.com/en/dev//ref/models/fields/">configure a</a> cascade delete, reset to NULL or the default value, call an exception, do nothing (let the database decide itself). <br><br><h4>  Templates </h4><br>  Often wrote <br><pre><code class="hljs django"><span class="xml"></span><span class="hljs-template-tag"><span class="xml"></span><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">with</span></span></span></span></span><span class="hljs-template-tag"> foo </span><span class="hljs-keyword"><span class="hljs-template-tag"><span class="hljs-keyword">as</span></span></span><span class="hljs-template-tag"> bar %}</span></span><span class="xml"><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">include</span></span></span></span></span><span class="hljs-template-tag"> "my_template.inc.html" %}</span></span><span class="xml"><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endwith</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"></span><span class="xml"></span></code> </pre> <br>  or inclusion tags for such items?  Now it is not necessary, and a bunch of inclusion tags can be thrown out: <br><pre> <code class="hljs pgsql">{% <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> "my_template.inc.html" <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> bar=foo %}</code> </pre> <br><br>  + you can download only individual tags from tag libraries;  variables can be passed to the url;  the with tag is also simplified;  tags created through simple_tag have learned to take context. <br><br><h4>  Caching </h4><br>  There was support for several caches at the same time (for example, some data can be stored in localmem-cache, some - in memcached / database, or for some things use ‚Äúsmart‚Äù caching backends with disability and protection from simultaneous regeneration, for others - no). <br><br>  In addition, from various third-party applications with caching backends useful features crawled into janga: now out of the box there is support for a global prefix (needed if several projects use 1 memcached to avoid key conflicts), cache versions (updated site, and old data in cache lie, which are now in the wrong format? increase the current version of the cache), key conversions (need a clever invalidation scheme? implement), pylibmc support, caching for GET requests with parameters. <br><br><h4>  Journaling </h4><br>  Integration with Python logging is now there.  In settings.py, logging can be flexibly configured.  Email sending for 500 errors is also done via logging. <br><br><h4>  Views </h4><br>  For writing views there are a bunch of different utilities. <br><br><h5>  Class-based views. </h5><br>  You can now write view classes.  For myself, I still do not understand why they are.  Probably should be used for some "big" pieces, or when some complicated thing with confused logic that needs to be expanded in other places (declarative api? Something of the level of a universal admin?).  Standard generic views are now rewritten on classes to make it easier to expand. <br><br><h5>  TemplateResponse </h5><br>  In order to be able to extend regular view functions, there is now a TemplateResponse in jang.  TemplateResponse is a lazy HttpResponse that renders the result (inserts the context into the template) only at the very last moment.  If the function returns a TemplateResponse, then it can then replace the template, change (and read) the context, or return something completely different (without the overhead of rendering the original response).  It‚Äôs pretty easy to skip this thing in release notes and start for flexibility in wrapping views on classes, so an example: <br><br><pre> <code class="hljs pgsql">#      #          <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.<span class="hljs-keyword"><span class="hljs-keyword">template</span></span>.response <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TemplateResponse <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> parrots.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Parrot def parrot_list(request): parrots = Parrot.objects.<span class="hljs-keyword"><span class="hljs-keyword">all</span></span>() #     RequestContext. #   render_to_template    direct_to_template   . <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> TemplateResponse(request, <span class="hljs-string"><span class="hljs-string">'parrots.html'</span></span>, {<span class="hljs-string"><span class="hljs-string">'parrots'</span></span>: parrots})</code> </pre><br><pre> <code class="hljs mel">#  . # parrot_list       ( ,   ),  #    ,      import parrots.views def parrot_list(request, <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>) # ,      response = parrots.views.parrot_list(request) #        (TemplateResponse ), #        (QuerySet  ) #     - ,     ,     response.template_name = <span class="hljs-string"><span class="hljs-string">'my_parrots.html'</span></span> #    original_parrots = response.context_data[<span class="hljs-string"><span class="hljs-string">'parrots'</span></span>] #    ,       response.context_data[<span class="hljs-string"><span class="hljs-string">'parrots'</span></span>] = original_parrots.<span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">color</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">color</span></span>).select_related(<span class="hljs-string"><span class="hljs-string">'owner'</span></span>) #  -     response.context_data[<span class="hljs-string"><span class="hljs-string">'foo'</span></span>] = <span class="hljs-string"><span class="hljs-string">'bar'</span></span> #       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response</code> </pre><br><br>  Generic views now return a TemplateResponse by default, views <s>from django.contrib.admin too</s> . <br>  <b>UPD</b> : Took wishful thinking, django.contrib.admin TemplateResponse views are not returned!  <a href="http://code.djangoproject.com/ticket/15008">The ticket</a> hangs, but it is not committed to release. <br><br><h5>  django.shortcuts.render </h5><br><br><pre> <code class="hljs pgsql">#   ,      <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.shortcuts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> render def parrot_list(request): parrots = Parrot.objects.<span class="hljs-keyword"><span class="hljs-keyword">all</span></span>() # render_to_response  direct_to_template    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> render(request, <span class="hljs-string"><span class="hljs-string">'parrots.html'</span></span>, {<span class="hljs-string"><span class="hljs-string">'parrots'</span></span>: parrots})</code> </pre><br><br>  This is not all: except for these changes, the work with i18n and l10n has been improved, the entire mat has been <a href="http://code.djangoproject.com/changeset/13996">removed</a> from the code, and many other less noticeable changes and architectural improvements, some of which can be found in <a href="http://docs.djangoproject.com/en/dev//releases/1.3/">release notes</a> . </div><p>Source: <a href="https://habr.com/ru/post/115763/">https://habr.com/ru/post/115763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../115757/index.html">Did you write plugins for your IDE?</a></li>
<li><a href="../115758/index.html">Windows: remote backup using snapshots (VShadow)</a></li>
<li><a href="../115759/index.html">On the car Tesla Model S you can install your software</a></li>
<li><a href="../115761/index.html">Video story about the GLONASS-K satellite</a></li>
<li><a href="../115762/index.html">Facebook Attempt to financial analysis</a></li>
<li><a href="../115764/index.html">First iPad Comic Generator</a></li>
<li><a href="../115765/index.html">Presentation of Liferay on JavaOne 2011</a></li>
<li><a href="../115768/index.html">Banning neurostimulators will force students to compete fairly</a></li>
<li><a href="../115773/index.html">Ten best "Easter eggs" Runet</a></li>
<li><a href="../115774/index.html">Awad - buying AnyWayAnyDay air tickets on iPhone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>