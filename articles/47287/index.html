<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Protect flash drives from Autorun viruses.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For the time of day, dear habr-reader. I work at a university, in a computer lab. We administer about a hundred computers. We are faced with the probl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Protect flash drives from Autorun viruses.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/028/305/38c/02830538c4dda2489d50c71da2ca6ff8.jpg"><br><br>  For the time of day, dear habr-reader.  I work at a university, in a computer lab.  We administer about a hundred computers.  We are faced with the problem of protection against Autorun ‚Äì viruses on flash drives.  Naturally, we have disabled autorun in Windows, but it was necessary to protect the flash drives themselves, so that an employee at home, inserting a working flash drive, would not infect his computer.  Under the cut a solution to the problem. <br><a name="habracut"></a><br><br><h2>  Before you begin ... </h2><br>  Dear users, the following actions were performed in Microsoft Windows Xp, in other operating systems the process may differ from the above.  I would also like to say that the author of the text is not responsible for the equipment damaged as a result of the following actions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Training. </h2><br>  To implement our plans, we will need to format the flash drive in NTFS, for this there are several methods known to me.  For me, the easiest is to use <a title="Acronis official website" href="http://www.acronis.ru/homecomputing/products/diskdirector/">Acronis Disk Director</a> . <br><br>  After running Disk Director, you will see a list of disks connected to your system.  In this list we find our flash drive, click the right mouse button and select "Delete partition", in the new window we leave everything as it is (there is no special difference there).  Then again right click on our disk and select "Create partition".  In the "Create Section" select: <br><ul><li>  File system: <strong>NTFS</strong> . </li><li>  Create as: <strong>Main section</strong> . </li></ul><br><br><img title="Create Partition Window" alt=" ' '" src="https://habrastorage.org/getpro/habr/post_images/0a4/8d2/dcc/0a48d2dcc35ad2895fc93320ba6b64fa.jpg"><br><br>  Now click on the ‚ÄúCheckbox‚Äù icon and click ‚ÄúProceed‚Äù in the window that appears.  After the changes are made, restart the computer. <br><br>  The flash drive can also be formatted in a simpler way, indicated by uv.  <a href="http://habrahabr.ru/users/maxshopen/" class="user_link">maxshopen</a> : <br><br><blockquote>  Start ‚Üí Run ‚Üí cmd ‚Üí <br><br>  convert f: / FS: NTFS &lt;- this is if the data on the flash drive is needed and there is nowhere to save it <br><br>  or <br><br>  format f: / FS: NTFS &lt;- if the data is nafik <br></blockquote><br><br><h2>  Customization. </h2><br>  So, the card is ready to be configured, go to the flash drive and create a directory in the root directory that stores the data, I called it ‚ÄúDATA‚Äù.  Right click on the new directory and go to the security tab, then click on the "Advanced" button.  Here we remove the tick from the item ‚ÄúAllow inheritance of permissions from the parent object to this ...‚Äù, in the appeared dialog click ‚ÄúCopy‚Äù, then click ‚ÄúOK‚Äù in both windows.  Now we will go to the ‚ÄúSecurity‚Äù section of the root directory of our carrier and configure permissions as follows: <br><br>  <strong>In the column ‚ÄúAllow‚Äù, we leave the following items checked:</strong> <br><ul><li>  Reading and execution </li><li>  Folder Contents List </li><li>  Reading </li></ul><br><br>  In the column "Prohibit" put a tick in front of the item "Record" in the dialog that appears, click "Yes." <br><br><img title="Setting permissions of the root directory of the flash drive." alt="    ." src="https://habrastorage.org/getpro/habr/post_images/86f/0c9/b40/86f0c9b40582cf8a1ee1794a0e6d7507.jpg"><br><br>  Everything, as a result we receive a flash card on which Autorun cannot register.  For this, we sacrifice a small share of performance, the ability to write to the root directory of the media and, of course, the inability to use the "Send" menu to copy data to media. <br><br><h2>  Possible problems and their solution. </h2><br><ol><li><blockquote>  After formatting the drive in NTFS, it is not visible in the system. </blockquote><br>  Right click on "My Computer", select "Management", in the window that appears, go to "Disk Management", then click on our flash drive with the right button and select "Change drive letter or disk path."  Choose a letter, click "OK". <br></li></ol><br><br>  Unfortunately or fortunately, no more problems have been found by me, if you suddenly find one - write, try to solve. <br><br><h2>  Disable autorun. </h2><br>  <b>In addition to XP Home Edition:</b> <br>  start-up - run - gpedit.msc - configuration of the computer - administrative templates - System - disable autorun (select where to disable).  Next, apply the new policy with the gpupdate command in the console. <br><br>  <b>In Home</b> , the Group Policy Management snap-in is missing, but the same effect can be achieved by manually editing the registry: <br>  1) Start -&gt; Run -&gt; Regedit <br>  2) open the HKLM \ SOFTWARE \ Microsoft \ Windows \ CurrentVersion \ Policies branch <br>  3) Create a new section <br>  4) Rename the created partition in Explorer <br>  5) In this section create the key NoDriveTypeAutoRun <br><br>  Valid key values ‚Äã‚Äãare: <br>  0x1 - disable autorun on unknown drive types <br>  0x4 - disable autorun of removable devices <br>  0x8 - disable non-essential devices autostart <br>  0x10 - disable autorun of network drives <br>  0x20 - disable autorun CD-drives <br>  0x40 - disable autorun RAM-disks <br>  0x80 - disable autorun on unknown drive types <br>  0xFF - disable autorun in general of all disks. <br><br>  Values ‚Äã‚Äãcan be combined by summing their numeric values. <br><br>  Default values: <br>  0x95 - Windows 2000 and 2003 (autorun of removable, network and unknown drives is disabled) <br>  0x91 - Windows XP (autorun of network and unknown drives is disabled) <br>  Comment: by default, XP Home does not have this key (like the Explorer section itself), so the process of its creation is described above.  For other versions, it is not necessary to create it, it is already there, just correct it. <br><br>  Useful to browse the Microsoft <a href="http://www.microsoft.com/resources/documentation/Windows/2000/server/reskit/en-us/Default.asp%3Furl%3D/resources/documentation/Windows/2000/server/reskit/en-us/regentry/93506.asp">Resource Kit</a> website. <br></div><p>Source: <a href="https://habr.com/ru/post/47287/">https://habr.com/ru/post/47287/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../47281/index.html">United Keys OLED Display - Optimus Maximus Cheap</a></li>
<li><a href="../47282/index.html">NIC.RU lost domain</a></li>
<li><a href="../47283/index.html">Profitable proposition</a></li>
<li><a href="../47284/index.html">Reality show "Startup for the week." The first report of half a day of work</a></li>
<li><a href="../47286/index.html">Conference on Information Security of the Russian Banking System</a></li>
<li><a href="../47288/index.html">Hacking 2</a></li>
<li><a href="../47289/index.html">With the flow</a></li>
<li><a href="../47290/index.html">Conference "Client Technologies"</a></li>
<li><a href="../47292/index.html">Top100Top :)</a></li>
<li><a href="../47293/index.html">Exam on knowledge of Runet memes for guest workers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>