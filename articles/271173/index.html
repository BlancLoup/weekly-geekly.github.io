<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Preparing ASP.NET 5, Release 6: Continuous Deployment with Visual Studio Team Services - Complete Guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Following the great announcements from the Connect 2015 conference, we continue to acquaint you with the scenarios for the use of new technologies and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Preparing ASP.NET 5, Release 6: Continuous Deployment with Visual Studio Team Services - Complete Guide</h1><div class="post__text post__text-html js-mediator-article">  Following the great announcements from the <a href="http://habrahabr.ru/company/microsoft/blog/271199/">Connect 2015</a> conference, we continue to acquaint you with the scenarios for the use of new technologies and services for the organization of continuous development and testing of your applications. <br><br>  We recently <a href="http://habrahabr.ru/company/microsoft/blog/270229/">talked</a> about implementing continuous development and testing processes using <a href="https://go.microsoft.com/fwlink/%3FLinkId%3D307137%26amp%3Bclcid%3D0x419%26amp%3Bwt.mc_id%3Do~msft~vscom~getstarted-body~dn469161%26amp%3Bcampaign%3Do~msft~vscom~getstarted-body~dn469161">Visual Studio Team Services</a> (formerly Visual Studio Online).  The article describes in detail how, based on Git repositories in Visual Studio Team Services, to organize the development process based on Scrum and using integration with Visual Studio to ensure a continuous process of testing and developing code (Continuous Integration &amp; Testing). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/005/fcb/f64/005fcbf6404e415bafee4e72d63fdddd.png"></div><br>  In this article, we will look at the next step in building a complete DevOps cycle ‚Äî ensuring continuous deployment (Continuous Deployment) with the help of new features of custom templates for building and publishing projects in Visual Studio Team Services.  We will use the project based on ASP.NET 5 and see how for such projects to provide a full cycle from editing the code to the automatic assembly and deployment in the Azure cloud (can be any place). <br><a name="habracut"></a><br><blockquote> <a href="https://github.com/vyunev/VsoCdDemo"><img title="aspnetcolumngithub" alt="aspnetcolumngithub" src="https://habrastorage.org/files/e5a/eff/108/e5aeff1080f44ada899062dee76a3e24.png" width="240" align="right" height="88"></a>  <b>Tip!</b>  You can try everything yourself or by downloading the source code from GitHub <a title="https://github.com/vyunev/VsoCdDemo" href="https://github.com/vyunev/VsoCdDemo">https://github.com/vyunev/VsoCdDemo</a> . </blockquote><br><h3>  Presetting </h3><br>  It is assumed that you have already created a Visual Studio Team Services account.  If this is not the case, then refer to the <a href="https://www.visualstudio.com/en-us/get-started/setup/sign-up-for-visual-studio-online">online</a> registration <a href="https://www.visualstudio.com/en-us/get-started/setup/sign-up-for-visual-studio-online">guide</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To start from the <a href="http://go.microsoft.com/fwlink/%3FLinkId%3D619385">download page of the</a> new collector component, install a Windows agent that will allow you to build Windows projects, Azure and other Visual Studio projects, as well as Java and Android projects.  To install you need to go to: <br><br>  <a href="">https: // <strong>{your_account}</strong> .visualstudio.com / _admin / _AgentPool</a> <br><br>  and download the agent locally.  After installation (say, in the folder C: \ Agent), you must run as administrator C: \ Agent \ ConfigureAgent.cmd.  Other steps and details read <a href="https://msdn.microsoft.com/Library/vs/alm/Build/agents/windows">the link</a> . <br><br>  <strong>Creating a Visual Studio Team Services Project</strong> <br><br>  In Visual Studio Team Services, create a team project, in my case VsoCdDemo (Figure 1). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/83a/50e/8ab/83a50e8ab1b0776d70281931a3ac1e8d.png"></div><br>  <em>Fig.1.</em>  <em>- Creating a team project in Visual Studio Team Services</em> <br><br>  <strong>Connecting Visual Studio Team Services in Visual Studio 2015</strong> <br><br>  In Visual Studio 2015, in the Team Explorer panel connect to your team project (Figure 2) <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/04c/b30/207/04cb3020797f3527d732b50f5dfba80b.png"></div><br>  <em>Fig.</em>  <em>2. - Select team project</em> <br><br>  After connecting, you will be asked to clone the still empty team project repository (Figure 3). <br><br><div style="text-align:center;"><img alt="snip_20151118134039" src="https://habrastorage.org/getpro/habr/post_images/9ec/d11/c23/9ecd11c2323140ab7fafe7d46a864c86.png"></div><br>  <em>Fig.</em>  <em>3. - Team Explorer panel in Visual Studio 2015</em> <br><br>  <strong>Creating a project in Visual Studio 2015</strong> <br><br>  In Visual Studio 2015, create an ASP.NET 5 Web Application project, uncheck the ‚ÄúHost in the cloud‚Äù checkbox when creating (Figure 4). <br><br><div style="text-align:center;"><img alt="snip_20151118133432" src="https://habrastorage.org/getpro/habr/post_images/0ce/153/3e7/0ce1533e77e1ff40c8fdd6ce54b2780e.png"></div><br>  <em>Fig.</em>  <em>4. - Creating an ASP.NET 5 Web Application Project in Visual Studio 2015</em> <br><br>  The project will be created and the process of restoring assemblies on which it depends will automatically start in the background.  Run the project locally to make sure the build runs fine.  You can make the first commit and send the code to the server.  To do this, right-click on the solution in the Solution Explorer panel, select the Commit item.  Enter a description of the commit (Figure 5) and click the Commit and Push action in the drop-down menu, <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/bc1/451/3f0/bc14513f013bc3f2f4d3e6b363fdf068.png"></div><br>  <em>Fig.</em>  <em>5. - Execute commit and push to repository</em> <br><br>  After the commit with the push action, you can see your code in the Visual Studio Team Services repository by going to the Code tab (Figure 6). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/597/2d7/3bf/5972d73bfa50e62845a8b340ba97275b.png"></div><br>  <em>Fig.</em>  <em>6. - Repository Content in Visual Studio Team Services</em> <br><br>  It's time to set up a continuous build and publish process in Azure (or any other place). <br><br><h3>  Setting up the build process </h3><br>  In Visual Studio Team Services, go to the Build tab and click the Actions button (green plus).  In the window, select Visual Studio as the assembly definition template (Figure 7). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/c98/ccc/7ba/c98ccc7ba734c35c6d0ff1aeed1bddf0.png"></div><br>  <em>Fig.</em>  <em>7. - Build definition templates</em> <br><br>  In the next window (Figure 8), make sure that the correct repository type is selected, the repository itself and by clicking on the Manage link make sure that the Build Agent is configured correctly.  <strong>Important!</strong>  Tick ‚Äã‚Äãthe need to enable continuous integration - then after each check of the code our build and publish process will start. <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/c68/3dd/cc7/c683ddcc788d4e242dc573914dd1b21e.png"></div><br>  <em>Fig.</em>  <em>8 - Build template setup</em> <br><br>  You will end up with the following customized build order for your project (Figure 9).  It defines the following steps in advance: Visual Studio Build to build a solution, test step to run tests, publish symbol files and publish build results. <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/7e0/1a6/2e4/7e01a62e471ccf88a454cf11061cbd48.png"></div><br>  <em>Fig.</em>  <em>9. - Work with the steps of the build and publish process</em> <br><br>  For us, only the first step is of value to you - Visual Studio Build; we will customize the remaining three steps in our own way, so that you can remove them or turn them off. <br><br>  Let's try to build our project, to do this, select the first step and fill in the build parameters (Figure 10): <br><br>  - select as a solution for the assembly file of your project; <br><br>  - specify additional assembly arguments (note the name of your project): <br><br>  / t: Build, FileSystemPublish / p: PublishConfiguration = $ (BuildConfiguration) / p: PublishOutputPathNoTrailingSlash = $ (Build.SourcesDirectory) \ <strong>AspNetCdDemo</strong> \ artifacts \ bin \ $ (BuildConfiguration) \ Publish <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/67f/604/7f4/67f6047f4e38f5546ab1632f0e5141d2.png"></div><br>  <em>Fig.</em>  <em>10. - Setting the build step</em> <br><br>  Click Save and then Queue Build to start the build.  You will get access to the console of the collector commands in which the build will take place.  Alas, our solution will not be able to get together and you will see the following error (Figure 11). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/a92/a82/06f/a92a8206f6d645f8697b7b944aa22a29.png"></div><br>  <em>Fig.</em>  <em>11. - Build result with errors</em> <br><br>  The error we encountered was the need to configure the DNX environment before building the project.  For this we need a more fine-tuning of the assembly. <br><br><h3>  Build ASP.NET 5 </h3><br>  To build an ASP.NET 5 project, you must first configure the DNX environment and perform some other steps, such as downloading the necessary Nuget packages.  In this regard, we need to fine-tune the project assembly process.  These steps can be described in the following PowerShell script (note the name of your project): <br><br><pre><code class="vbscript hljs"># bootstrap DNVM into this session. &amp;{$Branch=<span class="hljs-comment"><span class="hljs-comment">'dev';iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/aspnet/Home/dev/dnvminstall.ps1'))} # load up the global.json so we can find the DNX version $globalJson = Get-Content -Path $PSScriptRoot\global.json -Raw -ErrorAction Ignore | ConvertFrom-Json -ErrorAction Ignore if($globalJson) { $dnxVersion = $globalJson.sdk.version } else { Write-Warning "Unable to locate global.json to determine using 'latest'" $dnxVersion = "latest" } # install DNX &amp; $env:USERPROFILE\.dnx\bin\dnvm install $dnxVersion -Persistent # run DNU restore on all project.json files &amp; dnu restore $PSScriptRoot\src\AspNetCdDemo\project.json 2&gt;1</span></span></code> </pre> <br>  To use this script, we need to add a new file Prebuild.ps1 to the solution in Visual Studio 2015 in the Solution Items folder, copy the text of the script into this file. <br><br>  Thanks to the flexible features of the Visual Studio Team Services assembly mechanism, we can add various steps to the collector's order, including calling up the necessary PowerShell scripts.  Return to assembly definition (Figure 12) <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/f7c/94e/3c3/f7c94e3c3314fbc2e92ed776b98048fc.png"></div><br>  <em>Fig.</em>  <em>12. - Editing the description of the assembly steps</em> <br><br>  And add a new step for the collector by calling the add window with the ‚ÄúAdd build step‚Äù button.  Just go through the list and see how many built-in features exist to define the build in Visual Studio Team Services (Figure 13). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/c1b/d82/556/c1bd82556e91b0ca54e1b97f7eca55d4.png"></div><br>  <em>Fig.</em>  <em>13. - Gallery of possible assembly steps</em> <br><br>  Select the PowerShell step and add it to the build process.  Drag the PowerShell step up making it the very first to set the order of execution (Figure 14).  In the PowerShell step settings, specify the path to the script: in my case it is AspNetCdDemo / Prebuild.ps1. <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/5a9/ee5/ebe/5a9ee5ebe022a1ab7f4bcd9b5d3cabe3.png"></div><br>  <em>Fig.</em>  <em>14. - Editing the PowerShell build step</em> <br><br>  Since we configure DNX on our own and also restore packages on our own, then in the Visual Studio Build step, uncheck ‚ÄúRestore NuGet Packages‚Äù. <br><br>  Save the assembly definition. <br><br>  From Visual Studio 2015 send the added Prebuild.ps1 script with the commit and push to the repository.  It will take a couple of minutes and we will see how, thanks to our steps, DNX will automatically deploy and all dependencies, how NuGet packages are loaded and installed. <br><br>  However, the assembly still ended with an error (Figure 15). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/c95/216/4c7/c952164c75cda0211362dabe32e491eb.png"></div><br>  <em>Fig.</em>  <em>15. - Build failed</em> <br><br>  This is due to the fact that the ASP.NET assembly contains Gulp tasks that have just been installed and cannot be used yet.  Just run the assembly again, which will be faster and without errors! <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/830/253/886/830253886054f66342c983c987b3a55b.png"></div><br>  <em>Fig.</em>  <em>16. - Build without errors</em> <br><br>  So we organized the automatic build of the project on ASP.NET 5 in Visual Studio Team Services.  Now let's make continuous publishing to Azure possible. <br><br><h3>  Continuous publishing to the Azure Web App </h3><br>  To publish an ASP.NET5 project in Azure, we need to create an empty instance of the Azure Web App service.  I called it <em>AzureCdDemo</em> , you will have to call it differently, the name must be unique.  Use the <a href="http://portal.azure.com/">new Azure portal</a> to create your own copy of the Azure Web App (Figure 17). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/3e4/3c6/892/3e43c6892fb25c9e467c24b9b00372a7.png"></div><br>  <em>Fig.</em>  <em>17. - Create Azure Web App in the new portal</em> <br><br>  To continuously publish an ASP.NET 5 application to Azure, we‚Äôll write another PowerShell script. <br><br><pre> <code class="vbscript hljs">param($websiteName, $packOutput) $website = <span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>-AzureWebsite -Name $websiteName # <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> the scm url <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> use <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> MSDeploy. By <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> this will be the <span class="hljs-built_in"><span class="hljs-built_in">second</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the <span class="hljs-built_in"><span class="hljs-built_in">array</span></span> $msdeployurl = $website.EnabledHostNames[<span class="hljs-number"><span class="hljs-number">1</span></span>] $publishProperties = @{<span class="hljs-comment"><span class="hljs-comment">'WebPublishMethod'='MSDeploy'; 'MSDeployServiceUrl'=$msdeployurl; 'DeployIisAppPath'=$website.Name; 'Username'=$website.PublishingUsername; 'Password'=$website.PublishingPassword} $publishScript = "${env:ProgramFiles(x86)}\Microsoft Visual Studio 14.0\Common7\IDE\Extensions\Microsoft\Web Tools\Publish\Scripts\default-publish.ps1" . $publishScript -publishProperties $publishProperties -packOutput $packOutput</span></span></code> </pre> <br>  In Visual Studio 2015, add a new PublishAspNet5Website.ps1 file to your Solutions Items folder and copy the contents of the script into it. <br><br>  In the list of build steps, add another step, this time, Azure PowerShell Script.  You will need to configure your Azure subscription settings. To do this, click on the Manage link and add a new service through the New Service Endpoint (Figure 18). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/1ba/5f4/4ea/1ba5f44ea645cc7f7bd03ec58976646e.png"></div><br>  <em>Fig.</em>  <em>18. - Enter Azure Subscription Settings</em> <br><br>  To fill in the parameters above, you will need information about your subscriptions, which can be obtained from the file downloaded at <a href="https://manage.windowsazure.com/publishsettings/index">https://manage.windowsazure.com/publishsettings/index</a> . <br><br>  Back in the step settings for the Azure PowerShell script, select the added subscription and specify the parameters (Figure 19): <br><br>  - script path: AspNetCdDemo / PublishAspNet5Website.ps1 <br><br>  - script arguments (note the name of the Web App in Azure and the name of your project): <br><br>  <em>-websiteName <strong>AzureCdDemo</strong> -packOutput $ (Build.SourcesDirectory) \ <strong>AspNetCdDemo</strong> \ artifacts \ bin \ $ (BuildConfiguration) \ Publish</em> <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/be9/fe2/bf5/be9fe2bf5721b8bad979f1379cf3f566.png"></div><br>  <em>Fig.</em>  <em>19. - Configure Azure PowerShell build step</em> <br><br>  From Visual Studio 2015, commit and push your new script. <br><br>  The next build process will start, this time ending with the publication of the project in the Azure Web App (Figure 20). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/6eb/be8/477/6ebbe8477116d7f03f99c093f501d47e.png"></div><br>  <em>Fig.</em>  <em>20. - Build and publish successfully</em> <br><br>  If we go to the address of our Azure Web App (in my case <a title="http://azurecddemo.azurewebsites.net/" href="http://azurecddemo.azurewebsites.net/">http://azurecddemo.azurewebsites.net/</a> ), then we will be able to make sure that it works (Figure 21). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/2c0/440/ea8/2c0440ea8916628a13f3ca9879ccaa6c.png"></div><br>  <em>Fig.</em>  <em>21. - Site running in Azure</em> <br><br><h3>  Final test </h3><br>  Go to Visual Studio 2015 and make any changes.  for example, in the Views / Shared / _Layout.cshtml file, change the text and markup.  Make a commit and push this file to the repository.  Track the automatic build and publishing process in Visual Studio Team Services.  Refresh the site and make sure your changes are automatically published (Figure 22). <br><br><div style="text-align:center;"><img alt="image" src="https://habrastorage.org/getpro/habr/post_images/d50/ae0/21e/d50ae021eedbdb66ffe907ed5d50f35c.png"></div><br>  <em>Fig.</em>  <em>22. - Website in Azure with changes from a continuous build and publishing process</em> <br><br><h3>  Conclusion </h3><br>  We examined in detail and from scratch the organization of the process of continuous building and publishing a web application based on ASP.NET 5 using Visual Studio Team Services.  In the course of our continuous build, we publish code in Git, deploy the DNX environment, load necessary assemblies and npm, execute Gulp scripts, publish the site in the Azure Web App.  And all this is automatic. <br><br>  In conclusion, I would like to say that the new assembly functionality of Visual Studio Team Services allows you to build projects of any type with configuration of any complexity, connecting to a large number of third-party applications, servers and frameworks with preconfigured templates. </div><p>Source: <a href="https://habr.com/ru/post/271173/">https://habr.com/ru/post/271173/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271159/index.html">What technologies does Netflix use?</a></li>
<li><a href="../271161/index.html">As we did the music festival "MegaFonLive"</a></li>
<li><a href="../271167/index.html">‚ÄúErrors are values‚Äù in Go and echo VB</a></li>
<li><a href="../271169/index.html">Price elasticity in retail</a></li>
<li><a href="../271171/index.html">Free of charge, that is for free: a free ERP solution for a modest e-commerce business on the Ultima Businessware platform</a></li>
<li><a href="../271179/index.html">Results of the Russian Developers Cup 2015</a></li>
<li><a href="../271181/index.html">My PHP 7 migration experience</a></li>
<li><a href="../271183/index.html">The Chrome Dev Summit live, second day</a></li>
<li><a href="../271185/index.html">Upsource 2.5: smart email notification, new Review page design, improvements in IDE plugin and much more</a></li>
<li><a href="../271189/index.html">Using WordPress AJAX Handler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>