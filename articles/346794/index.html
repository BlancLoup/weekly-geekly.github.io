<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make friends team admins with development teams?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The process of creating a service is not limited to development and testing. In addition, there is also the operation of the service in the production...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make friends team admins with development teams?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/fw/8t/km/fw8tkmalpeujw9oif6fca_f15es.png"><br>  The process of creating a service is not limited to development and testing.  In addition, there is also the operation of the service in the production infrastructure. <br><br>  Thus, the project requires specialists with different competencies - developers and infrastructure engineers.  The former know how to write code, the latter know how the software works and in what configuration it will be more efficient. <br><br>  The article will discuss how we at 2GIS lined up the work processes in the Infrastructure &amp; Operations team (9 people) and interaction with the development teams (5 teams).  At first glance, everything is simple and logical. <br><a name="habracut"></a><br>  But it is not.  If you take these people and say, ‚ÄúYou, developers, just write code, and you, administrators, please, be responsible for the stable operation of this code in production,‚Äù we will get a number of problems: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Developers often make changes.  Changes are often a source of failure.  Administrators do not like failures, respectively, do not like change. </li><li>  Differences in terminology and experience greatly interfere with communications. </li><li>  Shifting responsibility in the event of incidents is not uncommon. </li></ul><br><img src="https://habrastorage.org/webt/3y/mq/tz/3ymqtz5ew25zg9aciq2murhj1ve.png"><br>  <b>About our sheep</b> <br><br>  If the three problems mentioned above did not impress you, take a look at the list of issues our team faced: <br><br><ul><li>  With communications everything is difficult.  It was not accepted to ask for help and the tools were chosen without consultation, proceeding not from the task, but from convenience.  It turned out that people came with a ready-made solution, often on the go, and not with a problem. </li><li>  Partially manual configuration of services.  With the increase in the number of services, the amount of manual work increased.  People were overwhelmed, the nervousness in the team grew. </li><li>  The uniqueness of services.  Each project was unique as a snowflake, respectively, the incident handling time was very large - first you need to understand the service, then understand what the problem is, and then fix it.  In addition, developers were often not interested in whether a PostgreSQL or Rabbit cluster already exists in the company and deployed its own. </li><li>  Rules of work of system administrators and task-tracking were not formulated and fixed.  Fidbeck from the developers - "FIG know what they do there." </li><li>  Communication channels were not formalized.  In the end, something is being written to the post office, something to Skype, something to Slack, something is negotiated by phone. </li></ul><br><img src="https://habrastorage.org/webt/w9/mg/66/w9mg66ofpz5ttkghdlnq6uywyl8.png"><br>  Together, all these factors led to an increase in product development time and nervousness in the team. <br><br><h2>  What to do? </h2><br>  <b>Principle</b> <br><br>  We decided to act in the following way: to save developers from infrastructure issues to the maximum so that they focus only on planning and writing business logic. <br><br>  The solution was in several areas - in technical and in the field of process organization.  In technical terms, because the available solutions did not provide the necessary functionality.  In the process - as a clear process only had to create. <br><br><h3>  Technical solutions </h3><br>  So, from the technical solutions in terms of infrastructure, we had OpenStack.  What does he allow to do?  Create all the necessary infrastructure for the project - a virtual machine, DNS, IP, etc.  But at the same time, all the same, there remains the need to write a deployment of products, monitoring, logging, and ensuring fault tolerance.  All this remains in the area of ‚Äã‚Äãresponsibility of the development team and eats away her time. <br><br>  <b>Platform</b> <br><br>  We decided to conduct an experiment - radically change the distribution of applications.  Several small projects that were to be released in the near future, decided to release in Docker. <br><br>  We wanted our developers not to get an extra headache, but to get a solution to their problems.  Forced learning of new technologies was not part of the plans.  In addition, in the experiment did not want to invest a huge amount of time. <br><br>  The choice fell on the platform to run web-applications <a href="http://deis.io/">Deis</a> .  As they say about themselves - MicroPaaS or a small clone of Heroku.  Micro - because it allows you to run only stateless-services.  Now Deis is no longer supported, but he has served us well in terms of adapting people to new technologies.  In more detail about this platform and its technical aspects, my colleagues have already made reports <a href="http://rootconf.ru/2016/abstracts/2053.html">here</a> and <a href="https://goo.gl/GSGr4s">here</a> .  I just dwell on the fact that our developers got it. <br><br>  Deis gives 3 ways to run an application: <br><br><ol><li>  You can collect Docker Image yourself and give it to Deis. </li><li>  You can simply write a dockerfile. </li><li>  The easiest option is the 'git push deis master' command.  He collects Docker Image by Heroku buildpack. </li></ol><br>  The second version of Deis Workflow, which works on Kubernetes, has already been released.  So we successfully upgraded and preserved the user experience and gave our more technologically sophisticated Kubernetes projects. <br><br>  What did we get with the transition to container infrastructure? <br><br><ol><li>  More efficient utilization of iron. </li><li>  Unified approach to the development of services.  Now most of the services look the same and it's much easier to understand what is happening. </li><li>  For a single platform, it is now easy to make standards for logging and monitoring. </li></ol><br>  <b>Backing services</b> <br><br>  Well, we have a solution for applications, but in addition to the code itself there is also a database.  Many projects have unique database instances with varying degrees of fault tolerance of different versions that take time to maintain.  Here we understood that happiness absolutely for all we cannot do.  Alas.  We took the same type of projects - most of them - which do not require registration in several data centers.  For them, they raised one large cluster of Postgres on hardware and gradually transported these projects there. <br><br>  Now developers can simply deploy the code to the platform, re-request the base from admins and that's it.  However, ‚Äúmay‚Äù does not mean that they will necessarily do it. <br><br>  <b>Technology diffusion</b> <br><img src="https://habrastorage.org/webt/0b/y6/7g/0by67gqj65nzk3y7bxjytbdmxuk.png"><br>  It is necessary to say a few words about the fact that, in fact, when a new technology appears in a company, it is not necessary that everyone immediately rushes to use it. <br>  Firstly, the benefits are not always obvious, and secondly, everyone has a lot to do, thirdly, and so everything works. <br><br>  In order to really start using the technology, for example, we did the following: <br><br><ol><li>  Wrote documentation - FAQ, Quick start. </li><li>  We conducted a series of internal techtalks, on which we told exactly what development problems we are solving. </li><li>  In some cases, we sat directly on the team and dealt with emerging issues and problems. </li></ol><br>  <b>IaC, CI and that's it</b> <br><img src="https://habrastorage.org/webt/1w/pa/dw/1wpadwwiicyt3ygzopjnt1fz-o8.png"><br>  The introduction of new tools would not be possible if we did not use the IaC + CI approach.  In our work we follow the following rules: <br><br><ol><li>  All infrastructure must be in Git. </li><li>  Must be CI. </li><li>  We go directly to the servers only in extreme cases, everything else via CI. </li><li>  Each change must be reviewed by at least two colleagues. </li></ol><br><h3>  Process solutions </h3><br>  <b>Input and Output Review</b> <br><img src="https://habrastorage.org/webt/4g/w4/nz/4gw4nznzgayohslopnkfzfcssuo.png"><br>  To control the ingress of projects into our new infrastructure, we came up with the following process - a technical review of projects. <br><br>  It consists of two steps. <br><br>  The input review is at the design stage, that is, as soon as the team came up with what its service will look like. <br><br><ul><li>  Objective: validate the architecture, selected technologies, discuss the required resources. </li><li>  Committee: product manager, infrastructure engineer, QA, regional experts and other interested people. </li><li>  At the exit: a list of tasks that need to be corrected before the exit review. </li></ul><br>  Output Review - a few days before the expected release date <br><br><ul><li>  Objective: To test the readiness of the product for release. </li><li>  Committee: The same + technical support. </li><li>  At the exit: release date and list of joint actions. </li></ul><br><img src="https://habrastorage.org/webt/og/lk/xk/oglkxknp4xoepz5lwjtwl8xskei.png"><br>  It didn‚Äôt settle down right away, because the process was perceived as passing an exam or defending a project - the question immediately arose: ‚ÄúWhy should I actually do this?‚Äù <br><br>  We replied that it was not passing an exam to any particular department, but consulting with experts on how to make the product better and more stable. <br><br>  This + a few more successful cases of rescue of the project from overin + the found unaccounted problems helped the technical review to take off. <br><br>  Over time, the system calibrated itself and the process began to take less time.  Additional usefulness has been product release awareness.  We always know what will be released and when, as well as the architecture and weak points of all projects. <br><br>  <b>Planning</b> <br><br>  Again, in order to know what is happening and what will be happening, we introduced a planning process, which was not previously in the team of system administrators.  Made the same as for the rest of the development teams.  Task tracking in Jira, monthly iterations, 30-40 percent of time, are laid on unexpected traces.  We also participate in all big planning, where it is decided what work will be done in the next six months. <br><br>  <b>On-call rules</b> <br><br>  And another source of hassle was complete chaos in dealing with incidents.  When a service stopped working, it was not clear who should call whom and what to do about it.  So we introduced quite simple things: <br><br>  <b>Duty roster</b> <br><br><img src="https://habrastorage.org/webt/v1/uk/zm/v1ukzmvrb1whhtnqfq4azx-eswg.png"><br>  By the principle of the queue.  There is a Primary On-call, there is a Secondary On-call, there is everyone else.  Every week there is a change - Primary moves to the end of the queue, Secondary becomes Primary.  The duty officer‚Äôs task is to restore service availability as soon as possible.  If the admin understands that the problem is outside his area of ‚Äã‚Äãcompetence, he reports this to the developers of the service. <br><br>  <b>Postmortem meeting or debriefing</b> <br><br>  During working hours, the duty officer appoints a meeting with all parties involved.  Participation of representatives of the affected service, responsible for hardware, technical support is obligatory. <br><br>  The following aspects are documented at this rally: <br><br><ul><li>  Chronology of events.  When the problem was discovered and when it was fixed. </li><li>  Impact  What impact the incident had on users. </li><li>  What was the original reason. </li><li>  What actions should be taken by each of the parties so that the incident does not happen again. </li></ul><br>  The resulting list of tasks is executed in priority.  It seems nudyatina and bureaucracy.  However, this is a very useful thing.  Seriously helps in arguing and pushing tasks from technical debt. <br><br>  <b>Communications</b> <br><br>  Indiscriminate communication makes it difficult to understand what is happening and keep track of everything. <br><br>  We had the following initial data: <br><br><ul><li>  Existing channels: Slack, mail, telephone, Mattermost. </li><li>  Team information: problems, questions, feature requests. </li><li>  Outgoing information: work on services. </li></ul><br>  Now the processes are organized as follows: <br><br>  Quick questions and problem reporting to the open channel on Slack so that everyone can see. <br><br>  If this is a real problem, then after the message, a ticket is sure to start in Jira.  Feature requests definitely go to Jira right away. <br><br>  To inform the teams about the work in the infrastructure, its Status Board service was written.  In it, a person starts an event for the service, which contains information: when will work be done, how much service will be unavailable, etc., and the Status Board sends the necessary notifications. <br><br><h3>  findings </h3><br>  Operation is an integral part of the service life.  And to start thinking about how he will work in production, you need to start working on it from the very beginning.  The stability of the service is provided by both infrastructure engineers and developers, so they must be able to communicate ‚Äî sit together, sort out problems together, have processes transparent to each other, share responsibility for incidents, plan work.  Don't forget to take the time and create a handy collaboration tool.  Write a FAQ, swipe TechTalk, but make sure there is no misunderstanding. <br><br>  Making friends with the team of administrators with the development teams is not easy, but the game is definitely worth it. <br><br>  Video version of the article can be viewed on <a href="http://techno.2gis.ru/lectures/90">techno.2gis.ru</a> </div><p>Source: <a href="https://habr.com/ru/post/346794/">https://habr.com/ru/post/346794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346784/index.html">Web application on Node and Vue, part 5: finalizing the project</a></li>
<li><a href="../346786/index.html">Social architecture: 4 steps to a self-governing community</a></li>
<li><a href="../346788/index.html">How to build a community. Translation of Social Architecture: Chapter 3. ZeroMQ Community</a></li>
<li><a href="../346790/index.html">Addition to the article "Subtleties of resume in German IT-companies"</a></li>
<li><a href="../346792/index.html">Implementation of an asynchronous secure communication system based on TCP sockets and central OpenVPN server</a></li>
<li><a href="../346796/index.html">ICO analysis: technical approach. Part I - general conclusions</a></li>
<li><a href="../346798/index.html">X.509 Certificate Spurs</a></li>
<li><a href="../346800/index.html">Basic API sets for implementing transparent proxying services</a></li>
<li><a href="../346802/index.html">Using Docker CE (Community Edition) with Kubernetes</a></li>
<li><a href="../346804/index.html">Reverse Engineering iPhone 2G</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>