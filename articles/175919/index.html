<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Arbor Pravail APS and DDOS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good to everyone! 

 Not so long ago, we compared several systems of protection against DDOS attacks, which we managed to ‚Äútouch‚Äù. As promised, we sha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Arbor Pravail APS and DDOS</h1><div class="post__text post__text-html js-mediator-article">  Good to everyone! <br><br>  Not so long ago, we <a href="https://habr.com/company/timeweb/blog/161427/">compared</a> several systems of protection against DDOS attacks, which we managed to ‚Äútouch‚Äù.  As promised, we share our impressions of the device we have chosen. <br><br> <nobr><img src="https://habrastorage.org/storage2/a94/843/92b/a9484392b0561b66683c7e21ebf97bb0.png"><img src="https://habrastorage.org/storage2/656/83c/9c4/65683c9c451e325db2cace0532c1dc0c.jpg"><img src="https://habrastorage.org/storage2/e63/834/488/e63834488f71090832c6f81b6b07131c.png"><br></nobr> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here we will not tell you what it is, where the DDOS attack comes from and why, we are sure that you already know this.  We will consider the practice of using the system in a particular example (there will be many pictures).  So, meet <b>Arbor Pravail APS</b> ! <br><br><a name="habracut"></a><br><br><h4>  Quick reference </h4><br><blockquote>  <a href="http://www.arbornetworks.com/">Arbor Networks</a> was founded in 2000 at the University of Michigan, the innovative development of which was funded by the US Department of Defense.  Since then, Arbor has specialized in detecting and handling online threats. <br></blockquote><br><br><h3>  ‚ÄúHe‚Äù has arrived! </h3><br>  About two months have passed from the moment of order to receipt. <br><img src="https://habrastorage.org/storage2/a8a/fbd/121/a8afbd121ed0950ab304f3a5cc8a1d74.jpg"><br><br>  A clearly visible box, worn in places, torn in places, sometimes painted with a pen or something else, but is this the main thing ?!  Rather - open! <br><img src="https://habrastorage.org/storage2/912/dba/46f/912dba46f56ef870f6400a432e1bd197.jpg"><br><br>  Opened, it seemed familiar Intel 2U chassis with a beautiful "attractive face" and we certainly climbed to look inside =) <br><img src="https://habrastorage.org/storage2/1f4/013/9f5/1f40139f5cbfd45ca45750d843eca3ba.jpg"><br><br>  To check - nothing unusual, two processors, memory ... the design feature gave out an unusual <a href="http://www.silicom-usa.com/">Silicom</a> network card to our eye with a large heatsink, like on a GPU, it‚Äôs hot, overseas miracle =) <br><img src="https://habrastorage.org/storage2/189/637/16e/18963716ecdd1569388c91b03c112fa2.jpg"><br><br>  Enough "pampering", it's time to look at it in action! <br><img src="https://habrastorage.org/storage2/c38/3a4/e71/c383a4e71c26fc615643064ab88c7e71.jpg"><br><br>  We connected it to one of our test routers and began to configure.  The steps are standard - the console, the address on the management port, the installation of acl and almost everything.  The main thing - do not forget the key with the license, will not filter =) <br><br>  In this post, we will not go into the features of the settings of Pravail operation modes, they are quite simple (groups, filters, parameters), if Habravchanam will be interested, we will make a separate post for each item.  In short - Pravail has basic settings for automatic protection of groups, which are based on several types of protected objects (web, dns, mail, vpn, voip, file, rlogin).  Each type has a relatively detailed setting with three levels of protection.  Switching between levels can be done in one click, at a time all groups can be protected only at one level. <br><br>  Get down to business! <br><br><h3>  Pravail vs DDOS = start </h3><br>  DDOS attacks, different, come to us constantly.  It is interesting to look at Pravail in business, is it really as good as the manufacturer says about it, because all manufacturers only say the best things about their products, don't they?  =) <br><br>  As an example, we will take a special case from the ordinary life of a regular web server, which we have put on real protection ‚Äúfor‚Äù Pravail.  On this server, we practice protecting sites that are attacked by all sorts of not very good robots. <br><br><h3>  Attack start </h3><br>  Day X and hour Y coincided (it did not take long to wait).  We recorded an anomaly on our links, the total ‚Äúexcess‚Äù incoming traffic was approximately 3.5Gbit (~ 650kpps), in general, this is not much by modern standards, <a href="http://habrahabr.ru/post/174483/">spamhaus knows</a> hello to crooked-tuned dns servers = \ <br><br><img src="https://habrastorage.org/storage2/532/fd2/bfa/532fd2bfaf4f20f4168f0db2e4a849f8.jpg"><br><br>  Through various filters on Pravail, everything ‚Äúreached‚Äù about 130Mbit and 300k pps, what kind of traffic?  Below we analyze in detail in the pictures. <br><br><h3>  Pravail: Start </h3><br>  Here we look at the reaction of the system to the attack, what Pravail sees and what can or should be done.  Information will be displayed in the form of interface pictures with some description.  The pictures are clear enough, there will be questions - ask. <br><br>  In order that you can better represent the subject, please look at the picture: <br><div class="spoiler">  <b class="spoiler_title">Dashboard Pravail APS</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/98b/650/fe2/98b650fe2807ab6a36edf81aab5307b6.png"></div></div><br>  This is the first thing we see getting into the system interface.  Everything is clear and to the point. <br><br><h4>  Here, look, look what I found! </h4><br>  After entering the Pravail interface, we get to the Dashboard.  Here all important information on the protected groups and objects is collected.  From where and where most of the traffic goes, what is the load on the interfaces and the system.  If necessary, we can do several actions with groups and objects (block, view packets or detailed information about the traffic of the source country).  All actions are done in one click, just move the cursor to the object of interest to us and select an action. <br><br>  The first and most important schedule is the current situation with traffic in the group.  The anomaly on the graph attracts our attention.  We can look at the blocked hosts (reason, time, duration) and make a detailed analysis of the incoming packets (packet capture). <br><img src="https://habrastorage.org/storage2/834/911/fea/834911fea542275f0d06cbc3e0eecda2.png"><br><br>  TOP-5 host sources and traffic recipients.  Here we see where and where the traffic is coming from.  Host blocking is available (blacklist) and packet analysis. <img src="https://habrastorage.org/storage2/fc4/dca/e4c/fc4dcae4c575f344572e9ca89a2f717c.png"><br><br>  TOP-5 countries of traffic sources (remembering geography).  It is possible to see the details of the traffic from the country, and block it for a specific group. <br><img src="https://habrastorage.org/storage2/062/f16/7c9/062f167c9d2c61cdc7b4149455159562.png"><br><br>  The state of the interfaces, our 10Gb ports on the input and output.  Here we can do ‚Äúpacket capture‚Äù on each interface. <br><img src="https://habrastorage.org/storage2/5c7/6c1/3aa/5c76c13aa589f85ebe0a74b65ab8b748.png"><br><br>  Summary of traffic.  Nothing can be done here. <br><img src="https://habrastorage.org/storage2/b09/37f/43f/b0937f43fbaf5ada26be6734ee31bcce.png"><br><br>  Load on the system: we look, we think.  You can build assumptions for the future. <br><img src="https://habrastorage.org/storage2/b33/75c/e67/b3375ce67c3c881dd100161eba823e84.png"><br><br><h4>  Well, I found, and then what? </h4><br>  Next, we are transferred to the protected group, in our case - this group lists the IP addresses (you can also specify the network) of the protected objects.  Inside we will see informative graphics with a minimum of actions regarding objects (ip addresses, countries, links, domains). <br><br>  Protected group "protos" (we love SC, but the name is not connected =).  We see the name, description, protected addresses, type of protection, its duration and the ability to edit the whole thing.  You can select the period of data display. <br><img src="https://habrastorage.org/storage2/08d/cc5/af9/08dcc5af99b8e920ad21d7c694692ab1.png"><br><br>  Summary of protected group.  Traffic in Mbps and pps, bad and good in details. <br><img src="https://habrastorage.org/storage2/0ba/b73/0f8/0bab730f8e2f5d148eefde86deb1930a.jpg"><br><br>  Sources of bad traffic.  If necessary - you can see in details at the "blocked hosts" (blocked IP addresses) of each category.  ‚ÄúDetail‚Äù gives us details, each category has its own data. <br><img src="https://habrastorage.org/storage2/84a/085/aac/84a085aac048cbe7bbe6cf56abe21c87.png"><br><br>  TOP queries to sites per minute.  By addresses.  More requests - higher in the top.  It is possible to close obviously "invalid" requests.  ‚ÄúBlacklist‚Äù is triggered earlier. <br><img src="https://habrastorage.org/storage2/694/54f/fce/69454ffcec707c1747bd7e8ff2c551dc.png"><br><br>  TOP queries to domains per minute.  It works by analogy with TOP-url's. <br><img src="https://habrastorage.org/storage2/2c3/aaa/4c7/2c3aaa4c70f2a5befa63acfab1991639.png"><br><br>  "Best" countries.  Determined by ip address.  You can make "packet capture" for the desired country.  My favorite section.  Who knows why?  =) <br><img src="https://habrastorage.org/storage2/5fd/510/05a/5fd51005a0b35d9bd9ad8c493f076af6.png"><br><br>  TOP protocols by type, informative schedule. <br><img src="https://habrastorage.org/storage2/0f1/c01/18c/0f1c0118cec405f08b0ee7fe381507fc.png"><br><br>  TOP services.  You can also do packet capture. <br><img src="https://habrastorage.org/storage2/324/99b/e7c/32499be7c6975ad666a29e6dc07b0e3d.png"><br><br>  TOP-ip addresses.  You can watch the reason for blocking or disassemble packages.  If the traffic from this address goes now.  And, of course, ‚Äúwhitelist‚Äù, if the necessary addresses were blocked. <br><img src="https://habrastorage.org/storage2/a51/0d3/655/a510d3655be261e039d18c9df27f8d65.png"><br><br>  In general, this is all that Pravail gives us on monitoring the status of the protected group. <br><br><h3>  What is the result? </h3><br>  As a result, we have an excellent corporate-class device for protection against attacks on applications, which practically works in automatic mode.  Of course, complex attacks will require manual adjustment of protection settings. <br>  This device can be safely placed at the corporate network border and / or preventively protect important systems.  Practice shows that with some adaptation of the system to the specifics of the protected object - you can achieve a confidently positive result.  The protected object under attack will work quite well. <br>  Can Internet providers use it?  They can, but to protect individual nodes. <br><br>  Why did we decide to choose Pravail?  Because of all the systems that we saw, it was he who left the most pleasant impressions of work. <br>  And now - we have something to protect ourselves and our users! </div><p>Source: <a href="https://habr.com/ru/post/175919/">https://habr.com/ru/post/175919/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../175899/index.html">Script for receiving information from remote unix-like servers</a></li>
<li><a href="../175911/index.html">Win32 / Gapz: the last episode</a></li>
<li><a href="../175913/index.html">How accurate is the demographic targeting of Google?</a></li>
<li><a href="../175915/index.html">Note on Instructions (no claim to world domination)</a></li>
<li><a href="../175917/index.html">Ranking in Yandex: how to put machine learning on stream (post # 3)</a></li>
<li><a href="../175921/index.html">Address Book Sharepoint 2010 from AD with synchronization</a></li>
<li><a href="../175929/index.html">Correct names and helpful errors</a></li>
<li><a href="../175931/index.html">The digest of interesting news and materials from the world of PHP for the last two weeks, No. 14 (03/26/2013 - 04/08/2013)</a></li>
<li><a href="../175933/index.html">Virality in games</a></li>
<li><a href="../175935/index.html">Features when intercepting method calls using __call () and __callStatic () in PHP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>