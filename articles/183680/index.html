<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Moisture meter from scrap materials</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In one of my small companies, the production of food powders. Well, for example, we buy screenings from roasting cocoa beans at a confectionery factor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Moisture meter from scrap materials</h1><div class="post__text post__text-html js-mediator-article"> In one of my small companies, the production of food powders.  Well, for example, we buy screenings from roasting cocoa beans at a confectionery factory and grind them in our own mill as no one else can.  Well, we sell, naturally.  Well, and much more ... Of course, food production has its own specifics.  In particular, a lot of parameters that need to be controlled.  In addition to the size, there is microbiology, and fat content, and humidity.  For several reasons, I had to solve the problem of controlling humidity in a very short time.  The decision came out of a series of "the need for invention is cunning."  This is what this story is about. <br><img src="https://habrastorage.org/storage2/a8a/4fe/1f2/a8a4fe1f2fb8ae36f1b47bcd13f2c983.jpg"><br><a name="habracut"></a><br><br>  The basic, accommodated method for determining the moisture content of food powders is, in fact, trivial.  We take the material, we weigh, we dry (for different materials <a href="http://vsegost.com/Catalog/36/36926.shtml">GOST 5900-73</a> provides different temperatures and durations), we weigh.  Mass defect - the amount of water.  We take the relation to the initial mass - we get the humidity.  By the way, should not be confused with moisture content.  Here begins to play intracellular moisture.  For this purpose, the material should also be ground to grind. <br><br>  Naturally, industrious mankind has created special instruments for measuring humidity.  Here, <a href="http://www.ebay.com/itm/Moisture-Analyzer-Meter-/150923261416%3Fpt%3DLH_DefaultDomain_0%26hash%3Ditem2323ba35e8">for example</a> (it is refurbished).  And they cost new from 40-50 tr.  Yes, and control, as I said, it is necessary not only humidity.  Therefore, we didn‚Äôt bother with much, we just regularly passed samples for analysis to a certified laboratory (a week for measurement), getting a comprehensive control over all parameters of interest to us.  Our mills, in the process, the material was also dried and there was nothing to be especially hard to strain.  But happiness could not be eternal: (Changes in processing technology, induced by the struggle for good microbiology (do not forget that the source is waste) + warming outside (with a corresponding increase in humidity in the atmosphere) led to the fact that the humidity of the final product approached To the limit line. What does this mean? This means that a truck of 10 tons of cocoa powder, sent from St. Petersburg to Moscow, returned back to the workshop because the humidity was not 4.5, but 5-7%. This is in accordance with GOST - 7, 5%. But the customer is always right. Minus shipping, minus transportation  e, stress in the relationship with the client. In general, a nightmare! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The task arose sharply and evil to provide on-line control.  And priborchiki, like the specified, differ also by the fact that they need to be ordered in 2-3 months.  The speed of delivery with e-bay by Russian Post is also well known to everyone.  In short, it became clear that Babu Yaga must be educated by himself.  Moreover, the task of educating Baba Yaga was reduced even in the shortest possible time.  The shop is working, a client near Moscow is waiting for a substitution (he also has an order).  Wait a week, until they give me the answer from the laboratory, there is no possibility.  Everything had to be made from improvised material.  And in general, it is not often for me, in this life, that I can be ‚Äúpoked with a soldering iron‚Äù. <br><br>  For a start it was necessary to understand that I understand what to do.  The first version of the METHOD was born to the light, in the order of Friday delirium.  Electric tile, LATR, analytical scales (they are my friend, a former employee of an academic institute, um ... In general, I now have them). <br><img src="https://habrastorage.org/storage2/139/a53/dd3/139a53dd3e8997d852bf1bc8c9c7c87d.jpg"><br><br>  The cap on the tile is a Danish pastry jar wrapped in aluminized foam.  I stole the foam in the next office where the ventilation repair was going.  The temperature was controlled by an old thermometer (which I used to dissolve the developer and fixer).  Later, I remembered that a thermocouple was applied to the tester.  The temperature was regulated by the LATRA handle (I bought it next, in Micronik).  It quickly became clear that LATR alone was not enough.  Stabilize the temperature of ¬± 2-3 g, in general, it is possible, but when you open the cap to replace the samples, the temperature goes away.  You have to either turn the knob or accept the fact that the temperature will recover for a long time.  So - the error. <br><br>  Saturday has come.  I got to the desk drawer of the house and pulled out the figs that were lying there and knows how long the mini-arduino, which I once ordered out of curiosity, is to look.  In short, by Sunday morning a PID regulator appeared: <br><img src="https://habrastorage.org/storage2/dcb/f66/cf7/dcbf66cf731133d8f243716859af503e.jpg"><br>  In order not to bother, I used a <a href="http://playground.arduino.cc/Code/PIDLibrary">ready library</a> as a basis.  Only not built-in digital.write, but a PWM image with a period of 1 sec, jerking a leg.  As a governing body, if not visible, a solid-state relay of 40 A, 240 V. was used. I agree that this is slightly too much, but the task was to blind from what was.  And this figovin, also lay in the table since the time when I did in the cottage electrode boiler for heating.  I did not bother with the <a href="http://brettbeauregard.com/blog/2012/01/arduino-pid-autotune-library/">auto-selection of coefficients</a> .  He estimated them "by eye".  It turned out pretty well, from the first approach.  If anyone will be interested to tell separately. <br><br>  In short, by Monday, the laboratory work was ready and started to play at full speed.  Only one thought gnawed at me.  Somehow not kuzyavo, when the general himself is sitting and looking at the analyzer wearer.  I prefer, putting my feet on the table, puffing on my pipe.  I have good frames, but they work in the workshop and somehow they don‚Äôt understand the subtleties of grabbing the weight with tweezers.  In general, it has become clear that the task is ‚Äúsolved in principle‚Äù (one of my friends calls this ‚ÄúUniversity manners‚Äù).  Now it was necessary to make the next spurt.  From METHOD it was necessary to go to the device!  By the way, since working in the Research Institute of Physics, I remember that it was never possible to develop a device.  This required a lot of design documentation, which we could not do.  I remember that I had a contract for "... the development of a valid model of a photoelectron spectrometer model".  This very "acting ..." and it was necessary to invent. <br><br>  The week flew by unnoticed, in the seat in front of the analytical scales.  The problem of moisture control has been solved, the processing technology has been adjusted.  Moreover, comparative tests arrived and I realized that my home-grown technique was lying within 0.5%, and for the most part, which was fine with me.  But the thought of the DEVICE (or ‚Äúmodel of the layout‚Äù) did not let me sleep.  And now it's Friday!  It is time to free flight of thought, called delirium.  In brackets, I note that in my past life, my admins were forbidden to even touch the routing tables, after dinner on Friday.  "But I'm another thing!".  As a result of enthusiastic work (the wife only silently, with horror looking into the office) this splendor was born. <br><img src="https://habrastorage.org/storage2/bc9/9c6/bbd/bc99c6bbddbe28732814106c6b97c6bf.jpg"><br><br>  Chassis - the floorboard of the parquet, the remainder of the repair of the apartment.  The power supply is screwed on the bottom - from the old computer case.  Here it is the great strength plushkinizma!  In the center, on the legs is a bank of Finnish lollipops.  On the right, the same PID controller is visible. Only the working body is the 630th field operator.  He, as well as heaters for the heater, were bought, on the way home all in the same Mikronik.  Ceramic, 4 Ohm resistors are fixed on the inner surface of the can.  There are three holes in the bottom of the can, through which the three legs of the objective ‚Äútable‚Äù are passed (visible in the center).  Chinese pocket scales for 300 rubles, bought at the nearest flea market, are screwed under a can.  On their platform, and there is a stage table. <br><img src="https://habrastorage.org/storage2/69c/c21/aec/69cc21aec6e4313a4029282b9e23b911.jpg"><br><br>  There were a couple of minor problems.  First, Chinese scales, in order to save batteries, have a tendency to fall asleep after 20 seconds.  The solution - arduinka, every 15 seconds, began to pull the leg, switching units of measurement.  The activity shown does not allow the scales to shut down. <br><br>  The second problem: such scales do not have a digital interface.  Without an oscillator, it‚Äôs not possible to figure out what is going on their indicator.  But here I was visited by a revelation.  I remembered <a href="http://habrahabr.ru/post/143102/">this post</a> on Habr√©. <br><br>  Again we climb into the drawer of the table and, voila: <br><img src="https://habrastorage.org/storage2/43b/2fc/ec9/43b2fcec93071eeed92481020a998839.jpg"><br><br>  Webcam looks at the indicator.  Further, by analogy with the above post, a <a href="">number of lines of</a> code were written on python.  By the way, to display the graph in on-line, I applied a tack, which I <a href="http://geektimes.ru/users/dlinyj/" class="user_link">looked</a> at <a href="http://geektimes.ru/users/dlinyj/" class="user_link">dlinyj</a> .  What amazes me the most is that all this garbage has earned. <br><br>  I must say that the solution was not perfect.  First, the form factor is poorly chosen.  The jar from Finnish lollipops is clearly inferior in quality to the jar from Danish cookies.  The fact is that Chinese scales have a minimum division price of 10 mg.  Ie, in order to see with decent accuracy a change in mass of 5%, you need to take a hitch of 5-10 grams.  Due to the rather small internal diameter, it is necessary to use a vertical bujik, with a relatively small throat diameter.  In the process of working out the METHODS on tiles and scales, I was convinced that the thickness of the layer of 1-2 mm already affects the accuracy.  Therefore, the powder is now poured not with a spoon, but with pepper pepper, stacked in a cupboard.  The bulk density is about-calibrated and the layer thickness is easier to control.  Apparently, the water molecules fly out more slowly, first traveling through the sample volume.  As a temporary measure, as a replacement for a shoe, home-made cups of permeable napkins are used.  It takes longer to warm than GOST, but the correlation with the reference figures from the laboratory, however, has been preserved.  And secondly, the use of the console program on the python is certainly not quite the same as the use of analytical scales, but still, it imposes certain restrictions on the operator. <br><br>  The first problem is solved, as I said, by changing the nationality of the form factor.  I‚Äôve got two solutions to the second problem.  You can sport OpenCV on my favorite Mini2440, which I use for all kinds of fun or use a strain gage lying on the table for 100 g. However, I have to solder something like AD7798 to it, and there are times when I could have bitumen varnish 4 tracks between my legs 155 -th series have long passed.  It turned out that unsoldering a TSSOP into a mole is already a problem :( Both hands and nichrome eyes cannot. In general, let's wait and see. <br><br>  In conclusion, I want to say ‚Äúa separate merci‚Äù to comrade <a href="http://geektimes.ru/users/dlinyj/" class="user_link">dlinyj</a> for his activity.  Without this, I would never have intended to perpetuate my hard work in this post. </div><p>Source: <a href="https://habr.com/ru/post/183680/">https://habr.com/ru/post/183680/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183666/index.html">Recovery Electronics IM-22</a></li>
<li><a href="../183668/index.html">Two-faced REQUEST_URI or in search of a correct HTTP / 1.1 server</a></li>
<li><a href="../183670/index.html">Talk about ... flashlights?</a></li>
<li><a href="../183674/index.html">How I was looking for work or How not to conduct interviews</a></li>
<li><a href="../183678/index.html">What are the difficulties after the launch and how not to give up</a></li>
<li><a href="../183682/index.html">Trial versions of Adobe Creative Cloud are available.</a></li>
<li><a href="../183686/index.html">The method of optimization of the tasks of creating and maintaining the same type of Xen VM</a></li>
<li><a href="../183688/index.html">Walkers: The game of walkers</a></li>
<li><a href="../183690/index.html">Investigation of the properties of a model printed on a 3D printer</a></li>
<li><a href="../183692/index.html">TCP (syn-flood) -netmap-generator with a performance of 1.5 mpps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>