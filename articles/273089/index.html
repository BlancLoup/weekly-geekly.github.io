<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Selenium for Python. Chapter 5. Expectations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuation of the translation of the unofficial Selenium documentation for Python. 
 The original can be found here . 

 Content: 
 1. Installation ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Selenium for Python. Chapter 5. Expectations</h1><div class="post__text post__text-html js-mediator-article">  Continuation of the translation of the unofficial Selenium documentation for Python. <br>  The original can be found <a href="http://selenium-python.readthedocs.org/waits.html">here</a> . <br><br><h2>  Content: </h2><br>  1. <a href="http://habrahabr.ru/post/248559/">Installation</a> <br>  2. <a href="http://habrahabr.ru/post/250921/">First steps</a> <br>  3. <a href="http://habrahabr.ru/post/250947/">Navigation</a> <br>  4. <a href="http://habrahabr.ru/post/250975/">Search for items</a> <br>  5. Expectations <br>  6. Page <a href="http://habrahabr.ru/post/273115/">Objects</a> <br>  7. WebDriver API <br>  8. Appendix: Frequently Asked Questions <br><br><h2>  5. Expectations </h2><br>  Nowadays, most web applications use <a href="https://ru.wikipedia.org/wiki/AJAX">AJAX</a> technology.  When the page is loaded in the browser, the elements on this page can be loaded at different time intervals.  This makes it difficult to find elements, if the element is not present in the <a href="https://ru.wikipedia.org/wiki/Document_Object_Model">DOM</a> , an ElementNotVisibleException exception is thrown.  Using expectations, we can solve this problem.  Waiting gives a certain time interval between the actions performed - the search for an element or any other operation with an element. <br><a name="habracut"></a><br>  Selenium WebDriver provides two types of expectations - implicit (implicit) and explicit (explicit).  Explicit waiting causes WebDriver to expect a certain condition to occur before performing actions.  Implicit wait causes WebDriver to poll the DOM for a certain amount of time when it tries to find an item. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  5.1 Explicit expectations </h2><br>  Explicit waiting is the code by which you determine what necessary condition must occur in order for the further code to be executed.  The worst example of such a code is the use of the time.sleep () command, which sets the exact wait time.  There are more convenient methods to help you write code that expects as much as you need.  WebDriverWait in combination with ExpectedCondition is one such way. <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.common.by <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> By <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.support.ui <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> WebDriverWait <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.support <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> expected_conditions <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> EC driver = webdriver.Firefox() driver.get(<span class="hljs-string"><span class="hljs-string">"http://somedomain/url_that_delays_loading"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: element = WebDriverWait(driver, <span class="hljs-number"><span class="hljs-number">10</span></span>).until( EC.presence_of_element_located((By.ID, <span class="hljs-string"><span class="hljs-string">"myDynamicElement"</span></span>)) ) <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>: driver.quit()</code> </pre> <br>  This code will wait 10 seconds before it throws a TimeoutException exception, or if it finds an element in those 10 seconds, it will return it.  WebDriverWait defaults to ExpectedCondition every 500 milliseconds until a successful return is received.  A successful return for ExpectedCondition is of type Boolean and returns true, or returns not null for all other ExpectedCondition types. <br><br>  <b>Expected conditions</b> <br>  There are some conditions that are often found in the automation of websites.  The following are the implementations of each.  Bundles in Selenium Python provide some convenient methods, so you don‚Äôt have to write the expected_condition class yourself or create your own utility package. <br><br><ul><li>  title_is </li><li>  title_contains </li><li>  presence_of_element_located </li><li>  visibility_of_element_located </li><li>  visibility_of </li><li>  presence_of_all_elements_located </li><li>  text_to_be_present_in_element </li><li>  text_to_be_present_in_element_value </li><li>  frame_to_be_available_and_switch_to_it </li><li>  invisibility_of_element_located </li><li>  element_to_be_clickable - it is Displayed and Enabled. </li><li>  staleness_of </li><li>  element_to_be_selected </li><li>  element_located_to_be_selected </li><li>  element_selection_state_to_be </li><li>  element_located_selection_state_to_be </li><li>  alert_is_present </li></ul><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.support <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> expected_conditions <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> EC wait = WebDriverWait(driver, <span class="hljs-number"><span class="hljs-number">10</span></span>) element = wait.until(EC.element_to_be_clickable((By.ID,<span class="hljs-string"><span class="hljs-string">'someid'</span></span>)))</code> </pre><br>  The expected_conditions module already contains a set of predefined conditions for working with WebDriverWait. <br><br><h2>  5.2 Implicit expectations </h2><br>  Implicit waiting tells WebDriver to poll the DOM for a certain amount of time when it tries to find an element or elements that are not available at that moment.  The default value is 0. After installation, implicit wait is set for the lifetime of the instance of the WebDriver object. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver driver = webdriver.Firefox() driver.implicitly_wait(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-comment"><span class="hljs-comment"># seconds driver.get("http://somedomain/url_that_delays_loading") myDynamicElement = driver.find_element_by_id("myDynamicElement")</span></span></code> </pre><br>  Go to the next chapter: Page <a href="http://habrahabr.ru/post/273115/">Objects</a> <br><br>  PS: <a href="http://habrahabr.ru/users/penguino/" class="user_link">For</a> some reason, the user <a href="http://habrahabr.ru/users/penguino/" class="user_link">penguino</a> stopped making further translations of the documentation, so I decided to take the liberty to translate the next chapter. </div><p>Source: <a href="https://habr.com/ru/post/273089/">https://habr.com/ru/post/273089/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273075/index.html">Xamarin and Xamarin.Forms - cactus in chocolate. Part 1</a></li>
<li><a href="../273077/index.html">Software multitasking timer on the MK</a></li>
<li><a href="../273081/index.html">Changes in RAD Studio 10 Seattle Update 1</a></li>
<li><a href="../273083/index.html">Manage Drones with Intel RealSense SDK Speech Recognition Applications</a></li>
<li><a href="../273087/index.html">The button bar in the elevator: the door, do not rush to close</a></li>
<li><a href="../273093/index.html">How to replace a domain controller and not break the current infrastructure</a></li>
<li><a href="../273095/index.html">Content filtering: why and how to do it</a></li>
<li><a href="../273101/index.html">Moscow Python Meetup ‚Ññ31</a></li>
<li><a href="../273103/index.html">How to auto-sync data while editing Kendo Grid cells</a></li>
<li><a href="../273107/index.html">OpenSource.Mail.Ru: open projects of our employees</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>