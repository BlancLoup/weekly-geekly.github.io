<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The story of another 3d cube 10x10x10</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, articles about the creation of LED cubes have appeared on the portal. These are a kind of toys that can form a three-dimensional image, but ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The story of another 3d cube 10x10x10</h1><div class="post__text post__text-html js-mediator-article"> Recently, articles about the creation of LED cubes have appeared on the portal.  These are a kind of toys that can form a three-dimensional image, but to make a large resolution is very problematic and time consuming.  Most of the work is limited to the format of 3x3x3, or at best 5x5x5.  After a while, I found my old 10 ‚Äústorey‚Äù cube, restored it a bit and decided to write about my experience in creating the device. <br><img src="https://habrastorage.org/files/29f/f74/b55/29ff74b55acb44568a7e61817292e962.JPG"><br>  I soldered the first cube somewhere in 2012, for a gift, with a resolution of 4x4x4, it used ready-made circuitry and a program found on the Internet.  Having got carried away, I decided to do the same for myself, but, having increased the resolution to 5x5x5.  Circuitry, based on a ready-made solution, he made himself, completely copying the very logic of applying voltage to the legs of the LEDs. <a name="habracut"></a><br>  I must say, in those cubes, the voltage on the LEDs went completely from the findings of the MK, so I had to take MK with a lot of legs, because they only needed 25 columns, and 5 lines.  In the gap between the MC and the LED, there was only a current-limiting resistor, and the voltage on the ‚Äúfloors‚Äù flowed through the field-effect transistor to the ground. <br><img src="https://habrastorage.org/files/283/043/686/28304368670e446b95d63cf7600bfa65.jpg"><br>  Then with Ebay I ordered 1000 diodes, and decided to assemble a very large, by my standards, cube.  By the way, my small experiments led to the fact that the best choice fell on diodes with a large radiation pattern.  They are not elongated, as usual, but form a hemisphere, their luminescence is visible from almost all angles, you can find them on request strawhat led.  They cost more, but they shine much more effectively.  Soldering a cube is another test.  Here, as with the hull, my good friend helped me, since I was heavily adapted to such painstaking work.  They did it like everyone else, drilling holes for the caps of the diodes, and making a 10x10 matrix.  Then we solder all the floors separately, and we superimpose them on each other.  The process took about 3 days, almost without a seat in front of the soldering iron. <br><img src="https://habrastorage.org/files/bee/165/bd3/bee165bd31a24b38be8a95d701f804ab.JPG"><br>  The body is made of ordinary plexiglass, which we kindly cut on laser cutting.  Glued with Cosmofen PMMA, such as a special glue for plexiglass, in fact, the usual superglue copes no worse, but it requires more accuracy, because if you apply too much, you will not be able to wash it off. <br><img src="https://habrastorage.org/files/21d/32b/353/21d32b3534f143beb5d085541ab74158.JPG"><br>  On the lower platform, in advance, 100 holes for the LEDs were marked on the laser cutting.  Easily drill them with a screwdriver, carefully submerge the welded cube there, and solder the adapters from below. <br><img src="https://habrastorage.org/files/983/1d9/975/9831d99755d8425b93373199130e2793.JPG"><br>  Also, to hide the electronics, I had to adjust and color the bottom of the cube.  This task was simple, the main thing that we learned from the past experience of painting a small cube - you need to paint at an angle, preferably from top to bottom, so that the paint does not penetrate the glued gaps of the faces, under the action of gravity. <br><img src="https://habrastorage.org/files/db4/803/b4c/db4803b4cce04d33a575077d36a50d33.JPG"><br>  It now remained to figure out how to fix the cube with the base into a decorative case.  It was necessary to fix the platform with holes at the junction with the painted part.  For this, small plexiglas squares with screwed in screws were cut out.  They had to be made so tiny so that the cube from the diodes could ‚Äúcrawl‚Äù to its rightful place.  The squares were stubbornly filled with superglue, holding on perfectly.  The platform itself also drilled holes, and fixed the cube with nuts. <br><img src="https://habrastorage.org/files/f07/247/81c/f0724781cb934b2cace2982fc238d08b.JPG"><br>  Oh yeah, still need to talk about how we cleaned it after solder.  They soldered a cube using LTI 120, respectively, all the diodes were in yellow bloom from rosin.  There was no such large ultrasonic bath, and nothing was even cleaned with a brush even by hand.  By the way, the diodes are slightly cloudy from acetone, which is unacceptable.  The solution was found unexpectedly, through trial and error - ammonia.  We loaded it into a container from a former glass cleaner - and pshikali on a cube.  Then wait five minutes and rinse with water.  Then again ammonia - so about four approaches and the cube began to shine clean. <br><img src="https://habrastorage.org/files/a85/cd6/f76/a85cd6f76b8e4f18b3bef01a81102285.JPG"><br>  After final assembly, the cube took the following form: <br><img src="https://habrastorage.org/files/411/fdf/528/411fdf52883d46348b4b1b088b456699.JPG"><br>  Unfortunately, the electronics design process was not quite thoughtful and, as a result, the matrix was soldered by analogy with old cubes, there was a common cathode on the floors, and the columns were lit with diodes anodes.  This solution is not very profitable from the point of view of supplying a large current to the column, because if in a 5-story cube for good brightness it is enough to feed one current, then in a 10-story one, at least, you need 2 times more. <br>  I didn‚Äôt think much about this problem and the first board was created using the well-known 74hc595 shift registers, as I already had experience with them.  The switching task was performed by AtMega128 MK, and field-effect transistors controlled the current on the floors. <br><img src="https://habrastorage.org/files/52f/af6/fe3/52faf6fe37e045ebaaa346a6655376cd.JPG"><br>  Having sealed all the elements and, using the same resistors, I wrote a simple program and was shocked that you can enjoy watching the cube only in the dark.  In the afternoon, his brightness did not suit him, and this was not solved by software methods.  The question is not complicated - I thought, and I sealed the resistors of a smaller rating, by calculating that a current of about 70 mA would go to the diodes.  After switching on, the disappointment intensified even more - the cube showed almost nothing, igniting rare diodes, but brightly.  Having opened the datasheet at 74hc595, everything became clear - the voltages at the outputs are normalized for currents of no more than 8 mA, and the total current through the ground and power terminals should not exceed 70 mA, which absolutely did not suit us. <br>  Began to study chips that would be suitable for this task.  In our southern capital, almost nothing was available, and even of all the datasheets of microcircuits, which are designed for high current, I began to notice one trouble - they all contain a Darlington pair on the final stage, and connect the output contact with the ground in the datasheet.  For our configuration of the cube, where the cathode was on the floors, it did not fit.  Having looked at the scheme of the popular uln2003 and, having seen analogs on LED matrix drivers, I realized that this solution could not be applied: <br><img src="https://habrastorage.org/files/ec4/d9a/ed0/ec4d9aed050b4424af3fae2d17cfa03a.jpg"><br>  In my opinion, after examining the design of popular mis-circuits, I decided that it was easier to feed the floors plus, through a powerful transistor, and throw down the columns using the ULN2003.  make a cube circuit with a common anode. <br>  Desperate to seek a solution, the cube was postponed for an indefinite period of time, when suddenly it was suddenly needed for one event.  We had three days to run it at normal brightness.  The solution came up with a simple one - for each output 74hc595 we hang a normal transistor switch, and in the program we invert the bits.  A bundle of some simple BC846Bs that had long been lying around with EBAY was unpacked, and the board was quickly divorced. <br><img src="https://habrastorage.org/files/988/79e/1d3/98879e1d3aac45e2bed08d778d4bbc91.JPG"><br>  It turned out to be cumbersome, but the microcontroller was removed from it.  Just from the old board had three control wires to a new one, in case we move on to stm32 in the future, or another circuit solution.  After connecting all the findings, the cube started and pleased us with an excellent picture. <br><img src="https://habrastorage.org/files/b93/481/82e/b9348182ea0443599b478c731a07ace2.JPG"><br>  I didn‚Äôt find the source code for such programs anywhere, and my programming skills were far from ideal.  But the result was achieved, so I will briefly describe the algorithm. <br>  The program was written at that time in CodeVision, and the effects were loaded by a separate file in the main listing.  Initially, subroutines were written for splitting a ten-digit binary number into 10 separate variables for each row, and sending these 100 variables to shift registers, zeroings, and delays to form floors.  All this led to the format that described what we see on a particular floor (units are lighted diodes): <br><br><pre><code class="cpp hljs">a=<span class="hljs-number"><span class="hljs-number">0b1000000001</span></span>; b=<span class="hljs-number"><span class="hljs-number">0b0000000000</span></span>; c=<span class="hljs-number"><span class="hljs-number">0b0000000000</span></span>; d=<span class="hljs-number"><span class="hljs-number">0b0001111000</span></span>; e=<span class="hljs-number"><span class="hljs-number">0b0001111000</span></span>; f=<span class="hljs-number"><span class="hljs-number">0b0001111000</span></span>; g=<span class="hljs-number"><span class="hljs-number">0b0001111000</span></span>; h=<span class="hljs-number"><span class="hljs-number">0b0000000000</span></span>; i=<span class="hljs-number"><span class="hljs-number">0b0000000000</span></span>; j=<span class="hljs-number"><span class="hljs-number">0b1000000001</span></span>; addr();output_shift(); level1();</code> </pre> <br><br>  The breakdown of the number, type 0b0001111000 was carried out by a simple algorithm. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a&gt;<span class="hljs-number"><span class="hljs-number">0b0111111111</span></span>) { out[<span class="hljs-number"><span class="hljs-number">1</span></span>]=<span class="hljs-number"><span class="hljs-number">1</span></span>; a=a<span class="hljs-number"><span class="hljs-number">-0b</span></span>1000000000; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a&gt;<span class="hljs-number"><span class="hljs-number">0b0011111111</span></span>) { out[<span class="hljs-number"><span class="hljs-number">2</span></span>]=<span class="hljs-number"><span class="hljs-number">1</span></span>; a=a<span class="hljs-number"><span class="hljs-number">-0b</span></span>0100000000; }</code> </pre><br>  etc. <br><br>  We check the high bit for zero or one by comparison.  If more, then set the register variable to one and reduce the number by this digit.  Perform this operation ten times to select all 10 values ‚Äã‚Äãfor a single row, and save them to temporary shift register variables, which we then send to display at once. <br>  The procedure for working with a shift register does not make sense to describe it; it is disassembled on many sites.  Then, after describing all 10 levels, all this is driven into a dynamic display subroutine, where the entire cycle is repeated as many times as necessary (the time of each frame is set for each frame) to deceive human vision.  Of course, for large-scale cubes, writing an effect can turn into a torment, and you need to make a computer interface.  But for ours, I quickly compiled a few effects, and threw it into the avrmega128 MK, taking up almost 20% of the flash memory. <br>  And of course, what a 3d-cube without the final video.  Unfortunately, I didn‚Äôt manage to adjust the settings on the camera to convey the color of the cube, the diodes merge with each other, it‚Äôs too dark, alternating with the action camera for effect. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/kts-Iffsr84%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhrtlaCPBZ7QNCqwa58_-4GlIQSjg" frameborder="0" allowfullscreen=""></iframe><br>  I hope our experience in creating a cube and the allowable errors will be useful to someone, because we did it about two years ago and then there was little information on this kind of devices.  I recently found it in the basement, cleaned it and put it in my store, all customers like it, everyone asks where they bought it, and almost always they watch the effects for about a couple of minutes. <br><img src="https://habrastorage.org/files/86d/714/0aa/86d7140aafd04ba9a6acdbb8da04d998.jpg"></div><p>Source: <a href="https://habr.com/ru/post/391089/">https://habr.com/ru/post/391089/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../391075/index.html">Received the best artificial sperm. Tested in</a></li>
<li><a href="../391077/index.html">Silent revolution. How geolocation smartphones change urban logistics</a></li>
<li><a href="../391079/index.html">Wearable device for boxers Hykso will help the amateur become a champion</a></li>
<li><a href="../391083/index.html">Dell at Mobile World Congress: preparing for the IoT era, modular data centers, OEM solutions and a secure tablet</a></li>
<li><a href="../391087/index.html">Children's version of the search engine - Kiddle</a></li>
<li><a href="../391093/index.html">MediaTek Labs invites you to a series of March webinars on the development of smart home gadgets</a></li>
<li><a href="../391095/index.html">Review Paragon NTFS for Mac: working with the Windows file system on the "Mac" without any problems</a></li>
<li><a href="../391097/index.html">"How to measure a bunch" or geodesy today</a></li>
<li><a href="../391099/index.html">Emulation of various devices using Pi Zero - how to do it?</a></li>
<li><a href="../391101/index.html">Sound # 29 - Audio and Ecosystem Podcast</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>