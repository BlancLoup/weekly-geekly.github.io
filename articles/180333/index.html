<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Types and anonymous functions in PHP. Quack quack!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will not tell you what types are, I will not describe the syntax, or analyze all the subtleties associated with name resolution and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Types and anonymous functions in PHP. Quack quack!</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/713/c02/f1e/713c02f1ea8072daeb8eb55ac82423bb.jpg" align="left">  In this article I will not tell you what types are, I will not describe the syntax, or analyze all the subtleties associated with name resolution and inheritance of types.  On this topic on Habr√© already have a <a href="http://habrahabr.ru/post/130000/">fundamental article</a> . <br>  I just want to show one small, but proud example of using types together with anonymous functions.  There will be nothing technically difficult in it: just one type and two classes.  There is also not much practical value in it, as in any model example.  But the idea - how to structure and reuse the code - in my opinion is very valuable. <br>  Interested please under the cat. <br><a name="habracut"></a><br><h4>  Foreword </h4><br>  Somehow it happened that PHP (with the appearance of OOP in it) is very similar to Java in questions of structuring code.  We inherit from the class, we implement the interfaces.  We can even in the parameters of the methods indicate the need for the argument to belong to a specific family tree. <br><br>  But, if in Java, as in a statically typed language, it makes sense, since it allows you to detect some circle of errors at the compilation stage, then what is the point in all these gestures in dynamically typed PHP?  Maybe we worry too much about completely unnecessary things?  Do we really need to inquire about the popes, grandmothers, or cousins ‚Äã‚Äãof the objects we received, when in essence we are only interested in whether the object can do what we need? <br><br>  It is easy to see that I am talking about duck typing.  A fairly powerful concept, following which you can write a very expressive code, and not necessarily prone to more errors and less stable than using the classical approach (you can google enough material on this topic, though mostly with reference to Ruby). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Some time ago anonymous functions appeared in PHP (5.3), and I thought: ‚ÄúNot bad!  But not very useful. "  Then (5.4) types appeared in PHP, and I realized that the time had come.  Let's finally move on to the example and see what PHP has to offer. <br><br><h4>  Formulation of the problem </h4><br>  So, let's practice using types together with anonymous functions.  What to train?  Well, collections came to my mind, so we will train on them.  First, think about what we want, and what are the ways to achieve this. <br><br>  So, what actions can be performed on collections.  Well, for example, we can find the maximum and minimum elements of a collection, or elements that satisfy a certain condition;  we can get a new collection by applying some operation (map) on each element of the original collection, etc. ... The set of these methods is directly asked to be called a <b>type</b> . <br><br>  What do we need from the collection so that we can implement these methods?  Only one thing: we should be able to iterate over the elements of the collection.  Let's call this necessary functionality a <b>contract</b> . <br><br>  How can we implement this contract?  There are two options: <br><ol><li>  The standard approach is when we take an iteration over.  Those.  the client gets an iterator from the collection and uses it to bypass this collection. </li><li>  We assume that the collection knows better how to iterate on its own, and instead of <i>rough walking through the collection</i> , as in the previous version, we <i>politely ask it to bypass itself</i> , telling certain logic for iteration. </li></ol><br>  Both approaches are good (perhaps the first is a bit more flexible than the second), but I will choose approach number 2, because, firstly, it will serve my goals better, and secondly, because I wanted to. <br><br><h4>  Implementation </h4><blockquote>  Before starting the example, I recommend you to download the code from the <a href="https://github.com/ArtemPyanykh/php_fancy_collections">repository</a> specially prepared for this case on GitHub, since  The listings in the article will be truncated for clarity. </blockquote>  So, let's write our type, guided by the considerations described above. <br><div class="spoiler">  <b class="spoiler_title">Listing: Collections \ Enumerable</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Collections</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">trait</span></span> Enumerable { <span class="hljs-comment"><span class="hljs-comment">/**     ,  $block     **/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">each</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\Closure $block)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\Closure $predicate)</span></span></span><span class="hljs-function"> </span></span>{ $result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FancyArray(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($el)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($predicate, &amp;$result)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($predicate($el)) { $result[] = $el; } }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">map</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\Closure $block)</span></span></span><span class="hljs-function"> </span></span>{ $result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FancyArray(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($el)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($block, &amp;$result)</span></span></span><span class="hljs-function"> </span></span>{ $processed = $block($el); $result[] = $processed; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; } <span class="hljs-comment"><span class="hljs-comment">/**     **/</span></span> }</code> </pre> <br></div></div><br>  By itself, it does not carry much value, so we need a collection where it can be included.  Let's implement this collection, using the example of a regular array: <br><div class="spoiler">  <b class="spoiler_title">Listing: Collections / FancyArray</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Collections</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FancyArray</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrayAccess</span></span></span><span class="hljs-class">, \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Countable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $container; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($initial = array</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">()</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_array($initial)) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container = $initial; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($initial <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> FancyArray) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container = $initial-&gt;toArray(); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">offsetExists</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($offset)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container[$offset]); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">offsetGet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($offset)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container[$offset]) ? <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container[$offset] : <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">offsetSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($offset, $value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_null($offset)) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container[] = $value; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container[$offset] = $value; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">offsetUnset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($offset)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container[$offset]); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toArray</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">count</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container); } }</code> </pre><br></div></div><br>  Now we have an array, it remains only to include the type Collections \ Enumerable and implement the contract: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Collections</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FancyArray</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrayAccess</span></span></span><span class="hljs-class">, \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Countable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Enumerable</span></span>; ... ... ... ... <span class="hljs-comment"><span class="hljs-comment">/** * Calls $block for every element of a collection * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> callable $block */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">each</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\Closure $block)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $el) { $block($el); } } }</code> </pre><br>  As you can see, everything is rather trivial, but now we can do, for example, such things (and this required only a few lines of code from us): <br><pre> <code class="php hljs">$a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FancyArray([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]); $res = $a-&gt;map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($el)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $el*$el; }); <span class="hljs-comment"><span class="hljs-comment">// [1, 4, 9, 16] $res-&gt;reduce(0, function($initial, $el) { return $initial + $el; })); // 30</span></span></code> </pre><br>  This, of course, is entertaining, but let's move on.  What file, for example, is not a collection?  The collection is of course, so nothing prevents us from doing, for example, like this: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">IO</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FancyFile</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplFileObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> \<span class="hljs-title"><span class="hljs-title">Collections</span></span>\<span class="hljs-title"><span class="hljs-title">Enumerable</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">each</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\Closure $block)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;fseek(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;valid()) { $line = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;fgets(); $block($line); } } }</code> </pre><br>  We switched on the type, implemented the contract, and now we can, for example, calculate the total length of the lines of the file of odd length as follows (if we ever need it ^ _ ^): <br><pre> <code class="php hljs">$obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FancyFile(&lt;filename&gt;); $res = $obj -&gt;select(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($el)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strlen(trim($el)) % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">1</span></span>; }) -&gt;map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($el)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strlen(trim($el)); }) -&gt;reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($initial, $el)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $initial + $el; });</code> </pre><br>  These are the things here, gentlemen. <br><br><h4>  Conclusion </h4><br>  In my opinion, the use of types (or similar mechanisms) is more natural in dynamically typed languages ‚Äã‚Äãthan dances with interfaces and inheritance.  It gives us more flexibility and expressiveness, but isn't it why we came here for this?  But each medal has a reverse side, and here this reverse side can be much more difficult for perception code, more confusing and implicit code.  Remember, if something can be done, it is not necessary to do it.  Big power - big responsibility, gentlemen! <br><br><h4>  Links </h4><br>  A post about the characters - <a href="http://habrahabr.ru/post/130000/">habrahabr.ru/post/130000</a> <br>  About duck typing - <a href="http://en.wikipedia.org/wiki/Duck_typing">en.wikipedia.org/wiki/Duck_typing</a> <br>  Repository with code from the article - <a href="https://github.com/ArtemPyanykh/php_fancy_collections">github.com/ArtemPyanykh/php_fancy_collections</a> <br><br><h4>  PS </h4><br>  If you have time, try to play around with the code.  For example, implement the Collections \ Enumerable method for eachWithIndex, in the following format: <br><pre> <code class="php hljs">$a-&gt;eachWithIndex(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($el, $idx)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $el; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $idx; });</code> </pre><br>  Or try to solve the problem of the local transition in the Collection \ Enumerable # find method (as soon as we find the first element that satisfies the condition, we can stop the iteration and return it). <br>  If you come up with a good solution or just implement something interesting, please make a pull request. </div><p>Source: <a href="https://habr.com/ru/post/180333/">https://habr.com/ru/post/180333/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../180319/index.html">Quickpong - development of a network game based on the Twisted framework</a></li>
<li><a href="../180321/index.html">The beginning of Windows Phone 8 Development: lesson 2. Access to the local storage application</a></li>
<li><a href="../180323/index.html">Happy Farm selected 17 start-up projects for the second cycle of the acceleration program and new additional classes</a></li>
<li><a href="../180327/index.html">What is the situation with study leave in your company?</a></li>
<li><a href="../180329/index.html">AWS Insight: RDS Read Replica</a></li>
<li><a href="../180335/index.html">The beginning of Windows Phone 8 Development: lesson 3. Navigating through pages and passing parameters</a></li>
<li><a href="../180337/index.html">"Star Trek" at the atomic level</a></li>
<li><a href="../180341/index.html">The beginning of Windows Phone 8 Development: lesson 4. Communication with services and data binding</a></li>
<li><a href="../180347/index.html">AvePoint DocAve for SharePoint</a></li>
<li><a href="../180353/index.html">Pseudo 3D: Animation of the rotation of planets and other ball-like objects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>