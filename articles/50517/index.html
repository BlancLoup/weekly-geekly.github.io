<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Geotagging: no single cards</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the Internet, the reception of a map of the place where the photo was taken is already quite widespread. In practice, this is implemented in two wa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Geotagging: no single cards</h1><div class="post__text post__text-html js-mediator-article"> <a href=""><img src="http://sigizmund.info/upload/sigizmund_small.jpg" alt="image"></a> <br>  On the Internet, the reception of a map of the place where the photo was taken is already quite widespread.  In practice, this is implemented in two ways: <br><ol><li>  Just indicating the place on the map, for example, as it is done on Flickr or using the <a href="http://georss.org/geopress">GeoPress</a> plugin for Wordpress </li><li>  Extraction of coordinates from the EXIF ‚Äã‚Äãof the photo - if they are there </li></ol>  The second method, of course, is much more ‚Äúbeautiful‚Äù and more correct - but somewhat more complicated technically.  However, I will not consider how to add coordinates to EXIF ‚Äã‚Äã- but I‚Äôll tell you how to use them. <br>  For a long time, a very long time, an idea tormented me - I don't want to show a map.  That is, the map is good, but not all.  I want to tell the visitor in a human language: the photo was taken in such and such a city at such an address.  Well, I wanted to do this for a long time, and finally I got ready. <br><a name="habracut"></a><br>  As an "experimental pig", I took, of course, my own <a href="http://sigizmund.com/">photoblog</a> - hack, so full.  A little bit about how it is organized: <ol><li>  At the very "bottom" of the hierarchy is (well, does not lie the same!) Wordpress 2.7 </li><li>  This Wordpress is based on the <a href="http://johannes.jarolim.com/blog/wordpress/yet-another-photoblog/">Yet Another Photoblog plugin</a> , which turns a blog into a real photoblog. </li><li>  But on YAPB, in turn, the theme of <a href="http://xyloid.org/projects/reflection/">Reflection</a> , globally modified by the file (almost beyond recognition) is spinning </li></ol>  Among the advantages provided by YAPB, one of the most important for developers is that exactly one picture is always associated with a post, and you can easily get it EXIF.  Therefore, everything else was a matter of technique. <br><br>  I wrote a plug-in for YAPB (yes, a plug-in for a plug-in), which took the coordinates (which are for some reason recorded in EXIF ‚Äã‚Äãin degrees-minutes-seconds), converted them to WGS84, and then transferred everything to the client who did everything the rest (using, respectively, JavaScript).  Why so hard?  First of all, because the Google Maps API is ultimately used, and this has to be done on the client.  Actually, each page breeds two API calls - one to generate a map, and the other to reverse geocoding coordinates.  Actually, the result of this reverse geocoding is displayed as an address.  How it all looks live can be viewed, for example, <a href="http://sigizmund.com/2008/08/09/channels-and-bridges-another-point-of-view/">here</a> or <a href="http://sigizmund.com/2008/09/24/ajuy/">here</a> .  It is important to note that if there are no coordinates in the photo, there will be no magic, there will be no map and the address will not appear - so the loading of the photo is always preceded by the process of putting coordinates on them (however, it is extremely automated);  In addition, the address is determined with the accuracy that is available to the supplier of Google's geodata (that is, if the photo was taken in an open steppe a hundred kilometers from the nearest settlement, there will be no miracle and you <a href="http://sigizmund.com/2008/09/23/furteventura-another-point-of-view/">will get the name of the road</a> at best). <br><br>  In principle, I am absolutely ready to share all these developments, but ... the code is so terrible that I am just ashamed to upload it.  Perhaps after some time I will brush it and draw it in the form of a normal plug-in - if there is interest in this.  Wherefore I take my leave - and good shots to you! </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/50517/">https://habr.com/ru/post/50517/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../50509/index.html">GridStack - A practical example of flex + bison</a></li>
<li><a href="../50510/index.html">Need a Yandex.Maps plugin for wordpress</a></li>
<li><a href="../50512/index.html">Map of Kiev (Metro) in the Internet</a></li>
<li><a href="../50513/index.html">Tim O'Reilly. Work that matters: basic principles</a></li>
<li><a href="../50515/index.html">Social advertising from Montana Meth Project</a></li>
<li><a href="../50519/index.html">Fennec for Windows Mobile in February</a></li>
<li><a href="../50520/index.html">The first alpha of the EduMandriva supplementary educational repository is Edumandriva 2009 Alpha1.</a></li>
<li><a href="../50521/index.html">Fugue Icons 1.4.1 - 1406 pcs. great icons</a></li>
<li><a href="../50522/index.html">How does the Inforotor statistics system work and do you need it?</a></li>
<li><a href="../50523/index.html">Flex, distributed scientific calculations and monetization of some Internet projects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>