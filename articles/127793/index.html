<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easy linux management over twitter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear Habrayuzer. 

 This post is inspired by the appearance of an article about the Twitter bot and all sorts of dancers for him. I present ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easy linux management over twitter</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear Habrayuzer. <br><br>  This post is inspired by the appearance of an <a href="http://habrahabr.ru/blogs/python/127237/">article</a> about the Twitter bot and all sorts of dancers for him.  I present to you my vision of api Twitter.  Welcome under cat. <a name="habracut"></a><br><br>  <s>It should be noted that this topic was published by me in the sandbox, when I was still unregistered.</s>  <s>And then, unexpectedly, another invite came to me, so I‚Äôm posting the topic as it is, without any changes, and I‚Äôm going to inform the caliper about the second account.</s> <s><br></s> <br>  So, as the title states, the bot application will use the api tweeter to control the machine with the linux onboard. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Python was chosen as the development language and, as a result, the tweepy library.  Hout on the initial setup of this library can be found on the link above. <br><br>  Configuration <br><br>  We proceed directly to the subject.  The code is designed as a full-fledged Linux-daemon, has a configuration file and works with plug-ins. <br><br>  Consider the configuration file: <br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Twitter credentials CONSUMER_KEY = '' CONSUMER_SECRET = '' ACCESS_KEY = '' ACCESS_SECRET = '' # base path BASE_PATH = os.path.dirname(__file__) # pid path PID_PATH = BASE_PATH+'/elmot.pid' # people nicknames who can manage system AUTHORIZED_ACCOUNTS = [] # logfile LOG_PATH = BASE_PATH+'/log/elmot.log' ERROR_LOG_PATH = BASE_PATH+'/log/elmot.err' # type None to disable incoming message log INCOMING_MESSAGE_LOG = BASE_PATH+'/log/incoming.log' # run elmot as user (do not use root) RUN_UID = pwd.getpwnam("root").pw_uid</span></span></code> </pre> <br>  Everything is transparent.  To get started, you only need to fill in the consumer_key, consumer_secret, user keys - access_key and access_secret, previously received.  You also need to add nicknames of people who are allowed to manage the system in AUTHORIZED_ACCOUNTS. <br><br>  Plugins <br><br>  Let's go to the plugins.  All functionality is provided only with their help.  The plugin template looks like this: <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Plugin</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> name = <span class="hljs-string"><span class="hljs-string">'undefined'</span></span> keyword = <span class="hljs-string"><span class="hljs-string">'undefined'</span></span> <span class="hljs-comment"><span class="hljs-comment"># actions: # 0 - silent # 1 - private message # 2 - tweet to timeline action = 2 controlled = True def __init__(self): print '*', self.name, 'loaded' def execute(self, message): pass # run method only for non controlled plugins # for threading support with python Threads def run(): pass</span></span></code> </pre><br>  where name is the name of the plugin, keyword is its unique identifier by which it is accessed. <br>  Action is a necessary action, that is, the plugin can be silent, respond to you in a personal, or write in your timeline. <br>  The controlled field tells the plugin whether it will be interactive ‚Äî accept and process client messages.  If the plug-in is interactive, then it listens to messages that come to the bot and, if the message is addressed to it, calls the execute method, in which you can implement anything.  If the plugin is ‚Äúsilent‚Äù, it runs the code from the run () method in a separate thread. <br><br>  How to use it <br><br>  Just send the bot a private message of the form ‚Äúkeyword command args‚Äù.  The bot parses the message and passes it to the processing of the plugin with the corresponding keyword.  For example, consider the plugin uptime.  It receives only one parameter, the keyword, and reports the uptime of the machine on which it is running to its timeline. <br><br>  Implemented plugins <br><br>  conntest - constant check of the link with the remote host (s).  He writes about problems in the timeline. <br>  removetweets - removes n tweets from the bot's timeline (example ‚Äúremovetweets 5‚Äù). <br>  sshmonitor - monitoring ssh server based on auth.log parsing.  Writes an authentication error in the timeline. <br>  uptime - displays machine uptime. <br><br>  That's all, you can implement any plugin to your taste and monitor anything (or restart services for example) via Twitter. <br><br>  Thank you for your attention, waiting for your comments. <br>  PS <a href="https://github.com/thefrolov/elmot">Code</a> on github. <br>  PPS To start the daemon, you must use the link in the bin directory. </div><p>Source: <a href="https://habr.com/ru/post/127793/">https://habr.com/ru/post/127793/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127788/index.html">Easy Linux Management Over Twitter</a></li>
<li><a href="../127789/index.html">Matrix barcodes: the bridge between the real and the virtual world</a></li>
<li><a href="../127790/index.html">Problems Exception Handling in WCF under Mono</a></li>
<li><a href="../127791/index.html">Page Sorter for printing a book</a></li>
<li><a href="../127792/index.html">Upgrading Microsoft SQL Server Databases</a></li>
<li><a href="../127794/index.html">Automated backups for DB2 on * nix</a></li>
<li><a href="../127795/index.html">Convergence - Possible Replacement Certification Authority System</a></li>
<li><a href="../127796/index.html">Configure authorization using the key in mobile putty</a></li>
<li><a href="../127798/index.html">MVC again</a></li>
<li><a href="../127799/index.html">Bar coding: software implementation in C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>