<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Evaluation of search results</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once on a quiet summer night in the course of solving urgent analytical problems, the question arose of how should we measure the degree of variation ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Evaluation of search results</h1><div class="post__text post__text-html js-mediator-article">  Once on a quiet summer night in the course of solving urgent analytical problems, the question arose of how should we measure the degree of variation of search results?  In search of an answer, we managed to find a single study on this topic - <a href="http://blog.seolib.ru/search-engines/metody-opredeleniya-sily-apdeita/">Koksharov, 2012</a> . <br><br>  But I didn't get satisfaction, there were even more questions.  The use of Oliver and Levenshtein algorithms only because the corresponding functions are in PHP seemed unreasonable.  A justification of methods based on the difference of positions is inconclusive. <br><br>  Why so, and not that way?  Why an array or string, and not an ordered set or tuple?  What can the assumptions made lead to?  And finally, is there a single best, most correct, most ‚Äúfinal‚Äù way? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As a result, I had to reinvent my own bicycle - that is, put everything on the shelves at least for myself.  But still with the hope that it will be interesting not only to me. <br><a name="habracut"></a><br><h4>  Measure of variability rating </h4><br>  The search for a ready-made mathematical apparatus also gave nothing.  Ordered set?  Line?  Array? ... It's not that.  The closest one is a tuple / vector, but the distance measures used there do not reflect the essence of the rating.  Either I don‚Äôt know something, or too many years have passed since my student days.  I hope those who practice with math more often will correct me or at least come up with the idea of ‚Äã‚Äãwhich side to look for.  We still try to enter their own definitions, remaining in terms of the subject area. <br><br>  To refer to all your favorite Top3, Top10, Top100, etc.  we introduce the concept of "rating N" as an ordered sequence <img src="https://habrastorage.org/files/00c/cda/0db/00ccda0dbcdc41cd86a198acafe55993.png">  lengths <img src="https://habrastorage.org/files/7af/ea8/259/7afea8259dad4281b3836ec7c55402cf.png">  containing the identifiers of the objects being ranked <br><br><img src="https://habrastorage.org/files/cdb/ed1/9f3/cdbed19f3aa2436cab2a6e1f7dfe2a75.png">  ,                                                                                  (one) <br><br>  where under object identifier <img src="https://habrastorage.org/files/0ca/7b9/bf9/0ca7b9bf9fcf47c29bd7a37447d35e87.png">  we will understand the link (URL) to the document being ranked. <br><br>  The simplest and most natural assumption is that the measure of variation should be somehow related to the change in the positions of objects in the ratings.  The greater the difference (distance) between the new and the old position of a particular object and the more objects that have changed their position, the greater should be the difference between the two ratings. <br>  In this formulation, the distance between the two ratings will be called the sum of the differences in the positions of all the objects included in the ratings.  Let us try to express this definition more formally. <br><br>  Let two ratings be given <img src="https://habrastorage.org/files/c2d/65f/6df/c2d65f6df0484cda8cd2a607acb87b12.png">  and <img src="https://habrastorage.org/files/c3f/043/a76/c3f043a761ea43da90c38a65fe62534e.png">  .  The elements of these ratings may coincide in whole or in part, or they may not completely coincide. <br>  Then let <img src="https://habrastorage.org/files/6f6/106/b89/6f6106b89ae643939d21f3566e0fbd46.png">  - a set of objects included in both compared ratings.  Power <img src="https://habrastorage.org/files/5d7/4fc/dbf/5d74fcdbfddc4e1ea5e25a0743a61077.png">  of this set (the number of elements included in it) will vary from <img src="https://habrastorage.org/files/031/98f/1d4/03198f1d4712482a9a0dddd48ccb8d69.png">  (in the case when the objects in both ratings completely coincide and the difference between the ratings consists only in their permutation) before <img src="https://habrastorage.org/files/d8b/fad/555/d8bfad5553cf40d69c62b183769d6343.png">  (in the case when the elements of the two ratings are completely different). <br><br>  The same object can be in ratings both on different positions, and on coinciding.  Or it may even be absent in one of the ratings. <br>  Let's call <img src="https://habrastorage.org/files/68e/3e7/c67/68e3e7c679714a63b3e0149bab05e7d7.png">  by position <img src="https://habrastorage.org/files/64c/b7c/09f/64cb7c09fe65424dabf3e3a18a7d64de.png">  object in the rating <img src="https://habrastorage.org/files/343/6b2/9d2/3436b29d23d34c5492deca0d7a47c1dc.png">  , but <img src="https://habrastorage.org/files/12f/cab/4ac/12fcab4acc964e6e85ade2178e23b02a.png">  - position of <b>the same</b> object in the rating <img src="https://habrastorage.org/files/daf/dd2/1a3/dafdd21a31a24f2caac1b9372f933930.png">  .  Then the distance between the positions <img src="https://habrastorage.org/files/64c/b7c/09f/64cb7c09fe65424dabf3e3a18a7d64de.png">  th object will be the module of their difference <br><br><img src="https://habrastorage.org/files/763/35f/854/76335f854265405ebe63088a04c7ff98.png">  (2) <br><br>  Summing the differences in positions for each element of the set <img src="https://habrastorage.org/files/822/0db/794/8220db794106485eb13acbdd1f77c7a2.png">  we obtain the following expression for the distance between two ratings in absolute values: <br><br><img src="https://habrastorage.org/files/9e5/66c/365/9e566c3654894011b0b4f5fb5517d46a.png">  (3) <br><br>  It is no problem to calculate this distance when objects are present in both ratings.  But what to do when in one of the ratings there are no objects of another rating, that is, they are outside of it?  In this case, it seems quite reasonable to take the value of the missing object as the position <img src="https://habrastorage.org/files/c82/72e/81d/c8272e81d3c640148bfbf39658571941.png">  - the closest position is outside the rating. <br>  It is clear that in real life the site can fly, for example, from Top10 far beyond the 11th place.  And it is possible to improve the accuracy of the evaluation of the variability of search results, considering ratings of greater length - 30, 50, 100, 1000. It is very likely that for large <img src="https://habrastorage.org/files/031/98f/1d4/03198f1d4712482a9a0dddd48ccb8d69.png">  this assumption will play a lesser role.  In the meantime, the question of choosing the optimal length of the rating remains open and we have to be content with the statement that the estimates of variability obtained with this assumption will be estimates of the minimum difference in the sense that the distance between the ratings will be no less than the estimate obtained. <br><br>  Estimates of the absolute difference between ratings are difficult to interpret and compare.  For the convenience of operating estimates, they should be reduced to a relative form.  As a normalization value, we need to find the maximum possible distance between the ratings.  It is clear that it will correspond to the case when the ratings are completely different in the composition of elements.  That is, all objects rating <img src="https://habrastorage.org/files/3d6/bd3/074/3d6bd30740f640269a9fd91eacd6223e.png">  turned out to be outside, and all objects of the rating <img src="https://habrastorage.org/files/c82/210/45f/c8221045fb1d402eb171a4a3d40c9c8b.png">  appeared from outside it.  That is, each rating object <img src="https://habrastorage.org/files/3d6/bd3/074/3d6bd30740f640269a9fd91eacd6223e.png">  moved from position to position <img src="https://habrastorage.org/files/c82/72e/81d/c8272e81d3c640148bfbf39658571941.png">  and each rating object <img src="https://habrastorage.org/files/c82/210/45f/c8221045fb1d402eb171a4a3d40c9c8b.png">  , on the contrary, moved from the position <img src="https://habrastorage.org/files/c82/72e/81d/c8272e81d3c640148bfbf39658571941.png">  to their position. <br><br>  Then for rating <img src="https://habrastorage.org/files/3cb/553/f3e/3cb553f3e76946a78ec263196ca115c1.png">  the maximum possible sum of distances will be: <br><br><img src="https://habrastorage.org/files/ab4/1a9/b25/ab41a9b25fe4444b9d7b047afbe0d972.png"><br><img src="https://habrastorage.org/files/b04/d44/9a7/b04d449a79b4478fabe3fb55785a0b61.png"><br><img src="https://habrastorage.org/files/8aa/3ba/fb5/8aa3bafb5fbe428d85227f62cc85d9e5.png"><br><img src="https://habrastorage.org/files/7a1/5aa/711/7a15aa71142c4a6e94388561c9605aa6.png"><br><br>  That is, we received the sum of the arithmetic progression with the first member <img src="https://habrastorage.org/files/d4e/755/05c/d4e75505cdf8458898bb22093afa1008.png">  , step -1, and the last member 1. <br>  Accordingly, for the second rating, when each of its objects moved from the position <img src="https://habrastorage.org/files/282/1c2/c48/2821c2c4824346b5b7135fb1da5a56bb.png">  to our position, we get a similar arithmetic progression with the first element 1, step 1 and the last element <img src="https://habrastorage.org/files/d4e/755/05c/d4e75505cdf8458898bb22093afa1008.png">  whose sum <img src="https://habrastorage.org/files/edd/fad/49b/eddfad49b458462f9a3c93635bef45f4.png">  will be determined by the same expression. <br>  As a result, we obtain that the total distance that the objects of the first and second rating have moved will be determined by the expression <br><br><img src="https://habrastorage.org/files/d45/c6d/9ee/d45c6d9eecab4329b3a834b42a252fd8.png">  (four) <br><br>  So, for a relative assessment of rating variability, we get the following expression <br><br><img src="https://habrastorage.org/files/890/a2f/b42/890a2fb42b0645a0991a937f74918a86.png">  (five) <br><br>  Those interested can understand this in more detail by a small example. <br><br><div class="spoiler">  <b class="spoiler_title">Sample for Top5</b> <div class="spoiler_text">  Let be <img src="https://habrastorage.org/files/b11/50e/6ca/b1150e6ca64c4365b40121fa2be03e9a.png">  , <img src="https://habrastorage.org/files/6f3/fe8/0c9/6f3fe80c96fb49f9b0f97e8af36691a0.png">  , but <img src="https://habrastorage.org/files/599/c30/f39/599c30f39ab74501806aed101f12d95e.png">  . <br>  Then <br><img src="https://habrastorage.org/files/f9b/d34/84d/f9bd3484d565457b90f6ae175fdcbda6.png"><br><img src="https://habrastorage.org/files/042/525/064/0425250645144f1085ecbcfbcc4fbbc1.png"><br><img src="https://habrastorage.org/files/97f/f34/a99/97ff34a9936448369b41636499e61f2f.png"><br><img src="https://habrastorage.org/files/de3/02d/b81/de302db814be4209b4069a8b1731ab3f.png"><br><img src="https://habrastorage.org/files/225/e43/bc4/225e43bc414a40378ce86a29e82f9910.png"><br><img src="https://habrastorage.org/files/a40/1a2/d77/a401a2d774b84480a4b97d24a31a1177.png"><br><img src="https://habrastorage.org/files/7ce/7c5/a8e/7ce7c5a8ee7a4aaabdae6eda8f003bc1.png"><br><img src="https://habrastorage.org/files/ab0/300/511/ab0300511b1243ba99f752692f20f715.png"><br><br>  From here the absolute distance between the ratings will be <br><img src="https://habrastorage.org/files/3e8/b8f/d5b/3e8b8fd5b0b541bcb2d02f8f6cdd7e7d.png"><br>  The maximum possible distance will be <img src="https://habrastorage.org/files/183/cf6/6f5/183cf66f53eb48f19f9b7088224364e9.png">  . <br>  So, we get the following relative distance <img src="https://habrastorage.org/files/6a6/4c5/af0/6a64c5af09e8495a86b223b4a80ed375.png">  or 40% <br></div></div><br><br><h4>  Weighted measure of rating variability </h4><br>  The attentive reader may notice that the estimates of the degree of change in the rating obtained from expressions (3) or (5) are weakly sensitive to local changes in general and to transpositions in particular.  (Transposition is when the two elements simply change places).  If the first two elements or the last two are swapped, we will get the same difference.  For example, transposing 1st and 2nd places or 4th and 5th places the same difference. <img src="https://habrastorage.org/files/d31/8df/302/d318df3023f4406fb7a973881eb03aad.png">  . <br>  Perhaps from the point of view of the search engine and its ranking function, such changes are really insignificant.  But I, as a practicing marketer, are primarily interested in the implications for the trust sites.  But the consequences of these, even in the case of local changes, can be very significant.  And this is due primarily to the fact that the click-throughness of search results strongly depends on the place occupied in the rating (in serp'e) and, consequently, the organic traffic received by sites located in the field of local changes also changes quite significantly. <br><br>  Thus, it would be desirable to take into account the fact that the difference between 1st and 2nd place in search results is much larger than the difference between 4th and 5th.  To do this, we need to enter a weight function for places in the ranking.  And the best such function, reflecting the change in search traffic, will be the dependence of the search results on the position taken. <br><br>  In general, the choice of a ‚Äúgood‚Äù approximating function for serp‚Äôs clickability statistics is a topic for a separate study.  Ideally, it depends on a very large number of parameters: the search engine, the type of the keyword, the quality of the snippet, the composition of the sites, finally.  But for our purposes, when we are interested in not only absolute, but relative (place difference) estimates, practically any of the known ones can be used.  I‚Äôm used to using the following dependency, given in <a href="http://netmozg.ru/%25D1%2582%25D1%2580%25D0%25B0%25D1%2584%25D0%25B8%25D0%25BA/%25D0%25BA%25D0%25BB%25D0%25B8%25D0%25BA%25D0%25B0%25D0%25B1%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C-%25D0%25BE%25D1%2580%25D0%25B3%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B9-%25D0%25B2%25D1%258B%25D0%25B4%25D0%25B0%25D1%2587%25D0%25B8/">Samuilov, 2014</a> , which demonstrates quite good approximating possibilities <br><br><img src="https://habrastorage.org/files/9dd/d01/c26/9ddd01c2653b4f5a80a2adb536a8a7ec.png">  , (6) <br>  Where <img src="https://habrastorage.org/files/948/36b/095/94836b095a0c41ef8a9e6c4322fc62ed.png">  - position in the ranking, <img src="https://habrastorage.org/files/2d5/c55/e4f/2d5c55e4fcd34312baba6910ce32a65e.png">  - parameter dependent on the search engine and taking values: <img src="https://habrastorage.org/files/216/94c/7ce/21694c7ce25c49fdad35674729ab4ade.png">  .  Average value <img src="https://habrastorage.org/files/2d5/c55/e4f/2d5c55e4fcd34312baba6910ce32a65e.png">  all search engines <img src="https://habrastorage.org/files/2b9/eda/946/2b9eda94663646cfafbef56867a9d316.png">  . <br><br>  Taking into account (6) the distance between the positions <img src="https://habrastorage.org/files/7ef/352/05b/7ef35205b3ba425d849bd32d218dae3d.png">  th object becomes <br><img src="https://habrastorage.org/files/e1f/ec3/20e/e1fec320eb6d41859cc5dacc5bda15d6.png">  (7) <br><br>  And the absolute distance between the ratings, respectively, will be <br><img src="https://habrastorage.org/files/a84/790/e17/a84790e17e9140a293a7ecd23dfcb5f8.png">  (eight) <br><br>  The maximum weighted distance between the ratings will be determined by the expression <br><img src="https://habrastorage.org/files/541/ee3/a10/541ee3a102064b9d9ccc540edb5bb653.png">  (9) <br><br>  Then the weighted relative distance will be determined by the expression <br><img src="https://habrastorage.org/files/006/42e/cdc/00642ecdc03b4d9bab5ec57c51b18e77.png">  (ten) <br>  It should be noted that as a result, the weighted relative distance does not depend on the parameter <img src="https://habrastorage.org/files/bbd/724/a70/bbd724a700de43358d4a52a708ee8884.png">  , that is, from a search engine. <br><br>  For the example above, the weighted distance is 61%.  That is, it is more sensitive to replacing the leader of the rating. <br>  Well, it is much more sensitive to local changes: the transposition 1-2 in the Top5 rating will have a value of 34%, and the transposition 4-5 will have a value of 3.4%. <br><br><h4>  Variability of profile ratings </h4><br>  The obtained measures can be used for different tasks of the analysis of fluctuations of the search results.  These tasks define specific profiles for analysis: the composition of search queries (by type, subject, length, frequency), search scope (by region, web / news / illustration / blog), etc. <br><br>  <b>Analysis of search engine updates</b> .  This has already become a classic task of analyzing the variability of search results.  The more representative the set of keywords, the better the assessment of the global changes of the algorithm / database will be. <br><br>  <b>Reputation management tasks</b> .  As a set of keywords, branded queries related to your company / products are used here.  Analyzing the fluctuations of the news issue, you can determine the increased activity in the profile you are interested in. <br><br>  <b>Analysis of competition in the niche</b> .  The increased diversity of search results by thematic queries can be interpreted as an indicator of low competition, when the definitive leaders have not yet decided. <br><br><h4>  As a conclusion </h4><br>  How to determine which method of analyzing the variability of search results is ‚Äúthe most final‚Äù?  You can call your methods "correct" updates, "accurate", "most accurate" ... But how many do not say "halvah" - in the mouth will not become sweeter. <br><br>  The only option is a comparative analysis of various methods on historical samples and an assessment of their sensitivity to the already known facts of changes in the ranking functions of search engines.  Unfortunately, I do not have such statistics.  But I would be glad to work together with those who have it. <br><br><hr><br>  <b>[UPD 1]</b> Use case for <a href="http://habrahabr.ru/post/240795/">evaluating the competitiveness of search queries</a> </div><p>Source: <a href="https://habr.com/ru/post/239797/">https://habr.com/ru/post/239797/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239785/index.html">SQA Days-16. Eight reasons to participate</a></li>
<li><a href="../239789/index.html">October 21, watch the AzureConf 2014 online conference from Microsoft Azure experts!</a></li>
<li><a href="../239791/index.html">Merge posts</a></li>
<li><a href="../239793/index.html">How to feed the brain of a programmer ... or feed your brain</a></li>
<li><a href="../239795/index.html">Kim Kardashian is boarding Facebook, Disney removes games from stores, smartphone owners in the Russian Federation more and more, but they rarely download - the main mobile news for the week</a></li>
<li><a href="../239799/index.html">The myth of the ideal number of lines in the method</a></li>
<li><a href="../239801/index.html">We invite you to the Internet of Things: Intel IoT Roadshow goes to Moscow!</a></li>
<li><a href="../239803/index.html">Optical Character Recognition by .NET</a></li>
<li><a href="../239805/index.html">Resuscitation D-Link NAS DNS-325</a></li>
<li><a href="../239807/index.html">For those who choose the red pill. Neo toolkit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>