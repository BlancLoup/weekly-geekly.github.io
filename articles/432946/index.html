<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity - 2D game development pitfalls</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© there are many articles for newbies about Unity , but I don‚Äôt want to repeat myself, but I want to share my experience in developing the firs...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity - 2D game development pitfalls</h1><div class="post__text post__text-html js-mediator-article">  On Habr√© there are many articles for newbies about <b>Unity</b> , but I don‚Äôt want to repeat myself, but I want to share my experience in developing the first game and, more specifically, to tell about what I stumbled over.  This will give a chance to all of you, dear developers, to protect yourself in the future from unplanned work and loss of time.  I hope this material will be read by the developers of <b>Unity</b> itself in order to improve their product. <br><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/getpro/habr/post_images/b18/499/8b5/b184998b5c12a8b55995ba96e1b11a23.jpg" alt="image"></div><br>  <b>Attention</b> , under the cut screenshots <b>16+</b> ! <br><a name="habracut"></a><br>  Since most of us are technical people, I will sort it out on the shelves, fad and try to present the material as briefly, concisely and without water. <br><br><h2>  Task </h2><br>  I wanted to write something New Year, simple both in understanding and in management.  As a result of the discussion with the target audience (my child), it was decided that the game would be like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>2D</b> (since it's more convenient to play 2D games on the phone) </li><li>  <b>One finger control</b> (sometimes a maximum of two) </li><li>  <b>Killing time</b> (just poking so as not to strain the brain) </li><li>  <b>System of achievements</b> (so that it was at least a little interesting to continue) </li><li>  <b>Cartoon</b> </li><li>  <b>Pleasant music</b> </li><li>  <b>Without Internet</b> </li><li>  <b>Android</b> (ease of installation of test apk files) </li></ul><br><br>  This all resulted in the idea of <b>" <s>Satan</s> Santa shoots deer that prevent him from taking his bag</b> . <b>"</b> <br><br><img width="400" src="https://habrastorage.org/getpro/habr/post_images/75c/764/4cb/75c7644cb93ae06b3eaed8c5d8e88227.png" alt="mortal klaus"><br><br>  And then it all started ... <br><br><h2>  1. Third-party android library </h2><br>  <b>Problem:</b> I spent two days finding the right SDK, JDK, NDK and making Unity work with them.  On my machine to Unity, sdk from the android studio was already present, but it didn‚Äôt work with them, I had to search for something else, install, try, search again ... two days ... <br><br>  <b>Proposal for improvement:</b> it would be nice if the necessary sdk of the latest versions were installed automatically when Unity was installed, and if anyone needs to lower or upgrade - then let this someone set up his own, with pens. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/603/454/2ac/6034542acc29b69eec61acf46bab6d4b.png" alt="image"><br><br><h2>  2. Vector graphics </h2><br>  <b>Problem:</b> Unity out of the box does not understand <b>SVG</b> .  Even any small JS frameworks like Paper.js simply work elegantly with a vector, and such an elephant as Unity does not. <br><br>  <b>Solution:</b> installed a beta package, which, like reading SVG, but in the end - convert it to raster.  Acceptable, but embarrassing, Unity! <br><br><h2>  3. 2D platform </h2><br><img width="400" src="https://habrastorage.org/getpro/habr/post_images/ab0/a73/e07/ab0a73e0764bda1bd5f6e6ddcd006fbd.png" alt="image"><br><br>  <b>Problem:</b> as seen in the screenshot, there is earth, and there is a snowball on it.  And this is also <b>Mesh</b> and <b>Polygon Collider</b> .  That is, it is a surface that interacts with objects and which can be modified in the editor.  So in the current version of Unity there are no standard tools that can be used to simulate this. <br><br>  <b>Decision:</b> <br><ol><li>  You can draw a raster with alpha (minus - edit it well, quite inconvenient) </li><li>  You can buy a plugin that does it (minus spending money) </li><li>  You can write the plugin yourself (minus - long to understand, long to write) </li></ol><br>  I chose a long, but free path;) If anyone needs such a plugin - write, share, tell you how to use, I don‚Äôt mind :) <br><br>  By the way, I watched the demo of the new Unity beta, it seems like such a thing will come out of the box!  Thank you for this, friends! <br><br>  Yes, I would also add a socket to quickly create 2D primitives, circles there, small squares ... otherwise they simply do not exist, well, or it is necessary to go into the asset stor, search. <br><br><h2>  4. Rotation &amp; Quaternion </h2><br>  <b>Problem: a</b> very complex system of 3d positioning and turns, unnecessary in 2D games. <br><br>  <b>Solution:</b> it is just necessary to understand and accept, because the 2D game is a 3D game, with the coordinate Z = 0. But it would be nice to simplify this system in 2D mode, comrades;) <br><br>  I killed a lot of time and almost broke my brain, trying to turn an object in the right direction to the desired angle, relative to another object, when in another engine I just wrote <b>player.a = 45;</b>  And many obvious methods in the current version are depricated. <br><br><h2>  5. Debag </h2><br>  <b>Problem:</b> for us, beginners, the debug option is available only as output of a variable value to the console using the <b>print ()</b> method.  Full bryaki - the lot of those who pay.  Here correct me if I am mistaken, but I couldn‚Äôt set up Visual Studio for debugging at all, although I did find a video that shows that you don‚Äôt need to set anything up, it should work.  Concluded that debug is available in paid versions. <br><br>  <b>Solution:</b> I just use <b>print ()</b> ... and I understand that debugging a complex project will be a decisive factor in purchasing a paid version of Unity.  Marketers company sad Respect: ( <br><br>  <b>Resolved!</b>  Thanks to the <a href="https://habr.com/users/leopotam/" class="user_link">Leopotam</a> hint <a href="https://habr.com/users/leopotam/" class="user_link">,</a> I installed an additional package for the studio, the <b>‚ÄúAttach to Unity debugger‚Äù</b> button appeared. <br><br><h2>  6. Tap and Click, Swipe and Mov </h2><br>  <b>Problem:</b> despite the convenience of the built-in user input system, there is a lack of simplicity in processing ordinary single tapes, clicks and swipes.  I would like to use one method that returns the coordinates of a single click / tap for different types of devices: touch and desktop with a mouse, for example. <br><br>  <b>Solution:</b> I had to write my class interlayer and wrap the necessary events. <br><br>  Perhaps leave another comment regarding the management system.  Many thanks to the developers of Unity for the universal Input, but for touch devices I would like universal controls too.  For example, slide up - zabayndit on Jump, visualize the cross and buttons, as on the joystick, well, in that spirit.  This can be bought with paid packages or, again, write yourself, spending time on bicycles. <br><br><h2>  7. Confusion with coordinates </h2><br>  <b>Problem:</b> it is impossible for an object to assign click coordinates and see it in the right place, and this is a bit unclear. <br><br>  <b>Solution:</b> You must first read the documentation, understand and use various methods for mapping coordinates: <br><br>  <i>WorldToScreenPoint ()</i> <i><br></i>  <i>ScreenToViewportPoint ()</i> <i><br></i>  <i>transform.TransformPoint ()</i> <br>  other‚Ä¶ <br><br>  I will explain, this is due to the fact that the distance in the scene is measured in arbitrary units other than a pixel and, in addition, the objects have a nesting system, respectively, the positioning is carried out relative to the parent. <br><br><h2>  8. Poor dial-up of UI controls </h2><br>  <b>Problem:</b> only the most basic elements are delivered from the box, and even then you have to tinker with some. <br><br>  <b>Solution:</b> You can be content with little.  For example, I spent a lot of time trying to make a dynamic list scroll.  You can buy cool controls (minus - spend money). <br><br><h2>  9. Large apk file size </h2><br>  <b>Problem:</b> when building an empty project, its size is <b>21.9 MB</b> (23,061,612 bytes) <br><br>  <b>Solution:</b> you need to save on everything.  I pinched mp3 files, compressed textures, tried not to include anything extra in the project.  But with the addition of additional packages, the size mercilessly increased, tending to a hundred. <br><br>  Google Play asks developers to post applications <b>&lt;100Mb</b> .  (22 already gobbled up).  There are, of course, mechanisms of a split, dynamic resource loading, but we are newbies, and our goal is to learn the basics, to realize our cherished dreams, and not to deal with market limits. <br><br><h2>  10. Cyrillic </h2><br>  <b>Problem:</b> having collected the project for the JS / HTML5 platform (for tests), it turned out that there are simply no texts written in Russian. <br><br>  <b>Solution:</b> you need to download the font file, import it into assets, and then specify this imported font in the setting of each text. <br><br>  This is somehow quite strange. <br><br><h2>  11. Productivity of physics </h2><br>  <b>Problem:</b> The game starts to slow down in the presence of complex colliders, when using the <b>Continuous</b> mode for <b>Collision Detection</b> , when several <b>Particle Systems</b> are used in one scene, in short, when using everything that gives spectacularity and beauty to games. <br><br>  <b>Solution:</b> use only the primitive colliders <b>Circle</b> and <b>Rectangle</b> , <b>Collision Detection</b> should be only <b>Discrete</b> , the number of particles in the <b>Particle System</b> should be set to the minimum acceptable.  Well and still, not to allow my mistake and not to use collisions inside the particle system.  The effect is, of course, beautiful, as blood flows down through the objects, but very resource-intensive. <br><br><img width="400" src="https://habrastorage.org/getpro/habr/post_images/191/946/004/191946004af19bb76ec39a8b5ca81249.png" alt="image"><br><br>  Naturally, this is all relevant for 2D mobile games.  But I would like Unity to develop, use new cool shaders for particles, for collisions, and for everything else complex and beautiful. <br><br><h2>  Conclusion </h2><br>  There were of course other pitfalls, but these are trifles.  There were also unexpected advantages, such as: <br><br><ul><li>  Prefabs </li><li>  Good documentation and community </li><li>  Automatic creation of a polygon collider on the alpha channel of the sprite </li><li>  Ease of use of sound effects </li><li>  Very handy animation on keyframes (with the addition of Anima2D and inverse kinematics) </li></ul><br>  But that's another story ... <br><br>  As for the deadlines for the task - I was very hampered by point number 3 (the development of a plugin for modeling the platform)  As an experienced developer, I evaluated the task for myself and evaluated it as follows: 20, 30, 40 (evenings / weekends, because during the day I am busy with my main work), where 20 is optimistic and 40 are pessimistic.  If it were not for point number 3, then I would have got into 20-30, but in the end I spent about two months.  (No, I did not work every evening, that is, I got about 40). <br><br>  If anyone is interested, I would say that I had to draw the graphics myself, thanks to the <b>Inkscape</b> program.  I chose music exclusively with a license for free use. <br><br>  A couple of days had to spend on publishing on <a href="https://play.google.com/store/apps/details%3Fid%3Dru.verych.mortalklaus">Google Play</a> . <br><br>  It took two more days to integrate advertising (you most likely will not see it, just wanted to try it, although the toy did not reflect commercial) <br><br>  Yes, a lot could have been improved, but I wanted to amuse my friends before the New Year holidays. <br><br>  Do not get me wrong, this is not a PR post.  Most of all I want those who make the Unity engine itself to pay attention to these shortcomings and, of course, eliminate them (well, ideally).  And I also want to help my brothers in the spirit not to get on the same rake as me. <br><br>  And if I am mistaken in something, then do not judge strictly, share your advice in the comments! </div><p>Source: <a href="https://habr.com/ru/post/432946/">https://habr.com/ru/post/432946/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../432934/index.html">Easily accessible levitation in ultrasound</a></li>
<li><a href="../432936/index.html">Webinar Group-IB "Intelligence-driven SOC and is it possible to do without it?"</a></li>
<li><a href="../432940/index.html">50 shades of token</a></li>
<li><a href="../432942/index.html">Patterns and antipatterns Corutin in Kotlin</a></li>
<li><a href="../432944/index.html">Forced PostgreSQL Query Optimization</a></li>
<li><a href="../432948/index.html">Smart clouds, smart enterprises: how AI transforms the cloud computing industry</a></li>
<li><a href="../432954/index.html">And back into space: how the unicorn Stellarium visited</a></li>
<li><a href="../432956/index.html">Id Monsters: How Doom Was Created</a></li>
<li><a href="../432958/index.html">The new quantum paradox clarifies in which case our ideas about reality are wrong</a></li>
<li><a href="../432960/index.html">Why consumers are not afraid of identity theft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>