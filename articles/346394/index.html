<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How it works: monitoring of power supply of data center Selectel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What do you think that these three events can have in common? A Vkontakte user posted a new photo, someone else made a purchase online with a payment ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How it works: monitoring of power supply of data center Selectel</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/zx/0e/g9/zx0eg9tca03ojbmvnc9777g7xnk.png"><br><br><p>  What do you think that these three events can have in common? A Vkontakte user posted a new photo, someone else made a purchase online with a payment card through the Assist system, and a third person drove his car into CarPrice and its price appeared in the auction tape? </p><br><p>  And each of these people got the result they expected? <br><a name="habracut"></a><br>  The answer is: all these actions became possible due to the fact that here we miss a lot of intermediate levels and interconnections ... that the servers with these applications in the Selectel * data center are supplied with reliable and uninterrupted power supply, and its parameters are monitored all the time.  Yes, no matter how primitive it may sound, the power industry infrastructure is at the core of the entire IT industry.  We already told </p>  about the data center power supply system in details in the article <a href="https://habrahabr.ru/company/selectel/blog/343866/">The path of electricity</a> , and now is the time to cover the topic of monitoring. <br>  * <i>These brands also use the power of their own IT resources to serve their customers.</i> <br><br><h2>  Monitoring against the 2nd law of thermodynamics </h2><br><p>  It would not be an exaggeration to say that the power supply infrastructure is just an area in which, in all its beauty or, more correctly, ugliness, the 2nd law of thermodynamics manifests itself: "Any system tends to chaos, if not to spend energy on maintaining order. "  This is the most important task - to prevent chaos in the power supply of the data center - and is entrusted to numerous multi-level power parameters monitoring systems and the Selectel technical service team. </p><br><img src="https://habrastorage.org/webt/8g/eu/0t/8geu0ttgnai1_hldphhksqranke.jpeg" title="Data Center Flower 2">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  Let's see how the electricity from the city-wide network passes through all levels of power supply to the Selectel Floral Center 2 data center (here it is in the photo) and reaches the power supply unit of a specific server or disk storage.  And, of course, let us tell you about what power supply parameters are measured at each level and stage, because it is impossible to control what is not measured. </p><br><blockquote><p>  <em>Why did we decide to talk about power monitoring?</em>  <em>We understand that the company's customers are not interested in abstract, albeit grandiose systems in the data center infrastructure, but the smooth operation of their equipment.</em>  <em>In turn, for Selectel as a commercial organization, the most important criterion for business operations are satisfied customers - it is you who help us with our money to grow, and your comments and ideas to improve the quality of the company's services.</em> </p><br></blockquote><h2>  Tour of the monitoring system </h2><br><p>  Probably, it is not interesting to anyone to read in a blog dry excerpts from instructions and regulations on power supply monitoring, isn‚Äôt it?  So welcome to the excursion! </p><br><p>  The company Selectel has 6 data centers (data centers, data centers), and we will tell about the power supply using the example of the data center ‚ÄúFlower 2‚Äù in St. Petersburg.  In the other five data centers, ‚ÄúTsvetochnaya 1‚Äù in St. Petersburg, ‚ÄúDubrovka 1-2-3‚Äù in the Leningrad Region and ‚ÄúBerzarin 1-2‚Äù in Moscow, electricity is supplied and monitored according to similar principles and regulations. . </p><br><p>  Monitoring begins from the moment electricity is supplied to the data center.  Two independent electrical cables, so-called feeders, were laid to the building of the Tsvetochnaya 2 data center.  For each of the feeders, a high voltage of 6 kV (in other data centers of 10-20 kV) comes to the data centers on Flower Street.  To start using it for the needs of the data center, the voltage is first lowered to 380 V at two transformer substations TP1 / TP2 of consumer class TP 6-10 / 0.38 kV, located on the territory of the data center.  The voltage and frequency of the electric current are measured both at the input to the substation and at the output.  The temperature inside the substations is also measured, which should not exceed certain limits. </p><br><img src="https://habrastorage.org/webt/o8/ju/vw/o8juvwr-3x-gieff5lt63bgre_q.jpeg" title="Monitor two UPS groups in conjunction with 12V batteries."><br><br><p>  From transformer substations, external power falls on two groups of uninterruptible power supplies (UPS), working in conjunction with blocks (matrices) of 12 V batteries.  The uninterruptible power supply monitors the input voltage, UPS status, inverters, capacitors and fans.  At the output of UPS clusters, we measure and monitor voltage and frequency. </p><br><p>  Battery packs are lead 12 V batteries, akin to car batteries, and interconnected into huge dies.  By the way, remember the discussion on the Internet that supposedly the batteries for Tesla cars are collected from hundreds of finger-type batteries?  So, backup power for the data center is provided exactly this way - more than a hundred ordinary 12 V batteries.  The temperature and voltage on the battery packs are checked in real time.  If any 12 V battery fails, Selectel‚Äôs technical service will find out about it in a timely manner and replace it. </p><br><p>  If at both TP1 / TP2 substations the input voltage supplied from the city completely disappears, the capacity of the battery packs is enough for 10 minutes of data center operation under full load.  During this time, diesel generator sets (DGS) are started, which take over the entire load.  In addition to the parameters of the output voltage from the DGU, many parameters are monitored on these installations.  These are engine revolutions, oil temperature and pressure, coolant temperature, fuel level, active and full power output, total hours run and other parameters. </p><br><p>  DGU installations are constantly in a preheated state, the temperature of oil and coolant in motors is maintained at + 40C.  This makes it easy to start diesel engines in the cold season, and within one minute to ensure fast warm-up and access to full load. </p><br><p>  The power supplied from the UPS is then fed into the machine rooms on the power cabinets and installed in racks for servers, storage systems and network equipment.  Two independent, interchangeable 220 V power supplies come inside the racks. This is done in order to be able to install servers and storage systems with two power supplies in a rack according to the 2N redundancy scheme.  Input power racks are also measured and monitored ‚Äî voltage and power consumption.  Thus, the Selectel technical service knows the power consumption of both the entire data center and each individual rack. </p><br><img src="https://habrastorage.org/webt/e-/fc/jh/e-fcjhvs3jys5xogliyezk78vme.jpeg" title="220 V rack entries are monitored continuously"><br><br><p>  If IT equipment with only one power supply is installed in a rack (for example, the customer has such equipment), then you can optionally use a rack-level automatic transfer switch (automatic reserve transfer unit), which in case of a voltage drop on one of the inputs, switches the power to the other rack-mount entrance.  This happens so fast that the work of IT equipment is not interrupted.  AVR status is also monitored, and Selectel technical service has all reliable information about the power supply of each rack. </p><br><blockquote><p>  We <em>traced the entire power path of the data center, starting from the outer urban substation and ending with a specific rack in the engine room.</em>  <em>And now our tour will visit the management and monitoring center of the data center infrastructure, where we will also get acquainted with the staff of Selectel, who around the clock monitor the reliable power supply of equipment used by our customers.</em> </p><br></blockquote><h2>  Our heroes: engineering team </h2><br><p>  Interchangeability, support of each other and mentoring are the basic principles of the work of the engineering and technical department (ITO) team.  The department employs about 40 specialists who are divided into three shifts across different data centers.  If necessary, employees can come to the aid of each other, taking on the task of monitoring the parameters of power supply and ventilation in the remote mode, help each other with advice. </p><br><img src="https://habrastorage.org/webt/fs/wi/og/fswiogmyzfz19es-osvfd0voxs8.jpeg" title="ITO on-duty engineers at the main monitoring console of the Tsvetochnaya 2 data center"><br><br><p>  Next, we will see a video of how the ITO team works in real life from two different points of view.  Tatiana Svirko, ITO Head, talks about the process entirely at the main console of monitoring the power supply and ventilation parameters of the data center: </p><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/GpqCyPcWfQ0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><p>  And now we will bypass the critical points of the data center infrastructure and look at everything through the eyes of engineer Dmitry Kostryukov: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xfiZHKhqK7s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  This is how thoroughly the entire infrastructure of the Selectel data center is checked and monitored.  Our customers can be sure of their equipment! </p></div><p>Source: <a href="https://habr.com/ru/post/346394/">https://habr.com/ru/post/346394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346382/index.html">Suddenly: a new version of ONLYOFFICE with macros</a></li>
<li><a href="../346384/index.html">Event digest for HR specialists in IT-area for January 2018</a></li>
<li><a href="../346386/index.html">About the peculiarities of using VPN Zaborona on routers for bypassing locks in Ukraine</a></li>
<li><a href="../346388/index.html">Lindenmeyer systems</a></li>
<li><a href="../346390/index.html">We invite speakers at PHDays: tell us how you see the digital state</a></li>
<li><a href="../346396/index.html">We squeeze the maximum out of accounting computer technology. Part 1</a></li>
<li><a href="../346398/index.html">How it works: Merkle trees in the bitcoin network</a></li>
<li><a href="../346404/index.html">Separation of chats and search in Telegram</a></li>
<li><a href="../346406/index.html">AngularJS + Webpack = lazyLoad</a></li>
<li><a href="../346408/index.html">Attention! S in Ethereum stands for Security. Part 2. EVM features</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>