<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Budget option of transition from the working group to the domain</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will be of interest to novice system administrators, as well as managers of small but growing companies who find themselves in a transiti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Budget option of transition from the working group to the domain</h1><div class="post__text post__text-html js-mediator-article">  This article will be of interest to novice system administrators, as well as managers of small but growing companies who find themselves in a transitional situation, when working in a working group is still possible, but already threatening to turn into a problem in the foreseeable future. <br><br>  But written is unlikely to seem interesting and relevant to experienced sysadmins, as it involves a fairly simple task.  However, the problems raised in it may be relevant for professionals as well, and comments on the recipes voiced in this article from experts with experience will be very valuable. <br><br><img src="https://habrastorage.org/files/ffd/f0a/ddc/ffdf0addce3b49c8915efc05030eafb5.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After a certain ‚Äúcritical mass‚Äù has been recruited (usually 15-20 users), the development of a network within the framework of a working group increases the cost of human resources for infrastructure management.  At the same time, as the number of users grows and the number of applications they use, administration difficulties increase, the need for security, software standardization, and centralized management of policies that only a serious private infrastructure and its own domain controller can increase. <br><a name="habracut"></a><br>  And here, due to the sudden need for capital expenditures, it is time to clutch at the head: after all, one domain controller will not be enough, its fall will mean that all users stop working.  Therefore, to ensure the resiliency of the entire system will need another one.  Well, the third server, mail, file or for applications, most likely you will have even without that. <br><br>  Thus, at a certain point in the development of a company, it becomes necessary to build a serious private infrastructure - and not from one, but rather from three servers at once.  It can be ignored when working in working groups, but the longer this continues, the harder it will be to switch to the domain infrastructure. <br><br>  Is it really impossible to smooth this jerk somehow?  Can!  But for this you have to resort to a few tricks. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7d9/cf3/57a/7d9cf357a827476e9e13580a2b87f8c3.jpg"></div><br><h3>  Trick one: virtualization </h3><br>  The cost of three servers (meaning also the cost of software licenses for them - but more on that below) can be greatly reduced by using virtualization to combine the mail, file, or application server server roles with the second domain of the controller. <br><br>  That is, you will not need three servers, but one full-fledged domain controller on a physical server and another server with virtualization of a domain controller plus the functions that the third server should have fixed. <br><br>  It is worth keeping in mind the replication between the two controllers.  DNS and DHCP will need to be installed on both domain controllers, with DNS running in duplicate mode, and DHCP can be divided: some addresses can be leased from one server, the other from another.  Periodically there will be replication, which will generate traffic and load the network - but this is the cost of saving. <br><br>  This scheme is theoretically capable of withstanding 100-200 users on the network - everything will, of course, depend on the load of everyone, but sooner or later it will be necessary to expand this infrastructure, so this is a good solution to the problem. <br><br><img src="https://habrastorage.org/files/0da/b5f/690/0dab5f690175424481e9d9dc6aa8bddc.jpg"><br><br><h3>  Optimal configuration </h3><br>  As for the hardware suitable for the task, a server with a weak processor will be enough for a domain controller (in the case of paranoid reinsurance, you can take two, but in our practice there was only one case when Intel failed), 4 GB of memory, two disks 500 GB each in RAID 1 for the operating system, another hot-swap disk and a terabyte for backups.  For fault tolerance, two network cards are required! <br><br>  But on the second server, which will implement virtualization, it is better not to save!  The same configuration will not work for sure; a stronger and more serious machine is needed: two good processors, a solid RAM volume - at least 32GB;  two 500 GB disks in RAID1 for the operating system, three terabytes, one of which is backups, as well as two network cards.  Capital costs are inevitable in this case, but overpayments can be avoided. <br><br>  There are enough offers of new servers on the market that are suitable for such a task: the domain server RH1288 / 8-2 V3 1X2609V4 / 16GB / 2x500 &amp; 1x1TB HUAWEI HU will cost 172,400 rubles, and the application server 2XE5-2620V4 64GB 2x500GB 2x1TB 240,000 rubles. <br><br>  You can, however, take our <a href="https://squadra-group.com/servers">second-hand servers</a> : ASUS RS500-E6 / PS4 2xXeon E5530 16GB RAM, 2x500Gb &amp; 1x1TB HDDs for 34,890 rubles will work for the domain, and for SUPERMICRO SYS-6017R-NTF 2xXeon E5-2665, 64Gb RAM applications , 2x500Gb &amp; 2x1TB HDDs for 124,800 rubles. <br><br>  The amount differs, as you can see, significantly: 159,690 for second-hand against 412,400 for new ones.  Obviously, three new servers would be even more expensive. <br><br><h3>  The second trick: licenses </h3><br>  Another headache for a small enterprise that is just starting to build its own infrastructure is the software licenses for servers.  Microsoft Windows Server 2016 Essentials Open License (supports up to 25 users), the program designed for the first servers of a small enterprise costs about 25 thousand rubles.  But even here there is an opportunity, if not to get rid of spending at all, then at least to postpone them for half a year - if you use the trial version, which works for 180 days. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/874/06f/d75/87406fd75dff4684bb5e321ca382f13e.jpg"></div><br>  Only "Trial Use" does not imply the use of software in a production environment.  No work tasks!  Well, at least formally.  But it‚Äôs clear that in no other way how to run such software is impossible. <br><br>  And, of course, it is clear that the user who built the infrastructure on some kind of software for six months will be much more attached to the vendor and simply forced to buy a license from her.  And Microsoft just thought about this opportunity when they were given ‚Äúto try‚Äù not three days, not a week or two, but six months!  ) <br><br><h2>  findings </h2><br>  The first steps and decisions taken during the construction of infrastructure are very important and can seriously affect the further functioning of the enterprise, so you need to do them consciously.  But at the same time, if you do not solve the problem head-on, but approach the solution creatively, then you can seriously save. <br><br>  Here's how to optimize spending: <br><br><img src="https://habrastorage.org/files/750/7ec/ada/7507ecada8e84be8b427e8965692740a.jpg"><br><br>  Thus, the costs are reduced several times, and the saved resources are better not to transfer to other needs, and think about how to prepare only the emerging IT infrastructure for further growth and expansion. <br><br>  And how did you start building your infrastructure?  What are your recipes? </div><p>Source: <a href="https://habr.com/ru/post/321832/">https://habr.com/ru/post/321832/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../321820/index.html">Has MVC died for the frontend?</a></li>
<li><a href="../321822/index.html">Web animation: where, why and why</a></li>
<li><a href="../321824/index.html">The refactoring of the J.Money payment process - the awakening of force</a></li>
<li><a href="../321826/index.html">Getting to know the team of Java stack courses on Hexlet</a></li>
<li><a href="../321828/index.html">Mobile platform. How not to be afraid of ReactNative</a></li>
<li><a href="../321834/index.html">We create a neural network InceptionV3 for image recognition</a></li>
<li><a href="../321836/index.html">Collecting VK posts for Samsung Gear</a></li>
<li><a href="../321838/index.html">How we built cloud infrastructure in Azure</a></li>
<li><a href="../321840/index.html">Notification of problems with your site through Telegrams and other features of Hosttracker</a></li>
<li><a href="../321842/index.html">Routing layer in iOS applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>