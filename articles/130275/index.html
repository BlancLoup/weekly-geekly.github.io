<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Doctrine 2 ORM User Repositories</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In most cases, the standard methods generated by the Yaml-based doctrine (XML or annotations) are only enough to get some fields using a simple filter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Doctrine 2 ORM User Repositories</h1><div class="post__text post__text-html js-mediator-article">  In most cases, the standard methods generated by the Yaml-based doctrine (XML or annotations) are only enough to get some fields using a simple filter.  For a more complex query, you have to use native QueryBuilder and use dql to query our model.  All this is a consequence of the accumulation of large pieces of code that have the properties to be duplicated where identical requests need to be applied.  And how I would like to deal with the model simply and beautifully through one single method?  How?  Write your own! <br><a name="habracut"></a><br><h4>  User Repositories </h4><br>  We will help custom repositories!  In short, the point of these repositories is to store user (non-standard) methods for working with models.  All methods will be available through EntityManager for each model to which a specific repository will be ‚Äúscrewed‚Äù. <br><br>  The repositories themselves are descendants of the EntityRepository class.  It is better to store them in a separate folder (for example, Repositories) and in your namespace (namespace) - let it be also Repositories. <br><br>  <b>An example of a simple user repository framework:</b> <br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Repositories</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">EntityRepository</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Entities</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EntityRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($params)</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><h4>  Project structure </h4><br>  To make it clearer, let's define the folder structure of our project directory: <br><ul><li>  <b>/ bin /</b> - script for working with doctrine via BASH </li><li>  <b>/ doctrine /</b> - doctrine itself (established through GIT) </li><li>  <b>/ Entities /</b> - our models with annotations (Created on the basis of YAML doctrine itself) </li><li>  <b>/ Proxies /</b> - Proxy for Doctrine </li><li>  <b>/ public_html /</b> - user part of the project </li><li>  <b>/ Repositories /</b> - classes of our repositories (here we will add them) </li><li>  <b>/ yaml /</b> - yaml mappers of our models </li></ul><br><br><h4>  Connecting to doctrine </h4><br>  To begin with, in order for the doctrine to see our classes, we will register another ClassLoader in the Doctrine general configuration file.  In this case, the configuration is in the file <b>cli-config.php</b> .  Add the following lines of code to it: <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    define("ROOT_DIR", __DIR__); define("DOCTRINE_DIR", ROOT_DIR."/doctrine"); ... //     ,     require_once DOCTRINE_DIR . '/lib/vendor/doctrine-common/lib/Doctrine/Common/ClassLoader.php'; //           $classLoader = new ClassLoader('Repositories', ROOT_DIR); $classLoader-&gt;register(); ...</span></span></code> </pre> <br><br><h4>  Connecting the repository to the model </h4><br>  The place of association of the model with the repository depends on what type of mappers we use (Annunciations, YAML or XML).  Since we use YAML, we connect the repository through it using the attribute repositoryClass where we describe the name of the class and its namespace: <br><pre> <code class="hljs scala"><span class="hljs-type"><span class="hljs-type">Entities</span></span>\<span class="hljs-type"><span class="hljs-type">ModelName</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: entity repositoryClass: <span class="hljs-type"><span class="hljs-type">Repositories</span></span>\<span class="hljs-type"><span class="hljs-type">UserRepository</span></span> table: model_table fields: ...</code> </pre> <br><br>  In this example, it is assumed that we have a generated model with annotations for this YAML. <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Entities</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">ORM</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">EntityRepository</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Entities\ModelName * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Table</span></span></span><span class="hljs-comment">(name="model_table") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Entity</span></span></span><span class="hljs-comment">(repositoryClass="Repositories\UserRepository") */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModelName</span></span></span><span class="hljs-class"> </span></span>{ ... }</code> </pre> <br><br>  That's all.  Now you can write your own methods in the repository and work with them through our models.  Everything turned out to be simple. <br><br><h4>  Example </h4><br>  A small life example based on writing your own method for a custom mood model. <br>  <b>/Entities/UserMood.php</b> <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Entities</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">Mapping</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">ORM</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">EntityRepository</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Entities\UserMood * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Table</span></span></span><span class="hljs-comment">(name="b_mood") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Entity</span></span></span><span class="hljs-comment">(repositoryClass="Repositories\RUserMood") */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserMood</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> integer $ID * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Column</span></span></span><span class="hljs-comment">(name="ID", type="integer") * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Id</span></span></span><span class="hljs-comment"> * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@GeneratedValue</span></span></span><span class="hljs-comment">(strategy="IDENTITY") */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $ID; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string $ACTIVE * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Column</span></span></span><span class="hljs-comment">(name="ACTIVE", type="string", length=1, nullable=false) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $ACTIVE; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string $NAME * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Column</span></span></span><span class="hljs-comment">(name="NAME", type="string", length=255, nullable=false) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $NAME; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> datetime $DATE_ACTIVE_FROM * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Column</span></span></span><span class="hljs-comment">(name="DATE_ACTIVE_FROM", type="datetime", nullable=false) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $DATE_ACTIVE_FROM; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> decimal $VALUE * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Column</span></span></span><span class="hljs-comment">(name="VALUE", type="decimal", nullable=false) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $VALUE; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> integer $USER_ID * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Column</span></span></span><span class="hljs-comment">(name="USER_ID", type="integer", length=6, nullable=false) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $USER_ID; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string $UNAUTH_HASH * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Column</span></span></span><span class="hljs-comment">(name="UNAUTH_HASH", type="string", length=255, nullable=false) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $UNAUTH_HASH; <span class="hljs-comment"><span class="hljs-comment">//.....       ,        . //.....    ORM. }</span></span></code> </pre> <br><br>  <b>/yaml/Entities.UserMood.dcm.yml</b> <br><br><pre> <code class="hljs scala"><span class="hljs-type"><span class="hljs-type">Entities</span></span>\<span class="hljs-type"><span class="hljs-type">UserMood</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: entity repositoryClass: <span class="hljs-type"><span class="hljs-type">Repositories</span></span>\<span class="hljs-type"><span class="hljs-type">RUserMood</span></span> table: b_mood fields: <span class="hljs-type"><span class="hljs-type">ID</span></span>: id: <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: integer generator: strategy: <span class="hljs-type"><span class="hljs-type">AUTO</span></span> <span class="hljs-type"><span class="hljs-type">ACTIVE</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: string length: <span class="hljs-number"><span class="hljs-number">1</span></span> nullable: <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: string length: <span class="hljs-number"><span class="hljs-number">255</span></span> nullable: <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-type"><span class="hljs-type">DATE_ACTIVE_FROM</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: datetime nullable: <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-type"><span class="hljs-type">VALUE</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: decimal nullable: <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-type"><span class="hljs-type">USER_ID</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: integer length: <span class="hljs-number"><span class="hljs-number">6</span></span> nullable: <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-type"><span class="hljs-type">UNAUTH_HASH</span></span>: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: string length: <span class="hljs-number"><span class="hljs-number">255</span></span> nullable: <span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br><br>  <b>/Repositories/RUserMood.php</b> <br><br>  Here it is worth paying attention to how in our method <b>EntityManager ($ em)</b> will be declared.  This is done like this: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_em</code> </pre> <br><br>  And now the code of our repository itself: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Repositories</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">ORM</span></span>\<span class="hljs-title"><span class="hljs-title">EntityRepository</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Entities</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RUserMood</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EntityRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMoodsInDateRange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($from, $to, $user = false)</span></span></span><span class="hljs-function"> </span></span>{ $qb = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_em-&gt;createQueryBuilder(); $filter[<span class="hljs-number"><span class="hljs-number">1</span></span>] = $from; $filter[<span class="hljs-number"><span class="hljs-number">2</span></span>] = $to; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$user) { $varwhere = $qb-&gt;expr()-&gt;andX( $qb-&gt;expr()-&gt;gte(<span class="hljs-string"><span class="hljs-string">'um.DATE_ACTIVE_FROM'</span></span>, <span class="hljs-string"><span class="hljs-string">'?1'</span></span>), $qb-&gt;expr()-&gt;lte(<span class="hljs-string"><span class="hljs-string">'um.DATE_ACTIVE_FROM'</span></span>, <span class="hljs-string"><span class="hljs-string">'?2'</span></span>) ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $filter[<span class="hljs-number"><span class="hljs-number">3</span></span>] = $user; $varwhere = $qb-&gt;expr()-&gt;andX( $qb-&gt;expr()-&gt;gte(<span class="hljs-string"><span class="hljs-string">'um.DATE_ACTIVE_FROM'</span></span>, <span class="hljs-string"><span class="hljs-string">'?1'</span></span>), $qb-&gt;expr()-&gt;lte(<span class="hljs-string"><span class="hljs-string">'um.DATE_ACTIVE_FROM'</span></span>, <span class="hljs-string"><span class="hljs-string">'?2'</span></span>), $qb-&gt;expr()-&gt;eq(<span class="hljs-string"><span class="hljs-string">'um.USER_ID'</span></span>, <span class="hljs-string"><span class="hljs-string">'?3'</span></span>) ); } $qb-&gt;add(<span class="hljs-string"><span class="hljs-string">'select'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Doctrine\ORM\Query\Expr\Select(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'um'</span></span>))) -&gt;add(<span class="hljs-string"><span class="hljs-string">'from'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Doctrine\ORM\Query\Expr\From(<span class="hljs-string"><span class="hljs-string">'Entities\UserMood'</span></span>, <span class="hljs-string"><span class="hljs-string">'um'</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'where'</span></span>, $varwhere) -&gt;add(<span class="hljs-string"><span class="hljs-string">'orderBy'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Doctrine\ORM\Query\Expr\OrderBy(<span class="hljs-string"><span class="hljs-string">'um.DATE_ACTIVE_FROM'</span></span>, <span class="hljs-string"><span class="hljs-string">'DESC'</span></span>)) -&gt;setParameters($filter); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $qb-&gt;getQuery(); } }</code> </pre> <br><br>  That's all!  Now if we turn to our model, we can work with our method!  <b>For example:</b> <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span> (<span class="hljs-string"><span class="hljs-string">'../cli-config.php'</span></span>); $repo = DDB::getEM()-&gt;getRepository(<span class="hljs-string"><span class="hljs-string">'Entities\UserMood'</span></span>)-&gt;getMoodsInDateRange(<span class="hljs-string"><span class="hljs-string">'2011-05-01 00:00:00'</span></span>, <span class="hljs-string"><span class="hljs-string">'2011-05-09 23:59:59'</span></span>)-&gt;getResult(); print_r($repo);</code> </pre> <br><br><h4>  Sources </h4><br><ul><li>  <a href="http://www.doctrine-project.org/docs/orm/2.1/en/tutorials/getting-started-xml-edition.html">Original ORM Doctrine 2.1 documentation</a> </li><li>  <a href="http://mackstar.com/blog/2010/10/04/using-repositories-doctrine-2">http://mackstar.com/blog/2010/10/04/using-repositories-doctrine-2</a> </li></ul><br><h5>  PS </h5><br>  <i>Since I am just beginning to actively use ORM for PHP and Doctrine in particular, I cannot claim to be 100% correct solution to this problem in this material, therefore sensible criticism is very welcome!</i>  <i>Thanks to all!</i> </div><p>Source: <a href="https://habr.com/ru/post/130275/">https://habr.com/ru/post/130275/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130265/index.html">ZeroNights Conference</a></li>
<li><a href="../130270/index.html">On games in alternate reality</a></li>
<li><a href="../130271/index.html">We switch WiFi to access point mode in Windows</a></li>
<li><a href="../130272/index.html">Float Arithmetic Operations</a></li>
<li><a href="../130273/index.html">Prima-Kraskala problem in Prolog</a></li>
<li><a href="../130276/index.html">Combining javascript files</a></li>
<li><a href="../130277/index.html">CSS3 Gallery</a></li>
<li><a href="../130278/index.html">Document classification by support vector machine</a></li>
<li><a href="../130280/index.html">Experience using TFS 2010: (Control System. Rights and Policies)</a></li>
<li><a href="../130282/index.html">Windows 8 interface slightly fixed</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>