<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We are migrating file servers from Windows Server 2003 to Windows Server 2012 R2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 If you have SMB file servers running on Windows Server 2003, you probably already know that the extended support for this OS will end o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We are migrating file servers from Windows Server 2003 to Windows Server 2012 R2</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  If you have SMB file servers running on Windows Server 2003, you probably already know that the extended support for this OS will end on July 14, 2015.  You can read more about this <a href="">here</a> . <br>  If you are still using Windows Server 2003, you should start planning to upgrade to the new version right now.  The simplest way to migrate old SMB file servers is to use a virtual machine to replace your old virtual machine and transfer data to a new one.  Despite the fact that such a transition seems quite simple, you should be careful, because  this movement of data requires at least some short idle time. <br>  I am glad that you are reading this article, as this means that you are taking steps to leave your old servers before their support stops. <br><img src="https://habrastorage.org/files/dbc/2f4/066/dbc2f4066f304fb99a8f9efdf9edfeba.jpg"><br><a name="habracut"></a><br><br><h4>  Steps </h4><br>  In order to test this transition scenario, I configured a Windows Server 2003 machine with a 32-bit version (which I called FILES) and a Hyper-V virtual machine with Windows Server 2012 R2.  I also set up a domain controller running Windows Server 2012 R2 and connected both machines to this domain. <br>  The following are the steps I have done to test and identify the details of how to perform the migration: <br><ol><li>  Setting up accounts / groups in Active Directory * </li><li>  Setting up a computer with WS2003 * </li><li>  Preparing for migration (copying source data before final migration) </li><li>  Export Network Folder Information </li><li>  Adding changes after completing Step 3 * </li><li>  Rename Windows Server 2003 </li><li>  Final data transfer </li><li>  Creating network folders at destination </li><li>  Rename WS2012R2 </li><li>  Change check </li></ol><br>  Items marked with * are only needed to simulate the environment and should not be executed in your real environment where there is already a running file server installed from Windows Server 2003. <br>  Below you will find a detailed description of each step listed above.  Keep in mind that I tried to give the commands that I used in my environment, but you obviously need to configure server names and paths as needed for a specific configuration. <br><br><h5>  Step 1 - Set up accounts / groups in Active Directory * </h5><br>  First, we will create several user accounts and groups for the domain, with which we will work in the script. <br>  This step must be performed from PowerShell (running as Administrator) on a domain controller running Windows Server 2012 R2. <br>  Earlier versions of Windows Server for a domain controller are also suitable, but I cannot guarantee that the following PowerShell commands will work on all older versions. <br>  <i>IMPORTANT: These commands should only be used to simulate a test environment.</i>  <i>Do not run them in your production environment.</i> <br><pre><code class="vbscript hljs">$cred = <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>-credential1.<span class="hljs-number"><span class="hljs-number">.99</span></span> | % { <span class="hljs-keyword"><span class="hljs-keyword">New</span></span>-ADUser -Name User$_ -AccountPassword $cred.password -CannotChangePassword $<span class="hljs-literal"><span class="hljs-literal">true</span></span> -DisplayName <span class="hljs-string"><span class="hljs-string">"Test $_"</span></span> -Enabled $<span class="hljs-literal"><span class="hljs-literal">true</span></span> -SamAccountName User$_ }<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.99</span></span> | % { <span class="hljs-keyword"><span class="hljs-keyword">New</span></span>-ADGroup -DisplayName <span class="hljs-string"><span class="hljs-string">"Project $_"</span></span> -Name Project$_ -GroupCategory Security -GroupScope Global }<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.99</span></span> | % { $Group = $_; <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.99</span></span> | % { <span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>-ADGroup Project$Group | Add-ADGroupMember -Members User$_ } }</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Step 2 - Configure your computer with WS2003 </h5><br>  Now we create several local and network folders with different permissions at the file system and network level.  It simulates a production environment and helps test that files, local and network folders and permissions have been migrated properly. <br>  These commands must be run from the command line on a test file server running Windows Server 2003. In the JOSE script, this is the domain name. <br>  <i>IMPORTANT: These commands should only be used to simulate a test environment.</i>  <i>Do not run them in your production environment.</i> <br><pre> <code class="actionscript hljs">md C:\homefolder <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> md C:\homefolder\user%%a <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> NET SHARE share%%a=C:\homefolder\user%%a /GRANT:JOSE\Administrator,FULL /GRANT:JOSE\user%%a,FULL <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> echo y | cacls C:\homefolder\user%%a /E /G JOSE\Administrator:F <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> echo y | cacls C:\homefolder\user%%a /E /G JOSE\user%%a:F md c:\projects <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> md C:\projects\project%%a <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> NET SHARE project%%a=C:\projects\project%%a /GRANT:JOSE\Administrator,FULL /GRANT:JOSE\Project%%a,FULL <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> echo y | cacls c:\projects\project%%a /E /G JOSE\Administrator:F <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> echo y | cacls c:\projects\project%%a /E /G JOSE\project%%a:F <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> xcopy c:\windows\media\*.mid C:\homefolder\user%%a <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> xcopy c:\windows\media\*.mid c:\projects\project%%a</code> </pre><br><br><h5>  Step 3 - Preparing for Migration </h5><br>  This step performs the initial copying of data from a file server running Windows Server 2003 to a machine running Windows Server 2012 R2 before the final migration. <br>  By making this first copy of the old file server still available to users, you minimize the downtime required for the final copy.  If there are problems with open files or other errors at this stage, it's okay - you will get the opportunity to capture these files later. <br>  You need to make sure that you include all the folders used for your network files.  In this example, I assume that the relevant files are in the <b>C: \ homefolder</b> and <b>C: \ projects</b> folders. <br>  <i>IMPORTANT: You must use the same drive letters and the same paths on your new server running Windows Server 2012 R2.</i>  <i>Otherwise, the information about network folders will not match, and your migration will not work.</i> <br>  <i>IMPORTANT: This migration process only works if you use domain accounts and domain groups for your permissions.</i>  <i>If you use local accounts to share files or assign permissions to the file system, then permissions will not be moved by <b>ROBOCOPY</b> .</i> <br><br><div class="spoiler">  <b class="spoiler_title">If you are not familiar with ROBOCOPY, here is a description of the parameters used:</b> <div class="spoiler_text"><ul><li>  <b>/ e</b> - Copy subdirectories, including empty ones </li><li>  <b>/ xj</b> - Exclude junction points </li><li>  <b>/ r: 2</b> - 2 attempts </li><li>  <b>/ w: 5</b> - 5 seconds wait between two attempts </li><li>  <b>/ v</b> - Details for missing files </li><li>  <b>/ it</b> - Include tweaked files (same size / timestamp, but different attributes) </li><li>  <b>/ purge</b> ‚Äî Delete files / folders at the destination that no longer exist in the source. </li><li>  <b>/ copyall</b> - Copy data, attributes, timestamps, access control lists, owner information, and audit information </li></ul><br></div></div><br><br>  This step must be performed on a server running Windows Server 2012 R2 from the command line running as Administrator. <br><pre> <code class="actionscript hljs">md C:\homefolder ROBOCOPY /e /xj /r:<span class="hljs-number"><span class="hljs-number">2</span></span> /w:<span class="hljs-number"><span class="hljs-number">5</span></span> /v /it /purge /copyall \\FILES\c$\homefolderc:\homefolder md c:\projects ROBOCOPY /e /xj /r:<span class="hljs-number"><span class="hljs-number">2</span></span> /w:<span class="hljs-number"><span class="hljs-number">5</span></span> /v /it /purge /copyall \\FILES\c$\projects c:\projects</code> </pre><br><br><h5>  Step 4 - Export Network Folder Information </h5><br>  We export network folder information from the Windows Server 2003 registry. This information includes network folder names, path to them, and network folder security information (ACL).  You can read more about this export procedure <a href="http://support.microsoft.com/kb/125996">here</a> . <br>  This command must be run from the command line on a test file server running Windows Server 2003. <br>  <i>IMPORTANT: This migration process only works if you use domain accounts and domain groups for your permissions.</i>  <i>If you use local accounts to share files or assign permissions to the file system, then permissions will not be moved using this export from the registry.</i> <br><pre> <code class="actionscript hljs">reg export HKLM\SYSTEM\CurrentControlSet\Services\LanmanServer\Shares c:\export.reg</code> </pre><br><br><h5>  Step 5 - Adding changes after completing Step 3 * (simulates the existing environment and runs from a file server running WS2003) </h5><br>  This step simulates applying changes to files after the initial copy was done in Step 3. Since some time elapsed between steps 3 and 6, we expect users to continue to make changes to existing files and add new ones.  This imitating step helps to ensure that it is possible to capture these changes using commands. <br>  This step must be run from the command line on a test file server running Windows Server 2003. <br>  <i>IMPORTANT: These commands should only be used to simulate a test environment.</i>  <i>Do not run them in your production environment.</i> <br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> xcopy c:\windows\media\r*.wav c:\homefolder\user%%a <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /L %%a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">99</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> xcopy c:\windows\media\r*.wav c:\projects\project%%a</code> </pre><br><br><h5>  Step 6 - Rename Windows Server 2003 (*** Here starts idle time ***) </h5><br>  In this step, you must rename your computer under Windows Server 2003 management and restart it.  This step will be the beginning of downtime for your file server. <br>  Since Windows Server 2003 does not come with the command line option required to perform this operation, use the graphical interface to manually rename the machine from FILES to XFILES.  Here it is assumed that FILES is the name of an existing file server (users access data using \\ FILES \ &lt;network-folder-name&gt;);  XFILES is an unused name on your network.  At this point, your FILES file server will become unavailable. <br>  If you want to automate this step, download the <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D15326">Support Tools</a> and use the command below on a computer running Windows Server 2003. <br><pre> <code class="actionscript hljs">NETDOM RENAMECOMPUTER /NEWNAME XFILES /REBOOT /FORCE</code> </pre><br><br><h5>  Step 7 - Final Data Transfer </h5><br>  At this stage, changes made to network resources (modification of existing files or creation of new ones) after the initial copy are copied.  After the system has been renamed and rebooted, there should not be any connected users, and therefore there should not be any problems with the files during copying. <br>  We will use the same parameters as before, and <b>ROBOCOPY</b> , in order to copy what was changed from the first copy.  If the initial copy did not happen very long ago, you will have only a few changes, and this step will not take long. <br>  <i>IMPORTANT: Because</i>  <i>this is the last copy, you should review each error and repeat the copy until no problems are found with the files you need.</i> <br>  Run this command from a computer running Windows Server 2012 R2 from the command line running as Administrator. <br><pre> <code class="actionscript hljs">ROBOCOPY /e /xj /r:<span class="hljs-number"><span class="hljs-number">2</span></span> /w:<span class="hljs-number"><span class="hljs-number">5</span></span> /v /it /purge /copyall \\XFILES\c$\homefolderc:\homefolder ROBOCOPY /e /xj /r:<span class="hljs-number"><span class="hljs-number">2</span></span> /w:<span class="hljs-number"><span class="hljs-number">5</span></span> /v /it /purge /copyall \\XFILES\c$\projectsc:\projects</code> </pre><br><br><h5>  Step 8 - Creating Network Folders at Destination </h5><br>  Import network folder settings from Windows Server 2003 using the file created in step 4. <br>  Run this command from a computer running Windows Server 2012 R2 from the command line running as Administrator. <br><pre> <code class="actionscript hljs">reg <span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> \\XFILES\c$\export.reg</span></span></code> </pre><br><br><h5>  Step 9 - Rename WS2012R2 </h5><br>  Now we will rename the computer running Windows Server 2012 R2 to the same name that was used on our old Windows Server 2003, and the migration is complete. <br>  After the system is restarted, customers will be able to access network folders on the new system, and this will result in idle time. <br>  Run this command from a computer running Windows Server 2012 R2 from PowerShell running as Administrator. <br><pre> <code class="actionscript hljs">Rename-Computer -NewName FILES -Restart -Force</code> </pre><br><br><h5>  Step 10 - Checking the Changes (*** The idle time *** ends here) </h5><br>  The migration is complete, and you can use these commands to ensure that all network folders are migrated correctly.  Using these commands, permissions are also checked for some network and local folders to make sure that this part works correctly. <br>  Run this command from a computer running Windows Server 2012 R2 from PowerShell running as Administrator. <br><pre> <code class="actionscript hljs">Get-SmbShare Get-SmbShareAccess Share23 Get-SmbShareAccess Project9 Get-Acl c:\homefolder\user23 | Format-List Path, AccessToString Get-Acl c:\projects\project9 | Format-List Path, AccessToString</code> </pre><br><br><h4>  Conclusion </h4><br>  I strongly recommend that you set up a test environment before attempting to immediately apply these instructions on the file server running Windows Server 2003 in production. Your test environment should simulate production as precisely as possible.  In this case, you can find out detailed information about the procedure and customize the scripts in accordance with the details of your environment. <br><br>  Good luck with your migration! <br><br><h4>  useful links </h4><br><ul><li>  <a href="http://l.techdays.ru/go/azuretrial">Try Azure</a> for free for 30 days! <br></li><li>  <a href="http://l.techdays.ru/go/mva">Learn</a> Microsoft Virtual Academy <a href="http://l.techdays.ru/go/mva">courses</a> <br><ul><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/building-domain-network-fundamentals-part2-rus">Basics of building a domain network.</a>  <a href="http://www.microsoftvirtualacademy.com/training-courses/building-domain-network-fundamentals-part2-rus">Part 2</a> </li><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/modernization-of-infrastructure-with-windows-server-2012-r2-js-rus">Upgrading the organization's infrastructure using Windows Server 2012 R2</a> </li><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/introduction-to-games-programming-on-unity-rus">Unity Game Programming Introduction</a> </li><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/business-and-cloud-best-practices-solutions-rus">Business and the cloud: best practices solutions</a> </li><li>  <b><a href="http://www.microsoftvirtualacademy.com/training-courses/cross-platform-development-with-visual-studio">Cross-Platform Development with Visual Studio</a></b> </li></ul><br></li><li>  <a href="http://technet.microsoft.com/ru-RU/evalcenter/dn205286">Download a</a> trial version of Windows Server 2012 R2 </li><li>  <a href="http://l.techdays.ru/go/getvs">Download</a> free or trial Visual Studio </li></ul></div><p>Source: <a href="https://habr.com/ru/post/243485/">https://habr.com/ru/post/243485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243475/index.html">Exposing Intel Advertising Article</a></li>
<li><a href="../243477/index.html">Service Ahoba.co has become a nominee in the competition "Startup of the Year 2014"!</a></li>
<li><a href="../243479/index.html">Introduction to the component-oriented approach to programming</a></li>
<li><a href="../243481/index.html">Reverse engineering GPS WatchLock lock for personal use</a></li>
<li><a href="../243483/index.html">We write and run ASP.NET vNext applications on Mac</a></li>
<li><a href="../243487/index.html">Installing, configuring and using chkrootkit vulnerability scanner</a></li>
<li><a href="../243489/index.html">How important commercial information flows away. Infographics</a></li>
<li><a href="../243493/index.html">Adora Cheung (part 1): product and honesty curve</a></li>
<li><a href="../243495/index.html">Universe npm</a></li>
<li><a href="../243497/index.html">Computer Science Classic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>