<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cisco Meeting Server 2.4.1. Integration with Cisco Unified Communications Manager 11.5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I work in one large integrator, and it is time for me to understand what CMS (Cisco Meeting Server) is and how to integrate it with CUCM (Cisco Unifie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cisco Meeting Server 2.4.1. Integration with Cisco Unified Communications Manager 11.5</h1><div class="post__text post__text-html js-mediator-article">  I work in one large integrator, and it is time for me to understand what CMS (Cisco Meeting Server) is and how to integrate it with CUCM (Cisco Unified Communications Manager). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/td/yk/ta/tdykta361qhsyebhguenmtnlan4.png"></div><a name="habracut"></a><br>  This post assumes that CMS and CUCM are already deployed in virtual machines. <br><br>  Before setting up, it is recommended to do the following: <br>  In DNS, an entry should be created for the IP address of the CMS server using alias, which we want end users to use, for example: <br><br><pre><code class="plaintext hljs">meetingserver.example.com</code> </pre> <br>  XMPP domain name.  This is the domain name the user will use to sign in to the Cisco Meeting App.  In our case, after importing from Active Directory, this will be the user's <i>sAMAccountName</i> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To support Cisco Meeting App users, a DNS SRV record for the XMPP domain name must be added to the DNS server.  SRV records for _xmpp-client._tcp.  &lt;Xmpp domain&gt; <br>  TCP needs port 5222. <br><br>  Note: you do not need to do this if you only use the desktop application. <br>  SIP domain for meeting server. <br><br>  It is proposed to use a subdomain, such as meet.example.com for example. <br><br><h4>  IP address, mask, gateway, DNS, NTP, new user </h4><br>  The first thing we do is set the IP address of our service we need. <br>  (CMS server has several interfaces, choose the first one - ‚Äúa‚Äù) <br><br><img src="https://habrastorage.org/webt/x0/wi/hp/x0wihpr-uobsat9ajzrn-etkkxk.png"><br><br>  Set the DNS server (s) of the zone of our domain (if needed), with the command ‚Äúdns‚Äù check <br><br><img src="https://habrastorage.org/webt/kn/le/y3/knley3co2j7s3poop8y8hjjpt_a.png"><br><br>  hostname of our CMS and reboot. <br><br><img src="https://habrastorage.org/webt/2j/9_/ag/2j9_agkz8zilrqffflk_6frnwsw.png"><br><br>  <i>For security reasons, it is recommended that you create your own administrator accounts as a username.</i> <i><br><br></i>  <i>"Admin" is not very secure.</i>  <i>In addition, it is recommended that you use two administrator accounts in case you lose the password for one account.</i>  <i>If you do, you can still log in with a different account.</i> <i><br></i>  <i>and reset lost password.</i> <br><br>  Here is the ‚Äúroot‚Äù username, the ‚Äúadmin‚Äù role. <br><br><img src="https://habrastorage.org/webt/bk/ix/gz/bkixgzswkqwyzev-vbipcu_0m08.png"><br><br>  Looking ahead we will create another user with the role of " <i>appadmin</i> ", we will need it in order for CUCM to perform CMS configuration at the application level through the Web Admin interface.  Simply put, to register Conference Bridge. <br><br><img src="https://habrastorage.org/webt/fp/ul/s8/fpuls8egwxkp0atljpp7odncqbw.png"><br><br>  Next we set our NTP server and time zone (in our case Europe / Moscow and reboot <br><br><img src="https://habrastorage.org/webt/hr/i4/na/hri4nahvs1nvyebk9sp_wpkvpuw.png"><br><br><h4>  Certificates and CMS license </h4><br>  Now we need to create a request for issuing a certificate for our CMS server. <br><br>  <i>Cisco Meeting Server uses x.509 certificates to configure secure (TLS) connections in its services and for some authentication tasks.</i>  <i>In our case, a certificate is required for Call Bridge, XMPP, Web Bridge and Web Admin services.</i>  <i>Certificates can be self-signed or signed by internal or external certification authorities.</i> <i><br><br></i>  <i>Using a self-signed certificate is possible, but not recommended, as this will lead to errors on web pages and prevent registration of the so-called Conference Bridge of our CMS server on CUCM (Cisco Unified Communications Manager).</i> <br><br>  So, we form the request: <br><br><pre> <code class="plaintext hljs">pki csr Cert CN:example.com subjectAltName:callbridge.example.com,xmppserver.example.com,webbridge.example.com</code> </pre> <br>  Since  in our case, we use the same certificate for all services in <i>AltName and</i> write the ‚Äúnames‚Äù of these services. <br><br><img src="https://habrastorage.org/webt/hr/qf/qe/hrqfqeptap0mqarz26wyh6yaf3w.png"><br><br>  Download, install and run WinSCP in order to receive the file of our request, and at the same time upload the license file to our CMS server, without which nothing will work for us. <br><br>  To get this license (and a demo license, for example, for 90 days), you need to contact some Cisco partner (for example, the integrator I work for) and tearfully ask for a demo license for teaching or demonstration purposes to sell it later. Well, either buy a full license and attach the MAC address of the interface to the tear letter. <br><br>  To view the MAC address, enter the command " <i>iface a</i> " <br><br><img src="https://habrastorage.org/webt/5e/mz/jf/5emzjf5jjdu8dqeqrrspn1xof8e.png"><br><br>  So let's imagine that we were lucky and we were sent a file with this very license with the .lic extension.  Rename this file as " <i>cms.lic</i> " <br><br>  So, run WinSCP.  Create a connection to the CMS. <br><br><img src="https://habrastorage.org/webt/op/he/0-/ophe0-jyzwdmgleuzo07vh_zoj0.png"><br><br>  Go: <br><br><img src="https://habrastorage.org/webt/oh/g7/1_/ohg71_eaejuko5b_p3rriwa8wj0.png"><br><br>  and copy the file Cert.csr to ourselves, and on the CMS we copy the file cms.lic and cert, which we received. <br><br><img src="https://habrastorage.org/webt/dq/ss/qq/dqssqqtrjn_f7w61_g_dcsnxx_c.png"><br><br>  Since  in my case, to create a certificate chain file that our CMS server will accept (it will not accept a file with p7b extension), do the following: <br><br>  Using the command line: <br><br>  a.  In the UNIX operating system: cat ‚Äúbroker certificate 1‚Äù ‚Äúbroker certificate 2‚Äù ‚Äúbroker certificate 3‚Äù ‚Äúroot certificate‚Äù&gt; ca-bundle <br><br>  b.  On Windows / DOS: copy ‚Äúbroker certificate 1‚Äù + ‚Äúbroker certificate 2‚Äù + ‚Äúbroker certificate 3‚Äù + ‚Äúroot certificate‚Äù ca-bundle <br><br>  And we load it and the received certificate for the CMS server from the certification center also through WinSCP to the CMS server <br><br><img src="https://habrastorage.org/webt/c0/75/sp/c075sprgmx-cceab-ug9dgjttgs.png"><br><br>  Reboot, check licenses <br><br><img src="https://habrastorage.org/webt/kq/fw/rs/kqfwrshpajdg2kzfqsevibsm0qi.png"><br><br><h4>  Call Bridge, Web admin, XMPP, Web Bridge </h4><br><h4>  Call bridge </h4><br><br>  Configure Call Bridge on a interface with the command <br><br><pre> <code class="plaintext hljs">callbridge listen a</code> </pre> <br>  We configure Call Bridge to use a certificate, key and certificate chain with a command like this: <br><br><pre> <code class="plaintext hljs">callbridge certs &lt;keyfile&gt; &lt;certificatefile&gt; &lt;ca bundle&gt;</code> </pre> <br>  Restart callbridge: <br><br><pre> <code class="plaintext hljs">callbridge restart</code> </pre> <br><img src="https://habrastorage.org/webt/49/qf/rr/49qfrrsqgrh6v-f59hkvofphr3g.png"><br><br><h4>  Web admin </h4><br>  Enable the web admin service: <br><br><pre> <code class="plaintext hljs">webadmin listen a 445</code> </pre> <br>  Port 445 is selected because port 443 is used for user access to the web client <br><br>  We configure the Web Admin service with certificate files with a command like this: <br><br><pre> <code class="plaintext hljs">webadmin certs &lt;keyfile&gt; &lt;certificatefile&gt; &lt;ca bundle&gt;</code> </pre> <br>  And we include the Web Admin command: <br><br><pre> <code class="plaintext hljs">webadmin enable</code> </pre> <br><img src="https://habrastorage.org/webt/_h/al/wk/_halwkspiiacjps4urnllvvyxcc.png"><br><br>  If everything is good, then we will get the SUCCESS strings, which indicate that the Web Admin is correctly configured for the network and the certificate.  We check the service via the web browser and enter the web administrator address, for example: <a href="https://cms.example.com/">cms.example.com</a> : 445 <br><br><img src="https://habrastorage.org/webt/eq/7c/ya/eq7cyaqfrlmqnuuylqffcevh45q.png"><br><br><h4>  XMPP </h4><br>  Enable XMPP service <br><br><pre> <code class="plaintext hljs">xmpp listen a</code> </pre> <br>  We configure the XMPP service with certificate files with a command like this: <br><br><pre> <code class="plaintext hljs">xmpp certs &lt;keyfile&gt; &lt;certificatefile&gt; &lt;ca bundle&gt;</code> </pre> <br>  Define an XMPP domain for deployment using a command like this: <br><br><pre> <code class="plaintext hljs">xmpp domain &lt;domain name&gt;</code> </pre> <br>  Turn on the service <br><br><pre> <code class="plaintext hljs">xmpp enable</code> </pre> <br>  Check CMS and CUCM <br><br><img src="https://habrastorage.org/webt/ie/_o/xj/ie_oxjqiamlaadzgxeuoeirznoi.png"><br><br>  Add Call Bridge to XMPP server with a command like this: <br><br><pre> <code class="plaintext hljs">xmpp callbridge add</code> </pre> <br><img src="https://habrastorage.org/webt/br/zy/lg/brzylgzrvpm3d01beaxx9sjtlyk.png"><br><br>  Copy the Secret and paste it here, fill in the rest as well (see figure below) <br><br><img src="https://habrastorage.org/webt/8g/9o/wy/8g9owym4z0gt8gxo-0cj54rohmy.png"><br><br><h4>  Web bridge </h4><br>  Enable the Web Bridge service <br><pre> <code class="plaintext hljs">webbridge listen a:443</code> </pre> <br>  Configure the Web Bridge service with certificate files with a command like this: <br><pre> <code class="plaintext hljs">webbridge certs &lt;keyfile&gt; &lt;certificatefile&gt; &lt;ca bundle&gt;</code> </pre> <br>  Web Bridge supports HTTPS.  It will redirect HTTP to HTTPS if configured to use httpredirect. <br>  To enable HTTP redirection, use the following command: <br><pre> <code class="plaintext hljs">webbridge http-redirect enable</code> </pre> <br>  To make Call Bridge make it clear that Web Bridge can trust connections from Call Bridge, use the command <pre> <code class="plaintext hljs">webbridge trust &lt;certfile&gt;</code> </pre>  using the certificate issued to us earlier by the certification center <br><br><img src="https://habrastorage.org/webt/wi/nu/wz/winuwzyfdqgrmxwpobzgxzhlr2g.png"><br><br><h4>  Setting basic call parameters </h4><br><br>  Go to Configuration&gt; Callsettings and set the values ‚Äã‚Äãas shown below. <br><br><img src="https://habrastorage.org/webt/dn/st/xk/dnstxkku8vkedg0cu5nd1asgq5o.png"><br><br><h4>  Configure incoming call rules </h4><br>  Go to Configuration&gt; Incoming calls and set the values ‚Äã‚Äãas shown below. <br><br><img src="https://habrastorage.org/webt/6x/p5/ey/6xp5ey-qy0dngkazv79gqnod0f0.png"><br><br>  <i>This defines how the CMS handles incoming SIP calls.</i>  <i>Any call routed to the CMS server will have a valid alias, the rules in the call matching table determine where the CMS should look for potential matches.</i>  <i>Each rule can be set to match any combination of users, IVR or MicrosoftSkype / Lync.</i>  <i>Cisco Meeting Server compares incoming calls by checking the value after the ‚Äú@‚Äù symbol with the values ‚Äã‚Äãin the domain column.</i> <br><br><h4>  Setting up outgoing call rules </h4><br>  Go to Configuration&gt; Outbound calls. <br>  <b>Domain name</b> : Leave blank.  Please note that this allows us to match all domains. <br>  <b>SIP Proxy to use</b> : enter the full domain name of our CUCM (you can use the IP address, but we recommend the full domain name) <br>  <b>Local contact domain</b> : Leaving is blank, setting is required here only when SIP Trunk is configured for Skype for Business <br>  <b>Local from domain</b> : Enter the Cisco Meeting Server's SIP domain (for example: cms.example.com) <br>  <b>Trunk type</b> : Standard SIP <br>  <b>Behavior</b> : Continue <br>  <b>Priority</b> : 1 <br>  <b>Encryption</b> : Auto or Unencrypted <br>  Click Add New to save the changes. <br><br><img src="https://habrastorage.org/webt/t7/pi/mp/t7pimpqd2ui2jixpkchmtzhbrqg.png"><br><br><h4>  Create Space </h4><br>  Space is the space where users will be stored <br><br>  Go to Configuration&gt; Spaces <br><br><img src="https://habrastorage.org/webt/p3/8e/xb/p38exbagot_7wy2jokyytblp_tm.png"><br><br>  <i>For a secondary URI, use an E.164 value that will be compatible with your dial-plan, which will be routed to a CMS server.</i>  <i>For CallID, the value can be any number that is not yet used; in this example, for simplicity, the same value is set as for the secondary URI.</i> <br><br><h4>  Configure Web Bridge for Call Bridge </h4><br>  To enable guest access to the Web Bridge, you must configure the Call Bridge to determine the Web Bridge address. <br><br>  Go to Configuration&gt; General <br><br>  We set for the guest account the URL of the HTTPS CMS server.  For example: <br>  <a href="https://meetingserver.example.com/">meetingserver.example.com</a> <br><br><img src="https://habrastorage.org/webt/qp/eb/xn/qpebxnjtlsa9iczkdkpvo5b9zcc.png"><br><br>  The External Access field is used if you decide to add a Cisco Expressway web proxy.  This is the address that is used in invitations for external users. <br><br><h4>  Certificates for CUCM </h4><br>  We also perform a request from CUCM for Tomcat services (this is the CUCM web server) and CallManager <br>  Go to Cisco Unified OS Administration - Security-Certificate Management and click Generate CSR <br><br><img src="https://habrastorage.org/webt/6w/t9/fv/6wt9fv89az0j5hggwooqwouftcs.png"><br><br>  First we select Tomcat for the Web server.  This is so that the error does not occur in the browser. <br><br><img src="https://habrastorage.org/webt/6q/mz/sp/6qmzspskfmv9nzjgbdbxu2x3ywa.png"><br><br>  Click Generate <br><br>  Then CallManager, this is for CMS and CUCM to check each other‚Äôs certificates for registering the conference bridge (Conference Bridge). <br><br><img src="https://habrastorage.org/webt/og/iz/ps/ogizps-4fhhopfuxzixm288-rhq.png"><br><br>  Click Generate <br><br>  Next, load the request files for the certification authority. <br><br><img src="https://habrastorage.org/webt/y1/tw/ni/y1twnidxp-uqhbkwsvjcf5ac5-q.png"><br><br><img src="https://habrastorage.org/webt/nl/yy/0s/nlyy0s6vwjdgcczwfx72qtj6cfo.png"><br><br><img src="https://habrastorage.org/webt/bg/c0/t9/bgc0t9fapy6a30rkowzpwcawyo0.png"><br><br>  Next, we load the root and intermediate certificates into Tomcat trust and CallManager trust, either in one file, as I wrote above, or in turn first root, then intermediate <br><br><img src="https://habrastorage.org/webt/qu/ll/h6/qullh6snhlhctpxbk_skaicehyq.png"><br><br><img src="https://habrastorage.org/webt/yv/ni/pv/yvnipv8iydjtrspd5a_s0orjqzo.png"><br><br><img src="https://habrastorage.org/webt/uq/kc/h1/uqkch1lnenzcjsiojbgiahu0zq4.png"><br><br>  And click Upload <br><br><img src="https://habrastorage.org/webt/ae/l4/8b/ael48bcbbngowcd5nk0lkmtlv1e.png"><br><br><img src="https://habrastorage.org/webt/es/0e/vp/es0evpza0wg36_nrm--mcwbuqt0.png"><br><br>  We also load the received certificates from the certification center, which it formed on the basis of our request. <br><br><img src="https://habrastorage.org/webt/o6/ng/fa/o6ngfank7m7tomkc4_kqrhoydyw.png"><br><br><img src="https://habrastorage.org/webt/qg/tk/2m/qgtk2mjzmfdh-qp8qvymeqykzlk.png"><br><br>  Next, we are going to restart the Cisco Tomcat, Cisco CallManager, and Cisco TFTP services. <br><br>  Cisco Tomcat service is restarted from the console. <br><br><img src="https://habrastorage.org/webt/lc/2i/gc/lc2igcghlttcttztb_-we2qbxvg.png"><br><br>  The rest can also be via a web interface. <br><br><img src="https://habrastorage.org/webt/io/cv/3b/iocv3b0qlyis0ldtzefpsdo1lgo.png"><br><br><img src="https://habrastorage.org/webt/cb/ik/kv/cbikkvhgniuhfq0ncae-xyahrc4.png"><br><br>  Click Restart and wait. <br><br><h4>  SIP trunk security profile </h4><br>  Now we create SIP trunk security profile <br><br>  In our case, the calls will not be encrypted, so choose the values ‚Äã‚Äãthat are listed below and enter the CN of the Call Bridge certificate.  This should be the FQDN of our CMS server. <br><br>  Opposite <b>Accept Replaces Header</b> , check the box if you are going to use group call bridges. <br><br><img src="https://habrastorage.org/webt/wf/ih/ha/wfihhashvltzfpqto7wtnx5hxw0.png"><br><br><h4>  Conference Bridge </h4><br>  Create a Conference Bridge, as indicated below, login and password we score the user with the role of appadmin, which we created at the very beginning. <br><br><img src="https://habrastorage.org/webt/cy/k-/ih/cyk-ihrndyimboyt0wrzzbvzsd8.png"><br><br>  Create a Media Resource Group and add our Conference Bridge to it. <br><br><img src="https://habrastorage.org/webt/el/gr/k-/elgrk--lkkl45fpjkpyycqqd5uc.png"><br><br>  Create a Media Resource Group List and add our Media Resource Group to it. <br><br><img src="https://habrastorage.org/webt/nd/du/7v/nddu7vdrbnqvencdgmx6qbun_wi.png"><br><br>  We go to <b>Standard SIP Profile For TelePresence Conferencing</b> and check whether the checkboxes are opposite: <b>Allow iX Application Media</b> , <b>Use Fully Qualified Domain Name in SIP Requests</b> , and <b>Allow Presentation Sharing use BFCP</b> . <br><br><img src="https://habrastorage.org/webt/db/bn/fv/dbbnfvivqiwwivta5dr6m2omu3u.png"><br><br><img src="https://habrastorage.org/webt/mh/qh/o0/mhqho0vzvkaextlicjneijx5na8.png"><br><br><h4>  Sip trunk </h4><br>  Next, create a SIP Trunk on the CMS server <br><br><img src="https://habrastorage.org/webt/hz/yj/nj/hzyjnjrcqkkmzgqcljwoq9mp8ns.png"><br><br>  In order for the call from the application or Web interface of the CMS server to go through, you need to set the required Calling Search Space, otherwise the CMS will say in the logs that it did not find such a number. The phone number and the telephone itself must be in these Calling Search Spaces. <br><br><img src="https://habrastorage.org/webt/7s/xr/zu/7sxrzuhgdaohlsauxlts2ct9ruw.png"><br><br>  Media Resource Group List - Select what we created earlier. <br><br>  The <b>SRTP Allowed checkbox</b> allows the passage of encrypted calls, in principle, you can not put it. <br><br>  <b>SIP Information&gt; Destination address</b> - Specify the FQDN or IP address of our CMS server. <br>  <b>SIP Information&gt; Destination Port</b> - standard SIP port 5060, 5061 - for encrypted calls <br>  <b>SIP Trunk Security Profile</b> - Select the profile we created earlier. <br>  <b>SIP Profile</b> - Select <b>Standard SIP Profile For TelePresence Conferencing</b> <br>  <b>Normalization Script</b> - Nothing is selected.  The script is not needed in unencrypted calls.  We select <b>cisco-telepresence-conductor-interop</b> only in the case of encryption. <br><br>  The settings highlighted in green must also be chosen wisely / For a complete understanding, look at what <i>Calling Search Space is</i> . <br><br><img src="https://habrastorage.org/webt/iz/ln/o1/izlno1s9iwbdbvx4um4dxncfw_4.png"><br><br>  Everything else is left by default. <br><br><img src="https://habrastorage.org/webt/ag/0e/bd/ag0ebddhz18gsbks7bjpgp54l4q.png"><br><br><h4>  SIP route pattern </h4><br>  Create a SIP route pattern to make calls to sip addresses like zhopin.n@example.com <br><br><img src="https://habrastorage.org/webt/zj/d2/_e/zjd2_e7ekzo17ert2ma8iloiaek.png"><br><br>  Check CMS and CUCM <br><br><img src="https://habrastorage.org/webt/b0/qs/ym/b0qsymrgixcuc4cann_ophb7w7u.png"><br><br>  Trunk climbed <br><br><img src="https://habrastorage.org/webt/im/zu/q8/imzuq8nujsjqqziforfgilsxg0y.png"><br><br>  But Conference Bridge has not risen.  This is because the TLS versions on CUCM and CMS do not match.  This problem is solved by installing the minimum version of TLS 1.0 on the CMS server with the commands: <br><br><pre> <code class="plaintext hljs">tls webadmin min-tls-version 1.0 webadmin restart</code> </pre> <br><img src="https://habrastorage.org/webt/cz/qq/ss/czqqss5mrn_o73uprsbkbol5j2e.png"><br><br>  Checking the Conference Bridge <br><br><img src="https://habrastorage.org/webt/bb/pm/nm/bbpmnm7jay1plgukgjknaqqwyaa.png"><br><br>  <i>Our configuration was performed on trunks without Media Termination Point (MTP).</i> <i><br></i>  <i>Disable MTP if it does not adversely affect the operation of services.</i> <i><br><br></i>  <i>Disabling MTP can have a negative impact if you use telephones that use the SCCP protocol and you need to send DTMF to a CMS server.</i> <i><br><br></i>  <i>If the above matters to your services, you may need to increase the MTP capacity on Cisco Unified Communications Manager depending on the number of simultaneous calls.</i> <br><br><h4>  Import Users from Active Directory </h4><br>  Now import users from Active Directory. <br><br>  We go as in the figure below, score values. <br><br>  The filter is very important, set the same as mine, or those which please your soul. <br><br><img src="https://habrastorage.org/webt/o6/t3/9p/o6t39pht7x7putzhhzaqp2yph-a.png"><br><br>  Checking logs <br><br><img src="https://habrastorage.org/webt/aa/tn/pq/aatnpqa_vcdhepr857ffivydav4.png"><br><br>  All is well. <br><br>  We go in users <br><br><img src="https://habrastorage.org/webt/lz/un/ve/lzunvecyvsyypm7l_oh5uqwsmo4.png"><br><br>  Everything is fine imported. <br><br><h4>  Health check </h4><br>  Now the sweetest.  Go to the web-interface to call at cms.example.com <br>  Enter user login / password from Active Directory <br><br><img src="https://habrastorage.org/webt/p0/zo/mk/p0zomkpuvbltyjcmgmqyigbfrng.png"><br><br>  Logged in <br><br><img src="https://habrastorage.org/webt/lu/bh/7g/lubh7gisa8rzzyttaev4yhr8pxa.png"><br><br>  Let's check the video call from the IP background (I have a Cisco E20) on our account. <br><br>  I am running both a Web and a desktop version of a Cisco Meeting client, and both are ringing <br><br><img src="https://habrastorage.org/webt/ci/ns/yp/cinsypvnl90sqps7vshipwv-cee.png"><br><br><img src="https://habrastorage.org/webt/mh/dy/5-/mhdy5-mqgzteuy7dta1qtyhdhly.jpeg"><br><br><img src="https://habrastorage.org/webt/io/bl/3n/iobl3nwie_kwawpbszkljae3d28.png"><br><br><img src="https://habrastorage.org/webt/za/ti/rk/zatirkcuj2w3at0qqwdbia6fijy.jpeg"><br><br>  Check the video call from our account on the IP-background. <br><br><img src="https://habrastorage.org/webt/xx/a_/5a/xxa_5aexobaafqvajq7sqxrlhow.png"><br><br><img src="https://habrastorage.org/webt/oi/rf/t2/oirft2qwx9vqkoucamkyfcotmic.jpeg"><br><br>  Everything is great, the video call in both directions is over. <br><br>  With encrypted calls a little more difficult, but more on that some other time. <br><br>  Links to materials: <br><br><ul><li>  <a href="https://www.cisco.com/c/dam/en/us/td/docs/conferencing/ciscoMeetingServer/Deployment_Guide/Version-2-3/Cisco-Meeting-Server-Single-Server-Simplified-Setup-Guide.pdf">www.cisco.com/c/dam/en/us/td/docs/conferencing/ciscoMeetingServer/Deployment_Guide/Version-2-3/Cisco-Meeting-Server-Single-Server-Simplified-Setup-Guide.pdf</a> </li><li>  <a href="https://www.cisco.com/c/dam/en/us/td/docs/conferencing/ciscoMeetingServer/Deployment_Guide/Version-2-4/Cisco-Meeting-Server-2-4-Deployments-with-CUCM.pdf">www.cisco.com/c/dam/en/us/td/docs/conferencing/ciscoMeetingServer/Deployment_Guide/Version-2-4/Cisco-Meeting-Server-2-4-Deployments-with-CUCM.pdf</a> </li><li>  <a href="https://www.cisco.com/c/dam/en/us/td/docs/conferencing/ciscoMeetingServer/Reference_Guides/Version-2-3/Cisco-Meeting-Server-MMP-Command-Reference-2-3.pdf">www.cisco.com/c/dam/en/us/td/docs/conferencing/ciscoMeetingServer/Reference_Guides/Version-2-3/Cisco-Meeting-Server-MMP-Command-Reference-2-3.pdf</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/433528/">https://habr.com/ru/post/433528/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433516/index.html">How paid CMS helps save on ordering SEO</a></li>
<li><a href="../433520/index.html">New legislative initiatives to protect information</a></li>
<li><a href="../433522/index.html">IT digest of December events (part two)</a></li>
<li><a href="../433524/index.html">Today MIPS has become Open Source, against RISC-V and ARM. How Russia has influenced the strategy of the American processor company</a></li>
<li><a href="../433526/index.html">We are not offended</a></li>
<li><a href="../433530/index.html">I and the code: how to become a popular programmer</a></li>
<li><a href="../433532/index.html">What does YouTube mean</a></li>
<li><a href="../433534/index.html">The book "How is Python. Guide for developers, programmers and interested ¬ª</a></li>
<li><a href="../433536/index.html">How much do IT shniki earn in Germany</a></li>
<li><a href="../433538/index.html">We protect the web application: how to close it from third-party intervention</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>