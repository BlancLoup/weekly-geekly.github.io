<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Programmable chips help Microsoft optimize the performance of its cloud services.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prototype board for Project Catapult (Source: Clayton Cotterell for Wired) 

 Microsoft has announced a major upgrade of its data center equipment wor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Programmable chips help Microsoft optimize the performance of its cloud services.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/82c/328/456/82c328456ff5f91dfa22bd8415bad078.jpg"><br>  <font color="grey">Prototype board for Project Catapult (Source: Clayton Cotterell for Wired)</font> <br><br>  Microsoft has announced a major upgrade of its data center equipment worldwide.  This is, first of all, about the DC, which provide the Azure cloud service.  New equipment is typical for data centers, with the exception of chips.  These are reprogrammable arrays of logic elements (field-programmable gate array, FPGA).  The FPGAs themselves are not new, but using them in data centers is a new idea from Microsoft.  According to experts of the corporation, programmable chips will provide hardware acceleration for the implementation of various software algorithms. <br><br>  Initially, with the help of FPGA, the corporation planned to optimize the performance of its search service Bing.  The company developed and began to implement the first phase of the project called <a href="https://www.microsoft.com/en-us/research/project/project-catapult/">Project Catapult</a> .  As part of this project, Altera's PCI cards (now the owner of Altera is Intel) have added FPGAs to some of the servers responsible for running Bing.  According to the authors of the project, this should have improved the performance of the search algorithm ranking algorithm.  As it turned out, this assumption was true.  Modified servers showed significant performance gains compared to servers, the hardware of which has not been modified. <br><a name="habracut"></a><br>  It <a href="http://arstechnica.com/information-technology/2016/09/programmable-chips-turning-azure-into-a-supercomputing-powerhouse/">was</a> further <a href="http://arstechnica.com/information-technology/2016/09/programmable-chips-turning-azure-into-a-supercomputing-powerhouse/">proposed to</a> develop specialized integrated circuits, the principle of which would be equivalent to FPGA.  Microsoft has already developed such chips for their <a href="https://geektimes.ru/post/271858/">Hololens</a> video <a href="https://geektimes.ru/post/271858/">glasses</a> .  This has significantly reduced the power consumption of the device and improve its performance.  As it turned out, this method is not suitable for the Bing team.  The fact is that the search algorithms of the service change very often.  And if we start developing chips adapted for one algorithm, then while these chips are manufactured and brought in, the search algorithms will change.  This means that the chips will become useless (a typical example of hardware lock). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But, since the pilot project was, in general, successful, the FPGA decided to use the equipment that provided the work of other services of the company.  For example, <a href="https://azure.microsoft.com/ru-ru/">Azure</a> and Office 365. In this case, specialized chips could be developed without fear of obsolescence in just a couple of weeks.  The main problem for Azure is not the algorithms at all, but the increasing network bandwidth requirements. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/c51/4d2/801/c514d280134db3957d6f2d958794e77b.jpg"></div><br>  <font color="grey">Altera Stratix V board. Microsoft uses similar boards in its Project Catapult project</font> <br><br>  There are a huge number of virtual machines running in Azure.  They are hosted on a limited number of physical servers.  In the company's data centers, Hyper-V hypervisor is used for virtualization.  Each virtual machine has one or more network adapters through which these machines receive and send network traffic.  The hypervisor manages the physical network equipment connected to the Azure network infrastructure.  The redirection of traffic from virtual equipment to real and reverse, while maintaining the load balance of equipment, managing the routing of traffic requires the allocation of significant resources. <br><br>  Microsoft employees have proposed adding FPGA to PCIe.  The FPGA boards, according to experts, had to work directly with the Azure network infrastructure, allowing the network servers to directly send and receive traffic without routing it across the main system‚Äôs network interface. <br><br>  It was decided to directly connect the PCIe interface to the virtual machines, which shortened the path for network traffic.  Result?  Azure virtual machines now work with a network infrastructure performance of 25 Gbps and a delay of only 100 milliseconds.  And this was achieved without the use of server processors. <br><br>  The same problem can be solved using modern network cards, which in the same way can work directly with virtual machines, bypassing the host.  But in this case there are limitations.  For example, each card can work simultaneously with only 4 virtual machines.  The flexibility that FPGA provides is not here.  With FPGA, Microsoft can work more actively, programming chips according to current needs.  As a result, increases the overall performance of the data center and reduces the load on the equipment.  All instructions are written directly to the chip.  If you use network cards, in this case, the host processor is still involved, which is responsible for executing instructions. <br><br>  After the test launch of such a system, the company was convinced of its effectiveness and decided to deploy in all of its data centers, ensuring the operation of Azure.  This week, the corporation demonstrated the performance of its system at the Ignite conference.  A corporate employee <a href="http://www.pcworld.com/article/3124486/hardware/microsofts-fpga-powered-supercomputer-can-translate-wikipedia-faster-than-you-can-blink.html">showed a</a> simultaneous translation process of 3 billion words from the English Wikipedia involving thousands of FPGAs.  Data was processed in just a tenth of a second.  The system performance in this case reached 10 <sub>18</sub> operations per second. </div><p>Source: <a href="https://habr.com/ru/post/397969/">https://habr.com/ru/post/397969/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../397959/index.html">Google Translate translator connected to the neural network</a></li>
<li><a href="../397961/index.html">The Ministry of Culture proposes to fine users for illegal content download. Ministry of Communications opposes</a></li>
<li><a href="../397963/index.html">New IBM servers are designed to work with artificial intelligence and deep learning technologies.</a></li>
<li><a href="../397965/index.html">How the Universe will die</a></li>
<li><a href="../397967/index.html">HyperX on "Igromir": tons of prizes and quest in Telegram</a></li>
<li><a href="../397971/index.html">Donkey Kong and I</a></li>
<li><a href="../397975/index.html">Ultra-budget spot welding of lithium batteries at home</a></li>
<li><a href="../397977/index.html">We connect the "domestic" LCD 16x2 MT-16S2S by SPI</a></li>
<li><a href="../397979/index.html">This is not a race, this is an ultramarathon: the spread of cryptotechnologies</a></li>
<li><a href="../397981/index.html">Apple Pay launch in Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>