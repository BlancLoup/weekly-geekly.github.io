<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The history of gaming analytics platforms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Since the release of the Dreamcast console and the emergence of a modem adapter, game developers have been able to collect data from players about the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The history of gaming analytics platforms</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f19/2cd/5d9/f192cd5d9cec65cb6f68013ca4575992.png" alt="image"></div><br>  Since the release of the Dreamcast console and the emergence of a modem adapter, game developers have been able to collect data from players about their behavior in their natural habitat.  In fact, the story of game analytics began with old PC games like EverQuest, released in 1999.  Game servers were needed to authorize users and fill worlds, but at the same time provided the ability to record data about the game process. <br><br>  Since 1999, the situation with the collection and analysis of data has changed significantly.  Instead of storing data locally in the form of log files, modern systems can track actions and apply machine learning in near real time.  I will talk about the four stages of gaming analytics development, which I identified during my time in the gaming industry: <br><br><ol><li>  <strong>Regular files:</strong> data is stored locally on game servers </li><li>  <strong>Databases:</strong> Data is obtained as simple files and loaded into a database. </li><li>  <strong>Data Lakes:</strong> Data is stored in Hadoop / S3 and then loaded into the database. </li><li>  <strong>Serverless stage:</strong> managed services are used to store and execute queries </li></ol><br>  Each of these stages of evolution supported an increasing amount of data collected and reduced the delay between data collection and analysis.  In this post, I will present examples of systems from each of these eras and talk about the pros and cons of each approach. <br><a name="habracut"></a><br>  Game analytics began to gain momentum from about 2009.  Georg Zoeller from Bioware has created a system for collecting game telemetry in the game development process.  He introduced this system at <a href="http://www.gdcvault.com/play/1012227/Development-Telemetry-in-Video-Games">GDC 2010</a> .  Shortly thereafter, Electronic Arts began collecting data from games after development to track the behavior of real players.  In addition, scientific interest in the use of analytics in gaming telemetry has steadily increased.  Researchers in this field, such as Ben Medler, have <a href="http://www.eludamos.org/eludamos/index.php/eludamos/article/view/vol3no2-4/127">suggested</a> using game analytics to personalize the gameplay. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Although over the past two decades there has been a general evolution of gameplay analytics pipelines, there is no clear distinction between different eras.  Some game teams still use systems from earlier eras, and maybe they are better suited for their purposes.  In addition, there are a large number of ready-made game analytics systems, but we will not consider them in this post.  I will talk about the teams of game developers who collect telemetry and use their own data pipeline for this. <br><br><h2>  The era of simple files </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d1/113/d2e/7d1113d2e879ca1b39cb7a9e3dda10f9.png"></div><br>  <i>Components of analytics architecture before the database era</i> <br><br>  I started playing game analytics at Electronic Arts in 2010, even before EA created an organization to work with this data.  Although many game companies have already collected huge amounts of gameplay data, most telemetry was stored in the form of log files or other simple file formats stored locally on game servers.  No data could not be directly queried, and the calculation of the main metrics, for example, the number of monthly active users (MAU) required considerable effort. <br><br>  Electronic Arts has built a replay function into Madden NFL 11, providing an unexpected source of gaming telemetry.  After each match, a game report was transmitted to the game server in XML format, which listed the strategies of the game, the movements made during the game, and the results of the downs.  As a result, there were millions of files that could be analyzed to learn more about the interaction of players with Madden in their natural habitat.  Passing an internship at EA in the fall of 2010, I created a <a href="https://www.aaai.org/ocs/index.php/IAAI/IAAI-11/paper/view/3526" rel="noopener">regression model</a> that analyzed the functions that most strongly influenced the retention of users' interest in the game. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/275/569/65d/27556965d32f8d685f49a59dee9b749d.png"></div><br>  <i>The effect of winning ratio on retaining players in Madden NFL 11 based on preferred game mode.</i> <br><br>  About ten years before my internship at EA, Sony Online Entertainment had already used game analytics, collecting gameplay data using log files stored on servers.  These data sets were used for analysis and modeling only a few years later, but, nevertheless, they were among the first examples of game analytics.  Researchers such as Dimitri Williams and Nick I <a href="https://academic.oup.com/jcmc/article/13/4/993/4583542" rel="noopener">published papers</a> based on the analyzed data from the EverQuest franchise. <br><br>  Local data storage is without a doubt the simplest approach to collecting gameplay data.  For example, I wrote a tutorial on using PHP to save data generated by <a href="https://www.gamasutra.com/blogs/BenWeber/20131228/207819/Adding_Telemetry_to_Infinite_Mario.php" rel="noopener">Infinite Mario</a> .  But this approach has significant drawbacks.  Here is a list of compromises that have to be made with this approach: <br><br>  <strong>pros</strong> <br><br>  - Simplicity: save any data we need in any desired format. <br><br>  <strong>Minuses</strong> <br><br>  - No fault tolerance. <br><br>  - Data is not stored in the central repository. <br><br>  - High latency data access. <br><br>  - Lack of standard tools or ecosystem for analysis. <br><br>  Regular files are fine if you have only a few servers, but in fact this approach is not an analytics pipeline, if you do not move the files to the central repository.  Working in EA, I wrote a script to transfer XML files from dozens of servers to a single server that parsed files and saved game events in the Postgres database.  This meant that we could perform an analysis of Madden gameplay, but the data set was incomplete and had significant delays.  This system was the forerunner of the next era of gaming analytics. <br><br>  Another approach that was used in that era was website scraping to collect gameplay data, followed by analysis.  During my post-graduate research, I scrapped websites like TeamLiquid and GosuGamers to create a set of replay data for professional StarCraft players.  Then I created a predictive model to <a href="https://towardsdatascience.com/reproducible-research-starcraft-mining-ea140d6789b9" rel="noopener">determine the order of construction</a> .  Other examples of analytic projects from that era were scraping websites like <a href="https://eis-blog.soe.ucsc.edu/2010/03/wow-armory-data-mining-the-next-generation/" rel="noopener">WoW Armory</a> .  A more modern example is <a href="https://steamspy.com/" rel="noopener">SteamSpy</a> . <br><br><h4>  Database era </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/832/0d1/785/8320d17851bf976953f1c6e9b806f1fd.png"></div><br>  <i>ETL-based analytic architecture components</i> <br><br>  The convenience of collecting game telemetry in the central repository became apparent around 2010, and many game companies began to store telemetry in databases.  Many different approaches were used to transfer event data to a database that analysts could use. <br><br>  When I worked at Sony Online Entertainment, we had game servers that saved event files to a central file server every couple of minutes.  The file server then ran an ETL process about once an hour, which quickly loaded these event files into an analytical database (at the time, it was Vertica).  This process had a reasonable delay, about an hour from the moment the game client transmitted the event to the ability to query our analytical database.  In addition, it was scaled to large amounts of data, but at the same time the event data had to have a fixed scheme. <br><br>  Working in Twitch, we used a similar process for one of our analytical databases.  The main difference from Sony‚Äôs solution was that instead of transferring scp files from game servers to a central repository, we used <a href="https://aws.amazon.com/kinesis/" rel="noopener">Amazon Kinesis</a> to stream events from servers to the S3 indexing area.  We then used the ETL process to quickly load data into Redshift for analysis.  Since then, Twitch has moved on to a ‚Äúdata lake‚Äù system (data lake) in order to be able to scale for large amounts of data and provide various options for executing data set queries. <br><br>  The databases used by Sony and Twitch are extremely valuable for both companies, but when we increase the scale of the stored data, we began to have problems.  When we began to collect more detailed information about the gameplay, we could no longer store the full history of events in the tables and we had to cut the data stored for more than a few months.  This is normal if you can create summary tables containing the most important details of these events, but this situation is not ideal. <br><br>  One of the problems with this approach was that the staging server becomes the main point of failure.  It is also possible the emergence of "bottlenecks" when one game sends too many events, which leads to the loss of events of all games.  Another problem is the speed with which queries are executed as the number of analysts working with the database increases.  A team of several analysts working on several months of gameplay data copes with the work, but after years of data collection and an increase in the number of analysts, the speed of query execution can become a serious problem, due to which several queries take several hours to complete. <br><br>  <strong>pros</strong> <br><br>  - All data is stored in one place and access to it is possible through SQL queries. <br><br>  - There is a good toolkit, for example, Tableau and DataGrip. <br><br>  <strong>Minuses</strong> <br><br>  - Storing all data in a database like Vertica or Redshift is expensive. <br><br>  - Events must have a permanent scheme. <br><br>  - May need to truncate tables. <br><br>  Another problem with using the database as the main interface of the gameplay data is that it is impossible to effectively use machine learning tools, such as MLlib Spark, because you need to unload all relevant data from the database.  One way to overcome this limitation is to store gameplay data in a format and storage layer that works well with Big Data tools, for example, save events as Parquet files in S3.  This type of configuration became popular in the next era.  It eliminated the need to truncate the tables and reduced the cost of storing all the data. <br><br><h4>  The era of data lakes </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a80/943/5f5/a809435f5681a343ddd8480a3761d79f.png"></div><br>  <i>Components of Data Lake Analytical Architecture</i> <br><br>  The most popular data storage pattern during my work as a data analyst in the gaming industry was the data lake pattern.  A common pattern is to store semi-structured data in a distributed database and to execute an ETL processor to retrieve the most important data into analytical databases.  For a distributed database, you can use many different tools: in Electronic Arts we used Hadoop, in Microsoft Studios - Cosmos, and in Twitch - S3. <br><br>  This approach allows teams to scale to huge amounts of data, and also provides additional protection against failures.  Its main disadvantage is that it increases the complexity and may lead analysts to have access to less data than the traditional approach to databases, due to lack of tools or access policies.  Most analysts will interact with the data in this model in the same way, using an analytical database populated from the ETL data lake. <br><br>  One of the advantages of this approach is that it supports many different event schemes, and it is possible to change the attributes of an event without affecting the analytical database.  Another advantage is that analyst teams can use tools such as Spark SQL to work directly with the data lake.  However, in most of my workplaces, access to the data lake was limited, which prevented the use of most of the advantages of this model. <br><br>  <strong>pros</strong> <br><br>  - Scalability to huge amounts of data. <br><br>  - Support for flexible event schemes. <br><br>  - Costly requests can be transferred to the data lake. <br><br>  <strong>Minuses</strong> <br><br>  - Significant costs at work. <br><br>  - ETL processes can create significant delays. <br><br>  - In some lakes there is a lack of complete toolkit. <br><br>  The main disadvantage of data lakes is that usually a whole team is required to operate the system.  It makes sense for large organizations, but for small companies it can be a brute force.  One of the ways to use the advantages of data lakes without the cost of costs - the use of remote management services (managed services). <br><br><h4>  Serverless era </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f19/2cd/5d9/f192cd5d9cec65cb6f68013ca4575992.png"></div><br>  <i>Components of a Managed Analytic Architecture (GCP)</i> <br><br>  In the current era, a variety of network management services are used on gaming analytics platforms, allowing teams to work with data in near real-time, scale systems if necessary, and reduce server support costs.  I did not have to work in this era when I was in the gaming industry, but I saw signs of such a transition.  Riot Games uses <a href="https://www.slideshare.net/SparkSummit/video-games-at-scale-improving-the-gaming-experience-with-apache-spark" rel="noopener">Spark</a> for ETL and machine learning processes, so it needed the ability to scale the infrastructure on demand.  Some game teams use adaptive methods for game services, so it is logical to apply this approach to analytics. <br><br>  After GDC 2018, I decided to try to build a sample pipeline.  In my current job, I used the Google Cloud Platform, and it seems that it has good tools for a managed data lake and query execution environment.  The result turned into <a href="https://towardsdatascience.com/a-simple-and-scalable-analytics-pipeline-53720b1dbd35" rel="noopener">this tutorial</a> , in which DataFlow is used to build a scalable pipeline. <br><br>  <strong>pros</strong> <br><br>  - Same benefits as using lake data. <br><br>  - Automatic scaling based on storage and query needs. <br><br>  - Minimum costs for work. <br><br>  <strong>Minuses</strong> <br><br>  - Remote management services can be expensive. <br><br>  - Many services are tied to the platform and porting them may not be possible. <br><br>  In my career, I achieved the greatest success, working with the database era approach, because it gave the analyst team access to all the important data.  However, such a scheme cannot continue to scale, and most teams have since switched to environments with data lakes.  For a data lake environment to succeed, teams of analysts must have access to the underlying data and have ready tools to support their workflows.  If I were building a pipeline today, I would definitely start with serverless approach. <br><br><hr><br>  <a href="https://www.linkedin.com/in/ben-weber-3b87482/" rel="noopener nofollow noopener noopener noopener noopener noopener">Ben Weber</a> is the leading data analyst at <a href="https://angel.co/windfall-data" rel="noopener nofollow noopener noopener noopener noopener noopener">Windfall Data</a> , creating the most accurate and comprehensive model of net worth. </div><p>Source: <a href="https://habr.com/ru/post/353236/">https://habr.com/ru/post/353236/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353226/index.html">Fourth: Redmadrobot developers winter internship</a></li>
<li><a href="../353228/index.html">Startup day (January-March 2018)</a></li>
<li><a href="../353230/index.html">From JavaScript to Rust and back: the story about wasm-bindgen</a></li>
<li><a href="../353232/index.html">Generation of site pages by means of service workers</a></li>
<li><a href="../353234/index.html">Flask Mega-Tutorial, Part XIX: Deploying Based on Docker Containers</a></li>
<li><a href="../353238/index.html">Docker. Start</a></li>
<li><a href="../353246/index.html">We invite you to a lecture evening on game design on April 18th at VSBI</a></li>
<li><a href="../353248/index.html">Reachability of the lower limit of the execution time of a commit distributed fault-tolerant transactions</a></li>
<li><a href="../353250/index.html">Dofoil Hunt with Windows Defender ATP</a></li>
<li><a href="../353252/index.html">Manage copying Active Directory attributes when duplicating user accounts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>