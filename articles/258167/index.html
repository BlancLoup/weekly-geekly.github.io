<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Own context menu using JavaScript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Web applications are now becoming a new step in the development of the web. This is not ordinary information sites. Examples of advanced web applicati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Own context menu using JavaScript</h1><div class="post__text post__text-html js-mediator-article">  Web applications are now becoming a new step in the development of the web.  This is not ordinary information sites.  Examples of advanced web applications include Gmail and Dropbox.  With the growth of functionality, availability and usefulness of web applications, the need to increase the efficiency of their use grows.  This guide will cover the creation of such a useful thing as your own context menu, and in particular: <br><ol><li>  We will understand what the context menu is and why it is needed. </li><li>  We implement our context menu using JS and CSS. </li><li>  We will touch upon the shortcomings and limitations of the approach used, in order to know what problems may caution us when rolling out all this into production. </li></ol><br><a name="habracut"></a><br><h2>  What is the context menu? </h2><br>  According to <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D1%2582%25D0%25B5%25D0%25BA%25D1%2581%25D1%2582%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BC%25D0%25B5%25D0%25BD%25D1%258E">Wikipedia</a> , the context menu is the menu that appears when the user interacts with the graphical user interface (by pressing the right mouse button).  The context menu contains a limited set of possible actions, which are usually associated with the selected object. <br><br>  On your computer, right-clicking on the desktop will bring up the context menu of the operating system.  From here you can probably create a new folder, get some information and do something else.  The context menu in the browser allows, for example, to get information about the page, view its source, save the image, open the link in a new tab, work with the clipboard and all that.  Moreover, the set of available actions depends on where you clicked, that is, on the context.  This is the standard behavior laid by browser developers [ <i>and extensions to it</i> ]. <br><br>  Web applications are gradually beginning to replace the standard context menus with their own.  Excellent examples are all the same Gmail and Dropbox.  The only question is how to make your context menu?  In the browser, when you click the right mouse button, the contextmenu event fires.  We will have to cancel the default behavior and make it so that instead of the standard menu we display our own.  It is not so difficult, but we will understand step by step, so it will be quite volume.  To begin with, we will create the basic structure of the application so that the example being developed is not completely divorced from reality. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Task list </h2><br>  Imagine that we are creating an application that allows you to maintain a list of tasks.  I understand, you are probably incredibly tired of all these task lists, but let it be.  The application page contains a list of unfinished tasks.  For each task, a typical set of CRUD actions is available: get information about the task, add a new one, edit it, delete it. <br><br>  An example of the result is on <a href="http://codepen.io/SitePoint/pen/MYLoWY">CodePen</a> .  You can look there immediately, if you are too lazy to read or want to make sure that you are really interested in further reading.  In the meantime, proceed to the step by step development of the plan.  I will use some modern CSS features and create a simple task list on data attributes.  I will also use the <a href="http://meyerweb.com/eric/tools/css/reset/">reset of styles from Eric Meyer</a> and <a href="http://meyerweb.com/eric/tools/css/reset/">reset the</a> box-sizing property for all elements in the border-box: <br><pre><code class="css hljs">*, *<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::before</span></span>, *<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::after</span></span> {   <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; }</code> </pre> <br>  I will not use prefixes in CSS, but an auto-prefixer is included in the demo on CodePen. <br><br><h2>  Creating a basic structure </h2><br>  Open our HTML-document, distribute the header, the content part with a certain list of tasks and the basement.  I will also pull up Font Awesome and Roboto to make the layout a little better.  Each task must contain the data-id attribute, which in reality would be taken from the database.  Also, each task will contain a list of actions.  Here are the important parts of the markup: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tasks"</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"task"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"task__content"</span></span></span><span class="hljs-tag">&gt;</span></span>        Go To Grocery      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"task__actions"</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-eye"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-edit"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-times"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-comment"><span class="hljs-comment">&lt;!-- more task items here... --&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  If you are using CodePen, you can enable the autoprefixer and the CSS reset connection in the settings.  Otherwise, you have to do everything by hand, if you have not yet automated this process.  Do not forget that our goal is to create a context menu, so action processing will not be implemented.  And now let's add some more CSS: <br><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/* tasks */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tasks</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">list-style</span></span>: none;  <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.task</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: flex;  <span class="hljs-attribute"><span class="hljs-attribute">justify-content</span></span>: space-between;  <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">12px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">border-bottom</span></span>: solid <span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">#dfdfdf</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.task</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:last-child</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">border-bottom</span></span>: none; }</code> </pre><br>  A complete set of styles (and everything else) is presented at CodePen.  And here are the most important parts of the code, markup and design.  But let's finally get closer to our context menu. <br><br><h2>  Outline our context menu - markup. </h2><br>  The basis of our menu is the same as that of any other menu - an unordered list nested in the nav tag.  Each action will be represented as a list item with a link.  Each link is responsible for a specific action.  As I mentioned earlier, we need three actions in the context menu: <br><ol><li>  View task. </li><li>  Editing a task. </li><li>  Delete a task. </li></ol><br>  Throw markup: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__items"</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__item"</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__link"</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-eye"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> View Task      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__item"</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__link"</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-edit"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> Edit Task      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__item"</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__link"</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-times"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> Delete Task      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  If you have no idea where to put this markup, place it in front of the closing body tag.  Before turning to CSS, let's clarify a couple of points: <br><ol><li>  We want the context menu to appear where the right click was executed, that is, it needs absolute positioning.  Therefore, it is not necessary to place its markup in a container with relative positioning. </li><li>  We will need some variables or attributes so that we can determine which task the selected action belongs to. </li></ol><br>  And now the styles. <br><br><h2>  Putting our menu in order - CSS </h2><br>  The need for absolute positioning of the menu under development has already been mentioned.  In addition, set the z-index property to 10. Do not forget that your application may require a different value.  These are not all possible styles, other beautiful things are brought in the demo, but they already depend on your needs and are not mandatory.  Before moving on to JS, we‚Äôll make the menu invisible by default and add an extra class to display it. <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.context-menu</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: none;  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute;  <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.context-menu--active</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block; }</code> </pre><br><h2>  Expand our context menu - JavaScript </h2><br>  Let's start by looking at how to register a contextmenu event.  Open the self-executing function and catch the event on the entire document.  We will also log an event in the console to get some information: <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>;  <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"contextmenu"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(e);  }); })();</code> </pre><br>  If you open the console and click somewhere with the right mouse button, you will see that the event is actually displayed there.  There are a lot of different information that we can use.  We are especially interested in coordinates.  Before canceling the default behavior, let's take into account that this should not be done on the entire document, but only on the elements of the task list.  With this in mind, you will need to perform the following steps: <br><ol><li>  You will need to loop through all the items in the task list and add a contextmenu event handler to each of them. </li><li>  For each handler, cancel the default behavior. </li><li>  We will log the event and the item to which it belongs to the console. </li></ol><br>  In general, we do something like this: <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> taskItems = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".task"</span></span>);  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = taskItems.length; i &lt; len; i++ ) {    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> taskItem = taskItems[i];    contextMenuListener(taskItem);  }  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextMenuListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function">) </span></span>{    el.addEventListener( <span class="hljs-string"><span class="hljs-string">"contextmenu"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{      <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(e, el);    });  } })();</code> </pre><br>  If you look at the console, you can see that a unique event is triggered with each click on an item from the task list.  Now, in addition to canceling the default behavior, we implement the display of the context menu by adding an auxiliary class to it. <br><br>  But first, let's add an ID to the menu to make it easier to get through JS.  Also add a menuState and menu state variable and a variable with the active class.  Three variables turned out: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">"#context-menu"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuState = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> active = <span class="hljs-string"><span class="hljs-string">"context-menu--active"</span></span>;</code> </pre><br>  We go further.  Let's review the contextMenuListener function and add toggleMenuOn, which displays the menu: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextMenuListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function">) </span></span>{  el.addEventListener( <span class="hljs-string"><span class="hljs-string">"contextmenu"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    e.preventDefault();    toggleMenuOn();  }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggleMenuOn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( menuState !== <span class="hljs-number"><span class="hljs-number">1</span></span> ) {    menuState = <span class="hljs-number"><span class="hljs-number">1</span></span>;    menu.classList.add(active);  } }</code> </pre><br>  At the moment, the right mouse button you can already call our context menu.  But it cannot be said that it works correctly.  Firstly, it is not at all where we would like.  To solve the problem will need a little math.  Secondly, it is not yet possible to close this menu.  Taking into account how ordinary context menus work, I would like our implementation to close when you click a menu and press Escape.  In addition, when right clicked outside our menu, it should close, and instead, the default menu should be opened.  Let's try to solve it all. <br><br><h2>  Refactoring our code </h2><br>  It is obvious that for all actions there will be three main events: <br><ol><li>  contextmenu - Checking the status and opening the context menu. </li><li>  click - Hide menu. </li><li>  keyup - Handling keystrokes.  In this manual, only ESC is interesting. </li></ol><br>  We will also need some auxiliary functions, so we‚Äôll add a section for them to the code.  Thus we have: <br><div class="spoiler">  <b class="spoiler_title">Lot of code</b> <div class="spoiler_text"><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>;  <span class="hljs-comment"><span class="hljs-comment">///////////////////////////////////////  ///////////////////////////////////////  //  // HELPER   FUNCTIONS  //    //  ///////////////////////////////////////  ///////////////////////////////////////  /**   * Some helper functions here.   *    .   */  ///////////////////////////////////////  ///////////////////////////////////////  //  // CORE   FUNCTIONS  //    //  ///////////////////////////////////////  ///////////////////////////////////////  /**   * Variables.   * .   */  var taskItemClassName = 'task';  var menu = document.querySelector("#context-menu");  var menuState = 0;  var activeClassName = "context-menu--active";  /**   * Initialise our application's code.   *    .   */  function init() {    contextListener();    clickListener();    keyupListener();  }  /**   * Listens for contextmenu events.   *   contextmenu.   */  function contextListener() {  }  /**   * Listens for click events.   *   click.   */  function clickListener() {  }  /**   * Listens for keyup events.   *   keyup.   */  function keyupListener() {  }  /**   * Turns the custom context menu on.   *   .   */  function toggleMenuOn() {    if ( menuState !== 1 ) {      menuState = 1;      menu.classList.add(activeClassName);    }  }  /**   * Run the app.   *  .   */  init(); })();</span></span></code> </pre></div></div><br>  Now we do not iterate over the list items.  Instead, we will handle the contextmenu event throughout the document, checking whether it is one of the tasks.  Therefore, the taskItemClassName variable is entered.  We will do this using the convenience function clickInsideElement, which takes two parameters: <br><ol><li>  The event itself is checked. </li><li>  The name of the class to compare.  If an event occurred inside an element having the specified class, or the parent of this element has such a class, then you need to return this element. </li></ol><br>  Here is the first auxiliary function: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickInsideElement</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> e, className </span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> el = e.srcElement || e.target;  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( el.classList.contains(className) ) {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> el;  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( el = el.parentNode ) {      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( el.classList &amp;&amp; el.classList.contains(className) ) {        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> el;      }    }  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre><br>  Let's go back and edit contextListener: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"contextmenu"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( clickInsideElement( e, taskItemClassName ) ) {      e.preventDefault();      toggleMenuOn();    }  }); }</code> </pre><br>  Having a helper function that does some of the dirty work for us, and catches the contextmenu event on the entire document, we can now close the menu when we click outside it.  To do this, add the toggleMenuOff function and edit the contextListener: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"contextmenu"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( clickInsideElement( e, taskItemClassName ) ) {      e.preventDefault();      toggleMenuOn();    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {      toggleMenuOff();    }  }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggleMenuOff</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( menuState !== <span class="hljs-number"><span class="hljs-number">0</span></span> ) {    menuState = <span class="hljs-number"><span class="hljs-number">0</span></span>;    menu.classList.remove(activeClassName);  } }</code> </pre><br>  Now right click on the list item.  And after - somewhere else in the document.  Voila!  Our menu closed and opened the standard.  Then we will do something similar for the click event so that not from one right button it closes: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"click"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> button = e.which || e.button;    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( button === <span class="hljs-number"><span class="hljs-number">1</span></span> ) {      toggleMenuOff();    }  }); }</code> </pre><br>  This piece of code is slightly different from the previous one, because Firefox.  After the right mouse button is pressed, the click event is triggered in Firefox, so here we have to additionally make sure that the click is actually the left button.  Now the menu does not blink with a right click.  Let's add a similar handler to pressing the ESC key: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyupListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onkeyup = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( e.keyCode === <span class="hljs-number"><span class="hljs-number">27</span></span> ) {      toggleMenuOff();    }  } }</code> </pre><br>  We got a menu that opens and closes as intended, interacting with the user in a natural way.  Let's finally position the menu and try to handle the events inside it. <br><br><h2>  Positioning our context menu </h2><br>  With current HTML and CSS, our menu is displayed at the bottom of the screen.  But we would like it to appear where the click occurred.  Let's fix this annoying omission.  First, add another auxiliary function that gets the exact coordinates of the click.  Let's call it getPosition and try to make it process different browser quirks: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPosition</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> posx = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> posy = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!e) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.event;  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.pageX || e.pageY) {    posx = e.pageX;    posy = e.pageY;  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.clientX || e.clientY) {    posx = e.clientX + <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.scrollLeft +                       <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement.scrollLeft;    posy = e.clientY + <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.scrollTop +                       <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement.scrollTop;  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {    <span class="hljs-attr"><span class="hljs-attr">x</span></span>: posx,    <span class="hljs-attr"><span class="hljs-attr">y</span></span>: posy  } }</code> </pre><br>  Our first step in menu positioning is the preparation of three variables.  Add them to the appropriate code block: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuPosition; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuPositionX; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuPositionY;</code> </pre><br>  Create a positionMenu function that takes a single argument, the event.  For now, let it print the menu coordinates to the console: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">positionMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{  menuPosition = getPosition(e);  <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(menuPosition); }</code> </pre><br>  Edit contextListener to start the positioning process: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"contextmenu"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( clickInsideElement( e, taskItemClassName ) ) {      e.preventDefault();      toggleMenuOn();      positionMenu(e);    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {      toggleMenuOff();    }  }); }</code> </pre><br>  Poke the context menu again and look at the console.  Make sure that the position is really available and logged.  We can use inline styles to set top and left properties via JS.  Here is the new version of positionMenu: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">positionMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{  menuPosition = getPosition(e);  menuPositionX = menuPosition.x + <span class="hljs-string"><span class="hljs-string">"px"</span></span>;  menuPositionY = menuPosition.y + <span class="hljs-string"><span class="hljs-string">"px"</span></span>;  menu.style.left = menuPositionX;  menu.style.top = menuPositionY; }</code> </pre><br>  Shout now everywhere.  The menu appears everywhere!  It's awesome, but there are a couple of things that need to be resolved: <br><ol><li>  What happens if the user clicks close to the right edge of the window?  The context menu will go beyond it. </li><li>  What to do if the user resizes the window when the context menu is open?  There is the same problem.  Dropbox solves this problem by hiding the x-axis overflow (x-overflow: hidden). </li></ol><br>  Let's solve the first problem.  We use JS to determine the width and height of our menu, and check that the menu fits completely.  Otherwise, a little shift it.  This will require a bit of mathematics and reflection, but we will do it simply and step by step.  First, check the width and height of the window.  Then find the width and height of the menu.  And after we make sure that the difference between the coordinates of the click and the width of the indented window is greater than the width of the menu.  And do the same for height.  If the menu does not fit on the screen, adjust its coordinates.  Start by adding two variables: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuWidth; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuHeight;</code> </pre><br>  As you remember, by default our menu is hidden, so you can't just take and calculate its size.  In our case, the menu is static, but in actual use its contents may vary depending on the context, so it‚Äôs better to calculate the width and height at the time of opening.  We obtain the necessary values ‚Äã‚Äãinside the positionMenu function: <br><pre> <code class="javascript hljs">menuWidth = menu.offsetWidth; menuHeight = menu.offsetHeight;</code> </pre><br>  We introduce two more variables, but this time for window sizes: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> windowWidth; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> windowHeight;</code> </pre><br>  We calculate their values ‚Äã‚Äãin a similar way: <br><pre> <code class="javascript hljs">windowWidth = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth; windowHeight = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight;</code> </pre><br>  Ultimately, let's assume that we want to show the menu no closer than 4 pixels from the edge of the window.  You can compare the values, as I said above, and adjust the position something like this: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickCoords; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickCoordsX; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickCoordsY; <span class="hljs-comment"><span class="hljs-comment">// updated positionMenu function function positionMenu(e) {  clickCoords = getPosition(e);  clickCoordsX = clickCoords.x;  clickCoordsY = clickCoords.y;  menuWidth = menu.offsetWidth + 4;  menuHeight = menu.offsetHeight + 4;  windowWidth = window.innerWidth;  windowHeight = window.innerHeight;  if ( (windowWidth - clickCoordsX) &lt; menuWidth ) {    menu.style.left = windowWidth - menuWidth + "px";  } else {    menu.style.left = clickCoordsX + "px";  }  if ( (windowHeight - clickCoordsY) &lt; menuHeight ) {    menu.style.top = windowHeight - menuHeight + "px";  } else {    menu.style.top = clickCoordsY + "px";  } }</span></span></code> </pre><br>  Now our menu behaves quite well.  It remains to do something with resize the window.  I have already said what Dropbox is doing, but instead we will close the context menu.  [ <i>This behavior is much closer to the standard</i> ] Add the following line to the init function: <br><pre> <code class="javascript hljs">resizeListener();</code> </pre><br>  And write the function itself: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resizeListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onresize = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    toggleMenuOff();  }; }</code> </pre><br>  Sumptuously. <br><br><h2>  We cling events to context menu items </h2><br>  If your application is more complicated than this example, and you have planned the dynamic contents of the context menu, you will have to go further into what is going on to find out the missing details yourself.  In our application, everything is simpler, and there is only one menu with a constant set of actions.  Thus, you can quickly check which item was selected and process this selection.  In our example, simply save the selected item to a variable and write its data-id and selected action to the console.  To do this, edit the menu layout: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__items"</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__item"</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__link"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"View"</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-eye"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> View Task      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__item"</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__link"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Edit"</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-edit"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> Edit Task      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__item"</span></span></span><span class="hljs-tag">&gt;</span></span>      <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"context-menu__link"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Delete"</span></span></span><span class="hljs-tag">&gt;</span></span>        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fa fa-times"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span> Delete Task      <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Next, let's cache all the necessary objects: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contextMenuClassName = <span class="hljs-string"><span class="hljs-string">"context-menu"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contextMenuItemClassName = <span class="hljs-string"><span class="hljs-string">"context-menu__item"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contextMenuLinkClassName = <span class="hljs-string"><span class="hljs-string">"context-menu__link"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contextMenuActive = <span class="hljs-string"><span class="hljs-string">"context-menu--active"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> taskItemClassName = <span class="hljs-string"><span class="hljs-string">"task"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> taskItemInContext; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickCoords; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickCoordsX; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickCoordsY; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">"#context-menu"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuItems = menu.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".context-menu__item"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuState = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuWidth; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuHeight; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuPosition; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuPositionX; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuPositionY; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> windowWidth; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> windowHeight;</code> </pre><br>  There is a taskItemInContext variable, which is assigned a value when right-clicking on a list item.  We need it for logging item IDs.  Also new class names have appeared.  Now go through the functionality. <br><br>  The initialization function remains the same.  The first change affects contextListener, because we want to save the item on which the user clicked in the taskItemInContext, and the clickInsideElement function returns it: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"contextmenu"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    taskItemInContext = clickInsideElement( e, taskItemClassName );    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( taskItemInContext ) {      e.preventDefault();      toggleMenuOn();      positionMenu(e);    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {      taskItemInContext = <span class="hljs-literal"><span class="hljs-literal">null</span></span>;      toggleMenuOff();    }  }); }</code> </pre><br>  We reset it to null if the right click does not occur on the list item.  Well, take on clickListener.  As I mentioned earlier, for simplicity, we will simply output information to the console.  Now when the click event is caught, several checks are made and the menu closes.  Let's make adjustments and start processing the click within the context menu, performing some action and only then closing the menu: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"click"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickeElIsLink = clickInsideElement( e, contextMenuLinkClassName );    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( clickeElIsLink ) {      e.preventDefault();      menuItemListener( clickeElIsLink );    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> button = e.which || e.button;      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( button === <span class="hljs-number"><span class="hljs-number">1</span></span> ) {        toggleMenuOff();      }    }  }); }</code> </pre><br>  You may have noticed that the menuItemListener function is being called.  We will define it a bit later.  The keyupListener, resizeListener and positionMenu functions are left unchanged.  The toggleMenuOn and toggleMenuOff functions will be edited slightly by changing the variable names for better readability of the code: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggleMenuOn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( menuState !== <span class="hljs-number"><span class="hljs-number">1</span></span> ) {    menuState = <span class="hljs-number"><span class="hljs-number">1</span></span>;    menu.classList.add( contextMenuActive );  } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggleMenuOff</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( menuState !== <span class="hljs-number"><span class="hljs-number">0</span></span> ) {    menuState = <span class="hljs-number"><span class="hljs-number">0</span></span>;    menu.classList.remove( contextMenuActive );  } }</code> </pre><br>  Finally, implement the menuItemListener: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">menuItemListener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> link </span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( <span class="hljs-string"><span class="hljs-string">"Task ID - "</span></span> +                taskItemInContext.getAttribute(<span class="hljs-string"><span class="hljs-string">"data-id"</span></span>) +                <span class="hljs-string"><span class="hljs-string">", Task action - "</span></span> + link.getAttribute(<span class="hljs-string"><span class="hljs-string">"data-action"</span></span>));  toggleMenuOff(); }</code> </pre><br>  This functionality development ends. <br><br><h2>  Some notes </h2><br>  Before we finish, let's take some points into account: <br><ol><li>  Throughout the article, I mentioned the right click as an event to open the context menu.  Not all are right-handed and not all have standard mouse settings.  But regardless of this, the contextmenu event acts precisely in accordance with the settings of the mouse, and is not rigidly tied to the right button. </li><li>  Another important point is that we have considered only full-fledged desktop web applications with the mouse as an input device.  Users can use the keyboard or mobile devices, so do not forget to provide alternative ways of interaction to maintain a friendly interface. </li></ol><br><h2>  Big question </h2><br>  I have highlighted this problem in a separate paragraph, because it is really important after all that we have done.  Ask yourself: do you really need your own context menu?  Such things are cool, but before using them, you need to make sure that it is really useful in your case.  Usually, users expect the usual behavior of the application.  For example, after a right click on a photo, they expect to be able to save it, copy the link, etc. The lack of necessary items in the custom menu may upset them. <br><br><h2>  Browser Compatibility </h2><br>  The tutorial used some modern pieces from CSS and JS, namely display: flex in styles and classList to switch classes in JS.  It is also worth mentioning that HTML5 tags are used.  If backward compatibility with older browsers is required, you will have to implement it yourself.  The examples in this guide are tested in the following browsers: <br><ul><li>  Chrome 39 </li><li>  Safari 7 </li><li>  Firefox 33 </li></ul><br><h2>  Conclusion and demo </h2><br>  If you have thought carefully about everything and are sure that your application needs this functionality, you can use the developed menu.  Of course, it may require any changes, but this guide describes the development process in detail, so it should be not so difficult to implement your amendments. <br><br>     <a href="https://github.com/callmenick/Custom-Context-Menu">  GitHub</a>    , ,     .      <a href="http://codepen.io/SitePoint/pen/MYLoWY">  CodePen</a> . <br><br><blockquote><h2>  From translator </h2><br>  Translation in places is quite free, but not to the detriment of the meaning or content.  Everything that does not relate directly to the original, made in the notes. <br>  With suggestions, suggestions and comments, as usual, in drugs. </blockquote></div><p>Source: <a href="https://habr.com/ru/post/258167/">https://habr.com/ru/post/258167/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258155/index.html">Energia Launchpad wireless electronic lock</a></li>
<li><a href="../258157/index.html">Audio playback on Intel Edison via Bluetooth using the Advanced Audio Distribution Profile (A2DP)</a></li>
<li><a href="../258159/index.html">Install OpenCV 3.0.0-rc1 (using IPP and TBB) on Intel Edison Yocto. USB camera in OpenCV</a></li>
<li><a href="../258163/index.html">Using the Intel Edison board to change the color of the Orbotix Sphero ball when new tweets appear</a></li>
<li><a href="../258165/index.html">How we do landings</a></li>
<li><a href="../258169/index.html">NeoQUEST-2015: HeartBleed, Android and a little bit of reverse</a></li>
<li><a href="../258171/index.html">Secrets of the Madrid court. Part 2.5: Answers to readers' questions on the previous part</a></li>
<li><a href="../258173/index.html">Launch of the Virtual Private Cloud service</a></li>
<li><a href="../258175/index.html">Multicellular microprocessor, "macrocycles" for working with arrays</a></li>
<li><a href="../258177/index.html">Roskomnadzor and his plans</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>