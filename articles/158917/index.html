<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CSS animation on a real project</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Increasingly, among web developers, the topic of CSS animation capabilities (transition / animation) rises, at almost every client development confere...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CSS animation on a real project</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/87c/d47/444/87cd47444e34c070ea8fc0dfcdcb7594.png"><br><br>  Increasingly, among web developers, the topic of CSS animation capabilities (transition / animation) rises, at almost every client development conference you can hear about the tremendous benefits of the new technology. <br><br>  The performance and flexibility of CSS animations allows you to create amazing things, but can you already use these new features because of their instability and immaturity on real large projects? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this post, we will explain why it is so important to start using new client development technologies today and about the difficulties that may be waiting for you on the way. <br><a name="habracut"></a><br><h2>  BOM state </h2><br>  The <a href="http://www.w3.org/TR/css3-transitions/">CSS transitions</a> and <a href="http://www.w3.org/TR/css3-animations/">animations</a> in the W3C are still in the ‚Äúworking draft‚Äù state, but Firefox, Opera, and Internet Explorer 10 have already <a href="http://caniuse.com/">opened the</a> prefixes for these properties.  Getting rid of prefixes means that browser manufacturers are already confident in the stability of the technology and recommend it for active use. <br><br>  While the big players were still afraid to improve the user experience of users through animations, referring to poor JavaScript performance, now is the time to reconsider their interface development approach and start using the features of CSS3. <br><br><h2>  Information hunger </h2><br>  Due to the lack of experience in introducing CSS animations into live projects in the network, there is very little information about the implementation of everyday tasks.  Everyone is still using JavaScript solutions, afraid to play the role of industry pioneers. <br><br>  You have to suffer even more when you encounter specific bugs that appear due to the collision of many factors, such as the huge size of the DOM tree, the number of animated blocks on the page, high nesting and many layers of blocks on each other.  Trying to cope with such a load, browsers use their own optimization algorithms to the full, but sometimes this leads to inexplicable bugs. <br><br>  Recently, we often meet with browser bugs, about which there is not a word on the network.  As a result, you have to investigate the problem yourself, write bug reports and look for unusual solutions to fix it. <br><br>  <strong>The sooner the big players start using new client development technologies, the faster the web development industry will develop.</strong> <br><br><h2>  CSS animations in the real world </h2><br>  Let's see which web projects dared to tame the new technology and were not afraid to pioneer the industry: <br><br>  VKontakte partially uses animation on simple, small blocks, often choosing JavaScript animation instead of CSS, even for simple opacity animations and in text color transitions.  A search for project styles yields 17 transition occurrences (not counting properties with prefixes). <br><br>  On Facebook, the animations also didn‚Äôt get accustomed, only five occurrences of the transition were found in all styles, and the only animation of the last message that was sent to you was made in JS. <br><br>  The guys from Google+, apparently, basically do not use animations (probably due to Chrome's problems with working with animations :), there were only 3 occurrences of the transition.  The search for ‚Äúanimation‚Äù produced only one entry in Goolge +. <br><br>  At the time of writing this article, Odnoklassniki has 140 transition and 4 animation calls, given that some of the animations are standardized and reused in many places. <br><br>  An interesting note - a couple of months have passed since the first version of the article was written, during this time the number of animations on the listed projects has not grown, except for Odnoklassniki - the number of animations in our social network has grown almost 3 times. <br><br><h2>  What is worth animating </h2><br>  The more we bring the interface to reality, the clearer it becomes for the user.  In life, almost nothing happens instantly - opening the door, or closing the laptop, we see a bunch of intermediate states, rather than a sharp ‚Äúopen / closed‚Äù, as it happens on the web. <br><br>  We try to apply animations even for the most ordinary actions - showing hidden controls on a hover, drop-down menus, informational tooltips.  Animations help to focus the user's attention on the controls with the help of various winks and twitches. <br><br>  The smooth interaction of controls and transitions from one state to another help the user to better understand what is happening with the page.  You should not be limited to animations only in buttons and sliders, use your imagination, just a couple of CSS properties will allow you to make your interface much more pleasant. <br><br><img src="https://habrastorage.org/storage2/2be/8bb/97e/2be8bb97eb9d2a7236039e72ca195dec.gif" alt="Sample control without animation"><br><br><img src="https://habrastorage.org/storage2/079/2ed/c30/0792edc30cedb4b2ec72912378ecdf0b.gif" alt="An example of animation control"><br><br><h2>  Experience exchange </h2><br><h3>  Selection of bugs and solutions </h3><br>  Bumping into other people's examples of using CSS3 animations and describing bugs, we often blame the problem for its specificity and do not pay attention to the problem.  But even if you are not going to do anything similar in the near future, it is useful to know in advance what you may have to face - for this we prepared a small selection of bugs and solutions that we had to face: <br><br>  <a href="http://dabblet.com/gist/3618519">Demo page on dabblet</a> , <a href="">archive with examples</a> (on <a href="http://yadi.sk/d/0uJ6Rmef0keZL">Ya.Disk</a> ). <br><br><h4>  Opera </h4><br>  When combining animations, for example, opacity with box-shadow, problems can be observed in Opera (see block 1 on the <a href="http://dabblet.com/gist/3618519">demo page</a> ), when the shadow disappears completely with the hover, when the animation is reversed, the shadow returns with a delay and without the expected smoothness. <br><br><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.no_sec</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">1s</span></span>, box-shadow <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span> <span class="hljs-number"><span class="hljs-number">#000</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.no_sec</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: none;}</code> </pre> <br>  To avoid the bug, you need to separately animate the shadow and try to pick up other values ‚Äã‚Äãof the transition speed. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.no_sec</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.shadow</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">1s</span></span>, box-shadow .<span class="hljs-number"><span class="hljs-number">3s</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span> blue; } <span class="hljs-selector-class"><span class="hljs-selector-class">.no_sec</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.shadow</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: none;}</code> </pre><br>  Blocks with pseudo-elements are problem-animated in Opera 12, leaving similar artifacts with the first example (block 2), and in Opera 11.64 it works stably. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.pseudo</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">1s</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.pseudo</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;} <span class="hljs-selector-class"><span class="hljs-selector-class">.pseudo</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::after</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">'pseudo'</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: blue; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  You have to give up pseudo-elements and use regular tags. <br><br><h4>  Firefox </h4><br>  If you do not specify the value "s" (seconds) in the transition, Firefox ignores the animation completely (block 1).  In block 3, the working value of the shadow animation in Firefox is set. <br><br>  And Firefox behaves strictly according to the <a href="http://www.w3.org/TR/css3-transitions/">documentation</a> , which states that the value of time should be determined only by the measure, and other browsers have chosen a more familiar approach for developers. <br><br><h4>  Webkit </h4><br>  In Chrome on Mac (at least until version 23), using transition together with transform (block 4), as well as under other conditions, text smoothing on the entire page breaks. <br><br>  Smoothing: <br><img src="https://habrastorage.org/storage2/e61/ea5/2b0/e61ea52b0a65cf3b4449697cc33b9d66.png" alt="Smooth text"><br><br>  Without smoothing: <br><img src="https://habrastorage.org/storage2/9ce/5d7/c0c/9ce5d7c0c0505d44e05345e0c14f50d4.png" alt="Text without smoothing"><br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.scale</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: transform <span class="hljs-number"><span class="hljs-number">1s</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*-webkit-backface- visibility: hidden;*/</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.scale</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(1.5)}</code> </pre><br>  The <a href="http://www.w3.org/TR/css3-transforms/">backface-visibility</a> : hidden property applied to the body or to a block with flickering text helps to solve the problem, but such a fix also has its consequences (details are given below in the article), besides, the text will lose anti-aliasing forever. <br><br>  In Chrome, transition does not work if the block changes properties from display: block -&gt; display: inline / inline-block (block 5). <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.inline</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">1s</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block; <span class="hljs-attribute"><span class="hljs-attribute">max-height</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;} <span class="hljs-selector-class"><span class="hljs-selector-class">.inline</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline; }</code> </pre><br>  To get around the problem, you need to use animation (block 5.1). <br><br><pre> <code class="css hljs">@-<span class="hljs-keyword"><span class="hljs-keyword">webkit</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">keyframes</span></span> reveal { <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; } } <span class="hljs-selector-class"><span class="hljs-selector-class">.inline</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.anim</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">-webkit-animation</span></span>: reveal <span class="hljs-number"><span class="hljs-number">1s</span></span>;}</code> </pre><br>  In Chrome on Windows, during smooth animation transform, all inputs get a white background (block 4 with a transform and 6 with an input). <br><br>  A similar effect is also observed if backface-visibility is applied to any element of the page.  The solution to the problem has not yet been found. <br><br><img src="https://habrastorage.org/storage2/9bc/c90/342/9bcc903426a29137c4a9f79b408d0362.png" alt="White background example"><br><br><h4>  Common bugs </h4><br>  Nowhere, except for Webkit, does the transition to background-image work, you can't even put a delay, the picture changes instantly (block 7). <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.bg_img</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: red <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(image1.png); <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: background-color <span class="hljs-number"><span class="hljs-number">1s</span></span> linear, background-image <span class="hljs-number"><span class="hljs-number">0s</span></span> linear <span class="hljs-number"><span class="hljs-number">1s</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.bg_img</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: blue <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(image2.png);}</code> </pre><br>  To solve the problem, it was necessary to combine animation in several layers using opacity. <br><br>  During the transition, an opacity block overlaps other blocks. <br><br>  To avoid problems, you need to put the blocks, which do not need animation below in the house (so they will automatically get above the z-index), or set the z-index manually (block 8.1). <br><br>  Updating the page with examples of bugs, a couple of months after the first version, it turned out that during this time the situation had not changed and for a couple of versions of browser updates, none of the listed bugs were still repaired. <br><br><h3>  On a note </h3><br>  In CSS transition it is possible to control the animation in both directions, for example, by changing the animation speed: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.block</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: <span class="hljs-number"><span class="hljs-number">10s</span></span> opacity;} <span class="hljs-selector-class"><span class="hljs-selector-class">.block</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transition-duration</span></span>: <span class="hljs-number"><span class="hljs-number">1s</span></span>;}</code> </pre><br>  When hover, go to opacity: 0;  happens in 1 second, and the reverse transition to opacity: 1;  will last 10 seconds.  Thus, for example, with a hover ‚Äúforever‚Äù, the hover state properties can be left using a very large delay. <br><br>  When using animation, one should expect that during the animation the block is not subject to any external influences (approx. Color change to hover).  To do this, you can first stop the animation using ‚Äúanimation-play-state: paused;‚Äú or zero the animation completely using the ‚Äúanimation: none;‚Äù property. <br><br>  Working with animations, periodically you have to go back to basics and re-examine the most ancient possibilities of CSS, as we did <a href="http://tohtml.it/post/21258145378/active">with the pseudo-class: active</a> . <br><br><h3>  Backface-visibility </h3><br>  Earlier we mentioned <a href="http://www.w3.org/TR/css3-transforms/">backface-visibility</a> as a solution to some of the bugs of webkit browsers, but in some places this property can lead to even greater problems.  In addition to the standard purpose of this property (to hide the reverse side of the 3D animated block), it is often used to enable hardware acceleration, which allows <a href="http://www.html5rocks.com/en/tutorials/speed/html5/">the GPU to</a> speed up the rendering time for pages in the browser. <br><br>  Applying this property to at least 1 page element can affect the entire page, for example, by triggering a white background under all inputs (the 7th selection point of animation bugs) or change the text smoothing mode. <br><br>  We recently discovered that by applying this property dynamically after a portion of the page has already been drawn, the average rendering time for the page is greatly increased.  Most likely this is due to the transition to the GPU mode of acceleration, in which the entire page is redrawn. <br><br>  The first time we faced the consequences of this property, when we decided to apply it to the body element for Chrome and Safari on Mac in order to avoid text flickering during animations.  At the same time, a lot of unexplainable bugs began to appear in Safari 5, the page was going to completely unpredictable places, so I had to leave backface-visibility only for Chrome Mac and to the most problematic places with flashing text in Safari.  With the release of Safari 6, the situation got a little settled and the behavior of the browser in relation to the ill-fated property was equated to the behavior of the current Chrome. <br><br><h2>  At gunpoint </h2><br>  Always watch for browser updates and check your portal on the developer and preview versions if you do not want your portal to bend under the onslaught of bugs due to the next browser update. <br><br>  In addition to the implementation of support for new technologies and the opening of prefixes, not very stable page rendering optimization algorithms can come along with the new version.  Considering that browsers begin to transfer part of the rendering to the GPU, we should also expect that bugs can be played only on machines with a certain hardware.  There were cases that on some computers in the same browser 3D transform did not work because of the video card. <br><br>  Together with the release of the 21st version of Chrome on a stable branch, we had to meet with a bunch of inexplicable bugs related not only to CSS3 animations, one of the most critical was a bug with black spots (only in Chrome on Windows) that appeared randomly throughout the page due to animation opacity.  The most interesting thing is that the versions of stable and dev (in Chrome) can easily be different, even if the bug is fixed in the 22nd dev version, it‚Äôs not a fact that the translation of the branch to stable will remain. <br><br>  An interesting case was observed with the release of Safari 6, with the update the browser pulled a lot of changes from the webkit development branch of the engine and took over the many bugs of the current Chrome. <br><br><h2>  Optimization </h2><br>  One of the basic rules of our interface development team is as much as possible for <strong>pure CSS</strong> solutions.  Using CSS instead of JavaScript gives excellent performance gains on the client side, as well as the speed of the interface, as well as development time. <br><br><h3>  Every byte counts </h3><br>  Use short abbreviated notation instead of listing each property separately. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transition-property</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">top</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">transition-duration</span></span>: 1<span class="hljs-selector-tag"><span class="hljs-selector-tag">s</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">transition-timing-function</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">ease</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">transition-delay</span></span>: 0<span class="hljs-selector-class"><span class="hljs-selector-class">.5s</span></span>;</code> </pre>  = <pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transition</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">top</span></span> 1<span class="hljs-selector-tag"><span class="hljs-selector-tag">s</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.5s</span></span>;</code> </pre> <br>  By the way, the most minimal animation record is ‚Äútransition: 1s‚Äù, the other default properties are ‚Äúall ease 0;‚Äù <br><br>  Often it is necessary to meet examples of non-rational use of animations, when instead of defining specific, animated properties, developers use <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transition</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">all</span></span> ‚Ä¶ ;</code> </pre> <br>  instead of clear <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">transition</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">opacity</span></span> ‚Ä¶ ;</code> </pre> <br>  Perhaps this will help you save a couple of characters, but in the end you will load the browser several times more with extra calculations when changing several parameters of the block being animated. <br><br>  Also, do not forget to follow the prefixes, for example, the properties of -ms-animation and -ms-transition do not exist at all, because  Internet Explorer 10 has been released with prefixes already dropped.  <a href="http://lesscss.org/">CSS</a> <a href="http://sass-lang.com/">preprocessors</a> allow you to greatly simplify the work with prefixes using mixins. <br><br><h3>  Standardize </h3><br>  The object-oriented CSS approach allows you to save well on repetitive properties.  We actively use the OOCSS approach in our <a href="http://operatino.github.com/MCSS/">style organization system</a> , which also concerns the standardization of animations. <br><br>  Here is an example of one of the modules being reused: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.fade</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: .<span class="hljs-number"><span class="hljs-number">3s</span></span> opacity, visibility <span class="hljs-number"><span class="hljs-number">0s</span></span> .<span class="hljs-number"><span class="hljs-number">3s</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">visibility</span></span>:hidden; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.fade_in</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.fade</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition-delay</span></span>: <span class="hljs-number"><span class="hljs-number">0s</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">visibility</span></span>: visible; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  This standard module allows us to save a bunch of repeated occurrences of code for the most common animation effect.  Using the additional property ‚Äúvisibility‚Äù, we implement backward compatibility for browsers that do not support CSS animations. <br><br><h2>  Conclusion </h2><br>  Looking at the many difficulties that have to be encountered when working with CSS animations, it may seem that the efforts are not justified, but this is absolutely not the case: <br><br>  First, we discovered a powerful tool for improving user interface interaction, not much affecting client performance in comparison with JavaScript counterparts.  Native technology allows browsers to better optimize the speed of drawing elements also through the use of computing power of the GPU. <br><br>  Secondly, we are very pleased with the flexibility of CSS animations, the speed and ease of implementing technology into existing and new interfaces.  Having developed common approaches and sorted out the features of the technology once, we can easily apply it on a variety of internal projects. <br><br>  Thirdly, it is interesting to work with CSS animations!  What could be more inspiring than being the pioneers of technology and paving the way?  If the task of creating a new interface has at least one animated element, then working with it becomes much more exciting.  Especially nice to hear commendable reviews, sharing developments with fellow layout designers. </div><p>Source: <a href="https://habr.com/ru/post/158917/">https://habr.com/ru/post/158917/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158907/index.html">Backups in my life</a></li>
<li><a href="../158909/index.html">Ebay Ukraine. About Customs and Shipping - 2012</a></li>
<li><a href="../158911/index.html">Smart home, as I sunk to such. Part 1</a></li>
<li><a href="../158913/index.html">Mass hijacking accounts from EA Origin</a></li>
<li><a href="../158915/index.html">Fronteers 2012 - the best client development conference, part 2</a></li>
<li><a href="../158919/index.html">Results Samsung Smart App Challenge 2012</a></li>
<li><a href="../158921/index.html">Wordpress.com started accepting bitcoins</a></li>
<li><a href="../158923/index.html">NeoQUEST-2013 ctf - announcement</a></li>
<li><a href="../158927/index.html">Description and validation of tree data structures. JSON-Schema</a></li>
<li><a href="../158929/index.html">POP: live paper interface prototypes for the iPhone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>