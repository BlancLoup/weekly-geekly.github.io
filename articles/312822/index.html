<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create and estimate the number of sudoku</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From school age I liked sudoku. It helped to while away the time to go to school (and even now I play on the way to work). Soon I was able to get my g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create and estimate the number of sudoku</h1><div class="post__text post__text-html js-mediator-article">  From school age I liked sudoku.  It helped to while away the time to go to school (and even now I play on the way to work).  Soon I was able to get my grandmother on the sudoku, but the problem was that she could not play on the electronic device.  Because the idea came to mind to make your sudoku, which can be printed. <br><br>  How to make your own sudoku generator and how many different options can be and will be discussed under the cut. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/482/e7a/42d/482e7a42d41c45aabdd2f6a8acca1ed8.jpg"></div><a name="habracut"></a><br>  I will implement everything on Pascal, as it was closest to the mouse at the time of this writing.  However, everything can be implemented in other languages. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  ‚ñç Method one.  Alphabetical replacement. </h3><br>  The first method, which we consider, will be the replacement of some figures by others in the original Sudoku example.  For the original version, we take the following table. <br><br><div class="spoiler">  <b class="spoiler_title">Picture table</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/files/eb8/ce2/77b/eb8ce277b78b40c28ace77522b3b2303.png"></div><br></div></div><br>  The essence of the method is to compare each digit with another digit and thereby change the whole sudoku in its entirety. <br><br>  To do this, we use a one-dimensional matrix with indices from 1 to 9 and fill in at the very beginning all the cells in accordance with their indices.  And then we will take two random cells and change their values ‚Äã‚Äãbetween themselves.  Note that having done this operation an odd number of times we will not get the original version of filling the matrix (proof is provided to the reader).  For those who doubt at the end of the program, one million sudoku matrices are generated and their coincidence with the initial one is evaluated. <br><br><div class="spoiler">  <b class="spoiler_title">Explanatory image</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/files/439/5c3/7ef/4395c37ef62e40b4b765bb96348c6ddc.png"></div><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Pascal code</b> <div class="spoiler_text">  type rec = record // replacement alphabet <br>  num: array [1..9] of integer; <br>  constructor Create (); <br>  var i: integer; <br>  begin <br>  for i: = 1 to 9 do <br>  num [i]: = i; <br>  end; <br>  procedure rand (); // random exchange of two numbers in the alphabet <br>  var i, j, k: integer; <br>  begin <br>  i: = random (1.9); <br>  j: = i; <br>  while (i = j) do j: = random (1.9); <br>  k: = num [i]; <br>  num [i]: = num [j]; <br>  num [j]: = k; <br>  end; <br>  procedure wr (); // display the alphabet on the screen <br>  var i: integer; <br>  begin <br>  for i: = 1 to 9 do <br>  write (num [i] + ''); <br>  writeln; <br>  end; <br>  end; <br></div></div><br>  Having calculated, we get 9!  The options are 362,880 different combinations. <br><br><h3>  ‚ñç Method two.  Matrix permutations. </h3><br>  This is the way that was still on Habr√© a couple of years ago.  Read details <a href="https://habrahabr.ru/post/192102/">here</a> . <br><br>  And here I will give a brief squeeze: <br><br><div class="spoiler">  <b class="spoiler_title">You can change the rows / columns in triples, as shown in the pictures.</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/files/40f/6aa/caf/40f6aacafb1e46bda6ff39e404d61fe2.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b3d/78e/2c1/b3d78e2c1be8498c8cc43450ba10d3c4.png"></div><br></div></div><br>  It is also worth noting that an odd number of permutations guarantees a difference from the original version. <br><br>  Therefore, we first realize the exchange of rows and the exchange of columns in the Sudoku matrix.  Also, to simplify the code, insert the function of replacing numbers alphabetically (the method described earlier) <br><br><div class="spoiler">  <b class="spoiler_title">Pascal code</b> <div class="spoiler_text">  type sudoku = record // sudoku table <br>  num: array [1..9] of array [1..9] of integer; <br>  constructor Create (); // range from 1 to 9 shifted cyclically so that the table complies with the Sudoku rules <br>  begin <br>  num [1] [1]: = 1;  num [1] [2]: = 2;  num [1] [3]: = 3;  num [1] [4]: ‚Äã‚Äã= 4;  num [1] [5]: = 5;  num [1] [6]: = 6;  num [1] [7]: = 7;  num [1] [8]: = 8;  num [1] [9]: = 9; <br>  num [2] [1]: = 4;  num [2] [2]: = 5;  num [2] [3]: = 6;  num [2] [4]: ‚Äã‚Äã= 7;  num [2] [5]: = 8;  num [2] [6]: = 9;  num [2] [7]: = 1;  num [2] [8]: = 2;  num [2] [9]: = 3; <br>  num [3] [1]: = 7;  num [3] [2]: = 8;  num [3] [3]: = 9;  num [3] [4]: ‚Äã‚Äã= 1;  num [3] [5]: = 2;  num [3] [6]: = 3;  num [3] [7]: = 4;  num [3] [8]: = 5;  num [3] [9]: = 6; <br>  num [4] [1]: = 2;  num [4] [2]: = 3;  num [4] [3]: = 4;  num [4] [4]: ‚Äã‚Äã= 5;  num [4] [5]: = 6;  num [4] [6]: = 7;  num [4] [7]: = 8;  num [4] [8]: = 9;  num [4] [9]: = 1; <br>  num [5] [1]: = 5;  num [5] [2]: = 6;  num [5] [3]: = 7;  num [5] [4]: ‚Äã‚Äã= 8;  num [5] [5]: = 9;  num [5] [6]: = 1;  num [5] [7]: = 2;  num [5] [8]: = 3;  num [5] [9]: = 4; <br>  num [6] [1]: = 8;  num [6] [2]: = 9;  num [6] [3]: = 1;  num [6] [4]: ‚Äã‚Äã= 2;  num [6] [5]: = 3;  num [6] [6]: = 4;  num [6] [7]: = 5;  num [6] [8]: = 6;  num [6] [9]: = 7; <br>  num [7] [1]: = 3;  num [7] [2]: = 4;  num [7] [3]: = 5;  num [7] [4]: ‚Äã‚Äã= 6;  num [7] [5]: = 7;  num [7] [6]: = 8;  num [7] [7]: = 9;  num [7] [8]: = 1;  num [7] [9]: = 2; <br>  num [8] [1]: = 6;  num [8] [2]: = 7;  num [8] [3]: = 8;  num [8] [4]: ‚Äã‚Äã= 9;  num [8] [5]: = 1;  num [8] [6]: = 2;  num [8] [7]: = 3;  num [8] [8]: = 4;  num [8] [9]: = 5; <br>  num [9] [1]: = 9;  num [9] [2]: = 1;  num [9] [3]: = 2;  num [9] [4]: ‚Äã‚Äã= 3;  num [9] [5]: = 4;  num [9] [6]: = 5;  num [9] [7]: = 6;  num [9] [8]: = 7;  num [9] [9]: = 8; <br>  end; <br>  procedure change (alf: rec); // alphabetic replacement <br>  var i, j: integer; <br>  begin <br>  for i: = 1 to 9 do <br>  for j: = 1 to 9 do <br>  num [i] [j]: = alf.num [(num [i] [j])]; <br>  end; <br>  procedure swip_row (); // swap rows <br>  var i, j, k, r: integer; <br>  begin <br>  i: = random (1.9); <br>  j: = i; <br>  while (j = i) do j: = random (3 * ((i-1 + 3) div 3-1) +1.3 * ((i-1 + 3) div 3-1) +3); <br>  for r: = 1 to 9 do <br>  begin <br>  k: = num [i] [r]; <br>  num [i] [r]: = num [j] [r]; <br>  num [j] [r]: = k; <br>  end; <br>  end; <br>  procedure swip_line (); // swap columns <br>  var i, j, k, r: integer; <br>  begin <br>  i: = random (1.9); <br>  j: = i; <br>  while (j = i) do j: = random (3 * ((i-1 + 3) div 3-1) +1.3 * ((i-1 + 3) div 3-1) +3); <br>  for r: = 1 to 9 do <br>  begin <br>  k: = num [r] [i]; <br>  num [r] [i]: = num [r] [j]; <br>  num [r] [j]: = k; <br>  end; <br>  end; <br>  procedure wr (); // display <br>  var i, j: integer; <br>  begin <br>  for i: = 1 to 9 do <br>  begin <br>  for j: = 1 to 9 do <br>  write (num [i] [j], ''); <br>  writeln; <br>  end; <br>  writeln; <br>  end; <br>  end; <br></div></div><br>  Having calculated, we get that when replacing only one triple of columns / rows, you can increase the number of variants by 6 times for every triple (6 * 6 * 6 for the columns and the same for the rows, totaling 46,656 variants). <br><br>  And we will also write a separate function that will compare two sudoku character by character and return true / false if they match / do not match. <br><br><div class="spoiler">  <b class="spoiler_title">Pascal code</b> <div class="spoiler_text">  function compl (s1, s2: sudoku): boolean; // comparison of two sudoku tables <br>  var i, j: integer;  flag: boolean; <br>  begin <br>  flag: = true; <br>  for i: = 1 to 9 do <br>  for j: = 1 to 9 do <br>  if (s1.num [i] [j] &lt;&gt; s2.num [i] [j]) then flag: = false; <br>  compl: = flag; <br>  end; <br><br>  var <br>  a: rec; <br>  nw, was: sudoku; <br>  i: integer; <br>  t, n: integer; <br>  cor: integer; <br>  begin <br>  // Calculate the probability of sudoku coincidence after replacing the alphabet and the original version <br>  cor: = 0; <br>  for t: = 1 to 1000000 do <br>  begin <br>  nw: = new sudoku (); <br>  was: = new sudoku (); <br>  a: = new rec (); <br><br>  //General remark.  With an odd number of permutations, the initial situation is impossible <br>  // for 6 permutations, you can mix all three columns / rows <br>  for i: = 1 to 7 do nw.swip_row (); // 6 * 3 options <br>  for i: = 1 to 7 do nw.swip_line (); // 6 * 3 options <br>  // for 8 paired permutations, you can get any combination of 9 digits. <br>  for i: = 1 to 9 do a.rand (); // 9!  options <br>  // Estimated number of choices 117 573 120 <br><br>  nw.change (a); <br>  if (compl (nw, was)) then cor: = cor + 1; <br>  end; <br>  writeln ((cor / 1000000) * 100, '%'); <br>  nw.wr (); <br>  end. <br></div></div><br><h3>  ‚ñçIn the conclusion of calculations </h3><br>  It is necessary to explain why the resulting two numbers can be multiplied.  When replacing strings, we will not get the same option as when replacing numbers, because otherwise we will get another replacement alphabet (having considered the last replacement of strings, we can find a contradiction). <br><br>  Therefore, this algorithm allows you to create up to 362,880 * 46,656 or 16,930,529,280 options. <br><br>  The article does not describe all transformations with a sudoku table (replacing a triple of columns / rows, transposing, etc.), which proves that the number of sudoku variants is even greater. </div><p>Source: <a href="https://habr.com/ru/post/312822/">https://habr.com/ru/post/312822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312810/index.html">Getting started in STM32CubeMX. Part 2</a></li>
<li><a href="../312814/index.html">Silicon Valley Etiquette</a></li>
<li><a href="../312816/index.html">Scrolling endlessly scrolling page</a></li>
<li><a href="../312818/index.html">A few thoughts on the job search algorithm</a></li>
<li><a href="../312820/index.html">Site to Zone Assignment list and Internet Explorer with Enhanced Security Configuration enabled</a></li>
<li><a href="../312826/index.html">233 nuts for Cinderella: we select colors for the ‚Äúperfect‚Äù palette</a></li>
<li><a href="../312828/index.html">Cisco and Apple partnership for business mobility transformation</a></li>
<li><a href="../312830/index.html">Problem on std :: multiset or search by structure fields</a></li>
<li><a href="../312832/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ232 (October 10 - 16, 2016)</a></li>
<li><a href="../312834/index.html">Excel, SQL and the legendary barometer - we solve a simple problem in different ways</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>