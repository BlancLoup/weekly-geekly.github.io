<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>BEM + React: flexible design system architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Design is fascism. Fascism needs a nutrient medium. It begins to unfold in full only on a large scale. The ideal environment for fascism is a big comp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>BEM + React: flexible design system architecture</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/alfa/blog/340522/"><img src="https://habrastorage.org/webt/59/ed/9e/59ed9e6e2b8b7621900912.png"><br></a> <br><br>  Design is fascism.  Fascism needs a nutrient medium.  It begins to unfold in full only on a large scale.  The ideal environment for fascism is a big company with a huge amount of products.  For example, Google or ... Alpha Bank.  Fascism is not a priori flexible ... <br><a name="habracut"></a><br>  All buttons on all products of the company must wear the same shirt, only one color of the nomenclature color # F02823.  Any link also has its own uniform: color # 0A1E32, underscore at a distance of 2px.  If we click on the link, it should immediately execute the command - move us to another section of the application.  For insubordination - expulsion from the design of the Alfa-Bank system to the Green Bank or shooting.  And it is not known what the link would be in this case. <br><br>  But this is fascism in the name of love.  We love our user: we want the user to get the same experience on each of our products.  To him it was easy and simple.  That the Bank quickly and effectively solved its tasks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><h3>  Design is fascism in the name of love. </h3></blockquote><br>  This is fascism for the sake of drive and speed.  We want to develop our applications quickly, so that developers do not reinvent the wheel for new applications each time and can fumble through the best UI / UX practices between teams. <br><br>  Any fascism presupposes an ideology.  Any fascism implies centralized decision making.  For any fascism, the company needs to have the Most Important Committee on Censorship and Unification, or the General Committee. <br><br>  But wait, now Alfa-Bank is a turquoise company with an Agile and Scrum manifesto in its engine.  This means that we deliberately adopted a strategy, that all decisions are ‚Äúsewn up‚Äù into teams, and not into committees of the SGCPCIU type ... <br><br><h1>  How to keep design consistency and not lose development flexibility? </h1><br>  Our library of components <a href="https://github.com/alfa-laboratory/arui-feather">ARUI Feather</a> is based on two well-known solutions from the world of the frontend: <a href="https://ru.bem.info/">BEM</a> methodology and <a href="https://reactjs.org/">React</a> . <br><br>  There will not be a story about the choice of tools: I would like to tell more about the principles and practices of scaling design systems that we developed in the process of creating <a href="https://github.com/alfa-laboratory/arui-feather">ARUI Feather</a> . <br><br>  Learn more about why we have the <a href="https://ru.bem.info/">BEM-methodology</a> + <a href="https://reactjs.org/">React</a> , you can find out in <a href="https://www.youtube.com/watch%3Fv%3DyfIsPH1jXJc">this video from Yandex.Money FrontendMix 2017</a> . <br><br><blockquote><h3>  At the heart of engineering solutions <a href="https://github.com/alfa-laboratory/arui-feather">ARUI Feather</a> is the philosophy <br>  <a href="https://ru.wikipedia.org/wiki/KISS_%2528%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF%2529">KISS</a> / <a href="https://ru.wikipedia.org/wiki/YAGNI">YAGNI</a> / <a href="https://ru.wikipedia.org/wiki/Don%25E2%2580%2599t_repeat_yourself">DRY</a> </h3></blockquote><br>  <a href="https://ru.wikipedia.org/wiki/KISS_%2528%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF%2529">KISS</a> means that we initially decided to avoid complicated solutions.  We were faced with the task of making a code for a design system that any team can figure out on its own.  <a href="https://github.com/alfa-laboratory/arui-feather">ARUI Feather</a> is the AK-47 of the world of design systems.  Even lying flat in the sand in the trenches near Baghdad, you can independently disassemble and assemble it without contacting the service center of the US Navy. <br><br>  Also, following <a href="https://ru.wikipedia.org/wiki/YAGNI">YAGNI</a> , we do only what is necessary, and the last trend is that we remove components more often than create new ones, because in fact many things lie beyond the area of ‚Äã‚Äãresponsibility of the design system. <br><br><blockquote><h3>  <a href="https://github.com/alfa-laboratory/arui-feather">ARUI Feather</a> is the AK-47 of the world of design systems.  Even lying flat in the sand in the trenches near Baghdad, you can independently disassemble and assemble it without contacting the US Navy service center. </h3></blockquote><br>  For this reason, we use the <a href="https://ru.bem.info/">BEM methodology, which is</a> not fully implemented, excluding <a href="https://ru.bem.info/methodology/key-concepts/">mixes</a> and <a href="https://ru.bem.info/methodology/redefinition-levels/">redefinition levels</a> .  Both of these approaches are about ‚Äúmixing‚Äù, which, when scaled up, includes ‚Äúcrazy mixer‚Äù on projects, making the code hard to debug. <br><br>  Technically, we support the design system through our own Open Source solution - <a href="https://github.com/alfa-laboratory/cn-decorator">cn-decorator</a> , which allows you to use the <a href="https://ru.bem.info/">BEM methodology</a> and <a href="https://reactjs.org/">React</a> together. <br><br><blockquote><h3>  We use the <a href="https://ru.bem.info/">BEM methodology</a> not fully implemented, <br>  excluding <a href="https://ru.bem.info/methodology/key-concepts/">mixes</a> and <a href="https://ru.bem.info/methodology/redefinition-levels/">override levels</a> </h3></blockquote><br><h1>  What problems did we encounter when scaling a design system? </h1><br>  Alfa-Bank already has more than 30 teams that develop their frontend independently, using <a href="https://github.com/alfa-laboratory/arui-feather">ARUI Feather</a> and <a href="https://github.com/alfa-laboratory/cn-decorator">cn-decorator</a> . <br><br>  We do not have a separate dedicated team that focuses on developing the UI / UX library.  The development is carried out according to the principles established in Open Source: there are maintainers of the component library, there are contributors and, of course, there are users.  And all these people one way or another members of different teams.  We deliberately took this step to avoid the appearance of a narrow link in the company in the form of a library development team, to which other teams place an order and wait to be helped. <br><br>  It also helps to solve problems that are really important for creating a product, and not tasks from a vacuum, which service teams often like to invent. <br><br>  Next, I will tell you about the top questions from the teams that arrive to the maintainers, and how we solve them ... <br><br><h2>  And how do I write a component? </h2><br>  This is the simplest component written using <a href="https://github.com/alfa-laboratory/cn-decorator">cn-decorator</a> . <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'cn-decorator'</span></span>; @cn(<span class="hljs-string"><span class="hljs-string">'button'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Button</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render(cn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cn</span></span></span></span><span class="xml"><span class="hljs-tag">() } /&gt;</span></span></span><span class="xml">; } }</span></span></code> </pre> <br>  Simply use the <em>@cn</em> decorator and pass the name of the block, in this example, the <em>'button'</em> .  Now the <em>render</em> method will get its <em>cn</em> instance, which can be used to generate class names.  And our final HTML BEM block would look something like this: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  But there are elements, modifiers, <s>mixes</s> and <s>redefinition levels</s> in the <a href="https://ru.bem.info/">BEM methodology</a> ... The example is a bit more complicated: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'cn-decorator'</span></span>; @cn(<span class="hljs-string"><span class="hljs-string">'button'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Button</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render(cn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cn</span></span></span></span><span class="xml"><span class="hljs-tag">({ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">true</span></span></span></span><span class="xml"><span class="hljs-tag"> }) }&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cn</span></span></span></span><span class="xml"><span class="hljs-tag">('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span></span><span class="xml"><span class="hljs-tag">') }&gt;</span></span></span><span class="xml">Text</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br>  As a result, we get the following layout: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button button_disabled"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button__text"</span></span></span><span class="hljs-tag">&gt;</span></span>Text<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The example clearly shows how <a href="https://github.com/alfa-laboratory/cn-decorator">cn-decorator</a> can handle modifiers and elements.  It remains to add a bit of CSS, and the component is ready! <br><br><h2>  We thought here: if you change the color of the frames here at this button, the conversion will increase by 200%!  Do we need a button from scratch? </h2><br>  Alfa-Bank is a 100% grocery company.  Our teams regularly conduct dozens of experiments.  Sometimes even a slight change in frame color can lead to a change in conversion. <br><br>  If we had a committee of the Committee, we would have to make a decision on such an insignificant experiment at its nearest meeting, wait for the verdict and, after a long six months, still increase the conversion.  Technically, we would use WebComponents and prohibit any intervention in the layout and component API. <br><br>  But life is richer, and each team has the full right to conduct experiments with the design.  For this, the <b>className proxy</b> mechanism is built into <a href="https://github.com/alfa-laboratory/cn-decorator">cn-decorator</a> ... <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/button'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"my-class"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; } }</span></span></code> </pre><br>  As a result, we get the following layout: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button my-class"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Now we can simply block a couple of properties of our button on the project in the <em>.my-class</em> selector ... <br><br><h2>  We still thought and seem to know how to increase conversion by 500%!  But, we need a button ... No, it should be pressed as old, but it looks something completely different ... Do we have to do it again from scratch? </h2><br>  And this happens.  Agree, it's a shame to write a component, the logic of which you are completely satisfied with, but it looks completely different.  Slightly above, I said that we do not like all the blending patterns, but prefer patterns based on composition.  Therefore, we have a mechanism for <b>overloading the name of the block</b> , which allows us to disassemble the component into its component parts: styles and logic. <br><br><img src="https://habrastorage.org/webt/59/e8/bd/59e8bddd5d154916180831.png"><br><br>  This picture has two buttons.  They look completely different, nevertheless they fumble all behavior among themselves.  We achieve this by knowing how to <b>overload the base name of the block</b> . <br><br><img src="https://habrastorage.org/webt/59/e8/bd/59e8bdd7eea0a603768734.png"><br><br>  It is enough just to redo the component and write new styles for it: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/cn'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/button'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./tag-button.css'</span></span>; @cn(<span class="hljs-string"><span class="hljs-string">'tag-button'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TagButton</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Button</span></span></span><span class="hljs-class"> </span></span>{};</code> </pre><br>  <em>TagButton</em> layout layout: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tag-button tag-button_disabled"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tag-button__text"</span></span></span><span class="hljs-tag">&gt;</span></span>Text<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Such a simple pattern allows us to fumble the logic of a component between different representations. <br><br><h2>  And here we have a designer painted a component that looks like Link, but works like Select ... And you do not have this!  And this will increase the conversion by 1000%! </h2><br>  These were simple examples, but often our components are composite (remember, we love composition).  For example, such a composite component is <em>Select</em> : it consists of two components, <em>Button</em> and <em>Popup</em> . <br><br><img src="https://habrastorage.org/webt/59/e8/be/59e8be2c0ab30060458797.png"><br><br>  Approximately the <em>Select</em> code looks like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/cn'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/button'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Popup <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/popup'</span></span>; @cn(<span class="hljs-string"><span class="hljs-string">'select'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Select</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render(cn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cn</span></span></span></span><span class="xml"><span class="hljs-tag">() }&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Popup</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br>  But sometimes teams need to change the composite component.  For example, a team needs <em>Popup</em> to <em>drop</em> out of a link, not a button.  Something like this: <br><br><img src="https://habrastorage.org/webt/59/e8/be/59e8be58bdd32020449071.png"><br><br>  But we have a modular system on ES6 modules.  The only way to replace a composite component is to make a patch at the assembly level.  Here again <a href="https://github.com/alfa-laboratory/cn-decorator">cn-decorator</a> and its feature <b>Dependency Injection Components</b> come to the rescue.  Let's pass our composite components via <em>cn</em> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/cn'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/button'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Popup <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/popup'</span></span>; @cn(<span class="hljs-string"><span class="hljs-string">'select'</span></span>, Button, Popup) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Select</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render(cn, Button, Popup) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cn</span></span></span></span><span class="xml"><span class="hljs-tag">() }&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Popup</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br>  Now we can make our own <em>Select</em> by replacing <em>Button</em> with our own. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/cn'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Select <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/select'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Popup <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'arui-feather/popup'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MyLinkButton <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./my-link-button'</span></span>; @cn(<span class="hljs-string"><span class="hljs-string">'my-link-select'</span></span>, MyLinkButton, Popup) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyLinkSelect</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Select</span></span></span><span class="hljs-class"> </span></span>{};</code> </pre><br><img src="https://habrastorage.org/webt/59/e8/be/59e8bed2f138e666483911.png"><br><br>  Hooray!  Now we can change any composite component of the composition! <br><br><h1>  Now you have seen everything </h1><br>  A design system in a large company is not about technology: it is not about Angular vs Holivar BEM vs React.  A design system is a search for compromises between consistency and the ability to perform quick experiments.  A design system is working with a community and working with business requirements at the same time.  This is a b2b- and b2c-solution: on one side of the scale is a business that wants quickly, cheaply and efficiently, and on the other hand, developers who want to be flexible, extensible, but predictable and reliable. <br><br>  I would like to complete this article with one very precise law, which best explains the architecture of design systems (and, in principle, any architecture): <br><br><blockquote>  ‚ÄúOrganizations that design systems (here we mean a broader interpretation, including not only information systems), inevitably produce a structure whose structure is a copy of the structure of interaction within the organization itself‚Äù <br>  ‚ÄîConway's Law <br></blockquote><br>  <b>Our open source solutions:</b> <br><br>  <a href="https://github.com/alfa-laboratory/arui-feather">ARUI Feather</a> - Alpha Bank UI Component Library <br>  <a href="https://github.com/alfa-laboratory/cn-decorator">cn-decorator</a> - The best way to use the <a href="https://ru.bem.info/">BEM methodology</a> with <a href="https://reactjs.org/">React</a> <br><br>  <b>Our vacancies in front-end development and design:</b> <br><br>  <a href="https://hr.alfabank.ru/vacancies/dizayner-interfeysov-dizayner-tsifrovyh-produktov%3Futm_source%3Dhabr%26utm_medium%3Darticle%26utm_campaign%3Ddesign">Interface Designer / Digital Product Designer</a> <br>  <a href="https://hr.alfabank.ru/vacancies%3Fdepartment%3Dweb-frontend-dev%26utm_source%3Dhabr%26utm_medium%3Darticle%26utm_campaign%3Ddesign">Front End Development</a> <br>  <a href="https://hr.alfabank.ru/vacancies%3Fdepartment%3Ddesign%26utm_source%3Dhabr%26utm_medium%3Darticle%26utm_campaign%3Ddesign">Design</a> <br><br><img src="https://habrastorage.org/webt/59/e8/c0/59e8c00117349772192273.jpeg"></div><p>Source: <a href="https://habr.com/ru/post/340522/">https://habr.com/ru/post/340522/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340510/index.html">How we created Raiffeisen Online ...</a></li>
<li><a href="../340514/index.html">Testing React-Redux Applications</a></li>
<li><a href="../340516/index.html">Search memory leaks in applications on .NET Core under Linux</a></li>
<li><a href="../340518/index.html">Search for documents in network balloons and file dumps</a></li>
<li><a href="../340520/index.html">Five planning observations</a></li>
<li><a href="../340524/index.html">How to make a Public API to be used</a></li>
<li><a href="../340528/index.html">Implementing Mars IS Service Introduction Process</a></li>
<li><a href="../340530/index.html">Modern Web-platform: how to relax and have fun? A practical guide, part 1</a></li>
<li><a href="../340534/index.html">ROS, ELM and Bug</a></li>
<li><a href="../340536/index.html">Tired of writing PropertyDrawer in Unity? There is a better way</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>