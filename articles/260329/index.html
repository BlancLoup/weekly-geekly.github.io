<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Run docker compose on Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Docker-compose is a utility that allows you to run multiple containers at the same time, using a single configuration file for the entire stack of ser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Run docker compose on Windows</h1><div class="post__text post__text-html js-mediator-article">  <a href="https://docs.docker.com/compose/">Docker-compose</a> is a utility that allows you to run multiple containers at the same time, using a single configuration file for the entire stack of services needed by your application.  For example, such a situation: start node.js webapp, which needs mongodb to work, compose will build your container with a webapp (traditional Dockerfile) and launch a container with mongodb inside before launching it;  can also link them to each other.  Which is extremely convenient both in development and in the CI of the application itself.  It so happened that Windows users were deprived of the opportunity to use so many convenient tools, since there is still no official support for this OS.  And the python version for * nix does not work in windows cmd environments, due to the limitations of the Windows console. <br><a name="habracut"></a><br>  In order to run docker-compose, we can use the Babun console shell.  This, so to speak, "pumped" fork cygwin. <br><br>  So, the recipe for running docker-compose on Windows from the babun console is: <br><br>  1. <a href="http://projects.reficio.org/babun/download">Download</a> (~ 280MB!) And install the babun itself, you can learn more about this shell on its <a href="http://babun.github.io/">homepage babun.github.io</a> ; <br>  2. Unpack the archive <i>(after installation, you can delete the resulting folder)</i> ; <br>  3. Run the install.bat file and wait for the installation to take place; <br>  4. Then in the opened babun window, enter the command: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs">babun update</code> </pre> <br>  And make sure that we have the latest version of the shell <b>(hereinafter, all commands are executed only inside the babun shell)</b> ; <br>  5. If you don't like the default shell babun (zsh is used), you can change it to bash.  To do this, enter: <br><br><pre> <code class="bash hljs">babun shell /bin/bash</code> </pre><br>  6. Now we need to install the same Python dependencies that docker-compose lacks.  To do this, execute the following commands in turn: <br><br><pre> <code class="bash hljs">pact install python-setuptools</code> </pre><br><pre> <code class="bash hljs">pact install libxml2-devel libxslt-devel libyaml-devel</code> </pre><br><pre> <code class="bash hljs">curl -skS https://bootstrap.pypa.io/get-pip.py | python</code> </pre><br><pre> <code class="bash hljs">pip install virtualenv</code> </pre><br><pre> <code class="bash hljs">curl -skS https://raw.githubusercontent.com/mitsuhiko/pipsi/master/get-pipsi.py | python</code> </pre><br>  7. Now we are ready to install docker-compose itself: <br><br><pre> <code class="bash hljs">pip install -U docker-compose</code> </pre><br>  If everything went well, we will see: <br><br><pre> <code class="bash hljs">{ ~ } ¬ª docker-compose --version docker-compose 1.2.0</code> </pre><br>  <i>If you received an error, error python fcntl or a message about not finding the docker-compose file, try to find the docker-compose file in the / usr / local / bin, / usr / sbin and similar folders, then you can make a symlink to / bin /.</i>  <i>or add the missing path to the system PATH.</i> <br><br>  For docker-compose to work properly, you need to have the console environment configured to work with the docker-machine or boot2docker, as well as the docker client itself must be available in the system's PATH.  The <a href="https://docs.docker.com/">official documentation</a> tells perfectly well what <a href="https://docs.docker.com/installation/windows/">docker</a> , <a href="https://docs.docker.com/machine/">docker-machine is</a> and how to work with them. <br><br>  To enter the environment of our docker host running in docker-machine, do the following: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(docker-machine env _)</span></span></span><span class="hljs-string">"</span></span></code> </pre><br>  Or the same for boot2docker: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(boot2docker shellinit)</span></span></span><span class="hljs-string">"</span></span></code> </pre><br>  You can verify that the docker client is working properly like this: <br><br><pre> <code class="bash hljs">docker ps</code> </pre><br>  If we get a list of containers or just table headers, then everything is OK! <br><br><pre> <code class="bash hljs">docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES</code> </pre><br>  To launch the application stack, go to the directory of our application, where we should already have prepared the docker-compose.yml or fig.yml file.  The syntax of the yml file is described <a href="https://docs.docker.com/compose/yml/">here</a> . <br><br>  Next to run, enter the command: <br><br><pre> <code class="bash hljs">docker-compose up</code> </pre><br>  If you want to run in the background, add -d.  Compose will build the desired image and launch it according to your docker-compose.yml file. <br><br>  That's all. <br><br>  Thank you for your attention, I hope it was useful. <br><br>  ps I deliberately did not talk about launching compose as a container, since  I consider it uncomfortable. </div><p>Source: <a href="https://habr.com/ru/post/260329/">https://habr.com/ru/post/260329/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260315/index.html">Bitbucket has announced a plugin system: a new round of wrestling cloud VCS</a></li>
<li><a href="../260317/index.html">Quick start Data Binding in Android</a></li>
<li><a href="../260319/index.html">JavaScript immutability</a></li>
<li><a href="../260323/index.html">"Magic quadrant" IaaS providers from Gartner</a></li>
<li><a href="../260325/index.html">How to get an invite to Dribbble with a 100% guarantee</a></li>
<li><a href="../260331/index.html">Run HP ALM tests using Jenkins</a></li>
<li><a href="../260333/index.html">OS Day in Innopolis</a></li>
<li><a href="../260335/index.html">How to calculate load average</a></li>
<li><a href="../260337/index.html">MMORPG without unnecessary details: Open Source</a></li>
<li><a href="../260339/index.html">We program the BitTorrent client. Pure Delphi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>