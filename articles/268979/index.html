<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visualization of static and dynamic networks on R, part 7, the last</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part : 


- network visualization: why? how? 
- visualization parameters 
- best practices - aesthetics and performance 
- data formats a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visualization of static and dynamic networks on R, part 7, the last</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="http://habrahabr.ru/company/infopulse/blog/262079/">first part</a> : <br><ul><li>  network visualization: why?  how? </li><li>  visualization parameters </li><li>  best practices - aesthetics and performance </li><li>  data formats and preparation </li><li>  description of the data sets used in the examples </li><li>  getting started with igraph </li></ul><br>  In the <a href="http://habrahabr.ru/company/infopulse/blog/263947/">second part</a> : colors and fonts in graphs R. <br><br>  In the <a href="http://habrahabr.ru/company/infopulse/blog/263953/">third</a> part: the parameters of graphs, vertices and edges. <br><br>  In the <a href="http://habrahabr.ru/company/infopulse/blog/266199/">fourth</a> part: network placement. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the <a href="http://habrahabr.ru/company/infopulse/blog/266285/">fifth</a> part: the emphasis on the properties of the network, vertices, edges, paths. <br><br>  In the <a href="http://habrahabr.ru/company/infopulse/blog/268917/">sixth</a> part: interactive visualization of networks, other ways of representing the network. <br><br>  In this part: animated visualization of networks, the evolution of the network over time. <br><a name="habracut"></a><br><h4>  Interactive and animated network visualization </h4><br><h4>  Interactive 3D Networks in R </h4><br>  Now it is becoming easier to export R graphics to html / javascript.  There are many libraries, such as <code>rcharts</code> and <code>htmlwidgets</code> , which are useful when creating web graphs directly from R. We look at the <a href="http://christophergandrud.github.io/d3Network/">networkD3</a> library, which, as the name implies, creates interactive visualizations of networks using the D3 javascript library. <br><br>  It should be understood that visualizations created using <code>networkD3</code> are most useful as a starting point for further work.  If you know a little javascript, you can use them as a first step and change them until you get the desired result. <br><br>  If you do not have the <code>networkD3</code> library, install it: <br><pre> <code class="python hljs">install.packages(<span class="hljs-string"><span class="hljs-string">"networkD3"</span></span>)</code> </pre><br>  The data used by this library is a standard list of edges with a couple of small changes.  In order for everything to work, it is necessary that the identifiers of the vertices are numeric and start from scratch.  An easy way to achieve this is to turn our literal identifiers into a factor variable, the result obtained is a number, and to ensure that the numbering is from zero by subtracting one. <br><pre> <code class="python hljs">library(networkD3) el &lt;- data.frame(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.numeric(factor(links$<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>))<span class="hljs-number"><span class="hljs-number">-1</span></span>, to=<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.numeric(factor(links$to))<span class="hljs-number"><span class="hljs-number">-1</span></span> )</code> </pre><br>  Vertices must be in the same order as the source column in the links: <br><pre> <code class="python hljs">nl &lt;- cbind(idn=factor(nodes$media, levels=nodes$media), nodes)</code> </pre><br>  Now you can create an interactive presentation.  The <code>Group</code> parameter is used to color the vertices.  <code>Nodesize</code> is not the size of the vertex, as one might think, but the column number in the vertex data that needs to be used to set the size.  The <code>charge</code> parameter controls repulsion (less than zero) or attraction (more than zero). <br><pre> <code class="python hljs">forceNetwork(Links = el, Nodes = nl, Source=<span class="hljs-string"><span class="hljs-string">"from"</span></span>, Target=<span class="hljs-string"><span class="hljs-string">"to"</span></span>, NodeID = <span class="hljs-string"><span class="hljs-string">"idn"</span></span>, Group = <span class="hljs-string"><span class="hljs-string">"type.label"</span></span>,linkWidth = <span class="hljs-number"><span class="hljs-number">1</span></span>, linkColour = <span class="hljs-string"><span class="hljs-string">"#afafaf"</span></span>, fontSize=<span class="hljs-number"><span class="hljs-number">12</span></span>, zoom=T, legend=T, Nodesize=<span class="hljs-number"><span class="hljs-number">6</span></span>, opacity = <span class="hljs-number"><span class="hljs-number">0.8</span></span>, charge=<span class="hljs-number"><span class="hljs-number">-300</span></span>, width = <span class="hljs-number"><span class="hljs-number">600</span></span>, height = <span class="hljs-number"><span class="hljs-number">400</span></span>)</code> </pre><br><img src="https://habrastorage.org/files/5fc/a55/2ea/5fca552eafb245cf9f2a1da4780d3007.png" width="50%"><br><br><h4>  Simple animation of graphs in R </h4><br>  If you have already installed ndtv, you should also have an animation package.  If not, now is the time to install it - <code>install.packages('animation')</code> .  Note that this package allows you to easily create different (not necessarily related to networks) animations in R. This works like this: several graphs are created, which are then combined into a GIF. <br><br>  The catch here is the following: in order for it to work, you need not only the R package, but also a special <a href="http://imagemagick.org/">ImageMagick</a> program. <br><pre> <code class="python hljs">library(animation) library(igraph) ani.options(<span class="hljs-string"><span class="hljs-string">"convert"</span></span>) <span class="hljs-comment"><span class="hljs-comment"># ,   ,   ImageMagick #   ,      . ani.options(convert="C:/Program Files/ImageMagick-6.8.8-Q16/convert.exe")</span></span></code> </pre><br>  Now we will create 4 network graphics (the same as before), only this time within the <code>saveGIF</code> .  The animation interval is set by the <code>interval</code> parameter, the <code>movie.name</code> parameter sets the name of the gif file. <br><pre> <code class="python hljs">l &lt;- layout.fruchterman.reingold(net) saveGIF( { col &lt;- rep(<span class="hljs-string"><span class="hljs-string">"grey40"</span></span>, vcount(net)) plot(net, vertex.color=col, layout=l) step<span class="hljs-number"><span class="hljs-number">.1</span></span> &lt;- V(net)[media==<span class="hljs-string"><span class="hljs-string">"Wall Street Journal"</span></span>] col[step<span class="hljs-number"><span class="hljs-number">.1</span></span>] &lt;- <span class="hljs-string"><span class="hljs-string">"#ff5100"</span></span> plot(net, vertex.color=col, layout=l) step<span class="hljs-number"><span class="hljs-number">.2</span></span> &lt;- unlist(neighborhood(net, <span class="hljs-number"><span class="hljs-number">1</span></span>, step<span class="hljs-number"><span class="hljs-number">.1</span></span>, mode=<span class="hljs-string"><span class="hljs-string">"out"</span></span>)) col[setdiff(step<span class="hljs-number"><span class="hljs-number">.2</span></span>, step<span class="hljs-number"><span class="hljs-number">.1</span></span>)] &lt;- <span class="hljs-string"><span class="hljs-string">"#ff9d00"</span></span> plot(net, vertex.color=col, layout=l) step<span class="hljs-number"><span class="hljs-number">.3</span></span> &lt;- unlist(neighborhood(net, <span class="hljs-number"><span class="hljs-number">2</span></span>, step<span class="hljs-number"><span class="hljs-number">.1</span></span>, mode=<span class="hljs-string"><span class="hljs-string">"out"</span></span>)) col[setdiff(step<span class="hljs-number"><span class="hljs-number">.3</span></span>, step<span class="hljs-number"><span class="hljs-number">.2</span></span>)] &lt;- <span class="hljs-string"><span class="hljs-string">"#FFDD1F"</span></span> plot(net, vertex.color=col, layout=l) }, interval = <span class="hljs-number"><span class="hljs-number">.8</span></span>, movie.name=<span class="hljs-string"><span class="hljs-string">"network_animation.gif"</span></span> ) detach(package:igraph) detach(package:animation</code> </pre><img src="https://habrastorage.org/files/0d4/709/512/0d47095128824e0fbc15f167997c670c.gif" width="50%"><br><br><h4>  Interactive networks with ndtv-d3 </h4><br><h5>  Interactive graphics static networks </h5><br>  In this section, we will create more complex visualizations with the <code>ndtv</code> package.  To create animations do not need additional software.  If you want to save animations as video files (see <code>?saveVideo</code> ), you need the <a href="http://ffmpg.org/">FFmpeg</a> video converter.  To find out which installer is suitable for your OS, run <code>?install.ffmpeg</code> .  In order to use all available locations, you also need Java. <br><pre> <code class="python hljs">install.packages(<span class="hljs-string"><span class="hljs-string">"ndtv"</span></span>, dependencies=T)</code> </pre><br>  Since this package is part of Statnet, it will accept objects from the <code>network</code> package, like the one we created earlier. <br><pre> <code class="python hljs">library(ndtv) net3</code> </pre><br>  Most of the parameters have intuitive names ( <code>bg</code> is the background color of the graphic).  Two new parameters that were not previously used - <code>vertex.tooltip</code> and <code>edge.tooltip</code> .  They contain information that can be seen by hovering the mouse over a network element.  Note that the parameters for tooltips accept html tags - for example, use the line break tag - <code>&lt;br&gt;</code> .  The <code>launchBrowser</code> parameter <code>launchBrowser</code> R to open the resulting visualization file ( <code>filename</code> ) in the browser. <br><pre> <code class="python hljs">render.d3movie(net3, usearrows = F, displaylabels = F, bg=<span class="hljs-string"><span class="hljs-string">"#111111"</span></span>, vertex.border=<span class="hljs-string"><span class="hljs-string">"#ffffff"</span></span>, vertex.col = net3 %v% <span class="hljs-string"><span class="hljs-string">"col"</span></span>, vertex.cex = (net3 %v% <span class="hljs-string"><span class="hljs-string">"audience.size"</span></span>)/<span class="hljs-number"><span class="hljs-number">8</span></span>, edge.lwd = (net3 %e% <span class="hljs-string"><span class="hljs-string">"weight"</span></span>)/<span class="hljs-number"><span class="hljs-number">3</span></span>, edge.col = <span class="hljs-string"><span class="hljs-string">'#55555599'</span></span>, vertex.tooltip = paste(<span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Name:&lt;/b&gt;"</span></span>, (net3 %v% <span class="hljs-string"><span class="hljs-string">'media'</span></span>) , <span class="hljs-string"><span class="hljs-string">"&lt;br&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Type:&lt;/b&gt;"</span></span>, (net3 %v% <span class="hljs-string"><span class="hljs-string">'type.label'</span></span>)), edge.tooltip = paste(<span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Edge type:&lt;/b&gt;"</span></span>, (net3 %e% <span class="hljs-string"><span class="hljs-string">'type'</span></span>), <span class="hljs-string"><span class="hljs-string">"&lt;br&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Edge weight:&lt;/b&gt;"</span></span>, (net3 %e% <span class="hljs-string"><span class="hljs-string">"weight"</span></span> ) ), launchBrowser=F, filename=<span class="hljs-string"><span class="hljs-string">"Media-Network.html"</span></span>, output.mode=<span class="hljs-string"><span class="hljs-string">'inline'</span></span>)</code> </pre><br><img src="https://habrastorage.org/files/4ff/dc4/daa/4ffdc4daa2a94d9eb744512490c32674.png" width="50%"><br><br><h5>  Network evolution animation </h5><br>  Animated visualizations are a good way to show the time evolution of a small or medium sized network.  At the moment, <code>ndtv</code> is the best R package designed for this purpose - especially after the three-dimensional visualization feature was recently added. <br><br>  In order to work with network animation in <code>ndtv</code> , you need to understand the dynamic format of the Statnet network, implemented in the <code>networkDynamic</code> package.  Let's look at one of the data sets included in the package as an example: <br><pre> <code class="python hljs">data(short.stergm.sim) short.stergm.sim head(<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.data.frame(short.stergm.sim))</code> </pre><br><pre> <code class="diff hljs">## onset terminus tail head onset.censored ## 1 0 1 3 5 FALSE ## 2 10 20 3 5 FALSE ## 3 0 25 3 6 FALSE ## 4 0 1 3 9 FALSE ## 5 2 25 3 9 FALSE ## 6 0 4 3 11 FALSE</code> </pre><br><pre> <code class="diff hljs">## terminus.censored duration edge.id ## 1 FALSE 1 1 ## 2 FALSE 10 1 ## 3 FALSE 25 2 ## 4 FALSE 1 3 ## 5 FALSE 23 3 ## 6 FALSE 4 4</code> </pre><br>  Here we see a list of edges.  Each edge comes from a vertex whose identifier is in the <code>tail</code> column and enters a vertex with an identifier in the <code>head</code> column.  An edge exists from the <code>onset</code> timestamp to the <code>terminus</code> timestamp.  Onset and terminus, marked <i>censored</i> , mean the beginning and end of the observation of the network, and not the actual formation and disappearance of connections. <br><br>  You can easily build a network without taking into account its temporal component (by combining all the vertices and edges ever presented): <br><pre> <code class="python hljs">plot(short.stergm.sim)</code> </pre><br><img src="https://habrastorage.org/files/cf7/114/c96/cf7114c9654b4d28867570ac32e71789.png" width="50%"><br><br>  Construct a network at time 1: <br><pre> <code class="python hljs">plot( network.extract(short.stergm.sim, at=<span class="hljs-number"><span class="hljs-number">1</span></span>) )</code> </pre><br><img src="https://habrastorage.org/files/571/16d/fcd/57116dfcd4c44286bfbcab1c34765d5d.png" width="50%"><br><br>  We construct vertices and edges active from the first to the fifth time instant: <br><pre> <code class="python hljs">plot( network.extract(short.stergm.sim, onset=<span class="hljs-number"><span class="hljs-number">1</span></span>, terminus=<span class="hljs-number"><span class="hljs-number">5</span></span>, rule=<span class="hljs-string"><span class="hljs-string">"all"</span></span>) )</code> </pre><br><img src="https://habrastorage.org/files/4bd/b65/bf3/4bdb65bf3b9c421691d69bb63fd7d1f5.png" width="50%"><br><br>  We construct vertices and edges active from the first to the tenth time instant: <br><pre> <code class="python hljs">plot( network.extract(short.stergm.sim, onset=<span class="hljs-number"><span class="hljs-number">1</span></span>, terminus=<span class="hljs-number"><span class="hljs-number">10</span></span>, rule=<span class="hljs-string"><span class="hljs-string">"any"</span></span>) )</code> </pre><br><img src="https://habrastorage.org/files/8db/156/317/8db156317cb7455d9bf34f1c35d36ab5.png" width="50%"><br><br>  Let's make a short three-dimensional network animation from the example: <br><pre> <code class="python hljs">render.d3movie(short.stergm.sim,displaylabels=TRUE)</code> </pre><br>  Now we are ready to create and animate our own dynamic network.  The dynamic network object can be obtained in several ways: from a set of networks / matrices representing different points in time, from matrices / datasets with lists of vertices and edges, which indicate when they are active or when they change state.  More information is available in <code>?networkDynamic</code> . <br><br>  Add a time component to our media example.  The code below takes a time interval from 0 to 50 and makes the vertices of the network active all the time.  Edges appear one after another, each active from the moment of appearance until the 50th time point.  Create such a network using <code>networkDynamic</code> , the time for the vertices is <code>node.spelss</code> , for the edges ‚Äî <code>edge.spells</code> . <br><pre> <code class="python hljs">vs &lt;- data.frame(onset=<span class="hljs-number"><span class="hljs-number">0</span></span>, terminus=<span class="hljs-number"><span class="hljs-number">50</span></span>, vertex.id=<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>) es &lt;- data.frame(onset=<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span>, terminus=<span class="hljs-number"><span class="hljs-number">50</span></span>, head=<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.matrix(net3, matrix.type=<span class="hljs-string"><span class="hljs-string">"edgelist"</span></span>)[,<span class="hljs-number"><span class="hljs-number">1</span></span>], tail=<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.matrix(net3, matrix.type=<span class="hljs-string"><span class="hljs-string">"edgelist"</span></span>)[,<span class="hljs-number"><span class="hljs-number">2</span></span>]) net3.dyn &lt;- networkDynamic(base.net=net3, edge.spells=es, vertex.spells=vs)</code> </pre><br>  If you just try to build a networkDynamic-network, you get a combined network for the entire observation period,  initial example with the media. <br><pre> <code class="python hljs">plot(net3.dyn, vertex.cex=(net3 %v% <span class="hljs-string"><span class="hljs-string">"audience.size"</span></span>)/<span class="hljs-number"><span class="hljs-number">7</span></span>, vertex.col=<span class="hljs-string"><span class="hljs-string">"col"</span></span>)</code> </pre><br>  One way to show the evolution of the network over time is static pictures for different points in time.  Although you can generate them one by one, as we did above, <code>ndtv</code> offers an easier way.  The team for this is the <code>filmstrip</code> .  As in the <code>par()</code> function that controls the parameters of graphs R, here <code>mfrow</code> sets the number of rows and columns in a table into several graphs. <br><pre> <code class="python hljs">filmstrip(net3.dyn, displaylabels=F, mfrow=c(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>), slice.par=list(start=<span class="hljs-number"><span class="hljs-number">0</span></span>, end=<span class="hljs-number"><span class="hljs-number">49</span></span>, interval=<span class="hljs-number"><span class="hljs-number">10</span></span>, aggregate.dur=<span class="hljs-number"><span class="hljs-number">10</span></span>, rule=<span class="hljs-string"><span class="hljs-string">'any'</span></span>))</code> </pre><img src="https://habrastorage.org/files/672/4e9/894/6724e9894b424970b729d44c9972d964.png"><br><br>  You can calculate in advance the coordinates of the animation (otherwise they are considered at the time of creation of the animation).  Here, <code>animation.mode</code> is a location algorithm ‚Äî one of ‚Äúkamadakawai‚Äù, ‚ÄúMDSJ‚Äù, ‚ÄúGraphviz‚Äù and ‚Äúuse Attribute‚Äù (user-defined coordinates). <br><pre> <code class="python hljs">compute.animation(net3.dyn, animation.mode = <span class="hljs-string"><span class="hljs-string">"kamadakawai"</span></span>, slice.par=list(start=<span class="hljs-number"><span class="hljs-number">0</span></span>, end=<span class="hljs-number"><span class="hljs-number">50</span></span>, interval=<span class="hljs-number"><span class="hljs-number">1</span></span>, aggregate.dur=<span class="hljs-number"><span class="hljs-number">1</span></span>, rule=<span class="hljs-string"><span class="hljs-string">'any'</span></span>)) render.d3movie(net3.dyn, usearrows = F, displaylabels = F, label=net3 %v% <span class="hljs-string"><span class="hljs-string">"media"</span></span>, bg=<span class="hljs-string"><span class="hljs-string">"#ffffff"</span></span>, vertex.border=<span class="hljs-string"><span class="hljs-string">"#333333"</span></span>, vertex.cex = degree(net3)/<span class="hljs-number"><span class="hljs-number">2</span></span>, vertex.col = net3.dyn %v% <span class="hljs-string"><span class="hljs-string">"col"</span></span>, edge.lwd = (net3.dyn %e% <span class="hljs-string"><span class="hljs-string">"weight"</span></span>)/<span class="hljs-number"><span class="hljs-number">3</span></span>, edge.col = <span class="hljs-string"><span class="hljs-string">'#55555599'</span></span>, vertex.tooltip = paste(<span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Name:&lt;/b&gt;"</span></span>, (net3.dyn %v% <span class="hljs-string"><span class="hljs-string">"media"</span></span>) , <span class="hljs-string"><span class="hljs-string">"&lt;br&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Type:&lt;/b&gt;"</span></span>, (net3.dyn %v% <span class="hljs-string"><span class="hljs-string">"type.label"</span></span>)), edge.tooltip = paste(<span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Edge type:&lt;/b&gt;"</span></span>, (net3.dyn %e% <span class="hljs-string"><span class="hljs-string">"type"</span></span>), <span class="hljs-string"><span class="hljs-string">"&lt;br&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Edge weight:&lt;/b&gt;"</span></span>, (net3.dyn %e% <span class="hljs-string"><span class="hljs-string">"weight"</span></span> ) ), launchBrowser=T, filename=<span class="hljs-string"><span class="hljs-string">"Media-Network-Dynamic.html"</span></span>, render.par=list(tween.frames = <span class="hljs-number"><span class="hljs-number">30</span></span>, show.time = F), plot.par=list(mar=c(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)), output.mode=<span class="hljs-string"><span class="hljs-string">'inline'</span></span> )</code> </pre><br><img src="https://habrastorage.org/files/9ea/006/2bb/9ea0062bba454e2f9c93f05f4df6c3d4.png"><br><br>  In addition to dynamic vertices and edges, ndtv accepts dynamic parameters.  You could add them to the es and vs datasets above.  Moreover, the build function can apply special parameters and create dynamic arguments directly in the process.  For example, function (slice) {some calculations with slice} will perform actions in the current time slice, thereby allowing the parameters to be dynamically changed.  Pay attention to the size of the vertices below: <br><pre> <code class="python hljs">compute.animation(net3.dyn, animation.mode = <span class="hljs-string"><span class="hljs-string">"kamadakawai"</span></span>, slice.par=list(start=<span class="hljs-number"><span class="hljs-number">0</span></span>, end=<span class="hljs-number"><span class="hljs-number">50</span></span>, interval=<span class="hljs-number"><span class="hljs-number">4</span></span>, aggregate.dur=<span class="hljs-number"><span class="hljs-number">1</span></span>, rule=<span class="hljs-string"><span class="hljs-string">'any'</span></span>)) render.d3movie(net3.dyn, usearrows = F, displaylabels = F, label=net3 %v% <span class="hljs-string"><span class="hljs-string">"media"</span></span>, bg=<span class="hljs-string"><span class="hljs-string">"#000000"</span></span>, vertex.border=<span class="hljs-string"><span class="hljs-string">"#dddddd"</span></span>, vertex.cex = function(slice){ degree(slice)/<span class="hljs-number"><span class="hljs-number">2.5</span></span> }, vertex.col = net3.dyn %v% <span class="hljs-string"><span class="hljs-string">"col"</span></span>, edge.lwd = (net3.dyn %e% <span class="hljs-string"><span class="hljs-string">"weight"</span></span>)/<span class="hljs-number"><span class="hljs-number">3</span></span>, edge.col = <span class="hljs-string"><span class="hljs-string">'#55555599'</span></span>, vertex.tooltip = paste(<span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Name:&lt;/b&gt;"</span></span>, (net3.dyn %v% <span class="hljs-string"><span class="hljs-string">"media"</span></span>) , <span class="hljs-string"><span class="hljs-string">"&lt;br&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Type:&lt;/b&gt;"</span></span>, (net3.dyn %v% <span class="hljs-string"><span class="hljs-string">"type.label"</span></span>)), edge.tooltip = paste(<span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Edge type:&lt;/b&gt;"</span></span>, (net3.dyn %e% <span class="hljs-string"><span class="hljs-string">"type"</span></span>), <span class="hljs-string"><span class="hljs-string">"&lt;br&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Edge weight:&lt;/b&gt;"</span></span>, (net3.dyn %e% <span class="hljs-string"><span class="hljs-string">"weight"</span></span> ) ), launchBrowser=T, filename=<span class="hljs-string"><span class="hljs-string">"Media-Network-even-more-Dynamic.html"</span></span>, render.par=list(tween.frames = <span class="hljs-number"><span class="hljs-number">15</span></span>, show.time = F), output.mode=<span class="hljs-string"><span class="hljs-string">'inline'</span></span>)</code> </pre><br><img src="https://habrastorage.org/files/25b/df2/710/25bdf271007d4005ab43c30d8c598f54.png"></div><p>Source: <a href="https://habr.com/ru/post/268979/">https://habr.com/ru/post/268979/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268969/index.html">BabylonJS Tutorial - Using Sprites</a></li>
<li><a href="../268971/index.html">Machine learning, predicting the future and analyzing the reasons for success in e-commerce</a></li>
<li><a href="../268973/index.html">Creating a space browser game. First experience</a></li>
<li><a href="../268975/index.html">Recipe for rotating planets in space on HTML5 + JavaScript</a></li>
<li><a href="../268977/index.html">Mental Labor and Physical Education</a></li>
<li><a href="../268981/index.html">Adobe has released an emergency update for Flash Player.</a></li>
<li><a href="../268983/index.html">How to calculate everything in the world by a single SQL query. PostgreSQL window functions</a></li>
<li><a href="../268987/index.html">Accelerate Android code</a></li>
<li><a href="../268989/index.html">Objects of zero size</a></li>
<li><a href="../268991/index.html">Pagination of lists in Android with RxJava. Part I</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>