<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Once again about the indefinite behavior or "why you should not hammer nails with a chainsaw"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=". , , , , , , : - — , , , , , .
 
 - , , , , . , «»   : « … , , , , … ?».
 
 , , , , , , -, , , , «» , , , .
 
  ?
 
 : .
 
    , , . . ( Java, ). ( )...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Once again about the indefinite behavior or "why you should not hammer nails with a chainsaw"</h1><div class="post__text post__text-html js-mediator-article">   <a href="http://habrahabr.ru/post/136283/"></a> <a href="http://habrahabr.ru/post/216189/"></a> <a href="http://habrahabr.ru/post/229963/"></a>.    ,   ,    , , ,  ,       : -        —     , , , , ,   .<br>
<br>
  - ,    ,    , , .    , «»        <b></b>    <b></b>      : «    …   ,   ,            , ,     …    ?».<br>
<br>
,      , , ,       ,  ,  -,   ,  , ,          «» , ,  ,    .<br>
<br>
<a name="habracut"></a>        ?<br>
<br>
 :           .<br>
<br>
   <b></b>    <b> </b> , , .      .        (   Java, ).    (   )   <b></b>     <b></b> , ,  .  -     (,  — UNIX, K&amp;R — , , ANSI  ISO — - ),       -    .         (  ANSI C  ISO C)   .<br>
<br>
 .  <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B8_(%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)"></a>  ,  -,  - :     <a href="http://ru.wikipedia.org/wiki/UNIX">UNIX</a>.    . , ,        ,  ,  UNIX —      ,     <b></b>.<br>
<br>
   -       .<br>
<br>
:    -  ?  :    <b></b> ,      ,    ,   ,      , .  ,   <a href="http://ru.wikipedia.org/wiki/Java">Java</a>  <a href="http://ru.wikipedia.org/wiki/ECMAScript">ECMAScript</a>.  ,   , .         , -     «  » ( 1  129  x86  2,   ARM'  0,          «1 &lt;&lt; 129»         )  ..  ..       OS.    —    « »      10   (    10,    100)?<br>
<br>
 UNIX ( )   .    <b></b>,      UNIX —   .   ? .           ?       <b></b>.  ,           ( <a href="http://ru.wikipedia.org/wiki/X86">8086</a>)?       <b></b>.      ,   «»   ?       <b></b>.  ..  ..  ,        .<br>
<br>
:   —  <b> </b>,        .     ,  .    —  , ,    .       ,   —  ,    ?  :        ,    !     ,  UNIX (  « » Linux)     .   ,            ,    «   »  #  Java.   ,      C#  Java      ,     —    ,     .      ,           Java   « ».<br>
<br>
 ,           UNIX      (     :  ,      ).              <b>,   </b>.           .<br>
<br>
:    ,   «» ?   ,     <a href="http://ru.wikipedia.org/wiki/IAPX_432">iAPX 432</a>     .    .  <a href="http://en.cppreference.com/w/cpp/iterator/begin">begin</a>  <a href="http://en.cppreference.com/w/cpp/iterator/end">end</a>  C++.  —  .     ,  ,   «»    .    ,   :      «  », , ,     — .   ,     —     «» .  ,  ,    ,   —      «»,   —   «   ».<br>
<br>
      « ». , ,        <code>int</code>  <code>unsigned int</code>.     <a href="http://ru.wikipedia.org/wiki/%25D0%2594%25D0%25BE%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25B4_(%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2587%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B0)"> </a>  <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2580%25D0%25B0%25D1%2582%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25B4"> </a>.      : «,     ,   -        ».   « »:       (    ,  ),          .       <a href="http://ru.wikipedia.org/wiki/%25D0%2594%25D0%25BE%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25B4_(%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2587%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B0)"> </a>   <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2580%25D0%25B0%25D1%2582%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25B4"> </a>,   -    .         <code>int</code>  <code>unsigned int</code>  …   -.<div class="spoiler"><b class="spoiler_title">    </b><div class="spoiler_text"> ,        ,    .</div></div><br>
   (  "<a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5,_%25D0%25BE%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258F%25D0%25B5%25D0%25BC%25D0%25BE%25D0%25B5_%25D1%2580%25D0%25B5%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D0%25B5%25D0%25B9">,  </a> aka "<a href="http://en.wikipedia.org/wiki/Unspecified_behavior">implementation-defined behavior</a>") .    (  "<a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B5%25D0%25BE%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BB%25D1%2591%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D0%25BE%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5"> </a>" aka "<a href="http://en.wikipedia.org/wiki/Undefined_behavior">undefined behavior</a>")            <b> </b>:   ,        ,  <b></b>    ,    . <b>         </b> ( , ,  ). <div class="spoiler"><b class="spoiler_title">     </b><div class="spoiler_text"><a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B5%25D1%2583%25D1%2582%25D0%25BE%25D1%2587%25D0%25BD%25D1%258F%25D0%25B5%25D0%25BC%25D0%25BE%25D0%25B5_%25D0%25BF%25D0%25BE%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5"> </a> aka <a href="http://en.wikipedia.org/wiki/Unspecified_behavior">unspecified behavior</a> —                 (           <code>f()+g()</code>  <b>   </b>       ,  -      ,     ).  —   :    .</div></div><br>
,      —         - .         ,     ,   .  , ?   :   <a href="http://ru.wikipedia.org/wiki/Intel_8086">8086</a>  <a href="http://ru.wikipedia.org/wiki/Intel_8087">8087</a>.    ,   , .        ,    ,    <code>float</code>     <code>int</code> ( <code>long</code>  16- )    !   (    <a href="http://ru.wikipedia.org/wiki/Intel_8087">8087</a>)      ,   <a href="http://ru.wikipedia.org/wiki/Intel_8086">8086</a>  «»!<br>
<br>
:          (       <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%258A%25D0%25B5%25D0%25B4%25D0%25B8%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_(%25D1%2581%25D1%2582%25D1%2580%25D1%2583%25D0%25BA%25D1%2582%25D1%2583%25D1%2580%25D0%25B0_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585)"></a>),    «»:   <code>int</code>,     <code>int</code>,    <code>float</code>,     <code>float</code>. ,       ,     —      ,   !  <b></b> ,  .<br>
<br>
        —     !     <b></b>      <b></b>    ,        ,  ?     <code>p</code>   <code>realloc</code>'    <code>realloc</code>'   .    ,   : , ,    « »        -  …   ,     ! <br>
<br>
 …  ,  :<br>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
int main() {
  int *p = (int*)malloc(sizeof(int));
  int *q = (int*)realloc(p, sizeof(int));
  *p = 1;
  *q = 2;
  if (p == q)
    printf("%d %d\n", *p, *q);
}
$ clang -O realloc.c ; ./a.out 
1 2
</code></pre>…   , ,     ?   :    <code>realloc</code>,         ,  : <code>p₁</code>, <code>p₂</code>  <code>q</code>.    <code>p₂</code>    ,         ,    <code>q</code> (, ,    ,      —   ).      <code>*p₂</code>  <code>*q</code>  .    — : <code>*p₂</code>   <code>1</code>,  <code>q</code>  <code>2</code>.        <code>printf</code>. !    <code>p₂ == q</code> -  <code>false</code>   ,    —        .<br>
<br>
,        ,      .  , ,    « »   ,    «».      …      — <a href="http://lurkmore.to/%25D0%25A1%25D0%25A1%25D0%2597%25D0%2591"></a>,    «» .<br>
<br>
, ,  :    ( ,     -  )   <a href="http://habrahabr.ru/post/229963/">      ,   —   </a>  ,        C:  , , ,   , <b></b> .        ,           .         , …   !<br>
<br>
       <a href="http://habrahabr.ru/company/pvs-studio/blog/239629/">   ,      ?</a>  : - ?     !      ,  <b> </b> !    <b></b>,  <b></b>       :   <b></b>   , ,      ,     ,  ,    —      ,      .  !<br>
<br>
       ,          .  GCC          :    (    —        <a href="https://gcc.gnu.org/bugzilla/show_bug.cgi%3Fid%3D33498">   </a>),  <a href="https://gcc.gnu.org/onlinedocs/gcc-4.9.1/gcc/Code-Gen-Options.html">-fwrapv</a>,      <a href="http://ru.wikipedia.org/wiki/%25D0%2594%25D0%25BE%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25B4_(%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2587%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B0)"> </a>   <a href="https://gcc.gnu.org/onlinedocs/gcc-4.9.1/gcc/Code-Gen-Options.html">-ftrapv</a>,       .                  <a href="https://gcc.gnu.org/onlinedocs/gcc-4.9.1/gcc/Optimize-Options.html">-fno-strict-aliasing</a>,     <a href="https://gcc.gnu.org/onlinedocs/gcc-4.9.1/gcc/Type-Attributes.html">may_alias</a>.     .    —  , ,   ,   <b></b>.<br>
<br>
             , , ,   :       ,   ,   —       - ,    99%       <b> </b>.   —    - ,     —          .</div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/230777/">https://habr.com/ru/post/230777/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../230761/index.html">With great strength comes a big responsibility - the safety technique in AngularJS</a></li>
<li><a href="../230763/index.html">Implementing bundles of goods in online stores ReadyScript</a></li>
<li><a href="../230769/index.html">Mailing lists as part of customer service</a></li>
<li><a href="../230771/index.html">Information Security Books (Part 2)</a></li>
<li><a href="../230775/index.html">What programming language is most loved in Yandex? And is love always mutual?</a></li>
<li><a href="../230779/index.html">A set of McThings sensors: we connect everything and everyone to the “Internet of Things”</a></li>
<li><a href="../230781/index.html">CentOS 7 Overview. Part 2: Identity Management</a></li>
<li><a href="../230783/index.html">McDonald's methods do not work, what to do?</a></li>
<li><a href="../230785/index.html">Dimmer programming on the radio module nrf24le1 from COOLRF</a></li>
<li><a href="../230789/index.html">How not to go to university USA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>