<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to tame clouds: examples of practical use. What is there on the technical side?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The fifth post, written by Mikhail Mikheev on his practical experience in vCloud IT-GRAD : 
 ‚ÄúFrom a technical point of view, vCloud Director is an ad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to tame clouds: examples of practical use. What is there on the technical side?</h1><div class="post__text post__text-html js-mediator-article">  The fifth post, written by Mikhail Mikheev on his practical experience in <a href="http://www.it-grad.ru/services/vmware-vcloud">vCloud IT-GRAD</a> : <br>  <em>‚ÄúFrom a technical point of view, vCloud Director is an add-on application over vSphere.</em>  <em>It has information about clusters and pools, distributed switches and port groups, and storages.</em>  <em>The task that this add-in solves is to conveniently allocate the above resources to groups of virtual machines ‚Äî the essence of the interface.</em> <a name="habracut"></a><br><br><h3>  What is there on the technical side?  Details ... </h3><br><br>  As already mentioned, it is based on the correct hardware + vSphere + vCloud Director, Datacener Tier 3 and the most advanced technology platform for building a virtualization infrastructure. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Details: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f31/c01/e45/f31c01e45b383d60f8814fe667062bf3.jpg" alt="image"><br><br>  But on the means of turning the infrastructure into the cloud, we‚Äôll dwell a little bit more - so that there is an understanding of what can be done with it. <br><br>  The key object of the cloud we are talking about is VMware vCloud Director. <br><br>  From a technical point of view, vCloud Director is an add-on application over vSphere. <br>  It has information about clusters and pools, distributed switches and port groups, and storages. <br><br>  The task that this add-in solves is to conveniently allocate the above resources to groups of virtual machines ‚Äî the essence of the interface. <br><br>  On the one hand, the interface for the cloud provider administrator is to divide a lot of many available resources into ‚Äúclouds‚Äù of different customers. <br><br>  On the other hand, providing the interface to an administrator, or a customer representative without the skills of a system administrator, for deploying virtual servers, working with them, and managing the intraclouds network. <br><br>  That is, it is enough to indicate to the administrator or operator - to allocate so many resources to this customer.  For a processor, these are megahertz, gigabytes for memory, in which storage (roughly faster / slower) to locate disks of its VM, which networks are available (more detailed about networks later). <br><br>  Now the company administrator, who receives this cloud at his disposal, in a couple of clicks creates the necessary number of virtual machines for himself, allocates the necessary number of resources to them within the specified limits and connects them to the necessary networks.  Everything, then you can begin to do the work we need.  Details of what and how - were given in previous posts. <br><br>  If everything is pretty clear with the allocation of processor performance, memory and disks - usually how much we have specified for our VMs, we received so much and paid for so much;  I will tell you a bit more about networks. <br><br>  For example, what I see when I go to the appropriate section of the interface (Fig. 1): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2d/0ae/4cd/f2d0ae4cd2b0a2c27e2ef115bd523f0c.png" alt="image"><br>  <i>Figure 1. Cloud networks</i> <br><br>  Here I see two networks available to me.  They are quite clearly called NAT and Internal. <br><br>  What does this mean (Fig. 2): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/27e/105/383/27e105383c1febd6625188e9b6658f72.png" alt="image"><br>  <i>Figure 2. Illustration of default intracloud networks</i> <br><br>  That, if necessary, we will connect some VMs to an isolated network, and some - to a network with access to the outside world. <br><br>  Moreover, even groups of virtual machines connected to one network with one tick (Fig. 3) can be isolated from each other - as if they are connected to different switches - to lift several identical configurations it can be very convenient not to worry about the absence of conflicts in our network. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d8/d90/80e/6d8d9080e2bc500f0581ac5188546ce7.png" alt="image"><br>  <i>Figure 3. Automatic isolation of this group of virtual servers in the internal cloud network</i> <br><br>  In this screenshot you can see the step of the wizard for deploying vApp from a template - this is where we can specify the isolation of this vApp from others, even if it is connected to the same Internal or NAT network. <br><br>  Moreover, the VMware cloud infrastructure allows us to do all the trivial things in a very trivial way.  If we go into the network properties from the first picture, we will see the following settings: <br><br>  Built-in DHCP - it is already present out of the box, we just customize it for ourselves (Fig. 4). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/15b/4b2/ab7/15b4b2ab7a70ef6fb564856c79c44af4.png" alt="image"><br>  <i>Figure 4. Setting up a regular DHCP server</i> <br><br>  Configure a firewall to protect our virtual machines from the dangers of the outside world (Figure 5). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/227/8e9/3c2/2278e93c2aa9b54c936c50f341449320.png" alt="image"><br>  <i>Figure 5. Configuring a regular firewall between the outside world and the NA network</i> <br><br>  What public IP addresses are available to us (not in the screenshot, but there is just a list), and port mapping settings (Fig. 6). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2dd/65a/03d/2dd65a03d3d40d5d5f49ebc01515afab.png" alt="image"><br>  <i>Figure 6. Configuring port forwarding from outside to a NAT network VM</i> <br><br>  Thus, we can implement any version of the interaction of virtual machines we need with each other and, if necessary, with the outside world.  Moreover, for simpler cases, the DHCP server, firewall and NAT servers offered by the infrastructure itself will suffice.  DNS is, of course, also provided. <br><br>  So, in a short time I created a couple of vApp-sets of virtual machines that I needed (fig.7): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/529/609/e3a/529609e3abd7dbbd2957763a9bf894c8.png" alt="image"><br>  <i>Figure 7. Infrastructure for my task</i> <br><br>  You can open a console to any virtual machine and, with the minimal configuration of NAT, rdp or any other necessary session. <br><br>  On any group of virtual machines (there are three of them in the previous figure), in the context menu it is possible to save this group as a template - and then trivially replicate once prepared virtual machines, moreover, with depersonalization, if necessary (Fig. 8.9). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3bd/513/f1e/3bd513f1e330298fa3c5c0c323e5bb2d.png" alt="image"><br>  <i>Figure 8. Starting the deployment of a VM group from a template</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/619/e89/d7f/619e89d7f7bf5b58f0111bc41ae73e50.png" alt="image"><br>  <i>Figure 9. Steps to the VM Group Deployment Wizard from a template</i> <br><br>  The test environment is deployed. <br><br>  List of virtual machines (Fig. 10). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/984/3fc/0e3/9843fc0e3e43da8facb6b9a6cca3a5cf.png" alt="image"><br>  <i>Figure 10. List of virtual machines from all my cloud groups</i> <br><br>  Consoles open to them, RDP, the View client connects to desktops - in general, everything is in the ointment. <br><br>  A separate advantage is the ease of building network infrastructures.  For example, for the View, the task of deploying a security server acting as an intermediary may be relevant.  And within the framework of enhanced protection, it will be correct to divide the network into external and internal, see the picture (Fig. 11). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/498/74e/e91/49874ee91550760ab54bf3b47d3fc5f9.png" alt="image"><br>  <i>Figure 11. Illustration of changing the View infrastructure</i> <br><br>  So, the transition from configuration one to configuration two is again a couple of mouse clicks.  Add a VM, indicate that it has two network interfaces, that one is connected to the internal and the other to the external network.  Well, install the required service inside. <br><br>  In principle, the minimum problem has been solved - I installed the necessary operating systems, the necessary applications, completed the required settings. <br><br>  The task is optimum and the task is maximum - a pilot project and implementation.  They will require a minimum of effort.  Look here (fig. 12). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d54/116/9d4/d541169d4a83edd47177570dd35e0166.png" alt="image"><br>  <i>Figure 12. Illustration of the triviality of loading servers from the cloud to themselves</i> <br><br>  As you can see, in a couple of clicks we can unload the ‚Äúacquired by overwork‚Äù to ourselves, and start up well-established and knowingly working services already at home.  Moreover, there is no dependence on the arrival of our local iron ‚Äî we will unload when we are ready (fig. 13, 14). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a1/2c2/3af/4a12c23af69e8737ed5cc69fe51a11ed.png" alt="image"><br>  <i>Figure 13. Downloading from the cloud to us locally</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c8a/b44/f8c/c8ab44f8cc88bfabed31513c29e8828b.png" alt="image"><br>  <i>Figure 14. From these files, you can import a loaded VM group to your local vSphere</i> <br><br>  And if we like everything in the cloud - why unload it?  We continue to exploit the services we need in the cloud, continuing to use all the buns.  This is the absence of the need to invest in their local hardware, and adding resources at times, and the lack of a headache about low-level administration, the highest availability. <br><br>  So, according to the results of testing, you can also implement your solution in the production environment in the cloud - most likely you will like everything. <br><br>  And then we will talk about other types of tasks that can be solved with the use of such infrastructure, and about the near future - what other nice things will be added. </div><p>Source: <a href="https://habr.com/ru/post/123697/">https://habr.com/ru/post/123697/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123690/index.html">Entertaining IT startup arithmetic</a></li>
<li><a href="../123692/index.html">Developing a Twitter live search application using Knockout, jQuery and ASP.NET MVC 3</a></li>
<li><a href="../123694/index.html">Problems lurking for any creator of rubrics</a></li>
<li><a href="../123695/index.html">New advances in the automotive industry</a></li>
<li><a href="../123696/index.html">Do I need to stuff an e-book wi-fay, ICQ, twitter client, etc.?</a></li>
<li><a href="../123698/index.html">On the dangers of copyright and the benefits of licensed programs</a></li>
<li><a href="../123699/index.html">Alteration of the D-link DIR-620 router in Zyxel Keenetic or making candy from the city</a></li>
<li><a href="../123700/index.html">Once again about ‚ÄúMercurial vs. Git‚Äù (with pictures)</a></li>
<li><a href="../123702/index.html">Virtual store in the Korean subway</a></li>
<li><a href="../123703/index.html">How to start a search engine, or a few thoughts about the crawler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>