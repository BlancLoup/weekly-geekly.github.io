<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Advanced Simplified JSON</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is such a well-known and very simple text format JSON . 

 JSON format defines the following types: null , boolean ( true , false ), number , st...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Advanced Simplified JSON</h1><div class="post__text post__text-html js-mediator-article">  There is such a well-known and very simple text format <a href="http://json.org/">JSON</a> . <br><br>  JSON format defines the following types: <i>null</i> , <i>boolean</i> ( <i>true</i> , <i>false</i> ), <i>number</i> , <i>string</i> , <i>array</i> , <i>object</i> . <br><br>  But what if you set the task of representing any JSON data using only 4 types: <i>number</i> , <i>string</i> , <i>array</i> , <i>object</i> ? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/774/48d/583/77448d583a4a45288ac3a45c74c9f0dc.png"><br><br>  Welcome to the abnormal programming! <br>  Program Guest: <b>NSNJSON</b> (Not So Normal JSON)! <br><a name="habracut"></a><br><br><h3>  <b>Content</b> </h3><br>  <a href="https://habr.com/ru/post/269461/">Terms and designations</a> <br>  <a href="https://habr.com/ru/post/269461/">Representations for "simple" types</a> <br>  <a href="https://habr.com/ru/post/269461/">Views for ‚Äúcontainer‚Äù types</a> <br>  <a href="https://habr.com/ru/post/269461/">JSON recovery</a> <br>  <a href="https://habr.com/ru/post/269461/">JSON recovery for ‚Äúsimple‚Äù types</a> <br>  <a href="https://habr.com/ru/post/269461/">JSON recovery for ‚Äúcontainer‚Äù types</a> <br>  <a href="https://habr.com/ru/post/269461/">Examples</a> <br>  <a href="https://habr.com/ru/post/269461/">Drivers</a> <br>  <a href="https://habr.com/ru/post/269461/">Conclusion</a> <br><br>  Let's try to approach this task a little formally.  In this article I will use the notation taken from <a href="http://json.org/">json.org</a> .  And for convenience I will add some of my own. <br><br><a name="definitions"></a><h4>  <b>Terms and designations</b> </h4><br>  We introduce the type <i>boolean</i> = <i>true</i> |  <i>false</i> . <br><br>  And also we will enter the type <i>name</i> , the values ‚Äã‚Äãof which make up a subset of the values ‚Äã‚Äãof type <i>string</i> ‚Äî those values ‚Äã‚Äãthat are the correct name for the object field. <br><br>  NSNJSON views use only three fields: <br><ul><li>  <i>t</i> - <i>type</i> - value type (required field), </li><li>  <i>v</i> - <i>value</i> - value (required field), </li><li>  <i>n</i> - <i>name</i> - the name of the field (used in the field representations of the object). </li></ul><br><br><a name="presentation_simple"></a><h4>  <b>Representations for "simple" types</b> </h4><br>  To the ‚Äúsimple‚Äù types we will refer the following: <i>null</i> , <i>boolean</i> , <i>string</i> , <i>number</i> . <br><br>  Define an NSNJSON representation of P <sub>null</sub> : <i>null</i> ‚Üí <i>object</i> <br><pre><code class="javascript hljs">value -&gt; { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"null"</span></span> }</code> </pre> <br>  Define an NSNJSON representation of P <sub>true</sub> : <i>true</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">value -&gt; { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }</code> </pre><br>  Define an NSNJSON representation of P <sub>false</sub> : <i>false</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">value -&gt; { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }</code> </pre><br>  Define the NSNJSON representation of P <sub>string</sub> : <i>string</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">value -&gt; { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: value }</code> </pre><br>  Define the NSNJSON representation of P <sub>number</sub> : <i>number</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">value -&gt; { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"number"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: value }</code> </pre><br>  Define an NSNJSON representation of P <sub>simple</sub> : <i>‚Äúsimple‚Äù type</i> ‚Üí <i>object</i> : <br>  P <sub>simple</sub> (value) = P <sub>null</sub> (value), if <i>value is a</i> value of type <i>null</i> , <br>  P <sub>simple</sub> (value) = P <sub>true</sub> (value) if <i>value</i> is of type <i>true</i> , <br>  P <sub>simple</sub> (value) = P <sub>false</sub> (value) if <i>value</i> is of the type <i>false</i> , <br>  P <sub>simple</sub> (value) = P <sub>string</sub> (value), if <i>value</i> is of type <i>string</i> , <br>  P <sub>simple</sub> (value) = P <sub>number</sub> (value) if <i>value</i> is of type <i>number</i> . <br><br><a name="presentation_container"></a><h4>  <b>Views for ‚Äúcontainer‚Äù types</b> </h4><br>  The following will be attributed to ‚Äúcontainer‚Äù types: <i>array</i> , <i>object</i> . <br><br>  Both <i>array</i> and <i>object</i> contain elements, therefore it is necessary: <br><ul><li>  first, determine the presentation for each element, </li><li>  secondly, to determine the final representation of the entire "container", based on the representations of its elements. </li></ul><br>  First, consider the "containers", the values ‚Äã‚Äãin which have only the "simple" type. <br><br>  First, let's deal with arrays, that is, values ‚Äã‚Äãof type <i>array</i> . <br><br>  Let <i>data</i> array be a value of type <i>array</i> , then you can represent an array as follows: <br>  data = (e <sub>1</sub> , ..., e <sub>n</sub> ), <br>  where for all i = 1, ..., n, <br>  n is the length of the array <br>  e <sub>i</sub> - array element - the value of the ‚Äúsimple‚Äù type. <br><br>  Apply the presentation function P <sub>simple</sub> to each element of the <i>data</i> array. <br><br>  dataElementsPresentation = (P <sub>simple</sub> (e <sub>1</sub> ), ..., P <sub>simple</sub> (e <sub>n</sub> )). <br><br>  Define an NSNJSON representation of P <sub>array</sub> : <i>array</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">data -&gt; { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"array"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: dataElementsPresentation }</code> </pre><br>  Now let's deal with objects, that is, values ‚Äã‚Äãof type <i>object</i> . <br><br>  Let <i>data</i> object be a value of type <i>object</i> , then you can represent an object as follows: <br>  data = {(name <sub>1</sub> , value <sub>1</sub> ), ..., (name <sub>n</sub> , value <sub>n</sub> )}, <br>  where for all i = 1, ..., n, <br>  n is the number of fields of the object <br>  (name <sub>i</sub> , value <sub>i</sub> ) - the field of the object, <br>  name <sub>i</sub> - field name <br>  value <sub>i</sub> - field value - value of the ‚Äúsimple‚Äù type. <br><br>  The JSON specification says that an object is an unordered set of fields, but in each specific case, we can always iterate over all the fields of the object and number them in the order of enumeration.  Using this technique, it is possible to represent the <i>data</i> object as an array of fields without loss of generality. <br><br>  Let <i>valuePresentation</i> be the result of applying the function P <sub>simple</sub> to the value <i>value</i> . <br><br>  Define the NSNJSON representation of the P <sub>field</sub> : <i>name</i> √ó <i>value</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">(name, value) -&gt; { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: name, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: valuePresentation.t, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: valuePresentation.v }</code> </pre><br>  Apply the representation function P <sub>field</sub> to each field of the <i>data</i> object. <br><br>  dataFieldsPresentation = (P <sub>field</sub> (name <sub>1</sub> , value <sub>1</sub> ), ..., P <sub>field</sub> (name <sub>n</sub> , value <sub>n</sub> )). <br><br>  Define an NSNJSON representation of P <sub>object</sub> : <i>object</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">data -&gt; { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: dataElementsPresentation }</code> </pre><br>  Define the NSNJSON representation of P <sub>container</sub> : <i>‚Äúcontainer‚Äù type</i> ‚Üí <i>object</i> : <br>  P <sub>container</sub> (value) = P <sub>array</sub> (value), if <i>value</i> is of type <i>array</i> , <br>  P <sub>container</sub> (value) = P <sub>object</sub> (value) if <i>value</i> is of type <i>object</i> . <br><br>  Finally, we define the final NSNJSON representation of P <sub>json</sub> : <i>json</i> ‚Üí <i>object</i> : <br>  P <sub>json</sub> (value) = P <sub>simple</sub> (value), if <i>value is a</i> value of "simple" type, <br>  P <sub>json</sub> (value) = P <sub>container</sub> (value), if <i>value is the</i> value of a ‚Äúcontainer‚Äù type. <br><br>  If now in the presentation algorithms for ‚Äúcontainer‚Äù types instead of the function P <sub>simple we</sub> use the function P <sub>json</sub> , then we get the presentation functions that can work with ‚Äúcontainers‚Äù containing any JSON values. <br><br>  Thus, a scheme was constructed for representing any valid JSON data using only four JSON types: <i>number</i> , <i>string</i> , <i>array</i> , <i>object</i> . <br><br><a name="repair"></a><h4>  <b>JSON recovery</b> </h4><br>  We have JSON, we can now get NSNSJON from it. <br>  But is it possible now to restore the original JSON? <br>  Can. <br><br>  Define the function of getting the type of JSON values ‚Äã‚ÄãP <sub>type</sub> : <i>object</i> ‚Üí <i>string</i> <br><pre> <code class="javascript hljs">presentation -&gt; presentation.t</code> </pre><br>  Let <i>type</i> be the result of applying the <sub>type</sub> function to the <i>presentation</i> . <br><br><a name="repair_simple"></a><h4>  <b>JSON recovery for ‚Äúsimple‚Äù types</b> </h4><br>  Define the recovery function R <sub>null</sub> : <i>object</i> ‚Üí <i>null</i> <br><pre> <code class="javascript hljs">presentation -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"null"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre><br>  Define the restore function R <sub>number</sub> : <i>object</i> ‚Üí <i>string</i> <br><pre> <code class="javascript hljs">presentation -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"string"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> presentation.v; }</code> </pre><br>  Define the restore function R <sub>number</sub> : <i>object</i> ‚Üí <i>number</i> <br><pre> <code class="javascript hljs">presentation -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"number"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> presentation.v; }</code> </pre><br>  Define the recovery function R <sub>boolean</sub> : <i>object</i> ‚Üí <i>boolean</i> <br><pre> <code class="javascript hljs">presentation -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> presentation.v != <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  Define the recovery function R <sub>simple</sub> : <i>object</i> ‚Üí <i>"simple" type</i> <br>  R <sub>simple</sub> (presentation) = R <sub>null</sub> (presentation), if <i>type</i> = "null", <br>  R <sub>simple</sub> (presentation) = R <sub>string</sub> (presentation), if <i>type</i> = "string", <br>  R <sub>simple</sub> (presentation) = R <sub>number</sub> (presentation), if <i>type</i> = "number". <br>  R <sub>simple</sub> (presentation) = R <sub>boolean</sub> (presentation), if <i>type</i> = "boolean", <br><br><a name="repair_container"></a><h4>  <b>JSON recovery for ‚Äúcontainer‚Äù types</b> </h4><br>  As before, we first consider ‚Äúcontainers‚Äù, the values ‚Äã‚Äãof which have only the ‚Äúsimple‚Äù type. <br><br>  Let there be a <i>presentation presentation of</i> the <i>data</i> array. <br><br>  Apply the restore function R <sub>simple</sub> to each element of the <i>presentation.v</i> array. <br>  data = (e <sub>1</sub> , ..., e <sub>n</sub> ), <br>  where for all i = 1, ..., n, <br>  e <sub>i</sub> - R <sub>simple</sub> (presentation.v [i]) is an element of an array. <br><br>  Define the recovery function of the R <sub>array</sub> : <i>object</i> ‚Üí <i>array</i> <br><pre> <code class="javascript hljs">presentation -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"array"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data; }</code> </pre><br>  Suppose now there is a <i>presentation</i> of the <i>data</i> object. <br><br>  Apply the recovery function R <sub>simple</sub> to each element of the <i>presentation.v</i> array and using the value of the <i>n</i> field, we restore the object fields. <br>  data = (e <sub>1</sub> , ..., e <sub>n</sub> ), <br>  where for all i = 1, ..., n, <br>  e <sub>i</sub> - (name <sub>i</sub> , value <sub>i</sub> ) - the field of the object, <br>  name <sub>i</sub> - presentation.v [i] .n - field name <br>  value <sub>i</sub> - R <sub>simple</sub> (presentation.v [i]) - field value. <br><br>  Define the recovery function R <sub>object</sub> : <i>object</i> ‚Üí <i>object</i> <br><pre> <code class="javascript hljs">presentation -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"object"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data; }</code> </pre><br>  Define the recovery function R <sub>container</sub> : <i>object</i> ‚Üí <i>"container" type</i> <br>  R <sub>container</sub> (presentation) = R <sub>array</sub> (value), if <i>type</i> = "array", <br>  R <sub>container</sub> (presentation) = R <sub>object</sub> (value) if <i>type</i> = "object". <br><br>  And finally, we define the recovery function R <sub>json</sub> : <i>object</i> ‚Üí <i>json</i> : <br>  R <sub>json</sub> (presentation) = R <sub>simple</sub> (presentation), if the value of the ‚Äúsimple‚Äù type is restored, <br>  R <sub>json</sub> (presentation) = R <sub>container</sub> (presentation) if the value of the ‚Äúcontainer‚Äù type is restored. <br><br>  If now in the recovery algorithms for ‚Äúcontainer‚Äù types instead of the function R <sub>simple we</sub> use the function R <sub>json</sub> , then we will get presentation functions that can work with ‚Äúcontainers‚Äù containing any JSON values. <br><br><a name="examples"></a><h4>  <b>Examples</b> </h4><br>  In conclusion, I would like to show some simple examples demonstrating the use of the NSNJSON format. <br><br><div class="spoiler">  <b class="spoiler_title">examples</b> <div class="spoiler_text"><table><tbody><tr><th>  Json </th><th>  NSNJSON (Not So Normal JSON) </th></tr><tr><td><pre> <code class="javascript hljs"><span class="hljs-literal"><span class="hljs-literal">null</span></span></code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"null"</span></span> }</code> </pre></td></tr><tr><td><pre> <code class="javascript hljs"><span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }</code> </pre></td></tr><tr><td><pre> <code class="javascript hljs"><span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }</code> </pre></td></tr><tr><td><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">213</span></span></code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"number"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">213</span></span> }</code> </pre></td></tr><tr><td><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"Habrahabr"</span></span></code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-string"><span class="hljs-string">"Habrahabr"</span></span> }</code> </pre></td></tr><tr><td><pre> <code class="javascript hljs">[ <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-number"><span class="hljs-number">213</span></span>, <span class="hljs-string"><span class="hljs-string">"Habrahabr"</span></span> ]</code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"array"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"null"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }, { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-string"><span class="hljs-string">"Habrahabr"</span></span> } ] }</code> </pre> </td></tr><tr><td><pre> <code class="javascript hljs">[ { <span class="hljs-string"><span class="hljs-string">"userId"</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-string"><span class="hljs-string">"status"</span></span>: <span class="hljs-string"><span class="hljs-string">"online"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"userId"</span></span>: <span class="hljs-number"><span class="hljs-number">19</span></span>, <span class="hljs-string"><span class="hljs-string">"status"</span></span>: <span class="hljs-string"><span class="hljs-string">"offline"</span></span> } ]</code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"array"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"userId"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"number"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span> }, { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"status"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-string"><span class="hljs-string">"online"</span></span> } ] }, { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"userId"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"number"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">19</span></span> }, { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"status"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-string"><span class="hljs-string">"offline"</span></span> } ] } ] }</code> </pre></td></tr><tr><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"null_field"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"true_field"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"false_field"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"number_field"</span></span>: <span class="hljs-number"><span class="hljs-number">213</span></span>, <span class="hljs-string"><span class="hljs-string">"string_field"</span></span>: <span class="hljs-string"><span class="hljs-string">"Habrahabr"</span></span>, <span class="hljs-string"><span class="hljs-string">"array_field"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"JSON"</span></span>, <span class="hljs-string"><span class="hljs-string">"NSNJSON"</span></span> ] }</code> </pre></td><td><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"null_field"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"null"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"true_field"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }, { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"false_field"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"number_field"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"number"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-number"><span class="hljs-number">213</span></span> }, { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"string_field"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-string"><span class="hljs-string">"Habrahabr"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"n"</span></span>: <span class="hljs-string"><span class="hljs-string">"array_field"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"array"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-string"><span class="hljs-string">"JSON"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"t"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"v"</span></span>: <span class="hljs-string"><span class="hljs-string">"NSNJSON"</span></span> } ] } ] }</code> </pre></td></tr></tbody></table><br></div></div><br><br><a name="drivers"></a><h4>  <b>Drivers</b> </h4><br>  I made two small drivers for those who want to play with this format. <br><br>  Drivers are available on GitHub on the project page: <a href="https://github.com/nsnjson">nsnjson</a> ! <br>  Drivers: <br><ul><li>  <a href="https://github.com/nsnjson/nsnjson-nodejs-driver">Node.js Driver (v0.0.3)</a> </li><li>  <a href="https://github.com/nsnjson/nsnjson-java-driver">Java Driver (v0.0.3)</a> </li></ul><br>  Good news for fans of <a href="https://www.npmjs.com/">npmjs.com</a> ! <br>  Now the Node.js driver is available <a href="https://www.npmjs.com/package/nsnjson-driver">there too</a> ! <br><br>  And if you want to try NSNJSON using the Java driver, then on the project page you can find instructions on how to configure the <a href="https://maven.apache.org/"><b>Maven</b></a> pom.xml <a href="http://maven.apache.org/ref/3.3.3/maven-model/maven.html"><b>file</b></a> so as not to download the driver manually!  :) <br><br><a name="conclusion"></a><h4>  <b>Conclusion</b> </h4><br>  It remains for me to remind you that NSNJSON (Not So Normal JSON) was the guest of the program ‚ÄúAbnormal Programming‚Äù today! <br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/269461/">https://habr.com/ru/post/269461/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269439/index.html">Notifications on different platforms, what are they? Bonus on smart watches Moto 360</a></li>
<li><a href="../269447/index.html">Section about client programming on HighLoad ++</a></li>
<li><a href="../269449/index.html">Setting the correct time on the site and server</a></li>
<li><a href="../269455/index.html">Oracle has updated Java</a></li>
<li><a href="../269459/index.html">Host-Tracker added new agents for monitoring site availability</a></li>
<li><a href="../269463/index.html">PostgreSQL Evangelist Memo: Criticizing MySQL More Intelligently</a></li>
<li><a href="../269465/index.html">We have problems with promises</a></li>
<li><a href="../269467/index.html">Transfer. Cutting corners: why rails can kill ruby</a></li>
<li><a href="../269469/index.html">Payler is back, or a story about conflicts and their consequences</a></li>
<li><a href="../269471/index.html">Marshmallow. This must be done by everyone. Add SDK 23 support to our applications.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>