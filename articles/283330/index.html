<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Build your AirFiber yourself Or NxN - the designer of the radio relay line from Ubiquiti</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Three years ago, we studied with interest the first AirFiber , a very progressive Ubiquiti solution for that time. The first models had a good capacit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Build your AirFiber yourself Or NxN - the designer of the radio relay line from Ubiquiti</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/19c/47e/4c7/19c47e4c732042d2896fbe33f0beb651.jpg" alt="image"><br>  Three years ago, we studied with interest the first <a href="https://habrahabr.ru/company/comptek/blog/156753/">AirFiber</a> , a very progressive Ubiquiti solution for that time.  The first models had a good capacity, but the built-in antennas limited the maximum communication range. <br>  The second generation, <a href="http://comptek.ru/catalog/ubiquiti/item/AF-5X">AirFiber X</a> , released later, made it possible to work on virtually any antenna, but it had significantly less capacity and did not support the FDD mode. <br>  Today, Ubiquiti offers to combine the advantages of both systems and the ability to assemble the right AirFiber for you from a set of bricks;  at the same time, it becomes possible to use large-sized antennas, and get gigabit capacity at the same time.  Interesting? <br><a name="habracut"></a><br>  A classic solution with a lack of channel capacity and the inability to switch to a more capacious technology is channel aggregation ‚Äî connecting the capacity of several available channels into an aggregated channel of high capacity.  But there are problems - several large antennas can be placed not on each mast. <br>  In classic RRL, XPIC technology is used in such situations: the installation of two radio blocks on one antenna in different polarizations. <br>  The new <a href="http://comptek.ru/catalog/ubiquiti/item/AF-MPX4">AirFiber NxN solution</a> , at first glance, implements a similar ideology, and even the site indicates support for MIMO 4x4 and 8x8. <br>  Unfortunately, there are only two truly independent polarizations, so when building an aggregated channel in practice, a separate frequency is required for each channel. <br>  Practical evidence of the complexity of high-order MIMO systems at large distances can be considered the practical absence of truly working broadband radio access solutions with a formula more complex than 2x2, although three-channel 802.11 radio modules appeared about 8 years ago. <br>  Therefore, AirFiber NxN cannot be considered a high-order MIMO solution: independent radio devices in the adapter do not reuse the frequency, but operate in different nominal values, that is, spectral efficiency (Mbit capacity) / (MHz ether) does not increase. <br>  However, GPS synchronization and the AirFiber X strict spectral mask allows using frequencies without a guard interval, that is, a 4x4 system can use adjacent frequencies, for example, 5180, 5200, 5220 and 5240 with a bandwidth of 20 MHz.  And this is a big plus. <br><img src="https://habrastorage.org/files/e8d/7ab/2c7/e8d7ab2c76a240e68c51f12f00729f0f.jpg" alt="image"><br>  Two AirFiber 5x with 20 MHz bands without guard intervals. <br>  But among the shortcomings worth noting the loss in the antenna divider.  The total negative impact on the communication channel will be up to 8 dB for a 2-port device and up to 14 dB for a 4-port device (by the port, I mean the slot for AirFiber 5x). <br>  Also, AirFiber X does not support channel aggregation on its own, this should be done on an external switch.  That, however, is not difficult.  For this role, Ubiquiti is well suited to <a href="http://comptek.ru/catalog/ubiquiti/item/EP-R6%2528EU%2529">EdgePoint</a> series <a href="http://comptek.ru/catalog/ubiquiti/item/EP-R6%2528EU%2529">devices</a> - weatherproof routers and switches with the ability to power connected devices. <br>  Application EdgePoint allows you to lay on the tower just one cable, and, in the presence of power, it can be optical fiber. <br><img src="https://habrastorage.org/files/15a/0c9/1c9/15a0c91c928d44b08ee5c7d720317f8e.jpg" alt="image"><br>  A nuance in link aggregation is the need for equal bandwidth of aggregated links, since OSPF and LAG available on EdgePoint cannot balance the load between channels with different bandwidth, the total capacity in such a situation will be equal to the capacity of the least capacious link multiplied by the number of channels in the chassis . <br>  Accordingly, each AirFiber should operate in the same frequency band and with the same modulation, or the capacity of the 4-channel system will be 4 capacities of the narrowest channel. <br>  From the point of view of frequency regulation of the use of ether, the AirFiber basket is perceived as a set of point-to-point channels, for each of which you need to receive a frequency assignment.  There may be questions - the coordinates of all channels will be the same. <br><img src="https://habrastorage.org/files/998/c7b/a99/998c7ba990134f05a35df5f909e29bca.jpg" alt="image"><br>  From the point of view of channel redundancy, everything is not smooth either: an external device must make the decision to switch to the backup channel, some traffic loss may occur during the switch. <br>  The most promising backup protocols in this case are: LACP with the functionality of reserve pool members or dynamic routing with an increased backup channel metric. <br>  In both cases, unfortunately, unlike relay stations, the main and backup channels require independent frequencies. <br>  That is, this is not a fully-fledged hot spare technology in one frequency nominal (when installing 2 AirFiber in one nominal, even in the absence of user traffic, the signal traffic of the backup channel will interfere with the main channel). <br><img src="https://habrastorage.org/files/741/606/796/741606796bbf4457af8ca8463ead6b22.jpg" alt="image"><br>  Consider the efficiency of using the NxN system in two situations: limited and unlimited frequency resource. <br>  The first situation is the legalization of the use of a communication channel, the choice between one device with a 40 MHz band and 2 with a 20 MHz band.  Device parameters when working in narrower frequency bands are better, but a loss of signal level is added to the splitter. <br><img src="https://habrastorage.org/files/432/386/653/432386653d7d4b0a9913825b4fc8640d.jpg" alt="image"><br>  Energy system (sensitivity, plus power, plus antenna gain) modulation in the version of one device and two devices with a splitter, 34 dB antenna <br>  We see that the losses in the splitter practically leveled the energy gain from two devices - a single device wins over the power of the 6 dB channel, which allows, in some cases, with a low signal level, to work for modulation higher, providing greater performance of the communication channel. <br>  The actual meaning of this configuration can be achieved through redundancy: when a single device fails, the channel will remain operational, albeit with half the performance. <br>  True, to prioritize traffic in order to choose what to transmit to a narrowed channel, traffic marking and limiting will have to be performed on an external device. <br><img src="https://habrastorage.org/files/3b8/fbd/acb/3b8fbdacb1c34785bee2d1d3ccce0156.jpg" alt="image"><br>  The dependence of the data processing queue on traffic marking. <br>  You cannot change it or configure traffic limiters. <br>  The second situation is getting the maximum capacity, regardless of the frequency bands. <br>  That is, we are considering option 1 of the device in the 50 MHz band versus 4x50 MHz bands with a splitter and 2x50 MHz AirFiber 5 bands. <br><img src="https://habrastorage.org/files/54e/49a/173/54e49a173c4346be84db90af139c8a12.jpg" alt="image"><br><br>  System power (sensitivity, plus power, plus antenna gain) by modulation in the version of one device and four devices with a 34 dB antenna splitter. <br>  The orientation of the solution to short spans was even more clearly manifested: x4 on 1 device has better power than x1 on 4, and the capacities are the same. <br><br>  Here the situation is unambiguous. <br>  The loss of channel energy due to the splitter is compensated by the number of data transmission channels, even if the multichannel system works 1 modulation slower - the total capacity is higher. <br>  Let us move from theory to practice, consider the experience of foreign colleagues who had the task of providing a high-performance communication channel to a distance of 8 km. <br>  The classic solution, AirFiber 24, provided good performance, but the channel's capacity was significantly reduced in the rain (which we warned about when AirFiber 24 appeared), respectively, it was required to transfer traffic over 200 Mbit duplex. <br><img src="https://habrastorage.org/files/e48/bc9/e8a/e48bc9e8ac854666a8c946da88650200.jpg" alt="image"><br>  Total traffic on the aggregated communication channel (recessions - the effect of rain on the 24 GHz channel) <br>  Parameters of the component channels <br><img src="https://habrastorage.org/files/d3c/bca/aac/d3cbcaaaca5442a98ace61d99f8a8634.jpg" alt="image"><br><img src="https://habrastorage.org/files/341/faf/799/341faf79996242678d01969527e699ec.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://community.ubnt.com/t5/airFiber-Stories/4x4-NXN-saves-my-bacon/cns-p/1511295">community.ubnt.com/t5/airFiber-Stories/4x4-NXN-saves-my-bacon/cns-p/1511295</a> <br>  findings <br>  AirFiber NxN is not a high-order MIMO system because it does not reuse polarization, but only adds new frequency bands and new devices. <br>  Due to the large losses in the combine, the system makes sense on short and medium range radio channels. <br>  The system does not have built-in means of reservation and channel aggregation, this functionality will have to be implemented on third-party devices. <br>  However, the AirFiber NxN great saves space on the tower, and also allows you to use old antennas. <br><img src="https://habrastorage.org/files/c3c/5f2/5a2/c3c5f25a277449da890112588b0322fd.jpg" alt="image"><br><br>  Old antenna takes on new life with AirFiber NxN </div><p>Source: <a href="https://habr.com/ru/post/283330/">https://habr.com/ru/post/283330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../283318/index.html">What is a "native application"?</a></li>
<li><a href="../283320/index.html">Targeted attacks on hotel chains: a practical example</a></li>
<li><a href="../283324/index.html">Microsoft fixed major vulnerabilities in Windows</a></li>
<li><a href="../283326/index.html">Rebase flow. Method of preparation and its support in GitHub, GitLab, BitBucket</a></li>
<li><a href="../283328/index.html">Creating a touch node for the Internet of things on Intel Edison</a></li>
<li><a href="../283332/index.html">Announcement! We invite you to take part in the hackathon on machine learning technologies</a></li>
<li><a href="../283334/index.html">Moscow Python Meetup ‚Ññ35 (May 23, 7 pm)</a></li>
<li><a href="../283340/index.html">DevConf-2016: conference program</a></li>
<li><a href="../283342/index.html">ONLYOFFICE Documents 1.3 for iOS: how the mobile spreadsheet editor is organized</a></li>
<li><a href="../283344/index.html">Theory and practice of escape from the 5 GHz band</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>