<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Siege - a utility for load testing web servers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I hope that this material will be useful to someone. 

 Siege is a utility for load testing web servers. It was created in order to give developers th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Siege - a utility for load testing web servers</h1><div class="post__text post__text-html js-mediator-article"> I hope that this material will be useful to someone. <br><br>  <b>Siege</b> is a utility for load testing web servers.  It was created in order to give developers the opportunity to test the resource intensity of their code in conditions as close as possible to real ones.  Siege can also mimic multiple users accessing a site at once.  This allows you to keep the server as if ‚Äúunder siege‚Äù for a long time.  The number of requests made during the "siege" is calculated from the total number of users and the number of their requests to the server.  For example, 20 users, appealing 50 times, create a total of 1000 requests.  The result displayed by the program after testing includes the time spent on the check, the total amount of information transmitted (including headers), the average response time of the server, its bandwidth and the number of requests for which the answer came with a code of 200. This data is generated and issued at each verification.  These are described in detail below.  Siege has 3 main models of work - regression testing mode, Internet simulation mode and brute force mode.  The program reads a portion of the links from the configuration file and accesses them in turn (regression testing mode) or by accident (internet simulation).  Or the user can specify a single address to which all calls will be made - brute force mode. <br><br>  <b>UPD:</b> thanks for the pluses, transferred to the thematic blog. <br><a name="habracut"></a><br>  <b>Launch parameters</b> <br>  The launch format for Siege is as follows: ‚Äúsiege options‚Äù.  The program can take the following parameters: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      '-V' <br>  '‚ÄìVersion' <br>  Displays the current version. <br><br>  '-h' <br>  '‚ÄìHelp' <br>  Displays help. <br><br>  '-C' <br>  '‚ÄìConfig' <br>  Shows the current configuration.  Siege reads the settings and displays their contents.  You can change them by editing the $ HOME / .siegerc file.  If you do not have such a file, you should run the siege.config utility, which will generate it <br><br>  '-v' <br>  '‚ÄìVerbose' <br>  Detailed information output.  If this option is enabled, Siege will display detailed information about all calls to the server.  It includes the HTTP protocol type, the response code and the address of the request.  Example: <br><br>  <i>HTTP / 1.1 200 OK: /cgi-bin/whoohoo.cgi?first=Homer&amp;last=simpson</i> <br><br>  This option is especially useful in the case of regression testing or imitation of the Internet, when a program contacts a wide range of addresses. <br><br>  '-g URL' <br>  '‚ÄìGet URL' <br>  Makes an appeal to the specified link.  Receives headers from the server and displays them on the screen.  A great tool for spot testing. <br><br>  '-c NUM' <br>  '‚ÄìConcurrent = NUM' <br>  The number of simulated users.  The option allows testing the web server with the number of simultaneous users specified in the NUM.  In fact, this number is limited only by computer resources, but in practice, for a good result, you only need to simulate a couple of hundred user sessions.  Remember that with any configuration you still do not simulate the behavior of real people.  If only because they linger on each page, reading the information, and do not enumerate the links one by one. <br><br>  '-i' <br>  '‚ÄìInternet' <br>  This option is used with a configuration file containing many links.  When it is turned on, Siege randomly selects the addresses of requests and makes requests to them.  In reality, you cannot tell users which pages and in what sequence they should go.  They will always do this in different ways.  Internet simulation mode attempts to emulate this behavior.  Please note that during the testing process some addresses from the file may not be accessed at all because they are randomly selected. <br><br>  '-t NUMm' <br>  '‚ÄìTime = NUMm' <br>  The time over which must be tested.  It is specified in the ‚ÄúNUMm‚Äù format, where NUM is the number of time units, and ‚Äúm‚Äù is the modifier S, M, or H for seconds, minutes, and hours, respectively.  For example, in order to run the test for an hour, you can use the following combinations: -t3600S, -t60M, -t1H.  The modifier is not case sensitive, but there must be no spaces between it and the number. <br><br>  '-f FILE' <br>  '‚ÄìFile = FILE' <br>  Configuration file containing links (SIEGE_HOME / etc / urls.txt).  You can use this option to specify a different path to it.  For example: <br><br>  <i>siege ‚Äìfile = serverb.txt</i> <br><br>  '- l' <br>  '‚ÄìLog' <br>  This option tells Siege that it should record all information in the SIEGE_HOME / var / siege.log log file.  With each new testing file will be added. <br><br>  '- m MESSAGE' <br>  '‚ÄìMark = MESSAGE' <br>  This option allows you to specify an expression that will be separated records of different tests in the log file.  It is not necessary to use the -l option with it, since  it will be turned on automatically.  If the expression in MESSAGE contains spaces, do not forget to put it in quotes. <br><br>  '-d NUM' <br>  '‚ÄìDelay = NUM' <br>  This option indicates the delay between calls from the simulated users to the server.  The delay time is calculated from one to the entered number.  When testing in resource-intensive areas of the application, it is desirable to set a delay equal to a second (-d1).  By default, the delay is from 1 second to 3. This option allows you to cover the server with waves of requests. <br><br>  <b>Configuration file</b> <br>  Starting from version 2.00, Siege supports configuration files in which you can store frequently used commands.  This can help with a lot of testing with almost the same settings.  This file is called .seigerc and is located in the home directory of the user who installed Siege.  If this file is not there (for example, you did not install the program), you can use the siege.config utility to create it.  Inside the file are various directives with comments to them.  Editing You can carry out using any text editor. <br><br>  <b>URL format</b> <br>  Siege understands the following link format: <br><br>  [protocol: //] [server.domain.xxx] [: port] [/ directory / file] <br><br>  Only addresses with HTTP and HTTPS protocols are supported.  The minimum you need to specify is the name of the server.  If you are inside a domain and are testing a server named shemp, and it is registered in your hosts file or on the local DNS, then the command <br>  ‚ÄúSiege -u shemp‚Äù will call the address <a href="http://shemp.xn--d1acufc.net/index.shtml">shemp.domain.net / index.shtml</a> .  If you want Siege to work with the https server, then you need to specify an additional protocol.  Thus, the command ‚Äúsiege -u <a href="https://shemp/">shemp</a> ‚Äù will force the program to contact the address <a href="https://shemp.yourdomain.net/index.shtml">shemp.yourdomain.net/index.shtml</a> . <br><br>  <b>File with links</b> <br>  Before you run a regression test or simulate the Internet, you need to pass the list of addresses to be checked to the program.  To do this, put them in the file SIEGE_HOME / etc / urls.txt.  In it addresses should be located one per line: <br><br>  <i><a href="http://homer.whoohoo.com/howto.jsp">homer.whoohoo.com/howto.jsp</a></i> <i><br></i>  <i><a href="http://homer.whoohoo.com/index.jsp">homer.whoohoo.com/index.jsp</a></i> <i><br></i>  <i><a href="http://homer.whoohoo.com/cgi-bin/hello.pl%3Ffirst%3Dbart%26last%3Dsimpson">homer.whoohoo.com/cgi-bin/hello.pl?first=bart&amp;last=simpson</a></i> <br>  etc. <br><br>  Siege-2.06 and later versions support POST and GET directives.  GET directive is used by default and it is not necessary to specify it.  But for a POST request, the directive should be specified.  Example: <br><br>  <i><a href="http://homer.whoohoo.com/cgi-bin/hello.pl">homer.whoohoo.com/cgi-bin/hello.pl</a> POST name = homer</i> <i><br></i>  <i><a href="http://homer.whoohoo.com/haha.jsp">homer.whoohoo.com/haha.jsp</a> POST word = doh! &amp; scope = ALL</i> <br><br>  When you run a program without the [-u URL |  --url = URL], it takes addresses from this particular file.  In normal mode, the Siege starts from the beginning of the file and gradually addresses all the addresses.  If you selected the Internet simulation mode [-i |  --internet], then addresses are randomly accessed.  You can specify a different path to the file with links through the [-f FILE |  --file = FILE]. <br><br>  <b>Variables</b> <br>  Starting with release 2.57, Siege supports declaring variables in a .siegerc file and in files with links (urls.txt).  Siege variable declaration syntax is similar to UNIX shell syntax.  They are declared one per line in the format ‚Äúvarname = value‚Äù <br>  The name of the variable is placed inside the $ () or $ {} construct.  You can use them for example to quickly switch between two protocols of checked links: <br><br>  <i>PROT = https: //</i> <i><br></i>  <i>$ (PROT) eos.joedog.org/siege/index.php</i> <i><br></i>  <i>$ (PROT) eos.joedog.org/wacky/index.php</i> <i><br></i>  <i>$ (PROT) eos.joedog.org/scout/index.php</i> <i><br></i>  <i>$ (PROT) eos.joedog.org/libping/index.php</i> <i><br></i>  <i>$ (PROT) eos.joedog.org/gunner/index.php</i> <br><br>  In this example, in order to change the protocol of all links, you need to change just one line. <br><br>  <b>Log file</b> <br>  When Siege starts with the logging option [-l / - log] enabled, the program logs all output information to PREFIX / var / siege.log, where PREFIX is the Siege installation directory (see the INSTALL file).  Everything that is displayed by the program on the screen in standard mode is written to the log file.  Information when recording is separated by commas for quick import into other formats. <br>  To separate the results of different checks there is an option -m ‚Äútext‚Äù / - mark = ‚Äùtext‚Äù.  It places the specified message in the log file before starting the scan so that you can quickly find its result.  For example, if you are testing links using the http and https protocols, you can leave notes like ‚Äústart HTTPS testing‚Äù in the logs.  If you use the -m / ‚Äìmark option, the -l / ‚Äìlog option is not required. <br><br>  <b>Research statistics</b> <br>  Statistics generated by the program include the total testing time, the total amount of data transferred (including headers), the average response time of the server, its throughput and the number of hits to which the server responded with code 200. The report itself is generated by the Lincoln Stein script torture .pl.  Here is an example of a Siege report: <br><br>  <i>Ben: $ siege -u shemp.whoohoo.com/Admin.jsp -d1 -r10 -c25</i> <i><br></i>  <i>..Siege 2.65 2006/05/11 23:42:16</i> <i><br></i>  <i>..Preparing 25 concurrent users for battle.</i> <i><br></i>  <i>The server is now under siege ... done</i> <i><br></i>  <i>Transactions: 250 hits</i> <i><br></i>  <i>Elapsed time: 14.67 secs</i> <i><br></i>  <i>Data transferred: 448000 bytes</i> <i><br></i>  <i>Response time: 0.43 secs</i> <i><br></i>  <i>Transaction rate: 17.04 trans / sec</i> <i><br></i>  <i>Throughput: 30538.51 bytes / sec</i> <i><br></i>  <i>Concurrency: 7.38</i> <i><br></i>  <i>Status code 200: 250</i> <i><br></i>  <i>Successful transactions: 250</i> <i><br></i>  <i>Failed transactions: 0</i> <i><br></i> <br><br>  Here: <br>  Transactions - the number of calls to the server.  In the example, this number is calculated from 25 users [-c25] who launched 10 hits each [-r10], which totals 250. <br>  Elapsed time - the total duration of the test.  It is calculated starting from the first call to the server and ending with the response to the last request.  In the example, the test took 14.67 seconds. <br>  Data transferred is the total amount of data transferred by all simulated users.  It includes both request bodies and their headers. <br>  Response time - the average time for which the server managed to respond to the client. <br>  Transaction rate - the average number of requests that the server managed to process per second.  It is obtained by dividing the total number of requests by the elapsed time. <br>  Throughput - the average number of data transmitted every second from the server to users. <br>  Concurrency - the number of simultaneous connections at which the server responds without delays. <br>  Successful transactions - the number of requests for which the server responded with a code less than 400. <br><br>  <b>Platforms</b> <br>  The multi-stream Siege was built and successfully tested on the following platforms: <br><br>  * AIX (powerpc-ibm-aix4.2.1.0).  Siege was compiled and successfully tested using the ‚ÄúIBM C for AIX‚Äù compiler version 5. <br>  * GNU / Linux (i [56] 86-pc-linux-gnu).  Siege was developed on SuSE GNU / Linux with gcc. <br>  * HP-UX (hppa2.0w-hp-hpux11.00) Siege was compiled on this platform using ‚ÄúHP ANSI C compiler‚Äù and gcc. <br>  * Solaris (sparc-sun-solaris2. [678]) Siege loves this platform.  It was normally compiled on it using gcc. <br>  * Microsoft Windows (pc-i686-cygwin) Siege was ported to Cygwin Funkman.  All Siege versions after 1.5 work fine on it. <br><br>  <b>The authors</b> <br>  Jeffrey Fulmer - Designed and implemented Siege as webmaster at Armstrong World Industries. <br>  <b>License Information</b> <br>  For complete license information, see the COPYING file.  All rights reserved by Jeffrey Fulmer.  Everyone is allowed to make and distribute copies of this document without any changes.  Allowed to change this document and distribute its modified versions only in case of indication of changed places. <br><br>  Translated by <a href="https://forum.antichat.net/member.php%3Fu%3D55061">Kuzya</a> </div><p>Source: <a href="https://habr.com/ru/post/65128/">https://habr.com/ru/post/65128/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../65114/index.html">New iGoogle features</a></li>
<li><a href="../65117/index.html">iRasta</a></li>
<li><a href="../65120/index.html">Installing Zend Optimizer on Ubuntu 9.04</a></li>
<li><a href="../65121/index.html">NetCat forum holes</a></li>
<li><a href="../65122/index.html">Strangeness with gogrid.ru</a></li>
<li><a href="../65137/index.html">The world's largest private information database: 40 million people</a></li>
<li><a href="../65139/index.html">Home Router Concepts</a></li>
<li><a href="../65141/index.html">ThrowCatch.me</a></li>
<li><a href="../65142/index.html">Chronicle of training for hotkeys</a></li>
<li><a href="../65144/index.html">Adobe webinar ‚ÄúAdobe Connect: web conferencing technologies for effective work‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>