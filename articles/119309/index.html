<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of IFrame application for VKontakte</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Despite the fact that this social sphere is ‚Äúdearly loved‚Äù by the audience of Habr, I still decided to take a chance and publish small notes devoted t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of IFrame application for VKontakte</h1><div class="post__text post__text-html js-mediator-article">  Despite the fact that this social sphere is ‚Äúdearly loved‚Äù by the audience of Habr, I still decided to take a chance and publish small notes devoted to the development of applications on Dzhanga for it. <br><br>  I warn you, some of them are quite captain, and some have nothing to do with Vkontakte or even Jange, in general, do not blame me. <br><br>  Under the cut: <br><ul><li>  django-vkontakte-iframe and vkontakte </li><li>  Download the application on the wall </li><li>  Flash Stub </li><li>  Session in beloved IE </li><li>  All ‚ÄúflashVars‚Äù are sent by the GET request. </li><li>  Work in the frame </li><li>  Access to user information </li><li>  Checking the validity of the layout </li><li>  JSLint is your friend and comrade </li><li>  Thumbnail generation </li><li>  Moderation through a proxy model </li><li>  Import Settings </li><li>  Optimization </li></ul><br>  <i>For advertising: The</i> application is called <a href="http://vk.com/app2181676">"Collector"</a> and is intended for people involved in collecting coins, stamps, cards and other items.  At the moment, only a catalog of MTG maps is filled, but in the future, catalogs for other items will be created and filled.  Of course, we are happy to hear all your suggestions and constructive criticism. <br><a name="habracut"></a><br><h4>  django-vkontakte-iframe and vkontakte </h4><br>  These modules allow you to immediately begin to develop useful functionality without understanding the documentation of the VKontakte API. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://bitbucket.org/kmike/django-vkontakte-iframe/">The first</a> takes on the authorization of users, allowing you to work through the usual dzhangovskih users, but he already <a href="http://habrahabr.ru/blogs/python/105627/">mentioned</a> in Habr√© by the author himself. <br><br>  However, after some time, the application began to refuse to identify users.  The problem was in the refferer field, in vk_iframe / forms.py it is spelled as follows: <br><br>  <i>referrer = forms.ChoiceField (REFERRER_CHOICES, required = False)</i> <br><br>  From the <a href="http://vk.com/developers.php%3Fo%3D-1%26p%3D%25CF%25F0%25E8%25EB%25EE%25E6%25E5%25ED%25E8%25FF%2520%25C2%25CA%25EE%25ED%25F2%25E0%25EA%25F2%25E5">documentation</a> it can be concluded that the REFERRER_CHOICES specified in the module are outdated, and besides, the fixed list does not suit us because of ad_ {AD_ID}.  Therefore, a logical replacement will solve our problems: <br><br>  <i>referrer = forms.CharField (required = False)</i> <br><br>  Of course, REFERRER_CHOICES is no longer needed and can be safely removed. <br><br>  <a href="https://bitbucket.org/kmike/vkontakte/">The second</a> module presents a wrapper for the API, but firstly not all methods can be used from the server, and secondly, in my opinion, in most cases it is more convenient and optimal to access the API via javascript from the user‚Äôs page.  In the application under development, I used this module in a small <a href="http://pastebin.com/rkxr3hFM">middleware</a> to periodically update user profiles created by django-vkontakte-iframe and to get the user's friends to determine if the caller has the right to view the pages owned by the user for which ‚ÄúShow only me and friends‚Äù is displayed. <br><br>  It is worth noting a funny moment, on June 16, when trying to access the page, the application suddenly began to show ... nothing.  Viewing requests showed that the 500th error is returned to a single request.  Those.  Please note that this was returned not by the application, but by Vkontakte itself!  A short investigation showed that the case was in the first request to the API, but after a while the situation returned to normal. <br><br><h4>  Download the application on the wall </h4><br>  For the promotion of an application, it is often useful to add the ability for the user to place on the walls of friends a message generated by the application, at the click on which people will enter the application.  In our case, this was a ‚Äúboast‚Äù subject in the user's collection. <br><br>  The sequence of publication is simple: <br><ol><li>  Get the user id on the wall which will be posting </li><li>  You get the server address for uploading photos using <a href="http://vk.com/pages.php%3Fo%3D-1%26p%3Dwall.getPhotoUploadServer">wall.getPhotoUploadServer</a> </li><li>  You form a request with the photo field containing the desired photo to the specified POST address </li><li>  <a href="http://vk.com/pages.php%3Fo%3D-1%26p%3Dwall.savePost">Call wall.savePost</a> with the received photo data and <a href="http://vk.com/pages.php%3Fo%3D-1%26p%3Dwall.savePost">specify the</a> message with the recipient </li><li>  And show the user a confirmation window using the <a href="http://vk.com/pages.php%3Fo%3D-1%26p%3DJavascript%2520API">JS API</a> saveWallPost method </li></ol><br>  Most of all I had to torment myself with uploading a photo, primarily because of my own inattention.  The <a href="http://vk.com/pages.php%3Fo%3D-1%26p%3D%25CF%25F0%25EE%25F6%25E5%25F1%25F1%2520%25E7%25E0%25E3%25F0%25F3%25E7%25EA%25E8%2520%25F4%25E0%25E9%25EB%25EE%25E2%2520%25ED%25E0%2520%25F1%25E5%25F0%25E2%25E5%25F0%2520%25C2%25CA%25EE%25ED%25F2%25E0%25EA%25F2%25E5">documentation</a> had to follow the instructions ‚ÄúDownloading an application to the user's wall‚Äù, and I persistently tried to follow ‚ÄúUploading photos to the user's wall‚Äù. <br><br>  I advise you to pay attention to the inaccuracy in the instructions, in response to the upload of a POST photo with a request, an object comes with a photo field, not photos.  Plus, keep in mind that VKontakte resizes a photo up to 75 pixels, so there is no sense to send a very large picture. <br><br>  And finally, how to create this very POST request.  In theory, this can be done by means of javascript, but I did not suffer and made the sending server.  Here again there are options, you can form a request with <a href="http://forum.script-coding.com/viewtopic.php%3Fid%3D1066">handles</a> , or you can use a ready-made <a href="http://atlee.ca/software/poster/index.html">module</a> .  Personally, I stopped at the second version. <br><br>  And yes, do not forget to specify post_id when calling wall.savePost, then you will be able to determine what to display to the user who has logged into the application via a message on the wall. <br><br>  Who cares, <a href="http://pastebin.com/9MS19BM8">here is a</a> slightly tweaked version of javascript implementing the described algorithm. <br><br><h4>  Flash Stub </h4><br>  But of course, could not do without a drop of tar.  If the user sends a message using the method described above, and having entered the recipient's wall, clicks on it, then the empty window will open. <br><img src="https://habrastorage.org/getpro/habr/post_images/205/322/ff6/205322ff6225272fb69b924a8e4bab9c.png" alt="image"><br>  This happens because Vkontakte tries to display a flash file to the user and he doesn't care that we actually have an iframe.  Do not ask why this is so, most interesting. <br><br>  Well, that‚Äôs why you‚Äôll still have to mess around with a flash (or rather just outsource to acquaintances) by creating a <a href="http://vk.com/pages.php%3Fo%3D-1%26p%3Dwall.savePost">607x412 stub</a> , at least you need to notify the user that you need to open a message on the wall in a new tab, maximally displaying information about a boasting object focusing on post_id  To fill the stub, change the type of your application to Flash in the settings, fill the file and change the type back. <br><br>  Although perhaps this information is already outdated, but the stub may still be useful at the approval stage of the application, since  The default administration displays exactly flash, which means they just may not see your creation. <br><br><h4>  Session in beloved IE </h4><br>  The donkey, of course, could not stand out, so you have to do some gestures especially for him. <br><br>  A problem with <a href="http://en.wikipedia.org/wiki/P3P">P3P policies</a> , which is why the application cannot set cookies, and this leads to an authorization file.  Fortunately, this is corrected by simply adding the P3P field to the response with the following content: CP = "IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT" <br><br>  In the application, I solved the problem with another <a href="http://pastebin.com/bYKAbXkn">middleware</a> . <br><br>  <b>UPD:</b> In this <a href="http://habrahabr.ru/blogs/browsers/112077/">article, the</a> issue with iframe cookies is discussed in more detail and provides possible solutions for potential problems in other browsers. <br><br><h4>  All ‚ÄúflashVars‚Äù are sent by the GET request. </h4><br>  When a user logs in to our application, some useful <a href="http://vk.com/page-1_2369267">information is</a> transmitted.  So, all this is transmitted in the usual GET request when entering the main one.  Accordingly, if you want more interactivity, then do not be lazy to use it. <br><br>  The most banal, it is to redirect the user who came into the application from someone's wall from the main to the desired page, focusing on request.GET ['post_id']. <br><br><h4>  Work in the frame </h4><br>  Do not forget that you are not doing a regular site, but working in a frame.  This means that you need to take care of resizing the window using <a href="http://vkontakte.ru/pages.php%3Fo%3D-1%26p%3DJavascript%2520API">resizeWindow</a> (take the height of the body or your wrapping div), while the maximum window width is 827 pixels (807 with indents and controls), while keeping in mind that with a width greater than 607 pixels VKontakte interface begins to stretch. <br><br>  In addition, for the user to have the browser buttons ‚Äúforward‚Äù and ‚Äúbackward‚Äù, use <a href="http://vkontakte.ru/pages.php%3Fo%3D-1%26p%3DJavascript%2520API">setLocation</a> , and <a href="http://vkontakte.ru/pages.php%3Fo%3D-1%26p%3DJavascript%2520API">setTitle</a> should be used to change the name of the parent page. <br><br>  Plus, you may encounter the fact that third-party front-end applications will stop working normally, for example, I had to finish a little lytebox to make it open normally inside the frame. <br><br><h4>  Access to user information </h4><br>  Try to design the application so that it would be possible to gradually obtain rights from the user, and it is better that the largest possible part of the application be available without installing the application at all. <br><br>  So, not only will not each user put a window ‚ÄúAnd allow me to give up all your information, but also the keys to the apartment where the money is not forgotten,‚Äù but you will gradually be offered to expand the rights, while preferably explaining why you really need these rights .  <a href="http://vkontakte.ru/pages.php%3Fo%3D-1%26p%3DgetUserSettings">getUserSettings</a> and <a href="http://vkontakte.ru/pages.php%3Fo%3D-1%26p%3DJavascript%2520API">showSettingsBox</a> will help you with this. <br><br>  Oh yeah, do not forget to place in a prominent place a button to invite friends, which works with <a href="http://vkontakte.ru/pages.php%3Fo%3D-1%26p%3DJavascript%2520API">showInviteBox</a> . <br><br><h4>  Checking the validity of the layout </h4><br>  I strongly recommend working only with a fully valid layout.  It can save you a lot of time, and it will just bring aesthetic satisfaction to the work done, for example, I spent about an hour figuring out why my frame was not properly resized, and the case turned out to be a crazy div. <br><br>  In order to simplify the verification process, I put a link in the footer and hung the following <a href="http://pastebin.com/KMznxQEz">javascript</a> on it.  It will not only allow you to monitor the validity of the layout, but also allow it to boast.  A kind of banner from the W3C, only clearer.  Of course, no one has canceled the tools built into browsers (for example, the context menu item of the Opera ‚ÄúAre Web Standards Compliant‚Äù), but, in my opinion, the link on which you can click more clearly and more conveniently, not to mention cross-browser compatibility. <br><br>  <i>&lt;thinking_aloud&gt; But the ability to load your page into the parent page is practically the realization of a hole, i.e.</i>  <i>it is possible to load another site from the iframe of the application, which will be similar to VKontakte, and then already on the thumb. &lt;/ thinking_aloud&gt;</i> <br><br>  And between times, feel free to use new tags from html5, to apply styles to them in IE there is a fairly simple solution consisting in creating the right tags through javascript, just google html5 fix.  Personally, I try to adhere to this paradigm: "Users of outdated and alternatively gifted browsers will see the page, but more primitive." <br><br><h4>  JSLint is your friend and comrade </h4><br>  When developing an application, you want, you don't want, but you have to write javascript.  And given that this is not usually the main focus of Dzhangistov activity, there is a high chance of making mistakes.  JSLint not only allows you to immediately catch stupid errors, but also allows you to keep the code in a very neat form.  However, on Habr√© about him already <a href="http://habrahabr.ru/blogs/javascript/74419/">written</a> in sufficient detail. <br><br><h4>  Thumbnail generation </h4><br>  Despite the fact that there are quite solid solutions, for example, the well-known <a href="http://thumbnail.sorl.net/">sorl-thumbnail</a> and <a href="https://github.com/aino/aino-convert">aino-convert</a> , in my opinion, they are too heavy. <br><br>  Therefore, I adopted <a href="http://code.google.com/p/django-thumbs/">django-thumbs</a> .  Fortunately, it consists of only one file providing the extension of the standard ImageField.  Understand it and finish to the desired state is not difficult.  For example, for the application, I added a watermark attachment (although I‚Äôm against them, but these were the requirements), saving the original images to a separate folder and re-generating thumbnails in case settings change. <br><br><h4>  Moderation through a proxy model </h4><br>  I found a rather interesting technique (unfortunately, the link to the blog is no longer possible to find) when I was looking for how to add moderation for tags added by users, considering that <a href="http://habrahabr.ru/blogs/django/85670/">mptt-admin was</a> already used to display them in the admin panel, so the usual filter was not enough.  Its essence is that we create a <a href="http://docs.djangoproject.com/en/dev/topics/db/models/">proxy model</a> by registering the left application (for example, ‚ÄúModerating‚Äù), and then in admin.py we ask what needs to be displayed (i.e., only non-moderated tags) by defining the queryset method (which is why is <a href="http://code.djangoproject.com/ticket/10712">missing</a> in the documentation).  Optionally, you can also add a <a href="http://docs.djangoproject.com/en/dev/ref/contrib/admin/actions/">method</a> for moderating tags in batches. <br><br>  The result is approximately <a href="http://pastebin.com/atZsgFru">as follows</a> .  On the use of proxy models, though for several other purposes, you can read <a href="http://habrahabr.ru/blogs/django/120566/">here</a> . <br><br><h4>  Import Settings </h4><br>  At first, I constantly used this import of settings, as most beginners think: <br><blockquote><code><font color="black"><font color="#0000ff">from</font> settings <font color="#0000ff">import</font> foo</font></code> </blockquote> <br>  But import it like this: <br><blockquote> <code><font color="black"><font color="#0000ff">from</font> django.conf <font color="#0000ff">import</font> settings</font></code> </blockquote> <br>  Why exactly, it is better to read in the <a href="http://docs.djangoproject.com/en/dev/topics/settings/">documentation</a> . <br><br><h4>  Optimization </h4><br>  Yes, yes, ‚ÄúPremature optimization is the root of all misfortunes,‚Äù but firstly this phrase, according to the author (or not the author, is not important) is true only in 97 percent of cases, and secondly, the measures described below should be taken immediately during development. <br><br>  Usually the bottleneck of all web applications and, in particular, based on Django are database queries, which is usually aggravated by not very correct use of ORM.  However, there is no special sense to spread on the tree, because in the documentation this question is <a href="http://docs.djangoproject.com/en/dev/topics/db/optimization/">disclosed in</a> sufficient detail.  You can use <a href="https://github.com/robhudson/django-debug-toolbar">django-debug-toolbar</a> or a more wooden <a href="http://web-brains.com/2007/12/26/django-orm-query-dumping/">solution</a> to display queries made to the database and their execution time. <br><br>  But on the other hand, the user is more important than the speed of displaying the page, and not how heavy the server is there, so you need to optimize the load itself.  By the way, this is why I wrote above that ‚Äúit‚Äôs best to contact the API via javascript from the user‚Äôs page‚Äù, since  Delay of the response of the VK server can vary greatly, therefore, it is better to do all requests whenever possible after the page has loaded and displayed to the user. <br><br>  A very useful helper in optimization is <a href="http://code.google.com/intl/ru/speed/page-speed/">Page Speed</a> .  Most often, you first need to minimize everything and everyone. <br><br>  In the case of html, the question is solved by template tags <a href="http://docs.djangoproject.com/en/dev/ref/templates/builtins/">{% spaceless%} {% endspaceless%}</a> , while keeping in mind that the tag removes spaces only between tags, so you must either wrap all the text in tags (even between template tags if they go to several lines), or write in such places all in one line, as well as forget, like a bad dream about writing tag attributes in separate lines.  In addition, if you used to rely on spacing spaces between tags, you will have to correct and do it entirely in styles.  Of course, such a minification is not the height of perfection, but I think that 5-10 per cent, derived from the removal of quotes and other perversions, can be safely neglected.  In addition, you should not neglect gzip compression, for which the corresponding <a href="https://docs.djangoproject.com/en/dev/ref/middleware/">middleware is provided</a> . <br><br>  Now about css and js.  I personally used <a href="http://code.google.com/p/django-compress/">django-compress</a> .  From the obvious advantages can be called: <br><ul><li>  Versioning glued files (which means you will not have to suffer with the cache to display changes) </li><li>  Ability to use different compressors (very useful, because the server did not manage to run the <a href="http://csstidy.sourceforge.net/">CSSTidy</a> binary, so I took <a href="http://developer.yahoo.com/yui/compressor/">YUI Compressor</a> ) </li><li>  Support for external files, so that the CDN attach is very simple (what a CDN is and why it is actually necessary, you can read it <a href="http://habrahabr.ru/blogs/webdev/109309/">here</a> ) </li></ul><br>  Of course, this module essentially breaks MVC, but I think it is not fatal and very convenient. <br><br>  Plus worth noting <a href="https://github.com/rnk/django-media-bundler">django-media-bundler</a> .  In addition to compressing css and js, it also allows you to automatically create CSS sprites, while immediately minimizing them through <a href="http://pmt.sourceforge.net/pngcrush/">pngcrush</a> , but unfortunately there is no versioning like django-compress.  Due to the small number of icons in the application, I decided to leave it for future projects. <br><br>  In addition, it is very useful to put a semicolon at the end of each js-file, because  its absence may result in non-working code after compression. <br><br>  Well, finally it is worth testing our product for strength.  <a href="http://loadimpact.com/">Load Impact</a> will help us a lot in this.  If you're interested, here's <a href="http://habrahabr.ru/blogs/hi/109247/">an article</a> telling about it in a little more detail.  Of course, free testing is available (up to 50 users), but I recommend not to be stingy and buy at least a basic package (up to 250 users) worth $ 9. <br><br>  Application tests gave the following results: <br><img src="https://habrastorage.org/getpro/habr/post_images/882/74c/c68/88274cc68e1c60e8baaeb34e753f0adf.png" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/3f8/d25/776/3f8d25776dbd397f7f890d33fc6d9a2e.png" alt="image"><br><br>  It can be seen that the application copes well with the load, but nevertheless, after 70 users, everything depends on the width of the channel provided.  So in the end, the movements with the minification of html, css and js, as well as the use of CDN were very useful. <br><br>  PS: After me, another person worked on the layout, so some of the tips in the application may not be executed. </div><p>Source: <a href="https://habr.com/ru/post/119309/">https://habr.com/ru/post/119309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119302/index.html">From June 2 to 5, 2011, with the support of the Russian Venture Company, we will organize the Founders BootCamp in the MSU Science Park</a></li>
<li><a href="../119304/index.html">Application of an event-driven model in a web application</a></li>
<li><a href="../119305/index.html">Another Canvas Guide [3]: Drawing Images and Text, Saving Images and States</a></li>
<li><a href="../119306/index.html">We create and remember a long password in a short period of time.</a></li>
<li><a href="../119308/index.html">Quickly create a temporary project</a></li>
<li><a href="../119311/index.html">How do you set the font-size property today?</a></li>
<li><a href="../119312/index.html">Writing AddOn to World of Warcraft</a></li>
<li><a href="../119313/index.html">Barnes & Noble Nook Color Review</a></li>
<li><a href="../119314/index.html">Sony PlayStation Network is being phased in</a></li>
<li><a href="../119317/index.html">The use of metamodel in the design of databases with several abstract layers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>