<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>[contest] DevOps Brainwashing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a fast-growing Internet project, when you have to manage a large number of instances every day, infrastructure management usually looks like this: ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>[contest] DevOps Brainwashing</h1><div class="post__text post__text-html js-mediator-article">  In a fast-growing Internet project, when you have to manage a large number of instances every day, infrastructure management usually looks like this: <br><br><img src="https://habrastorage.org/storage3/27f/79c/19a/27f79c19ab945b3bee1dd46536262b4b.gif"><br><br>  Variants of events two.  Either the admins go crazy, after 100,500 deployments of the application on a hundred servers, or they begin to use the best DevOps recipes.  You have the opportunity to take a class course " <a href="http://brainwashing.pro/devops">DevOps for Internet Projects</a> ", which is conducted as part of Brainwashing courses.  The course is led by people who have been operating for many years in companies such as Skype, Groupon, KupiKupon, Oversan-Skalaksi. <a name="habracut"></a>  And here is what they promise: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>For 2 days we will analyze the implementation of DevOps in practice.</i>  <i>We will teach how to set the server environment in 5 minutes, make rolling out simple and manageable, set up monitoring so that it helps, and not spam.</i>  <i>We will explain when to use the clouds and CDN, where it is better to place the project and how not to suffer from the fall of the Martian ship on the data center.</i> <i><br><br></i>  <i>In this case, this is not two days of lectures, but a master class with the consolidation of theoretical knowledge by practice (for this, you need to take a laptop with Linux or OS X on board for the course).</i> <br><br>  The course is paid, however, the place can be obtained free of charge if you are the first to correctly and fully answer the following questions. <br><br>  <b>1.</b> You have the following in the nginx config: <br><br><pre><code class="hljs perl">upstream fallback { server <span class="hljs-number"><span class="hljs-number">127.0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">80</span></span>; } server { <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; server_name example.com www.example.com mobile.example.com; access_log /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/nginx/access.log; error_log /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/nginx/error.log; location /nginx-status { stub_status on; access_log off; } location / { proxy_set_header X-Real-IP $remote_addr; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($host = <span class="hljs-string"><span class="hljs-string">'mobile.example.com'</span></span>) { rewrite ^ http:<span class="hljs-regexp"><span class="hljs-regexp">//example</span></span>.com/mobile/$uri <span class="hljs-keyword"><span class="hljs-keyword">last</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } proxy_pass http:<span class="hljs-regexp"><span class="hljs-regexp">//fallback</span></span>; } }</code> </pre> <br><br>  Rewrite this config as you think it should be correct. <br><br>  <b>2.</b> In the application, you perform some requests on a read-only replica. For especially long requests, the application writes to the log: <br><br> <code>ActiveRecord::StatementInvalid: PGError: ERROR: canceling statement due to conflict with recovery DETAIL: User query might have needed to see row versions that must be removed. : SELECT ‚Ä¶</code> <br> <br>  Why can this happen and what should be done to fix it? <br><br>  <b>3.</b> Expandedly tell what are the features of the asynchronous input-output model (epoll) and the multithreaded model (thread pool).  In which cases it is more convenient to use one model and in which other?  Service with which model would you choose to work with the hard drive? <br><br>  <b>4.</b> What does tcp do when the receive buffer is full?  Imagine that you are the creator of the tcp protocol and how would you solve the buffer overflow problem? <br><br>  <b>5.</b> You use the IO deadline scheduler and decide to run a script to delete files with low priority to the disk.  After the start, the script loaded the entire disk and began to interfere with other processes.  What is the reason? <br><br>  <b>6.</b> What is the difference between calculating load average values ‚Äã‚Äãin Linux and Freebsd (or Solaris), how would you make the calculation formula for this parameter? <br><br>  <b>Answers are accepted until September 19 through <a href="https://docs.google.com/forms/d/1JOprxSzWtZZefPJtPk3ITSR8jxJiOHoh2ZCQFkrPqZQ/viewform">this form</a></b> . <br><br>  <b>PS</b> Full course program <br><br>  <b>The first day.</b>  The story of the approaches and practices, introduction to the methodology.  Infrastructure: servers and clouds, how to choose?  Communication channels, CDN - features and pitfalls.  How to predict load management capacity.  Monitoring  The first practice - working with vagrant and chef-solo, we deploy the project.  How not to lose data and requests to the site - backups and fault tolerance.  Configuration management.  Features of the initial installation of servers. <br><br>  <b>Second day.</b>  Introduction to Opscode Chef.  The second practice is working with knife and chef-server.  Chef architecture and Chef-run anatomy.  Minimum Ruby course for working with Chef.  The third practice is to replace apgin with nginx in your infrastructure using Chef.  Working with attributes, roles, and environments in Chef.  Data logging and data management.  The fourth practice is working with data in Chef.  The fifth practice is LWRP, code reuse.  The sixth practice is trying on workflow with workbooks.  Seventh practice - features roll out with configuration management system. </div><p>Source: <a href="https://habr.com/ru/post/193530/">https://habr.com/ru/post/193530/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../193514/index.html">About automating chord selection</a></li>
<li><a href="../193516/index.html">Gamification of the educational process</a></li>
<li><a href="../193518/index.html">Happy programmer!</a></li>
<li><a href="../193524/index.html">786,432 cores of the IBM MIRA supercomputer began to model the early Universe</a></li>
<li><a href="../193528/index.html">Analytics. Cat. Friday</a></li>
<li><a href="../193534/index.html">Product Manager through the eyes of developers</a></li>
<li><a href="../193536/index.html">SendGrid Chinese is not a decree</a></li>
<li><a href="../193538/index.html">Telegraph history in summary</a></li>
<li><a href="../193540/index.html">Em :: Blocks 1.20</a></li>
<li><a href="../193542/index.html">How to optimize the vote count on election day</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>