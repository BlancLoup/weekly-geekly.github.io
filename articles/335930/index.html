<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New features in Laravel 5.5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The new release of Laravel 5.5 will be a long-term support release (Long Term Support, LTS). This means that he will receive edits of bugs within 2 ye...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New features in Laravel 5.5</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/5da/aec/779/5daaec7799c0423cb6570ad2cf1b68af.png" alt="Laravel 5.5"><br>  The new release of Laravel 5.5 will be a long-term support release (Long Term Support, LTS).  This means that he will receive edits of bugs within 2 years, and security updates - within 3 years.  The same was the release of Laravel 5.1, but its two-year revision period is coming to an end this year.  Let's see without too much fuss what awaits us in the new version. </p><a name="habracut"></a><br><h2 id="sozdaem-novyy-proekt-na-laravel-55">  Create a new project on Laravel 5.5 </h2><br><p>  Since the new release is not yet officially released, we can download the dev release for now with the following command: </p><br><pre><code class="bash hljs">laravel new laravel55 --dev <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> laravel55 php artisan key:generate</code> </pre> <br><p>  If you do not like Laravel installer, you can use the composer command: </p><br><pre> <code class="bash hljs">composer create-project --prefer-dist --stability=dev laravel/laravel:dev-master <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> laravel php artisan key:generate</code> </pre> <br><p>  When we go to the home page of the new application, we will have to see the welcome page, similar to the one in previous versions of Laravel. </p><br><h2 id="renderim-mailables-v-brauzere">  Render Mailables in the browser </h2><br><p>  It seems to me that this feature will be very useful.  In previous versions of Laravel, we had to send real letters or use an email client like Mailtrap to test the newsletter, and this was not the most fun task.  No more suffering, in Laravel 5.5 you can now render a letter template directly in the browser. </p><br><p>  Here's a quick way to do this: create a new mailable and a letter template for our project: </p><br><pre> <code class="bash hljs">php artisan make:mail Welcome --markdown=emails.welcome</code> </pre> <br><p>  I prefer to use the markdown format, since we get the template already with some content.  Open the <code>web.php</code> file and create a test route to check the letter template: </p><br><pre> <code class="php hljs">Route::get(<span class="hljs-string"><span class="hljs-string">'/email'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> App\Mail\Welcome(); });</code> </pre> <br><p>  <em>routes / web.php</em> </p><br><p>  If we go to route / email, we can see the letter template: </p><br><p><img src="https://habrastorage.org/web/cb6/644/de1/cb6644de15ce4db9a4fa6337cdc69222.png" alt="email template"></p><br><p>  In fact, the following happens.  In Laravel 5.5, the 'Mailable' class uses the 'Renderable' contract with the 'render ()' method.  Here is the implementation of the render method in 'Illuminate / Mail / Mailable.php': </p><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Container::getInstance()-&gt;call([<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, <span class="hljs-string"><span class="hljs-string">'build'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Container::getInstance()-&gt;make(<span class="hljs-string"><span class="hljs-string">'mailer'</span></span>)-&gt;render( <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;buildView(), <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;buildViewData() ); }</code> </pre> <br><p>  <em>Illuminate / Mail / Mailable.php</em> </p><br><p>  With this method you can get a view.  If we tried to return an instance of a class that does not apply a 'Renderable' contract inside our routes, we would get a 'UnexpectedValueException'. </p><br><h2 id="kastomnoe-oformlenie-pisem">  Custom clearance letters </h2><br><p>  If you use Markdown to design letters, then Laravel will set the default theme.  However, someone may need their own styles to promote their brand. </p><br><p>  To make a custom design for a particular mailable, first create a custom '.css' file with the styles we need: </p><br><pre> <code class="bash hljs">touch resources/views/vendor/mail/html/themes/custom.css</code> </pre> <br><p>  Then we specify the name of this file as a characteristic of the Mailable class: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Welcome</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mailable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $theme = <span class="hljs-string"><span class="hljs-string">'custom'</span></span>; [...] }</code> </pre> <br><p>  <em>app / Mail / Welcome.php</em> </p><br><p>  Thus, the letter template will be based on the styles we specified in the <code>custom.css</code> file.  What is especially pleasing is that we can set different styles for different mailables. </p><br><h2 id="vspomogatelnye-funkcii-isklyucheniy">  Auxiliary function exceptions </h2><br><p>  Laravel 5.5 includes two auxiliary exception functions that will help us create more expressive code.  These are the methods <code>throw_if</code> and <code>throw_unless</code> .  Three arguments are included in both, and the third is optional. </p><br><p>  Let's see how you can apply these exceptions: </p><br><pre> <code class="php hljs">$number = <span class="hljs-number"><span class="hljs-number">2</span></span>; throw_if($number !== <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NotThreeException(<span class="hljs-string"><span class="hljs-string">'Number is not three'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// or throw_if($number !== 3, NotThreeException::class, 'Number is not three');</span></span></code> </pre> <br><p>  If the auxiliary function 'throw_if' is used, an exception will be thrown provided that the first argument is regarded as true. </p><br><p>  If you use <code>throw_unless</code> , then in fact everything will be the same, with the only difference that an exception will be thrown if the first argument is false. </p><br><pre> <code class="php hljs">$number = <span class="hljs-number"><span class="hljs-number">2</span></span>; throw_unless($number === <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NotThreeException(<span class="hljs-string"><span class="hljs-string">'Number is not three'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// or throw_unless($number === 3, NotThreeException::class, 'Number is not three');</span></span></code> </pre> <br><p>  Not the best example, but suitable for the demonstration. </p><br><h2 id="komanda-migratefresh">  Migrate command: fresh </h2><br><p>  You probably found yourself in a situation where you had to restore the database.  In previous versions of Laravel, this could be done using the <code>php artisan migrate:refresh</code> command.  The <code>migrate:refresh</code> command rolls back all migrations, based on what is described in the 'down' method of each migration file, and then starts the migrations again. </p><br><p><img src="https://habrastorage.org/web/5a7/c6b/303/5a7c6b30366f44c0bfa48e84c4cf0e9d.png" alt="php artisan migrate refresh"></p><br><p>  But you may have had problems with this command a couple of times, especially when working with foreign key constraints (foreign key constraints) or when one of the 'down ()' methods in any of your migrations was not sufficiently defined.  When this happens, we in most cases manually get rid of the table with which problems arise - (perhaps using the CLI or some GUI).  That's exactly when the <code>migrate:fresh</code> command <code>migrate:fresh</code> to the rescue.  This command deletes all the tables and then starts the existing migrations again: </p><br><p><img src="https://habrastorage.org/web/a92/9d4/31e/a929d431ea804b8b960a238f9efb523f.png" alt="migrate-fresh"></p><br><h2 id="stack-trace-oshibok-v-formate-json">  Stack Trace JSON errors </h2><br><p>  Not the biggest change, but in previous versions of Laravel we saw HTML markup from an API client like Postman every time an error occurred in our APIs.  In Laravel 5.5, in case of an error, we get not the HTML markup, but the trace in JSON, which is easier to perceive: </p><br><p><img src="https://habrastorage.org/web/cfd/36b/f88/cfd36bf88db146178a665062f052ad59.png" alt="Json trace"></p><br><h2 id="avtomaticheskaya-ustanovka-paketov">  Automatic package installation </h2><br><p>  To use a third-party package in our Laravel projects, we do the following: </p><br><ul><li>  Install the package. </li><li>  We register the service provider of the package. </li><li>  Register facades, if any. </li></ul><br><p>  As you can see, the procedure can be simplified.  Now will be as follows. </p><br><p>  With automatic installation of packages, we simply select the desired package and install it on the fly.  I note, however, that this is possible only if the supplier of the package has configured it accordingly. </p><br><p>  If we look at the Laravel Debugbar package, for which the automatic installation is already configured, we will see that there is an <code>extra</code> section inside the <code>composer.json</code> file: </p><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"extra"</span></span>: { <span class="hljs-string"><span class="hljs-string">"laravel"</span></span>: { <span class="hljs-string"><span class="hljs-string">"providers"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Foo\\Bar\\ServiceProvider"</span></span> ], <span class="hljs-string"><span class="hljs-string">"aliases"</span></span>: { <span class="hljs-string"><span class="hljs-string">"Bar"</span></span>: <span class="hljs-string"><span class="hljs-string">"Foo\\Bar\\Facade"</span></span> } } }</code> </pre> <br><p>  Package providers will need to add the extra section to the <code>composer.json</code> file, and then specify the service providers and any aliases for the package. </p><br><p>  Another advantage of auto-installation of packages is that if you remove a dependency, nothing will break.  Usually, even after the package has been demolished, its service providers and facades still stick in the <code>config/app.php</code> , and in some cases errors may occur due to them. </p><br><p>  With auto-installation, if you delete a package through Composer, then everything related to this package is also deleted. </p><br><h2 id="izmeneniya-v-komande-vendorpublish">  Changes in the vendor: publish command </h2><br><p>  In previous versions of Laravel, the <code>vendor:publish</code> command published the resources of all the packages and the framework itself.  Some of these resources include migrations, views, and configs. </p><br><p>  In Laravel 5.5, we need to clarify in detail what we want to publish with the help of this command.  If we run the <code>php artisan vendor:publish</code> command without any flags, we will be required to choose a provider or a tag so that it is easier to publish only what we want.  See screenshot below: </p><br><p><img src="https://habrastorage.org/web/66f/8cd/7c1/66f8cd7c112d45dc8929300a67065c7d.png" alt="php artisan vendor publish"></p><br><p>  We can bypass this step by <code>--provider</code> <code>--all</code> or <code>--provider</code> when running the <code>publish</code> command: </p><br><pre> <code class="bash hljs">php artisan vendor:publish --all</code> </pre> <br><h2 id="raznoobrazie-front-end-presetov">  Variety of front-end presets </h2><br><p>  In Laravel 5.3 and 5.4, we had some Vue and Bootstrap blanks by default, which simplified front-end development.  In the new version, React was added to this set.  However, it is not there by default. </p><br><p>  The new artisan team helps manage front-end presets.  We will only have the one we need for the preset we want to work with.  But not everyone is satisfied with the default presets, Vue, Bootstrap and React, someone else may need something else.  Perhaps another front-end framework.  And Laravel has already taken care of this: </p><br><pre> <code class="bash hljs">php artisan preset none</code> </pre> <br><p>  This command will remove all existing front-end blanks.  If we wanted to use React, the following command will help us with the stocking: </p><br><pre> <code class="bash hljs">php artisan preset react</code> </pre> <br><p>  Below is this new team in action: </p><br><p><img src="https://habrastorage.org/web/ab4/b71/f71/ab4b71f71b91424fbcf891a4ef4e089f.png" alt="php artisan preset react"></p><br><h2 id="whoops-vernulsya">  Whoops is back! </h2><br><p>  In Laravel 5.5 returned Whoops!  with a new way to display errors.  Now, if there is an error during development, we will be able to see this line of code as a screenshot along with an error message.  In my opinion, the error message now looks better, and the fact that we now get a screenshot with an erroneous line of code makes it even easier to correct errors. </p><br><p>  An example of an error with Whoops: </p><br><p><img src="https://habrastorage.org/web/6c8/de4/189/6c8de4189ef84215aea030efe97ef65b.png" alt="An example of an error with Whoops"></p><br><p>  Another cool thing is that Whoops now allows you to open specified files directly in your IDE or editor.  This function only works if you have local access to PHP files on the machine on which the editor is installed.  To configure it, open app / Exceptions / Handler.php and add this snippet: </p><br><pre> <code class="php hljs">[...] <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Filesystem</span></span>\<span class="hljs-title"><span class="hljs-title">Filesystem</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Arr</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Whoops</span></span>\<span class="hljs-title"><span class="hljs-title">Handler</span></span>\<span class="hljs-title"><span class="hljs-title">PrettyPageHandler</span></span>; [...] <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Handler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExceptionHandler</span></span></span><span class="hljs-class"> </span></span>{ [...] <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">whoopsHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tap(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrettyPageHandler, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($handler)</span></span></span><span class="hljs-function"> </span></span>{ $files = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Filesystem; $handler-&gt;setEditor(<span class="hljs-string"><span class="hljs-string">'sublime'</span></span>); $handler-&gt;handleUnconditionally(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $handler-&gt;setApplicationPaths( array_flip(Arr::except( array_flip($files-&gt;directories(base_path())), [base_path(<span class="hljs-string"><span class="hljs-string">'vendor'</span></span>)] )) ); }); } }</code> </pre> <br><p>  <em>app \ Exceptions \ Handler.php</em> </p><br><p>  This snippet cancels the main class's <code>whoopsHandler()</code> method with the <code>$handler-&gt;setEditor('sublime')</code> , due to which the link is opened in Sublime Text.  If you are using another editor, look <a href="">at the article on the github</a> with a list of all supported editors and instructions on how to add your own.  If you have a Mac, be sure to download <a href="https://github.com/saetia/sublime-url-protocol-mac">the sublime URL protocol</a> for this job. </p><br><h2 id="metod-report-kastomnyh-isklyucheniy">  Report method custom exceptions </h2><br><p>  In previous versions, if we wanted to set up custom exceptions in a special way, we had to place them inside the report method in the Handler.php file.  For example: </p><br><pre> <code class="php hljs">[...] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">report</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Exception $exception)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($exception <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> CustomException) { <span class="hljs-comment"><span class="hljs-comment">// Do something } if ($exception instanceof MyOtherException) { // Do something } if ($exception instanceof MyOtherCustomException) { // Do something } return parent::report($exception); } [...]</span></span></code> </pre> <br><p>  <em>app / Exceptions / Handler.php</em> </p><br><p>  If we have, for example, 50 major exceptions, then this file will turn into something terrible.  In Laravel 5.5, in order to specify what happens in the case of a custom exception, you can create a <code>report()</code> method inside the exception: </p><br><pre> <code class="hljs scala">[...] <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomException</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">\Exception</span></span></span><span class="hljs-class"> </span></span>{ public function report() { <span class="hljs-comment"><span class="hljs-comment">// send email } } [...]</span></span></code> </pre> <br><p>  app / Exceptions / CustomException.php </p><br><h2 id="generatory-fabrik-modeley">  Model factory generators </h2><br><p>  Laravel 5.5 has a new team to create a model factory.  Model factory is very convenient when we need to generate fake data or a new test object. </p><br><p>  To create a factory for a specific class, run the command: </p><br><pre> <code class="bash hljs">php artisan make:factory Post</code> </pre> <br><p>  Now, if we open the database / factories, we will see the PostFactory class: </p><br><pre> <code class="php hljs">[...] $factory-&gt;define(App\Post::class, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Faker $faker)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-comment"><span class="hljs-comment">// ]; });</span></span></code> </pre> <br><p>  <em>database / factories / PostFactory.php</em> </p><br><p>  I think this is a more elegant approach because we share responsibility.  In previous versions of Laravel, all the factories were located within the same <code>app/factories/ModelFactory.php</code> . </p><br><h2 id="vozvrat-validirovannyh-dannyh">  Return validated data </h2><br><p>  Now it is possible to get data from the validator and pass it to the <code>create</code> method.  In previous versions of Laravel, we created new objects like this: </p><br><pre> <code class="php hljs">{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;validate(request(), [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span>, <span class="hljs-string"><span class="hljs-string">'body'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span> ]); <span class="hljs-comment"><span class="hljs-comment">// return Post::create(request()-&gt;only(['title', 'body'])); or return Post::create(request()-&gt;all()); }</span></span></code> </pre> <br><p>  In Laravel 5.5, you can now create objects directly from validated data: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">store</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $post = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;validate(request(), [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span>, <span class="hljs-string"><span class="hljs-string">'body'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span> ]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Post::create($post); }</code> </pre> <br><p>  You can also call the <code>validate</code> command directly from the request: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">store</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $post = request()-&gt;validate([ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span>, <span class="hljs-string"><span class="hljs-string">'body'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span> ]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Post::create($post); }</code> </pre> <br><p>  Note, however, that care must be taken when you create objects in this way, since any attribute that you leave outside the validation method will not matter.  To cope with this problem, we pass all the attributes we want to create inside the validation method for this object, even if their values ‚Äã‚Äãdo not require any validation: </p><br><pre> <code class="php hljs">$post = request()-&gt;validate([ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span>, <span class="hljs-string"><span class="hljs-string">'body'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required'</span></span>, <span class="hljs-string"><span class="hljs-string">'notRequiredField'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, ]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Post::create($post);</code> </pre> <br><p>  Thus, this field is automatically added to the allowed request data, but it is not limited to any validation rules. </p><br><h2 id="kastomnye-pravila-validacii">  Custom Validation Rules </h2><br><p>  In previous versions of Laravel, they could be specified using the <code>Validator::extend</code> method.  But there was no centralization.  We added the rule to the <code>AppServiceProvider</code> file, and then the message to the <code>inside the resources/lang/en/validation.php</code> file.  The <a href="https://laravel.com/docs/5.4/validation">Laravel documentation</a> describes in detail how this is done in version 5.4. </p><br><p>  In Laravel 5.5, we have a new artisan team that defines custom validation.  This command creates a new class that implements the <code>Rule</code> contract.  Create a new rule to see what is inside it: </p><br><pre> <code class="bash hljs">php artisan make:rule CustomRule</code> </pre> <br><p>  If you look at <code>app/Rules/CustomRule.php</code> , you will see two methods - the <code>passes</code> method and the <code>message</code> method.  The <code>passes</code> method takes 2 parameters, i.e.  <code>attribute</code> and <code>value</code> , and returns a boolean.  If you are confused, <code>$attribute</code> is the field to validate, and <code>$value</code> is the real value that is passed to the attribute. </p><br><p>  Suppose, for example, that we do not want to give any specific name to the user.  Then our rule will look like this: </p><br><pre> <code class="php hljs">{ [...] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">passes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($attribute, $value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $value !== <span class="hljs-string"><span class="hljs-string">'unwantedname'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'You cannot use that as your username'</span></span>; } [...] }</code> </pre> <br><p>  <em>app / Rules / CustomRule.php</em> </p><br><p>  Then we use the new rule to validate the <code>username</code> attribute: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Rules</span></span>\<span class="hljs-title"><span class="hljs-title">CustomRule</span></span>; request()-&gt;validate([ <span class="hljs-string"><span class="hljs-string">'username'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'required'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CustomRule() ], <span class="hljs-string"><span class="hljs-string">'anotherfield'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'required|min:5'</span></span> ]);</code> </pre> <br><p>  <em>app / Rules / CustomRule.php</em> </p><br><p>  How custom validation is determined in the new version of Laravel is described in detail in the <a href="https://medium.com/%40taylorotwell/custom-validation-rules-in-laravel-5-5-c6cb250f65df">Taylor Otwell article</a> . </p><br><h2 id="v-kollekcii-dobavleny-dd-i-dump">  DD and Dump added to collections </h2><br><p>  Now the collection includes both the dump () method and dd ().  In previous versions of Laravel, when we debugged collections, we assigned a collection variable, and then dumped it, because the collection changed.  In Laravel 5.5, this is no longer necessary, since we can now call the <code>dd()</code> or <code>dump()</code> command directly from the collection, which makes debugging much easier. </p><br><p>  Suppose we have a collection of posts that have undergone a number of changes, and we need to inspect the collection at every step.  Then do the following: </p><br><pre> <code class="php hljs">$posts = Post::all(); $posts -&gt;dump() -&gt;sorBy(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;dump() -&gt;pluck(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;dump();</code> </pre> <br><p>  At the output we get: </p><br><pre> <code class="hljs pgsql">Collection {#<span class="hljs-number"><span class="hljs-number">284</span></span> ‚ñº #items: <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> [‚ñº <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">285</span></span> } <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">286</span></span> } <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">287</span></span> } ] } Collection {#<span class="hljs-number"><span class="hljs-number">272</span></span> ‚ñº #items: <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> [‚ñº <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">285</span></span> } <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">287</span></span> } <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">286</span></span> } ] } Collection {#<span class="hljs-number"><span class="hljs-number">268</span></span> ‚ñº #items: <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> [‚ñº <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; "Aida Bosco" <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; "Madge Leuschke" <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; "Miss Bulah Armstrong Jr." ] }</code> </pre> <br><p>  This makes it easier to inspect the contents of the collection at each step.  However.  I note that there is a difference between the <code>dump()</code> and <code>dd()</code> commands.  <code>dump()</code> gives the result at the moment, and then continues, while <code>dd()</code> immediately stops the process and dumps the results (dd means dump and die, reset and die).  If we called <code>dd()</code> from the collection at each step, then we would only get the result at the very first point when we called <code>dd()</code> from the collection.  Take a look: <br>  366666 </p><br><pre> <code class="php hljs">$posts = Post::all(); $posts -&gt;dump() -&gt;sorBy(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;dd() -&gt;pluck(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) -&gt;dump();</code> </pre> <br><p>  At the output we get another: </p><br><pre> <code class="hljs pgsql">Collection {#<span class="hljs-number"><span class="hljs-number">284</span></span> ‚ñº #items: <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> [‚ñº <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">285</span></span> } <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">286</span></span> } <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">287</span></span> } ] } <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> [‚ñº <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">285</span></span> } <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">287</span></span> } <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; Post {#<span class="hljs-number"><span class="hljs-number">286</span></span> } ]</code> </pre> <br><h2 id="kasty-v-promezhutochnyh-tablicah-otnosheniy-mnogie-ko-mnogim">  Castes in the intermediate tables of many-to-many relationships </h2><br><p>  Usually, you can declare the property casts Model, which determines how the attribute should be saved and read.  Suppose we have a Post model, and we want one of the fields to be serialized into JSON when reading and writing.  The following code snippet will help us with this: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Post</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> </span></span>{ [...] <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $casts = [ <span class="hljs-string"><span class="hljs-string">'somefield'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'array'</span></span>, ]; [...] }</code> </pre> <br><p>  It was already possible to cast custom pivots in the many-to-many relationship in version 5.4, but the data could only be read.  If we wanted to write to the data, we first had to manually cast the attribute values ‚Äã‚Äãand then save it.  Now you don‚Äôt need to do that anymore, since the <code>casts</code> property in the <code>Eloquent\Model</code> and <code>Eloquent\Relations\Pivot</code> classes will behave in the same way, which allows the use of the <code>attach</code> , <code>sync</code> and <code>save</code> methods in pivot models. </p><br><h2 id="kastomnye-direktivy-bladeif">  Custom Blade :: if () directives </h2><br><p>  The long duplicate code checks in the patterns of the blade can make them ugly.  The good news is that it is now possible to extract duplicate code checks from templates, making them cleaner and more readable.  Checks like these: </p><br><pre> <code class="hljs php">@<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (auth()-&gt;check() &amp;&amp; auth()-&gt;user()-&gt;isSubscribed()) &lt;p&gt;Subscribed&lt;/p&gt; @<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> &lt;p&gt;Not Subscribed&lt;/p&gt; @<span class="hljs-keyword"><span class="hljs-keyword">endif</span></span></code> </pre> <br><p>  Can be replaced by: </p><br><pre> <code class="hljs xml">@subscribed <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Subscribed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> @else <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Not Subscribed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> @endsubscribed</code> </pre> <br><p>  The logic for creating a custom blade directive is added to the <code>boot</code> method of the <code>AppServiceProvider</code> class: </p><br><pre> <code class="php hljs">[...] <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Blade</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppServiceProvider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServiceProvider</span></span></span><span class="hljs-class"> </span></span>{ [...] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">boot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Blade::if(<span class="hljs-string"><span class="hljs-string">'subscribed'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> auth()-&gt;check() &amp;&amp; auth()-&gt;user()-&gt;isSubscribed(); }); } [...] }</code> </pre> <br><p>  app / Providers / AppServiceProvider.php </p><br><p>  For some checks, it may be necessary to pass some method to the argument.  In this case, we pass the argument to the closure when it comes to the custom blade directive. </p><br><pre> <code class="hljs php">@<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (auth()-&gt;check() &amp;&amp; auth()-&gt;user()-&gt;isFollowing($user-&gt;id))</code> </pre> <br><p>  If you use this condition as an example, you can see that you need to pass <code>$user-&gt;id</code> to the <code>isFollowing()</code> method.  To create a custom blade directive that takes <code>$user-&gt;id</code> as an argument, do the following: </p><br><pre> <code class="php hljs">Blade::if(<span class="hljs-string"><span class="hljs-string">'following'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User $user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> auth()-&gt;check() &amp;&amp; auth()-&gt;user()-&gt;isFollowing($user-&gt;id) });</code> </pre> <br><p>  Then, to use this new directive in our templates: </p><br><pre> <code class="hljs pgsql">@<span class="hljs-keyword"><span class="hljs-keyword">following</span></span>($<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>) &lt;p&gt;<span class="hljs-keyword"><span class="hljs-keyword">Following</span></span>&lt;/p&gt; @<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> &lt;p&gt;<span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Following</span></span>&lt;/p&gt; @endfollowing</code> </pre> <br><h2 id="avtoregistraciya-novyh-komand-artisan-v-kernel">  Autoregistration of new artisan teams in Kernel </h2><br><p>  We usually create new artisan commands using the <code>php artisan make:command command-name</code> .  After that, we assign the key inside the class with the command, go to Kernel and manually register the command. </p><br><p>  It is no longer necessary to register new commands in Kernel.  We now have a new method inside the <code>app/Console/kernel.php</code> file that tracks the command directory and turns all file paths into namespaced paths: </p><br><pre> <code class="php hljs">[...] <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">commands</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;load(<span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>.<span class="hljs-string"><span class="hljs-string">'Commands'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> base_path(<span class="hljs-string"><span class="hljs-string">'routes/console.php'</span></span>); } [...]</code> </pre> <br><p>  Suppose we called a command that is not yet registered in the kernel.  The commands method () automatically connects it. </p><br><h2 id="novye-metody-marshrutov">  New route methods </h2><br><p>  This is not the coolest new feature, but still it is worth mentioning that now we have two additional route methods: </p><br><pre> <code class="php hljs">Route::view(<span class="hljs-string"><span class="hljs-string">'/welcome'</span></span>, <span class="hljs-string"><span class="hljs-string">'welcome'</span></span>); Route::redirect(<span class="hljs-string"><span class="hljs-string">'home'</span></span>, <span class="hljs-string"><span class="hljs-string">'dashboard'</span></span>);</code> </pre> <br><p>  The first connects the welcome view with the / welcome path, and the second forwards the <code>/home</code> requests to the <code>/dashboard</code> . </p><br><h2 id="predstavlyaem-laravel-horizon">  Introducing Laravel Horizon </h2><br><p>  This is a new Laravel package that provides a panel and code-driven configuration system for Laravel Redis queues: </p><br><p><img src="https://habrastorage.org/web/011/a80/5a8/011a805a86bf449999731c4fff395ba3.png" alt="laravel horizon"></p><br><p>  Horizon shows real-time load queues, recent tasks, failed tasks, attempts to restart tasks, throughput and runtime metrics and number of processes. </p><br><p>  Horizon features include the following: </p><br><ul><li>  High-level analytics for tasks ‚Äî indicators such as the number of tasks per minute and tasks in the past hour </li><li>  Task-specific and queuing-specific analytics. </li><li>  Tags and monitoring - you can add tags to tasks, as well as monitor specific tags. </li><li>  Recent tasks - you can get information about the most recent tasks. </li><li>  Queue balancing strategies - Horizon can automatically distribute the worker's queue processes to all queues depending on their load. </li></ul><br><p>  Taylor Otwell <a href="https://medium.com/%40taylorotwell/introducing-laravel-horizon-4585f66e3e">in his article</a> discusses in detail how to set up the Horizon and all the functions that it includes. </p><br><h2 id="novyy-treyt-migracii-baz-dannyh">  New database migration treit </h2><br><p>  This is a RefreshDatabase <code>RefreshDatabase</code> .  Some might wonder why he was needed at all, but the reasons behind him make sense.  Initially we had treats of <code>DatabaseMigrations</code> and <code>DatabaseTransactions</code> . </p><br><p>   <code>DatabaseMigrations</code>    ,        ,   <code>DatabaseTransactions</code>   ,          . </p><br><p>  <code>RefreshDatabase</code>    , ..       ,         .   ,           ,   ,     . </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  ,        . ,     ,    ,     . </p><br><p>                   Laravel! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/335930/">https://habr.com/ru/post/335930/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335920/index.html">Description of sorting algorithms and comparison of their performance</a></li>
<li><a href="../335922/index.html">Join the game: the MAZE DevOps game from ITSumma</a></li>
<li><a href="../335924/index.html">On the quality of requirements in IT projects, to be honest (from the standpoint of the development team). Part 2</a></li>
<li><a href="../335926/index.html">Implementation and alternative of basic jQuery functions in pure javascript</a></li>
<li><a href="../335928/index.html">Security Week 33: Flash, bye bye, Chrome extensions steal traffic, Apple SEP firmware key is laid out</a></li>
<li><a href="../335932/index.html">Test Management for JIRA and its application in software development</a></li>
<li><a href="../335934/index.html">Get ready for a total solar eclipse of 2017</a></li>
<li><a href="../335936/index.html">Double eclipse! Or why Carbondale, Illinois, is special</a></li>
<li><a href="../335938/index.html">Work in Sweden</a></li>
<li><a href="../335940/index.html">Dagger 2.11 & Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>