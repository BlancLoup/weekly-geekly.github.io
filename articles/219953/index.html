<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing a DLL for Metastock from scratch. Part2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, our function ( part 1 , part 3 ), the rules for getting data from Metastock, processing it and returning the result back to Metastock...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing a DLL for Metastock from scratch. Part2</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/9f0/406/bc2/9f0406bc27bd44b082396dd10c8eecfd.bmp" alt="DLL  Metastock" title="DLL for Metastock"><br><br>  In this article, our function ( <a href="http://habrahabr.ru/post/219133/">part 1</a> , <a href="http://habrahabr.ru/post/220111/">part 3</a> ), the rules for getting data from Metastock, processing it and returning the result back to Metastock will be discussed in detail.  This information will help to avoid errors in the MSX DLL. <br><a name="habracut"></a><br>  Our function is: <br><pre><code class="cpp hljs">DLL_EXPORT BOOL __<span class="hljs-function"><span class="hljs-function">stdcall </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Price</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXDataRec *a_psBasic, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXDataInfoRecArgsArray *a_psArrayArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXNumericArgsArray *a_psNumericArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXStringArgsArray *a_psStringArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXCustomArgsArray *a_psCustomArgs, MSXResultRec *a_psResult)</span></span></span></span></code> </pre> <br>  where <br>  * a_psBasic - pointer to the MSXDataRec structure (all available data on securities); <br>  * a_psArray - pointer to the MSXDataInfoRecArgsArray structure (array arguments); <br>  * a_psNumeric - pointer to the MSXNumericArgsArray structure (numeric arguments); <br>  * a_psString - pointer to the MSXStringArgsArray structure (string arguments); <br>  * a_psCustom - pointer to the MSXCustomArgsArray structure (Custom-arguments); <br>  * a_psResult - pointer to the MSXResultRec structure (the result of data processing returned to Metastock); <br>  * a_psValue - pointer to the MSXDataInfoRec structure (all numeric data used in calculations). <br>  All structures are described in the <b>MSXStruc.h</b> file. <br><br><h3>  Data Storage and Calculations </h3><br>  All numerical data used in the calculations of indicators are stored in structures known as data arrays.  Data arrays are used to store price data (for example, Open, High, Low, etc.), numerical constants, and indicator calculation results.  When MetaStock delivers data about the securities and arguments of the MSX DLL functions, this data is used as an array.  When the function calculated by the MSX DLL returns the indicator results in MetaStock, the result is returned as an array of data. <br>  Data arrays are implemented in the <b>MSXDataInfoRec</b> structure and have three main components: <br>  ‚Ä¢ Data elements - data elements. <br>  ‚Ä¢ First valid index - the starting point of reference (Fvi). <br>  ‚Ä¢ Last valid index - the final point of reference (Lvi). <br>  The data elements are actual numeric values ‚Äã‚Äãassociated with the data array.  These values ‚Äã‚Äãare stored in the array as <b>float</b> values.  The first and last valid index are used to determine which data elements contain valid values.  All data elements between the first and last valid index (inclusive) contain valid data.  All items outside this range are null and should be ignored for all calculations. <br>  A data array is considered " <b>empty</b> " if Fvi &lt;Lvi.  Empty data arrays are not uncommon and should be processed properly.  As a rule, an empty data array will have Fvi = 0 and Lvi = -1, although any combination under the condition Fvi &lt;Lvi should be considered empty.  An empty data array appears when data is not available.  For example, the 'Open Interest' dataset is used for a security (CB) that does not have open interest. <br>  Or, if the result of the 100 - period moving average is applied to the price data set of the Central Bank, which contains less than 100 elements, then we get an empty data set. <br>  The first and last valid indices are very important during the calculation of the indicator.  Calculations should always be limited to the data elements contained between them.  Two important points should be understood in order to properly set the Fvi and Lvi indexes for the returned data array: <br>  ‚Ä¢ Always restrict calculations in the range of allowable ranges of all input data sets used. <br>  ‚Ä¢ Fvi and Lvi as a result of the calculation must retain their positions in relation to the values ‚Äã‚Äãof all arrays of input data. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The <b>MSXDataRec</b> structure contains seven data arrays: <br>  ‚Ä¢ <b>sOpen</b> , <b>sHigh</b> , <b>sLow</b> , <b>sClose</b> , <b>sVol</b> , <b>sOI</b> , <b>sInd</b> , <br>  storing their values ‚Äã‚Äãin the <b>MSXDataInfoRec</b> structure.  These data files store all the necessary price data of the Central Bank. <br>  Some of these arrays may be empty if the Central Bank does not have data for this price field (for example, Open Interest). <br>  ‚Ä¢ In addition, the <b>MSXDataRec</b> structure contains a pointer to an array from the <b>MSXDateTime</b> structure. <br>  This array contains date and time information for each data point.  If the calculation function requires access to the date and time for the Nth bar of the instrument, refer to the Nth element of the <b>psDate</b> array.  Note that this array is different from a data array like sHigh, sLow, etc. <br>  ‚Ä¢ The <b>sInd</b> data <b>array</b> contains data for the indicator selected by the user.  In the case of a custom indicator, this data array will contain the value for the chart object to which the indicator was attached.  If the area is not selected sInd data array will be empty. <br>  ‚Ä¢ Note that the location of the data in these arrays is synchronized with the Nth element of each element of the array corresponding to the time period. <br>  ‚Ä¢ An array of data <b>sClose</b> always contains the <b>maximum</b> number of data elements.  All other data arrays contain the number of elements &lt;= sClose.iLastValid. <br>  ‚Ä¢ The <b>iFirstValid</b> and <b>iLastValid settings</b> in the sClose dataset are very important. <br>  Usually the number of elements in this array determines the maximum number of data elements stored in other price arrays.  This is important for determining the number of valid elements contained in the psDate array.  For example, if the sClose.iFirstValid = 100 field and the sClose.iLastValid = 200 field, you can be sure that the psDate array contains valid data from psDate [100] to psDate [200]. <br>  ‚Ä¢ After the calculation is completed, the iLastValid value in a_psResult -&gt; psResultArray should never be greater than the iLastValid value of the sClose data array. <br>  ‚Ä¢ <b>iFirstValid</b> and <b>iLastValid</b> from sClose should be used to determine how many values ‚Äã‚Äãare available to store all of the data arrays.  To store all arrays, enough memory is allocated, only up to the data point sClose.iLastValid.  The data returned in a_psResult -&gt; psResultArray from the MSX DLL must fit into the same storage restrictions. <br>  ‚Ä¢ The beginning of the a_psResult-&gt; psResultArray data array returned from an MSX DLL should never be less than sClose.iFirstValid.  The end of the a_psResult -&gt; psResultArray dataset should never be greater than sClose.iLastValid. <br><br><h3>  What you need to remember </h3><br>  ‚Ä¢ The calculation functions should never change any input arguments, with the exception of the resulting record (a_psResult).  Inputs are defined as ' <b>const</b> ', where possible, in the templates provided, to ensure that illegal changes do not occur. <br>  ‚Ä¢ Be sure to set a_psResult -&gt; psResultArray -&gt; iFirstValid and a_psResult -&gt; psResultArray -&gt; iLastValid before returning from your function. <br>  ‚Ä¢ If your function returns <b>MSX_ERROR</b> , which indicates an internal error, make sure that you have copied into the extended error line the reason for describing the a_psResult -&gt; pszExtendedError error. <br>  ‚Ä¢ Never set a_psResult -&gt; psResultArray -&gt; iFirstValid less than sClose.iFirstValid. <br>  ‚Ä¢ Never set a_psResult -&gt; psResultArray -&gt; iLastValid to be greater than sClose.iLastValid.  Writing to a_psResult -&gt; psResultArray -&gt; pfValue for the sClose.iLastValid value will cause memory overtaking in MetaStock and crash the program. <br>  ‚Ä¢ Be sure to check iFirstValid and iLastValid for any MSXDataInfoRec or a_psBasic arguments you intend to use.  Never assume that the data will be available in any data array.  If data is not available for your function to process, install <br>  <b>a_psResult -&gt; psResultArray -&gt; iFirstValid = 0</b> and <br>  <b>a_psResult -&gt; psResultArray -&gt; iLastValid = -1</b> , <br>  to indicate that there is no reliable data to return an array.  This method avoids the crash of the Metastock program. <br><br><h3>  Change the code </h3><br>  In accordance with the above material, we slightly change the code of our function.  Add Fvi and Lvi, as well as an exception in the case of receiving a damaged array at the output of our function. <br><br><pre> <code class="cpp hljs">DLL_EXPORT BOOL __<span class="hljs-function"><span class="hljs-function">stdcall </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Price</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXDataRec *a_psBasic, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXDataInfoRecArgsArray *a_psArrayArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXNumericArgsArray *a_psNumericArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXStringArgsArray *a_psStringArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXCustomArgsArray *a_psCustomArgs, MSXResultRec *a_psResult)</span></span></span><span class="hljs-function"> </span></span>{ BOOL l_bRtrn = MSX_SUCCESS; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i= a_psBasic -&gt;sClose.iFirstValid; i&lt;= a_psBasic -&gt;sClose.iLastValid; i++) a_psResult-&gt;psResultArray-&gt;pfValue[ i ] = a_psBasic -&gt;sClose.pfValue[ i ]; <span class="hljs-comment"><span class="hljs-comment">//     . a_psResult-&gt;psResultArray-&gt;iFirstValid = a_psBasic-&gt;sClose.iFirstValid; a_psResult-&gt;psResultArray-&gt;iLastValid = a_psBasic-&gt;sClose.iLastValid; //    if (a_psResult-&gt;psResultArray-&gt;iFirstValid &lt; 0 || a_psResult-&gt;psResultArray-&gt;iLastValid &lt; 0 || a_psResult-&gt;psResultArray-&gt;iLastValid &lt; a_psResult-&gt;psResultArray-&gt;iFirstValid || a_psResult-&gt;psResultArray-&gt;iFirstValid &lt; a_psBasic-&gt;sClose.iFirstValid || a_psResult-&gt;psResultArray-&gt;iLastValid &gt; a_psBasic-&gt;sClose.iLastValid) l_bRtrn = MSX_ERROR; //    ,   . if (l_bRtrn != MSX_SUCCESS) { strncpy (a_psResult-&gt;szExtendedError, "Error: Corrupted Result Array.", sizeof(a_psResult-&gt;szExtendedError)-1); a_psResult-&gt;psResultArray-&gt;iFirstValid = 0; a_psResult-&gt;psResultArray-&gt;iLastValid = -1; } return l_bRtrn; }</span></span></code> </pre><br><h3>  File output </h3><br>  To display our data, be sure to include the header file stdio.h, in which a special data type is declared - the FILE structure. <br>  ‚Ä¢ <b>#include &lt;stdio.h&gt;</b> <br><div class="spoiler">  <b class="spoiler_title">Comments</b> <div class="spoiler_text">  To organize work with files, the program must use pointers to files.  To create a file pointer variable, use an operator of the type: FILE * file (stream declaration).  To be able to access the file, you must open it.  The fopen () function opens a stream for use, associates a file with this stream, returns a FILE pointer to the stream and has the following form: <br>  ‚Ä¢ file = fopen (‚Äúfile path‚Äù, ‚Äúfile operation mode‚Äù). <br>  Mode " <b>w</b> " is used to write to the file.  The fprintf () function writes to the file: <br>  ‚Ä¢ fprintf (file, [format string], [list of variables, constants]). <br>  The fclose () function is used to close a stream previously opened with fopen (). <br>  ‚Ä¢ fclose (file) <br>  Calling fclose () frees the file control block associated with the stream and makes it available for reuse. <br></div></div><br>  Let's display the following data: the name of the Central Bank, the period ('D'aily,' W'eekly, 'M'onthly,' Q'uarterly, 'I'ntraday), the index, our indicator, time and date in the file. <br><br><pre> <code class="cpp hljs">DLL_EXPORT BOOL __<span class="hljs-function"><span class="hljs-function">stdcall </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Price</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXDataRec *a_psBasic, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXDataInfoRecArgsArray *a_psArrayArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXNumericArgsArray *a_psNumericArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXStringArgsArray *a_psStringArgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MSXCustomArgsArray *a_psCustomArgs, MSXResultRec *a_psResult)</span></span></span><span class="hljs-function"> </span></span>{ BOOL l_bRtrn = MSX_SUCCESS; FILE *file; file = fopen(<span class="hljs-string"><span class="hljs-string">"D:\\example.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"w"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i= a_psBasic -&gt;sClose.iFirstValid; i&lt;= a_psBasic -&gt;sClose.iLastValid; i++) { a_psResult-&gt;psResultArray-&gt;pfValue[ i ] = a_psBasic -&gt;sClose.pfValue[ i ]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (file) <span class="hljs-built_in"><span class="hljs-built_in">fprintf</span></span>(file, <span class="hljs-string"><span class="hljs-string">"%-10s %2c %5u %12.4f %5u %10u\n"</span></span>, a_psBasic -&gt;pszSecurityName, a_psBasic -&gt;iPeriod, i, <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> (a_psResult-&gt;psResultArray-&gt;pfValue[i]), a_psBasic -&gt;psDate[i].lTime/<span class="hljs-number"><span class="hljs-number">1000</span></span>, a_psBasic -&gt;psDate[i].lDate); } fclose(file); <span class="hljs-comment"><span class="hljs-comment">//     . a_psResult-&gt;psResultArray-&gt;iFirstValid = a_psBasic-&gt;sClose.iFirstValid; a_psResult-&gt;psResultArray-&gt;iLastValid = a_psBasic-&gt;sClose.iLastValid; //    if (a_psResult-&gt;psResultArray-&gt;iFirstValid &lt; 0 || a_psResult-&gt;psResultArray-&gt;iLastValid &lt; 0 || a_psResult-&gt;psResultArray-&gt;iLastValid &lt; a_psResult-&gt;psResultArray-&gt;iFirstValid || a_psResult-&gt;psResultArray-&gt;iFirstValid &lt; a_psBasic-&gt;sClose.iFirstValid || a_psResult-&gt;psResultArray-&gt;iLastValid &gt; a_psBasic-&gt;sClose.iLastValid) l_bRtrn = MSX_ERROR; //    ,   . if (l_bRtrn != MSX_SUCCESS) { strncpy (a_psResult-&gt;szExtendedError, "Error: Corrupted Result Array.", sizeof(a_psResult-&gt;szExtendedError)-1); a_psResult-&gt;psResultArray-&gt;iFirstValid = 0; a_psResult-&gt;psResultArray-&gt;iLastValid = -1; } return l_bRtrn; }</span></span></code> </pre><br>  As a result, in my one-minute RTS Index futures chart, the following happened: <br><div class="spoiler">  <b class="spoiler_title">example.txt</b> <div class="spoiler_text"><pre> <code class="cpp hljs">SP_RTS_1m I <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">112310.0000</span></span> <span class="hljs-number"><span class="hljs-number">1725</span></span> <span class="hljs-number"><span class="hljs-number">20140417</span></span> SP_RTS_1m I <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">112320.0000</span></span> <span class="hljs-number"><span class="hljs-number">1726</span></span> <span class="hljs-number"><span class="hljs-number">20140417</span></span> SP_RTS_1m I <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">112130.0000</span></span> <span class="hljs-number"><span class="hljs-number">1727</span></span> <span class="hljs-number"><span class="hljs-number">20140417</span></span> ... SP_RTS_1m I <span class="hljs-number"><span class="hljs-number">497</span></span> <span class="hljs-number"><span class="hljs-number">117150.0000</span></span> <span class="hljs-number"><span class="hljs-number">1336</span></span> <span class="hljs-number"><span class="hljs-number">20140418</span></span> SP_RTS_1m I <span class="hljs-number"><span class="hljs-number">498</span></span> <span class="hljs-number"><span class="hljs-number">117170.0000</span></span> <span class="hljs-number"><span class="hljs-number">1337</span></span> <span class="hljs-number"><span class="hljs-number">20140418</span></span> SP_RTS_1m I <span class="hljs-number"><span class="hljs-number">499</span></span> <span class="hljs-number"><span class="hljs-number">117200.0000</span></span> <span class="hljs-number"><span class="hljs-number">1338</span></span> <span class="hljs-number"><span class="hljs-number">20140418</span></span> SP_RTS_1m I <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">117190.0000</span></span> <span class="hljs-number"><span class="hljs-number">1339</span></span> <span class="hljs-number"><span class="hljs-number">20140418</span></span></code> </pre><br></div></div><br>  With functions without arguments, I hope, we understood.  In the next article, we will look at creating functions with different arguments. </div><p>Source: <a href="https://habr.com/ru/post/219953/">https://habr.com/ru/post/219953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219943/index.html">CEO - closer to the people!</a></li>
<li><a href="../219945/index.html">New service from Payler - sms-payments Billingrad</a></li>
<li><a href="../219947/index.html">Implementing the data access layer on the Entity Framework Code First</a></li>
<li><a href="../219949/index.html">What is happening in the new gTLD market: current statistics</a></li>
<li><a href="../219951/index.html">How are Yandex.Maps organized? Lecture by Vladimir Zaitsev in Yandex</a></li>
<li><a href="../219955/index.html">How did we attract money or 13 stories of Russian investors</a></li>
<li><a href="../219965/index.html">Intel software products - How to call a ship ...</a></li>
<li><a href="../219967/index.html">Erlang. TCP / IP socket options</a></li>
<li><a href="../219969/index.html">A hexapod robot capable of turning into a bun</a></li>
<li><a href="../219971/index.html">10 banking marketing tricks, tricks and deceptions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>