<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CISCO ACE - Application Balancing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 I want to tell a little about the family of equipment for data processing centers from CISCO - CISCO ACE (Application Control Engine). This ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CISCO ACE - Application Balancing</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><img title="CISCO ACE Module" src="https://habrastorage.org/storage2/aa3/803/8bc/aa38038bc93c78be7e25f69cd5ef5432.png"><br>  I want to tell a little about the family of equipment for data processing centers from CISCO - CISCO ACE (Application Control Engine).  This article will address such issues as the purpose of devices, architectural features, applications, setting up basic functions.  The material does not provide for any more subtleties of work; it‚Äôs rather designed for those who are thinking about introducing such devices, trying to make a choice, wanting to understand how such equipment will help optimize the network infrastructure, increase the availability and time of service deployment. <br><br><a name="habracut"></a><br>  In the people, these devices are called "balancers", that is, devices that can distribute the load on several servers, depending on certain conditions.  It can be said that switching is performed at the L4-L7 levels.  But this is only one side of the medal and the manufacturer himself declares that the use of CISCO ACE in the data center allows: <br><br>  ‚Ä¢ Increase productivity <br>  ‚Ä¢ Scalability <br>  ‚Ä¢ Flexibly redistribute resources, <br>  ‚Ä¢ Simplify the process of introducing new applications, <br>  ‚Ä¢ Optimize application performance, <br>  ‚Ä¢ Ensure availability, <br>  ‚Ä¢ Consolidate resources <br>  ‚Ä¢ Provide manageability and monitoring. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These devices are presented in two form factors: standalone equipment (for example, CISCO ACE 4710) and modules in a CISCO 6500/7600 chassis (CISCO ACE-20/30 Module).  Standalone equipment is a separate device that can be integrated into a network built on the basis of any vendor, service modules are high-performance devices suitable for installation in the network with existing 6500/7600 chassis, which improves performance, ensures centralized management, reduces the number of cable connections, contributes to fast the introduction of services. <br><br>  <strong>Specifications:</strong> <strong><br></strong>  <strong>CISCO ACE 4710</strong> <br><img src="https://habrastorage.org/storage2/210/daa/fc6/210daafc62da734ffbee00ac220fb2bf.png"><br><br><table><tbody><tr><td>  Feature </td><td>  Maximum Performance or Configuration </td></tr><tr><td>  Throughput </td><td>  0.5, 1, 2, or 4 Gbps </td></tr><tr><td>  Compression </td><td>  0.5, 1, or 2 Gbps (using GZIP or Deflate) </td></tr><tr><td>  Virtual contexts </td><td>  20 </td></tr><tr><td>  SSL throughput </td><td>  1 Gbps </td></tr><tr><td>  SSL TPS </td><td>  7500 SSL TPS using 1024-bit keys </td></tr><tr><td>  SSL TPS </td><td>  7500 SSL TPS using 1024-bit keys </td></tr><tr><td>  Maximum L4 connections per second </td><td>  100,000 complete transactions sustained rate </td></tr><tr><td>  Maximum L7 connections per second </td><td>  30,000 complete transactions sustained rate </td></tr><tr><td>  Concurrent connections </td><td>  1 million </td></tr></tbody></table><br><br>  What's inside the box: CPU Intel Pentium 4 3.4 Ghz, 4x1GE, 8Gb RAM (cannot be increased), 1Gb Flash (cannot be increased), console port, ports for connecting a monitor, keyboard.  Ability to manage using CLI, SNMP, WEB interface.  The form factor is 1U. <br><br>  <strong>CISCO ACE-20/30 Module</strong> <br><br><table><tbody><tr><td>  Feature </td><td>  Maximum Performance or Configuration </td></tr><tr><td>  Throughput </td><td>  16 Gbps *, 8 Gbps *, and 4 Gbps </td></tr><tr><td>  Total VLANs (client and server) </td><td>  4,000 </td></tr><tr><td>  Probes </td><td>  ICMP, TCP, UDP, Echo, Finger, DNS, Telnet, FTP, HTTP, HTTPS, SMTP, POP3, IMAP, RTSP, RADIUS, SIP, SNMP, KAL-AP, and TCL Scripts </td></tr><tr><td>  NAT entries </td><td>  1 million </td></tr><tr><td>  Virtual partitions </td><td>  Up to 250 *;  5 virtual partitions (devices) included in base price </td></tr><tr><td>  SSL throughput </td><td>  3.3 / 6 Gbps </td></tr><tr><td>  SSL TPS </td><td>  1000 TPS included in base price, and 5000, 10,000, or 15,000 TPS with licensing, (up to 30,000 with 1024-bit key) </td></tr><tr><td>  Maximum L4 connections per second </td><td>  325,000 / 500,000 complete transactions sustained rate </td></tr><tr><td>  Maximum L7 connections per second </td><td>  130,000 / 200,000 complete transactions sustained rate </td></tr><tr><td>  Concurrent connections </td><td>  4 million </td></tr><tr><td>  Sticky table entries </td><td>  4 million </td></tr></tbody></table><br><br>  Inside: 1Gb FLASH (cannot be increased), 3Gb RAM DATA PLANE, 1Gb RAM CONTROL PLANE. <br><br>  In the CISCO 6500/7600 chassis it is possible to install up to 4 modules, thereby obtaining a performance of up to 64 Gb per chassis.  It should be noted that the installation of 4 modules does not mean that in the system we will get one balancer with the declared performance, we will just have 4 by 16 Gbps.  Marketers love to give these numbers, but you can just as well take a dozen CISCO ACE 4710, put them on top of each other and get great performance.  By the way, I will give prices for devices: <br><br><table><tbody><tr><td>  Configuration </td><td>  Price $ GPL </td></tr><tr><td>  ACE 4710 0.5 Gbps </td><td>  15.995 </td></tr><tr><td>  ACE 4710 1 Gbps </td><td>  29.995 </td></tr><tr><td>  ACE 4710 2 Gbps </td><td>  39.995 </td></tr><tr><td>  ACE 4710 4 Gbps </td><td>  49.995 </td></tr><tr><td>  ACE30 Module with 4G, 1G Comp, 1K SSL TPS and 5VC </td><td>  39.995 </td></tr><tr><td>  ACE30 Module with 16G, 6G Comp, 30K SSL TPS and 250VC </td><td>  109.995 </td></tr></tbody></table><br><br>  The approximate prices are given, as the price offers very few offers and the price varies greatly from the number of contexts required (more on that later), SSL sessions, etc. <br><br>  <strong>Opportunities</strong> <br><br>  Here we‚Äôll dwell a bit on what these non-cheap devices are able to do (the list will not be complete, only the main one). <br><br>  <strong>1. Switching applications.</strong> <br>  CISCO ACE is an application level switch that provides server load balancing based on information from L4 to L7.  Native deep support (Generic protocol parsing) for HTTP, FTP, DNS, Internet Control Message Protocol (ICMP), Session Initiation Protocol (SIP), Real-Time Streaming Protocol (RTSP), Extended RTSP, RADIUS, and Microsoft Remote Desktop Protocol (RDP).  This means that in the case of using these protocols, it is possible to balance traffic based on (practically) any information in payload. <br><br>  There is a flexible regular expression mechanism, as well as any manipulations with HTTP headers (add, delete, modify, etc.). <br><br>  <strong>2. Traffic processing.</strong> <br>  As it has already become clear, ACE can perform deep packet inspection, but besides this there is tcpdump, which is especially useful when troubleshooting. <br><br>  <strong>3. Address translation.</strong> <br>  It can implement Source NAT, Destination NAT, and Static NAT (but this is rather a side effect of the previous two types with one server in the server farm, but more on that later). <br><br>  <strong>4. Balancing methods.</strong> <br>  To balance traffic to servers within a server farm, a set of tests is made to determine the availability of applications / services.  So we can balance on the server.  Parameters: least loaded (the number of connections or the amount of traffic per server), randomly (here I would note that each server in a server farm is assigned a coefficient - weight. The probability of sending a request to a specific server is defined as the ratio of its own weight to the sum of weights all servers in the farm. Therefore, if all servers have the same weight (relative value), then balancing will be even), defining the hash from addresses, the cookie hash, the protocol hash, the URL hash.  In the case of cookies or SSL, the device binds a specific user to a specific server to ensure the constancy of the sessions. <br><br>  <strong>5. Determining the availability of services / applications</strong> (how it is configured and I will give an example further): ICMP, TCP, UDP, ECHO {tcp |  udp}, Finger, HTTP, HTTPS, FTP, Telnet, DNS, SMTP, IMAP, POP, RADIUS, scripted, Keepalive Appliance Protocol (KAL-AP), RTSP, SIP, HTTP return-code parsing, SNMP.  It is also worth noting that using (for example) an HTTP probe, availability is determined not only by receiving any response, but it is possible to specify the necessary response codes (or their ranges), the necessary header values ‚Äã‚Äãin the HTTP response, the response time, etc.  By creating a sample, we define the requested page, header values, etc.  The mechanism is very, very flexible. <br><br>  <strong>6. Fault tolerance.</strong>  Fault tolerance is achieved by using an additional module / device within one chassis or geographically separated in Active / Active, Active / Standby modes.  Using CISCO VSS, it is possible to virtualize both modules in the chassis into one virtual device. <br><br><img src="https://habrastorage.org/storage2/6f2/082/eed/6f2082eed52a2d1640bd2a27b486472c.png"><br><br>  <strong>7. Acceleration of applications.</strong>  The device multiplexes TCP / UDP sessions to improve network performance. <br><br><img src="https://habrastorage.org/storage2/6e9/052/c62/6e9052c620404dea5bec9e04d672a947.png"><br><br>  <strong>8. SSL acceleration.</strong>  ACE has a built-in hardware SSL accelerator that allows you to terminate sessions on the device, thereby removing the load from the servers.  There are 3 modes of operation: SSL termination, SSL initiation, End-to-end SSL (termination + initiation).  SSL termination - the session is terminated on the CISCO ACE, the traffic from the balancer to the server goes unencrypted.  The server responds to the balancer, which in turn encrypts the data and sends it back to the client.  One interesting feature should be noted: the traffic balancer decrypts the traffic, but the destination port (TCP) does not change, that is, the WEB server on the servers must listen to port 443 instead of 80, of course, without encryption. <br><img src="https://habrastorage.org/storage2/57b/75e/19f/57b75e19f812dd44add22c540e0cde0b.jpg"><br><br>  SSL initiation - the traffic from the client to the balancer goes in open form, the balancer establishes an SSL session with the servers and communicates with them using SSL.  The openings are transmitted to the client in unencrypted form. <br><br>  In the third mode, the client establishes one session with a balancer, and that volume in turn establishes another session with servers.  Double encryption occurs (meaning not encrypting encrypted, but re-encrypting previously decrypted). <br><br><img src="https://habrastorage.org/storage2/d3b/86a/26c/d3b86a26cd79700360c06deb68bfa819.jpg"><br><br>  <strong>9. Security</strong> features <strong>:</strong> ACL (L3-L7), Bidirectional NAT and PAT (+ policy NAT), TCP connection state tracking, Virtual connection state for UDP, Sequence number randomization, TCP header validation, TCP window-size checking, Unicast Reverse check Path Forwarding (URPF) when setting a session, Rate limiting. <br><br>  <strong>10. Virtualization features.</strong> <br>  The device can work as one and the only thing that is not always flexible.  Or from one physical device it is possible to create up to 250 virtual balancers.  Each such balancer has its own administrators, its own configuration, its own rules, and the limits of resources used (CPU, connections, bandwidth).  It is very well suited not only for its own needs, but it is also possible to provide customers with a dedicated ACE service, where within their device they can do whatever they want. <br><img src="https://habrastorage.org/storage2/a63/6ae/d20/a636aed205aecd5449b343198eecedf9.png"><br><br>  <strong>11. Operating modes</strong> : Routed mode, Bridged Mode, Asymmetric server normalization (ASN).  In Router mode, you can select two sub-modes: Inline and On-a-stick (or One-Arm-Mode). <br><br>  <strong>Bridged mode</strong> <br><img src="https://habrastorage.org/storage2/35b/9e7/7b8/35b9e77b848e4868f057a12bbd70ca33.jpg"><br>  The device is located in the ‚Äúgap‚Äù between servers and default-gateway for servers.  Both device interfaces on the same subnet in L2 (bridge) mode.  A necessary condition is the absence of traffic passing between the servers and the router NOT through CISCO ACE.  Thus, the client calls VIP 172.16.3.100 (Virtual IP is the virtual address of the balancer. The traffic coming to it (VIP) is balanced between the servers), and the device in turn redirects the request to the servers, changing the destination address.  The server sends a response to 172.16.3.1, but when the traffic passes through the ACE (and we said that this is mandatory), the source address changes back to 172.15.3.100. <br><br>  Such a solution is well suited for implementing CISCO ACE into an already operating network, addressing does not change, servers are not reconfigured. <br><br>  <strong>Routed Inline mode</strong> <br><img src="https://habrastorage.org/storage2/018/5f4/f46/0185f4f46ee00c21ec78363aef71bbf0.jpg"><br>  In this mode, CISCO ACE performs hop for passing traffic.  The mode is preferred for new installations.  The balancer is the default-gateway for servers.  In this mode, I will dwell in more detail and give a typical configuration for balancing. <br><br>  <strong>Routed mode On-a-stick (One-Arm-Mode)</strong> <br><img src="https://habrastorage.org/storage2/914/692/1cd/9146921cde56a2d50bdaf37442b52685.jpg"><br>  Traffic from the user comes to the balancer (VIP).  The client's address is replaced with the own balancer address and the destination address with the real (or one of the real) server address.  In this case, the server responds directly to the balancer and the procedure is repeated in the reverse order: the source address is changed to VIP, the destination address is changed to the client's address.  The client (s) have the impression of communicating with a server with an address (VIP), although in reality servers can be located around the globe. <br><br>  A good option when a client wants to get a balancing service.  For example, the client has 3 WEB servers in different DC.  From us it receives the real IP address of the balancer ‚ÄìVIP.  In the DNS settings binds your domain to the selected VIP.  Now the client does not ‚Äúshine‚Äù its servers, and by adding or withdrawing them, clients continue to receive service. <br><br>  <strong>Routed mode Asymmetric server normalization</strong> <br>  The mode is very similar to the previous one, then the server responds directly to the client, bypassing CISCO ACE. <br><br>  <strong>Consider an example setup</strong> <br><br>  I want to consider a basic example, without describing many options, since there is no urgent need for this (I will give links to good materials), better, if necessary, I will comment on or explain not clear points. <br><br>  As a topology, take rice.  Routed Inline mode. <br>  Management Interface 172.16.1.5. <br><br>  Let's write the rules of the management policy: <br> <code>class-map type management match-any L4_REMOTE-ACCESS_CLASS <br> description Enabling remote access traffic to the ACE and the Cisco ACE Module <br> 2 match protocol ssh source-address 172.16.1.0 255.255.255.0 <br> 3 match protocol icmp source-address 172.16.1.0 255.255.255.0 <br> 4 match protocol https source-address 172.16.1.0 255.255.255.0 <br> 5 match protocol snmp source-address 172.16.1.0 255.255.255.0 <br> <br> policy-map type management first-match L4_REMOTE-ACCESS_MATCH <br> class L4_REMOTE-ACCESS_CLASS <br> permit <br> <br> interface vlan 20 <br> ip address 172.16.1.5 255.255.255.0 <br> service-policy input L4_REMOTE-ACCESS_MATCH</code> <br> <br>  From the network 172.16.1.0/24 it is possible to access the device using the protocols SSH, SNMP, HTTPS, ICMP. <br><br>  Let us have 3 servers in the server farm, on which we will balance the load.  We declare the server: <br><br> <code>rserver host SERVER-1 <br> description SERVER-1 <br> ip address 192.168.1.11 <br> inservice <br> rserver host SERVER-2 <br> description SERVER-2 <br> ip address 192.168.1.12 <br> inservice <br> rserver host SERVER-3 <br> description SERVER-3 <br> ip address 192.168.1.13 <br> inservice</code> <br> <br>  We merge servers into the farm (for samples we will use HTTP and ICMP): <br> <code>serverfarm host FARM <br> probe HTTP_PROBE <br> probe ICMP_PROBE <br> rserver SERVER-1 <br> inservice <br> rserver SERVER-2 <br> inservice <br> rserver SERVER-3 <br> inservice</code> <br> <br>  Sample Description: <br> <code>probe http HTTP_PROBE <br> interval 5 <br> passdetect interval 10 <br> passdetect count 2 <br> request method head url /index.html <br> expect status 200 210 <br> header User-Agent header-value "LoadBalance" <br> probe icmp ICMP_PROBE <br> interval 10 <br> passdetect interval 60 <br> passdetect count 4 <br> receive 1</code> <br> <br>  interval - interval between samples <br>  receive - timeout <br>  passdetect count - serer is considered not available when not receiving so many answers <br>  passdetect interval - sample interval for server not available <br><br>  We describe the balancing policy. <br>  Virtual IP address (we will accept requests only on port 80): <br> <code>class-map match-all FARM-VIP <br> 2 match virtual-address 172.16.1.100 any eq www</code> <br> <br>  We will balance the traffic on our farm, which means we will describe the balancing policy: <br> <code>policy-map type loadbalance http first-match FARM_POLICY <br> class class-default <br> serverfarm FARM</code> <br> <br>  If we do not specify the http balancing type (which is optional), then using the http protocol, we can get problems with cookies, for example.  This parameter determines the type of future traffic and processing features.  The problem of "basket": <br><br><img src="https://habrastorage.org/storage2/b73/7c9/d18/b737c9d18f9290fe3ea3f97519ed04f1.png"><br><br>  This means that any HTTP traffic to which the FARM_POLICY policy will be assigned will be sent to the FARM farm. <br><br>  Now we create a policy that combines the above: <br><br> <code>policy-map multi-match WWW-PM <br> class FARM-VIP <br> loadbalance vip inservice <br> loadbalance policy FARM_POLICY <br> loadbalance vip icmp-reply active</code> <br> <br>  This policy is applicable on the input (external) interface: <br> <code>interface vlan 20 <br> service-policy input WWW-PM</code> <br> <br>  This means that, firstly, the balancer will give up its MAC when requesting the address 172.16.1.100.  Further, if traffic goes to port 80 of address 172.16.1.100 (class-map match-all FARM-VIP), then the traffic must be balanced (loadbalance vip inservice) using the described balancing rules (loadbalance policy FARM_POLICY), that is, all (class-default ) send to the farm FARM (serverfarm FARM).  Also CISCO ACE responds to pings to this address (loadbalance vip icmp-reply active). <br><br>  In order for the server responses to reach the client in general and with the correct address, it is necessary to create a translation of the internal addresses of the servers to the external VIP address. <br><br>  Also, on all interfaces, add an ACL allowing everything.  We imply that we are filtering traffic elsewhere.  CISCO ACE blocks all traffic by default. <br><br> <code>access-list PERMIT-ANY line 8 extended permit ip any any <br> <br> access-list NAT line 1 extended permit ip host 192.168.1.11 any <br> access-list NAT line 2 extended permit ip host 192.168.1.12 any <br> access-list NAT line 3 extended permit ip host 192.168.1.13 any <br> <br> class-map match-any PAT-ClassMap <br> 2 match access-list NAT <br> <br> policy-map multi-match NAT-PM <br> class PAT-ClassMap <br> nat dynamic 1 vlan 20 <br> <br> interface vlan 20 <br> access-group input PERMIT-ANY <br> nat-pool 1 172.16.1.100 172.16.1.100 netmask 255.255.255.255 pat <br> <br> interface vlan 40 <br> ip address 192.168.1.1 255.255.255.0 <br> access-group input PERMIT-ANY <br> service-policy input NAT-PM</code> <br> <br><br>  On the FWSM (ASA, PIX) NAT is configured several times easier. <br><br>  Minor touches (default route, SNMP): <br> <code>ip route 0.0.0.0 0.0.0.0 172.16.1.1 <br> <br> snmp-server community xxx group Network-Monitor <br> snmp-server user user_name Network-Monitor auth sha p@ssword localizedkey <br> snmp-server host 172.16.1.2 traps version 2 xxx</code> <br> <br>  <em>Under the link (http://pastebin.com/DV4QM2Ya) you can find the complete configuration.</em>  <em>To demonstrate the capabilities, CISCO ACE has an interface to the user network.</em>  <em>For users, it performs the PAT function and inspects the FTP protocol so that there are no problems with this protocol (active / passive mode).</em> <br><br>  Monitoring what was received (base): <br> <code>ACE # show serverfarm FARM <br> serverfarm : FARM, type: HOST <br> total rservers : 2 <br> --------------------------------- <br> ----------connections----------- <br> real weight state current total failures <br> ---+---------------------+------+------------+----------+----------+--------- <br> rserver: SERVER-1 <br> 192.168.1.11:0 8 OPERATIONAL 44 52841950 12274606 <br> rserver: SERVER-2 <br> 192.168.1.11:0 8 OPERATIONAL 49 51043947 13091531 <br></code> <br><br> <code>ACE-MEL/Admin# show serverfarm FARM detail <br> serverfarm : FARM, type: HOST <br> total rservers : 2 <br> active rservers: 2 <br> description : - <br> state : ACTIVE <br> predictor : ROUNDROBIN <br> failaction : - <br> back-inservice : 0 <br> partial-threshold : 0 <br> num times failover : 0 <br> num times back inservice : 0 <br> total conn-dropcount : 44 <br> Probe(s) : <br> HTTP_PROBE, type = HTTP <br> ICMP_PROBE, type = ICMP <br> <br> --------------------------------- <br> ----------connections----------- <br> real weight state current total failures <br> ---+---------------------+------+------------+----------+----------+--------- <br> rserver: SERVER-1 <br> 192.168.1.11:0 8 OPERATIONAL 44 52841981 12274606 <br> description : - <br> max-conns : - , out-of-rotation count : - <br> min-conns : - <br> conn-rate-limit : - , out-of-rotation count : - <br> bandwidth-rate-limit : - , out-of-rotation count : - <br> retcode out-of-rotation count : - <br> load value : 0 <br> <br> rserver: SERVER-1 <br> 192.168.1.11:0 8 OPERATIONAL 49 51043976 13091532 <br> description : - <br> max-conns : - , out-of-rotation count : - <br> min-conns : - <br> conn-rate-limit : - , out-of-rotation count : - <br> bandwidth-rate-limit : - , out-of-rotation count : - <br> retcode out-of-rotation count : - <br> load value : 0 <br> <br></code> <br> <code>ACE # show rserver SERVER-1 <br> <br> rserver : SERVER-1, type: HOST <br> state : OPERATIONAL (verified by arp response) <br> --------------------------------- <br> ----------connections----------- <br> real weight state current total <br> ---+---------------------+------+------------+----------+-------------------- <br> serverfarm: FARM <br> 192.168.1.11:0 8 OPERATIONAL 13 1288706</code> <br> <br>  And many more other teams. <br><br>  <strong>Summarizing</strong> <br><br>  In this article I wanted to acquaint the reader with this equipment a little, and not only CISCO production, but in general with balancers as an important enough part of the data center infrastructure.  There is a lot of information spinning in my head, but it seems to me that the post turned out to be not very small. <br><br>  So, the main purpose of such devices: load sharing between services (which entails increased availability, performance, consolidates resources), transfer of SSL termination functions from servers to hardware accelerators, some increase in security (due to normalizations and other proprietary technologies), TCP / acceleration UDP (due to multiplexing, compression). <br><br>  Also worth noting is the possibility of balancing not only in the aisles of a single data center, but also between geographically distant services. <br><br>  We use the ACE20-MOD-K9 4Gbps module.  It is loaded, of course, not on all 4 Gbps, but it performs its tasks.  There were no problems with it during operation, it proved itself quite well.  What I started writing about it.  The fact is that, in particular, on the etherealmind.com resource I have not heard positive reviews towards CISCO ACE.  Or do not write, or openly spit.  Mostly they complain about hangs, IOS buggy, instability of work.  I know that CISCO with its ACE is far from ahead of the rest.  Engineers praise enough products from F5, while noting children's prices.  I did not come across this equipment, and in general, in our lands it is a rarity, I have not seen such people. <br><br>  If readers have a desire to know something in more detail - I will try to help, or even write a separate note. <br><br>  I'm really looking forward to the comments and opinions of people who worked / work with such equipment.  In fact, on Habr√©, the topic was practically unaffected. <br><br>  <a href="http://habrahabr.ru/post/144417/">CISCO ACE.</a>  <a href="http://habrahabr.ru/post/144417/">Part 2: balancing remote servers and applications</a> <br><br>  <strong>Sources:</strong> <br>  1. CISCO Documentation, cisco.com. <br>  2. <a href="http://vivekganapathi.blogspot.com/2010/07/cisco-ace-4710-load-balancer.html">vivekganapathi.blogspot.com/2010/07/cisco-ace-4710-load-balancer.html</a> . <br>  3. <a href="http-load-balancing/">www.packetslave.com/2010/01/24/cisco-ace-basic-http-load-balancing</a> <br>  4. <a href="http://docwiki.cisco.com/wiki/Cisco_Application_Control_Engine_">docwiki.cisco.com/wiki/Cisco_Application_Control_Engine_</a> (ACE) _Configuration_Examples <br>  5. <a href="http://etherealmind.com/cisco-ace-load-balance-stick-source-nat-part-1/">etherealmind.com/cisco-ace-load-balance-stick-source-nat-part-1</a> <br>  6. <a href="http://etherealmind.com/cisco-ace-load-balance-stick-source-nat-part-2/">etherealmind.com/cisco-ace-load-balance-stick-source-nat-part-2</a> <br>  7. <a href="http://etherealmind.com/cisco-ace-load-balance-stick-source-nat-part-3/">etherealmind.com/cisco-ace-load-balance-stick-source-nat-part-3</a> <br>  8. <a href="http://etherealmind.com/cisco-ace-fwsm-resource-allocation-for-virtualization/">etherealmind.com/cisco-ace-fwsm-resource-allocation-for-virtualization</a> <br>  9. <a href="http://www.cisco.com/en/US/products/hw/modules/ps2706/products_configuration_example09186a00809c3041.shtml">www.cisco.com/en/US/products/hw/modules/ps2706/products_configuration_example09186a00809c3041.shtml</a> </div><p>Source: <a href="https://habr.com/ru/post/143564/">https://habr.com/ru/post/143564/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143556/index.html">Choosing a programming language</a></li>
<li><a href="../143557/index.html">Hello, World! Hi, Habr!</a></li>
<li><a href="../143560/index.html">Opera Mini for the Bada platform</a></li>
<li><a href="../143561/index.html">Apps4Russia contest: announcement and questions to the community</a></li>
<li><a href="../143562/index.html">Facebook announced the imminent release of App Center for iOS, Android and HTML 5</a></li>
<li><a href="../143565/index.html">Alternative method of visualization of the progress of the IT project</a></li>
<li><a href="../143566/index.html">What does your application code look like?</a></li>
<li><a href="../143567/index.html">Codeception - project news</a></li>
<li><a href="../143568/index.html">433MHz radio channel and time synchronization from GPS</a></li>
<li><a href="../143569/index.html">5 Common Rails Developers Mistakes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>