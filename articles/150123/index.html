<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is Google App Engine so good?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© did not find a lot of criticism on GAE, more and more positive reviews (for example, here and here ). Therefore, I want to diversify the situ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is Google App Engine so good?</h1><div class="post__text post__text-html js-mediator-article">  On Habr√© did not find a lot of criticism on GAE, more and more positive reviews (for example, <a href="http://habrahabr.ru/post/117146/">here</a> and <a href="http://habrahabr.ru/post/62927/">here</a> ).  Therefore, I want to diversify the situation a bit, describing some critical nuances that hinder the full-scale work in the cloud. <br><br>  I use GAE for a relatively short time, about six months.  Until recently, these were simple sites with static content.  For them, GAE is ideal - low traffic, which does not exhaust free quotas + java.  Any html / javascript web application is poured quickly and conveniently using maven.  You write mvn gae: deploy and in a minute your application is already in the cloud. <br><br>  It is time to use the database a little more actively for a new project, and then the rake began. <a name="habracut"></a>  Since the application is automatically scaled, it becomes necessary to synchronize data between the instances.  For these purposes, a database is often used plus caching in an application or external tool (memcache).  However, with this approach, free quotas for DataStore operations end very quickly.  Currently, there are only 50,000 write operations and as many reads per day.  Of course, if necessary, quotas can be purchased.  Below is the cost quota DataStore. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <table><tbody><tr><td>  $ 0.10 </td><td>  100,000 write operations </td></tr><tr><td>  $ 0.07 </td><td>  100,000 reads </td></tr><tr><td>  $ 0.01 </td><td>  100000 small operations </td></tr></tbody></table><br><br>  Unfortunately, if you need to put 1 record in a table with two indices, then the number of write operations is not 1, but 6. Update 1 record will consume 9 write operations.  To make it more clear, I provide a table on the expenditure of operations when working with a database. <br><br><table><tbody><tr><th>  <b>High-Level Operation</b> </th><th>  <b>Low-Level Operations Required</b> </th></tr><tr><td>  Read 1 entry <br>  (Entity Get) </td><td>  1 read </td></tr><tr><td>  Add 1 entry <br>  (New Entity Put) </td><td>  2 writes + 2 writes per indexed property value + 1 writes per composite index value </td></tr><tr><td>  Update 1 record <br>  (Existing Entity Put) </td><td>  1 write + 4 writes per modified indexed property value + 2 writes per modified composide index value </td></tr><tr><td>  Delete 1 entry <br>  (Entity Delete) </td><td>  2 writes + 2 writes per indexed property value + 1 writes per composite index value </td></tr><tr><td>  Request multiple entries <br>  (Query) </td><td>  1 read + 1 small per entity retrieved </td></tr><tr><td>  Request keys only <br>  (Query, keys only) </td><td>  1 read + 1 small per key retrieved </td></tr><tr><td>  Key creation <br>  (Key allocation) </td><td>  1 small </td></tr></tbody></table><br><br>  Thus, it turns out that even taking into account optimization and caching in memcache, on average, about 30 datastore operations are spent per user request.  In other words, free quotas are only enough for ~ 1600 user requests.  We add to the user requests work with the database on cron tasks - it becomes very hard. <br><br>  The situation is further aggravated by the fact that there are no unique keys in the DataStore, and when scaling the system, it is necessary to check the uniqueness of records manually before or after adding data to the database.  Although this is a common thing for scalable systems, it additionally increases the load on the database, the quotas of which are already costly. <br><br>  While dealing with limitations in GAE, I found a curious article on the <a href="http://www.carlosble.com/2010/11/goodbye-google-app-engine-gae/">Carlos Ble</a> blog <a href="http://www.carlosble.com/2010/11/goodbye-google-app-engine-gae/">- Goodbye Google App Engine</a> and a similar section on the <a href="http://www.gaecupboard.com/tag/rants">GAE Cupboard</a> .  To the known limitations immediately added a few more, to which I have not yet reached.  At once I will say that some of the problems described in GAE have already been fixed, but a considerable proportion of them remained: <br><ol><li>  The request cannot be performed for more than 30 seconds.  Especially critical for maintenance, for example, when backups or upgrades. </li><li>  Cannot execute a DELETE FROM tableA WHERE conditionB query.  All entries are deleted piece by piece and it costs a lot of money. </li><li>  The database does not support queries of the form ‚ÄúLIKE‚Äù - denormalization of the base and pagination is necessary. </li><li>  Can not join'it table. </li><li>  The base is very slow. </li><li>  The behavior of the database in a local environment is different from the behavior in the cloud. </li><li>  Periodic crashes in DataStore and MemCache.  For MemCache it's not scary, but losing data in the database is critical.  With backup is also hard - backup of 50,000 records exhausts free quotas for DataStore per day, plus there is a limit of 30 seconds per operation.  Give Google $ 100 for backup of your base?  Yes Easy! </li></ol><br><br>  Total: <br><ul><li>  GAE is ideal for personal pages or business card sites (free and reliable hosting). </li><li>  If you need a little database, the cost of hosting increases from free to $ 50 / month or more. </li><li>  In the presence of a large number of static pages, it is better to use a regular VPS with nginx. </li></ul><br><br>  While the code is not strongly tied to GAE, I turn to Linode.  Then I will tell you what and how. <br><img src="http://habr.habrastorage.org/post_images/afa/19d/045/afa19d045b2bce238895a5f2856f9174.gif" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/150123/">https://habr.com/ru/post/150123/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150118/index.html">Hard prioritization, or the first 5 steps to an excellent application for Windows 8. Functionality</a></li>
<li><a href="../150119/index.html">Tesla's laboratory will be turned into a museum - with the help of crowdfunding almost a million dollars was collected</a></li>
<li><a href="../150120/index.html">How to conduct business in the dark light of a crisis of confidence?</a></li>
<li><a href="../150121/index.html">Option to migrate FreeBSD from a physical server to a VMware ESXi virtual environment using NFS</a></li>
<li><a href="../150122/index.html">Active Directory Audit Powershell Change Alert. Part 2</a></li>
<li><a href="../150125/index.html">The most valuable programming advice I received</a></li>
<li><a href="../150126/index.html">Whether sales or conversion increased after you installed an online consultant in your online store</a></li>
<li><a href="../150127/index.html">Cloud protection for .NET applications</a></li>
<li><a href="../150128/index.html">Microsoft has changed the logo</a></li>
<li><a href="../150130/index.html">Russian subtitles in Coursera courses</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>