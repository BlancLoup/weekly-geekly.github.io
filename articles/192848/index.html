<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Connecting "e-government" in Ubuntu</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The home government takes care of the citizens and tries to provide them with the opportunity to meet personally with their own representatives as lit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Connecting "e-government" in Ubuntu</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage3/1e7/dbe/17c/1e7dbe17cab95c3eef9443a306c1b3fa.jpg" alt="image"><br>  The home government takes care of the citizens and tries to provide them with the opportunity to meet personally with their own representatives as little as possible.  For these purposes, a <a href="http://www.gosuslugi.ru/">state services</a> portal has been created, for this purpose there was a UEC project, an E-Government card (several banks issue), there are talks about electronic passports based on SIM-cards, etc.  etc.  To learn how to make e-government work in Ubuntu, read below. <br><br>  <i>broke off an hour from work and here he is the first post:</i> <br><br><a name="habracut"></a><br>  <b>Digression 1: Why do I need a card?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Enhanced authorization on <a href="http://www.gosuslugi.ru/">www.gosuslugi.ru</a> , certified EDS, you can sign documents in digital format, use for login to your computer, etc.  etc.  (all as with ordinary smart cards). <br><br>  <b>Digression 2: receiving a card</b> <br><br>  Actually, ‚ÄúElectronic Government‚Äù cards, for example, were issued by VTB24, Bank Saint Petersburg for a long time (according to official data), in reality, VTB began accepting applications for them from June 17 (the card is being taken 70 working days, so my wife and I were one of the first who received them from VTB24 in St. Petersburg). <br><br>  Come to the bank (I came to VTB24), tell the cashier that they have such a product, show SNILS (the same thing for <a href="http://habrahabr.ru/post/192224/">pensions</a> ), take pictures on a webcam (the photo does not get on the card, unlike UEC), fill out the questionnaire .  Keep in mind, e-government card from VTB is a credit with a zero credit limit.  Therefore, questions in the questionnaire such as ‚ÄúTell me what kind of property you have‚Äù can not be filled. <br><br>  Wait (long). <br><br>  If you already have an account on gosuslugi.ru, the process of receiving a card is accelerating (not much) + you receive SMS alerts with the status of connecting your card to your account, etc.  (they came to me). <br><br>  After many days, come to the bank, fill out another pack of forms, a service contract for 30 (!) Years and get an envelope with a card, pincode, card reader, instructions for activating the card and a second pincode (for EDS).  Make sure that you are not signed up for "possible loan" insurance. <br><br><img src="https://habrastorage.org/storage3/c0c/fbc/230/c0cfbc23028479a93f7453f0b1d3865f.jpg" alt="image"><br>  <i>Readers are released by Aladdin, under license, so there should be no driver problems for them</i> <br><br>  After receiving the card, you must activate (optional) on public services.  Those.  generate yourself a personal certificate.  The card is issued for 2 years, the reissue is automatic, the EDS is issued for 1 year, the first issue can be ordered on the site no earlier than one month before the expiration date, and if you miss the deadline, then go through the quest from the very beginning. <br><br>  So, the card and reader in hand, we connect! <br><br>  <b>Attempt 1. Ubuntu 13.04 64bit</b> <br><br>  When entering the card.gosuslugi.ru site happily offers to download an archive with * .msi files. <br>  Since Windows is not within reach, I downloaded ‚ÄúPlugin For Linux Ubuntu‚Äù, which the site happily offers when trying to login.  After installation, ANYTHING happened. <br><br>  A little googling on Habra put pcscd and stuff to work with a card reader <br>  according to instructions from here <a href="http://habrahabr.ru/post/72905/">habrahabr.ru/post/72905</a> , having decided that the Estonian option "will go too". <br><br>  Card reader earned: <br><br><pre>  opensc-tool --list-readers
 # Detected readers (pcsc)
 Nr.  Card Features Name
 0 Yes Athena ASE IIIe [CCID Bulk Interface] 00 00 </pre><br><br>  Checked if he sees the map: <br><br><pre>  opensc-tool -nv
 Using the reader with a card: Athena ASE IIIe [CCID Bulk Interface] 00 00
 Connecting to card reader Athena ASE IIIe [CCID Bulk Interface] 00 00 ...
 Using the card driver. Default driver for unknown cards.
 Card name: Unsupported card </pre><br><br>  The card reader sees the card, everything is ok, but it is not supported by opensc, sailed. <br><br><pre>  opensc-tool -a -v
 Using the reader with a card: Athena ASE IIIe [CCID Bulk Interface] 00 00
 Connecting to card reader Athena ASE IIIe [CCID Bulk Interface] 00 00 ...
 Using the card driver. Default driver for unknown cards.
 Card ATR:
 3B 6C 00 FF 80 73 C8 21 13 66 01 06 11 59 00 01; l ... s.!. F ... Y ..
</pre><br><br>  When launching FF or IE from under WINE, the cryptoplugin did not work as expected either. <br><br>  <b>Attempt 2. Mac OS X 10.7.5</b> <br><br>  I took a MacBook and without much thought, downloaded the proposed drivers from the site.  Of course, it was not possible to activate the card, although the card reader was identified in the system. <br><br>  <b>Attempt 3. Win7</b> <br><br>  Spitting on everything, he took the "Teschin laptop". <br><br>  Under Windows 7, everything worked, all the rules.  First, we put the plugin number 1 to activate, activate the card, in the process your certificate is generated and written to the card.  You can also see the titles of your certificate, more precisely two - pre-installed on the card and the second - our fresh one. <br>  <i>NB When you fill out the form for a card issue, specify the email - it will be added to your certificate, as well as the TIN and your other data.</i> <br><br>  Then we put another plugin - to work with the card.  Authorization on the site is successful - it turned out in your personal account. <br><br>  <b>Attempt 4. Mac OS X</b> <br><br>  After activating the card and writing the certificate there, authorization also worked under Mac OS X. <br><br>  <b>Attempt 5. Ubuntu 12.04 32bit LTS</b> <br><br>  With dark forebodings booted into Ubuntu 12.04 32 bit, put the plugin, a couple of dependent libraries - authorization works.  Suddenly.  But I live at 13.04, so we suffer further. <br><br>  <b>The final chord.</b>  <b>Ubuntu 13.04 64bit again</b> <br><br>  According to the instructions and tips <a href="http://habrahabr.ru/post/163771/">from here, I</a> installed the latest version of 32bit FF and the compatibility library, as well as Java <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk6u38-downloads-1877406.html">from here.</a> <br><br>  After that, a miracle happened and authorization earned :) [at 32 bit FF, of course] <br><br>  <b>Summary:</b> <br><br>  1. The ‚ÄúElectronic Government‚Äù card in conjunction with gosuslugi.ru really works under Windows, and in MacOS, and in Ubunt. <br><br>  2. Without Windows, the standard software can not be activated. <br><br>  3. Developers from gosuslugi.ru should take care to support 64 bit Linux. <br><br>  <i>Upd.</i>  <i>on the third point, a message was received from the anonymus that supposedly there has long been a normal 64-bit version of the plug-in that allows both activating the card and logging in to the portal, however, for NOT technical reasons, this plug-in is available only to the chosen ones - it is not shown on the site.</i>  <i>so the developers are rehabilitated, in a sense.</i> </div><p>Source: <a href="https://habr.com/ru/post/192848/">https://habr.com/ru/post/192848/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../192838/index.html">LLVM news for Windows</a></li>
<li><a href="../192840/index.html">Founder of startups worth more than $ 2,000,000,000, Founder of the Founder Institute Adeo Ressi: ‚ÄúFabulous talented guys in the CIS!‚Äù</a></li>
<li><a href="../192842/index.html">Zeno's quantum paradox</a></li>
<li><a href="../192844/index.html">The beginning of the official sales of Google Nexus 10 in Russia</a></li>
<li><a href="../192846/index.html">Livejournal under DDoS attack</a></li>
<li><a href="../192850/index.html">IFA 2013: Smart watches for every hand, thanks to Qualcomm Toq</a></li>
<li><a href="../192852/index.html">The US government has betrayed the Internet. We need to get it back in our hands.</a></li>
<li><a href="../192854/index.html">Release Firefox 24 and Firefox 24 ESR</a></li>
<li><a href="../192856/index.html">$ 1.5k creepy robotop available for order</a></li>
<li><a href="../192858/index.html">Broadcasting iOS application development in 48 hours</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>