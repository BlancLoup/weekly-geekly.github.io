<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Arrangement of points over onmousewheel and a little about onion soup</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I already wrote about my experiments with scrollbars on websites and web applications, but these experiments were not entirely successful. Therefore, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Arrangement of points over onmousewheel and a little about onion soup</h1><div class="post__text post__text-html js-mediator-article">  I already wrote about my experiments with <a href="http://habrahabr.ru/blogs/javascript/133077/">scrollbars</a> on websites and web applications, but these experiments were not entirely successful.  Therefore, I have so far left the idea of ‚Äã‚Äãcustomizing scrollbars, but I decided to thoroughly understand the events caused by the scrolling of the mouse wheel. <br><br>  <b>So, the task is to</b> implement a reaction to the mouse wheel scrolling events over a certain block, that is, without touching the browser's native window scroll.  The implementation should be cross-browser and not use any frameworks. <br><br>  Looking ahead, I will say that this experiment was completely successful, and the final result works in all desktop browsers, starting with IE7 (in theory, it should work in the sixth, but now there is no way to check it).  Also, I want to thank Google search engine.  Without it, life would be woven out of despondency and despair. <br><a name="habracut"></a><br>  First, I solved the problem of catching onmousewheel for the entire window (the window object).  It was decided so: <br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener) <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"DOMMouseScroll"</span></span>, mouse_wheel, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);  <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onmousewheel = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.onmousewheel = mouse_wheel; }</code> </pre> <br>  The first line will catch the event in Firefox and the Whale web browsers (Chrome, Safari), the second is needed for catching in Opera and IE.  The reaction to the event is the mouse_wheel () function, which looks like this for now: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mouse_wheel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-literal"><span class="hljs-literal">false</span></span> == !!event) event = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.event; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> direction = ((event.wheelDelta) ? event.wheelDelta/<span class="hljs-number"><span class="hljs-number">120</span></span> : event.detail/<span class="hljs-number"><span class="hljs-number">-3</span></span>) || <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre><br>  With the first line, everything is clear - this is a crutch for IE.  I will tell about the second line in more detail.  In it, I determine in which direction the wheel rotates.  All browsers except Firefox pass in the wheelDelta property as equal to 120 or -120, depending on where the wheel is spinning.  Mozilla operates with the detail property, assigning it values ‚Äã‚Äãof -3 or 3, respectively.  Yes, exactly, the sign does not match.  Therefore, the second line I bring the data of different browsers to +1, if the wheel turns up (away from you) and -1, if the wheel turns down (toward you).  Well, I put on a condom in the form of "||  false in case of a nuclear war or some other exotic thing. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The program is at least completed.  I catch the mouse wheel scrolling event in all browsers and even know which direction the wheel is spinning.  We go further. <br><br>  Now we need to catch this event over a certain block, and to do something with it.  This may be, for example, the same scrolling content or volume control of the player.  I, as an example, decided to make a kind of colorpicker, in which the values ‚Äã‚Äãof the red, green or blue components are set by scrolling the wheel over the corresponding block.  That is, something in this spirit: <br><br><img src="http://examples.hautamaki.ru/img/picker.jpg" alt="image"><br><br>  I decided to act in the simplest way and maybe even in a slightly kondovo way: I entered the wheel_handle global variable (null or another false-like default value), which at the onmouseover event on a certain block will be assigned a certain function defined in advance.  The function will be executed when onmousewheel is triggered and the scroll direction will be transmitted to it as a parameter.  The code began to look like this: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wheel_handle = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mouse_wheel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-literal"><span class="hljs-literal">false</span></span> == !!event) event = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.event; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> direction = ((event.wheelDelta) ? event.wheelDelta/<span class="hljs-number"><span class="hljs-number">120</span></span> : event.detail/<span class="hljs-number"><span class="hljs-number">-3</span></span>) || <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (direction &amp;&amp; !!wheel_handle &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> wheel_handle == <span class="hljs-string"><span class="hljs-string">"function"</span></span>) {  wheel_handle(direction); } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> set_handle = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, func</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(id).onmouseover = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  wheel_handle = func; } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(id).onmouseout = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  wheel_handle = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener) <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"DOMMouseScroll"</span></span>, mouse_wheel, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onmousewheel = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.onmousewheel = mouse_wheel; }</code> </pre><br>  In principle, everything should be clear, but just in case.  The mouse_wheel function, in the presence of direction and wheel_handle with the type ‚Äúfunction‚Äù, performs the function assigned to wheel_handle.  The function set_handle determines which blocks to perform which function.  That is, a little running forward, for my example, the construction <br><br><pre> <code class="javascript hljs">set_handle(<span class="hljs-string"><span class="hljs-string">"r"</span></span>, set_red);</code> </pre><br>  will mean that when you hover the mouse over the block with the identifier "r", the wheel_handle variable is assigned the function set_red, which with the direction parameter will be executed in the event of an onmousewheel event. <br><br>  I make an example: <br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="css"><span class="xml"><span class="css">   </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#r</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">font-size</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">50px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">color</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#fff</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">text-align</span></span></span></span><span class="xml"><span class="css">: center; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">line-height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; }   </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#g</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">120px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">font-size</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">50px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">color</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#fff</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">text-align</span></span></span></span><span class="xml"><span class="css">: center; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">line-height</span></span></span></span><span class="xml"><span class="css">:</span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; }   </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#b</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">230px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">font-size</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">50px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">color</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#fff</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">text-align</span></span></span></span><span class="xml"><span class="css">: center; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">line-height</span></span></span></span><span class="xml"><span class="css">:</span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; }   </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#result</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">120px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">320px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; }  </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript">   </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> wheel_handle = </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">null</span></span></span></span><span class="xml"><span class="javascript">;   </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> rgb = {    </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">r</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">,    </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">g</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">,    </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">b</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">,    </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">result</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">   } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> mouse_wheel = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">event</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (</span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript"> == !!event) event = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.event; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> direction = ((event.wheelDelta) ? event.wheelDelta/</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">120</span></span></span></span><span class="xml"><span class="javascript"> : event.detail/</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">-3</span></span></span></span><span class="xml"><span class="javascript">) || </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (direction &amp;&amp; !!wheel_handle &amp;&amp; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">typeof</span></span></span></span><span class="xml"><span class="javascript"> wheel_handle == </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"function"</span></span></span></span><span class="xml"><span class="javascript">) { wheel_handle(direction); } } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_handle = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">id, func</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(id).onmouseover = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ wheel_handle = func; }; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(id).onmouseout = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ wheel_handle = </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">null</span></span></span></span><span class="xml"><span class="javascript">; }; } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_red = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">direction</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ rgb.r += direction; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.r &lt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">) rgb.r = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.r &gt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">) rgb.r = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="javascript">).innerHTML = rgb.r; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb("</span></span></span></span><span class="xml"><span class="javascript"> + rgb.r + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", 0, 0)"</span></span></span></span><span class="xml"><span class="javascript">; set_result(); } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_green = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">direction</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ rgb.g += direction; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.g &lt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">) rgb.g = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.g &gt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">) rgb.g = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="javascript">).innerHTML = rgb.g; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb(0, "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.g + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", 0)"</span></span></span></span><span class="xml"><span class="javascript">; set_result(); } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_blue = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">direction</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ rgb.b += direction; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.b &lt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">) rgb.b = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.b &gt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">) rgb.b = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="javascript">).innerHTML = rgb.b; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb(0, 0, "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.b + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">")"</span></span></span></span><span class="xml"><span class="javascript">; set_result(); } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_result = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"result"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb("</span></span></span></span><span class="xml"><span class="javascript"> + rgb.r + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.g + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.b + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">")"</span></span></span></span><span class="xml"><span class="javascript">; } </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.onload = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (</span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.addEventListener) </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.addEventListener(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"DOMMouseScroll"</span></span></span></span><span class="xml"><span class="javascript">, mouse_wheel, </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript">); </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.onmousewheel = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.onmousewheel = mouse_wheel; set_handle(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="javascript">, set_red); set_handle(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="javascript">, set_green); set_handle(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="javascript">, set_blue); } </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"height: 1000px;"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"result"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  Set_ * type finctions are obvious and, in my opinion, do not need comments.  But pay attention to the style of the body tag is necessary.  I set 1000 pixels of height so that the page is guaranteed not to fit in the screen and it has formed its own scroll bar.  If you run the example in this form, the onmousewheel events on the blocks will work, but the page itself will scroll down.  I re-read the problem statement; I put a small dash into the mouse_wheel () function; <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mouse_wheel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-literal"><span class="hljs-literal">false</span></span> == !!event) event = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.event; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> direction = ((event.wheelDelta) ? event.wheelDelta/<span class="hljs-number"><span class="hljs-number">120</span></span> : event.detail/<span class="hljs-number"><span class="hljs-number">-3</span></span>) || <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (direction &amp;&amp; !!wheel_handle &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> wheel_handle == <span class="hljs-string"><span class="hljs-string">"function"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (event.preventDefault) event.preventDefault(); event.returnValue = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; wheel_handle(direction); } }</code> </pre><br>  preventDefault () is needed here to cancel an event.  And in general, it is needed to cancel the event.  In general, I quote a little Google: <br><blockquote>  If the event action can be canceled, the preventDefault () method of the Event object is used to cancel the event.  This means that the action performed in a particular implementation will not be executed when this event occurs.  If the preventDefault () method is called at any phase of the event, the event is canceled.  The action performed by this default event is not executed.  Calling this method for an event that cannot be canceled has no effect on the further execution of the event.  After the call, the preventDefault () method will be valid for the duration of the event further propagation.  The preventDefault () method can be called at any phase of the event flow. </blockquote><br><br>  event.returnValue is for IE, which does not know about preventDefault (). <br><br>  We canceled the natural reaction to the event - we perform our function.  Under Windows in the eighth Firefox, I noted the not always correct triggering of preventDefault ().  Although, maybe this is some onmouseenter specifics, because it was noticed that incorrect responses occur when the cursor is on text in a block.  If anyone is aware of these cataclysms, enlighten, please - Google did not help here. <br><br>  But, in general, that's all.  The source code for copy-paste completely: <br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="css"><span class="xml"><span class="css"> </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#r</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">font-size</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">50px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">color</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#fff</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">text-align</span></span></span></span><span class="xml"><span class="css">: center; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">line-height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; } </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#g</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">120px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">font-size</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">50px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">color</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#fff</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">text-align</span></span></span></span><span class="xml"><span class="css">: center; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">line-height</span></span></span></span><span class="xml"><span class="css">:</span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; } </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#b</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">230px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">font-size</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">50px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">color</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#fff</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">text-align</span></span></span></span><span class="xml"><span class="css">: center; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">line-height</span></span></span></span><span class="xml"><span class="css">:</span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; } </span></span><span class="hljs-selector-id"><span class="xml"><span class="css"><span class="hljs-selector-id">#result</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">position</span></span></span></span><span class="xml"><span class="css">: absolute; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">left</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">10px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">top</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">120px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">320px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">height</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">100px</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">background</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; } </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript"> </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> wheel_handle = </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">null</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> rgb = { </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">r</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">, </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">g</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">, </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">b</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">, </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">result</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript"> } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> mouse_wheel = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">event</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (</span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript"> == !!event) event = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.event; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> direction = ((event.wheelDelta) ? event.wheelDelta/</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">120</span></span></span></span><span class="xml"><span class="javascript"> : event.detail/</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">-3</span></span></span></span><span class="xml"><span class="javascript">) || </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (direction &amp;&amp; !!wheel_handle &amp;&amp; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">typeof</span></span></span></span><span class="xml"><span class="javascript"> wheel_handle == </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"function"</span></span></span></span><span class="xml"><span class="javascript">) { </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (event.preventDefault) event.preventDefault(); event.returnValue = </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript">; wheel_handle(direction); } } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_handle = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">id, func</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(id).onmouseover = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ wheel_handle = func; } </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(id).onmouseout = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ wheel_handle = </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">null</span></span></span></span><span class="xml"><span class="javascript">; } } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_red = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">direction</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ rgb.r += direction; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.r &lt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">) rgb.r = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.r &gt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">) rgb.r = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="javascript">).innerHTML = rgb.r; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb("</span></span></span></span><span class="xml"><span class="javascript"> + rgb.r + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", 0, 0)"</span></span></span></span><span class="xml"><span class="javascript">; set_result(); } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_green = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">direction</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ rgb.g += direction; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.g &lt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">) rgb.g = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.g &gt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">) rgb.g = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="javascript">).innerHTML = rgb.g; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb(0, "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.g + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", 0)"</span></span></span></span><span class="xml"><span class="javascript">; set_result(); } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_blue = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">direction</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ rgb.b += direction; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.b &lt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">) rgb.b = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">0</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (rgb.b &gt; </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">) rgb.b = </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">255</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="javascript">).innerHTML = rgb.b; </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb(0, 0, "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.b + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">")"</span></span></span></span><span class="xml"><span class="javascript">; set_result(); } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> set_result = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"result"</span></span></span></span><span class="xml"><span class="javascript">).style.backgroundColor = </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rgb("</span></span></span></span><span class="xml"><span class="javascript"> + rgb.r + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.g + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">", "</span></span></span></span><span class="xml"><span class="javascript"> + rgb.b + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">")"</span></span></span></span><span class="xml"><span class="javascript">; } </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.onload = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (</span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.addEventListener) </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.addEventListener(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"DOMMouseScroll"</span></span></span></span><span class="xml"><span class="javascript">, mouse_wheel, </span></span><span class="hljs-literal"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="xml"><span class="javascript">); </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">.onmousewheel = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.onmousewheel = mouse_wheel; set_handle(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="javascript">, set_red); set_handle(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="javascript">, set_green); set_handle(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="javascript">, set_blue); } </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"height: 1000px;"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"r"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"g"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"b"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"result"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br><br>  <a href="http://examples.hautamaki.ru/mousewheel/">Reference to a working example</a> <br><br>  <b>NB!</b>  <a href="http://examples.hautamaki.ru/mousewheel_2/">Link to a working example, supplemented with the advice of distinguished commentators</a> <br>  - fixed binding to "magic constants"; <br>  - added the ability to specify the context of the call to handle: the binding function now looks like mousewheel.set_wheel_handle (id, func, context); <br>  - everything relating to onmousewheel is wrapped in the Mousewheel.js library. <br><br>  And, in fact, what have the onion soup.  Well, <a href="http://habrahabr.ru/company/microsoft/blog/133276/">first</a> .  And, secondly, I do not know about you, but here in Moscow the frosts hit.  -10, of course, is tolerable, but cold colds are blooming right now.  Unpleasant, agree? <br><br>  I don‚Äôt know a better remedy for the prevention of any colds, than a bowl of hot, fragrant onion soup in a Rouen manner, and I cook it like this: <br><ul><li>  I put in the oven for 50-60 minutes everything you need for a broth: a couple of red onions, a big carrot, celery root, a head of garlic, and, of course, meat ‚Äî a piece of good beef and a couple of large bones; </li><li>  I cut onion rings, ordinary onions or shallots - quite a lot, 800 grams, a kilogram - and put them in a heated, thick cast-iron pot or cauldron, in which I preliminarily melt 150-200 grams of butter, diminish the fire to a minimum and leave for about three hours, periodically stirring; </li><li>  I cook the broth - dense to the consomm√©, pouring everything that was baked in the oven with two liters of cold (!) water and put on the lowest possible fire.  It should practically not boil: two or three bubbles in the center - and that's enough.  If boils harder, scoop ladle and pour back from a height; </li><li>  when (about three hours later) the onion becomes almost homogeneous and becomes the color of milk chocolate, I pour in a glass of white wine, bring to a boil and pour in the cooked and filtered broth.  Also, at this stage you can add one hundred grams of soft cream cheese, but this is not necessary; </li><li>  Thirty minutes later I add two hundred grams of cream, before pouring a spoonful of flour diluted in half water in a cup of water, I mix it thoroughly: the soup should be practically homogeneous (if there are any doubts, you can add a blender to the mind), add ground pepper and herbs that need to be cooked a little - thyme, rosemary, bay leaf or the whole bunch of Garni in a crowd; </li><li>  another twenty minutes and the soup is ready: I ‚Äã‚Äãtake out the bay leaf and throw it away, and serve the rest in ceramic or clay deep plates with croutons and thinly sliced ‚Äã‚Äãrennet cheese.  Croutons - in a plate, cheese - separately. </li></ul><br><br>  Bon appetit, in general.  Of course, preparation takes at least 4 hours, but the result is worth it, believe me.  And in general, I see a number of similarities between cooks and programmers, but more on that next time, and probably all the same, in Habrayour. <br><br>  Do not be ill! <br></div><p>Source: <a href="https://habr.com/ru/post/133321/">https://habr.com/ru/post/133321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133315/index.html">Automatic start of unit tests for C</a></li>
<li><a href="../133316/index.html">Training course. Creating the Entity Framework data model for an ASP.NET MVC application</a></li>
<li><a href="../133317/index.html">Conscience is the best controller</a></li>
<li><a href="../133318/index.html">Market packaging startups on their own experience</a></li>
<li><a href="../133319/index.html">Conference ADD-3 convenes speakers</a></li>
<li><a href="../133325/index.html">Synchronization of the view with the collection</a></li>
<li><a href="../133326/index.html">Bury bitcoin</a></li>
<li><a href="../133328/index.html">DOM-shim for all browsers including IE <8</a></li>
<li><a href="../133330/index.html">Backup for standalone * NIX servers. Emulating TimeMachine</a></li>
<li><a href="../133332/index.html">Biglion develops new sources of profit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>