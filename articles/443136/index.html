<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Do not over-complicate your CI / CD and use Docker in a meaningful way.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I worked in different companies that use microservices. And they ran them in docker containers. Now I am working with a project that, although a monol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Do not over-complicate your CI / CD and use Docker in a meaningful way.</h1><div class="post__text post__text-html js-mediator-article">  I worked in different companies that use microservices.  And they ran them in docker containers.  Now I am working with a project that, although a monolith, is still more convenient to launch in a container. <br><br>  On the one hand, Docker is a very versatile tool, it can be easily and effectively used for solving a huge number of tasks.  It is clear and it seems that everything is elementary.  But on the other hand, if you do not spend your time and resources to ‚Äúpump out‚Äù in its proper use, you are more likely to over-complicate simple things.  And of course, you will think that you are right, and Docker is a worthless, cumbersome garbage, which is not suitable for solving your unique task. <br><a name="habracut"></a><br>  Usually, in a standard company, the process of working on any task looks like this: <br><br><ol><li>  Git push is done with our commit </li><li>  Some system is triggered, be it Jenkins, TeamCity, etc. </li><li>  The job job pipeline is started, in which third-party libraries are downloaded, the project is compiled, tests are run. </li><li>  A docker image is created with the collected project (ADD.) And pushed to the remote docker registry </li><li>  Somehow git pull (chef, puppet, manually through docker-compose) is done on the remote server and the container is started. </li></ol><br>  Intuitively, I always felt that it was somehow too complicated.  This process is proudly called CI / CD and I'm already tired of such clever people who do not doubt that this is the easiest way. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For the end user, it looks like this: according to a push to the git repository, somewhere that was in the commit takes place. <br><br>  What I do not like about this approach. <br><br><ol><li>  The only way to deploy the system on a remote server is to go through all 5 steps. </li><li>  In step 3, you may need access keys to private libraries.  The process can be long, if the caching of previously downloaded libraries is not configured. </li><li>  You need to prepare a Dockerfile, decide on the image (FROM ...), decide how we will tag the image and need access to the repository, into which we will push the image. </li><li>  I need my own repository, configure https.  After all, the docker client works only on https. </li></ol><br><br>  The fourth point, of course, is done once and maybe it should not be added. <br><br>  But isn't the word Docker mentioned many times already at the release stage? <br><br>  Consider: why are we dragging all this Docker ahead of time?  Because it is considered that the container is convenient and ‚ÄúWell, everything was fine, it works.  What do you start then? ‚Äù. <br>  So, for such people I can say - docker containers are not a panacea and not the only environment in which your application can run.  Project written in python, php, js, swift, scala / java, etc.  you can run more on: <br><br><ul><li>  remote virtual machine </li><li>  on lokalkhost without any virtualization and docker containers. </li></ul><br>  Suddenly :) <br><br>  Let's imagine that we are doing a service that will work on nodeJS. <br><br>  The result of this project (or as I call the 'artifact') will be a set of js files (the service itself) + node_modules (third-party libraries that are used in the service). <br><br>  Suppose we are convinced that the service is working and want to run it remotely, so that our testers can test it for functionality. <br><br>  How do you like this idea: <br><br><ol><li>  We do .tar.gz with our project and fill it into ... remote storage of artifacts!  (These are also called ‚Äúbinary repository‚Äù repositories). </li><li>  We say the url that can download our service and start testing. </li></ol><br>  Next, testers can start the service or locally at home if they have everything, or do a Dockerfile, in which the artifact will be downloaded and just run the container.  Well, or something else. <br><br>  I‚Äôll say right away, if you don‚Äôt want testers to launch docker containers and generally ‚Äúit‚Äôs not their job‚Äù to launch, then use a tool that will collect images as soon as new artifacts appear in the binary repository (use a web hook, drive periodically over the crown). <br><br>  Now from the binary repositories there are: <br><br><ul><li>  Sonatype nexus </li><li>  Artifactory </li></ul><br>  Nexus is easy to use, it has a bunch of different repositories that you can create (npm, maven, raw, docker), so I use it. <br><br>  It's a damn simple idea, why haven't I read about it anywhere?  On the Internet, do not count the articles ‚Äúlike a git push somewhere a container unfolds in some kubernetes‚Äù.  From such complex algorithms hair stand on end. <br><br>  The purpose of this article is to say that it is not necessary in one process to build the project and add it to the docker image. <br><br>  Separate and conquer! <br><br>  Build the project, publish the artifacts in a downloadable place.  (Docker registry is not the only place where you can store your project, choose universal ways of delivering artifacts to servers). <br><br>  A separate tool to deliver artifacts to the server where your project will work. <br>  It's very simple, give a choice to others: use docker, run in kubernetes or use any other tool to launch artifacts.  No need to impose the use of technology despite the fact that it seems to you very comfortable and fashionable. <br><br>  Good luck in launching your projects! </div><p>Source: <a href="https://habr.com/ru/post/443136/">https://habr.com/ru/post/443136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443112/index.html">Are you sure you can trust your VPN?</a></li>
<li><a href="../443120/index.html">The State Duma will continue the fight against the illegal sale of SIM cards</a></li>
<li><a href="../443122/index.html">809 million email addresses for the Verifications.io service leak due to publicly open MongoDB</a></li>
<li><a href="../443124/index.html">React.lazy? But what if you don't have a component?</a></li>
<li><a href="../443128/index.html">kW, kW * h and kW / h</a></li>
<li><a href="../443138/index.html">‚ÄúAudio is awesome, but a bit later‚Äù: a podcast about content makers, GTD for the editor and media career</a></li>
<li><a href="../443140/index.html">ZenCad scripting 3d modeling system</a></li>
<li><a href="../443144/index.html">School 42 programming in the US - the American dream available to everyone</a></li>
<li><a href="../443146/index.html">Smart parking - adaptive navigation, lighting and charging stations for electric vehicles</a></li>
<li><a href="../443160/index.html">The digest of interesting materials for the mobile developer # 289 (March 4 - March 10)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>