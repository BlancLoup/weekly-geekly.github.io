<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Test run with a three-axis accelerometer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 The question of the physical development of their own children is always relevant. The youngest son was three years old, and in addition to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Test run with a three-axis accelerometer</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  The question of the physical development of their own children is always relevant.  The youngest son was three years old, and in addition to walks, I wanted to look for sports lessons for him.  Since he is interested in various types of transport, the choice naturally fell on the runbike.  And after watching the incendiary videos, how older children stunt on the footbelt, I decided to investigate the issue in a little more detail.  Armed with IMU from Amperki on 10 degrees of freedom, Raspberry Zero W with a power supply and 40 lines of Python code, I went to a running school.  What came of it - look under the cut) <br><br><img src="https://habrastorage.org/webt/z_/jt/cj/z_jtcjqvgurp14nldw9mz7rfvnw.jpeg" alt="image"><br><a name="habracut"></a><br>  Runbikes are not as common as children's bikes or scooters, but they have several advantages over other modes of transport.  The child can sit on the saddle, as if on a bicycle and pushing with both legs alternately.  This gives a more even load on both legs and back.  Unlike the scooter, where only one jog leg works.  An added bonus is that the child learns to balance.  That is, a further transfer to a two-wheeled bicycle is supposed to occur without any complications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Basically the design of the runbikes are quite simple.  This is a metal frame (aluminum or steel), a steering wheel, a saddle and two wheels (which are more expensive to pump on models or made of foamed rubber).  There are a couple of models with rear wheel suspension. <br><br><img src="https://habrastorage.org/webt/3i/bn/9h/3ibn9holi6vfbv9n5wl6kj7ywmq.jpeg"><br><br>  The damping of the rear wheel seemed to me a particularly important detail.  The child will inevitably jump on the grabber from the curbs and ride on uneven roads (we live in Russia).  Therefore, the presence of a damper should in theory reduce the load on the back.  In the future, as the young rider's professionalism grows, the damper will also allow you to do <a href="https://youtu.be/XZXMgMnopVA">jumps and other similar stunts</a> . <br><br>  Rummaging on the Internet, I discovered that no one had previously quantified the loads that fall on the frame of the runbike when jumping from various obstacles.  Interest in this issue and a small amount of free time led to the fact that I collected from scrap materials an uncomplicated stand for measurements. <br><br><img src="https://habrastorage.org/webt/q6/sa/cw/q6sacwdaeyyx1txrcqwhfypxiii.jpeg" alt="image"><br><br>  Accelerations will be measured by a three-axis accelerometer from the Amperki <a href="http://amperka.ru/product/troyka-imu-10-dof">IMU-sensor</a> .  Using the accelerometer of cell phones to measure accelerations will not work due to the low measurement limit (+ -2G).  The range of measurements on each of the axes of the Amperka module is + -8G, hopefully, that's enough. <br><br>  The IMU sensor was attached to the frame with the help of a Topeak holder (I had to temporarily remove it from my bicycle), a piece of plexiglass and several layers of electrical tape.  The Raspberry Pi Zero W singleplatnik was used to poll the sensor. A small Python script interrogated the accelerometer with a period of about 10 ms: <br><br><div class="spoiler">  <b class="spoiler_title">imu.py</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pytroykaimu <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TroykaIMU imu = TroykaIMU() imu.accelerometer.set_range(<span class="hljs-string"><span class="hljs-string">'8G'</span></span>) file_name = <span class="hljs-string"><span class="hljs-string">''</span></span> print(<span class="hljs-string"><span class="hljs-string">'   ( )'</span></span>) file_name = str(input ()) file_name = file_name + <span class="hljs-string"><span class="hljs-string">'.csv'</span></span> print(<span class="hljs-string"><span class="hljs-string">' ,  Ctrl+C'</span></span>) t0 = time.time() imu_array = [] <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: ax, ay, az = imu.accelerometer.read_gxyz() gx, gy, gz = imu.gyroscope.read_radians_per_second_xyz() imu_array += [time.time(), ax, ay, az, gx, gy, gz] time.sleep(<span class="hljs-number"><span class="hljs-number">0.006</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> KeyboardInterrupt: t1 = time.time() lines = int(len(imu_array)/<span class="hljs-number"><span class="hljs-number">7</span></span>) print(<span class="hljs-string"><span class="hljs-string">" -   -"</span></span>, lines, <span class="hljs-string"><span class="hljs-string">'-  '</span></span>, file_name) imu_file = open(file_name, <span class="hljs-string"><span class="hljs-string">'w'</span></span>) imu_file.write(<span class="hljs-string"><span class="hljs-string">'time,ax,ay,az,gx,gy,gz'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(lines): imu_file.write(str(imu_array[<span class="hljs-number"><span class="hljs-number">7</span></span>*i]) + <span class="hljs-string"><span class="hljs-string">','</span></span> + str(imu_array[<span class="hljs-number"><span class="hljs-number">7</span></span>*i+<span class="hljs-number"><span class="hljs-number">1</span></span>]) + <span class="hljs-string"><span class="hljs-string">','</span></span> + str(imu_array[<span class="hljs-number"><span class="hljs-number">7</span></span>*i+<span class="hljs-number"><span class="hljs-number">2</span></span>]) + <span class="hljs-string"><span class="hljs-string">','</span></span> + str(imu_array[<span class="hljs-number"><span class="hljs-number">7</span></span>*i+<span class="hljs-number"><span class="hljs-number">3</span></span>]) + <span class="hljs-string"><span class="hljs-string">','</span></span> + str(imu_array[<span class="hljs-number"><span class="hljs-number">7</span></span>*i+<span class="hljs-number"><span class="hljs-number">4</span></span>]) + <span class="hljs-string"><span class="hljs-string">','</span></span> + str(imu_array[<span class="hljs-number"><span class="hljs-number">7</span></span>*i+<span class="hljs-number"><span class="hljs-number">5</span></span>]) + <span class="hljs-string"><span class="hljs-string">','</span></span> + str(imu_array[<span class="hljs-number"><span class="hljs-number">7</span></span>*i+<span class="hljs-number"><span class="hljs-number">6</span></span>]) + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) imu_file.close() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">' ,   -'</span></span>, t1 - t0, <span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span></code> </pre> <br></div></div><br>  Power Raspberry was filmed with <a href="http://amperka.ru/collection/boards/product/power-bank-li-ion">Power Bank from the same Amperki</a> , and I did a remote launch from a cell phone with a terminal installed on it.  I hid a single board with a power supply unit in a cell phone case, and the IMU sensor itself was attached to the seatpost of the investigated runbikes as follows: <br><br><img src="https://habrastorage.org/webt/ut/v7/cf/utv7cfq6mtlamn7ig_jkurwc-2c.jpeg" alt="image"><br><br>  We carried out measurements together with Yevgeny Ivanov from the <a href="https://vk.com/begovelmsk">BegovelMsk school in Moscow</a> .  The racetrack for the test was kindly provided by two runbikes ( <a href="https://puky-russia.ru/begovel-puky-lr-ride-4086-racing-orange-oranzhevyy/">Puky LR Ride</a> and <a href="https://earlyrider-russia.ru/begovely/begovely-ot-3-let/trail-runner-14">Early Rider Trail Runner 14</a> ).  These two models are common in running schools, the first - mainly for tricks, the second - for running races.  Tires on both models were inflated to about 3.5 atm. <br><br>  The test was that the rider Artem jumped from a small springboard on the test rails: <br><br><img src="https://habrastorage.org/webt/_m/ur/t3/_murt3scugs8m4l2yfvhsjbr634.gif" alt="image"><br><br>  As a result, for each jump on the SD card, Raspberry deposited a file with polls of all three axes of the accelerometer every 10 ms.  From each file you can derive such a graph, accelerations in G are plotted on the vertical axis: <br><br><img src="https://habrastorage.org/webt/ip/jm/de/ipjmdebphguum2bsftj1f4gwezw.jpeg" alt="image"><br><br>  The graphs for similar jumps turned out to be quite similar, but at the same time, the acceleration curves for the two studied models of running bikes differ very much.  To simplify the picture, the following graph shows only the vertical components of the accelerations (for our experiment, this is the Y axis divided by the cosine of the angle of deviation from the vertical).  The graph also indicates the time of arrival on the springboard (determined by video races) and the time of touching the floor after the jump (this is the maximum signal in amplitude). <br><br><img src="https://habrastorage.org/webt/68/wo/jp/68wojpat5rrnbpgsfrpxnyvw7qk.jpeg" alt="image"><br><br>  As you can see, the frame of the runbike (and with it the child) when jumping from the springboard is experiencing a short-term shock load up to 10G!  Suddenly.  I thought the load was much lower.  It can be concluded that it is not worth falling from the curbs while sitting with the 5th point on the saddle of the running leg.  Otherwise, the spine and internal organs of the child will have a blow.  It would be optimal to transfer this load to the legs.  Therefore, a <a href="https://puky-russia.ru/podnozhka-dlya-begovela-puky-lr-ride/">special step</a> is available for the Puky LR Ride model, on which the child, when performing tricks, becomes legs. <br><br><img src="https://habrastorage.org/webt/d-/fw/jz/d-fwjzorqrzb2eciijk69puxno8.jpeg" alt="image"><br><br>  What other conclusions can be drawn from these curves?  About the following: <br><br><ol><li>  The damper on the LR Ride reduces the shock load on the frame of the runbike by about 30% (most likely even more, since the accelerometer on the hard frame of the Trail Runner 14 went into saturation).  Also, the nature of the load increase varies, it becomes smoother than that of the model without a damper. </li><li>  The damper helps to increase the distance of the jump, since the child can use it as a kind of spring in front of the springboard (note the orange curve before the springboard ride). </li><li>  The damper dampens residual vibrations of the frame, it can be replaced that after the jump at LR Ride they are much smaller than those of Trail Runner 14, both in time and in amplitude.  This increases the running speed and the comfort of the rider. </li></ol><br>  These unexpectedly interesting results were obtained from one simple experience.  Finally, I would like to once again express my gratitude to the traveling school, rider Artyom and coach <a href="https://vk.com/topic-71045068_30787686">Yevgeny Ivanov</a> . <br><br><img src="https://habrastorage.org/webt/kv/2y/79/kv2y79n1tteln7evvtmpfjsl1xa.jpeg" alt="image"><br><br>  Thank you for reading to the end and see you soon! </div><p>Source: <a href="https://habr.com/ru/post/431810/">https://habr.com/ru/post/431810/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431796/index.html">NASA signs development lunar module development contracts with private companies</a></li>
<li><a href="../431800/index.html">Ministry of Communications proposes to entrust the creation of a 5G network to a single operator</a></li>
<li><a href="../431802/index.html">Problem personalities among project managers</a></li>
<li><a href="../431804/index.html">How to work with exceptions in DDD</a></li>
<li><a href="../431806/index.html">Palm Phone tested: the verdict - the developers have suffered a complete fiasco</a></li>
<li><a href="../431816/index.html">December 3, SpaceX will try to launch the first stage of the launch vehicle for the third time.</a></li>
<li><a href="../431818/index.html">Compare PHP FPM, PHP PPM, Nginx Unit, React PHP and RoadRunner</a></li>
<li><a href="../431820/index.html">Start to the ISS and braking at the asteroid</a></li>
<li><a href="../431822/index.html">De facto closed source: arguments in favor of understandable software</a></li>
<li><a href="../431824/index.html">On the website ‚ÄúM.Video‚Äù accidentally opened information on the smartphone from ‚ÄúYandex‚Äù a few days before the presentation.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>