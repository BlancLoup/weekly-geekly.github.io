<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We organize your hosting with 0, or the story of one sleepless night</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, dear habrasoobschestvo. 

 Today I want to share the story of creating one small but brave hosting with my own efforts. Material costs were alm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We organize your hosting with 0, or the story of one sleepless night</h1><div class="post__text post__text-html js-mediator-article">  Hello, dear habrasoobschestvo. <br><br>  Today I want to share the story of creating one small but brave hosting with my own efforts.  Material costs were almost no.  The goal was to organize the work of a couple of dozen lightly loaded sites of their friends and colleagues, the ability to share files, use the database, or test their scripts online.  In general, someone what.  Under the cut - an illustrated extract of working councils, obtained as a result of one sleepless night, colored by dancing with a tambourine, smoking incense and other essential attributes of the settings of any server.  Especially recommended for those who, like me, try this magic for the first time. <br><br>  So let's get started. <a name="habracut"></a><br><h4>  Initial data: </h4><br>  There is a local area network on 3 computers.  One (comp1) distributes the Internet, the other two (comp2 &amp; comp3) are connected to the Internet via the first.  On comp1 - Win Server 2003, on the rest - XP.  The channel thickness is 8 Mbps.  IP is static white.  Only comp2 (Phenom X4, 4 Gb RAM, 750 Gb HDD, good cooling and power supply, does not make noise during continuous operation, is connected to UPS) has sufficient resources for organizing a slightly less acceptable hosting.  The remaining important attributes - a can of coffee, cola and a bunch of sweets to lift the mood. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  We prepare the workplace, we lay out the tools. </h4><br>  So, for starters, I decided to demolish comp2 XP and put the usual Ubuntu 11.10 on it.  I don‚Äôt want to breed another holivar here, I‚Äôll just say that I did it because this system is closer to me + according to the advice of the ‚Äúolder comrades‚Äù. <br><br>  So, on comp2, Ubuntu began to be put. <br><br>  Naturally, there were no surprises.  I went through a couple of simple dialogs, such as setting the time and regional settings, selected and formatted 1 SATA disk for 750 Gb.  After a few minutes, the experiment platform was ready. <br><br><h4>  First, damn it! </h4><br>  Obviously, the first thing I did (apart from the general upgrade) was installing the necessary server hosting: Apache, MySQL and php connection.  I decided not to bother and installed everything in one LAMP bundle (sudo apt-get install php5 mysql-server apache2), went through a simple dialogue on setting up all these miracles - animals, restarted Apache (sudo service apache2 restart) and under the local host saw the welcome ‚ÄúIt works !  And then, from another computer (its IP is different from mine. Then it happened quite by accident, but then it will be important), having requested my external ip, I did not see <i>anything</i> .  Joy diminished. <br><br><h4>  Mice injected, but ... </h4><br>  However, it soon became clear that the problem lies in the fact that the request from the outside comes to comp1 (from Win Server 2003) and goes out on it.  Googling has led to the understanding that it is necessary to publish a port for access from the Internet to an internal server.  The instruction was located <a href="http://www.smart-soft.ru/faqitem.asp%3Ffaq%3Dadm%26number%3D11">here</a> .  The server began to respond to requests <br><br><h4>  Easy to rule, difficult to manage (Goethe). </h4><br><h5>  Hosting management, acquaintance with Webmin </h5><br>  Now you can go to the settings of Apache.  I didn‚Äôt have time and desire to mess with the configuration files manually, so I turned to look for some control panel.  I tried to test the ISP manager, but, as a result, I stopped at Webmin. <br><br>  When you first enter her admin panel, you wonder how much different information there is and how beautifully it is structured.  Seriously, it's just convenient to use. <br><br><h5>  More sites, beautiful and different! </h5><br>  Now I faced the following questions: how to make <br>  0) The site was not stored anywhere (for example, in / var / www) but in the place where I need <br>  1) The site was not one and at any time could be requested by its DNS from the external network. <br><br>  To solve these questions, I used Gparted - I made another 1 section of the required volume, then another one and ... everything.  The system said it had reached the ceiling for the number of main sections.  The solution to the problem was to separate the <i>extended</i> section and break it down into separate <i>logical ones</i> . <br>  Since the system was spinning on the same disc, it was impossible to do it directly from under it.  I had to create LiveUSB with LinuxMini and perform the above operations from under it. <br><br><h5>  Valera, it's your time! </h5><br>  When all the necessary space was allocated, it was time to use Webmin to create virtual hosts.  Hmm, then I had little idea what it was.  Google, Google ... So I learned about ip-based and name-based virtual hosts (for reference, in the simplest sense - ip-based, this is when each site on the hosting has its own separate address, and name-based - all sites are located on 1 general address).  Obviously, in my case the option with name-based came up.  <a href="http://forum.softtyt.ru/showthread.php%3Ft%3D486">The article</a> on setting up this whole affair, which was advised to me by one network friend, clearly saved me several thousand nerve cells. <br><br><h4>  DNS. </h4><br>  There were no problems with DNS problems, I registered one domain and sent it to my ip a couple of days before that night.  I just want to point out that for some reason I have heard many times statements about the fact that domain names need to be bought only from registrars, although there .ru cost about 600 rubles, when I bought one for one of the hosters for 150. Probably there is some pitfalls. <br><br><h4>  Dawn. </h4><br>  The coffee was over and it made me switch to cola, but by this time I already had a platform that allowed me to place all the necessary sites and allocate any required space to them (of course, within the disk space). <br><br><h4>  Finishing touches and minor problems (wherever without them) </h4><br>  Obviously, now was the time to think about how to remotely manage the files and MySQL databases located on the computer in the future. <br><br>  For file management, I installed the proFTPd FTP server and the Gadmin graphical frontend.  Everything fell without problems, the server reported from the console about its launch.  A minor problem arose when Gadmin was started up - it required some certificates.  Everything was decided after reading <a href="http://talk-it.com.ua/administrirovanie-v-ubuntu/ustanovka-i-nastroyka-proftpd-ubuntu-10-10">this article</a> on setting up an ftp server (it was necessary to comment out a few lines in its configuration file). <br><br><h4>  Remote control of the muscle. </h4><br>  For this purpose, phpMyAdmin was installed, the necessary databases were created, and the necessary privileges were distributed to users.  Here, too, was not without oddities.  For example, when entering the site address of the form ‚Äúmysite.ru/phpmyadmin‚Äù after logging in, the system displayed the error ‚ÄúCannot start session without errors, please check your PHP and / or webserver‚Äù. there was very little time left, I decided to score on it and use the hack described in <a href="http://ifeel.be/content/%25D0%25B0%25D0%25BF%25D0%25B0%25D1%2587-%25D0%25B8-phpmyadmin">this article</a> . <br><br>  In the last step, I set up a mail utility on <a href="http://debback.blogspot.com/2008/03/blog-post.html">this</a> manual to automatically send cron messages to friends about how I can keep their sites at home for various buns and / or beer. <br><br>  Thus, by the morning, when all the homeworkers woke up, frowning disgustedly at the alarm clock calls, I had ready-to-use hosting that supports the ability to remotely manage files and the database and that already contains one working site. <br><br>  So this story got a happy ending and it was possible with peace of mind to go for a couple about computer networks. </div><p>Source: <a href="https://habr.com/ru/post/142157/">https://habr.com/ru/post/142157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142148/index.html">How I handed over dCAP</a></li>
<li><a href="../142149/index.html">Routes on Google maps in your Android application. Alternative approach</a></li>
<li><a href="../142150/index.html">Invisible technology</a></li>
<li><a href="../142151/index.html">Welcome to ABBYY CUP 2.0</a></li>
<li><a href="../142156/index.html">Simple robot with ultrasonic range finder</a></li>
<li><a href="../142159/index.html">Semantic Web, ARC2 and PHP</a></li>
<li><a href="../142160/index.html">GTD: Programs and Services for Task Management</a></li>
<li><a href="../142162/index.html">The introduction of electronic payment methods in the company</a></li>
<li><a href="../142164/index.html">Website development - from the first meeting with the customer to the delivery of the project, or how to be a freelancer and survive</a></li>
<li><a href="../142166/index.html">Yandex.Probki. Do you go there?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>