<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Auto Layout with a variable set of elements</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In Xcode 5, Apple introduced a new system for building application interfaces for iOS (6+) and MAC OS X (v10.7 +) ‚ÄúAuto Layout‚Äù (AL) designed to repla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Auto Layout with a variable set of elements</h1><div class="post__text post__text-html js-mediator-article">  In Xcode 5, Apple introduced a new system for building application interfaces for iOS (6+) and MAC OS X (v10.7 +) ‚ÄúAuto Layout‚Äù (AL) designed to replace the outdated ‚ÄúSprings &amp; Struts‚Äù (S &amp; S).  Based on the specification of rules (Constraints) that determine the size and position of the interface elements, AL provides significantly more opportunities than S &amp; S.  However, the weak side of AL (apart from its greater complexity) is the work with variable sets of elements.  The AL system itself does not support optional elements at all, but there are ways to get around this limitation. <br><a name="habracut"></a><br>  Suppose we need to show cards of cat breeds, each card will contain the name of the breed, the country of origin and a short description.  Create a new xib file for our card, add three labels to the root view (remember to set the lines = 0 property) and set the necessary constraints: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e2d/5c0/96d/e2d5c096dd52428c802ceecf39345808.png"></div><br>  Add a few of these cards in ScrollView: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fe4/dc4/81b/fe4dc481ba9746c9bf671abd085bf7cb.png"></div><br>  Here we have no optional elements and everything looks as it should, but what will happen if we do not have enough information?  For example, we do not know the country of origin or the description is missing? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/files/0bb/a7b/e6c/0bba7be6cd0c4e1698d379a083904817.png"></div><br><br>  Obviously, the dimensions of the labels for the missing data became zero, and the indents at the top and bottom just folded.  This problem can be solved in several ways: <br><br>  <b>Method one: remove unused items</b> from the view when filling in the data.  Along with the removal of an element of the interface, all associated constraints are also removed.  True, if you simply remove, for example, the label of the country of origin of the population, the indent between the name and description will not be determined.  Therefore, you must first add additional constraints for the cases of deleting each of the optional elements: <br><br><img src="https://habrastorage.org/files/e26/57d/9ab/e2657d9ab9a5452e9747dd480a3f6823.png"><img src="https://habrastorage.org/files/7b4/c10/1b3/7b4c101b3ae54c628b39ce5147de44b7.png"><img src="https://habrastorage.org/files/8ac/337/218/8ac3372185cb42b285da39e89f1544df.png"><br><br>  Now, when filling in the data, it is enough to call the method for empty labels. <br><br><pre><code class="hljs lisp">- (<span class="hljs-name"><span class="hljs-name">void</span></span>)removeFromSuperview</code> </pre> <br>  and cards will be formed correctly: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/617/3cf/1ca/6173cf1ca608449ab92bfeb64c61720c.png"></div><br>  There are two drawbacks to this approach: <br><br><ul><li>  It is required to introduce a lot of additional constraints (and their number will grow with an increase in the number of optional elements) </li><li>  Since the labels are removed, the once filled card cannot be reused, because  There is no guarantee that the data sets will match.  At first glance, this may seem insignificant, because you can always create a new card.  But, if we need to show our cards not in ScrollView, but in CollectionView that implements the ‚ÄúObject Pool‚Äù pattern, the cards should be reusable. </li></ul><br>  To avoid these shortcomings, we will have to revise the structure of our card: <br><br><ul><li>  Above and below we will add two views of a fixed height. They will serve to set indents from the edges. </li><li>  We enclose each label in view. </li></ul><br>  Add constraints: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b5d/96c/2c1/b5d96c2c120d41139d7b921161445363.png"></div><br>  Moreover, for constraint'ov inside the blocks (marked with a dotted line) set the priority value equal to 750 (High) <br>  Now we only need to add constraints for heights: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9c2/89d/8a9/9c289d8a9c57412db5c6b5503a45ab1a.png"></div><br>  <b>Method two: set the height of the blocks with content</b> .  Changing the values ‚Äã‚Äãof X, Y, Z, you can limit the maximum height of each block, so when filling a card in the absence of content, set the block height to 0, and if the content is, then any value that exceeds the maximum block height. <br>  Thus, we avoided all the shortcomings of the previous method: the number of required constraints does not increase in proportion to the number of optional elements and the card can be reused. <br><br>  Findings: <br><br>  If reuse is not required and the number of optional elements is small, it is better to add additional constraints and remove unnecessary elements when filling in the data.  In the case when either reuse is required, or a lot of optional elements it is worth splitting the interface into blocks and for height of empty blocks set the height to 0. <br><br></div><p>Source: <a href="https://habr.com/ru/post/246667/">https://habr.com/ru/post/246667/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246657/index.html">Solving the ‚ÄúAAAAAA‚Äù problem with Facebook Hacker Cup using dynamic programming on B-Prolog</a></li>
<li><a href="../246659/index.html">WordPress Site Migration Guide</a></li>
<li><a href="../246661/index.html">Project ‚ÄúFor Web‚Äù: available materials on frontend and design</a></li>
<li><a href="../246663/index.html">Named Parameters in Modern C ++</a></li>
<li><a href="../246665/index.html">Meet the .Net community at CLRium # 2. How does the CLR, Roslyn, RyuJIT, CoreFx work?</a></li>
<li><a href="../246671/index.html">Network UPS Tools (NUT) on CentOS and Windows with SMS sending via smstools + playsms</a></li>
<li><a href="../246673/index.html">Black Swift: Why We Made It</a></li>
<li><a href="../246675/index.html">JMSpy - spy on method calls</a></li>
<li><a href="../246679/index.html">Sphinx Text Processing Pipeline</a></li>
<li><a href="../246683/index.html">Neuromarketing: A New Approach To Increasing Conversions (Part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>