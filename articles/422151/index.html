<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Online checks on the federal network through RabbitMQ, 1C and black magic</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year, the IT director of one of the largest agro-industrial holdings in Russia addressed us. The approach to the business that our client has imp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Online checks on the federal network through RabbitMQ, 1C and black magic</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/89/-z/xo/89-zxong6o-oxnwst3edu20hxba.png"></div><br><p>  Last year, the IT director of one of the largest agro-industrial holdings in Russia addressed us.  The approach to the business that our client has implemented has been impressive.  He was one of the first to realize the idea of ‚Äã‚Äãa full-cycle enterprise - from the field to the shelf at the grocery store.  Due to the availability and high quality of products, this holding has become a recognized brand that is known and chosen.  At that time, the holding included more than 650 outlets and more than 20,000 employees distributed throughout the territory of the Russian Federation. </p><br><p>  The customer needed to ensure the fastest possible delivery of checks to the center from all outlets of Russia, including food stalls in remote villages with occasional Internet and minimal computerization. </p><br><p>  Given this specificity, the solution of the problem turned into a fascinating adventure with a tambourine, shamans and rabbit's paws in the face of RabbitMQ.  How we built a federated cluster of queues and what we encountered under the cut. </p><a name="habracut"></a><br><h2 id="o-problematike-zakazchika">  About customer issues </h2><br><p>  A holding with a large number of distributed outlets, operating in the conditions of tough competition, demanded that its managers promptly take management decisions.  For this, managers needed information on checks in ‚Äúreal time‚Äù mode. </p><br><p>  In the current system, the delivery of the check from the cashier to the central system reached 3 days.  At the same time, there was periodically recorded not bringing information about the perfect purchase (loss of check). </p><br><p>  It was necessary to ensure receipt of information about sales "here and now" to optimize the delivery of products to retail outlets and promptly respond to changes in product and demand balances.  This information must simultaneously get into the central IC of the holding on the basis of 1C and on the computer of the merchant in a particular store / outlet. </p><br><p>  In addition, it was necessary to ensure a centralized and operational reassessment of goods over the network, and also to connect to the BI system of the holding a stream of online data from all outlets. <br>  As a result, the criteria for project success were formed: </p><br><ul><li>  checks punched at the store‚Äôs checkout must be visible in the central 1C system no more than 1 second from the moment of its fiscalization at the checkout if there is (proper operation) communication; </li><li>  in case of temporary communication failures, ensure prompt guaranteed delivery of checks to the central system after the restoration of the communication channel. </li></ul><br><p>  For the Silver Bullet team, this was a very tempting thing, because at that time we had developed our 1C adapter for RabbitMQ and the ability to launch it into battle at long distances and loads attracted geek minds.  The concept of ‚Äúcheck position in the center in 1 second‚Äù is not so new, we <a href="https://youtu.be/R1HQgOHEiME">presented ideas for using queues</a> in 1C back in 2013, and even tried it out on one trading network, but at that time they were very experimental crutches that included Rabbit + 1C is C #, WCF and even some C ++. </p><br><p>  Of course, we all saw it in smart books, which were written earlier.  Therefore, I will not undertake to judge when exactly the idea of ‚Äã‚Äãqueues in integration projects began to take over the world. </p><br><p>  Anyway, the theoretical part and the architectural concept proved to be effective, only a small part remained - to do everything, test, fix bugs, document and cover.  : trollface: </p><br><h2 id="nyryaem-s-golovoy">  Diving headlong </h2><br><p>  No one knows better than the business owner about his strengths and weaknesses, so all integration projects begin with an audit of client processes, understanding the starting point (AS IS).  Usually, a business survey includes: </p><br><ul><li>  analysis of information on how business processes are taking place now; </li><li>  gathering system requirements by interviewing key employees to understand how, in their opinion, business processes should be arranged; </li><li>  formalization and optimization of business processes. </li></ul><br><p>  To exclude discrepancies, we use the formalization of the AS IS and TO BE business processes in the form of BPMN schemes.  It is also easier to understand it yourself, and it is easier for the customer not to miss anything when we go through the process diagram with him. </p><br><p>  From the technical features, in the course of the audit, we found that: </p><br><ul><li>  retail outlets use Windows machines - with installed heterogeneous operating systems (depending on the year of creation) from Windows XP to Windows 7, 8, 10; </li><li>  cash registers are running Frontol firmware with Windows Embedded on board; </li><li>  the contour of retail management uses heterogeneous software, including both solutions from vendors 1C, and its own development; </li><li>  communication channels are implemented according to the ‚Äúwhat is, that is‚Äù principle in the range from cable lines to USB whistle modems; </li><li>  retail outlets are serviced by local outsourcing companies, and not by a centralized holding service; </li><li>  the functioning of the system essentially depends on the serviceability (proper functioning) of the merchandiser‚Äôs computer at each outlet. </li></ul><br><p><img src="https://habrastorage.org/webt/cv/hw/xl/cvhwxlmawid2vavdngll1nqs4ca.png" alt="AS-IS Integration Scheme"></p><br><p>  <em>AS-IS Integration Scheme</em> </p><br><p>  The audit also showed that the company's business processes practically do not need to be adjusted, but an infrastructure refinement is required to ensure the smooth flow of information. </p><br><p>  In general, we were faced with the task of reliable delivery of documents between the three components of the process: a cash register, a merchandise computer and a central office.  At the same time, the computer goods manager is a machine ‚Äúunder the table‚Äù.  It can be turned on / off at the request of the merchandiser.  Or even be turned off 23 hours from 24 hours.  However, when leaving the twilight, the merchandiser should see the current set of prices, balances, item positions, etc. </p><br><h2 id="vybor-resheniya-sbor-grabley-i-rasstanovka-kostyley">  Choosing a solution, collecting rakes and placing crutches </h2><br><p>  Event integration on the queues has long become a commonly used pattern.  When you need to transfer something somewhere, with many links, in an unreliable environment, and at the same time stream data - you need events and queues.  Therefore, we chose RabbitMQ, because it is easily integrated into any (so it seemed to us) environment, including the 1C platform, for which we already had an adapter made of AMQP protocol. </p><br><p>  RMQ is a kind of data flow manager and allows for integration in the ‚Äúalmost real‚Äù time mode, while maintaining weak connectivity of the systems, withstanding the load, and so on and so forth ... A good server, in a word, much has been written about Habr√©. </p><br><p>  One of the nice features is out-of-the-box clustering and the ability to build distributed server clusters that work together. </p><br><p><img src="https://habrastorage.org/webt/3t/4z/ze/3t4zzefa40o467uuhiwepzb4_fs.png" alt="image"></p><br><p>  I always liked the pictures with the integration architecture in the queues.  They always consist of three cubes, in the center of which is a message broker.  Let this picture be in this article, so as not to violate the canon. </p><br><p>  When constructing the scheme, the question arose - where should the queue server be located?  In which states can we have a system?  Found out that there are 5 regular and emergency situations in which work should not stop. </p><br><ol><li>  All blocks are included. </li><li>  The center is disconnected, there is access to the merchandiser. </li><li>  Merchandise disconnected, there is access to the center. </li><li>  Both the merchandiser and the center are disconnected. </li><li>  1C system is disabled. </li></ol><br><p>  Checks in all these situations should make their way; trading should not stop.  When you restore the channel - checks must arrive to the subscriber.  Let me remind you that the outlet - it can be a rural stall.  There is no separate server installed on which RMQ could be installed.  It turned out that the message broker should stand directly at the checkout.  Servers are an unaffordable luxury, and Rabbit is quite lightweight and can work on a small POS terminal.  So why not yes? </p><br><p>  Of course, we did not make POS the only node of the RMQ cluster, but one of the nodes of the federated cluster was placed directly on the trading terminal, running Windows Embedded.  It was a little easier to say than to do, but we did it in a fun and reckless way.  What now and tell. </p><br><h3 id="kak-postavit-rmq-terminal-frontol">  How to put RMQ Frontol terminal </h3><br><p>  I must say that Erlang and the RMQ server itself on the Windows terminal got up almost without any problems.  Problems arose in the client, which must interact with the server from the cash register software. </p><br><p> Frontol cashier software has quite suitable documentation, from which we found out that it is possible to customize behavior using Javascript.  ‚ÄúYohhu!‚Äù We said and began to google the JS client for RabbitMQ.  It quickly became clear that a bummer was waiting for us.  The frontage is not quite javascript.  Well, that is  formally yes, the syntax is the same there, but the JavaScript machine itself is from the Windows Script Host, the same one that is VBScript, cscript.exe and so on.  In short, he is very old, microsofto-specific, and no sane JS client of the rabbit will work on it. </p><br><p>  However, in the WSH ecosystem, you can use COM objects, and we headed towards the <a href="https://github.com/rabbitmq/rabbitmq-dotnet-client">RMQ</a> client <a href="https://github.com/rabbitmq/rabbitmq-dotnet-client">for .NET</a> . </p><br><p>  Current versions of this client no longer support .NET 3.5, which we had at the POS terminal, but fortunately, the client‚Äôs source code is open, and besides, there are tags on the project github, in which .NET 3.5 is still supported.  Glory to Openscore!  It remained to deflate the source code of the old version of the .NET client, put the Com-Visible checkbox there and upload it to the terminal. </p><br><h3 id="vzaimodeystvie-s-kassoy-frontol">  Interaction with Frontol cashier </h3><br><p>  Cashier software has an API that can be used to interact. </p><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ frontol.addEventListener(<span class="hljs-string"><span class="hljs-string">"openDocument"</span></span>, <span class="hljs-string"><span class="hljs-string">"beforeOpenDocument"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); frontol.addEventListener(<span class="hljs-string"><span class="hljs-string">"closeDocument"</span></span>, <span class="hljs-string"><span class="hljs-string">"beforeCloseDocument"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); frontol.addEventListener(<span class="hljs-string"><span class="hljs-string">"closeDocument"</span></span>, <span class="hljs-string"><span class="hljs-string">"afterCloseDocument"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); frontol.addEventListener(<span class="hljs-string"><span class="hljs-string">"closeSession"</span></span>, <span class="hljs-string"><span class="hljs-string">"beforeCloseSession"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); frontol.addEventListener(<span class="hljs-string"><span class="hljs-string">"closeSession"</span></span>, <span class="hljs-string"><span class="hljs-string">"afterCloseSession"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); addPolyfills(); <span class="hljs-comment"><span class="hljs-comment">//   ) initRmqVariables(); createRMQConnection(); }</span></span></code> </pre> <br><p>  The capabilities of the native JS, which is on board Windows, are extremely poor.  For example, there is no Array.indexOf or JSON.stringify.  But the world is not without good people.  We remembered a popular browser crutch called "polyfills", and happily built them into the cashier.  If we throw the jokes aside, then all the magic tricks with JS were deliberately commented on meticulously so that future generations of administrators could clearly and quickly understand what was happening, where it came from and how it works. </p><br><p><img src="https://habrastorage.org/webt/dy/r4/wt/dyr4wtajznottdsc0kf4hdxm-vq.png"></p><br><p><img src="https://habrastorage.org/webt/5f/zn/6o/5fzn6okjyzwwcmyaauou07ny818.png"></p><br><p>  It quickly became clear that the JS-API does not cover part of our cases, however, since Frontol incorporates Firebird DBMS, and an ODBC provider exists for it, then using the same ADODB we will be able to access Javascript directly from the cash register and get there we need the data. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">afterCloseSession</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> connection = getDatabaseConnection(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> qSelect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ActiveXObject(<span class="hljs-string"><span class="hljs-string">"ADODB.Command"</span></span>); qSelect.ActiveConnection = connection; qSelect.CommandText = <span class="hljs-string"><span class="hljs-string">"SELECT ChequeNumber "</span></span> + <span class="hljs-string"><span class="hljs-string">"FROM Document "</span></span> + <span class="hljs-string"><span class="hljs-string">"WHERE "</span></span> + <span class="hljs-string"><span class="hljs-string">" State = 1 "</span></span> + <span class="hljs-string"><span class="hljs-string">" AND(ChequeType IN(0, 1, 2)) "</span></span></code> </pre><br><p>  Finally, direct work with the queue server from our JS is as follows: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createRMQConnection</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ factory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ActiveXObject(<span class="hljs-string"><span class="hljs-string">"RabbitMQ.Client.ConnectionFactory"</span></span>); factory.UserName = rmqUser; factory.Password = rmqPass; factory.VirtualHost = <span class="hljs-string"><span class="hljs-string">"/"</span></span>; factory.HostName = <span class="hljs-string"><span class="hljs-string">"localhost"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { rmqConnection = factory.CreateConnection(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">"     .   !\n"</span></span> + e.message); } rmqChannel = rmqConnection.CreateModel(); rmqMessageProperties = rmqChannel.CreateBasicProperties(); rmqMessageProperties.ContentType = <span class="hljs-string"><span class="hljs-string">"text/plain"</span></span>; rmqMessageProperties.ContentEncoding = <span class="hljs-string"><span class="hljs-string">"string"</span></span>; rmqMessageProperties.DeliveryMode = <span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre> <br><h2 id="obschaya-kartina-resheniya">  Overall picture of the solution </h2><br><p>  The architecture laid down the following principles: </p><br><ul><li>  RabbitMQ server federation - RMQ - Federation servers mode, so that events are delivered to all recipients; </li><li>  local cash register survival - if an event occurred at the cash register, then it must be delivered in any case, even if the cash workplace is currently not available over the network; </li><li>  2 data providers - in normal mode, data is delivered through the server (merchandise computer), in case of unavailability (as a result of an accident or for other reasons) of merchandise computer - delivery is carried out by the checkout itself, when the merchandise computer is turned on, it will receive its portion of events later than the center guaranteed; </li><li>  RMQ is a RabbitMQ server with TCP ports for clustering and messaging; </li><li>  To ensure the delivery of messages, data stream redundancy has been applied.  This minimizes the impact of network connectivity between system nodes; </li><li>  in 1C: The center decided to install a set of RMQ servers in ON mode ‚Äî high availability of the central server, incl.  there is dual redundancy and event replication, to guarantee delivery. </li></ul><br><p><img src="https://habrastorage.org/webt/st/tp/vs/sttpvss5ldov15shsqsfa_88xao.png"></p><br><p>  In accordance with the architectural solution, the following data flow diagram was created: </p><br><ul><li>  Frontol, 1C - the initial and final points of the exchange - objects that are sources and recipients of messages; </li><li>  federated queue - a special type of queue that allows you to create a distributed system for transmitting messages, in which publication to the queue can be performed at a node located at an outlet (upstream) and retrieved from a queue at the center (downstream).  For the transfer of messages from upstream to downstream, there is a special plugin (Federation PlugIn) installed on the central server of the queues; </li><li>  Shovel - (literally "shovel") - a mechanism for transferring messages from one object (queue) to another.  Objects can belong to one server or different; </li><li>  The system architecture provides for remote control of deployment, that is, the ability to install RabbitMQ servers on any computer of the holding network from a single center; </li><li>  the configuration and connections to the federation are traversed using the so-called Post-Install scripts, which regularly come with the delivery of RMQ servers, with the necessary configuration of the network parameters adopted in the Customer‚Äôs network. </li></ul><br><p>  The resulting circuit provides the ordered characteristics for speed and works stably when any of the components fall out.  After the loss and restoration of communication, the accumulated data goes to the center within 5-10 seconds.  In practice, the technology of loosely coupled systems has proven its effectiveness.  All events take place as if in the same office, without taking into account the various types of delays associated with territorial distribution and its various degree of availability of communication channels. </p><br><h2 id="kratkoe-zaklyuchenie">  Brief conclusion </h2><br><p>  I would like to separately enjoy the amazing time we live.  More recently, the use of Open Source in the production was such a kind of devotion.  ‚ÄúDoes your open source software work?  So how do you like this cactus? ‚ÄùToday, this is an absolute maxim. </p><br><p>  I can‚Äôt imagine a company that doesn‚Äôt have an open source product in production.  Thanks to the availability of information, open source, to implement business ideas has become much easier and faster.  Need to put RMQ on ancient non-standard Javascript and Windows?  There is nothing easier.  Is the booze solution a bit wrong?  - look how it is done and add the missing.  Time-to-Market when using open products is reduced by several times.  And everyone knows that a quick release of a solution means a competitive advantage. </p><br><p>  Github, Stackoverflow, open documentation and standards make it possible to run in a matter of weeks what would have required many years of expertise in various areas of computer knowledge. </p><br><p>  And of course, I am particularly pleased that the 1C-nick community every year goes further and further out of its closed world and merges into global IT.  For example, ‚Äú1C: Enterprise‚Äù today is one of the official languages ‚Äã‚Äãsupported by Github, and people from the 1C community ‚Äútaught‚Äù it to this language.  This story probably deserves a separate article, perhaps I will write it someday.  In the meantime - all the best and good luck to you! </p><br><p>  Thank you for your time! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/422151/">https://habr.com/ru/post/422151/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../422139/index.html">Mobile version of Habr. Version 3.0</a></li>
<li><a href="../422141/index.html">Remote deployment and debugging of dotnet core applications on * nix</a></li>
<li><a href="../422143/index.html">Recipe useful code review from a developer from Yandex</a></li>
<li><a href="../422147/index.html">We raise our Speedtest node</a></li>
<li><a href="../422149/index.html">How is it - to be a flight attendant</a></li>
<li><a href="../422153/index.html">NASA announces a competition to convert CO‚ÇÇ into nutrients</a></li>
<li><a href="../422155/index.html">The secret phrase of the auditor</a></li>
<li><a href="../422157/index.html">CPE - payment model for the involved user in mobile retargeting</a></li>
<li><a href="../422161/index.html">We lower the level of connectivity using DI to improve code testability, an example implementation</a></li>
<li><a href="../422163/index.html">Developing a video converter from 264 to avi for the QCM-08DL dashcam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>