<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mobile bank for iOS: add block architecture to Cocoa MVC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you are writing a mobile banking application for iOS, what are your priorities? I think there are two of them: 



1. Reliability; 
2. The rate of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mobile bank for iOS: add block architecture to Cocoa MVC</h1><div class="post__text post__text-html js-mediator-article">  If you are writing a mobile banking application for iOS, what are your priorities?  I think there are two of them: <br><br><ol><li>  Reliability; </li><li>  The rate of change. </li></ol><br>  The situation is such that you need to be able to make changes (and in particular roll out new banking products) <i>really</i> quickly.  But at the same time, do not slip into the index and copy-paste (see point 1).  All this despite the fact that the application is really great in functionality, at least in the idea (banks want a lot more than they can).  Accordingly, in many cases these are projects for dozens of person-years.  Those who participated in such projects probably already understood that the task is not trivial, and <a href="https://itunes.apple.com/us/course/developing-ios-9-apps-swift/id1104579961">school knowledge</a> will not help here. <a name="habracut"></a><br><br><h4>  What to do? </h4><br>  It is immediately clear that this is a task of architecture.  Before writing the code, I saw the simple and beautiful block architecture of the front-end of our remote banking system.  I have not seen anything like this in mobile applications before, but in the end I made a similar solution, quite effective and scalable, within the iOS SDK, without adding massive frameworks.  I want to share the highlights. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Yes, about all these SDK frameworks, about the Apple shoal features of the MVC pattern and about the bydlock code in the official documentation, everyone who tried to write and maintain serious applications knows (or at least read <a href="https://habrahabr.ru/post/202960/">Habr</a> ) - I will not repeat.  There will also be no basics of programming, files with examples and photos with cats. <br><br><img src="https://habrastorage.org/files/2c3/dcd/536/2c3dcd536f9f4ed4bbf9a41c13a5f707.jpg"><br>  <i>The first guglokartinka on request "advanced architecture"</i> <br><br><h2>  The essence of the decision </h2><br>  <b>Operations consist of atoms.</b> <br>  An operation is an interface for performing a specific action in the ABS.  For example, transfer between your accounts. <br><br>  An atom is a stable ‚Äúcapsule‚Äù of MVC, a kind of brick from which you can build houses of any size and shape.  Each brick has its own essence in the UI: an inscription, an input field, a picture.  Each significant UI block is encapsulated into such an MVC brick.  For example, <code>UISegmentedControl</code> encapsulated in <code>SegmentedAtom</code> . <br><br>  These MVC building blocks are written once.  Then each operation is built from these bricks.  Putting a brick is one line.  One line!  Further to receive value is again one line.  All the rest is solved by inheritance and polymorphism in subclasses of Atom.  The task is to simplify as much as possible the code of the operations themselves, since  they can change a lot.  Bricks do not fundamentally change (or even <i>do</i> not change <i>at all</i> ). <br><br>  An atom can be a more complex element.  It can encapsulate some logic and <code>ViewController</code> ‚Äôs children.  For example, an atom to select an account from the list (and by filter from the context).  The main thing is that all the complexity remains inside the atom.  Outside, it remains just as easy to use. <br><br><img src="https://habrastorage.org/files/536/294/65d/53629465df854c0585690830de4db83f.jpg"><br>  <i>My concept is already used in construction</i> <br><br>  For example, the operation of sending a payment order "in a quick form" (from the code hid all the moments related to security, and yes, the rights to the code belong to LLC Digital Technologies of the Future): <br><br><pre> <code class="hljs lua">class PayPPQuickOperation : Operation, AtomValueSubscriber { private let dataSource = PayPPDataSource() private var srcTitle, destBicInfo: TextAtom! private var destName, destInn, destKpp, destAccount, destBic, destDesc, amount: TextInputAtom! private var btnSend: ButtonAtom! override init() { super.init() <span class="hljs-built_in"><span class="hljs-built_in">create</span></span>() initUI() } func <span class="hljs-built_in"><span class="hljs-built_in">create</span></span>() { srcAccount = AccountPickerAtom(title: <span class="hljs-string"><span class="hljs-string">"  "</span></span>) destName = TextInputAtom(caption: <span class="hljs-string"><span class="hljs-string">"    "</span></span>) destInn = TextInputAtom(caption: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>: .DigitsOnly) destKpp = TextInputAtom(caption: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>: .DigitsOnly) destAccount = TextInputAtom(caption: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>: .DigitsOnly) destBic = TextInputAtom(caption: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>: .DigitsOnly) destBicInfo = TextAtom(caption: <span class="hljs-string"><span class="hljs-string">" ,    "</span></span>) destDesc = TextInputAtom(caption: <span class="hljs-string"><span class="hljs-string">" "</span></span>) amount = TextInputAtom(caption: <span class="hljs-string"><span class="hljs-string">", ‚ÇΩ"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>: .Number) btnSend = ButtonAtom(caption: <span class="hljs-string"><span class="hljs-string">""</span></span>) //      : atoms = [ srcAccount, destName, destInn, destKpp, destAccount, destBic, destBicInfo, destDesc, amount, btnSend, ] destInn!.optional = <span class="hljs-literal"><span class="hljs-literal">true</span></span> destKpp!.optional = <span class="hljs-literal"><span class="hljs-literal">true</span></span> btnSend.controlDelegate = self //    onButtonTap  destBic.subscribeToChanges(self) } func initUI() { destName.wideInput = <span class="hljs-literal"><span class="hljs-literal">true</span></span> destAccount.wideInput = <span class="hljs-literal"><span class="hljs-literal">true</span></span> destDesc.wideInput = <span class="hljs-literal"><span class="hljs-literal">true</span></span> destBicInfo.fontSize = COMMENT_FONT_SIZE destName.capitalizeSentences = <span class="hljs-literal"><span class="hljs-literal">true</span></span> destDesc.capitalizeSentences = <span class="hljs-literal"><span class="hljs-literal">true</span></span> } func onAtomValueChanged(sender: OperationAtom!, commit: Bool) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sender == destBic) &amp;&amp; commit { dataSource.queryBicInfo(sender.stringValue, success: { bicInfo <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.destBicInfo.caption = bicInfo?.data.name }, failure: { <span class="hljs-built_in"><span class="hljs-built_in">error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> //  ,      self.destBicInfo.caption = <span class="hljs-string"><span class="hljs-string">""</span></span> }) } } func onButtonTap(sender: AnyObject?) { //   ,    sender    var hasError = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> atom <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> atoms { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> atom.needsAttention { atom.errorView = <span class="hljs-literal"><span class="hljs-literal">true</span></span> hasError = <span class="hljs-literal"><span class="hljs-literal">true</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !hasError { var params: [String : AnyObject] = [ <span class="hljs-string"><span class="hljs-string">"operation"</span></span> : <span class="hljs-string"><span class="hljs-string">"pp"</span></span>, <span class="hljs-string"><span class="hljs-string">"from"</span></span> : srcAccount.account, <span class="hljs-string"><span class="hljs-string">"name"</span></span> : destName.stringValue, <span class="hljs-string"><span class="hljs-string">"kpp"</span></span> : destKpp.stringValue, <span class="hljs-string"><span class="hljs-string">"inn"</span></span> : destInn.stringValue, ... <span class="hljs-string"><span class="hljs-string">"amount"</span></span> : NSNumber(double: amount.doubleValue), ] self.showSignVC(params) } } }</code> </pre> <br>  And this is the whole operation code !!!  Nothing more is needed, provided that you have all the atoms you need.  In this case, I already had them.  If not, write a new one and draw in a storyboard.  Of course, you can inherit from existing ones. <br><br>  <code>onAtomValueChanged()</code> is the implementation of the <code>AtomValueSubscriber</code> protocol.  We subscribed to the BIK text field changes and there we make a request that returns the name of the bank on the BIC.  The <code>commit == true</code> value for the text field comes from the event <code>UIControlEventEditingDidEnd</code> . <br><br>  The last line <code>showSignVC()</code> is to show the <code>ViewController</code> for the signing operation, which is <i>just another</i> operation that consists of the same simple atoms (formed from the elements of the security matrix that come from the server). <br><br>  I do not provide <code>Operation</code> class code, since  You can find a better solution.  I decided (in order to save development time) to feed the <code>atoms</code> table <code>ViewController</code> .  All ‚Äúbricks‚Äù are drawn in IB by cells of tables, instantiated by cell id.  The table gives automatic height recalculation and other amenities.  But it turns out that now I can only place atoms in the table.  For the iPhone it is good, for the iPad it may not be very.  So far, only a few banks in the Russian appstore correctly use the space on the tablets, the rest stupidly copy the UI of iPhones and only add the left menu.  But ideally, yes, you need to redo it on a <code>UICollectionView</code> . <br><br><h2>  Dependencies </h2><br>  As you know, when entering any form, depending on the values ‚Äã‚Äãof some fields, other fields can be modified or hidden, as we saw in the example of the BIC above.  But there is one field, and in full payment there are many times more, therefore, a simple mechanism is needed, which will require a minimum of gestures to dynamically show / hide fields.  How easy is it to do?  Atoms come to the rescue again :) and also <code>NSPredicate</code> . <br><br>  <b>Option 1</b> : <br><br><pre> <code class="hljs bash"> func <span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createDependencies</span></span></span></span>() { // ppType -   , -    (EnumAtom) ppType.atomId = <span class="hljs-string"><span class="hljs-string">"type"</span></span> ppType.subscribeToChanges(self) <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> taxAndCustoms = <span class="hljs-string"><span class="hljs-string">"(</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$type</span></span></span><span class="hljs-string"> == 1) || (</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$type</span></span></span><span class="hljs-string"> == 2)"</span></span> ... //    : field106.dependency = taxAndCustoms field107.dependency = taxAndCustoms field108.dependency = taxAndCustoms ...</code> </pre> <br>  This is an example for payments.  A similar system works for electronic payments in favor of various providers, where, depending on a certain choice (for example, to pay on counters or an arbitrary amount), the user fills in a different set of fields. <br><br>  <i><a href="https://habrahabr.ru/company/e-Legion/blog/225715/">Here, the</a> guys created for these purposes "a certain framework", but I somehow had a few lines.</i> <br><br>  <b>Option 2</b> , if you do not have enough predicate language, or you do not know it, then we consider dependencies as a function, for example, isDestInnCorrect (): <br><br><pre> <code class="hljs objectivec"> destInn.subscribeToChanges(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) destInnError.dependency = <span class="hljs-string"><span class="hljs-string">"isDestInnCorrect == NO"</span></span></code> </pre> <br>  I think it may be more beautiful if you rename the property: <br><br><pre> <code class="hljs objectivec"> destInnError.showIf(<span class="hljs-string"><span class="hljs-string">"isDestInnCorrect == NO"</span></span>)</code> </pre> <br>  The text atom <code>destInnError</code> , in case of incorrect input, tells the user how to correctly fill out the TIN according to the 107th order. <br><br>  Unfortunately, the compiler does not check for you that this operation implements the <code>isDestInnCorrect()</code> method, although you can probably do this with macros. <br><br>  And the actual installation of visibility in the base class <code>Operation</code> (sorry for Objective C): <br><br><pre> <code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)recalcDependencies { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (OperationAtom *atom <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> atoms) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (atom.dependency) { <span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span> *predicate = [<span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span> predicateWithFormat:atom.dependency]; <span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span> shown = <span class="hljs-literal"><span class="hljs-literal">YES</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">NSDictionary</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span>*, <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>&gt; *vars = [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> allFieldsValues]; <span class="hljs-keyword"><span class="hljs-keyword">@try</span></span> { shown = [predicate evaluateWithObject:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> substitutionVariables:vars]; } <span class="hljs-keyword"><span class="hljs-keyword">@catch</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">NSException</span></span> *exception) { <span class="hljs-comment"><span class="hljs-comment">//    } atom.shown = shown; } } }</span></span></code> </pre> <br>  Let's see what else will be checking.  Perhaps the operation should not be involved, i.e.  everything will overwrite the option <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> verifications = <span class="hljs-type"><span class="hljs-type">Verifications</span></span>.instance ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> shown = predicate.evaluateWithObject(verifications, substitutionVariables: vars) { ...</code> </pre><br><h2>  One more thing </h2><br>  In general, with regard to the object patterns in the client-server interaction, I can not fail to note the exceptional convenience when working with JSON, which is provided by the <a href="https://github.com/jsonmodel/jsonmodel">JSONModel</a> library.  Dot notation instead of square brackets for received JSON objects, and immediately typing of fields, incl.  arrays and dictionaries.  As a result, a strong increase in readability (and as a result of reliability) of the code for large objects. <br><br>  We take the <code>JSONModel</code> class, inherit <code>ServerReply</code> from it (because each answer contains a basic set of fields), from <code>ServerReply</code> inherit server responses to specific types of requests.  The main disadvantage of the library is that it is not on Swift (since it works on some language lifehacks), and for the same reason the syntax is weird ... <br><br><div class="spoiler">  <b class="spoiler_title">Piece of example</b> <div class="spoiler_text"><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationData</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationOption</span></span></span><span class="hljs-class">; #</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pragma</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mark</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationsList</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationsList</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServerReply</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">readonly</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSUInteger</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">count</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationData</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Optional</span></span></span><span class="hljs-class">&gt; *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">; ... @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> #</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pragma</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mark</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationData</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationData</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JSONModel</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationOption</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Optional</span></span></span><span class="hljs-class">&gt; *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">options</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> #</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pragma</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mark</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationOption</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OperationOption</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JSONModel</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSString</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Optional</span></span></span><span class="hljs-class">&gt; *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">account</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSString</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Optional</span></span></span><span class="hljs-class">&gt; *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">currency</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BOOL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">isowner</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BOOL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">disabled</span></span></span><span class="hljs-class">; ...</span></span></code> </pre> <br></div></div><br>  But all this is easy from Swift-code.  The only thing is that the application does not fall due to the wrong format of the server response, all <code>NSObject</code> fields must be marked as &lt; <code>Optional</code> &gt; and checked for <code>nil</code> yourself.  If we want our property so that it does not interfere with <code>JSONModel</code> , we write their modifier &lt; <code>Ignore</code> &gt; or, as <code>JSONModel</code> , <code>(readonly)</code> . <br><br><h2>  findings </h2><br>  The concept of "atoms" really worked and allowed to create a good scalable mobile bank architecture.  The operation code is very simple to understand and modify, and its support, while maintaining the original idea, will take O (N) time.  And not an exhibitor, in which many projects roll. <br><br>  The disadvantage of this implementation is that the display is done simply through <code>UITableView</code> , on smartphones it works, and for tablets, in the case of an ‚Äúadvanced‚Äù design, you need to redo the View and partially Presenter (just a general solution for smartphones and tablets). <br><br>  <b>How do you fit your architecture in the iOS SDK on large projects?</b> </div><p>Source: <a href="https://habr.com/ru/post/318200/">https://habr.com/ru/post/318200/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318186/index.html">7 steps to software localization</a></li>
<li><a href="../318188/index.html">Backing up with Commvault: some statistics and cases</a></li>
<li><a href="../318190/index.html">Being present and writing VS code to sort out and seem</a></li>
<li><a href="../318194/index.html">Free Seminar "Oracle Cloud Security Day: Technologies for Business Security", February 2</a></li>
<li><a href="../318198/index.html">Excel Almighty and Redmine: how to generate tasks right in Excel</a></li>
<li><a href="../318202/index.html">Modification of stock firmware for Android. Part 5. Revolution c Xposed Framework</a></li>
<li><a href="../318204/index.html">How I translated the BEM project ... and translated</a></li>
<li><a href="../318208/index.html">12 more big data cases</a></li>
<li><a href="../318210/index.html">Attempts to open a new checkers tactic or what to do with a pipe dream</a></li>
<li><a href="../318212/index.html">Secrets of a successful update: interface, backend, application structure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>