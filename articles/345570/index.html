<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Checklist of troubles that may occur when moving</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most recently, we opened a cloud in St. Petersburg. Equipment for it was transported from Moscow. While preparing this move, I remembered many stories...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Checklist of troubles that may occur when moving</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/fc4/b88/e49/fc4b88e494b81b8a30441ee1d0cc3a74.jpg"><br><br>  Most recently, we opened a cloud in St. Petersburg.  Equipment for it was transported from Moscow.  While preparing this move, I remembered many stories and ‚Äúrakes‚Äù from my experience and decided to prepare a small overview article on this topic. <br><br>  In the format of a checklist, flavored with examples from life, I will tell you what surprises and pitfalls may lie in wait for newcomers when moving and installing server hardware in a new territory.  For clarity, I used photographs from our montage in St. Petersburg. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Come under the cat, let's talk about how to move and not go crazy. <br><a name="habracut"></a><br>  The process of moving is full of routine and is arranged almost equally in the companies of our industry.  I will not dwell on issues such as choosing a contractor for transportation or loading and unloading (although they are also important!). <br><br>  Most of the article I have devoted to all sorts of difficulties that await when planning a move or installation of equipment. <br><br><h2>  Training </h2><br>  It is important to calculate everything in advance to avoid stupid mistakes when moving. <br><br><ul><li>  <b>Rehearse</b> .  Always try to assemble the equipment on your site before you take it to a new one.  This is what we did, and it saved us from surprises.  All equipment was mounted in Moscow in the rack and marked.  Cross-logs and layout were created.  Why - read below.  After that, the equipment was dismantled and packed in special shipping boxes to the size of the carrier‚Äôs car body, which guarantee the safety of the equipment during transportation. <br></li><li>  <b>Get to know</b>  Familiarize yourself with the new place in advance, it is best to visit it in person, look around and talk to the staff.  Get samples of all the documents you will need to provide to enter and open applications in the helpdesk.  Learn the rules of unloading: where is the ramp, how to get to it, how to call an engineer to accompany, at what time can be unloading.  Specify the time of the warehouse!  We were in a situation where installation in the data center is possible 24 hours a day, and all the equipment is placed in advance at the warehouse.  But the warehouse worked from 10 to 18-30 :) <br></li><li>  <b>Count it</b> .  Before moving prepare a comprehensive inventory of the equipment transported, literally from the rack to the nut.  You must rewrite all models, serial numbers, etc. <br></li><li>  <b>Label</b> .  Make a log of cross-overs, mark all the equipment (at least from two sides) so that you do not understand in a new place in a panic what is what.  Measure your rack, including its useful size (depth, width, height) - you will understand a little later why this is important.  Marking follow the same standard.  Be sure to mark all the ports on the equipment with a permanent marker. <br></li><li>  <b>Write down</b> .  Agree on all documents and powers of attorney that you will need to take with you.  The power of attorney must be issued in the form of the receiving organization.  Do not rely on employees, check and recheck their work.  Even a small mistake can break your deadlines. <br></li><li>  <b>Get together</b> .  Take along a disturbing briefcase: laptop with power supply, screwdrivers (straight, cross, short cross, powerful), pliers, stationery knife, scissors, velcro for fixing wires, ties (not for wires!), Marker, power adapter C14 to euro , a proven USB-COM wire, a USB flash drive, an APC rack key, a notepad, a pencil, a marking printer, or labels for labeling, enough sheets to write.  Contact your colleagues and contractors on paper and the opportunity to call them not by cellular communication (it may not be in the data center).  Just take the word! <br></li></ul><br><h2>  Measure seven times ... Measure again! </h2><br>  Despite all the measures taken, incidents occur when moving.  I'll tell you about the most typical. <br><br><ul><li>  <b>Cables too long</b> .  In the delivery were 10 m sas cables, 4 pieces per rack.  This length was remarkably enough for us in Moscow data centers, but in St. Petersburg the wire tray was lower and the cable length was redundant.  The problem is small, we found a way to gently lay the wires. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e07/fbc/8c1/e07fbc8c16d984ca7864d6eb781579d9.jpg"><br></li><li>  <b>New configuration</b> .  The two hundred kilogram upper storage shelf of 3U in size, which was perfectly located in the 20th unit on the equipment circuit, unexpectedly :) it was necessary to push it forward to its full length, for which it was necessary to remount it downwards.  This means that the storage controller must be moved down, under the shelf, in order to provide the possibility of increasing capacity.  This led to the redesign of the installation of other equipment.  From such situations, no one is insured, it is important to be able to solve them on the fly.  Therefore, trust the move to the <b>most</b> experienced engineers. <br></li><li>  <b>Power connectors</b> .  Here is another example: among other things, we brought the Power Distributor Unit (s) - the power modules to which the servers are connected.  These modules are single- and three-phase and require, respectively, single- or three-phase power.  There are also ‚Äúpears‚Äù, connectors for connecting the remote control, they are also different: 16 and 32 amps.  You request a 3-phase food, it is organized according to the application.  And here, it would seem: there is a three-phase plug, in front of you is a three-phase socket.  But they do not connect, because the plug is 16 amps, and the socket is 32. The difference between them is literally half a millimeter, not visible to the eye.  Even before the move, we clarified this point, took what was needed, but for safety purposes we were still equipped with mating connectors. <br></li><li>  <b>Measure again</b> .  Some patches appear quite unexpectedly: we brought equipment to the object 980 mm deep for a rack per 1000 mm, and its actual installation depth did not coincide with the nominal one - it turned out that the working space in it was 750 mm.  A rack of 1200 mm after installing the equipment 970 mm left 3 free centimeters instead of 23. Again, be sure to measure everything that you install and transport. <br></li><li>  <b>Point of attachment</b> .  Sometimes our engineers have to be creative on site.  If you used to work with standard APC racks, then you probably know that for placing the remote control there are special holes in them where the cushions fit perfectly.  And if the stand is made by another vendor and there are no holes for the remote control, you can be mistaken: do not pick it with a drill, the right word!  Fortunately, the engineers took with them ordinary metal corners, which turned out neat and reliable fasteners. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/98b/bb5/ab6/98bbb5ab67c0b3f63cec002aad329006.jpg"><br></li><li>  <b>Attention oversized!</b>  Another potential problem is that the pear power connectors may suddenly end up not under the raised floor, but inside the racks, in the ‚Äúpaid‚Äù zone.  That is, taking the place of units how much in vain.  Suppose it was planned to place 42 units in a rack, but in fact, 2 units are already occupied by ‚Äúpears‚Äù.  And we have to place below the minimum dimensional equipment, which has no communications behind.  Such situations can break the entire equipment circuit.  In our case, the problem was solved by placing boxes for spare parts at the bottom of the rack, which have no electricians or other wires in the back. <br><br><img src="https://habrastorage.org/webt/ik/mk/v9/ikmkv9ziv6_bvcohp-55-ntjf4g.jpeg"><br>  <i>Those most sudden "pears".</i>  <i>Picture from montage.</i> <br></li><li>  <b>Primordially Russian dexterity</b> .  Racks - this is in principle a problem thing.  They are of two types: a little bit already and a little wider than necessary.  The documentation says: 19 inches, but in fact the width can walk by ¬± 5 mm, and we have to put up with this, as for some reason, the adjusting washers may not be provided by the manufacturer. </li></ul><br><blockquote>  <i>Tips from "Gregory Oster":</i> <br><ul><li>  In a situation where the stand is a few millimeters narrow, you will need strong men's hands in the amount of four pieces.  For example, one engineer and one programmer.  You place a more subtle programmer inside the rack and ask to stand up.  At this time, the muscular engineer installs the first server.  As a rule, one repetition is enough for the rack to acquire the ‚Äúcorrect‚Äù width, and then the equipment is installed as it should. <br></li><li>  The server inside the rack is on special rails.  And if the rack is slightly wider than necessary, it will not be possible to hook it on both sides at the same time.  To solve this problem, we need a specialized tool for precise manipulation, known in narrow circles as a mount.  It can be borrowed from installers or prudently to take with you.  One person with a tool slightly tightens either side of the rack to the center, and the other catches the equipment. </li></ul></blockquote><br>  Just in case: there is nothing supernatural in this process, and the equipment does not suffer - the discrepancy in width is slightly smaller than the tetrad cell. <br><br><h2>  Stock up </h2><br>  Another thing that seems obvious, and therefore they always forget about it: take fasteners with a large margin.  Even if it seems that it should be enough, take another.  Search or buy them on the spot - more expensive. <br><br>  We needed to mount the equipment in the facility in two racks.  We took with us three sets of 50 bolt nuts each, which we felt should have been enough with our head.  But this was not the case: in this configuration, the equipment, plugs and decorative panels are fastened with the help of nuts and crackers, and not on the latches, as we used to.  As a result, in order to secure everything firmly, I had to buy another set, which was almost enough but very close. <br><br>  The same goes for the wires: the more their choice on the site, the better, the extra ones you bring home. Take as much as possible: power, network cables, and Ethernet of different lengths.  The tray through which you pass the wires may hang at different heights above the rack, and if there are at least seven-meter cables, inside or on the roof of the rack you will get a tangle of wires that you cannot work with.  You need a guarantee that it will be possible to lay everything nice and neat and the server room will not resemble a snake's nest during the mating period. <br><blockquote>  <i>Life hacking:</i> <br>  Be sure to take with you a wizard who knows how to stack ‚Äúbeautifully‚Äù.  According to rumors, this is a superpower that only a few people perfectly master. </blockquote><br><h2>  And again about labeling </h2><br>  Installation of the rack is completed, no engineer was hurt.  But that's not all.  Ideally, after installation, you need to draw a detailed layout of the equipment.  In this case, the "portraits" are made both in front and behind.  Each has a signed rack number.  It is necessary not to confuse what is on the left and what is on the right. <br><br>  Remember the beautiful wires?  In addition to aesthetics, they are useful during operation and reduce the risk of error.  For example, you need to reconnect only one wire, and after him from the coil stretch another four.  As a result, important services will be disabled. <br><br>  Therefore, even if it is very lazy and everything seems (to you now) simple and understandable, be sure to mark all the wires and all the equipment.  At least with the help of a marker and paper tape.  Engineers who will support you after the move will thank you. <br><br>  Even better, in critical nodes the wires will have not only signatures, but also different colors.  Suppose an engineer gets a task to disconnect a particular black wire.  While all the wires are black.  What is the probability of error?  ... We use green wires to connect the left power supply, and orange - for the right.  Power supplies from different sides are connected to different power beams. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a96/d22/24c/a96d2224c2dfe67ab1541cd309348c62.jpg"><br>  <i>Designate different food rays in different colors.</i>  <i>A long black power cord on the left is temporarily connected to a laptop - a photo from the installation.</i> <br><br><h2>  Behavior rules </h2><br>  Finally, I remind you: all data centers have their own rules of behavior, and your employees should know them before starting work. <br><br>  Do not forget to check with the attendant in advance the following points: <br><br><ul><li>  Where can I / can not walk, how does the access control system in general work? </li><li>  How fast to go out? </li><li>  Where to throw garbage? </li><li>  How to bring back the remaining parts? </li><li>  Where are the restrooms? </li><li>  Where is water and food (dining, vending machines, etc.)? </li><li>  Where to get fresh boot covers? </li><li>  How to quickly contact the attendant? </li><li>  Will it be possible to leave the hall independently, without the attendant? </li><li>  Where is the console with the monitor? </li><li>  Is there internet access via Wi-Fi?  Get login and password. </li><li>  Is it possible to make inter-rack crossings? </li></ul><br>  And a couple of special things that you need to know in advance: <br><br><ul><li>  Be sure to find out what time the passes are valid.  Regularly engineers remain at the facility after midnight.  The security system may reset passes at 00:00, and people will not be able to exit. <br></li><li>  When installing the equipment may require electrical approval.  For this work, you must have a 2nd admission group, and without certifying the state sample you will not be allowed into the data center. <br></li></ul><br>  If all items are checked and there are no problems, you can proceed to installation on the site. <br><br>  Here is a checklist I have.  Not a single move is 100% smooth, but by following these points you will save yourself a couple of nerve cells. <br>  That's all, ask questions and share your experiences in the comments. <br><br>  <b>PS</b> When I first told this story to an experienced CIO, he got an old DLINK switch in the rack from the wardrobe: ‚ÄúThis is the first equipment that comes from us to the new data center at 23:45.  With it, we check what paper we need to deposit, whether the rack is ready, whether standard equipment can be mounted into it, power supplied, external network crossings ready, how to ask ‚Äúremote hands‚Äù to reload your equipment, what you need for dismantling and export equipment.  And only when DLINK successfully returns home, we consider that we are ready to move. ‚Äù  A good way to try out a new rake without loss. <br><br>  Happy New Year and all the best! </div><p>Source: <a href="https://habr.com/ru/post/345570/">https://habr.com/ru/post/345570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345550/index.html">How EdTech Leaders Earn</a></li>
<li><a href="../345552/index.html">Service Workers. Instructions for use</a></li>
<li><a href="../345556/index.html">Load testing "non-HTTP". Part 1 JMeter</a></li>
<li><a href="../345560/index.html">New C ++ 17 that everyone should use</a></li>
<li><a href="../345566/index.html">My strategy for the Russian AI Cup 2017</a></li>
<li><a href="../345574/index.html">Tcl / Tk - creating extensions / packages based on dynamic libraries</a></li>
<li><a href="../345576/index.html">Developing AI for a turn-based game on Node.js (part 1)</a></li>
<li><a href="../345578/index.html">Bitcoin will not become new digital money: limited emission and money functions</a></li>
<li><a href="../345580/index.html">Build and heat applications in Kubernetes using dapp and GitLab CI</a></li>
<li><a href="../345584/index.html">Computer response time: 1977‚àí2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>