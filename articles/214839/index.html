<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using GPIO from Python on Raspberry Pi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I share my experience gained in studying the task in the title. The article discusses two options for work that can be used in Python programs that ac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using GPIO from Python on Raspberry Pi</h1><div class="post__text post__text-html js-mediator-article">  I share my experience gained in studying the task in the title.  The article discusses two options for work that can be used in Python programs that access the Raspberry Pi GPIO ports. <br><br>  The GPIO Raspberry Pi ports look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb2/2d0/1a5/cb22d01a5de84cbaaad999919a8a04bf.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  One of the options for working with GPIO is the <a href="http://en.wikipedia.org/wiki/Sysfs">Sysfs</a> interface.  Learn more about Sysfs GPIO interface <a href="https://github.com/torvalds/linux/blob/master/Documentation/gpio/sysfs.txt">here</a> .  In this case, read and write files are used to access the GPIO ports.  To use a specific output, you need to reserve it and set the direction to the input or output.  After you finish working with the port, you need to release it so that other processes can use it. <br><br>  Port reservation (XX - required port number): <br><br><pre><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> XX &gt; /sys/class/gpio/<span class="hljs-built_in"><span class="hljs-built_in">export</span></span></code> </pre> <br><br>  If the backup is successful, a new folder appears at <code>/sys/class/gpio/gpioXX/</code> .  Setting the direction is as follows: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"out"</span></span> &gt; /sys/class/gpio/gpioXX/direction</code> </pre><br><br>  Or so: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"in"</span></span> &gt; /sys/class/gpio/gpioXX/direction</code> </pre><br><br>  Setting the high and low levels for the port configured for output is as follows: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 1 &gt; /sys/class/gpio/gpioXX/value $ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 0 &gt; /sys/class/gpio/gpioXX/value</code> </pre><br><br>  Determining the status of the port configured for input is done like this: <br><br><pre> <code class="bash hljs">$ cat /sys/class/gpio/gpioXX/value</code> </pre><br><br>  Release of the port after its use ends: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> XX &gt; /sys/class/gpio/unexport</code> </pre><br><br>  To simplify working with GPIO through the Sysfs interface, I encountered two utilities.  One of them is the <a href="https://projects.drogon.net/raspberry-pi/wiringpi/the-gpio-utility/">WiringPi GPIO utility</a> , the other is <a href="https://github.com/quick2wire/quick2wire-gpio-admin">quick2wire-gpio-admin</a> . <br><br>  The main task solved by these utilities is to provide the ability to work with GPIO on behalf of an unprivileged user.  At the same time, the <i>WiringPi GPIO utility is</i> more functional. <br><br>  To work with GPIO, I stopped at the <a href="http://pythonhosted.org/RPIO/">RPIO</a> package (at the time of writing, the latest version was 0.10.0).  This package works with GPIO ports directly, referring to the BCM2708 registers via a special device <code>/dev/mem</code> .  What is RPIO: <br><br><blockquote>  Advanced GPIO for the Raspberry Pi.  Extends RPi.GPIO with PWM, GPIO interrups, TCP socket interrupts, command line tools and more </blockquote><br><br>  RPIO is positioned as an improved and expanded version of another module, RPi.GPIO.  The documentation directly on the RPIO discusses in detail only the features that are missing in RPi.GPIO; therefore, for a description of the functions common to these modules, refer to the RPi.GPIO documentation available <a href="http://sourceforge.net/p/raspberry-gpio-python/wiki/Examples/">here</a> . <br><br>  Install the package with the following command: <br><br><pre> <code class="bash hljs">$ sudo pip install RPIO</code> </pre><br><br>  In addition to the python modules, I install two programs: rpio-curses and rpio.  With their help, you can, for example, get the current mode and state of the GPIO and, if desired, change them.  This is how working with rpio-curses looks like: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/282/497/07a/28249707af113fe4eeeea54cd880d35a.jpg" alt="image"><br><br>  So you can get information about the system: <br><br><pre> <code class="bash hljs">$ rpio --sysinfo 000f: Model B, Revision 2.0, RAM: 512 MB, Maker: Qisda</code> </pre><br><br>  An example of a python program using RPIO: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RPIO <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time NRF_CE = <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-comment"><span class="hljs-comment"># set up output channel with an initial state RPIO.setup(NRF_CE, RPIO.OUT, initial=RPIO.LOW) for i in range(10): RPIO.output(NRF_CE, 1) time.sleep(1) RPIO.output(NRF_CE, 0) time.sleep(1) # reset every channel that has been set up by this program, # and unexport interrupt gpio interfaces RPIO.cleanup()</span></span></code> </pre></div><p>Source: <a href="https://habr.com/ru/post/214839/">https://habr.com/ru/post/214839/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214821/index.html">Pizza Smell DVD!</a></li>
<li><a href="../214827/index.html">Show Sound # 6 - Podcast about audio equipment, components, formats and technologies</a></li>
<li><a href="../214831/index.html">Evernote for Android received support for handwritten notes</a></li>
<li><a href="../214833/index.html">What do gamedevs have in common with astronautics or work with PHP iterators?</a></li>
<li><a href="../214837/index.html">OrientDB - a simple example of working with graphs for beginners.</a></li>
<li><a href="../214841/index.html">5 ways to compare two byte arrays. Comparative Testing</a></li>
<li><a href="../214847/index.html">MMORPG without unnecessary details</a></li>
<li><a href="../214849/index.html">Why does the robot have ears? (survey: do you need OpenTod)</a></li>
<li><a href="../214851/index.html">How to lose capital</a></li>
<li><a href="../214853/index.html">Startup Negotiations with the investor "amateur"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>