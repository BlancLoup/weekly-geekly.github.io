<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Olympiad hobby. Divide and rule</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good Monday everyone. If Monday is not the most pleasant day for you, then I suggest you relax a bit and feel my hobby. My hobby is solving Olympiad p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Olympiad hobby. Divide and rule</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/b50bcd8b/cef24cf7/8f4af29a/00a933cd.png" align="left">  Good Monday everyone.  If Monday is not the most pleasant day for you, then I suggest you relax a bit and feel my hobby.  My hobby is solving Olympiad programming tasks: shakes up the brain, stirs the imagination and energizes (though not always positive).  Do not believe?  Try it yourself, just honestly try to solve the task, get the long-awaited Accepted, and enjoy the received emotions. <br><br>  Today, the case threw us task <a href="http://uva.onlinejudge.org/index.php%3Foption%3Dcom_onlinejudge%26Itemid%3D8%26category%3D16%26page%3Dshow_problem%26problem%3D1415">number 10474</a> .  This is the task of the ability to use simple algorithms in time, so do not expect something complicated and cunning from it.  If you are not interested in solving problems at the expense of a couple of standard algorithms, then skip the topic, and welcome everyone under the cat.  We are waiting for a couple of algorithms, the choice of the most convenient solution, and, of course, Accepted! <br><a name="habracut"></a><br><br>  I choose the task randomly.  If a too simple task comes across, or a task that I cannot imagine how to solve, then after several days of torment, I choose another one.  But seriously, in addition to the randomness, I try to choose a variety of tasks in order not to dwell on one thing.  It may seem to someone that my choice is not very good, I ask you to treat this condescendingly, because this is not my job, but just a hobby, therefore it happens that the tasks are too simple or too typical. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let us, if we come across an easy task, then we will find its fastest or most beautiful solution, then it will not seem to us that we have wasted time.  Well, do not forget to share your decisions, which certainly can be more beautiful and faster than mine.  Maybe we even manage to invent an algorithm that nobody knows yet, because the audience in Habr√© is decent;) <br><br><h4>  The task </h4><br>  Let's get down to business.  As I said, today we will solve the problem <a href="http://uva.onlinejudge.org/index.php%3Foption%3Dcom_onlinejudge%26Itemid%3D8%26category%3D16%26page%3Dshow_problem%26problem%3D1415">‚Ññ 10474</a> <br>  I give a free translation of the conditions of the problem: <br><blockquote>  Raju and Meena love to play Marbles (presumably the name of the game).  They have a lot of plates with numbers.  At the beginning, Raju places the plates one after the other in the order of increasing numbers.  Then Meena asks Raju to find the number of the first tablet with some number.  She counts up to three.  If Raju calls the correct number, he gets a point, otherwise Meena receives a point.  After a certain number of attempts, the game stops and the one with the most points wins.  Today you have a chance to play like Raju.  As advanced guys, you use a computer.  But do not underestimate Meena, she wrote a program to track the time you spend getting the correct answer.  You need to write a program that will help you play the role of Raju. <br><br>  <b>Input data:</b> <br>  Several tests are possible, but not more than 65. The test begins with two numbers: N is the number of tablets and Q is the number of Meena requests.  Then follow N lines containing the numbers written on the N tablets.  These numbers are not ordered.  Next come Q lines with queries.  None of the incoming numbers exceed 10,000, and all numbers are non-negative. <br>  Input ends when N and Q are 0. <br><br>  <b>Output:</b> <br>  The time limit of the algorithm: 3 seconds. <br>  For each test the serial number of the test is displayed. <br>  One line is output for each request.  The format of the string depends on whether the requested number is found among the labels or not.  Two options: <br><ul><li>  "X found at y" if the first label with the number x is found at position y.  Positions are numbered as follows: 1, 2, 3 ... </li><li>  ‚ÄúX not found‚Äù if there is no sign with the number x. </li></ul>  <b>Example:</b> <br>  <u>Enter:</u> <br>  4 1 <br>  2 <br>  3 <br>  five <br>  one <br>  five <br>  5 2 <br>  one <br>  3 <br>  3 <br>  3 <br>  one <br>  2 <br>  3 <br>  0 0 <br><br>  <u>Conclusion:</u> <br>  CASE # 1: <br>  5 found at 4 <br>  CASE # 2: <br>  2 not found <br>  3 found at 3 <br></blockquote><br>  This task belongs to the class of algorithmic problems, and more specifically to the section "Divide and conquer." <br><br>  <u>This is a little hint for everyone.</u>  <u>Now I recommend creating your own solution, without reading further.</u>  <u>Then you will be interested to compare the result with mine.</u> <br><br>  Our task: to sort the plates with numbers and find the number of the first plate with any number.  Two variants of solving this problem occurred to me (besides a simple search for a number with the determination of the number of smaller numbers ‚Äî that is, in the forehead).  Therefore, we will consistently consider both options and determine which is better and why. <br><br><h4>  Decision </h4><br><h5>  Option 1 </h5><br>  I decided that it was worth ordering the array, and then finding the number in it.  I know that now many will call me "Kepom."  On the site, where I take the problem, the main criterion for the quality of the solution is the program execution time.  To speed up the execution time of our algorithm, we will use a quick sort, as well as a binary search in the array.  Those.  To solve the problem, we consistently implement the algorithm for quickly sorting the input array with numbers, and then the binary search algorithm. <br><br>  Knowledge of these algorithms, and most importantly, the ability to implement them, is useful in real programming, so I recommend that you familiarize yourself with the algorithms to those who have never implemented them, especially both of them are very simple. <br><br>  The quick sort algorithm is perfectly described <a href="http://algolist.manual.ru/sort/quick_sort.php">here</a> .  I just give a brief description of the steps: <br>  1. In the array selects some element - the reference.  Usually they take the central element, but there are cases when it is better to choose some other elements, it depends on the properties of the array. <br>  2. All elements less than the reference number are moved to the left side of the array, and the elements are larger than the reference number to the right.  So  we divide the array into two subsets.  To the left of the support element are elements less than the reference, on the right vice versa. <br>  3. In both subarrays, all steps are performed again if the number of elements is at least two. <br><br>  Quick sorting has modifications that speed up its work.  If you are interested, then try to implement the modification and check the acceleration of the algorithm in practice. <br><br>  The binary search algorithm in an ordered array is even simpler. <br>  1. Select the central element of the array, which divides the array into two subarrays. <br>  2. If the selected element is greater than the desired one, then continue the search in the left subarray in the same pattern.  If less, then right. <br>  As a result, we quickly get to the desired item. <br><br>  The only thing you need to pay attention to is that a binary search will lead us not necessarily to the first occurrence of the desired number, if there are plates with the same numbers.  It is necessary to implement a binary search procedure so that the index of the first occurrence of the desired number is determined. <br><br>  The first solution: Accepted 0.368 <br><br><h5>  Option 2 </h5><br>  If you pay attention to the restriction that is described in the condition: none of the input numbers exceed 10,000, then another solution appears.  Before entering numbers on the plates, we can create an array of M for 10,000 elements. <br>  M [i] = 0 if there is no label with the number i <br>  M [i] = r, where r is the number of plates with the number i <br><br>  We can fill this array immediately when entering numbers.  When filling the array, we determine the number of unique numbers. <br><br>  Next, we will create two more arrays (or an array of structures, if you prefer).  The first array of elements will contain unique numbers in ascending order.  The second array of positions will contain the position where positions [i] is the number of the first position of the number elements [i].  We can fill these arrays with a single pass through the array M. <br>  0. pos = 0 is the current position, j = 0 is the number of the current unique number <br>  1. We are looking for M [i]! = 0 <br>  2. Enter the new number in the elements [j] = i <br>  3. positions [i] = pos <br>  4. Shift pos on M [i], j ++ <br>  5. If we have not passed all 10,000 numbers (or you can remember the maximum, to speed up the work), then go to step 1 <br><br>  Now we have the elements array, where we will again search for numbers using a binary search.  The answer will be issued from the positions array with the index of the found number in the elements array. <br><br>  The second solution: Accepted 0.248 <br><br>  Why was the second option faster than the first?  The main difference between these two approaches is that in the second version we abandoned the sorting, which is the most time consuming.  Instead of wasting time on sorting, we stole more RAM than was required.  And a binary search is conducted in an array with a smaller number of elements in cases where there are labels with the same numbers. <br>  The second option would not be applicable if the input numbers were limited only by the capacity of 4 bytes.  At the Olympiad, it is sometimes worth paying attention to these kinds of conditions, which are often created by hinting at alternative solutions to the problem. <br><br>  Why does the task relate to the ‚ÄúDivide and Conquer‚Äù section of the algorithms?  Because both algorithms used relate to this section, because in quick sorting we divided the array into two parts, and then sorted it, and in the binary search we constantly narrowed down the search by dividing the desired area in half. <br><br>  This problem has other solutions, try to find a solution that will be faster.  It would be interesting to compare the first solution with other sorting algorithms.  If you are implementing the first option with a different sorting, write in the comments.  Let's try to collect our own statistics of the speed of the various sorts. <br>  You can check your decision <a href="http://uva.onlinejudge.org/index.php%3Foption%3Dcom_onlinejudge%26Itemid%3D8%26page%3Dsubmit_problem%26problemid%3D1415%26category%3D16">here</a> (registration is required). <br><br>  PS site <a href="http://uva.onlinejudge.org/">http://uva.onlinejudge.org/</a> , whence the task was taken from me, I suddenly stopped loading into FF.  I'm not sure that this is exactly the browser problem, but in other browsers the site opens.  Keep in mind if you suddenly encounter the same problem. <br><br>  My solutions, as always, can be downloaded: <a href="">option 1</a> and <a href="">option 2</a> . <br><br>  Accepted (0.248).  Good luck! <br><br>  <b>UPD:</b> Thanks to the <a href="http://habrahabr.ru/blogs/sport_programming/109874/">prompts of</a> Mr. <a href="http://habrahabr.ru/users/dimoclus/" class="user_link">dimoclus</a> , I managed to speed up the second option to Accepted (0.108) ( <a href="">download</a> ) <br>  <b>UPD:</b> Also, please pay attention to the <a href="http://habrahabr.ru/blogs/sport_programming/109874/">decision of</a> Mr. <a href="http://habrahabr.ru/users/kapji/" class="user_link">KapJI</a> , the execution speed of which is 0.104 <br><br>  <b>UPD:</b> Aleksey, a habra reader, managed to get the <a href="http://uva.onlinejudge.org/index.php%3Foption%3Dcom_onlinejudge%26Itemid%3D8%26page%3Dproblem_stats%26problemid%3D1415%26category%3D16">best time</a> (0.052) among all users of the uva.onlinejudge.org site.  <a href="http://pastebin.com/uTsWSNPR">Here is</a> his decision.  My congratulations! <br>  PS who has an extra invite, do not take pity for Alexey, I think he has something to share with us. </div><p>Source: <a href="https://habr.com/ru/post/109874/">https://habr.com/ru/post/109874/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../109869/index.html">Bulbulator tracker. PCB etching accelerator</a></li>
<li><a href="../109870/index.html">How to open a department of an online store in a mall or why we are now standing next to the department of PocketBook</a></li>
<li><a href="../109871/index.html">Which forum engine do you prefer?</a></li>
<li><a href="../109872/index.html">QooxDoo 1.3 - the next release of the JS framework</a></li>
<li><a href="../109873/index.html">FirefoxLive - live webcast at the Red Pandas</a></li>
<li><a href="../109877/index.html">Early prototyping of mobile applications</a></li>
<li><a href="../109881/index.html">"Come with us" move for the better!</a></li>
<li><a href="../109884/index.html">Web Store Restrictions Bypass</a></li>
<li><a href="../109887/index.html">Made by Us! Site about production in Russia</a></li>
<li><a href="../109888/index.html">A study of the Dutch shows that Anonymus is not so anonymous</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>