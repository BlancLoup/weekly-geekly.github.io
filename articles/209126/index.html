<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MathML or Latex - how we implemented a changing salary in calculating salary using MathJax</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article will be useful to web developers who are thinking about displaying mathematical formulas in the browser, and, perhaps, other IT-s for gene...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MathML or Latex - how we implemented a changing salary in calculating salary using MathJax</h1><div class="post__text post__text-html js-mediator-article">  <i>The article will be useful to web developers who are thinking about displaying mathematical formulas in the browser, and, perhaps, other IT-s for general development.</i> <br><br>  Our company has already introduced a staff incentive system (KPI) based on Redmine, which combines the functions of calculating salary.  I will tell about her in a nutshell. <br><br>  Each position has some kind of salary, the employee holding the position can work nicely and multiply his salary by the performance factor, which is calculated on the basis of a bunch of indicators set for his position.  The coefficient of performance can be either greater or less than one.  Thus, by modeling the indicators, it is possible to encourage employees of certain positions to work in a certain direction. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It might look something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5eb/535/c74/5eb535c74d06796996877897e11b615b.png" alt="image"><br><br><a name="habracut"></a><br><br>  Over time, we came to the conclusion that the salary of some posts should also vary depending on various indicators.  For example, for pharmacy managers, the base salary should depend on the cash flow of the pharmacy.  Moreover, this dependence may be different! <br><br>  An important feature that must always be taken into account when implementing KPI is transparency!  The employee should always know why he received exactly this kind of RFP, where he failed, why the indicator considered that way. <br><br>  Therefore, it became necessary, in addition to calculating the base salary, to also demonstrate how the salary was calculated. <br><br><h4>  Latex and MathML </h4><br>  There are currently two main standards for displaying formulas in the browser: Latex and MathML <br><br>  I painfully long chose which technology to use.  As a result, made several conclusions.  I hope they will be useful to the community. <br><br>  The main advantage of Latex in the brevity of the record.  Otherwise, <b>in my opinion</b> , this format is inferior to MathML. <br><br>  For example, the formula entry <img src="https://habrastorage.org/getpro/habr/post_images/144/9db/921/1449db92130dbeeaa86e0bdfa4274fe7.gif" alt="image">  in Latex it looks like this: <br><br><pre><code class="bash hljs">\frac{(a+b )}{4}</code> </pre> <br>  In MathML, the same thing would have been written much more cumbersome: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">math</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1998/Math/MathML"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mfrac</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mi</span></span></span><span class="hljs-tag">&gt;</span></span>a<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mi</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span>+<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mi</span></span></span><span class="hljs-tag">&gt;</span></span>b<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mi</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span>4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mfrac</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">math</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  MathML is pure XML, from here a simpler parsing for own needs, if necessary. <br><br>  MathML seemed more understandable and quickly mastered the format.  Although this opinion is individual and controversial. <br><br>  MathML is supported by most modern browsers, except Chrome, which refused to support this format, referring to the <a href="http://docs.mathjax.org/en/latest/">MathJax</a> library.  This means that in Firefox, for example, you do not need to connect additional libraries, the browser will parse and display the formula specified above without the help of third-party libraries. <br><br>  ‚ÄúMathML‚Äù allows you to add a handful of useful additions to the formula.  For example, it was vital for us to get a pop-up hint to certain values ‚Äã‚Äãof the formula, so that the employee could see where this value came from.  For this MathML has a maction tag: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">actiontype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mathsize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"big"</span></span></span><span class="hljs-tag">&gt;</span></span>17 745 400<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  As a result, when you hover over the value, the user will see a tooltip: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ed/c57/5c0/3edc575c055c06b04950c3be8a05964b.png"><br><br>  Funny, but the most understandable documentation on the format seemed documentation Mozilla.  I recommend it to those who will be poking around in this format: <a href="https://developer.mozilla.org/en-US/docs/Web/MathML/Element">developer.mozilla.org/en-US/docs/Web/MathML/Element</a> <br><br><h4>  Mathjax </h4><br>  MathML is good, but unfortunately, it is not supported by all browsers.  There is a <a href="http://docs.mathjax.org/en/latest/">MathJax</a> library that allows you to parse MathML into HTML, SVG, etc.  She, by the way, parsit Latex rejected by me. <br><br>  The library does a good job with parsing formulas, but it has drawbacks. <br><br>  The largest, in my opinion, its volume is 32.9 Mb in compressed form.  Of course, not everything will be given to the client when the formula is drawn, but by itself such an amount of js-library is annoying.  We, for example, needed to distribute it to external customers. <br><br>  Initially connecting the entire library and implementing the task, I randomly threw a bunch of folders out of it.  The method of "spear", checking that nothing is broken.  Size reduced to 16 Mb.  Basically, I threw out folders with fonts and unnecessary output formats (for example, SVG). <br><br>  I did not find competent documentation on reducing the volume of the library. <br><br>  The library is quite difficult to learn.  I was picking for a long time, disabling unnecessary chips in it.  Here are the useful configuration settings that turned out to be useful: <br><br>  First, we have each formula opened in a separate window, which is loaded asynchronously (via AJAX).  Therefore, there is no need to load the library when the user has not clicked on the link.  Something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a4d/7fe/e25/a4d7fee25c6bc79e0e1f95d909094457.png"><br><br>  The library supports dynamic loading ( <a href="http://docs.mathjax.org/en/latest/dynamic.html">docs.mathjax.org/en/latest/dynamic.html</a> is written in detail here).  Relatively speaking, you need to dynamically add a library declaration to the ‚Äúhead‚Äù tag and only do this if the library has not been connected before: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> $(<span class="hljs-string"><span class="hljs-string">'body'</span></span>).data(<span class="hljs-string"><span class="hljs-string">'mathjax_loaded'</span></span>) == <span class="hljs-string"><span class="hljs-string">'undefined'</span></span> ) { <span class="hljs-comment"><span class="hljs-comment">//    head $('body').data('mathjax_loaded', 'true') } else { MathJax.Hub.Queue(["Typeset",MathJax.Hub]); }</span></span></code> </pre><br>  Dynamic library connection had problems with formula rendering.  The formula was rendered only when the libraries were loaded in the first, with a second click and the opening of the window, the formula was not rendered.  The construction that forced the rendering of formulas on the page helped: <br><br><pre> <code class="javascript hljs">MathJax.Hub.Queue([<span class="hljs-string"><span class="hljs-string">"Typeset"</span></span>,MathJax.Hub]);</code> </pre><br>  The rendering of the formula is not instantaneous, so the user is better to show the preloader, for this there is a design: <br><br><pre> <code class="javascript hljs">mml2jax: {<span class="hljs-attr"><span class="hljs-attr">preview</span></span>: [[<span class="hljs-string"><span class="hljs-string">"img"</span></span>, {<span class="hljs-attr"><span class="hljs-attr">src</span></span>: <span class="hljs-string"><span class="hljs-string">'/plugin_assets/kpi/images/loader.gif'</span></span>}]]}</code> </pre><br>  Sometimes it's useful to zoom in: <br><br><pre> <code class="javascript hljs">HTML-CSS: { <span class="hljs-attr"><span class="hljs-attr">scale</span></span>: <span class="hljs-number"><span class="hljs-number">140</span></span> }</code> </pre><br>  If, after rendering the formula, you need to run some additional javascript, you can use the construction: <br><br><pre> <code class="javascript hljs">MathJax.Hub.Queue(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">'Test'</span></span>); });</code> </pre><br>  To disable the additional menu that can be called by right-clicking the mouse and disable the zoom of the formula: <br><br><pre> <code class="javascript hljs">showMathMenu: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">menuSettings</span></span>: { <span class="hljs-attr"><span class="hljs-attr">zoom</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }</code> </pre><br><h4>  Two formulas, not one </h4><br>  Until recently, I was not abandoned by the idea of ‚Äã‚Äãparsing a mathematical formula according to which the actual calculation will be made in MathML format.  That is, in the database I wanted to save one formula of the form: <br><br><pre> <code class="bash hljs">31000.00 + (0.015*{<span class="hljs-string"><span class="hljs-string">"pattern"</span></span>: <span class="hljs-string"><span class="hljs-string">"imported_value"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"51"</span></span>}/{<span class="hljs-string"><span class="hljs-string">"pattern"</span></span>: <span class="hljs-string"><span class="hljs-string">"imported_value"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"40"</span></span>})</code> </pre><br>  And the mathml-design is obtained from the initial formula: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">math</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1998/Math/MathML"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> {"pattern": "result"} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span>=<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">actiontype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span>31 000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span>+<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mfrac</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span>0.015<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span>√ó<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mo</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">actiontype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mathsize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"big"</span></span></span><span class="hljs-tag">&gt;</span></span>{"pattern": "imported_value", "id": "51"}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">actiontype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mathsize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"big"</span></span></span><span class="hljs-tag">&gt;</span></span>{"pattern": "imported_value", "id": "40"}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mn</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ms</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maction</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mfrac</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mrow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">math</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  As a result, I concluded that this is impossibly difficult and not always justified.  In a mathml formula there may be a bunch of elements that cannot be stored in a regular formula, for example, tooltips, color highlighting, etc.  Currently, we save two formulas in the database, one for the direct calculation of the value, and another for the display to the user of the calculation system. <br><br>  I try to write articles after being faced with difficulties I did not find a clear and quick solution to my problems.  I think my specific article will be useful to someone. </div><p>Source: <a href="https://habr.com/ru/post/209126/">https://habr.com/ru/post/209126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209110/index.html">Analysis of Suspicious PDF Files</a></li>
<li><a href="../209112/index.html">Simple battle model on Modelica</a></li>
<li><a href="../209116/index.html">Electronic money in Russia will limit</a></li>
<li><a href="../209118/index.html">Using XenServer and other free / opensource in manual testing</a></li>
<li><a href="../209122/index.html">Training course "Data Visualization"</a></li>
<li><a href="../209128/index.html">But how does multithreading work? Part II: memory ordering</a></li>
<li><a href="../209130/index.html">Terminal multiplexer overview: tmux and dvtm</a></li>
<li><a href="../209132/index.html">How did the authors of the book and application developers find each other?</a></li>
<li><a href="../209138/index.html">Calculating intersecting intervals in linear and closed namespaces</a></li>
<li><a href="../209140/index.html">About creating an improved JavaScript library for working with the DOM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>