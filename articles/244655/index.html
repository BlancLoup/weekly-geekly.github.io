<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Programming a mouse" in Swift part 2 - navigation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And hello again, Khabarovsk! 

 Developing the theme of the previous article , I write about programming navigation between the windows of your applic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Programming a mouse" in Swift part 2 - navigation</h1><div class="post__text post__text-html js-mediator-article">  And hello again, Khabarovsk! <br><br>  Developing the theme of the <a href="http://habrahabr.ru/post/242277/">previous article</a> , I write about programming navigation between the windows of your application using a minimum of code.  Immediately I want to mention, the article is written for beginners, if you are an experienced developer in this business - it is unlikely she will give you something. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So let's get started. <br><br><h4>  <b>Training</b> </h4><br><h5>  <b>Before you start writing the application itself, create a project</b> </h5><br>  Since  most of it can do it, let's do a simple video here: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/p1bsEn1iFfc%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjn4iyEJcGzxWHPjRJ3DjTwVCjRNQ" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  <b>Filling the starting content</b> </h4><br>  Great, the project is ready. <br>  We want to create several VCs with a selection through the tab bar, so we will set the color of the main window, wrap it in the TabViewController and then add a couple more VCs (= ViewControllers). <br><br><h5>  <b>For convenience of display, let‚Äôs shave our ViewController in size and color it in red.</b> </h5><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/7e6XXWWG3V4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjSfqkxry7u4ErDX1etCnUnMUv1jw" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  <b>‚ÄúWrap up‚Äù the main page in the Tab Bar Controller</b> </h5><br>  To do this, we select our main page, in the menu we select Editor -&gt; Embed In -&gt; Tab Bar Controller <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/WziKcPXt4Sc%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjgVTM8NBaGEuNbxrLXEiMAeTLY6w" frameborder="0" allowfullscreen=""></iframe><br><br>  Ok, now we already have a ‚Äúmenu‚Äù, but so far there is no point in it - because there is only one page.  Well, let's add a couple more: <br><br><h5>  <b>Add 2 more ViewControllers</b> </h5><br>  As in the previous article, we drag them onto our Storyboard, simultaneously ‚Äúsqueezing‚Äù them in size for better perception.  And we will set colors - for example, yellow and green. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/v_jP9OcdSto%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjKG2i5RElAkpLH4kPchFksKudHYA" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  <b>Now add them to our menu.</b> </h5><br>  To do this, hold down the right mouse button on the Tab Bar Controller, drag the mouse to what you want to add in the menu, and in the list that appears, select Relationship Segue -&gt; view controllers <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/fyz2W82bNNY%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgLgr3pcJSS7bMRDupskdBxU-y2YQ" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  <b>Last step</b> </h5><br>  Look now at your TabView Controller - there will be something like [Item] [Item] [Item].  Somehow not friendly, so we change the names of our VCs in the menu - to do this, select the [Item] button at the bottom of the VC that represents it in the menu and set the values ‚Äã‚Äãwe need there.  For example, I only change the name, but here you can experiment. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/T3ghb79Oh-o%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhinUv3iZVvZx0Q2BY3JPozY1e8fEQ" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  <b>Navigation testing</b> </h5><br>  So, we have already created a full menu, without writing <b>a single line of code at all</b> .  To check, we will launch our application on the fifth iPhone simulator, first throwing Labels with the description of the current page for greater clarity: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/6qNlaJsE2q4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhiJn0zRseAhGqNnbPMtx-Uz2F1dzw" frameborder="0" allowfullscreen=""></iframe><br><br>  As you can see, the construction of the simplest menu requires almost no effort from you.  There remains only one important point: the order of the elements in our menu.  If you want to swap menu items, this is also done with a minimum of effort, just dragging and holding the left mouse button in the menu bar in the Tab Bar Controller: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/5DNDo5Gkj3E%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgnZR3hGaIakY9oIk0b5dn_flHNww" frameborder="0" allowfullscreen=""></iframe><br><br>  In principle, this option is enough for many applications, but what if we want to ‚Äúwrap‚Äù one of the elements in the Navigation Controller? <br><br><h4>  <b>Nested menus</b> </h4><br><br>  Since  The Navigation Controller and Table View are almost always used together; let's consider this option.  In this version, in any case, you will have to write code if there is even the slightest chance that these labels are not constant. <br><br>  But since  laziness is the engine of progress, we use the TableVC already created for us inside our VC ‚ÄúRead more‚Äù, using the Container View.  It will look a little worse (clutter of built-in controllers), but you can write less code) <br><br><h5>  <b>Embedding the controller in another controller</b> </h5><br>  To begin with, we need to create a controller that will handle our table.  This is the usual TableVC, so there will only be a video: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/YkXb1F4qNHA%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjIselaMGhAOYp9ejbfu_9WOuPT3A" frameborder="0" allowfullscreen=""></iframe><br>  Next, we will build our table controller into the ‚Äúyellow‚Äù controller using the Container View.  When you create in your VC Container View, it automatically creates a ‚Äúchild‚Äù VC that needs to be deleted. <br>  Then drag, holding the right mouse button, the line from the Container View to our TableVC, from the drop-down list, select the "embed".  Now your "child" VC will be drawn in the "parent", trying to get into its size. <br>  Now the moment that you just need to ‚Äúdo‚Äù: stretching the Container View over the entire View and leaving some space on top for other content (title, for example), select your ‚Äúyellow‚Äù VC and select <i>Editor -&gt; Resolve Auto Layout Issues -&gt; All Views -&gt; Reset to Suggested Constraints</i> . <br>  Crutch necessary, because  In this article, we will not discuss Auto Layout. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/KBOu6tF-aN4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgjpOjMJ22Mo3nK1RHF9j4HRkO0BQ" frameborder="0" allowfullscreen=""></iframe><br><br>  So, now that we have embedded our tablet, we must somehow load the data into it.  First, create a class for our TableVC. <br>  Create the Swift file ‚ÄúMyTable.swift‚Äù and write such code in it <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyTable</span></span></span><span class="hljs-class">:</span></span> UITableViewController { <span class="hljs-function"><span class="hljs-function">override func </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ super.viewDidLoad() <span class="hljs-comment"><span class="hljs-comment">// Do any additional setup after loading the view, typically from a nib. } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() // Dispose of any resources that can be recreated. } }</span></span></code> </pre> <br></div></div><br>  Then in Stroryboard we select our table controller and change its class to MyTable. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/9RHHk5tTaP0%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhj022YCyuo5JdRDg1ojTYc14ebExw" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  <b>Loading data into MyTable</b> </h5><br>  The advantage of our TableViewController is that we don‚Äôt need to associate anything with anything - just redefine the functions we need (number of sections, number of lines in a section, object of the nth row of a section, etc.), in contrast from tableview.  And here autocompletion will help us - in words it is not clear, but in the video you can show it well: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/i1a9QUcExw4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhh-6gaiv908YmhT9OK2Ydlzxc9PzA" frameborder="0" allowfullscreen=""></iframe><br>  For the tablet, we will need a sample of the table row, it can be created from the storyboard like this <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/HltRx8hvqOE%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjo9xGryUEptsmGLbBxxYe7Z8HSpQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Now fill in our file code: <br><div class="spoiler">  <b class="spoiler_title">MyTable.swift</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyTable</span></span></span><span class="hljs-class">:</span></span> UITableViewController { <span class="hljs-function"><span class="hljs-function">override func </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ super.viewDidLoad() <span class="hljs-comment"><span class="hljs-comment">// Do any additional setup after loading the view, typically from a nib. } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() // Dispose of any resources that can be recreated. } override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { //-      return 10 } override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { //     n-   let cell = tableView.dequeueReusableCellWithIdentifier("MyCell") as UITableViewCell cell.textLabel.text = " #\(indexPath.item)" return cell } override func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) { //       -  } override func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int { //    - (    1) return 1 } }</span></span></code> </pre><br></div></div><br>  Well, now we should have a 10-line label, check it out: <br><div class="spoiler">  <b class="spoiler_title">Everything is working</b> <div class="spoiler_text"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/8M2ASZs0osg%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjaq9onL4eXgxL9qOcsL8pdVM7xuA" frameborder="0" allowfullscreen=""></iframe><br></div></div><br>  So, we have a sign.  By itself, it does not require the Navigation Controller.  To do this, we need a VC, which will display in detail the information on some of the elements of the table. <br><div class="spoiler">  <b class="spoiler_title">Create a class for the controller in the file Detail.swift</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Detail</span></span></span><span class="hljs-class">:</span></span> UIViewController { <span class="hljs-function"><span class="hljs-function">required </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(coder aDecoder: NSCoder)</span></span></span><span class="hljs-function"> </span></span>{ id = <span class="hljs-number"><span class="hljs-number">0</span></span> super.init(coder: aDecoder) } @IBOutlet weak var idDetail: UILabel!<span class="hljs-comment"><span class="hljs-comment">//       "id..." // ,   ,  var id: Int //  id    view   override func viewDidLoad() { super.viewDidLoad() // Do any additional setup after loading the view, typically from a nib. idDetail.text = "\(id)" } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() // Dispose of any resources that can be recreated. } }</span></span></code> </pre><br></div></div><br><br>  Create a VC, and link it to Detail.swift and MyTableVC.  Communication MyTable -&gt; Detail let's call it ‚ÄúToDetail‚Äù <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/8JoXYwdBhqw%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjYijPHQyyCAWd2sB7e9mTNIVVqNA" frameborder="0" allowfullscreen=""></iframe><br><br>  Now edit the file MyTable: <br><pre> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-function">override func </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepareForSegue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(segue: UIStoryboardSegue, sender: AnyObject?)</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-comment"><span class="hljs-comment">//    Detail let vc = segue.destinationViewController as Detail let id = sender as Int//        Detail vc.id = id } override func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) { //       -  performSegueWithIdentifier("ToDetail", sender: indexPath.item)//    ,     }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">As a result, the code will be</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyTable</span></span></span><span class="hljs-class">:</span></span> UITableViewController { <span class="hljs-function"><span class="hljs-function">override func </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ super.viewDidLoad() <span class="hljs-comment"><span class="hljs-comment">// Do any additional setup after loading the view, typically from a nib. } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() // Dispose of any resources that can be recreated. } override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { //-      return 10 } override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { //     n-   let cell = tableView.dequeueReusableCellWithIdentifier("MyCell") as UITableViewCell cell.textLabel.text = " #\(indexPath.item)" return cell } override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {//    Detail let vc = segue.destinationViewController as Detail let id = sender as Int//        Detail vc.id = id } override func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) { //       -  performSegueWithIdentifier("ToDetail", sender: indexPath.item)//    ?     } override func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int { //    - (    1) return 1 } }</span></span></code> </pre><br></div></div><br><br><h5>  <b>Demo of the detailed view</b> </h5><br>  We have already done everything to simulate loading data when opening Detail.  Check in the simulator: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/vSWj9evKOBg%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhhCX2Q8exQLJgNXdh3TMFr83qa1pg" frameborder="0" allowfullscreen=""></iframe><br>  As you can see, our detail loads and gets what it should show, but we can‚Äôt go back to the list of options.  And here you can use the Navigation Controller, not your bike. <br><br><h4>  <b>Navigation Controller in Tab Bar</b> </h4><br>  First, the simplest thing is to wrap our ‚Äúyellow‚Äù VC in the NavigationConctroller: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/LiTdGCkKrz8%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgkPEMHSAJXLeYyKXCLqJbLv_XwNA" frameborder="0" allowfullscreen=""></iframe><br>  Along the way, we set the navigation header for the "yellow" VC and the text of the "back" button <br><br>  Already not bad, ‚Äúout of the box‚Äù we can go back without writing code.  But in the detailed view, the bottom menu is shown, although it is not needed there to remove it, put the <i>‚ÄúHide Bottom Bar on Push‚Äù</i> checkbox in Detail <i>.</i> <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/C6E3aoJ4eLg%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhj-VfPvAzRtyGYhQiP4RCoAO9ps9Q" frameborder="0" allowfullscreen=""></iframe><br><br>  The problem is that there is only a ‚ÄúBack‚Äù button out of the box, which is used only for simply going back, and if we want to do something before leaving, it should be tied to other buttons. <br>  Imagine that the user can "buy" something.  Add two options: through the top navigation bar and through the click of a button. <br><br>  The purchase itself will be called from the doIt function. <br><pre> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-function">func </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doIt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -   id println(id) //  navigationController?.popViewControllerAnimated(true) }</span></span></code> </pre><br>  Pay attention to the <b>navigationController? .PopViewControllerAnimated (true)</b> , because of this line we go back as if the ‚Äúback‚Äù button was pressed in the navigation bar. <br><br>  For a button, simply call this function in the TouchUpInside event handler for the button, but for the button in the navigation you have to add <br><pre> <code class="cpp hljs"> var rightButton = UIBarButtonItem(title: <span class="hljs-string"><span class="hljs-string">""</span></span>, style: .Done, target: self, action: <span class="hljs-string"><span class="hljs-string">"doIt"</span></span>) self.navigationItem.rightBarButtonItem = rightButton</code> </pre><br>  in viewDidLoad. <br><div class="spoiler">  <b class="spoiler_title">As a result, the code will be</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Detail</span></span></span><span class="hljs-class">:</span></span> UIViewController { <span class="hljs-function"><span class="hljs-function">required </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(coder aDecoder: NSCoder)</span></span></span><span class="hljs-function"> </span></span>{ id = <span class="hljs-number"><span class="hljs-number">0</span></span> super.init(coder: aDecoder) } @IBOutlet weak var idDetail: UILabel!<span class="hljs-comment"><span class="hljs-comment">// ,    id var id: Int// ,    vc id override func viewDidLoad() { super.viewDidLoad() // Do any additional setup after loading the view, typically from a nib. idDetail.text = "\(id)" var rightButton = UIBarButtonItem(title: "", style: .Done, target: self, action: "doIt") self.navigationItem.rightBarButtonItem = rightButton } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() // Dispose of any resources that can be recreated. } @IBAction func buyPressed(sender: AnyObject) { doIt() } func doIt() { //  -   id println(id) //  navigationController?.popViewControllerAnimated(true) } }</span></span></code> </pre><br></div></div><br>  Let's look at the final result in the demo. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/uowIp5eVDT4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhiWqQGqG4mEPLzvY6eSF-zadPgcMA" frameborder="0" allowfullscreen=""></iframe><br><br>  That's all for the moment.  A sample project can be downloaded <a href="https://yadi.sk/d/FrkjzQTAd5Uht">from here</a> . <br>  Many moments had to be ignored in order not to overload, but if you think that something needs to be added without fail, write to the PM. <br>  I hope that this article will be useful for someone. </div><p>Source: <a href="https://habr.com/ru/post/244655/">https://habr.com/ru/post/244655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../244641/index.html">As we in the django-project js collect + couple of tricks in Gulp</a></li>
<li><a href="../244645/index.html">We increase session stability in CakePHP 2.x</a></li>
<li><a href="../244647/index.html">We make a dump of photos from the dialogue vk.com</a></li>
<li><a href="../244651/index.html">JavaScript goes beyond the Web in 2014</a></li>
<li><a href="../244653/index.html">Servers based on new Intel Xeon E5v3 processors and DDR4 memory</a></li>
<li><a href="../244661/index.html">Diskless booting using Windows-based iSCSI technology</a></li>
<li><a href="../244663/index.html">VoiceFabric: speech synthesis technology from the cloud</a></li>
<li><a href="../244667/index.html">NetApp 7-Mode: Undocumented features or doing DR from SnapVault</a></li>
<li><a href="../244669/index.html">Powered by a 9/12-volt SOHO router from a USB source</a></li>
<li><a href="../244671/index.html">Restoring access to Google Analytics in 4 easy steps.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>