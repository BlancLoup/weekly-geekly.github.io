<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ecosystem support. Automate user registration with Golang</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What are we doing? 


 Our team is developing a software platform for sending notifications via REST API to mobile devices. These are currently push n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ecosystem support. Automate user registration with Golang</h1><div class="post__text post__text-html js-mediator-article"><h2>  What are we doing? </h2><br><p>  Our team is developing a software platform for sending notifications via REST API to mobile devices.  These are currently push notifications for iOS devices, as well as SMS due to integration with <a href="https://www.twilio.com/">Twilio</a> ).  In order to organize the support process, as well as the user community, a number of information systems and services was selected (see list below), which, from our point of view, made it possible to solve the problem in the shortest possible time and with minimal effort. </p><br><h2>  Tasks </h2><br><p>  Automate the following: </p><br><ul><li>  Registration of users in the accounting system of appeals </li><li>  User registrations on the community portal </li><li>  Service Management for Users </li></ul><br><h2>  Systems used (and their purpose) </h2><br><p>  All of the following information systems and services have a REST API interface that allows you to solve tasks. </p><br><ul><li>  <a href="https://www.atlassian.com/software/jira/service-desk">Atlassian Jira Service Desk</a> (customer tracking system) </li><li>  <a href="https://www.atlassian.com/software/confluence">Atlassian Confluence</a> (information portal) </li><li>  <a href="https://slack.com/">Slack</a> (user community) </li><li>  <a href="https://www.paddle.com/">Paddle</a> (software distribution / licensing) <a name="habracut"></a></li></ul><br><h2>  Process description </h2><br><p>  In our case, the following events are exhaustive: </p><br><ol><li>  When downloading a software product, you need to create a user in the accounting system for users, as well as send an invitation to the community portal </li><li>  When activating commercial support, you need to add the user to the appropriate group of the user circulation system </li><li>  When the commercial subscription expires, you must remove the user from the appropriate group. </li></ol><br><h2>  Implementation </h2><br><p>  First of all, the source of all the above events of the process is the <a href="https://www.paddle.com/">Paddle</a> platform, namely their <a href="https://www.paddle.com/docs/reference-using-webhooks">Events / Alerts</a> subsystem.  When a certain event occurs, Paddle initiates a POST request to a predetermined URL (of our server). <br>  Events that we will handle: </p><br><ul><li>  Payment Success (Non-Subscription) </li><li>  Subscription Created </li><li>  Subscription Canceled </li></ul><br><p>  The request from the side of Paddle contains the following information (the content of the request from the side of Paddle may differ depending on the events described above, but the elements of interest remain the same in any case): </p><br><pre><code class="html hljs xml">{ "method": "POST", "data": { "alert_id": "XXXXXX", "alert_name": "subscription_created", "cancel_url": "https://checkout.paddle.com/subscription/cancel?XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX", "currency": "USD", "email": "name@example.com", "event_time": "2016-08-05 13:26:06", "next_bill_date": "2017-08-05", "passthrough": "", "status": "active", "subscription_id": "XXXXXX", "subscription_plan_id": "XXXXXX", "update_url": "https://checkout.paddle.com/subscription/update?XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX", "p_signature": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" } }</code> </pre> <br><p>  and expects <em>HTTP 200 OK</em> in response: </p><br><pre> <code class="html hljs xml">{ "http_code": 200, "redirect_url": "", "content_type": "text/plain; charset=utf-8", "total_time": 1.018837 }</code> </pre> <br><p>  In case the answer differs from <em>HTTP 200 OK</em> , Paddle will send a repeated request towards our server for 72 hours with an interval of once per hour. </p><br><p>  In the above request from Paddle, we are interested in the <em>alert_name</em> and <em>email</em> parameters that we will use to register users in our information systems. </p><br><h4>  Parse requests from Paddle </h4><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Event <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { AlertName <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"alert_name" binding:"required"`</span></span> Email <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"email" binding:"required"`</span></span> Status <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"status"`</span></span> SubscriptionId <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-string"><span class="hljs-string">`form:"subscription_id"`</span></span> OrderId <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"order_id"`</span></span> SubscriptionPlanId <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-string"><span class="hljs-string">`form:"subscription_plan_id"`</span></span> Country <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"country"`</span></span> Fee <span class="hljs-keyword"><span class="hljs-keyword">float32</span></span> <span class="hljs-string"><span class="hljs-string">`form:"fee"`</span></span> Currency <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"currency"`</span></span> Psignature <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"p_signature"`</span></span> Passthrough <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"passthrough"`</span></span> PaymentMethod <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"payment_method"`</span></span> PaymentTax <span class="hljs-keyword"><span class="hljs-keyword">float32</span></span> <span class="hljs-string"><span class="hljs-string">`form:"payment_tax"`</span></span> SaleGross <span class="hljs-keyword"><span class="hljs-keyword">float32</span></span> <span class="hljs-string"><span class="hljs-string">`form:"sale_gross"`</span></span> Earnings <span class="hljs-keyword"><span class="hljs-keyword">float32</span></span> <span class="hljs-string"><span class="hljs-string">`form:"earnings"`</span></span> EventTime <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"event_time"`</span></span> NextBillDate <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`form:"next_bill_date"`</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e *Event)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fields log.Fields)</span></span></span></span> { fields = <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(log.Fields) fields[<span class="hljs-string"><span class="hljs-string">"alert_name"</span></span>] = e.AlertName fields[<span class="hljs-string"><span class="hljs-string">"email"</span></span>] = e.Email fields[<span class="hljs-string"><span class="hljs-string">"status"</span></span>] = e.Status fields[<span class="hljs-string"><span class="hljs-string">"subscription_id"</span></span>] = e.SubscriptionId fields[<span class="hljs-string"><span class="hljs-string">"order_id"</span></span>] = e.OrderId fields[<span class="hljs-string"><span class="hljs-string">"subscription_plan_id"</span></span>] = e.SubscriptionPlanId fields[<span class="hljs-string"><span class="hljs-string">"country"</span></span>] = e.Country fields[<span class="hljs-string"><span class="hljs-string">"fee"</span></span>] = e.Fee fields[<span class="hljs-string"><span class="hljs-string">"currency"</span></span>] = e.Currency fields[<span class="hljs-string"><span class="hljs-string">"p_signature"</span></span>] = e.Psignature fields[<span class="hljs-string"><span class="hljs-string">"passthrough"</span></span>] = e.Passthrough fields[<span class="hljs-string"><span class="hljs-string">"payment_method"</span></span>] = e.PaymentMethod fields[<span class="hljs-string"><span class="hljs-string">"payment_tax"</span></span>] = e.PaymentTax fields[<span class="hljs-string"><span class="hljs-string">"sale_gross"</span></span>] = e.SaleGross fields[<span class="hljs-string"><span class="hljs-string">"earnings"</span></span>] = e.Earnings fields[<span class="hljs-string"><span class="hljs-string">"event_time"</span></span>] = e.EventTime fields[<span class="hljs-string"><span class="hljs-string">"next_bill_date"</span></span>] = e.NextBillDate <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre> <br><h4>  We perform request routing depending on the event </h4><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eventPOST</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c *gin.Context)</span></span></span></span> { status := []<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>{} c.Bind(&amp;event) log.WithFields(event.ToFields()).Info(<span class="hljs-string"><span class="hljs-string">"Processing event"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> event.AlertName { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"subscription_created"</span></span>: status = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(status, InviteToJira(event.Email)) status = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(status, AddToJiraGroup(event.Email)) status = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(status, InviteToSlack(event.Email)) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"payment_succeeded"</span></span>: status = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(status, InviteToJira(event.Email)) status = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(status, InviteToSlack(event.Email)) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"subscription_cancelled"</span></span>: status = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(status, RemoveFromJiraGroup(event.Email)) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: status = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(status, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"event"</span></span>: event.AlertName, }).Error(<span class="hljs-string"><span class="hljs-string">"Unknown event"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, s := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> status { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s == <span class="hljs-literal"><span class="hljs-literal">false</span></span> { c.String(http.StatusInternalServerError, <span class="hljs-string"><span class="hljs-string">"not Ok\n"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } } c.String(http.StatusOK, <span class="hljs-string"><span class="hljs-string">"Ok\n"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre> <br><p>  Further, depending on the received event, we will process them accordingly. </p><br><h4>  Inviting a user to Slack (community portal) </h4><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InviteToSlack</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(username </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span> { api := slack.New(Conf.Slack.Token) err := api.InviteToTeam(Conf.Slack.Team, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, username) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> strings.Contains(err.Error(), <span class="hljs-string"><span class="hljs-string">"already_in_team"</span></span>) { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, <span class="hljs-string"><span class="hljs-string">"slack_team"</span></span>: Conf.Slack.Team, }).Warn(<span class="hljs-string"><span class="hljs-string">"User already in Slack team"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> strings.Contains(err.Error(), <span class="hljs-string"><span class="hljs-string">"already_invited"</span></span>) { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, <span class="hljs-string"><span class="hljs-string">"slack_team"</span></span>: Conf.Slack.Team, }).Warn(<span class="hljs-string"><span class="hljs-string">"User already invited to Slack"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } log.Error(err) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, }).Warn(<span class="hljs-string"><span class="hljs-string">"User successfuly invited to Slack"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> }</code> </pre> <br><h4>  Inviting / registering a user to Jira (a system of recording appeals from users) </h4><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InviteToJira</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(username </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span> { jira := jira.New(Conf.Jira.Host, Conf.Jira.User, Conf.Jira.Password, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) _, err := jira.GetUser(username) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err.Error() == <span class="hljs-string"><span class="hljs-string">"Not Found"</span></span> { ok, err := jira.InviteSdUser(username, Conf.Jira.Invite_uri) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ok { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, }).Info(<span class="hljs-string"><span class="hljs-string">"Invited user to JIRA"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, <span class="hljs-string"><span class="hljs-string">"error"</span></span>: err, }).Error(<span class="hljs-string"><span class="hljs-string">"Invite to JIRA Failed"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { log.Error(err) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, }).Warn(<span class="hljs-string"><span class="hljs-string">"User already Invited to JIRA"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> }</code> </pre> <br><h4>  Add user to Jira group (commercial support) </h4><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddToJiraGroup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(username </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span> { jira := jira.New(Conf.Jira.Host, Conf.Jira.User, Conf.Jira.Password, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) ok, err := jira.AddToGroup(username, Conf.Jira.Invite_group) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ok { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, <span class="hljs-string"><span class="hljs-string">"group"</span></span>: Conf.Jira.Invite_group, }).Info(<span class="hljs-string"><span class="hljs-string">"Added user to Jira Group"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, <span class="hljs-string"><span class="hljs-string">"group"</span></span>: Conf.Jira.Invite_group, <span class="hljs-string"><span class="hljs-string">"error"</span></span>: err, }).Error(<span class="hljs-string"><span class="hljs-string">"Failed to add user to Jira Group"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }</code> </pre> <br><h4>  Remove user from Jira group (commercial support) </h4><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RemoveFromJiraGroup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(username </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span> { jira := jira.New(Conf.Jira.Host, Conf.Jira.User, Conf.Jira.Password, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) ok, err := jira.RemoveFromGroup(username, Conf.Jira.Invite_group) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ok { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, <span class="hljs-string"><span class="hljs-string">"group"</span></span>: Conf.Jira.Invite_group, }).Info(<span class="hljs-string"><span class="hljs-string">"Removed user from Jira Group"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { log.WithFields(log.Fields{ <span class="hljs-string"><span class="hljs-string">"user"</span></span>: username, <span class="hljs-string"><span class="hljs-string">"group"</span></span>: Conf.Jira.Invite_group, <span class="hljs-string"><span class="hljs-string">"error"</span></span>: err, }).Error(<span class="hljs-string"><span class="hljs-string">"Failed to remove User from Jira Group"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }</code> </pre> <br><h2>  Used modules (main) </h2><br><ul><li>  <a href="https://gin-gonic.github.io/gin/">Gin web framework</a> </li><li>  <a href="https://github.com/BurntSushi/toml">TOML</a> </li><li>  <a href="https://github.com/Sirupsen/logrus">Logrus logger for go</a> </li><li>  <a href="https://github.com/nathan-jones/jira">Jira</a> </li><li>  <a href="https://github.com/nlopes/slack">Slack</a> </li></ul><br><h2>  Conclusion </h2><br><p>  The source code for the solution described above is available on GitHub: <a href="https://github.com/PagerIM/paddle-endpoint">paddle-endpoint</a> . </p><br><p>  Thank you for attention! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/307344/">https://habr.com/ru/post/307344/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307334/index.html">Threejs editor</a></li>
<li><a href="../307336/index.html">Physicists from the Delft University of Technology have created an atomic data warehouse</a></li>
<li><a href="../307338/index.html">Setting up wifi authorization via sms under ubuntu 16.04</a></li>
<li><a href="../307340/index.html">We control the computer through a browser</a></li>
<li><a href="../307342/index.html">Kerio Control 9.1 opens up new next-generation firewall (NGFW) capabilities for SMB companies</a></li>
<li><a href="../307346/index.html">CodeRush for Roslyn: Part 3 - an overview of the possibilities for learning code</a></li>
<li><a href="../307348/index.html">How to gain courage and open a store</a></li>
<li><a href="../307350/index.html">How I went to the States in 2000 and what happened next</a></li>
<li><a href="../307352/index.html">We draw 3D on an oscillograph</a></li>
<li><a href="../307354/index.html">All programmers think that C ++ supports OOP, except the OOP author.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>