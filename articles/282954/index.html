<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Component "Ordering" in the new version of the platform "1C-Bitrix" (part 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article, we looked at the process of installing a new ordering component. He had a run around on the project for several days, and it ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Component "Ordering" in the new version of the platform "1C-Bitrix" (part 2)</h1><div class="post__text post__text-html js-mediator-article">  In the previous article, we looked at the process of installing a new ordering component.  He had a run around on the project for several days, and it was time to take advantage of the opportunities for which it was worth switching to the 1C-Bitrix platform. <br><a name="habracut"></a><br><h3>  Automatic city substitution by default </h3><br>  This example will be useful for both small regional stores and large projects. <br><br>  Delivery region is the first of the main elements of the order process.  Suppose we need to use the automatic substitution of the name "Kaliningrad" to increase conversion and reduce problems with order processing. <br><br>  Now at the first entrance, it looks like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/bdf/340/009/bdf340009dde4773980d48dddd4ba64d.jpg"><br><br>  Of course, customers can click on the ‚ÄúKaliningrad‚Äù button, after which the field will be filled in, but many simply skip this step, as a result of receiving an error: <br><br><img src="https://habrastorage.org/files/937/e91/308/937e91308899471eaaec627d92e45abc.jpg"><br><br>  This problem has been identified by Metrica Webvisor.  Of course, after this, the client already fills everything correctly, but the sediment remains, despite the fact that in many stores the important criterion is self-delivery (up to 80% of orders), and in this case the correctness of filling the city name is not critical. <br><br>  Let's set the default city and see if the substitution works.  Go to the administrative section of the store, and then to the properties settings: <br><br><img src="https://habrastorage.org/files/380/ba2/dcb/380ba2dcb7fa457499d6da3bf0e5af7d.jpg"><br><br>  And configure the default location: <br><br><img src="https://habrastorage.org/files/2b8/951/6ff/2b89516ffa9240ac97f4187627c1fa0f.jpg"><br><br>  Now for checkout we will place an order: <br><br><img src="https://habrastorage.org/files/f78/2bb/078/f782bb078ba34988a7db7a567da09e4c.jpg"><br><br>  Great, the location is filled and the client just click "Next".  Now the order will be processed with minimal inconvenience for the client, and we will maximize the conversion.  As for large stores, they can collect statistics on the frequency of orders from various cities, and make quick selection buttons, as in the screenshot: ‚ÄúKaliningrad‚Äù, ‚ÄúZelenogradsk‚Äù, ‚ÄúSvetlogorsk‚Äù. <br><br>  You can set the most popular city by default, because it is always easier to change it or specify by phone than to lose a client. <br><br><h3>  Additional payment restrictions </h3><br>  The next step in placing an order is a block with payment.  One type of restriction may be a ban on cash payments upon delivery by courier.  This can be useful in cases where women work as careers whose health does not want to risk when transporting large sums. <br><br>  We introduce a restriction with reference to certain delivery services and the maximum amount of the check.  To do this, go to the administrative interface on the tab "Restrictions" for a specific method of payment: <br><br><img src="https://habrastorage.org/files/53a/d61/99a/53ad6199a50e491e99b5f51b229a5bc7.jpg"><br><br>  In this case, you will need to make two cash payment systems: <br><br><ul><li>  in one we limit the use for the pick-up point, but without price restrictions, </li><li>  and in the second we will be limited to courier services, and add a limit on the amount. </li></ul><br>  First we set a price limit: <br><br><img src="https://habrastorage.org/files/cf1/6c4/e8a/cf16c4e8a3b444999da7f1707c1747b6.jpg"><br><br>  Now delivery restrictions: <br><br><img src="https://habrastorage.org/files/550/19c/732/55019c7329c24bcba633350f6a341bab.jpg"><br><br>  As a result, we get the following: <br><br><img src="https://habrastorage.org/files/3bc/605/e2a/3bc605e2ab69479ab5fefe54697e95e5.jpg"><br><br>  Check the order with goods worth less than 10,000 rubles and delivery by courier: <br><br><img src="https://habrastorage.org/files/8b1/3c2/3c9/8b13c23c965640f18183c917574bed3f.jpg"><br><br>  Everything is fine, the required payment is, the order can be issued. <br><br>  Check with the goods more than 10 000 rubles: <br><br><img src="https://habrastorage.org/files/cc8/190/55c/cc819055c9494a4ca507bb90a62eeaa8.jpg"><br><br>  Remarkably, there is no cash payment, you can place an order with payment in other ways, without risking couriers and money. <br><br>  When restrictions are imposed, customers do not see ‚Äúforbidden‚Äù payment methods and therefore will not swear with operators, who otherwise would have to constantly explain why your company is not lucky with the order. <br><br><h3>  Additional services in deliveries </h3><br>  We were often asked to give the opportunity to create the required services in deliveries.  In the new platform it was implemented.  Advantage of additional services is to increase the average check of the order. <br><br>  Go to the delivery settings: <br><br><img src="https://habrastorage.org/files/07e/de0/825/07ede082547146508046b1c64da69d77.jpg"><br><br>  The interface has a separate tab with additional services that will be displayed in the delivery unit.  Three types of services are supported: <br><br><ul><li>  <b>List of services</b> .  The client is invited to select an item from the list of services.  By default, the first item is selected, so if you do not need to increase the price, then the first service in the list should be with a zero price. <br><br><img src="https://habrastorage.org/files/745/b71/109/745b711098434b1f8f46c89c8c3c6831.jpg"></li><li>  <b>Quantitative service</b> .  A service with a unit price is created, and the customer can indicate how much he needs. <br><br><img src="https://habrastorage.org/files/376/e20/58f/376e2058f7904357a02991ab52673299.jpg"></li><li>  <b>Single service</b> .  Self service, displayed as a check box.  The default is not applied, the client must choose the right one. <br><br><img src="https://habrastorage.org/files/12a/a1b/4e0/12aa1b4e00844610af9264a1740c3599.jpg"></li></ul><br>  Let's see how these rules are configured: <br><br><img src="https://habrastorage.org/files/895/f8a/85f/895f8a85fafa46939da12317a9cd8728.jpg"><br><br>  The settings for all types of services are very similar: there are two blocks that control the basic elements.  First of all, you need to specify the name and description of the service.  Then specify who can use the service: <br><br><ul><li>  Manager - the service will be displayed in the administrative interface. </li><li>  Client - the service will be displayed during the ordering process in the public part of the site. </li></ul><br>  This is how adding a service in the administrative interface, when creating an order or making edits: <br><br><img src="https://habrastorage.org/files/18f/e87/b2e/18fe87b2eda44bb4b0ef18c7fbd2e872.jpg"><br><br><h3>  Dynamic "Enter your personal data" </h3><br>  Deliveries are made, now you can go to one of the most important elements in the design of the order - the request from the user data for delivery or shipment.  In the previous component, the client requested the same set of fields.  He had to choose which fields to fill out, which is somewhat inconvenient. <br><br>  The new checkout component is able to request different sets of fields.  Most often, shop owners reduce the amount of information that must be entered during pickup.  Perhaps in this case it will be enough for us to know: <br><br><ul><li>  FULL NAME. </li><li>  Phone. </li><li>  Email  This item can also be removed, but sometimes you want to "pamper" the client with newsletters about updates. </li></ul><br>  Let's go to the administrative section ‚ÄúOrder Properties‚Äù -&gt; ‚ÄúProperty List‚Äù, and choose to change the property address: <br><br><img src="https://habrastorage.org/files/0b1/ce0/56a/0b1ce056a8f342d88f6f238b0122da4c.jpg"><br><br>  We tie only those "Delivery Services", which should display this field.  Then we go to the public section and try to place an order.  We choose pickup and see that the store does not ask us for the delivery address. <br><br><img src="https://habrastorage.org/files/c72/de5/d9f/c72de5d9fe444ebc8c524a109c4d8b56.jpg"><br><br>  This is a useful and long-awaited functionality.  You must agree that it is not too pleasant to answer customer questions: ‚ÄúWhy do you need my address if I am going to pick up an order on my own?‚Äù  Now this is not required. <br><br><h3>  Item issuing order </h3><br>  Finally, I would like to talk about the changes in the selection block of the ‚ÄúOrder Issue Points‚Äù.  In the previous version, the main complaints were problems with the display of a large number of pickup points, a small map, the lack of automatic selection of a pickup point (if it was one, for example). <br><br>  In the new version of the component, the setting of the way of displaying the point of issue of orders appeared.  If it is the only one in any city, then we immediately show the minimized block and display all its data with a picture, or show the block unfolded.  In the first case, to display the map, you will need to enter the block, and in the second, the map will be immediately displayed. <br><br>  Let's implement the first option: <br><br><img src="https://habrastorage.org/files/81d/ec9/13d/81dec913da684d9186cb4965ea60738d.jpg"><br><br>  If you display the block deployed, the client will see the following picture: <br><br><img src="https://habrastorage.org/files/7db/44c/b94/7db44cb94f894ae1b3fc07aae26407f3.jpg"><br><br>  On this we end our small tutorial.  We will continue to acquaint you with the features of new versions of our products, follow our blog. </div><p>Source: <a href="https://habr.com/ru/post/282954/">https://habr.com/ru/post/282954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282940/index.html">How to write an IO monad in C # (not) without the help of a parallel universe and time machine</a></li>
<li><a href="../282944/index.html">About order management on the new 1C-Bitrix platform</a></li>
<li><a href="../282946/index.html">Quick transition to a new platform</a></li>
<li><a href="../282948/index.html">Component "Ordering" in the new version of the platform "1C-Bitrix" (part 1)</a></li>
<li><a href="../282950/index.html">5 worthy exploring open source projects at React Native</a></li>
<li><a href="../282958/index.html">Myths and legends about overflowing integers in Rust</a></li>
<li><a href="../282960/index.html">Android N: how Google "tightens the screws"</a></li>
<li><a href="../282962/index.html">Domains: Internet history</a></li>
<li><a href="../282968/index.html">Web performance: Why Performance Matters</a></li>
<li><a href="../282972/index.html">Uvloop released - advanced event loop implementation for asyncio in Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>