<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Classic approach to dependency management versus RequireJS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello World, 

 Helios Kernel is a library for managing dependencies between javascript modules, implementing the ‚Äúclassic‚Äù approach, often found in o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Classic approach to dependency management versus RequireJS</h1><div class="post__text post__text-html js-mediator-article">  Hello World, <br><br>  <a href="http://asvd.github.io/helios-kernel/">Helios Kernel</a> is a library for managing dependencies between javascript modules, implementing the ‚Äúclassic‚Äù approach, often found in other languages ‚Äã‚Äãand environments - using the include () function. <br><br>  This method differs from other approaches in its simplicity: dependencies are listed at the beginning of the module along the exact path to the file, the module body contains code that is executed after loading the module dependencies. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Helios Kernel adheres to the <a href="http://en.wikipedia.org/wiki/KISS_principle">KISS</a> principle, so there are some missing opportunities here that are commonly expected from a dependency management library.  When using Helios Kernel, you do not need to describe the config with the rules for finding paths for different modules, or export library functions through a special object.  But this library was written just because I wanted to simply plug in the necessary modules and write code, without running into abrupt opportunities with the indication of each new dependency. <br><br>  Helios Kernel supports dynamic loading (and unloading) of dependencies in runtime, and the library itself and the format of the modules are compatible between nodejs and the browser environment ‚Äî that is, the modules can be used without modification or translation. <br><br>  In this article, the classic approach implemented in Helios Kernel is compared with dependency management using <a href="http://requirejs.org/">RequireJS</a> and shows how the Helios Kernel approach allows you to avoid some difficulties. <br><br><a name="habracut"></a><br><h5>  Introduction </h5><br>  Helios Kernel has such features: <br><br><ul><li>  Dependencies are determined using the include () function in the module header.  The exact relative path to the file is used as an argument. <br></li><li>  After listing the dependencies, the init () function is defined, which contains the module code.  This code will be executed after all dependencies are loaded. <br></li></ul><br><br>  Therefore, the description of the relationship between the two modules is as follows. <br><br>  The library module myLibrary.js, which declares some functionality: <br><br><pre><code class="javascript hljs">init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  ()   myLibrary = {}; //   myLibrary.writeHello = function() { console.log("Hello World!"); } }</span></span></code> </pre> <br><br>  And the module connects and uses this library: <br><br><pre> <code class="javascript hljs">include(<span class="hljs-string"><span class="hljs-string">"path/to/myLibrary.js"</span></span>); init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        myLibrary.writeHello(); }</span></span></code> </pre><br><br>  Here, to ‚Äúexport‚Äù a library object, the definition of the myLibrary global variable in the first module is used.  Now this method is considered to be ‚Äúwrong‚Äù, because global objects can be accessed from anywhere.  But I use it here because it is most illustrative as an example.  Helios Kernel does not impose any restrictions on the way objects are transferred between modules: there can be any code inside the init function.  Including there you can define a function-factory, which will return only the ‚Äúexported object‚Äù. <br><br>  But if you only need to define the local variables of the module, for this you can use the scope of the function init (). <br><br>  Next, I will give examples in which the use of Helios Kernel makes the code easier compared to RequireJS <br><br><h5>  Module descriptions </h5><br>  The description format of the module with dependencies is as follows: <br><br><table><tbody><tr><th>  RequireJS </th><th>  Helios kernel </th></tr><tr><td><pre> <code class="javascript hljs">define( <span class="hljs-comment"><span class="hljs-comment">//  ['fooLibrary', 'barLibrary'], function( foo, bar ){ //  foo.doSomething(); } );</span></span></code> </pre><br></td><td><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  include("path/to/fooLibrary.js"); include("path/to/barLibrary.js"); init = function() { //  foo.doSomething(); }</span></span></code> </pre><br></td></tr></tbody></table><br><br>  The way of exporting library objects used in RequireJS makes it necessary to specify the name of the dependency twice - once the name of the module where the dependency is located, the second time - the name of the argument where this dependency will be exported. <br><br>  This especially complicates the readability of RequireJS modules when there are more dependencies: <br><br><table><tbody><tr><th>  RequireJS </th><th>  Helios kernel </th></tr><tr><td><pre> <code class="javascript hljs">define( [ <span class="hljs-string"><span class="hljs-string">'dep1'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep2'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep3'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep4'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep5'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep6'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep7'</span></span> ], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> dep1, dep2, dep3, dep4, dep5, dep6, dep7</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } );</span></span></code> </pre><br></td><td><pre> <code class="javascript hljs">include(<span class="hljs-string"><span class="hljs-string">"deps/dep1.js"</span></span>); include(<span class="hljs-string"><span class="hljs-string">"deps/dep2.js"</span></span>); include(<span class="hljs-string"><span class="hljs-string">"deps/dep3.js"</span></span>); include(<span class="hljs-string"><span class="hljs-string">"deps/dep4.js"</span></span>); include(<span class="hljs-string"><span class="hljs-string">"deps/dep5.js"</span></span>); include(<span class="hljs-string"><span class="hljs-string">"deps/dep6.js"</span></span>); include(<span class="hljs-string"><span class="hljs-string">"deps/dep7.js"</span></span>); include(<span class="hljs-string"><span class="hljs-string">"deps/dep8.js"</span></span>); init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre><br></td></tr></tbody></table><br><br>  In order to simplify such code, RequireJS even came up with an alternative way to describe dependencies, the <a href="http://requirejs.org/docs/api.html">simplified CommmonJS</a> .  Using this technique, you can describe dependencies as follows: <br><br><pre> <code class="javascript hljs">define( [ <span class="hljs-string"><span class="hljs-string">'dep1'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep2'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep3'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep4'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep5'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep6'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep7'</span></span> ], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">require</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dep1 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'dep1'</span></span>), dep2 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'dep2'</span></span>), dep3 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'dep3'</span></span>), dep4 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'dep4'</span></span>), dep5 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'dep5'</span></span>), dep6 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'dep6'</span></span>), dep7 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'dep7'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ... } });</span></span></code> </pre><br><br>  Such a record allows you to slightly simplify the formatting and improve readability, but even here you have to mention the name of dependencies several times.  In addition, this syntactic sugar adds another complication in the form of another way of addressing dependencies. <br><br>  Helios Kernel allows you to avoid all this.  Additional dependency requires only one mention with include (). <br><br><h5>  Creating Collecting Modules </h5><br>  Suppose there are several modules that are often used together in many parts of a project.  Or there is a library that consists of several parts, and you need to get all these parts at once.  The easiest way to get multiple modules is to connect them all clearly every time where they are needed. <br><br>  But a big project is divided into modules in order not to duplicate the extra code.  Therefore, you can write one common module that will connect the rest. <br><br>  However, in the case of RequireJS, it will be necessary to still export the required dependencies and ‚Äúforward‚Äù them through the exported common module object. <br><br>  In the case of Helios Kernel, it‚Äôs enough just to list the dependencies: <br><br><table><tbody><tr><th>  RequireJS </th><th>  Helios kernel </th></tr><tr><td><pre> <code class="javascript hljs">define( <span class="hljs-string"><span class="hljs-string">'depCommon'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'dep1'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep2'</span></span>, <span class="hljs-string"><span class="hljs-string">'dep3'</span></span> ], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> dep1, dep2, dep3 </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">dep1</span></span> : dep1, <span class="hljs-attr"><span class="hljs-attr">dep2</span></span> : dep2, <span class="hljs-attr"><span class="hljs-attr">dep3</span></span> : dep3 } } );</code> </pre><br></td><td><pre> <code class="javascript hljs">include(<span class="hljs-string"><span class="hljs-string">'deps/dep1.js'</span></span>); include(<span class="hljs-string"><span class="hljs-string">'deps/dep2.js'</span></span>); include(<span class="hljs-string"><span class="hljs-string">'deps/dep3.js'</span></span>);</code> </pre><br></td></tr></tbody></table><br><br>  For a common module written in the Helios Kernel format, it is not even necessary to describe the function init ().  It also simplifies readability - if you look at the code of this module - you can immediately see that it does not perform any actions, but only connects additional modules. <br><br>  But in the case of the common module with RequireJS, you will also have to rewrite all cases of its export.  If earlier it was necessary to refer to the individual exported parts as dep1, dep2, ..., now it needs to be replaced by depCommon.dep1, depCommon.dep2, ... <br><br><h5>  Ease of use of regular javascript libraries </h5><br>  We are talking about libraries that are supposed to be connected to an html page using the script tag. <br><br>  The format of the Helios Kernel module is much closer to regular libraries, because any code can be contained within the init () function.  Therefore, in order to turn a regular library into a module, it is enough to wrap it in the definition of the function init (), and after that it can be connected using include (). <br><br>  In the case of RequireJS, converting the library into a module is much more difficult, because the module must export the objects to be defined and refactoring would have to be done.  Instead, it is proposed to describe the module in the config using the <a href="http://requirejs.org/docs/api.html">shim</a> attribute.  However, even this approach <a href="http://esa-matti.suuronen.org/blog/2013/03/22/journey-from-requirejs-to-browserify/">can lead to problems</a> . <br><br><h5>  Easy porting between the web and nodejs </h5><br>  In order to use the RequireJS modules on the server in the nodejs environment, you can use the <a href="http://requirejs.org/docs/node.html">r.js</a> library, which allows you to connect such modules to nodejs. <br><br>  In the opposite direction: a project written in the format of the CommonJS modules used in the node can be converted to a web library using <a href="http://browserify.org/">browserify</a> .  But it will not be a module, but a big bundle, connected with the script tag (or the shim config in RequireJS). <br><br>  Helios Kernel simplifies this task due to the fact that the modules work without changes and conversions on both platforms. <br><br>  Website: <a href="http://asvd.github.io/helios-kernel/">http://asvd.github.io/helios-kernel/</a> <br>  Code: <a href="">https://github.com/asvd/helios-kernel/releases/download/v0.9.5/helios-kernel-0.9.5.tar.gz</a> <br>  GitHub: <a href="https://github.com/asvd/helios-kernel">https://github.com/asvd/helios-kernel</a> </div><p>Source: <a href="https://habr.com/ru/post/199162/">https://habr.com/ru/post/199162/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../199148/index.html">How I did the second monitor from the laptop display</a></li>
<li><a href="../199150/index.html">Google: control quality of robotic cars is higher than that of live drivers</a></li>
<li><a href="../199152/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 80 (October 20 - 26, 2013)</a></li>
<li><a href="../199158/index.html">LTE in Omsk</a></li>
<li><a href="../199160/index.html">The story of a graduate school in the United States. Part 4.2: What next? (continuation and special version for IT specialists)</a></li>
<li><a href="../199164/index.html">Offline installation of OS X, without OS X</a></li>
<li><a href="../199168/index.html">Unity Game Starter Kit for Windows Store and Windows Phone Store</a></li>
<li><a href="../199170/index.html">Adaptation of innovations for kickbacks on the example of "Epiphan Distance Doc 2"</a></li>
<li><a href="../199172/index.html">Internet Archive allows you to run Atari-games and old software directly in the browser</a></li>
<li><a href="../199174/index.html">Is Google building a floating data center in San Francisco Bay?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>