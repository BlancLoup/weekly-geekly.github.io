<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a clean CSS template for Joomla 1.5 - part 2.4</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Previous articles: 
 Creating a Joomla Template by Standards - Part 1 
 Creating a Jooml template by standards - part 1 (continued) 
 Creating a clean...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a clean CSS template for Joomla 1.5 - part 2.4</h1><div class="post__text post__text-html js-mediator-article">  Previous articles: <br>  <a href="http://mancocapac.habrahabr.ru/blog/41213/">Creating a Joomla Template by Standards - Part 1</a> <br>  <a href="http://mancocapac.habrahabr.ru/blog/41215/">Creating a Jooml template by standards - part 1 (continued)</a> <br>  <a href="http://mancocapac.habrahabr.ru/blog/42401/">Creating a clean CSS template for Joomla 1.5 - part 2.1</a> <br>  <a href="http://mancocapac.habrahabr.ru/blog/42403/">Creating a clean CSS template for Joomla 1.5 - part 2.2</a> <br>  <a href="http://mancocapac.habrahabr.ru/blog/44864/">Creating a clean CSS template for Joomla 1.5 - part 2.3</a> <br><br><h5>  Hiding speakers </h5><br>  Until now, we meant that our design will always contain three columns, regardless of whether they contain any content.  From the point of view of the Joomla template, this is not very convenient.  In a static site, the content never changes, but we want to provide site administrators with the opportunity to place their content in any place they want, and so that they don‚Äôt have to worry about editing the CSS markup.  We need the ability to ‚Äúturn off‚Äù the column automatically or ‚Äúroll it up‚Äù if it does not contain content. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When developing the template engine in Joomla 1.5, many improvements have been made.  We quote directly from the Joomla developer blog: <br><br><pre> Changes in the template system in Joomla 1.5 can be divided into two categories.  First of all, there are changes in how some things were done before in Joomla 1.0, for example, a new way of loading modules, and secondly, many new features were added, for example, template parameters.

 mosCountModules
 The mosCountModules function has been replaced by the $ this-&gt; countModules function and condition support has been added to it.  This allows developers to easily calculate the total number of modules in different template positions with a single line of code, for example, $ this-&gt; countModules ('user1 + user2') will return the total number of modules in user1 and user2 positions.
</pre><br><br>  <strong>Note</strong> <br>  Additional information is available in the Joomla forum. <br><br>  Thus, the typical use of countModules would be: <br><br><pre> &lt;? php if ($ this-&gt; countModules ('condition')):?&gt;
    do something
 &lt;? php else:?&gt;
    do something else
 &lt;? php endif;  ?&gt;
</pre><br><br>  There are 4 possible conditions.  As an example, let's calculate the number of modules in the previous figure.  We need to paste this code somewhere in index.php: <br><br><pre> left = &lt;? php echo $ this-&gt; countModules ('left');?&gt; &lt;br /&gt;
 left and right = &lt;? php echo $ this-&gt; countModules ('left and right');?&gt; &lt;br /&gt;
 left or right = &lt;? php echo $ this-&gt; countModules ('left or right');?&gt; &lt;br /&gt;
 left + right = &lt;? php echo $ this-&gt; countModules ('left + right');?&gt;
</pre><br><br><ul><li>  countModules ('left').  Returns 4;  on the left there are 4 modules. </li><li>  countModules ('left and right').  Returns 1;  one module is present in both left and right position. </li><li>  countModules ('left or right').  Returns 1;  one module is present in the left or right position. </li><li>  countModules ('left + right').  Returns 7;  counts all modules in the left and right positions </li></ul><br><br>  In this situation, we need a function that allows us to count the modules that are present in a certain position.  For example, if there is no content published in the right column, we can adjust the size of the column to fill this space. <br><br>  There are several ways to do this.  We can insert a conditional expression in the body to not display the content, and define different styles for the content depending on which column it is in.  For maximum convenience, I defined several conditional expressions in the head tag to vary some CSS styles: <br><br><pre> &lt;? php
 if ($ this-&gt; countModules ('left and right') == 0) $ contentwidth = "100";
 if ($ this-&gt; countModules ('left or right') == 1) $ contentwidth = "80";
 if ($ this-&gt; countModules ('left and right') == 1) $ contentwidth = "60";
 ?&gt;
</pre><br><br>  So we consider: <br><ul><li>  If there is nothing left or right, we have 100% </li><li>  If something is left or right, we have 80% </li><li>  If there is something left and right, we have 60% </li></ul><br><br>  After that, you need to change the div for the content in index.php as follows: <br><br><pre>   &lt;div id = "content &lt;? php echo $ contentwidth;?&gt;"&gt;
</pre><br><br>  In doing so, we change the CSS markup as follows: <br><br><pre> # content60 {float: left; width: 60%; overflow: hidden;}
 # content80 {float: left; width: 80%; overflow: hidden;}
 # content100 {float: left; width: 100%; overflow: hidden;}
</pre><br><br>  The PHP conditional expression should be written to head immediately after the link to the template.css file appears.  This is due to the fact that when two identical CSS rules occur, the last one of them will be executed.  This could be done in a similar style using an if expression when importing a CSS file. <br><br>  <strong>Hint:</strong> <br>  When solving problems with conditional expressions, it is useful to insert such a line of code in index.php to display the value of a variable: <br><br><pre> Content column width: &lt;? Php echo $ contentwidth;  ?&gt;% 
</pre><br><br>  We are halfway there, but we still need to clear the div containers that contain the columns. <br><br><h5>  Hiding module code </h5><br>  When creating collapsible columns, it will be a good practice to ensure that modules are not generated if there is no content for them.  If this is not done, the pages will have empty &lt;div&gt; &lt;/ div&gt;, which can lead to cross-browser problems. <br><br>  To hide empty &lt;div&gt;, use the following expression: <br><br><pre>   &lt;? php if ($ this-&gt; countModules ('left')):?&gt;
   &lt;div id = "sidebar"&gt;
     &lt;div class = "inside"&gt;
       &lt;jdoc: include type = "modules" name = "left" style = "xhtml" /&gt;
     &lt;/ div&gt;
   &lt;/ div&gt;
   &lt;? php endif;  ?&gt;
</pre><br><br>  When using this code, if nothing should be published on the left, then &lt;div id = "sidebar"&gt; will also not be displayed. <br><br>  Using these techniques for the left and right columns, our index.php will look like this.  We also added an include for the breadcrumbs module, which displays the current page and the path to it through the site.  Please note that it should now also be included in index.php and published as a module. <br><br><pre> &lt;? php // no direct access defined ('_JEXEC') or die ('Restricted access');  ?&gt;
 &lt;! DOCTYPE html PUBLIC "- // W3C // DTD XHTML 1.0
 Transitional // EN "" http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd "&gt;
 &lt;html xmlns = "http://www.w3.org/1999/xhtml"
 xml: lang = "&lt;? php echo $ this-&gt; language;?&gt;"
 lang = "&lt;? php echo $ this-&gt; language;?&gt;"&gt;
 &lt;head&gt;
 &lt;jdoc: include type = "head" /&gt;
 &lt;link rel = "stylesheet" href = "/ templates / system / css / system.css" type = "text / css" /&gt;
 &lt;link rel = "stylesheet" href = "/ templates / system / css / general.css" type = "text / css" /&gt;
 &lt;link rel = "stylesheet" href = "/ templates / &lt;? php echo $ this-&gt; template?&gt; / css / template.css" type = "text / css" /&gt;
 &lt;? php if ($ this-&gt; countModules ('left and right') == 0) $ contentwidth = "100";  if ($ this-&gt; countModules ('left or right') == 1) $ contentwidth = "80";  if ($ this-&gt; countModules ('left and right') == 1) $ contentwidth = "60";  ?&gt;
 &lt;/ head&gt;
 &lt;body&gt;
 &lt;div id = "wrap"&gt;
   &lt;div id = "header"&gt; &lt;div class = "inside"&gt; &lt;h1&gt; &lt;? php echo $ mainframe-&gt; getCfg ('sitename');?&gt; &lt;/ h1&gt;
       &lt;jdoc: include type = "modules" name = "top" style = "xhtml" /&gt; &lt;/ div&gt;
   &lt;/ div&gt;
   &lt;? php if ($ this-&gt; countModules ('left')):?&gt;
   &lt;div id = "sidebar"&gt; &lt;div class = "inside"&gt;
       &lt;jdoc: include type = "modules" name = "left" style = "xhtml" /&gt; &lt;/ div&gt;
   &lt;/ div&gt;
   &lt;? php endif;  ?&gt;
 &lt;div id = "content &lt;? php echo $ contentwidth;?&gt;"&gt; &lt;div class = "inside"&gt;
       &lt;jdoc: include type = "module" name = "breadcrumbs" style = "none" /&gt;
       &lt;jdoc: include type = "component" /&gt; &lt;/ div&gt;
   &lt;/ div&gt;
 &lt;? php if ($ this-&gt; countModules ('right')):?&gt;
   &lt;div id = "sidebar-2"&gt; &lt;div class = "inside"&gt;
       &lt;jdoc: include type = "modules" name = "right" style = "xhtml" /&gt; &lt;/ div&gt;
   &lt;/ div&gt;
   &lt;? php endif;  ?&gt;
   &lt;? php if ($ this-&gt; countModules ('footer')):?&gt;
   &lt;div id = "footer"&gt; &lt;div class = "inside"&gt;
       &lt;jdoc: include type = "modules" name = "footer" style = "xhtml" /&gt; &lt;/ div&gt;
   &lt;/ div&gt;
   &lt;? php endif;  ?&gt;
 &lt;! - end of wrap -&gt;
 &lt;/ body&gt;
 &lt;/ html&gt;
</pre><br><br><h5>  What you need to know </h5><br>  Elements such as columns or positions for modules can be hidden (or collapsed) when there is no content for them.  This is done using PHP conditional expressions that are sacred with different CSS styles. <br><br>  I would recommend a slightly different way to display a basement.  In the style shown here, it is hard-coded in the index.php file, which makes it difficult to make changes.  Currently, the ‚Äúfooter‚Äù module in the admin interface shows Joomla copyright and cannot be easily changed.  It makes sense to create your own (X) HTML module, located in the footer position, so that the site administrator can easily change it.  If you want to display your own basement, you simply disable the display of this module and create your own custom html module in the language you want. <br><br>  In this case, we are replacing <br><br><pre>       &lt;jdoc: include type = "modules" name = "footer" style = "xhtml" /&gt;
</pre><br><br>  on <br><br><pre>       &lt;jdoc: include type = "modules" name = "bottom" style = "xhtml" /&gt;
</pre><br><br>  We also need to remember to add this position to the templateDetails.xml file. <br><br>  <strong>Hint:</strong> <br>  There are a number of names associated with modules in Joomla: banner, left, right, user1, footer, etc.  It is important to understand that these names are not responsible for a particular location at all.  You can place them in a place that matches its name, but this is not necessary. <br><br>  This basic example demonstrates the basic principles of creating a Joomla template. <br><br><h5>  CSSTemplateTutorialStep2 </h5><br>  Now we have a basic, but already functional template.  Simple textual content was added, but the most important thing is that we created a clean CSS design with collapsible columns.  I made an installable template that you can find in our library [translator's note: all templates from this manual are available for download at the link: <a href="http://www.compassdesigns.net/downloads/file/21-csstemplatetutorials1-4.html">www.compassdesigns.net/downloads/file/21-csstemplatetutorials1-4.html</a> ]. <br><br>  <a href="http://mancocapac.habrahabr.ru/blog/47649/">Continuation here</a> <br><br></div><p>Source: <a href="https://habr.com/ru/post/44866/">https://habr.com/ru/post/44866/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../448648/index.html">How to spread all on science and not to turn the office into a hotbed of hatred</a></li>
<li><a href="../448652/index.html">Mozilla WebThings on Raspberry Pi - Getting Started</a></li>
<li><a href="../448654/index.html">Mozilla WebThings - gateway setup</a></li>
<li><a href="../448656/index.html">Big Brother is watching yourself ... or a map with a history of movements in HomeAssistant</a></li>
<li><a href="../448658/index.html">What can be done through the OBD connector in the car</a></li>
<li><a href="../448660/index.html">In this position, you will be a bad developer.</a></li>
<li><a href="../448662/index.html">"Russia 404": the option is not for show</a></li>
<li><a href="../448664/index.html">Making cards like Tinder on Swift</a></li>
<li><a href="../448666/index.html">How we chose the service for electronic document management with customers</a></li>
<li><a href="../448668/index.html">Agile: the biggest ideological issue in IT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>