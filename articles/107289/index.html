<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Moderated Brush Collection for GIMP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, I want to tell you today about one non-commercial project. 

 For those who are not in the subject: there is an open-source image editor called...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Moderated Brush Collection for GIMP</h1><div class="post__text post__text-html js-mediator-article">  Hello, I want to tell you today about one non-commercial project. <br><br>  For those who are not in the subject: there is an open-source image editor called <a href="http://ru.wikipedia.org/wiki/GIMP">Gimp</a> .  To tell about it, a site was created for ordinary people, on which lessons and descriptions of this editor were posted.  But it will not be about the site itself. <br><br>  The editor uses its own brush format.  The thought came about creating a catalog in which one could search for the necessary brushes and quickly download them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What are the advantages of the project for users: <ul><li>  Refusal of the system "packages of brushes."  A person will only download brushes that interest him. </li><li>  Selection of brushes by filters and keywords.  What we will implement in GIMP 2.8 we tried to implement on the site pages. </li><li>  Easy browsing brushes.  The user sees the brush before downloading.  Can change the color of the brush and see it in full size. </li><li>  Before downloading, the user can try out the brush in action.  Draw her in a special graphic editor. </li><li>  Download from site pages.  You have no turbo bits, letbitbits and other file sharing sites. </li><li>  Rating brushes.  Sort brushes by quality.  We see how many times the brush was viewed, how many times it was downloaded (bounce rate), how many times it was raised (in the future and lowered).  And depending on this, sort the brushes by their quality, not the date they were added. </li></ul><a name="habracut"></a><br><br><h4>  Organization preview brushes </h4><br>  Actually, what is this preview itself - just a sketch of the appearance of the brush itself and a trial stroke by it in different colors. <br><br><img src="https://habrastorage.org/storage/habraeffect/e1/01/e101f83eb78cb08f2edc2b389991e51c.jpg" alt="image"><br><br>  To begin development, the documentation for the brushes used in the GIMP was found.  As it turned out, the Gimp brush in the GBR format is quite simple - it consists of a header describing the brush itself and the bitmap of the stored image. <br><br>  The main problem that faced was getting the correct image from the bitmap.  At first there was an idea to make unpack for the whole part of the file containing bitmap, but this led to the fact that on full-color brushes with a size of 500x500 points the memory simply ended (the interpreter was allocated up to 256 MB of RAM).  Apparently, this is somehow related to the memory model when organizing PHP arrays, but I didn‚Äôt dig in, but decided to change the algorithm.  Having studied the documentation a little, I came to the conclusion that you can calmly, albeit slowly, read the file in small portions using the infamous file_get_contents (), and then work with unpack (). <br><br><h4>  Brush Selection Interface </h4><br>  But besides the generator of strokes and sketches of the brush itself, an interface was created that allows to select brushes according to the features of interest. <br><br><img src="https://habrastorage.org/storage/habraeffect/92/fb/92fbaa964713fa143cb6da49adb78535.jpg" alt="image"><br><br><blockquote>  Turning on the filter (1) and selecting one or more marks for the brush (2) will show you the brushes that meet your requirements (5).  Brushes are shown in the form of small strokes, so that you can immediately determine how the brush will behave when drawing.  Numbers is the size of the brush in pixels. <br><br>  When turning on tags (2), the search parameters can be specified by active tags (4).  The gray mark (3) is inactive, there are no brushes with such parameters. </blockquote><br><br>  Naturally, it was decided that it should be fast and convenient, but this is precisely what the concept of Ajax requests to the server contributed to. <br><br>  As you know, the slowest when working on a network is to contact the server and wait for a response from it.  Based on this paradigm, it was decided to do a maximum of work with a minimum of requests, therefore, for any sample, 1 request was made that received all the necessary information about the entire set of brushes in the JSON-structure format. <br><br>  If you look at the service, you will see that by clicking on the thumbnail of the brush, a window opens in which there is all the necessary information on the brush already received from the server.  But after opening the window, an asynchronous request is launched, which calls the server handler to count the brush scans.  In addition to the information in this window, a flash insert is implemented that allows you to test the brush ‚Äúwithout departing from the cash register‚Äù. <br><br><img src="https://habrastorage.org/storage/habraeffect/46/a6/46a6e12635ab8aec31ec289bb4a3d13b.jpg" alt="image"><br><br><h4>  Performance without JS </h4><br>  It would seem, Ajax-Ajax and all is well.  But good is not for everyone.  There are some comrades who disable JS, as well as the search engines for which we made a regular web page about each brush.  On this page there is a brush and its full detailed description.  In addition to the pages with brushes, pages of selections with tags were made.  It was implemented that if JS is enabled, then from these pages you can use the samples as usual. <br><br>  You can view and touch the interface here: <a href="http://www.progimp.ru/downloads/brushes/">www.progimp.ru/downloads/brushes</a> </div><p>Source: <a href="https://habr.com/ru/post/107289/">https://habr.com/ru/post/107289/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../107281/index.html">Screen brightness adjustment in Meego 1.1 on Samsung 210</a></li>
<li><a href="../107283/index.html">Unifying and destructive internet</a></li>
<li><a href="../107285/index.html">NASA will send people to Mars without hope of return</a></li>
<li><a href="../107286/index.html">A look at modern web forms spam protection systems</a></li>
<li><a href="../107288/index.html">Facebook updates partner policy with user personal information.</a></li>
<li><a href="../107291/index.html">Simple Javascript Benchmarker</a></li>
<li><a href="../107293/index.html">Overview of courier services for the online store - 2</a></li>
<li><a href="../107294/index.html">Beeline will do online shopping from 12,000 rubles and 1 day?</a></li>
<li><a href="../107295/index.html">Guru Plug Server Plus: don't waste your money and nerves on it</a></li>
<li><a href="../107297/index.html">Asimo is 10 years old</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>