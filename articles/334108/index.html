<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JetBrains MPS - IDE for developing problem-oriented programming languages</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 MPS is an environment for developing programming languages ‚Äã‚Äãon the Intellij Idea platform. It provides the ability to simulate program...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JetBrains MPS - IDE for developing problem-oriented programming languages</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  MPS is an environment for developing programming languages ‚Äã‚Äãon the Intellij Idea platform.  It provides the ability to simulate programming languages, describe structures, focusing specifically on design and business logic, without being distracted by parsers, lexers, and various third-party language features.  What you need to immediately designate: a language that is developed with the help of MPS is not compiled into a work program.  Most often it is generated in a model of other languages ‚Äã‚Äãor in text form. <br><br>  Why did I decide to write this post?  I believe that this is a very undervalued opportunity, and it is underestimated because the threshold of entry is very high, plus it is one of the most unpopular products of JetBrains. <br><br>  The documentation is very detailed, describes all the possibilities, but if there is no awareness of ‚Äúwhat am I doing and why should I do it,‚Äù then it is unlikely to be useful.  There is also a series of lessons from <a href="https://www.youtube.com/watch%3Fv%3D5dldSNaibrA%26list%3DPLQ176FUIyIUY9rAcAH6MNOxJqGfau0Jb1">JetBrains on YouTube</a> , but again, I more or less began to understand what is happening, only after two views of the entire series and a thorough study of the proposed sample projects. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I plan to write a series of posts about this wonderful environment, so that at the end of the reading enthusiasts have as few questions as possible ‚Äúhow to make this thing‚Äù, and as much as possible understanding of the structure so that you can effectively use the <a href="https://www.jetbrains.com/mps/documentation/">documentation</a> .  We will learn MPS during the creation of a language for describing weather patterns.  Why not strictly speaking? <br><a name="habracut"></a><br><h3>  Concept </h3><br>  MPS (hereinafter - the / MPS environment) provides the ability to create modules of two types - <b>Language</b> and <b>Solution</b> .  The first is a description of the language and its <i>aspects</i> , the second is used to develop any projects, test the language / languages, language extensions. <br><br>  I will start with <b>Language</b> . <br><br>  The most important thing to understand from the beginning is the process of developing a language and what happens next to it. <br><br><ol><li>  We describe the language model and the necessary <i>aspects of</i> this language, for example, the type system, the behavior in the editor. </li><li>  We describe how our language model is compiled into text or into a model of another language. <br></li><li>  We compile our language into a plugin for Intellij Idea and use it.  All transitions from one model to another are made for us, as a result we get ready-compiled code. <br></li></ol><br>  It should be noted that writing code in the MPS format is slightly different from writing the text of the program, because we are actually editing AST (Abstract Syntax Tree), and what we see in the code editor is the projection of AST. <br><br>  So, 1 article - 1 piece of the final project. <br><br><h3>  Create a project in MPS </h3><br><div style="text-align:center;"><img src="https://image.ibb.co/bV1TZk/MPS_1_START.png" alt="MPS_1_START"></div><br>  At this stage we choose the name of the project and the name of the language, you can also create a Sandbox solution - a module in which we will look at how our language works. <br><br><div style="text-align:center;"><img src="https://image.ibb.co/cF6Z75/image.png" alt="image"></div><br>  We have an empty project.  Totally empty.  But in the WeatherPrediction language there are nested directives - structure, editor ... These are <i>aspects of the</i> language - in them we describe the behavior of the language in different situations.  For example, the <i>structure</i> contains the basic <i>concepts of the</i> language, and the <i>editor</i> is how they will be displayed in the code editor.  This should sound very abstract, especially if you are not familiar with MPS.  Understand.  So immediately into battle. <br><br>  First we need to declare the <i>root concept of the</i> language.  Translated into Russian, we create a certain structure that will generalize all other structures.  In Java, this would be <br><br><div class="spoiler">  <b class="spoiler_title">Java root concept example</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Weather</span></span></span></span>{ }</code> </pre> </div></div><br>  To create a concept, poke paint on WeatherPrediction -&gt; New -&gt; Concept. <br><br><div style="text-align:center;"><img src="https://image.ibb.co/f7t30Q/image.png" alt="image"></div><br>  A concept has 3 types of data that it can contain: <br><br><ol><li>  <b>properties</b> - here you can store any primitive data, ala strings, numbers and boolean. An abstract example is an integer variable, which should have <b>name: string</b> , <b>value: integer</b> , <b>final: boolean</b> <br><br></li><li>  <b>children</b> - elements of other concepts are stored here.  As an abstract example, for the Program concept there could be shoved an array of Statement <br><br></li><li>  <b>references</b> - links to other implemented concepts in the AST that are in the current scope are stored here.  An abstract example is a variable whose value is a link to another variable by name (in reality, this is not quite the case, but this is an abstract example). </li></ol><br>  Let's call it PredictionList, define it as <i>root concept</i> and inherit the <i>INamedConcept</i> interface. <br><br><div style="text-align:center;"><img src="https://image.ibb.co/kWje75/image.png" alt="image"></div><br>  What happens here: We define the concept, call it PredictionList, say that it can be implemented as a root concept and inherit from INamedConcept.  If you look at its definition <i>(Ctrl + B)</i> <br><br><div style="text-align:center;"><img src="https://image.ibb.co/jLvVEk/image.png" alt="image"></div><br>  then we will see that this is an interface concept that has a property name: string, which, strictly speaking, is logical from the name <br><br>  Note that the syntax is similar to a programming language.  It is this way: this code is written in the language <i>jetbrains.mps.lang.structure</i> , which describes the concepts of the language. <br><br>  If we now compile the project and want to see what happened, we will need to create a model in the WeatherPrediction.sandbox module. <br><br><div style="text-align:center;"><img src="https://image.ibb.co/h3UMn5/image.png" alt="image"></div><br>  LKM on <i>sandbox (generation required)</i> -&gt; New -&gt; PredictionList <br><br><div style="text-align:center;"><img src="https://image.ibb.co/eE8p75/image.png" alt="image"></div><br>  Replace <i>no name</i> with Saint Petersburg <br><br>  Boom!  We have a default visualization of the concept.  To view the AST, click on any place in the editor and press the hot <b>key Alt + X</b> <br><br><div style="text-align:center;"><img src="https://image.ibb.co/eFxtZk/image.png" alt="image"></div><br>  The structure of everything is visible here, it is very cool and it is convenient to monitor the state of the tree.  We immediately see that the name of PredictionList = Saint Petersburg.  So, this is very cool, but we want everything to be beautiful, so we open the PredictionList concept editor and create an <i>editor aspect for it</i> .  Click on the green plus sign in the lower list, right below the code of our concept, select <b>Editor</b> -&gt; <b>Concept Editor</b> <br><br><div style="text-align:center;"><img src="https://image.ibb.co/dr1nuk/image.png" alt="image"></div><br>  Here we can describe how our PredictionList will be displayed in the code editor. <br>  Until we go into details on how this is all done, just write <b>[-</b> and we create an array of cells.  It's simple: in each cell there is some kind of constant text / property / reference / children.  And yes, the mapping is described in another language - <b>jetbrains.mps.lang.editor</b> . <br>  We want our list of weather predictions to look like this: <br>  <b>Weather prediction rules for% name%</b> . <br><br>  So we write. <br><br><div style="text-align:center;"><img src="https://image.ibb.co/ijm3Zk/image.png" alt="image"></div><br>  In the first cell - the constant text, in the second - <b>{name}</b> , a call to the property by the name key. <br><br>  We rebuild our language (Ctrl + F9) and look in the Sandbox solution, where we previously created an empty PredicitonList named Saint Petersburg. <br><br><div style="text-align:center;"><img src="https://image.ibb.co/fxQ5Ek/image.png" alt="image"></div><br>  Everything works, AST is the same as before our modifications. <br><br>  I‚Äôll probably stop at this for now to get feedback.  In the next post I plan to add a couple more concepts, as well as the generation of Java code. <br><br>  Thanks for attention!  Please, all wishes, misunderstandings and questions and write in comments.  If the questions are specific and simple, I will answer in the comments, otherwise I will add to the next post. </div><p>Source: <a href="https://habr.com/ru/post/334108/">https://habr.com/ru/post/334108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334090/index.html">Document generation - a view from the inside</a></li>
<li><a href="../334100/index.html">Add GPRS to your home GSM network</a></li>
<li><a href="../334102/index.html">Enter a member rating of GitHub and StackOverflow on My Circle</a></li>
<li><a href="../334104/index.html">Details about the new version of Veeam Backup for Microsoft Office 365 and briefly about the ticket draw for VMworld 2017</a></li>
<li><a href="../334106/index.html">Ronimo Code Style Methodology and Guide</a></li>
<li><a href="../334112/index.html">Nike Brand Story</a></li>
<li><a href="../334114/index.html">Pricing in the ERP-system SAP Business One</a></li>
<li><a href="../334116/index.html">We send routine and bureaucracy into the past or how large and medium-sized enterprises stay on top of the iceberg</a></li>
<li><a href="../334118/index.html">Why i hate spring</a></li>
<li><a href="../334120/index.html">A happy ending story: Bitrix24 integration with Asterisk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>