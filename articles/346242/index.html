<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reactive forms (reactive forms) Angular 5 (2+) Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 One of the advantages of Angular is a wide range of out-of-the-box tools that allow you to quickly create shapes of any complexity. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reactive forms (reactive forms) Angular 5 (2+) Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/qj/4f/bq/qj4fbq3wwv0pxasvf57drlggaom.jpeg"><br><br><h3>  Introduction </h3><br>  One of the advantages of Angular is a wide range of out-of-the-box tools that allow you to quickly create shapes of any complexity. <br><br>  In Angular, there are 2 approaches to creating forms: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://angular.io/guide/forms">Template-driven forms</a> - an approach in which the component template plays a key role, and the entire description is made in it - this approach is the development of working with forms in AngularJS; <br><br>  <a href="https://angular.io/guide/reactive-forms">Reactive forms</a> - a new approach for working with forms in a reactive style.  The form description occurs in the component in the form of a tree of objects, after which this tree is associated with the template.  All manipulations (validity check, subscription to change values, etc.) are performed in the component, which makes the work more flexible, convenient and predictable. <br><br>  In this article we will discuss how to start working with <b>reactive forms</b> on the example of a simple form with validation and error messages.  <a href="https://stackblitz.com/edit/angular-hcr1xm%3Fembed%3D1%26file%3Dapp/app.component.ts">Sample code</a> <br><br>  <a href="https://habrahabr.ru/post/347126/">Reactive forms.</a>  <a href="https://habrahabr.ru/post/347126/">Part 2.</a> <br><a name="habracut"></a><br><h3>  Creating a reactive form </h3><br>  Let's connect the <b>ReactiveFormsModule</b> to the module in which we will use the form: <br><br><pre><code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { NgModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { BrowserModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/platform-browser'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ReactiveFormsModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/forms'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AppComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./app.component'</span></span>; @NgModule({ imports: [ BrowserModule, ReactiveFormsModule ], declarations: [ AppComponent ], bootstrap: [ AppComponent ] }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> { }</span></span></code> </pre> <br>  Reactive forms use 3 types of blocks: <br><br><ul><li>  <a href="https://angular.io/api/forms/FormControl">FormControl</a> - single form control; </li><li>  <a href="https://angular.io/api/forms/FormGroup">FormGroup</a> - form control group; </li><li>  <a href="https://angular.io/api/forms/FormArray">FormArray</a> is an array of form controls. </li></ul><br>  All of them are inherited from <a href="https://angular.io/api/forms/AbstractControl">Abstract Control</a> . <br><br>  It is convenient to describe a form using the special <a href="https://angular.io/api/forms/FormBuilder">FormBuilder</a> tool, with which you can create the blocks listed above. <br><br>  Add the <b>FormBuilder</b> and <b>FormGroup</b> to the component: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormGroup, FormBuilder } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/forms'</span></span>; @Component({ <span class="hljs-attr"><span class="hljs-attr">selector</span></span>: <span class="hljs-string"><span class="hljs-string">'my-app'</span></span>, <span class="hljs-attr"><span class="hljs-attr">templateUrl</span></span>: <span class="hljs-string"><span class="hljs-string">'./app.component.html'</span></span>, <span class="hljs-attr"><span class="hljs-attr">styleUrls</span></span>: [ <span class="hljs-string"><span class="hljs-string">'./app.component.css'</span></span> ] }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ myFirstReactiveForm: FormGroup; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(private fb: FormBuilder){} ngOnInit(){} }</code> </pre><br>  Now we will describe the form and <b>initialize</b> it in ngOnInit: <br><br><pre> <code class="hljs axapta">export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ myFirstReactiveForm: FormGroup; constructor(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> fb: FormBuilder){} ngOnInit(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.initForm(); } <span class="hljs-comment"><span class="hljs-comment">/**  */</span></span> initForm(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myFirstReactiveForm = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fb.<span class="hljs-keyword"><span class="hljs-keyword">group</span></span>({ name: [<span class="hljs-string"><span class="hljs-string">''</span></span>], email: [<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>] }); } }</code> </pre><br>  <i>This form consists of two controls:</i> <i><br><br></i> <ul><li>  <i><b>name</b> with the value "Ivan" during initialization;</i> </li><li>  <i><b>emai</b> l without starting value.</i> </li></ul><br>  Associate the form with the component template via the <b>formGroup</b> and <b>formControlName directives</b> : <br><br><pre> <code class="markdown hljs"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag"> [</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">formGroup</span></span></span></span><span class="xml"><span class="hljs-tag">]=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"myFirstReactiveForm"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">formControlName</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>email<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">formControlName</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  <i>Here you need to pay attention to the fact that <b>formControlName</b> takes a name as a string and is written without [].</i> <br><br>  We can get the form data in the component as an object through the <b>value</b> property and output them to a template via <a href="https://angular.io/api/common/JsonPipe">jsonPipe</a> (at this stage it is necessary for the functional check): <br><br><pre> <code class="markdown hljs"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> {{myFirstReactiveForm.value | json}} <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br><h3>  Validation and illumination of non valid controls </h3><br>  Angular provides the ability to validate using a list of static methods of the <a href="https://angular.io/api/forms/Validators">Validators</a> class that check for the compliance with certain conditions. <br><br>  We use the following: <br><br><ul><li>  <b>Validators.required</b> - makes control mandatory; </li><li>  <b>Validators.email</b> - email validation  addresses; </li><li>  <b>Validators.pattern</b> - regular expression validation. </li></ul><br>  Import validators from <b>angular / forms</b> into the component: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormGroup, FormBuilder, Validators } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/forms'</span></span>;</code> </pre><br>  Add them to the form controls description: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myFirstReactiveForm = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fb.group({ name: [<span class="hljs-string"><span class="hljs-string">''</span></span>, [ Validators.required, Validators.pattern(/[-]/) ] ], email: [<span class="hljs-string"><span class="hljs-string">''</span></span>, [ Validators.required, Validators.email ] ] });</code> </pre><br>  Angular dynamically adds CSS classes to all controls of the form, depending on certain conditions: <br><br><ul><li>  <b>ng-invalid / ng-valid</b> - changes depending on the validity of the control; </li><li>  <b>ng-pristine / ng-dirty</b> - the control is considered dirty if the value has changed at least once; </li><li>  <b>ng-untouched / ng-touched</b> - control is considered to be touched at the first loss of focus. </li></ul><br>  Add the following styles to CSS: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ng-touched</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ng-invalid</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: red; }</code> </pre><br>  <i>Now when entering invalid data and losing focus, the controls will have a red border.</i> <br><br><h3>  Error message </h3><br>  You can access the control in the component as follows: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">this</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.myFirstReactiveForm</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.controls</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[controlName]</span></span></code> </pre><br>  Check the <b>invalid</b> and <b>touched</b> properties. <br><br>  The full list of properties and methods of control is <a href="https://angular.io/api/forms/AbstractControl">here</a> . <br><br>  Add a method to the component to check the validity of the control, which accepts the name of the control as input and returns true / false: <br><br><pre> <code class="hljs kotlin">isControlInvalid(controlName: string): boolean { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> control = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myFirstReactiveForm.controls[controlName]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = control.invalid &amp;&amp; control.touched; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre><br>  In the template, add a div under the control with an error message that will be displayed by * ngIf, if the control is not valid: <br><br><pre> <code class="hljs scala">&lt;label <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>=<span class="hljs-string"><span class="hljs-string">"name"</span></span>&gt;&lt;/label&gt; &lt;input <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"text"</span></span> id=<span class="hljs-string"><span class="hljs-string">"name"</span></span> formControlName=<span class="hljs-string"><span class="hljs-string">"name"</span></span> /&gt; &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"error"</span></span> *ngIf=<span class="hljs-string"><span class="hljs-string">"isControlInvalid('name')"</span></span>&gt;        &lt;/div&gt;</code> </pre><br>  <i>To display different errors (depending on conditions), you can use the <a href="https://github.com/UltimateAngular/ngx-errors">ngx-errors</a> library.</i> <br><br><h3>  Form submission </h3><br>  Add the <b>onSubmit</b> method to the component: <br><br><pre> <code class="hljs javascript">onSubmit() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controls = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myFirstReactiveForm.controls; <span class="hljs-comment"><span class="hljs-comment">/**     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myFirstReactiveForm.invalid) { <span class="hljs-comment"><span class="hljs-comment">/**    ,      touched*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(controls) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">controlName</span></span></span><span class="hljs-function"> =&gt;</span></span> controls[controlName].markAsTouched()); <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment">    */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myFirstReactiveForm.value); }</code> </pre><br>  <i>If the form is not valid, through foreach we mark all controls as <b>touched</b> to highlight errors and interrupt the execution of the method.</i>  <i>Otherwise, we process the form data.</i> <br><br>  Add a <b>submit</b> event handler to the template: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">formGroup</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myFirstReactiveForm"</span></span></span><span class="hljs-tag"> (</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">submit</span></span></span><span class="hljs-tag">)=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onSubmit()"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The form is ready! <br><br><h3>  Conclusion </h3><br>  In the next part we will analyze the reactive work with the forms, namely: <br>  subscription to the change control event; <br>  dynamic reset and blocking of dependent controls; <br>  Dynamic addition and removal of controls and control groups to a form. <br><br><h3>  Links </h3><br>  See example code <a href="https://stackblitz.com/edit/angular-hcr1xm%3Fembed%3D1%26file%3Dapp/app.component.ts">here</a> . <br>  More information can be obtained from the <a href="https://angular.io/guide/reactive-forms">official documentation</a> . <br>  Anyone interested in Angular can join the <a href="https://t.me/angular_ru">Russian-speaking Angular community</a> group in Telegram. </div><p>Source: <a href="https://habr.com/ru/post/346242/">https://habr.com/ru/post/346242/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346230/index.html">Reverse Engineering Star Wars: Yoda Stories</a></li>
<li><a href="../346232/index.html">MSSQL Server. Example of using linked server</a></li>
<li><a href="../346234/index.html">Net :: Ethereum module for working with Solidity contracts</a></li>
<li><a href="../346236/index.html">Knowledge Representations in Intelligent Systems, Expert Systems</a></li>
<li><a href="../346238/index.html">Ramp for the site</a></li>
<li><a href="../346244/index.html">Simulation of events and operations</a></li>
<li><a href="../346248/index.html">Experience in the project for interns as a mentor</a></li>
<li><a href="../346250/index.html">Troubleshooting the Xbox 360 processor architecture</a></li>
<li><a href="../346252/index.html">Cheat Sheet by OTP (Erlang)</a></li>
<li><a href="../346254/index.html">Preparing a working environment for the Erlang project</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>