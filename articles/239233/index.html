<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bootable HDD - Configuring auto-dial drives in Windows To Go</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, by chance, I learned that Windows can be installed and run from an external USB drive. No, not that I didn‚Äôt know about it at all - n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bootable HDD - Configuring auto-dial drives in Windows To Go</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago, by chance, I learned that Windows can be installed and run from an external USB drive.  No, not that I didn‚Äôt know about it at all - nobody canceled Windows PE.  But I did not know that there was a solution right out of the ‚Äúbox‚Äù and called Windows To Go, although this solution was implemented only in the ‚Äúbox‚Äù on which Windows Enterprise is written. <br>  After a simple installation, we get bootable media in Windows, which has minor restrictions.  For the purpose of security created in this way, the media in any Windows is not automatically mounted (it is not assigned a letter), i.e.  it is not available to the regular user.  And also when booting from such media, the internal disks of the computer are not visible, since  they are disabled (the ‚ÄúOffline‚Äù internal drives mode). <br><a name="habracut"></a><br>  It all started with the fact that I replace my 1Tb 3Q Caynam purchased 2Tb Seagate Backup Plus.  The trick of the acquisition is trivial - there was not enough space for backup at work on the old media.  I liked the new hard drive because it is almost 2 times smaller (it fits in the palm of your hand, easier and, of course, also USB 3.0. The old hard drive was pulled out of the box and the laptop was strengthened at its expense. I left the box - all the same The all-aluminum casing is now a rarity and it can obviously be adapted somewhere. <br><br>  Now I have a lot of place, even in abundance.  And, remembering the mobile Windows, I thought - why not try what happened there at Microsoft.  I downloaded the image of the desired OS - there should be only Windows Enterprise, installed the OS in the virtual machine and, having connected an external disk, launched the wizard from the control panel.  After a bit of torment Windows reported readiness.  Having rebooted right into the virtual machine, I saw the Windows 8.1 boot - the OS booted.  Having completed the work, I restarted the real computer already, choosing to boot into the external drive.  Windows booted.  For some reason I was a little surprised :) <br><br>  During the installation of Windows To Go, the media is divided into two sections - 350Mb FAT32 for the bootloader and the rest of the space for the OS.  I reduced the second section to 100Gb.  Then I created another partition on 100Gb and formatted it in ext3 (debian or mint will live here) and the rest of the space was allocated for the connection. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When I installed this whole thing, I already thought about it - it would be nice if the partitions with Windows To Go were not mounted on normal Windows systems.  In order to avoid so to speak.  Sections with Linux will not be mounted anyway.  And here it turns out instead of a single disk as many as three - a hodgepodge.  But it turned out that everything was provided to Microsoft and the disk on which Windows To Go is installed is not automatically mounted on other Windows systems. <br>  After loading Windows To Go it turned out that the internal disks in the computer are not visible.  Their status was Offline.  Microsoft took care of us, poor users, who, as it were, didn‚Äôt accidentally break anything. <br><br>  Then I abandoned this business, as I worked hard. <br><br>  After a while, at work at a friend's ‚ÄúWindows broke‚Äù for some trivial reasons: whether he accidentally demolished something in the Program Files folder, or in the Users folder, or in the Windows folder ‚Äî I did not fully understand but I feel that Bill Gates is clearly not in the business here and the call of Windows Must Die is clearly not the topic.  So here.  We booted from my hard drive.  The first installation on the new hardware is longer than the others, since  hardware configuration is determined and configured, the following loads are already regular.  Everything was loaded, everything is great only ... there are no hard disks.  The matter is simple - in the disk management snap-in, we transfer disks to the ‚ÄúOnline‚Äù mode (right-click on the disk) and assign a letter to the sections.  After copying the information, it was necessary to copy it to another computer - connect the USB HDD to the computer and no reaction - again diskmgmt.msc and go ... <br><br>  And after this incident, I realized that these restrictions are not convenient.  If I make myself an autonomous system exclusively for my tasks and I do not need to quickly connect through this device to other machines, then everything is fine, because  I get a narrow device for a specific task.  But if I have this solution as a trick to my <b>data carrier</b> , then this is inconvenient. <br><br>  So, there are two problems: <br>  - automounting of disks, preferably only a data partition; <br>  - Download Windows To Go with mounting all available data devices. <br><br>  Googling and poyandoksiv on the Internet, I did not find a solution.  Those.  I did not find what needs to be done, where to put a tick or what command to enter.  Enriched with a lot of information - yes, but only.  Several times I got steadily from a link to <a href="http://technet.microsoft.com/ru-ru/library/jj592679.aspx">the Microsoft technical support website</a> , but the solution was not deployed there either.  In such cases, I am sad.  Because or everything is very simple and you need to look for some admin that he would explain because I do not understand the elementary thing, or everything is worse, because the problem is individual and you have to figure it out for yourself and not the fact that you will understand.  I had to think) <br><br>  On the above tech support page, we thoughtfully read the text and cling to the NoDefaultDriveLetter attribute.  Obviously this attribute determines whether a letter should be automatically assigned to a section.  This attribute can be changed through the utility diskpart. <br><br>  Run the utility in the Windows To Go command line: <b>diskpart</b> <br><br>  Further we work with the diskpart console. <br><br>  Display the list of volumes: <b>list volume</b> <br><br>  Displays a list of volumes in the system.  I know that my external hard drive after cutting 200Gb now "weighs" 1600Gb and I easily recognize it.  Suppose my section has a ‚Äúlucky‚Äù number. <br><br>  Choose your partition (set focus on it, if expressed in terms of diskpart): <b>select volume 13</b> <br>  List disk <b>attributes</b> : <b>attributes volume</b> <br><br>  And we see the parameter ‚ÄúNo drive letter by default: Yes.‚Äù  Aha <br><br>  Remove this attribute from the selected volume: <b>attributes volume clear nodefaultdriveletter</b> <br><br>  List disk <b>attributes</b> : <b>attributes volume</b> <br><br>  And we see the parameter ‚ÄúNo drive letter by default: No‚Äù.  Yep <br><br>  One issue resolved.  Unfortunately, letters will now be automatically assigned to all available sections of our disk.  This is because it is marked up by the MBR.  If the disk were marked up with GPT, then it would be possible to manage individual partitions.  But with GPT, I may have problems with loading on those machines where there is no UEFI, so this is the only way. <br><br>  The next question is solved by the same utility :) <br>  For connecting external media is responsible for the policy SAN - Storage Area Network.  Unfortunately, nothing sensible, I could not find how to manage it.  Often I came to <a href="http://technet.microsoft.com/library/hh825063">this Microsoft support page</a> .  However, carefully reading the help to diskpart, I saw the SAN parameter.  Oh how! <br><br>  Enter in the diskpart console: <b>san</b> <br><br>  And we see "Autonomous internal disks."  Aha <br><br>  Enter: <b>san policy = OnlineAll</b> <br><br>  Check mode: <b>san</b> <br><br>  And we see "Translation of everything into standing" in the network "."  Yep <br><br>  Exit the console: <b>exit</b> <br><br>  All is ready! <br><br>  PS <br>  I do not think that my article will be directly super-useful to the community and I suppose that there will be those who will reasonably notice something like "Well, I entered two teams and ran to write on Habr - where the world is heading, Habr is not the same."  This is all true. <br>  However, I remember how I left Linux on the Internet and the article and just repeated.  And I did it!  And while I was crawling in the evening on the Internet, I remembered those times - when I didn‚Äôt know anything at all ... sometimes I wrote such nonsense in the console =) So I wrote this little article for one purpose - if someone searches, let him also succeed. </div><p>Source: <a href="https://habr.com/ru/post/239233/">https://habr.com/ru/post/239233/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239217/index.html">The digest of interesting materials for the mobile developer # 73 (September 29 - October 5)</a></li>
<li><a href="../239219/index.html">Interesting moments in C # (boxing unboxing)</a></li>
<li><a href="../239221/index.html">Debugging NDK and JNI for Android</a></li>
<li><a href="../239223/index.html">A few words about planning a recovery strategy</a></li>
<li><a href="../239225/index.html">P2P - The Next Stage of Information Systems Development</a></li>
<li><a href="../239235/index.html">New contest from azspcs.net</a></li>
<li><a href="../239237/index.html">Attempt to shoot number two</a></li>
<li><a href="../239241/index.html">Increasing personal effectiveness: tips from Mark Andreessen</a></li>
<li><a href="../239243/index.html">The child prodigy "threw" investors for $ 30 million venture capital investments</a></li>
<li><a href="../239247/index.html">Review of the most interesting materials on data analysis and machine learning ‚Ññ16 (September 29 - October 5, 2014)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>