<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>100% correct way to verify email addresses</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Congratulations. Starting today, you will never waste time selecting the most optimal regular expression for checking your email address. And you will...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>100% correct way to verify email addresses</h1><div class="post__text post__text-html js-mediator-article">  Congratulations.  Starting today, you will never waste time selecting the most optimal regular expression for checking your email address.  And you will never again reject the address, which to your surprise turned out to be valid. <br><br>  The trick is to immediately determine the meaning of the word "valid." <br><br>  We are developers - technical guys, so the most logical would be <a href="http://www.ex-parrot.com/pdw/Mail-RFC822-Address.html">to check for compliance with</a> official criteria.  Here are some examples of valid email addresses that meet the <a href="https://en.wikipedia.org/wiki/Email_address">criteria</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e44/e87/6e3/e44e876e34e442cf75e534f636d54017.png"></div><br>  <sup><a href="https://en.wikipedia.org/wiki/Email_address">en.wikipedia.org/wiki/Email_address#Valid_email_addresses</a></sup> <br><br><a name="habracut"></a><cut><h1>  Everything you know is wrong </h1><br>  The above <a href="http://www.ex-parrot.com/pdw/Mail-RFC822-Address.html">example of checking with regex</a> largely ignores reality.  Instead, I suppose we need to ask two questions: <br><br><ol><li>  Does the user understand that he is required to enter an email address in this field? </li><li>  Did he enter his address correctly in the field? </li></ol><br>  If you have a well-marked form with the signature "email" and the user somewhere in this form entered the symbol '@', then it will be safe to assume that the answer to the first question is positive.  It is easy. <br><br>  Next, we want to verify that the user entered <i>his</i> email address correctly. <br><br>  Impossible. <br><br>  It is important that you agree with me in this thesis: <i>it is impossible</i> . <br><br>  I know what you think.  ‚ÄúBut it <i>will help</i> , right?‚Äù Well, this is how a quick closure of the refrigerator saves energy and helps fight global warming.  Of course it will help if we want to become slaves of the word "help."  But most people will agree that you have a promising career in a straitjacket, if you rattle with canned food to save polar bears. <br><br><h1>  Investigate the issue </h1><br>  Imagine my email address is <b>davidgilbertson@example.com</b> .  This is 27 keystrokes on the keyboard, which can lead to a typo.  An error in any character will <i>definitely</i> lead to the entry of an <b>incorrect</b> address, but this address will not <i>necessarily</i> be invalid. <br><br>  [epiphany] <br><br>  Even if the sun had shone brightly in the window, a particularly wild sneeze would have overwhelmed me (I suffer from <div class="spoiler">  <b class="spoiler_title">light sneezing reflex</b> <div class="spoiler_text">  Poorly studied autosomal dominant disease - approx. </div></div>  ) and I mistakenly typed <b># !$%&amp;&amp;*+</b> -/ <b>=?^_ ªERT ()|~@example.com</b> - so, I still pass most of the checks for a "valid" email address.  (Even worse, if the system says that the address is invalid, when it actually exists! For the sake of interest, I just wrote to the address <b>#!$%&amp;'*+-/=?^_ ª | | ~~@example.com</b> - and the girl said that she was terribly enraged when her email address was considered invalid, she also regret buying the example.com domain, but is not going to give up, like that guy who bought milk.com. We started chatting and it turned out that she lives only a couple of blocks away from me and also collects vintage cameras, next week we will go play golf. I think maybe she is the same one.  other things, I need to finish talking and continue to write the article). <br><br>  So what is the probability that any one typo will invalidate the address?  Let's make a statistical model!  For example, here is the letter 'g'.  I would rather make a typo on the visible keyboard without pressing Shift (in the model I take into account the ‚Äúunchanged‚Äù keys).  Among all the keys that can be pressed on the physical keyboard, there are only six characters, which in some cases can invalidate the address: <b>[] \;</b> and <b>space</b> .  6 of 48. The probability of 12%. <br><br>  But a typo on the next key is more likely.  For example, clicking on 'h' instead of 'g'.  So from a list of 117 million existing email addresses, I calculated the frequency of each character, for each of them I wrote down what keys are next to each other from the keyboard, and brought up the final probability that a typo would lead to an invalid address (I know that hacking LinkedIn for the sake of reasoning about validation postal addresses were a bit too much, but any opinion is important to confirm the real data). <br><br>  For example, the character 'e' is considered a low-risk invalidation character, because all the surrounding characters will leave the email address still valid.  But next to 'p' is' <b>[</b> 'and' <b>;</b>  'at the touch of a button!  So although it is a rarer character than 'e', ‚Äã‚Äãit carries a greater risk of making the address invalid if the key misses. <br><br>  I also took the calculation of the relative dexterity of each finger.  We all know that the little finger is a mentally retarded relative in the family of fingers, so this is taken into account. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/85b/38e/1c1/85b38e1c1e10e5e11b4dc4fa8c83e66b.png"><br>  <i>Graphic representation of the model showing the typo zone around P, taking into account the shortcomings of the little finger</i> <br><br>  Now suppose Silky (Fox) is sitting on the Shift key <i>and</i> I press the wrong key on the keyboard.  Here I risk to get on one of six dangerous keys: <b>[] \ ;,</b> and a <b>space</b> .  And again, they invalidate the address only under certain conditions.  It is more likely that the pressed Shift key will only work for letters on one side of the ‚Äúdog‚Äù in the address, so the letter 'l' on either side is considered especially dangerous. <br><br>  All of the above refers to the only typo, but if I make a second typo, then there is a chance that the address will become valid again (for example, if you add \ after \).  Of course, all this is taken into account in the model. <br><br>  Needless to say, I made the same effort in calculating the model for on-screen keyboards. <br><br>  Remember also that if you make a typo in the @ symbol, the error will be taken into account at the very first stage, when we check the presence of @ as <i>the</i> user's <i>intention</i> to enter an email address. <br><br>  I also put some common sense into the model.  It is known that people with the address aol.com clumsily typing.  Deryls tend to press all keys with their index fingers, as if they are afraid that each button will burn their hand.  People with the letter 'z' in the name use mechanical keyboards and rarely make mistakes.  Famous life axioms. <br><br>  I also took into account the fact that any button in front of the "dog" in the address is ignored, and that the 'f' and 'h' are in many ways the same letter, if you think carefully. <br><br><h1>  Result </h1><br>  So, having taken into account all the factors, I missed 117 million addresses through the model.  And the probability that an incorrect email address will be recorded by the address validation program is ... <br><br>  0.000000000000000000000000000000000000625% <br><br>  I'm afraid that I don‚Äôt have time to type an algorithm that absolutely definitely exists and is incontestably flawless, so you have to take my word for it that this number is not in any way invented. <br><br><h1>  Total </h1><br>  It makes no sense to try to find out if the address is "valid".  The user is much more likely to enter an <b>incorrect and valid</b> address than an invalid one. <br><br>  Therefore, it is better to spend your time literally <i>on any other matter</i> than to check the validity of email addresses. <br><br><h1>  100% correct way </h1><br>  Send users an activation letter <b>.</b>  (Here is the bullet point for the effect). <br><br>  <font color="gray">I published a continuation of this article primarily on how to help users avoid entering the wrong email address.</font>  <font color="gray">With real code!</font>  <font color="gray">Forward.</font>  <font color="gray"><a href="https://medium.com/%40david.gilbertson/how-to-reduce-incorrect-email-addresses-df3b70cb15a9">Read</a> .</font> <font color="gray"><br><br></font> <hr> <font color="gray"><br></font>  <font color="gray">If it seems to you that this article is meaningless and stupid, and you want more of the same, rate my podcast " <a href="https://itunes.apple.com/au/podcast/david-reads-wikipedia/id1052573447%3Fmt%3D2">David Reads Wikipedia</a> ".</font>  <font color="gray">He is exactly what you thought.</font> </cut></div><p>Source: <a href="https://habr.com/ru/post/320572/">https://habr.com/ru/post/320572/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320562/index.html">OpenStreetMap, how to get address coordinates, part is simple</a></li>
<li><a href="../320564/index.html">Dive into the Depth: how to fit reality into a small box</a></li>
<li><a href="../320566/index.html">How to make a new Trello and sell it for $ 425 million: why Atlassian has posted such a sum</a></li>
<li><a href="../320568/index.html">Ten of the best SMB servers in 2017 - you probably didn't know about some</a></li>
<li><a href="../320570/index.html">Friday format: VPN via ... Jabber?</a></li>
<li><a href="../320578/index.html">PgConf.Russia 2017 - we invite you to the March conference in Moscow</a></li>
<li><a href="../320580/index.html">Interviews with a ddaser or what vandals earn</a></li>
<li><a href="../320582/index.html">A stable release of Wine 2.0 has been released with 6000+ changes and additions.</a></li>
<li><a href="../320584/index.html">CTA button: 10 pillars of efficiency</a></li>
<li><a href="../320586/index.html">How I passed the Hortonworks Data Platform Certified Administrator (HDPCA) exam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>