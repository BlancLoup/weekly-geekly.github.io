<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Activate multisite support in a Wordpress installation on a VPS from Infobox in 5 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we will look at how to quickly launch multiple sites on a VPS and a cloud-based VPS from Infobox. Since the Wordpress MU project appe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Activate multisite support in a Wordpress installation on a VPS from Infobox in 5 minutes</h1><div class="post__text post__text-html js-mediator-article">  In this article, we will look at how to quickly launch multiple sites on a <a href="http://infobox.ru/vps/linux/">VPS</a> and a <a href="http://infobox.ru/vps/cloud/">cloud-based VPS</a> from Infobox.  Since the <a href="https://mu.wordpress.org/">Wordpress MU</a> project appeared and later became part of Wordpress, this process has been simplified.  We have already added a template with Wordpress installation for 1 click (with FTP, database and phpmyadmin) in all VPS locations and clouds.  The user only needs to configure Wordpress to support launching multiple sites when needed.  The article also shows a cloud VPS management interface. <br><img src="https://habrastorage.org/getpro/habr/post_images/ed5/426/bbb/ed5426bbb4fc234bc1846b25e7bd098d.png"><br><a name="habracut"></a><br><br><h4>  <b>Configuring support for multiple sites in Wordpress on one server</b> </h4><br>  On a clean server, the multisite configuration process takes much longer than at this point, but we have already added a significant portion of the configuration to the Wordpress template, so the settings will take only 5 minutes.  After ordering Ubuntu VPS from Wordpress or creating a server in the cloud from such a template, log in to the server via SSH using email access data.  You will see the Infobox greeting and FTP access data and MySQL access data. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/faf/79f/86f/faf79f86f5d780a2ef077c6ad8b0e9f4.png" width="600">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Access data is unique and is generated at the time the server is created. <br>  Open the Wordpress installer web interface by going to the server ip ‚Äì address from a letter or from the control panel. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47e/30a/5f7/47e30a5f79c80f0c067f1f839766cce4.png" width="600"><br><br>  During the installation of Wordpress will be requested data access to the server.  All settings can be left by default, but you must specify the username and password from the database, which were displayed in the server's welcome message (if you change them, then you need to specify the changed ones). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/53a/ca7/d72/53aca7d7270f1638ac472aa42723cf5b.png" width="600"><br><br>  Get to the WordPress installation phase.  Stop here.  First we need to enable multi-site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f3c/907/8f9/f3c9078f9ef8401275fe48e9b39c876b.png" width="600"><br><br>  Let's return to our ssh ‚Äì session to the server.  Edit <strong>/var/www/html/wp-config.php</strong> and add the line above the phrase "/ * That's all, stop editing! Happy blogging. * /": <br><pre><code class="xml hljs">/* Multisite */ define('WP_ALLOW_MULTISITE', true);</code> </pre> <br><br>  Open the site again at the ip ‚Äì address in the browser, set the settings for the first site and install Wordpress. <br><br><img src="https://infoboxcloud.ru/community/uploads/images/00/00/01/2014/10/13/8c1801.png" width="600"><br><br>  Log in.  Go to "Tools" -&gt; "Network Installation". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/226/1f4/c3f/2261f4c3f02dfc83b1b296e02e7ecd4e.png" width="800"><br>  Wordpress will tell you what to add to <strong>.htaccess</strong> and <strong>wp-config.php</strong> .  Do this (in .htaccess, replace the contents of the &lt;IfModule mod_rewrite.c&gt; section).  Please note that if the server‚Äôs ip address changes, you will need to register a new one in wp-config.php.  <strong>It is very important, writing the settings in wp ‚Äì config.php to register them above the phrase "/ * That's all, stop editing! Happy blogging. * /"</strong> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d62/916/212/d62916212ed9177d7ef6bdddef595672.png" width="800"><br><br>  Sign out and sign in to Wordpress again. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1d8/f5d/9c1/1d8f5d9c1d9cefe8991ef32069384bcb.png" width="600"><br><br>  Now support for creating multiple sites on Wordpress is activated. <br><br>  To be able to bind different domains to a multi-site configuration, install the <a href="https://wordpress.org/plugins/wordpress-mu-domain-mapping/">WordPress MU Domain Mapping</a> plugin.  Copy and enable sunrise.php: <br>  <code>cp /var/www/html/wp-content/plugins/wordpress-mu-domain-mapping/sunrise.php /var/www/html/wp-content/sunrise.php</code> (you need to copy the file every time you update the plugin). <br>  Edit <strong>/var/www/html/wp-config.php</strong> and add the line above the phrase "/ * That's all, stop editing! Happy blogging. * /": <br><pre> <code class="xml hljs">define( 'SUNRISE', 'on' );</code> </pre><br>  Now log out and log in to your Wordpress control panel again. <br><br>  Go to the ‚ÄúSettings‚Äù section -&gt; Domain mapping and register the server ip. <br>  Now go to ‚ÄúSettings‚Äù -&gt; Domains. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/773/294/68c/77329468c06a953f1225e1c8cf2b5779.png" width="600"><br><br>  Here you can add arbitrary domains to various sites.  To find out the site ID, go to the ‚ÄúSites‚Äù -&gt; ‚ÄúAll Sites‚Äù section and click ‚ÄúEdit‚Äù next to the added site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/666/718/3e8/6667183e86a5e834fb2a33f0171cd115.png" width="600"><br><br>  In the address bar of the browser you will see the site ID. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/447/337/bb4/447337bb4ccbd0147759f5f5e228d5ee.png" width="600"><br><br>  Return to the "Settings" -&gt; Domains and list the link ID and domain.  Set the site as primary so that the selected domain is displayed in the address bar when entering the site.  Also, do not forget to send a DNS domain record to the ip ‚Äì address of the server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d24/f35/8d5/d24f358d5b94009177cbfd8894b96be3.png" width="600"><br><br>  Now, when entering the domain, the required site opens. <br><br><h4>  <b>Creating a Cloud VPS Template with Wordpress and Multi-Site Support</b> </h4><br>  We recommend that you create your own template in the future to install support for multiple sites on Wordpress for 1 click, changing only the ip ‚Äì address in wp-config.  To do this, go to the settings of the created server in the Infobox control panel, as shown at the beginning of the article.  Click "Create Image". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4cb/0b0/e94/4cb0b0e947d38aa7e28535354450f336.png" width="800"><br><br>  Give the image a name and click Create.  Now, if you need to deploy new servers with support for hosting multiple sites on Wordpress, you will not need to do all the settings from this article.  You can simply go to the ‚ÄúServer images‚Äù section in the Infobox control panel and create a server from the prepared image. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d0a/76a/e88/d0a76ae88734688e146fd47acf129980.png" width="800"><br><br><h4>  <b>Testing VPS for free</b> </h4><br>  In order for you to try to enable multi-site in Wordpress, we activated a <a href="http://infobox.ru/vps/linux/">free trial version of</a> our VPS and, at the request of users, wrote a promotional code for registration directly on the service page. <br><br>  If you can not leave comments on Habr√©, you can write them in the <a href="https://infoboxcloud.ru/community">InfoboxCloud Community</a> . <br>  If you find a mistake or typo in the article, the author will fix it with pleasure.  To do this, please write in the LAN. <br><br>  Successful use of <a href="http://infobox.ru/vps/cloud/">cloud VPS</a> from Infobox. </div><p>Source: <a href="https://habr.com/ru/post/240161/">https://habr.com/ru/post/240161/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240145/index.html">Money, goods and some statistics</a></li>
<li><a href="../240147/index.html">IDCEE 2014 Conference Impressions of a non-brand startup</a></li>
<li><a href="../240149/index.html">Yii 2.0. Release</a></li>
<li><a href="../240151/index.html">From Ford T to 4G: a revolution in automotive technology</a></li>
<li><a href="../240155/index.html">Meeting on edcrunch</a></li>
<li><a href="../240165/index.html">Introduction of modern DECT communication</a></li>
<li><a href="../240169/index.html">How I patch Zabbix</a></li>
<li><a href="../240177/index.html">Ten trends that change modern data centers</a></li>
<li><a href="../240179/index.html">We invite you to the seminar "Practice of choosing solutions to protect against zero-day threats and targeted attacks"</a></li>
<li><a href="../240181/index.html">Yandex post office: how we made a service analyzing the results of mailings in realtime</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>