<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a system of access restriction in the FLProg program using RFID-RC522</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. I am the developer of the FLProg program, and today I will tell you how to create an access control device using the FLProg program using th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a system of access restriction in the FLProg program using RFID-RC522</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/e3e/66e/0d2/e3e66e0d26f446ff8af8352e4440e8da.png"><br><br>  Good day.  I am the developer of the FLProg program, and today I will tell you how to create an access control device using the FLProg program using the RC522 RFID tagless scanner.  Since this post is a training, then it will not be considered a finished product, but only a test layout. <br><a name="habracut"></a><br>  Consider this RF5 RC522 contactless tag scanner. <br><br><img src="https://habrastorage.org/files/02f/df6/819/02fdf68192494dd1ace02610f66848e8.PNG">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      RFID-RC522 contactless tag scanner without tags allows you to detect and read IDs of contactless cards, tags, 13.56 MHz gaps at a distance of 10 cm. With this scanner you can make a number of interesting projects: access systems, electronic locks, inventory control and much more . <br><br><div class="spoiler">  <b class="spoiler_title">Technical characteristics of the scanner.</b> <div class="spoiler_text"><table><tbody><tr><th>  Parameter </th><th>  Value </th></tr><tr><td>  Current consumption in active state </td><td>  13-26mA / DC 3.3V </td></tr><tr><td>  Standby current consumption </td><td>  10-13mA / DC 3.3V </td></tr><tr><td>  Sleep current </td><td>  &lt;80uA </td></tr><tr><td>  Operating frequency </td><td>  13.56MHz </td></tr><tr><td>  Supported Card Types </td><td>  MIFARE S50, MIFARE S70, MIFARE UltraLight, MIFARE Pro, MIFARE DESfire </td></tr><tr><td>  The size </td><td>  40mm x 60mm </td></tr><tr><td>  The temperature at which the module operates </td><td>  -20 to +80  </td></tr><tr><td>  Relative humidity </td><td>  from 5% to 95% </td></tr></tbody></table><br></div></div><br><br>  The basic principle of operation is quite simple to understand.  There are antennas in the card and in the reader, and the signal of the reader (the essence of the electromagnetic field) simultaneously serves as the power source for the card.  Those.  And in terms of energy, and in terms of data transfer, this is very similar to the super-popular wireless charges. <br><br>  The cards themselves, depending on the modification, can carry from a few tens of bytes to several kilobytes of data (including a unique serial number).  Also, depending on the modification, the card can be equipped with cryptographic information protection. <br><br>  In China, such scanners cost from 200 rubles, complete with a card and a remote control.  It is very attractive.  But still, when ordering this scanner, I advise you to take it, as they say "with a margin."  In my case, out of the three scanners I have, purchased at different times from different vendors, normally earned only one.  The second saw the map, only brought up exactly at a certain distance.  Closer or farther - he lost it.  Well, the third one didn‚Äôt see the presented cards at all, although SPI responded normally to queries and testing. <br><br>  The program FLProg implemented two types of functional blocks to work with the scanner. <br><br>  <b>Blocks directly associated with the scanner</b> <br><ul><li>  "Availability of a new card" </li><li>  "Map Information" </li><li>  "Read data on the card" </li><li>  "Writing a block of data to the card" </li></ul><br>  <b>The blocks associated with the scanner are indirectly designed to work with the storage of UUID cards.</b> <br><br>  The program implements the storage of UUID cards, which is a set of cells, each of which stores directly the UUID of the card, and the status of the cell.  Three statuses reserved by the program. <br><br>  0x00 - the cell is free <br>  001 - UUID is stored in the cell, but it is locked. <br>  0x02 - the UUID is stored in the cell and it is active <br><br>  The rest of the status codes (3 ... 255) can be used by the user at his own discretion. <br><br>  The storage can be located in the RAM of the controller (when power is removed or it is reset, it will be cleared), or in the EEPROM.  There may be several storages, and they may be of different types.  When the storage is located in the EEPROM, its dimensions are limited.  For Arduino, Uno is a maximum of 85 cells (in all EEPROM storages in total), for Arduino Mega - 341 cells. <br><br>  Storage units <br><ul><li>  ‚ÄúSave UUID Cards to the Vault‚Äù </li><li>  "Read UUID cards from storage" </li><li>  "The status of the cell in the repository" </li><li>  "Write cell status to storage" </li><li>  "Lock / Unlock Cell" </li><li>  "Search UUID in storage" </li><li>  "Free storage cells" </li><li>  "Clearing a cell in storage" </li><li>  "Clearing the entire repository" </li></ul><br><br>  Let's sort out the technical specifications for the device. <br>  The device will have two repositories located EEPROM.  The first one stores the so-called Master Card.  Using them, you can write the usual cards in the second repository.  There is a ‚ÄúSecret Button‚Äù for recording Master Card.  There is also a display to display the necessary information, and the usual control button. <br><br>  Scheme of the device. <br><img src="https://habrastorage.org/files/ba0/5bf/18b/ba05bf18b93748b08ac2ba5214f238ad.PNG"><br>  Video lesson describing the result of development <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/AXWDZEUY-6I%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhguV2_I9k766nxr4FPtmRu6_TLxjQ" frameborder="0" allowfullscreen=""></iframe><br><br>  <a href="https://yadi.sk/d/BBMX5B1wtrTDT">A project created in class with FLProg.</a> <br><br>  Cards and keyfobs used with the scanner have onboard 1 KB of memory that can be used for their own purposes.  Let's expand the TK and record any information.  To do this, we will assemble another device. <br><br><img src="https://habrastorage.org/files/038/4f4/c06/0384f4c06a9b469ca4ccd7f24c62064b.PNG"><br><br>  We will also finalize the project created in the previous video tutorial. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/pwEVkjCwPZ8%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi-oWqPEHAKPaga-yw2sA6FxSqH0g" frameborder="0" allowfullscreen=""></iframe><br><br>  <a href="https://yadi.sk/d/DN72bZ7AtrSTJ">FLProg recording device design.</a> <br><br>  <a href="https://yadi.sk/d/tcnEe-iqtrSWb">Modified project from the first video of the lesson.</a> <br><br>  Goodbye, I hope you were interested. </div><p>Source: <a href="https://habr.com/ru/post/396501/">https://habr.com/ru/post/396501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../396491/index.html">E-Commerce in Europe - 2016</a></li>
<li><a href="../396493/index.html">"Attack on SORM": an interview with the author of the project</a></li>
<li><a href="../396495/index.html">Nanotechnology in New York State: How SUNY University and Corporations Turned the State into the Silicon Valley of the 21st Century</a></li>
<li><a href="../396497/index.html">The forgotten giant: TNA-1500 radio telescope</a></li>
<li><a href="../396499/index.html">Instagram will be able to post messages that disappear after 24 hours</a></li>
<li><a href="../396503/index.html">New episodes of "Black Mirror" will appear on Netflix on October 21</a></li>
<li><a href="../396507/index.html">Brain biohacking: where to place electrodes to become smarter?</a></li>
<li><a href="../396509/index.html">History of capacitors part 1: the first discoveries</a></li>
<li><a href="../396511/index.html">Sea of ‚Äã‚ÄãClarity, day 3: Ambitions</a></li>
<li><a href="../396513/index.html">HyperX Cloud Revolver - misfire headset</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>