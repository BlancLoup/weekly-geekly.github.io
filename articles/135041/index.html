<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How love of music helped find vulnerabilities in Flash</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On a warm winter evening, I sat at a computer and decided to relax by playing the piano. Since I do not have a piano or a synthesizer, I, using a sear...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How love of music helped find vulnerabilities in Flash</h1><div class="post__text post__text-html js-mediator-article">  On a warm winter evening, I sat at a computer and decided to relax by playing the piano.  Since I do not have a piano or a synthesizer, I, using a search, started to search online for an online piano with examples for a conventional QWERTY keyboard. <br><br>  The search led me to <a href="http://forum.ugoo.ru/thread-80.html">the forum page</a> , where many online services were offered.  Clicking on one of them and playing enough, I opened a new tab and began to write the address of the desired site.  What was my surprise when, when entering the address, I heard the sounds of the piano. <br><a name="habracut"></a><br>  Disbelieving, I tried to dial something else and heard the sound again.  I started to figure out which program the sound is coming from, because I closed the page with the piano, but the page with the forum remained.  At random, by closing several tabs, the source of the sounds was found.  It turned out to be the Flash ZebraKeys piano posted in a forum post. <br>  Realizing that this is a serious vulnerability.  Began to try in other browsers (before it was in <b>Oper'e</b> ). <br><br>  <u>Check revealed:</u> <br>  <b>Mozilla</b> - the sound was published in all tabs, including when the focus is just on the page; <br>  <b>Chrome</b> - only in the current tab and when the focus is in any Flash application on this page; <br>  <b>IE 9</b> - only in the current tab, including when the focus is just on the page. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Since this vulnerability could lead to the interception of personal data, including passwords, letters were written to Opera, Mozilla (in the Mozilla Security Bug Bounty Program) and Adobe.  Since I do not speak English in spoken form, I used Google Translate. <br><br>  Within a day, <b>Opera</b> first responded, thanking for the error found and correcting it in a short time, and switching me to a Russian-speaking employee to make it easier to convey thoughts. <br>  Now Flash applications receive keyboard presses only when some Flash application is in focus, even in another tab.  Split by tabs, as in Chrome can not, because Chrome has separate processes for each tab. <br><br>  <b>Mozilla</b> answered later, saying that they could not repeat, describe which OS and plug-ins are installed.  Having answered that Windows OS and such and such plug-ins, waited further for an answer, and was surprised to hear again, it is not possible to repeat the problem.  Writing to them again that Windows OS, not Linux and Mac OS, finally heard the answer from Mozilla, that yes, we managed to repeat it, we tried it on other OS, tried it on Windows and heard the sound.  Thanking for my perseverance and the found error, they also wrote that the bug is known (they brought the link) and this problem is already being solved.  That is $ 3000 for the synthesizer of the Mozilla Security Bug Bounty Program I cannot see.  Writing to them that the message about the vulnerability could themselves write, in hindsight.  By the way, a little less than a month has passed and this vulnerability is present in the new Mozilla 9 and you can ‚Äúplay the piano right in the address bar‚Äù. <br><br>  <b>Adobe</b> has not yet responded, although I wrote to the address that was difficult to find on the Internet, support [] adobe.com It may not exist, but the form for sending something was not found on the website without registration. <br><br><h5>  Results </h5><br>  Vulnerability in one way or another is in all browsers on Windows, since Flash on this OS uses the Windows API instead of receiving keyboard events via the Browser Plugin API (NPAPI).  There is a way to block key reading for all flash applications, but it is impossible to do this for individual applications.  That is, either all flash applications will read the keyboard, or there will be none (thanks for these explanations to the Opera employee). <br><br>  PS On that forum page there is an <a href="http://www.virtualpiano.net/">excellent piano</a> , which will be interesting for people owning a ten-finger printing method, since there you can open simultaneously examples of melodies (which key on a regular keyboard to press) and the piano itself.  Very comfortably.  There are also many other examples in their Facebook group. </div><p>Source: <a href="https://habr.com/ru/post/135041/">https://habr.com/ru/post/135041/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135035/index.html">Playing SDL is doubly easy</a></li>
<li><a href="../135036/index.html">We get access to the methods of Api Vkontakte without the user's knowledge</a></li>
<li><a href="../135037/index.html">Successful Kanban in a small team</a></li>
<li><a href="../135039/index.html">Highstock based dynamic graphics</a></li>
<li><a href="../135040/index.html">By DDoS-attack - ready!</a></li>
<li><a href="../135042/index.html">Redis, hiredis, libev and multithread. Part 2</a></li>
<li><a href="../135043/index.html">Android + Arduino + 4 wheels</a></li>
<li><a href="../135044/index.html">D programming language</a></li>
<li><a href="../135045/index.html">We released to the world: Java Card Runtime Environment Simulator "jCardSim"</a></li>
<li><a href="../135047/index.html">Caching and tags when using ZF + memcached</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>