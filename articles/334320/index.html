<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The budget for the operation of the data center: instructions for compiling</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ãÖ‚ãÖ 


 In the last post I told what and why you need to do yourself in the operation of the data center. Slowly I will share experiences on every aspe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The budget for the operation of the data center: instructions for compiling</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/738/ae5/fd1/738ae5fd13fb4ff19544c2b252dfd39a.png">  ‚ãÖ‚ãÖ </p><br><p>  In the <a href="https://habrahabr.ru/company/dataline/blog/331902/">last</a> post I told what and why you need to do yourself in the operation of the data center.  Slowly I will share experiences on every aspect.  I'll start with budgeting. </p><br><p>  During the leadership of the maintenance service, I fell out of reality for several days, and sometimes nights.  Brewing stronger tea and plunged headlong into the world of numbers and statistics, so that the operation of the data center had something to live next year.  That's where the day really feeds you: you need to calculate and paint all the planned maintenance, replacement of consumables, as well as predict all possible repairs.  Yes, and at the most exemplary exploitation everything ever breaks.  After you need to perform a separate exercise - to prove to the leadership the expediency of everything that you wrote.  Today I will tell you how to put together a budget so as to arrive at the desired ‚ÄúAgreed‚Äù by the most direct route. <a name="habracut"></a></p><br><p>  All costs for operating the server / data center are divided into two types: </p><br><ul><li>  operating - money that will go on repairs and maintenance of engineering systems and equipment; </li><li>  investment - the cost of upgrading systems, replacing large equipment. </li></ul><br><p>  Someone may also include personnel here (the salaries of the people responsible for the operation, the cost of their training), but I will not touch it here. </p><br><p>  Let's look at how to collect each of the budgets. </p><br><h2 id="operacionnyy-byudzhet">  Operational budget </h2><br><p>  These are fixed costs for spare parts, consumables, repairs and maintenance, which are laid out from year to year. </p><br><p>  <strong>STEP 1. We compile a list of engineering systems and the most important equipment.</strong> </p><br><p>  I will show on the example of the <a href="https://habrahabr.ru/company/dataline/blog/309520/">NORD-4</a> data center: </p><br><ul><li>  Uninterrupted power supply: 33 UPS. </li><li>  Guaranteed power supply: 12 DGU. </li><li>  Cold supply system: 108 air conditioners. </li><li>  CCTV and fire suppression system. </li></ul><br><p>  The last two are not always included in the responsibility zone of the operation service, but in our case we also take these systems into account. </p><br><p>  Making such a list, it is important not to forget about: </p><br><ul><li>  auxiliary systems, such as monitoring, ventilation, irrigation, cargo lifts and gates; </li><li>  that, it would seem, quite indirectly relates to the operation - cleaning services, transportation costs, disposal of waste materials (oil, battery). </li></ul><br><p>  <strong>STEP 2. Determine the cost and quantity of consumables and spare parts for each system.</strong> </p><br><p>  If it is clear about the cost of parts, we simply request from suppliers or we monitor supply on the market, then the question: ‚ÄúHow much do we need this?‚Äù Is more difficult.  Here we can use statistics on breakdowns and repairs, which I am talking about, probably, at each of my <a href="http://uni.dtln.ru/courses">seminars</a> . </p><br><p>  <em>Life hacking for those who stubbornly refuse this useful practice: it is theoretically possible to collect information backdating on invoices / certificates from contractors for repairs and the purchase of spare parts.</em> </p><br><p>  I foresee the question: what to do if the server and data center are new?  The first year or two can be held under warranty from the supplier of the equipment, but all this time we are collecting statistics. <br>  To calculate the number of necessary parts, I use the coefficients.  Here's how to get them.  Let's say you need to understand how many fans we need for external units of air conditioners.  We turn to statistics and see that 10 fans have failed in the previous year.  Only 100 air conditioners.  Accordingly, we need 0.1 fan for 1 air conditioner. </p><br><p>  Here such a plate can be obtained at the exit for the rest of the parts and consumables of the air conditioning system: </p><br><p><img src="https://habrastorage.org/web/b75/ed2/590/b75ed259070d4b598fa39195c54406e9.PNG">  ‚ãÖ‚ãÖ </p><br><p>  Having calculated such coefficients for one year, they can be used for subsequent ones.  My experience shows that the second year from the third, the third from the fourth will differ minimally: for subsequent years, it remains only to check the statistics for the correction of coefficients, and simply substitute the actual cost of a spare part or consumable into the formula.  If in some year the coefficient has greatly increased, then it is worth thinking about modernization, but more on that later. </p><br><p>  <em>There are nontrivial consumables and spare parts for which the coefficients do not work very well.</em>  <em>For example, fuel for DGU.</em>  <em>On the one hand, it‚Äôs difficult to predict how many times Mosenergo will let us down next year, but on the other hand, we have such a predictable thing as testing.</em>  <em>If DGS are regularly tested, then we know the frequency of launches, their duration.</em>  <em>We also know diesel consumption and load.</em>  <em>Based on this we calculate the volume of fuel.</em>  <em>If there is an unplanned shutdown of city power, then the nearest testing is not carried out, since it has already been tested in actual conditions.</em> </p><br><p>  <strong>STEP 3. We calculate the cost of work on each system by contractors.</strong> </p><br><p>  If we have an option when everything is included in the contract, including equipment repair, then we simply request an updated KP, hold a tender or extend the contract for next year without any unnecessary movements (here you can try to bargain with existing contractors to make them cheaper, or they bargain with us to make it more expensive :)).  In the end, we get some fixed price for next year.  It's all clear. </p><br><p>  If only maintenance is specified in the contract, it is necessary to additionally <strong>calculate the cost of repairs and emergency trips.</strong>  There is the same as with consumables and spare parts: look at the statistics on the work done over the past year. </p><br><p>  It is important to consider what our contract is with postpay or prepay, so as not to miss the month of payment.  For example, we are planning to wash the external units of air conditioners in April, which means it will go in March with prepayment, and with post-payment in May.  For someone's accounting, it will be not just different quarters, but different financial years. </p><br><p>  <strong>STEP 4. We summarize all the numbers into one excel file.</strong> </p><br><p>  First, we take our costs for MOT and paint them in the form of a schedule by month.  To this we add in a separate tab the cost of repairs and the cost of spare parts and consumables. </p><br><p>  <em>About the schedule MOT.</em>  <em>I recommend that all works be ‚Äúspread out‚Äù evenly over the calendar year, so that several works do not fall into one month.</em>  <em>Then you will not have to lay out in one month immediately a tidy sum of money, and people who control the work will not be overloaded.</em> </p><br><h2 id="investicionnyy-byudzhet">  Investment budget </h2><br><p>  These are large expenses for modernization and replacement of equipment.  To compile it, we need the following: </p><br><ul><li><p>  data on failures and accidents last year.  We look at the statistics and identify weak links.  For example, we have a constantly breaking air conditioner, which in the last year was replaced 2 times by a compressor.  Or another option: on all air conditioners steam humidifiers break down.  In this case, think about whether it is better to replace this air conditioner entirely or upgrade the entire subsystem, the further you spend money and energy on repairs. </p><br></li><li><p>  data on obsolete elements of the system.  The simplest example is rechargeable batteries.  In my experience, the average battery life is 0.7 from that stated by the manufacturer: if they promise 10 years, after 7 you need to prepare for replacement.  If we change, then immediately the whole line.  For example, we have 12 UPS and 12 racks.  We split the entire replacement into a year: every month we change one rack, starting with the deadly ruler. </p><br></li><li>  everything that we were wrapped up last year with the words: ‚ÄúLet's go back to this issue in a year‚Äù.  Do not forget about these promises and enter into the new budget.  If this has not lost relevance, but should not. </li></ul><br><p>  Next, we calculate the cost of upgrades and replacements with the contractor.  We bring in the budget. </p><br><h3 id="potom-idem-so-vsem-etim-k-nachalstvu-i">  Then we go with all this to the authorities, and ... </h3><br><p>  they offer us to think about how to multiply this by 0.8.  Do not panic.  There is a place for maneuvering. </p><br><h2 id="na-chem-mozhno-sekonomit">  What can you save </h2><br><p>  Thoughtful reading of the <strong>contract for maintenance by the</strong> contractor provides great opportunities to save money.  I <a href="https://habrahabr.ru/company/dataline/blog/321972/">have already written</a> about the intricacies of drawing up such contracts.  Add a little more wisdom.  So, we check: </p><br><ul><li><p>  Do not duplicate the same work under different formulations. </p><br></li><li><p>  Can we do some work that does not require high qualification, to perform on our own.  For example, replace air conditioning filters. </p><br></li><li><p>  Are there any irrelevant work for your systems?  Here are a couple of cases from our practice: the standard contract was to check the oil level in the air conditioner compressor, and we have a chiller circuit, where the compressor is only in the chiller.  Checking steam humidifiers for all air conditioners, although we only had two air conditioners with a steam humidifier. </p><br></li><li><p>  There are no ‚Äúempty‚Äù checks of equipment without subsequent troubleshooting.  It is preferable that the wording be as follows: ‚ÄúVerification and, if necessary, correction of faults‚Äù.  Therefore, if the contract states: ‚ÄúControl of the level of refrigerant and oil‚Äù, then we supplement: ‚ÄúControl of the level of refrigerant and oil, if necessary - refueling‚Äù. </p><br></li><li><p>  Frequency MOT.  It is clear that the more the better the contractor.  Do not be lazy to consult with the manufacturer of the equipment to determine the optimal amount.  Well, look at your practice.  For example, we abandoned the annual oil change for one of the DGU models, since the oil was completely clean.  After consultation with the vendor, we began to change the oil every two years.  Approximately the same situation we had with air conditioners filters, with which we switched to replacements as needed, and not every time MOT was carried out. </p><br></li><li>  Service level and contractor response time to incidents.  You can register everything to the maximum and get the corresponding value of the contract.  Here it is necessary to separate the flies from cutlets critical from non-critical.  For example, decide for yourself whether the arrival of a contractor to the site is really necessary within three hours if the backup air conditioner broke down.  In general, here you can reasonably play with the values ‚Äã‚Äãand bargain for your discount. </li></ul><br><p>  A good way to cut the budget is to <strong>optimize the cost of spare parts and consumables</strong> .  Here it is attentive: I appeal to save NOT by refusing to purchase spare parts.  Do the following: </p><br><ul><li> We buy directly from vendors, and not through contractors and other intermediaries. </li><li>  We use economical analogues of consumables (I'm not talking about Chinese fakes on aliexpress). </li><li>  We unify consumables for equipment of different vendors. </li></ul><br><p>  The most energy-consuming, but effective way to save - to find and eliminate errors in operation, which regularly lead to breakdowns, and therefore to the cost of repairs.  <strong>An audit of engineering systems</strong> will help identify improper operation of equipment, prevent future breakdowns.  Here are my top possible weak points: </p><br><ul><li>  poor quality or late conduct of MOT; </li><li>  incorrect equipment operation algorithms, for example, frequent stops and starts of compressors; </li><li>  underestimated settings on air conditioners due to incorrectly installed server hardware; </li><li>  load imbalance in phases and rays. </li></ul><br><p>  Problems in operation may be inherited from those who made mistakes at the <a href="https://habrahabr.ru/company/dataline/blog/311826/">design</a> or construction stage. <br>  Unlike previous techniques, an audit will help not only to spend less, but also <a href="https://habrahabr.ru/company/dataline/blog/329744/">save the</a> data center from potential accidents. </p><br><h2 id="na-chem-nelzya-ekonomit">  What can not be saved </h2><br><p>  Gladly deleting articles from the budget, do not even think about cutting the next expenses. </p><br><p>  <strong>Testing.</strong>  If you want to sleep well, then combat exercises are necessary.  Let better the malfunction in the equipment or system (and sometimes in the process) manifest itself in all its glory under our control, than it will happen on December 31, when the right people will dance around the Christmas tree. <br>  You need to test correctly.  In my understanding, this is complex and regular.  Even when we are testing diesel generators, we have the opportunity to simultaneously test the uninterrupted power supply system, monitoring, and much more (read more <a href="https://habrahabr.ru/company/dataline/blog/319926/">here</a> ).  If the last 44 tests were successful, it does not mean that the 45th can be postponed or canceled. </p><br><p>  <strong>Seasonal preparatory work</strong> .  First of all it concerns the cooling system.  Before the summer season, at the latest - in April, you need to flush all the external units and chillers, check the installed IT equipment in the halls, and ensure that the backup air conditioners are working ( <a href="https://habrahabr.ru/company/dataline/blog/256229/">here</a> he described in detail how to prepare the data center for the summer). <br>  We are preparing for winter in October: we merge everything that can freeze, check the heating of the diesel generator set. </p><br><p>  <strong>Purchase of spare parts.</strong>  My experience shows that a contractor or your engineer can be quickly pulled to the site at night, on weekends or holidays, but to bring the necessary part from the warehouse is just as quickly difficult.  Warehouses live according to their own schedule, not 24x7.  And there just may not be the necessary details.  Then the spare parts will have to wait for weeks, if not months. <br>  It is not necessary to duplicate all the infrastructure in the warehouse.  It is enough to identify those parts that often have to be changed (again, we look at the statistics), and those due to which you may lose the reserve or even stay with inactive equipment / system.  When we let stocks into the business, we immediately buy new ones, although the accounting department will be surprised to ask: ‚ÄúWhy do you need a new one, did you just change it?‚Äù <br>  And another point: the list of spare parts is not a constant.  Every time something new will break, do not forget to add it to the list of future purchases for permanent storage in your warehouse. </p><br><p>  If you are not convinced, then here is an <a href="https://habrahabr.ru/company/dataline/blog/333578/">instructive case for you</a> , after which we began to purchase and store spare parts and tools. </p><br><img src="https://habrastorage.org/web/c0c/0cb/71e/c0c0cb71e0c14e6b8d0332bb5fdbde08.JPG"><br><p>  <em>Warehouse with spare parts for cooling systems at the site OST.</em> </p><br><p>  And the last farewell. </p><br><p>  If budgeting is a science, then reconciliation is more like art, which, however, can also be mastered.  On defense, management likes to ask tricky questions, such as: ‚ÄúWhy is there 150, not 149 thousand?‚Äù Or: ‚ÄúWhy do you need so much for the fans?‚Äù If you, without regaining consciousness, can answer with examples from the statistics, where each figure, then repulse. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/334320/">https://habr.com/ru/post/334320/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334306/index.html">Job search in the Czech Republic on their own experience</a></li>
<li><a href="../334308/index.html">JetBrains MPS for those interested # 1</a></li>
<li><a href="../334314/index.html">Reduce the size of the application: proven methods</a></li>
<li><a href="../334316/index.html">‚ÄúAlex, please kill me already‚Äù: conversational interfaces</a></li>
<li><a href="../334318/index.html">Happy System Administrator</a></li>
<li><a href="../334322/index.html">Configuring Authentication in Citrix XenDesktop 7.xc Using JaCarta PKI Smart Cards</a></li>
<li><a href="../334324/index.html">ICFP Contest 2017 - strength test for real developers</a></li>
<li><a href="../334326/index.html">Yota in Russia: from unlimited to flexible packages</a></li>
<li><a href="../334328/index.html">What is needed for high-quality Web development?</a></li>
<li><a href="../334330/index.html">As a large courier company, the personal data of its customers handed out</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>