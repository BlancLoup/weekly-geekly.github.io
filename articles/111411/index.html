<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Habr's favorites in PDF</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All with the coming! 

  

 Since I like to organize and catalog everything, the idea of ‚Äã‚Äãwrapping selected topics from Habr in PDF has long been tur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Habr's favorites in PDF</h1><div class="post__text post__text-html js-mediator-article"> All with the coming! <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/357/b42/d3b/357b42d3bb619ed6951ecc69ff845340.jpg" alt="image"></a> <br><br>  Since I like to organize and catalog everything, the idea of ‚Äã‚Äãwrapping selected topics from Habr in PDF has long been turned around and sorted by dates. <br>  Actually, some free time was allocated on holidays, I decided to carry out my plans and share with Habr 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>UPD:</b> <br>  - Fixed the error ‚Äútoo large on page‚Äù (more on github) Thanks to <a href="https://habrahabr.ru/users/bifidokk/" class="user_link">Bifidokk</a> and <a href="https://habrahabr.ru/users/streetangel/" class="user_link">StreetAngel</a> <br>  - Authors of topics made by reference <br>  - Added ability to save favorites from specified blogs only <br><br><a name="habracut"></a><br><br>  The script requires <a href="http://www.xhtml2pdf.com/">python-pisa</a> <br>  Work under windows unfortunately not tested, no nearby <br><br>  Startup order: <br><br>  We edit fav2pdf.py for your needs. <br><br> <code>user = 'vrtx' -   <br> site = user + '.habrahabr.ru' <br> from_date = '1  2011' - ,     <br> to_date = '' - ,    </code> <br> <br>  Run <br><br> <code>python fav2pdf.py</code> <br> <br>  The output will be approximately following <br><br> <code>Processed page 1 of 25: <br> ---------------------- <br> 1 Topic: -&gt;50      <br> 2 Topic: Android-&gt;[]      Android <br> 3 Topic: Mobile Development-&gt;      Samsung Bada <br> 4 Topic:  -&gt;Brainfuck    <br> Topic: -&gt;  ,  1.0,   is locked! <br> ---------------------- <br> <br> Prepare PDF... <br></code> <br><br>  As a result, next to the script, we will get a file with the name of your nickname in pdf format <br><br>  Features: <br><ul><li>  Main page with content </li><li>  The topic header leads to the topic in Habr√© </li><li>  Pages are pulled from the mobile version of the Habr </li><li>  The ability to limit the selection by dates, you can, for example, personal habrazh magazine :) </li><li>  Ability to pull out the favorites of any user </li></ul><br>  Unfortunately, the topics in the favorites are sorted by the date they were added there, and not by the date of publication, so I had to sort through all my favorites, <br>  which, although it does not greatly affect the speed (reading at 256k is about 230 topics ~ for 3 min), but not pleasant. <br><br>  Minuses: <br><ul><li>  Does not read closed blogs (login required) </li><li>  I hope from the temporary disadvantages - glitches with the display of the contents of the pre tag (native syntax highlighting), rarely anyone using it from the authors, but still </li><li>  There may also be other flaws in the display due to limited CSS support in PISA. </li><li>  pisa-parser does not see links to Cyrillic images </li><li>  Did not do any "foolproof" </li></ul><br>  So far I have not found the minuses anymore, but anyway, the ones that I mentioned met in my favorites, and this was not a lot of 230 topics + tested on several users. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b33/3ab/39b/b333ab39b2797d819088500ef5536251.jpg" alt="image"></a> <br><br>  Who is still interested, link to <a href="https://github.com/vrtx64/fav2pdf">github</a> <br><br>  Instructions for running the script under Windows, thanks to <a href="https://habrahabr.ru/users/desiderata/" class="user_link">desiderata</a> : <br><br> <code>1.  Python 2.7.1 x86 (  3.0     ,  x64   _imaging) <br> 2.  pisa 3.0.31     : <br>     Windows Installer, <br>   C:\python27\python.exe setup.py install <br> ReportLab Toolkit 2.5, html5lib 0.9, PyPdf 1.13, PIL 1.1.7, setuptools 0.6c11, pisa 3.0.33. <br> 3.  C:\Python27\Lib\site-packages\PIL\Image.py  . <br> 4.  fav2pdf.py    . <br> 5. C:\Python27\python.exe fav2pdf.py <br> 6. PROFIT   .</code> <br> <br>  PS At the end of the script, the All-In-One script gave an error in pisa_document.py ", line 229, in pisaDocument <br>  However, the PDF file was successfully created and contains all the articles from the favorites. <br><br>  PS <br>  If a similar error occurs during the script, it is treated with the PIL patch: <br> <code>File "/usr/lib/python2.6/dist-packages/PIL/Image.py", line 1498, in split <br> if self.im.bands == 1: <br> AttributeError: 'NoneType' object has no attribute 'bands' <br></code> <br>  Decision: <br> <code><a href="https://bitbucket.org/effbot/pil-2009-raclette/overview"></a> # HG changeset patch -- Bitbucket.org <br> # Project pil-2009-raclette <br> # URL bitbucket.org/effbot/pil-2009-raclette/overview <br> # User Fredrik Lundh &lt;fredrik@effbot.org&gt; <br> # Date 1272193085 -7200 <br> # Node ID fb7ce579f5f96f7d9008f72ab03eef4f1c6db609 <br> # Parent 45c2debe0fc3d9632372a15826b1b64a35ff43c4 <br> Fixed split after open bug (regression in 1.1.7). <br> <br> --- a/PIL/Image.py <br> +++ b/PIL/Image.py <br> @@ -1494,11 +1494,11 @@ class Image: <br> def split(self): <br> "Split image into bands" <br> <br> + self.load() <br> if self.im.bands == 1: <br> ims = [self.copy()] <br> else: <br> ims = [] <br> - self.load() <br> for i in range(self.im.bands): <br> ims.append(self._new(self.im.getband(i))) <br> return tuple(ims) <br></code> <br><br>  PS2 <br>  Not at all strong in regulars, if someone prompts more optimal expressions, I will be grateful. </div><p>Source: <a href="https://habr.com/ru/post/111411/">https://habr.com/ru/post/111411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111399/index.html">Configure PPPoE with traffic shaping for a small network</a></li>
<li><a href="../111401/index.html">How to design programs and their user interfaces, or DISC theory for ‚Äúnon-licenses‚Äù</a></li>
<li><a href="../111402/index.html">Bicubic interpolation, theory and practical implementation</a></li>
<li><a href="../111404/index.html">Answering machine for calls to Skype for Python</a></li>
<li><a href="../111408/index.html">Creating your own archetypes and directories in Maven</a></li>
<li><a href="../111412/index.html">Excel is my financial auditor</a></li>
<li><a href="../111413/index.html">Molecular Dynamics Programming</a></li>
<li><a href="../111415/index.html">We write our handler task on .NET</a></li>
<li><a href="../111416/index.html">"Vkontakte" - a paradise for the spammer</a></li>
<li><a href="../111417/index.html">Genetic Algorithms in MATLAB</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>