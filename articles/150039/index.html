<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AMatch, part 2. Error codes, own errors, new callback format</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will talk about some of the innovations that have appeared in the AMatch project since the writing of the first article . 

 Let me ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AMatch, part 2. Error codes, own errors, new callback format</h1><div class="post__text post__text-html js-mediator-article">  In this article I will talk about some of the innovations that have appeared in the <a href="https://github.com/KIVagant/AMatch">AMatch</a> project since the writing of the <a href="http://habrahabr.ru/post/149114/">first article</a> . <br><br>  Let me remind you that AMatch is a class with which the validation of input parameters from a large set of if-s turns into a convenient, concise record.  For example: <br><br>  <i>Example: simple</i> <br><pre><code class="php hljs">$match = AMatch::runMatch($params) -&gt;doc_id(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//    -&gt;subject_id(0, '!=') //    ; $result = $match-&gt;stopMatch(); if (!$result) { die(var_export($match-&gt;matchComments(), true)); //    }</span></span></code> </pre> <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Input data </h4><br>  In the following examples, we will check the array in ‚Äúgood‚Äù and ‚Äúbad‚Äù form: <br><br>  <i>Example: input data</i> <br><pre> <code class="php hljs">$params = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'subject_id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'64'</span></span>, <span class="hljs-string"><span class="hljs-string">'parent_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">-32</span></span>, <span class="hljs-string"><span class="hljs-string">'delimeter'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-4.645E+32'</span></span>, <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'New document'</span></span>, <span class="hljs-string"><span class="hljs-string">'links'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-string"><span class="hljs-string">'-16'</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>), <span class="hljs-string"><span class="hljs-string">'email'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'someuser@mail.dom'</span></span>, ); $params_bad = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'subject_id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'64.43'</span></span>, <span class="hljs-string"><span class="hljs-string">'parent_id'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(), <span class="hljs-string"><span class="hljs-string">'delimeter'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-4.x6E.32'</span></span>, <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> stdClass(), <span class="hljs-string"><span class="hljs-string">'links'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>)), <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'email'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'someuser!@mail.dom'</span></span>, );</code> </pre><br><br>  To check the test results, we write the function: <br><br>  <i>Example: result function</i> <br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">result</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AMatch $match)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $match-&gt;stopMatch() ? <span class="hljs-string"><span class="hljs-string">'Dance!'</span></span> : <span class="hljs-string"><span class="hljs-string">'Cry!'</span></span> ; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> PHP_EOL; var_export($match-&gt;matchResults()); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> PHP_EOL; var_export($match-&gt;matchComments()); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> PHP_EOL; var_export($match-&gt;matchCommentsConditions()); }</code> </pre><br><br><h4>  Bug work </h4><br>  In the first version, errors were given by string constants.  This is quite enough to make your own mapping, but it was ugly.  At the moment, errors made in a separate class <b>AMatchStatus</b> .  This allowed us to do the following nice things: <br><br><h5>  Getting error codes </h5><br>  Let's make a simple condition of validation and send there consistently good and bad arrays. <br><br>  <i>Example: bad and good policeman</i> <br><pre> <code class="php hljs">$match = AMatch::runMatch($params, AMatch::FLAG_SHOW_GOOD_COMMENTS)-&gt;delimeter(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'float'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//     result($match); $match = AMatch::runMatch($params_bad, AMatch::FLAG_SHOW_GOOD_COMMENTS)-&gt;delimeter('', 'float'); result($match);</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">As a result, we get the following answer</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   Dance! array ( 'delimeter' =&gt; 103, ) array ( 'delimeter' =&gt; 'OK. Expected parameter type is valid', ) array ( 'delimeter' =&gt; array ( 0 =&gt; '', 1 =&gt; 'float', ), ) //   Cry! array ( 'delimeter' =&gt; 3, ) array ( 'delimeter' =&gt; 'Expected parameter type is not valid', ) array ( 'delimeter' =&gt; array ( 0 =&gt; 'float', 1 =&gt; 'float', ), )</span></span></code> </pre><br></div></div><br>  As can be seen from the example: <br>  - matchResults () will return error codes, <br>  - matchComments () - comments, <br>  - matchCommentsConditions () - validation condition and additional information. <br><br><div class="spoiler">  <b class="spoiler_title">Additional information about float in AMatch</b> <div class="spoiler_text">  Note that float is not checked via is_float <br>  // Valid float values: <br>  1, -1, 1.0, -1.0, '1', '-1', '1.0', '-1.0', '2.1', '0', 0, '0', '0.1', '-0.0' , -0.0, 3., '-3.', '.27', .27, '-0', '+4', '1e2', '+1353.0316547', '13213.032468e-13465', '-8E +3 ',' -1354.98879e + 37436 ' <br><br>  // Valid values: <br>  false, true, '', '-', '.a', '-1.a', '.a', '.', '-.', '1+', '1.3+', 'a1' , 'e.e', '-e-4', 'e2', '8e', '3.25', '1.1.1' <br></div></div><br><br><h5>  Mapping errors </h5><br>  Let's try to write a function that will make the output of errors "out" in accordance with some accepted standard within the existing code. <br><br>  <i>Example: mapping</i> <br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mapping</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AMatch $match)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   $errors_mapping = array( AMatchStatus::KEY_TYPE_NOT_VALID =&gt; 'invalid_type', AMatchStatus::KEY_CONDITION_NOT_VALID =&gt; 'invalid_data', AMatchStatus::KEY_NOT_EXISTS =&gt; 'required', ); $results = $match-&gt;matchResults(); //    $comments = $match-&gt;matchComments(); //    $comments_conditions = $match-&gt;matchCommentsConditions(); //   $output = array(); foreach ($results as $param =&gt; $result) { $error = array_key_exists($result, $errors_mapping) ? $errors_mapping[$result] : 'other_errors'; // ,      $comment = $param . ': ' . $comments[$param]; if (isset($comments_conditions[$param]) &amp;&amp; !empty($comments_conditions[$param][0])) { $comment .= ' (' . $comments_conditions[$param][0] . ')'; //   } $output[$error][] = $comment; } var_export($output); } $match = AMatch::runMatch($params_bad, AMatch::FLAG_SHOW_GOOD_COMMENTS | AMatch::FLAG_DONT_STOP_MATCHING) -&gt;title('', 'string') //    string -&gt;parent_id('', 'int') //    string -&gt;ineedkey() //    -&gt;subject_id(1, '&gt;') // "1"    -&gt;delimeter('', 'blabla') //    ; mapping($match);</span></span></code> </pre><br><br>  As a result of the execution of this code, an array will be obtained with the structure of errors that is usual for the code written earlier. <br><br><div class="spoiler">  <b class="spoiler_title">Result of the example "mapping"</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-string"><span class="hljs-string">'invalid_type'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title: Expected parameter type is not valid (string)'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'parent_id: Expected parameter type is not valid (int)'</span></span>, ), <span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ineedkey: Expected parameter does not exist in the array of parameters'</span></span>, ), <span class="hljs-string"><span class="hljs-string">'invalid_data'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'subject_id: Condition is not valid (1)'</span></span>, ), <span class="hljs-string"><span class="hljs-string">'other_errors'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'delimeter: Condition is unknown'</span></span>, ), )</code> </pre><br></div></div><br><br><h5>  Own decoding of errors for any condition </h5><br>  In order for any condition to get its own error in the comments (in the case of failure of this condition), it is enough to pass the text to the third parameter.  Add in the example described above (‚Äúmapping‚Äù) your text to the error: <br><br>  <i>Example: unique errors</i> <br><pre> <code class="php hljs">... -&gt;title(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">'Incorrect document title. Please, read FAQ.'</span></span>) ...</code> </pre><br><br><div class="spoiler">  <b class="spoiler_title">And execute it again</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-string"><span class="hljs-string">'other_errors'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title: Incorrect document title. Please, read FAQ. (string)'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'delimeter: Condition is unknown'</span></span>, ),</code> </pre><br></div></div><br>  But to replace every condition is not always necessary.  Sometimes you need to replace all comments. <br><br><h5>  Class substitution with errors (including i18n) </h5><br>  Let's go back to the mapping example again.  To fully replace all the necessary errors, we will write a class-successor from AMatchStatus.  Inside it is necessary to overload the _fillComments () method, not forgetting to call the parent.  You need to create an object of this class and pass it to AMatch :: runMatch ();  third parameter. <br><br>  <i>Example: russian</i> <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AMatchRussian</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AMatchStatus</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_fillComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::_fillComments(); <span class="hljs-comment"><span class="hljs-comment">//     ,         $this-&gt;_result_comments[self::KEY_NOT_EXISTS] = ',  .  '; $this-&gt;_result_comments[self::KEY_CONDITION_NOT_VALID] = '   ,   '; $this-&gt;_result_comments[self::CONDITION_IS_UNKNOWN] = ''; } } $match = AMatch::runMatch($params_bad, AMatch::FLAG_SHOW_GOOD_COMMENTS | AMatch::FLAG_DONT_STOP_MATCHING, new AMatchRussian()) // ...   ,     mapping ; mapping($match);</span></span></code> </pre><br><br>  The answer will contain translated constructions along with those that do not have a translation. <br><div class="spoiler">  <b class="spoiler_title">The result of the example "russian"</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-string"><span class="hljs-string">'other_errors'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title: Incorrect document title. Please, read FAQ. (string)'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'delimeter: '</span></span>, ), <span class="hljs-string"><span class="hljs-string">'invalid_type'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'parent_id: Expected parameter type is not valid (int)'</span></span>, ), <span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ineedkey: ,  .  '</span></span>, ), <span class="hljs-string"><span class="hljs-string">'invalid_data'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'subject_id:    (1)'</span></span>, ), )</code> </pre><br></div></div><br><br><h4>  New callback features </h4><br>  In addition to tracking errors, work with user-defined functions has been somewhat improved.  Let me remind you that earlier they could be called as follows: <br><br><pre> <code class="php hljs">$match-&gt;data(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, <span class="hljs-string"><span class="hljs-string">'callbackMethod'</span></span>), <span class="hljs-string"><span class="hljs-string">'callback'</span></span>);</code> </pre><br>  Currently, callback support has been expanded, and now you can call as follows: <br><br>  <i>Example: callback</i> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// param([mixed $callback_argument], [callable|callable $callback]) //  // param([callable|string $callback], 'callback') // : -&gt;param($callback_property, 'MyClass::myFunc') -&gt;param($callback_property, 'MyClass-&gt;myFunc') -&gt;param($callback_property, array($my_obj, 'myFunc')) -&gt;param($callback_property, array('MyClass', 'myFunc'))</span></span></code> </pre><br><br><h4>  Embedded callback plugins </h4><br>  Together with the library AMatch are examples of ready-made classes with methods that can be used as a user call.  These are two classes: <br><ol><li>  class AMatchArray </li><li>  class AMatchString </li></ol><br>  Consider usage examples: <br><br>  <i>Example: plugins</i> <br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">matchCallbacks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($params)</span></span></span><span class="hljs-function"> </span></span>{ $match = AMatch::runMatch($params, AMatch::FLAG_DONT_STOP_MATCHING) -&gt;parent_id(<span class="hljs-string"><span class="hljs-string">'/^-?\d+$/'</span></span>, <span class="hljs-string"><span class="hljs-string">'AMatchString::pregMatch'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//     -&gt;title(12, 'AMatchString::length') //    -&gt;email('([\w-]+@([\w-]+\.)+[\w-]+)', 'AMatchString::isEmail') //  email   (  ) -&gt;links(AMatchArray::FLAG_EMPTY_SOME_ELEMENT, 'AMatchArray::isNotEmpty') //     :            - ; result($match); } matchCallbacks($params); matchCallbacks($params_bad);</span></span></code> </pre><br><br><div class="spoiler">  <b class="spoiler_title">Result of the example "plugins"</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   Dance! array ( ) array ( ) array ( ) //   Cry! array ( 'parent_id' =&gt; 'str3', 'title' =&gt; 'str5', 'email' =&gt; 'str4', 'links' =&gt; 'arr8', ) array ( 'parent_id' =&gt; 'The string does not match the regular expression', 'title' =&gt; 'String required', 'email' =&gt; 'Incorrect email', 'links' =&gt; 'At least one element of the array must be non-empty', ) array ( 'parent_id' =&gt; array ( 0 =&gt; '/^-?\\d+$/', 1 =&gt; 'AMatchString::pregMatch', ), 'title' =&gt; array ( 0 =&gt; 12, 1 =&gt; 'AMatchString::length', ), 'email' =&gt; array ( 0 =&gt; 'someuser!@mail.dom', 1 =&gt; 'AMatchString::isEmail', ), 'links' =&gt; array ( 0 =&gt; NULL, 1 =&gt; 'AMatchArray::isNotEmpty', ), )</span></span></code> </pre><br></div></div><br><br><h4>  After letter </h4><br>  The general scheme for calling AMatch is as follows: <br><br><pre> <code class="php hljs">$match = AMatch::runMatch(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span> $associative_array, bitmask $flags, AMatchStatus $obj) -&gt;_([___], []) -&gt;‚Ä¶; $match-&gt;stopMatch(); <span class="hljs-comment"><span class="hljs-comment">//    $match-&gt;matchResults(); //    (   ,  ) $match-&gt;matchComments(); //   $match-&gt;matchCommentsConditions(); //   </span></span></code> </pre><br>  You can find more examples (see unittests) and <a href="https://github.com/KIVagant/AMatch">download the AMatch source on the githaba</a> , where you will <a href="https://github.com/KIVagant/AMatch">find a</a> ready-made example file for this article (examples2.php). <br><br>  UPD: <br>  Converted to <a href="https://packagist.org/packages/kivagant/amatch">Composer</a> . </div><p>Source: <a href="https://habr.com/ru/post/150039/">https://habr.com/ru/post/150039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150031/index.html">Cach√© + Java + Flex. Part 2</a></li>
<li><a href="../150032/index.html">ATLAS experiment - a simplified description of the task and a bit about the detector</a></li>
<li><a href="../150034/index.html">We implement RESTful Web Service on java</a></li>
<li><a href="../150037/index.html">FBI for the first time arrested websites with pirated applications for Android</a></li>
<li><a href="../150038/index.html">Smile to login!</a></li>
<li><a href="../150041/index.html">Class Relationships - From UML To Code</a></li>
<li><a href="../150042/index.html">Andengine: arbitrary landscape with texture</a></li>
<li><a href="../150043/index.html">Mathematical expressions in .NET (parsing, differentiation, simplification, fractions, compilation)</a></li>
<li><a href="../150044/index.html">Organization and optimization of user information space</a></li>
<li><a href="../150045/index.html">10G aggregators for providers and data centers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>