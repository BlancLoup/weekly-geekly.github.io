<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Home office", or when you do not need to go to work</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Home office", or when you do not need to go to work 

 I have long dreamed about this, and then, finally, it happened! I can work at home and do (alm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Home office", or when you do not need to go to work</h1><div class="post__text post__text-html js-mediator-article"><h4>  "Home office", or when you do not need to go to work </h4><br><br>  I have long dreamed about this, and then, finally, it happened!  I can work at home and do (almost) everything that I usually do in the office.  And I managed it because I configured <a href="http://toic.org/2009/01/18/reverse-ssh-port-forwarding/">Reverse SSH tunnel</a> on my home server and learned how to manage this tunnel. <br><br><a name="habracut"></a>  Continuing ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the office, I have to do this: <br><ol><li>  work with ORACLE (requests, procedures, etc.) - connection to servers is required (ports 1521, 1527) </li><li>  work with UNIX (scripts, file copying, etc.) - telnet or SSH connection is required </li><li>  office mail </li><li>  communication with colleagues </li><li>  view Habra and other places of interest </li></ol><br><br>  Due to the fact that my home <a href="http://netbynet.ru/">provider</a> provides me with a direct IP, and thanks to the courtesy of our network administrators at work, I have access to home from a working machine.  I use this opportunity to access home laptops (I have 3) from work via <a href="http://www.tightvnc.com/">VNC</a> , as well as to copy files to the home server and back.  Of course, at the entrance there is a <a href="http//www.dd-wrt.com/wiki/index.php/Linksys_WRT54G/GL/GS/GX">router</a> with NAT and other bells and whistles, which allows me <s>to live beautifully to</s> separate incoming connections. <br><br>  But I do not have access from home to a working machine.  Company security policy does not allow.  VPN and other things (yet) are missing.  Mom, mom, what will I do?  <a href="http://www.perlodrom.ru/kino/kindzadza/">Koo!</a> <br><br>  We set the task: to provide work on points (1-5) from home.  At work - Windows, the work computer does not turn off.  There is a <a href="http://www.nslu2-linux.org/">Linux</a> -based <a href="http://www.nslu2-linux.org/">NSLU2</a> server at <a href="http://www.nslu2-linux.org/">home</a> .  Apache is running on the server, its logs are available for reading and analysis. <br><br>  Items 3, 4 and 5 are accessible from home by phone, browser and chat agent.  But 1 and 2 in the usual way - no way. <br><br>  And here comes the ‚Äúsweet couple‚Äù - <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">Putty</a> from the side of the working machine (hereinafter - the client) and <a href="http://www.openssh.org/manual.html">sshd</a> from the home server (hereinafter - the server).  Typically, the client opens a connection to the server via SSH and establishes a secure "tunnel".  The initiator of the connection "there" is always the client. <br><br>  I will not describe all the possibilities of SSH - we are only interested in one of them.  It is possible to establish a so-called ‚Äúreverse tunnel‚Äù - this means that the server transmits data to the specified port of the client, and the client can send this data further through its network. <br><br>  What do we get by setting the ‚Äúreverse tunnel‚Äù?  And we will get access through this tunnel from the home network to the work network, i.e.  ability to work with all servers that are usually accessible only from the working network.  You only need to correctly configure the tunnel - which ports of the server lead to which addresses and ports of the client.  This is done in the Putty settings when describing the connection. <br><br>  It is not possible to keep such a tunnel constantly: breaks in the connection, and it is not always necessary.  The solution is to establish a tunnel as needed (after drinking coffee at home and finally deciding to work).  Yes, but there‚Äôs nobody at work?  Who will launch Putty to raise the connection?  Like who?  Grandfather Pihto of course.  Himself working comp and run, you only need to ask.  But how?  The work computer should read my thought ‚ÄúI want the connection to be established‚Äù and execute it. <br><br>  The only thing left is to learn how to materialize your thoughts and teach the working comp to understand them.  And then - it's simple. <br><br>  I decided to materialize my thought into a regular text file.  Yes, the thought should be simple and short.  An!  And the tigers sat down at my feet.  - In the sense, "UP" - to raise the connection.  ‚ÄúDN‚Äù - lower the connection.  Briefly and clearly. <br><br>  The client-server scenario looks like this: <br><ol><li>  Create a file (let's call it cmd-file) with one line of text (command) and put it on the home page so that the working computer can read and process the command. </li><li>  We are waiting for the working computer to read the command (watching the Apache logs).  When the GET request comes to download cmd-file from the working address, we can say that our team is received. </li><li>  The working computer executes the command UP (raises the connection) or DN (breaks it). </li><li>  After executing the command, the working computer requests from the homepage a cmd file with the additional parameter "? ANS".  Having received GET, we can say that our team is successful. </li></ol><br><br>  The rest is to automate all processes on the client side (in the office) and on the server side (at home) - and that‚Äôs all, you can <s>smoke bamboo</s> to work from home. <br><br>  The script for the client consists of a <a href="">front-end</a> (always running) and a <a href="">back-end</a> (running to execute the command), the script to manage from the server side is only <a href="">one</a> . <br><br>  To make it work, you should run the front-end script on your work computer, and you can go home.  By running the script on the server at home and specifying the <b>UP</b> command, we will receive in 1-2 minutes confirmation that the command has been completed.  Everything, it is possible to begin working with working servers as if they were in the home network.  When the work is completed, you should specify the <b>DN</b> command, and everything will turn off. <br><br>  If the connection is broken, it will automatically rise in a couple of minutes by the work computer.  If there is a connection but it doesn‚Äôt work, then you should execute the <b>DN</b> command and in a couple of minutes the <b>UP</b> command. <br><br>  Future plans include setting up the PSTN &lt;-&gt; VoIP gateway, so that the work phone can be accessed at home.  Well, as usual, the ultimate goal - the seizure of the universe. </div><p>Source: <a href="https://habr.com/ru/post/55173/">https://habr.com/ru/post/55173/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../55166/index.html">Subversion 1.6 and TortoiseSVN 1.6 released</a></li>
<li><a href="../55167/index.html">Speaking English</a></li>
<li><a href="../55169/index.html">How to read Habrahabr from a cell phone screen.</a></li>
<li><a href="../55170/index.html">Operating experience BlackBerry 8800</a></li>
<li><a href="../55172/index.html">About the dash in the ranges. Finally it came to him.</a></li>
<li><a href="../55181/index.html">Network infrastructure: AS, PI, LIR and other goodies. :)</a></li>
<li><a href="../55182/index.html">What's in the box?</a></li>
<li><a href="../55185/index.html">PHP 5.3 programming</a></li>
<li><a href="../55187/index.html">Twit. Continued.</a></li>
<li><a href="../55189/index.html">Perl '2009</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>