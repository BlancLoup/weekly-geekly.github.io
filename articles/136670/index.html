<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Prolog. We program automatic machines</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After reading the article about Prolog, I decided to write a small addition to it in the form of 2 small tasks. 
 Here they are: 
 1. The brainfuck la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Prolog. We program automatic machines</h1><div class="post__text post__text-html js-mediator-article">  After reading the <a href="http://habrahabr.ru/blogs/programming/124820/">article</a> about Prolog, I decided to write a small addition to it in the form of 2 small tasks. <br>  Here they are: <br>  1. The brainfuck language interpreter <br>  2. Turing machine <br><a name="habracut"></a><br>  First we need a <a href="http://www.swi-prolog.org/download/stable">SWI-Prolog</a> and some free time. <br><br><h5>  Task 1. The brainfuck language interpreter </h5><br>  Let's start with copy-paste from <a href="http://ru.wikipedia.org/wiki/Brainfuck">Wikipedia</a> . <br>  Brainfuck - one of the most famous esoteric programming languages, invented by Urban Muller in 1993 for fun.  The language has eight commands, each of which is written in one character.  The source code of the Brainfuck program is a sequence of these characters without any additional syntax. <br>  The machine managed by the Brainfuck commands consists of an ordered set of cells and a pointer to the current cell, resembling a ribbon and a head of a Turing machine.  In addition, it implies a device for communicating with the outside world (see commands. And,) through the input stream and the output stream. <br><br><h6>  Commands and their description: </h6><br><ul><li>  &gt; move to the next cell </li><li>  &lt;go to previous cell </li><li>  + increase the value in the current cell by 1 </li><li>  - reduce the value in the current cell by 1 </li><li>  .  print the value from the current cell </li><li>  , enter value from outside and save to current cell </li><li>  [if the value of the current cell is zero, go forward in the program text to the cell next to the corresponding one] (taking into account nesting) </li><li>  ] if the value of the current cell is not zero, go back through the program text to the symbol [(including nesting) </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The tape is presented in the form of a database. <br>  data (Address, Value). <br>  The head is represented by the cell address. <br>  pos (Address). <br><br>  Actually code with comments: <br><pre><code class="hljs haskell">% , cout:- %    pos(<span class="hljs-type"><span class="hljs-type">Addr</span></span>), %  <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">), %    put_char([</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">]). % . cin:- %    pos(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">), %    retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">)), %  get_single_char(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">), %    assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">)). % + - add(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddValue</span></span></span><span class="hljs-class">):- %  pos(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">), %  retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">)), %   1 </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NewValue</span></span></span><span class="hljs-class"> is </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">+</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddValue</span></span></span><span class="hljs-class">, %   assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NewValue</span></span></span><span class="hljs-class">)). % &gt; &lt; addr(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Side</span></span></span><span class="hljs-class">):- %   retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pos</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">)), %   </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NewAddr</span></span></span><span class="hljs-class"> is </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">+</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Side</span></span></span><span class="hljs-class">, %     assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pos</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NewAddr</span></span></span><span class="hljs-class">)), %       (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NewAddr</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">),!;assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NewAddr</span></span></span><span class="hljs-class">,0))). % ] goto:- %  pos(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">), %      0 </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">),</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">==0,!, % 0,        retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">circle</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">|</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">])), %  assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">circle</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">)). goto:- %     circle([[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">N</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">]|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">]), seeing(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Stream</span></span></span><span class="hljs-class">), seek(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Stream</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">N</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bof</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">). % [ loop:- %       retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">circle</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">)), seeing(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Stream</span></span></span><span class="hljs-class">), %    character_count(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Stream</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Pos</span></span></span><span class="hljs-class">), %   %(  = 0,     ) pos(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">), </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Addr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">), assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">circle</span></span></span><span class="hljs-class">([[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Pos</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">]|</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">])). do:- %  get_char(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">X</span></span></span><span class="hljs-class">), %  step(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">X</span></span></span><span class="hljs-class">), %    not(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">at_end_of_stream</span></span></span><span class="hljs-class">),!, do. do:- % ,    seeing(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Stream</span></span></span><span class="hljs-class">), close(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Stream</span></span></span><span class="hljs-class">), seen. step('['):-loop,!. step(']'):-goto,!. %    " " %(       ) step(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">):-circle([[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">StartValue</span></span></span><span class="hljs-class">]|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">]),</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">StartValue</span></span></span><span class="hljs-class">==0,!. step('&gt;'):-addr( 1),!. step('&lt;'):-addr(-1),!. step(','):-cin,!. step('.'):-cout,!. step('+'):-add( 1),!. step('-'):-add(-1),!. step(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">). run(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Path</span></span></span><span class="hljs-class">):- see(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Path</span></span></span><span class="hljs-class">), %  (    ) retractall(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pos</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">)), retractall(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">)), retractall(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">circle</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">)), %    assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pos</span></span></span><span class="hljs-class">(1)), %  0 assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(1,0)), assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">circle</span></span></span><span class="hljs-class">([])),do.</span></span></code> </pre> <br><br>  To check in the terminal we write: <br><br>  freest @ PC: $ swipl -s &lt;path.tofile&gt; <br>  ? -run ('Path.to.Brainfuck.code'). <br><br>  Let's test on an example from <a href="http://ru.wikipedia.org/wiki/Brainfuck">wiki</a> . <br><br>  Hello World!  on brainfuck <br><br>  ++++++++++ [&gt; +++++++&gt; +++++++++&gt; +++&gt; + &lt;&lt;&lt;&lt; -]&gt; ++ <br>  .&gt; +. +++++++ .. +++.&gt; ++. &lt;&lt; ++++++++++++++.&gt;. +++. <br>  ------.--------.&gt; +.&gt;. <br><br>  Something like this should come out: <br><br>  freest @ PC: / media / C6984667984655D9 $ swipl -s bf.pro <br>  % library (swi_hooks) compiled into pce_swi_hooks 0.00 sec, 2,224 bytes <br>  % /media/C6984667984655D9/bf.pro compiled 0.00 sec, 4,676 bytes <br>  Welcome to SWI-Prolog (Multi-threaded, 32 bits, Version 5.10.4) <br>  Copyright ¬© 1990-2011 University of Amsterdam, VU Amsterdam <br>  SWI-Prolog comes with ABSOLUTELY NO WARRANTY.  This is free software, <br>  and you are welcome to redistribute it under certain conditions. <br>  Please visit <a href="http://www.swi-prolog.org/">www.swi-prolog.org</a> for details. <br><br>  For help, use? - help (Topic).  or? - apropos (Word). <br><br>  ? - run ('a.txt'). <br>  Hello World! <br>  true <br><br>  ? - <br><br><h5>  Task 2. Turing machine </h5><br><br>  Again a bit of theory from <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2588%25D0%25B8%25D0%25BD%25D0%25B0_%25D0%25A2%25D1%258C%25D1%258E%25D1%2580%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0">Wiki.</a> <br>  Machine Turinga (MT) - abstract artist (abstract computer).  It was proposed by Alan Turing in 1936 to formalize the concept of an algorithm. <br>  The Turing machine is an extension of the finite state machine and, according to Church‚Äôs ‚Äì Turing thesis, is able to imitate all other executors (by setting transition rules) that somehow implement the step-by-step calculation process, in which each step of the calculation is quite elementary. <br>  A specific Turing machine is specified by enumerating the elements of the set of letters of the alphabet A, the set of states Q, and the set of rules by which the machine operates.  They have the form: qiaj ‚Üí qi1aj1dk (if the head is in the qi state, and the letter aj is written in the monitored cell, then the head changes to the qi1 state, the aj1 is recorded in the cell instead of aj, the head makes the movement dk, which has three options: one cell to the left (L), to the cell to the right ¬Æ, stay in place (N)).  For each possible configuration &lt;qi, aj&gt; there is exactly one rule.  There are no rules only for the final state, once in which the car stops.  In addition, it is necessary to specify the final and initial states, the initial configuration on the tape and the location of the machine head. <br><br>  We will use the MT proposed by <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2588%25D0%25B8%25D0%25BD%25D0%25B0_%25D0%25A2%25D1%258C%25D1%258E%25D1%2580%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0">Vika</a> <br><br>  q0 * ‚Üí q0 * R <br>  q01 ‚Üí q01R <br>  q0 √ó ‚Üí q1 √ó R <br>  q11 ‚Üí q2aR <br>  q21 ‚Üí q21L <br>  q2a ‚Üí q2aL <br>  q2 = ‚Üí q2 = L <br>  q2 √ó ‚Üí q3 √ó L <br>  q31 ‚Üí q4aR <br>  q3a ‚Üí q3aL <br>  q3 * ‚Üí q6 * R <br>  q4 √ó ‚Üí q4 √ó R <br>  q4a ‚Üí q4aR <br>  q4 = ‚Üí q4 = R <br>  q41 ‚Üí q41R <br>  q4 * ‚Üí q51R <br>  q5 * ‚Üí q2 * L <br>  q6a ‚Üí q61R <br>  q6 √ó ‚Üí q7 √ó R <br>  q7a ‚Üí q7aR <br>  q71 ‚Üí q2aR <br>  q7 = ‚Üí q8 = L <br>  q8a ‚Üí q81L <br>  q8 √ó ‚Üí q9H <br><br>  data (L, V, R) is the tape view (L is the left, R is the right, V is the current cell). <br>  ... [1] [2] [3] [ <u>4</u> ] [5] [6] [7] ... <br>  L = [3,2,1] V = 4 R = [5,6,7] <br>  Empty cell value is * <br><br><pre> <code class="hljs haskell">%  revers([],<span class="hljs-type"><span class="hljs-type">R</span></span>,<span class="hljs-type"><span class="hljs-type">R</span></span>):-!. revers([<span class="hljs-type"><span class="hljs-type">H</span></span>|<span class="hljs-type"><span class="hljs-type">T</span></span>],<span class="hljs-type"><span class="hljs-type">L</span></span>,<span class="hljs-type"><span class="hljs-type">R</span></span>):-revers(<span class="hljs-type"><span class="hljs-type">T</span></span>,[<span class="hljs-type"><span class="hljs-type">H</span></span>|<span class="hljs-type"><span class="hljs-type">L</span></span>],<span class="hljs-type"><span class="hljs-type">R</span></span>). %    l:- %  (retract(<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">([</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Hl</span></span></span><span class="hljs-class">|</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tl</span></span></span><span class="hljs-class">],</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">)),!; %    ,         (*) retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">([],</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">)),</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Hl</span></span></span><span class="hljs-class">=(*),</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tl</span></span></span><span class="hljs-class">=[]), %    assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tl</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Hl</span></span></span><span class="hljs-class">,[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">|</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">])). r:- %  (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">retract</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">,[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Hr</span></span></span><span class="hljs-class">|</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tr</span></span></span><span class="hljs-class">])),!; %    ,         (*) retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">,[])),</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Hr</span></span></span><span class="hljs-class">=(*),</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tr</span></span></span><span class="hljs-class">=[]), %    assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">([</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">|</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">],</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Hr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tr</span></span></span><span class="hljs-class">)). %      n. % . %revers      (  </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">). initData(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">):- % (   ) retractall(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">)), %  (   ) revers(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,[],</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lr</span></span></span><span class="hljs-class">), %    . assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lr</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">V</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">)). %   input(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">):- %    ,      . retract(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">)), %      . assert(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">)). %    info(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Q</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Qn</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">An</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">D</span></span></span><span class="hljs-class">):- %   write(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Q</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">),nl, write(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Qn</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">An</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">D</span></span></span><span class="hljs-class">),nl, %    ¬´ ¬ª </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">),revers(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class">,[],</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lr</span></span></span><span class="hljs-class">),append(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lr</span></span></span><span class="hljs-class">,[[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">]|</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">],</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">), write(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">),nl. %  %(, ,  , ). %        q0(*,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q0</span></span></span><span class="hljs-class">,*,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q0(1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q0</span></span></span><span class="hljs-class">,1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q0(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q1</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q1(1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q2</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q2(1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q2</span></span></span><span class="hljs-class">,1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q2(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q2</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q2(=,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q2</span></span></span><span class="hljs-class">,=,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q2(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q3</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q3(1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q4</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q3(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q3</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q3(*,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q6</span></span></span><span class="hljs-class">,*,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q4(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q4</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q4(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q4</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q4(=,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q4</span></span></span><span class="hljs-class">,=,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q4(1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q4</span></span></span><span class="hljs-class">,1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q4(*,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q5</span></span></span><span class="hljs-class">,1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q5(*,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q2</span></span></span><span class="hljs-class">,*,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q6(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q6</span></span></span><span class="hljs-class">,1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q6(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q7</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q7(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q7</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q7(1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q2</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class">). q7(=,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q8</span></span></span><span class="hljs-class">,=,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q8(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">q8</span></span></span><span class="hljs-class">,1,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l</span></span></span><span class="hljs-class">). q8(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">e</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">n</span></span></span><span class="hljs-class">). %e ‚Äî  . start(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">e</span></span></span><span class="hljs-class">):-write(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class">),!. %   </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Q</span></span></span><span class="hljs-class"> start(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Q</span></span></span><span class="hljs-class">):- %   </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">), %   apply(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Q</span></span></span><span class="hljs-class">,[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Qn</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">An</span></span></span><span class="hljs-class">,</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">D</span></span></span><span class="hljs-class">]), %  info(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Q</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Qn</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">An</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">D</span></span></span><span class="hljs-class">), %  input(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">An</span></span></span><span class="hljs-class">), %  call(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">D</span></span></span><span class="hljs-class">), %    start(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Qn</span></span></span><span class="hljs-class">).</span></span></code> </pre> <br><br>  We start MT <br><br>  $ swipl -s 1.pro <br>  ? - initData ([], *, [1,1,1, x, 1,1, =, *]). <br>  ? - start (q0). <br><br>  And here is the result. <br><br>  $ swipl -s 1.pro <br>  ... <br>  ? - initData ([], *, [1,1,1, x, 1,1, =, *]). <br>  true <br><br>  ? - start (q0). <br>  q0: (*) <br>  q0: (*): r <br>  [[*], 1,1,1, x, 1,1, =, *] <br>  q0: 1 <br>  q0: 1: r <br>  [*, [1], 1,1, x, 1,1, =, *] <br>  ... <br>  ... <br>  ... <br>  q8: a <br>  q8: 1: l <br>  [*, 1,1,1, x, [a], 1, =, 1,1,1,1,1,1, *] <br>  q8: x <br>  e: x: n <br>  [*, 1,1,1, [x], 1,1, =, 1,1,1,1,1,1, *] <br>  end <br>  true <br><br><h5>  Sources: </h5><br><ol><li>  <a href="http://ru.wikipedia.org/wiki/Brainfuck">Brainfuck</a> </li><li>  <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2588%25D0%25B8%25D0%25BD%25D0%25B0_%25D0%25A2%25D1%258C%25D1%258E%25D1%2580%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0">Turing Machine</a> </li><li>  <a href="http://it.kgsu.ru/Prolog/">Prolog</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/136670/">https://habr.com/ru/post/136670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136663/index.html">What is the best way to participate in Imagine Cup Software Design, go to Australia and win</a></li>
<li><a href="../136664/index.html">Myths about the App Store</a></li>
<li><a href="../136665/index.html">viewdoc - convenient access to any documentation</a></li>
<li><a href="../136667/index.html">Improved 9-patch editor</a></li>
<li><a href="../136668/index.html">Set up emacs for python development or search for the ‚Äúperfect‚Äù editor</a></li>
<li><a href="../136672/index.html">Rest can not work</a></li>
<li><a href="../136673/index.html">Pinpoint - the evolution or lessons of quick sharing</a></li>
<li><a href="../136675/index.html">Censorship on the Internet will not</a></li>
<li><a href="../136676/index.html">Vim is ported to iOS</a></li>
<li><a href="../136677/index.html">Features of the behavior of the new TCP / IP stack of Windows</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>