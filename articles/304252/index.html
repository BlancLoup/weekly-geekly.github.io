<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Central grid symmetry</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Investigating one optimization problem, I encountered the problem of symmetry of configurations with a direct enumeration of options. A similar proble...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Central grid symmetry</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/341/588/240/341588240d794c77afcfe2d0c35a2702.png" align="right">  Investigating one optimization problem, I encountered the problem of symmetry of configurations with a direct enumeration of options.  A similar problem arises in some solutions <a href="https://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25B4%25D0%25B0%25D1%2587%25D0%25B0_%25D0%25BE_%25D0%25B2%25D0%25BE%25D1%2581%25D1%258C%25D0%25BC%25D0%25B8_%25D1%2584%25D0%25B5%25D1%2580%25D0%25B7%25D1%258F%25D1%2585">of the eight-queen problem</a> .  Exploring the central symmetry of a rectangular grid, I found a <s>revolutionary,</s> quite an interesting method for determining and testing symmetric configurations using reversible numbers. <br><a name="habracut"></a><br><h4>  A little bit about symmetry </h4><br>  Central symmetry or symmetry with a center at a point is a transformation of space that takes a point X to a point X 'so that the center of symmetry is the center of the segment XX'.  A figure is called symmetric with respect to point A, if for each point of the figure its symmetric point with respect to point A also belongs to this figure. <br><br>  If we are talking about the central symmetry of a grid consisting of cells, then we will be talking not about points, but about grid cells.  For example, after a centrally symmetric transformation of a chessboard, cell A1 will take the place of H8, A2 - on H7, and B1 - on G8. <br>  In this article we will use a rectangular grid.  Like the rectangle, such a grid has two axes of symmetry and one center, but concentrate only on the central symmetry. <br><br><h4>  Essence of the question </h4><br>  There is a grid size of 3 to 6 cells.  Also in the presence of a list of 14 components, any of which can be put in any cell, with possible repetitions.  The number of options for filling such a grid with repetitions is equal to 14 <sup>18</sup> , it would be nice to reduce them by half, discarding the filling options that are centrally symmetric to those already tested.  For simplicity of output, let the components be numbers from 0 to 13 inclusive.  The list of 18 components is generated by the <a href="https://docs.python.org/3/library/itertools.html">product</a> function <a href="https://docs.python.org/3/library/itertools.html">from the itertools package</a> (to be exact, the function returns a tuple iterator that, like the odometer, changes the right-standing element at each iteration).  This list of columns and fills the grid. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Examples of zero, first, second and 178th grid configuration</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/084/d0e/c65/084d0ec658d54d7e847a28f5a16d5065.png"><br></div></div><br>  <b>Task:</b> Exclude grid fill options that are centrally symmetric to already proven options. <br><br><h4>  Implementation </h4><br>  Let us number the cells by columns, starting from the upper left corner, from 0 to 17. We will try for each configuration to find the number symmetrical to it with respect to the center.  Numbering configurations, as usual, from scratch. <br><br>  <i>The configuration 0</i> (all cells with zeros) is obviously symmetrical to itself: 0 -&gt; 0. <br><br>  <i>Configuration 1.</i> Cell 17 gets 1, the rest with zeros.  The configuration will be symmetrical to it, in which ‚Äú0‚Äù stands in square 0, the rest with zeros.  Cell 17 will pass 14 of its values ‚Äã‚Äã(from 0 to 13) in the first 14 iterations.  Cell 16 is also 14, but for each of its configuration there are 14 iterations of cell 17, i.e.  for 14 <sup>2</sup> , etc.  Therefore, cell 0 will pick up 1 for 14 <sup>17</sup> iterations. <br><br>  <i>Configuration 2.</i> Cell # 17 gets 2, the rest with zeros.  The configuration 2-14 <sup>14</sup> in which 0 is 2 in square 0, the rest are zero, will be symmetrical to it. <br><br>  <i>Configuration 3</i> -&gt; Configuration 3‚ãÖ14 <sup>17</sup> <br><br>  <i>Configuration 4</i> -&gt; Configuration 4‚ãÖ14 <sup>17</sup> , etc.  up to 13 -&gt; 13‚ãÖ14 <sup>17</sup> . <br><br>  Following this logic, it is necessary to write down the number of the variant, symmetrical to the first, as 114 <sup>17</sup> , and symmetrical to the zero - as 0‚ãÖ14 <sup>17</sup> . <br><br>  We already have some list of configuration numbers that are symmetrical to each other: <br><br><ul><li>  0 and 0‚ãÖ14 <sup>17</sup> </li><li>  1 and 1‚ãÖ14 <sup>17</sup> </li><li>  2 and 2‚ãÖ14 <sup>17</sup> </li></ul><br>  etc.  until 13. <br><br>  <i>Configuration 14.</i> 1 is in the penultimate cell, the rest are zeros.  Symmetrical to it is 1‚ãÖ14 <sup>16</sup> . <br><br>  <i>Configuration 15. The</i> units in the last two cells, the remaining zeros.  Symmetric to it, when 1 in the first two cells, the rest are zeros.  1 becomes cell 0 at iteration 14 <sup>17</sup> , and after 14 <sup>16</sup> 1 it will appear in cell 1, therefore the desired configuration will be 14 <sup>16</sup> + 14 <sup>17</sup> . <br><br>  <i>Configuration 16.</i> Element "A" in cell No. 16, "B" - in cell No. 17.  Symmetrical to her, obviously 14 <sup>16</sup> + 2‚ãÖ14 <sup>17</sup> . <br>  ... <br>  <i>Configuration 27</i> -&gt; 1‚ãÖ14 <sup>16</sup> + 13‚ãÖ14 <sup>17</sup> . <br><br>  <i>Configuration 28</i> -&gt; 2‚ãÖ14 <sup>16</sup> . <br><br>  <i>Configuration 29</i> -&gt; 2‚ãÖ14 <sup>16</sup> + 14 <sup>17</sup> . <br><br>  This story continues until iteration 195, which is symmetrical 13‚ãÖ14 <sup>16</sup> + 13‚ãÖ14 <sup>17</sup> .  In iteration 196, cell 1 is put 1, the rest are empty.  An iteration of 14 <sup>15 is</sup> symmetrical to it. <br><br>  In iteration 197, the unit is also placed in cell No. 17, because it is symmetrical to it - 14 <sup>15</sup> + 14 <sup>17</sup> , and so on. <br><br>  The general law of symmetry of the grid configurations will be: <br><br><div style="text-align:center;"><img src="https://latex.codecogs.com/gif.latex?%5Csum_%7Bi%3D0%7D%5E%7B17%7Dc_%7Bi%7D%5Ccdot%2014%5E%7Bi%7D%5Crightarrow%20%5Csum_%7Bi%3D0%7D%5E%7B17%7Dc_%7Bi%7D%5Ccdot%2014%5E%7B17-i%7D%2C%20c_%7Bi%7D%5Cin%20%5Coverline%7B0%2C13%7D" alt="image"></div><br><br>  Then I thought the familiar formula on the left.  This is a formula for converting a number from an arbitrary base to a decimal number system.  And correspondingly <img src="https://latex.codecogs.com/gif.latex?c_%7Bi%7D" alt="image">  - This is a number in the number system with a base of 14. <br><br>  It is easy to notice that the number on the right side is written down from the left side in reverse order - if on the left side we ‚Äúwrite‚Äù the number from right to left, then on the left side we write the same numbers, but from left to right.  Simply put, the number on the right is the ‚Äúflipper‚Äù of the number on the left, both of which are recorded in the number system with base 14 and have a length of 18. <br><br><h4>  Criterion and algorithm validation </h4><br>  If the configuration number is long in the number of cells and recorded in the numeral system with a base equal to the number of elements, less than the proper number of the ‚Äúchangeling‚Äù, then the symmetrical configuration has not yet been encountered.  If they (numbers) are equal, then we are dealing with a palindrome, which occurs only once and, therefore, is subject to verification. <br><br>  The validation algorithm itself is as follows: <br><br><ol><li>  Transfer configuration number to number system with base equal to the number of elements </li><li>  Record number- "Changeling" length 18 </li><li>  If the ‚Äúchangeling‚Äù is larger than the configuration number, then simulations of this configuration and symmetrical to it have not yet been carried out;  if not, then a simulation was performed that was symmetrical to this, therefore skip. </li></ol><br><div class="spoiler">  <b class="spoiler_title">Or in the form of code</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(number, radix, length)</span></span></span><span class="hljs-function">:</span></span> fingers = <span class="hljs-string"><span class="hljs-string">'0123456789abcdefghijklmnopqrstuvwxyz'</span></span> n = number <span class="hljs-comment"><span class="hljs-comment">#       radix   turn = '' while n &gt; 0: turn += fingers[n % radix] n = n // radix #       turn += '0' * (length - len(turn)) return number &lt;= int(turn, radix)</span></span></code> </pre> <br></div></div><br><h4>  Conclusion </h4><br>  Obviously, this algorithm is applicable not only to determine the central symmetry of the two-dimensional grid, but also the grid in an arbitrary dimension, because it is possible to reduce any such configuration to the list, or to fill the grid with a list, for example, line by line. <br>  The algorithm itself is quite heavy, which raises the question of its applicability in practice.  But in the case when checking each configuration costs even more computational resources, it may be worth using it. </div><p>Source: <a href="https://habr.com/ru/post/304252/">https://habr.com/ru/post/304252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304242/index.html">Why do you need to model individual and sample scenarios?</a></li>
<li><a href="../304244/index.html">Thought is material: Alan Turing as a ‚Äúuniversal calculator‚Äù</a></li>
<li><a href="../304246/index.html">As I wrote classic tanks with intelligence</a></li>
<li><a href="../304248/index.html">A working day on Wall Street: what hedge fund financial analysts actually do</a></li>
<li><a href="../304250/index.html">Databoom control panel. Work with collections. Part 2</a></li>
<li><a href="../304254/index.html">Examinations for admission to the "free" Master in the US</a></li>
<li><a href="../304256/index.html">Designing sites for people with dementia</a></li>
<li><a href="../304258/index.html">Select query travel through Postgres internals</a></li>
<li><a href="../304260/index.html">Google I / O 2016: WatchFace 2.0 - Complications</a></li>
<li><a href="../304262/index.html">The only way to get humanity out of the paws of the internet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>