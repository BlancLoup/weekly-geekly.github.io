<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cyberpunk 2000: Deus Ex creation tools</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 

 Recently, good reception at GDC received stories about classic games, but there were very few stories about the tools for their develo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cyberpunk 2000: Deus Ex creation tools</h1><div class="post__text post__text-html js-mediator-article"><h1>  Introduction </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c6/383/2df/9c63832df1704ffc9f85de88bcd99149.png"></div><br>  Recently, good reception at GDC received stories about classic games, but there were very few stories about the tools for their development.  In this series of articles, we will try to fill this gap by interviewing people who have played an important role in the history of game development tools. <br><br>  In the first two parts of the series, we talked with <a href="https://habr.com/post/410389/">John Romero (about TEd Editor)</a> and <a href="https://habr.com/post/409969/">Tim Sweeney (about Unreal Editor)</a> . <br><br>  When writing the third article, I was privileged to speak with <strong>Chris Norden</strong> about the <strong>tools he was developing for an FPS / RPG hybrid called Deus Ex</strong> .  I talked to Chris in San Francisco at GDC 2018. <br><a name="habracut"></a><br><h1>  To Ion Storm: Origin and Looking Glass </h1><br>  <strong>David Lightbone: How did you start working on Deus Ex in Ion Storm?</strong> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Chris Norden: In 1994, I was a Origin programmer in Austin.  My first paid project was <a href="https://en.wikipedia.org/wiki/Jane%2527s_AH-64D_Longbow">Jane's Combat Simulations AD-64D Longbow</a> from Jane's Combat Simulations.  Initially, it was an arcade game called Chopper Assault.  Together with Andy Hollis, I worked on it for two years. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3bc/f29/e9d/3bcf29e9d6e2ce60749d970df38190d3.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abc/418/332/abc418332c4bef93f3ee7aeba538ff9e.png"></div><br>  After the release of the game, the last thing I would like to do is take up another military simulator, because I absolutely do not like everything military.  From time to time I talked with Warren Spector, who also worked at Origin.  He really liked plot role-playing games.  I thought to myself: ‚ÄúI also like these games, I want to work on something similar!‚Äù <br><br>  In 1996, Warren left Origin and headed Looking Glass in Austin, the existence of which no one then knew.  This studio made ports for Mac games, such as <a href="https://en.wikipedia.org/wiki/Links_386_Pro">Links 386 Pro</a> .  She was also in the process of developing her own golf game called the British Open Championship Golf. <br><br>  In Origin, the development of Ultima Online was still ongoing.  It was called Multima, and it seems to have used the Ultima VII engine.  I experimented a bit with him until I quit Origin and joined Warren in Looking Glass. <br><br>  <em>[Author's Note: Looking Glass's main studio was located in Cambridge, Massachusetts, near Boston.]</em> <br><br>  Warren wrote a design document, and for some time we worked on an AIR abbreviation (from Austin Internet Role-Playing) role-playing game, which was supposed to be an online project.  We wanted to do something in 3D, because while 3D accelerators started to appear.  We got a prototype of Voodoo 1 and wrote a small engine on GLide. <br><br>  We collaborated with Looking Glass in Cambridge.  After the release of the British Open, I helped Mark Leblanc and Doug Church with the Thief engine, which was called the <a href="https://en.wikipedia.org/wiki/Dark_Engine">Dark Engine</a> . <br><br>  For financial and other reasons, Looking Glass did not feel very good at that time.  The company had great games, but they were rather weak.  Therefore, about a year later it was decided to close the office in Austin. <br><br>  <em>[Author's note: Chris is absolutely right about the games - Ultima Underworld, System Shock and Terra Nova were taken very well by critics, they were among the best games of the 1990s]</em> <br><br>  At the time of the closure of the office, there were few of us left: Warren, I, Al Jarusso, Harvey Smith, Steve Powers.  We all still wanted to work on this role-playing game.  After the office was closed, we held each other for about six months, hoping that we would be able to start a new company and do something.  We had a very good design document, we began to ‚Äúsell‚Äù it to publishers and communicate with different people.  I do not even remember all the publishers with whom we contacted.  One of these people was John Romero and Tom Hall, who, together with Eidos, were working on creating a new studio in Dallas called Ion Storm. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/922/cde/5c3/922cde5c3e7dab55e314eabf5c12b7d9.jpg"></div><br>  I knew John from his early years Id.  In 1991, in Dallas, MTV threw a huge party on a ship dedicated to Wolfenstein 3D.  There were two cars <a href="https://en.wikipedia.org/wiki/Virtuality_(gaming)">VR Virtuality Arcade Machine</a> .  At that time I was a child and thought, ‚ÄúGod, this is the coolest thing in the world!‚Äù I met with John back in the days when he lived in the style of ‚ÄúI am too rich to worry about anything‚Äù. <br><br>  John is a wonderful person, I worked with him at Monkeystone Games, helped develop the game for the Gameboy Advance, but that's another story. <br><br>  <em>[Author's note: the game was called Hyperspace Delivery Boy.</em>  <em>For Gameboy Advance, <a href="https://en.wikipedia.org/wiki/Majesco_Entertainment">Majesco</a> was to publish it, but at the last moment the company refused to release it.]</em> <br><br>  We talked to Romero and Tom Hall, and they are: "Warren, you're cool, let's make this game!".  And Warren replied: ‚ÄúThere is a snag.  We will not move to Dallas.  We will not move to California.  We won't move anywhere at all.  We will keep the studio in Austin.  So we will remain completely autonomous.  You will give me complete control over everything.  You will give me money, and everything will be fine. "  They replied: ‚ÄúWell, we are satisfied.  Resolved. " <br><br>  <em>[Author's note: obviously, this is too simplistic version of the negotiations, but it gives an idea of ‚Äã‚Äãwhat happened]</em> <br><br>  At the time, Warren had an excellent design document for the game ‚ÄúTroubleshooter,‚Äù which gradually turned into a design document called Deus Ex. <br><br>  So, the six of us founded the studio Ion Storm Austin.  At that time, I was the technical director, head of IT, HR, security, and lead engineer.  We did not have enough people to do all these things.  Therefore, it was necessary to quickly conduct interviews and recruit staff. <br><br>  The team was tiny.  We had three engineers: I myself, Scott Martin and Al Yarusso.  Sheldon Pakotti was hired by the writer.  We had two design groups of three people.  One was led by Robert White, the second by Harvey.  It seems that there were still six artists who were led by J. Lee. <br><br>  Oh yes, and I also hired Alex Brandon because I was a big fan of his music for Unreal.  Now we are great friends with him.  I introduced him to his future wife, because we were friends in high school.  He is a great guy: an excellent musician and well versed in technical details. <br><br>  Then we hired an administrator, and that's it.  And then we had to work hell for two and a half years!  [laughs] <br><br><h1>  Choosing between Unreal and Quake engines </h1><br>  <strong>JL: So while the rest of Ion Storm worked with the Quake engine, you chose Unreal.</strong>  <strong>Can you explain how you came to this decision?</strong> <br><br>  KN: No matter how I respected the Quake engine, I knew that we wouldn‚Äôt have support at the time.  We created a very specific game in which we wanted to be able to do anything.  Quake was a shooter, and nothing more.  If we tried to do something other than FPS on it, then it would take a lot of work, and we wouldn't get support from Id.  They simply burned a CD with the code, gave it to the developers, and left them alone. <br><br>  <strong>JL: In my interview with Tim Sweeney, he called the licensing model of the Quake engine of that time "a xcopy operation for a quarter of a million dollars."</strong> <br><br>  KN: Yes, that's right!  I agree, the engine was awesome.  At that time he made a revolution, but we knew that a team of three engineers could not rewrite the engine and could not write their own.  We simply would not have enough time. <br><br>  At one time I was a big fan of the Amiga demoscene, C64 and PC.  I started watching a video game called Unreal and thought, ‚ÄúMy God, is there RGB lighting and full 3D.  The engine uses MMX, SSE and 3DNow.  He looks very cool! ‚ÄùBut we could not find detailed information about him, so we planned a trip to Digital Extremes in London (Canada).  We met with Tim and his team, they showed us all the features of the engine.  I also met with <a href="https://gamefaqs.gamespot.com/credit/15136-carlo-vogelsang">Carlo Vogelsang</a> , with whom I now work at Sony - he is in the Playstation department.  He wrote the Galaxy Audio Engine: almost everything in assembler, superhardcore guy.  In the engine, there was a particle system called Fire.  It was all inside the engine.  I thought, "Guys, I like your approach." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae0/42e/a2d/ae042ea2dd4486d648962943486db43f.jpg"></div><br>  At that time, they focused on creating super-convenient tools that no one had done before.  The Quake tools were good, but to non-technical users they didn‚Äôt seem particularly friendly.  We had designers who had no engineering skills, and they had to figure out how to use these programs. <br><br>  So we decided: ‚ÄúThese guys have good tools, they all help us a lot, there are a lot of old school guys who wrote hardcore things in the 80s.  And how is your licensing arranged? ‚ÄùThey replied:‚Äú We have never done this before, it‚Äôs something new for us ‚Äù.  I think that at that time they did not understand how to create a licensing model.  We said: "We have Warren Spector, and he wants to create a game on your engine."  When they heard this, it became clear that they really wanted to work with us. <br><br>  Honestly, I do not remember the details of our license agreement.  Tim probably remembers.  I don‚Äôt remember how much we paid, but I don‚Äôt think very much. " <br><br>  <strong>DL: Probably comparable to how much Id was asking for Quake at the time?</strong> <br><br>  KN: I think less!  And it was another plus.  Their engine was relatively new, but we were not the first licensees.  One of the first was Wheel of Time and Klingon Honor Guard. <br><br>  <em>[Author's note: more details about the Unreal Engine licensing history can be found in <a href="https://habr.com/post/409969/">my interview with Tim Sweeney about the Unreal Editor</a> ]</em> <br><br>  Therefore, we decided to choose it.  The developers gave us the source code and said, "We will support you as soon as we can."  We always talked one on one.  If we had a question, we sent an email: there was no technical support system. <br><br>  We had a lot of problems, because they had never done it before.  We sent them a lot of code and questions, had a long correspondence and received updates.  But I think it was the right decision.  I think if we chose Quake, the game would be much more difficult to create. <br><br>  In addition, I became a member of the Unreal Tech Advisory Group.  We came up with the idea of ‚Äã‚Äãthe first technical meeting, where the heads of all companies that became licensees (there were four of them at that time), got together, discussed ways to improve the engine, scolded Tim for uncomfortable aspects, went over alcohol and food, well, everything usually.  I still keep in touch with all these people. <br><br>  <strong>DL: Have you shared with other members of the Unreal Tech Advisory Group?</strong> <br><br>  KN: I think we mainly shared the improvements to the Unreal Editor.  The engine was great, but it still had a long way to go.  Then, when we were able to hire even more designers and artists, they also began to make suggestions for improving workflows.  We either implemented them ourselves, or sent them to the Unreal team, or asked the Unreal team if they could do it faster than we could. <br><br>  We made many changes to the main editor, but most of them only related to our game.  We shared part of the improvements, but most other developers were engaged in completely different games. <br><br>  I had to write a bunch of systems that I thought were the first of its kind.  At least I have never seen them.  For example, the animation mixing system;  in essence, this is what is today called morph targets or blend shapes.  I do not remember that at that time someone did this in games.  It may have been implemented somewhere, but it was very difficult to exchange information before the widespread use of the Internet. <br><br>  <strong>JL: Can you talk about the changes you made to the Unreal Editor?</strong> <br><br>  KN: One of the systems, which for no apparent reason at the time was not in the editor, is the visualization of the camera splines. <br><br>  In the first versions of UnrealEd, you had to drag the camera and set the points of its path.  In this case, it was possible to see the points, but not the connections between them, which determined the path of the camera. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a82/641/660/a82641660bae7a07f53b2e0088f807ab.png"></div><br>  <strong>JL: It's like a game ‚Äúconnect the dots‚Äù, but without numbers!</strong> <br><br>  KN: Exactly!  The spline had control points and designers could not always understand what the path would look like.  They wanted to know exactly how the camera would move along the way.  So I added this system, and they liked it. <br><br>  It was very simple.  I mean the simplicity of the code: draw the coordinate axes at each main control point, and then draw the control point to actually see where it went.  It really helped the designer, and to make such a system was very simple.  I do not know why we had to add it.  Probably Tim did not think she would really need it. <br><br>  <strong>JL: It's funny, because if you recall the first demonstration of the Unreal game to the public, the first thing people saw was the camera flying around the castle, that is, it didn't seem like Epic had created any camera paths.</strong> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4af/9fc/a0c/4af9fca0cb6b13e65b81dba4d36b2228.jpg"></div><br>  KN: I think the reason was that many of their level designers were super-techies and they used to model things like that in their heads.  But the video game industry was gradually growing, so it was necessary to create tools for people with different levels of experience.  Not every designer was an engineer, and even more so today!  This was the exception rather than the rule.  Therefore, the tool had to be convenient and simple. <br><br>  By the way, I still do not know why Pawn is indicated by the head of a dinosaur. <br><br>  <strong>JL: [laughs] Yes, Tim and I discussed this in an interview!</strong>  <strong>By the way, have you regretted any technological decisions you made?</strong> <br><br>  KN: We used UnrealScript too actively.  This was one of the mistakes.  UnrealScript was very flexible, but too slow.  We needed to write much more on native C than on UnrealScript. <br><br><h1>  True north and phony crashes </h1><br>  <em>[Author's note: at this stage of the interview, I opened the Deus Ex Editor (version for UnrealEd), as well as the documentation of the Deus Ex SDK]</em> <br><br>  <strong>DL: In the installer of the Deus Ex SDK there is a Docs folder with a couple of documentation files that you wrote, Robert White, Sheldon Pacotti, Al Jarusso and Scott Martin.</strong>  <strong>Can you tell who these people were and what they worked for?</strong> <br><br>  KN: Al worked on the dialogue editor.  Scott worked on AI.  I did ... <i>everything</i> .  [laughs] Among other things, I was an assistant director and lead programmer.  But we did a little bit of everything, because there were only three engineers in the entire project from start to finish. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/957/2d6/36b/9572d636ba09d2de32d77609a303d3e9.jpg"></div><br>  <i>Chris Norden (bottom left), Al Yarusso (right and top of Chris, with the clock on his hand), Robert White (in the middle row, slightly to the right of the center, in sunglasses), Sheldon Pacotti (bottom right) and Scott Martin (in the second row, rightmost, also in sunglasses)</i> <br><br>  <strong>JL: There is a section in the documentation for the editor that says, ‚ÄúUnreal does not have native support for vertical ladders, but they are added to Deus Ex.‚Äù</strong>  <strong>Can you tell us more about this?</strong> <br><br>  KN: There is an interesting story with ladders, because we needed to move around the whole level, and in first-person shooters of that time, inclined ladders and smooth lifts were traditionally used for this. <br><br>  In one of Warren‚Äôs decrees (because design is the law!) It was said that the player must be able to perform any mission in any way.  The key idea of ‚Äã‚Äãthe game was that if you wish, you can go through it entirely, without ever having fired.  In fact, we did not quite succeed - there are several zones where you need to shoot a couple of times, but we were very close. <br><br>  <strong>JL: I think in the sequels, the developers did succeed.</strong> <br><br>  KN: Yes, I guess. <br><br>  So, the player should have had the opportunity to go through the whole game, never having fired.  In addition, he could go through the whole game without doing anything <em>other</em> than shooting.  The player could go through the whole game so that it was never discovered by the enemy.  It was possible to pass it in completely different ways. <br><br>  <strong>JL: Was the lack of vertical stairs one of the topics you discussed with Tim at the Unreal Tech Advisory Group meetings?</strong> <br><br>  KN: To answer, I need to find and see in the script code if it says ‚ÄúFuck you, Tim!‚Äù [Laughs], because that's exactly what we did when we were angry ‚Äî we wrote down comments to remember this later. <br><br>  When we began to think about how to add support for vertical ladders, we initially argued "let's create the geometry, and then, perhaps, we can do some clever physical tricks so that the player can grasp the crossbar with synchronized animation."  But after we decided - well, it's all to hell, too complicated. <br><br>  <strong>JL: [laughs]</strong> <br><br>  KN: We needed to do it very quickly, because the designers required to create this mechanic. <br><br>  So as a result, I had to go to hellish hacks.  In the engine was the concept of "texture groups".  In essence, this is a string label assigned to certain types of textures to make them easier to sort.  We could request them in code.  Therefore, we thought: ‚Äúwhy don't artists simply make some textures so that you can climb them?‚Äù  After that, we simply added them to the texture group, performed a raycast to recognize them, and then simply with some restrictions stuck the player to them in the direction of its movement.  It worked well, but not always perfectly, because when the player climbed to the top of the texture, the beam was no longer emitted into it, and we had to push the player up and onto the platform.  That is, the solution is not ideal, but as a result it worked.  It was a cheap and simple hack. <br><br>  Today's readers may think: why there were no stairs in the engine, is this generally logical?  But in those days there was nothing.  They were just BSP fragments, we had no static meshes, nothing like that. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e2a/42b/ba9/e2a42bba950490f942ae0fa6df17fb9f.png"></div><br>  <strong>JL: In UnrealEd there was a very cool generator of spiral steps [laughs], but there were no vertical ladders.</strong> <br><br>  KN: Yes, that's right ... It seems that we scolded the designers for using it, because it created holes in BSP.  The staircase looked beautiful if nothing was around.  But as soon as you start to make angular cuts in the BSP, you can get small holes in the BSP, through which you can fall through, but the holes themselves are not visible.  This function caused a lot of pain and we forbade its use.  She looked good, but was broken ... <br><br>  <strong>JL: The documentation also describes a class called DeusExLevelInfo, containing information about the map (for example, whether it is multiplayer), the name of the author of the map, the location of the mission, the number of the mission, and so on.</strong>  <strong>But I would like to ask you about TrueNorth.</strong> <br><br>  KN: [laugh] It was a type of BAM engine Unreal: Binary Angle Measurement (binary angle measurement)! <br><br>  <strong>JL: What are these crazy numbers ?!</strong> <br><br>  KN: At that time, performing floating point operations was very expensive.  The iron was weak, and the memory was not enough.  360 degrees were not described by an 8-bit number, which would provide 255 units of accuracy, that is, about 1.4 degrees per unit, which would not be enough.  Tim used for orientations a 16-bit number, which gave greater accuracy. <br><br>  For a programmer, all these numbers are quite simple.  These are only powers of two, no problems, you can calculate them all in your head.  But designers and artists had difficulty.  Therefore, we have come up with small simplifications that help developers remember them. <br><br>  <em>[While we were working with the editor, Chris got to the Decorations class]</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/078/936/fff/078936fff2704d8633ab718f4504bd8f.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c54/d74/73f/c54d7473f39d0220bff5337094d9e99b.png"></div><br>  KN: Decorations was also a huge class.  All the meshes with which you can interact are decoration.  That is, almost everything in the game! <br><br>  <strong>JL: In the Decorations section of the documentation, it‚Äôs written "We warn you that when changing some of the fields that are not listed below, the editor may fail."</strong>  <strong>Do not remember why it happened?</strong> <br><br>  KN: [laughs] Honestly, I don‚Äôt remember.  I think, because Decoration was such a large class, and it had so many Epic functions that interacted with the engine in a strange way, that instead of explaining to a designer who does not understand technical subtleties why a certain field can lead to unexpected behavior, we simply they said "do not use it, otherwise the editor will crash". <br><br>  <strong>JL: [laughs]</strong> <br><br>  KN: Something like scare tactics.  At the meetings of programmers, we wondered: how to explain to users that this would damage the BSP chain, and we need to do this and that?  Let's just tell them that the editor will crash. <br><br>  I should study the code again, but it seems that we are even guilty of hiding intentional failures in some places in order to scare away too deeply climbing users. <br><br>  <strong>JL: Come on.</strong>  <strong>In the ParticleGenerator section it says ‚ÄúOne of the main functions is that it can be turned on and off with the help of triggers and unTriggers‚Äù.</strong>  <strong>That is, in the version of the Unreal engine with which you worked, it was impossible to turn particles on and off?</strong> <br><br>  KN: At the time, no.  If you inserted a particle system, it was constantly present and never turned off.  It seems to me that this is a strange oversight. <br><br>  The rest of the Unreal particle system was awesome.  Most of it was written in assembly language.  It was procedural, and was written very well compared to everything else.  Designers loved her.  In fact, even too much.  It was possible to kill the entire frame rate, but they went crazy, adding more and more transparent layers. <br><br>  At that time, we still had to support software rendering, then hardware rendering was not yet widely distributed.  Tim had amazing programming skills and wrote a great software renderer, he was great. <br><br>  <em>[Considering various objects in the game, I noticed in the Properties panel a category with an unusual name]</em> <br><br>  <strong>JL: What is this Smell property?</strong> <br><br>  KN: The scent was needed by animals to take a trail.  In fact, dogs can track the smell nodes.  If I remember correctly, then moving through the levels, the player could leave the smell nodes that operated for a certain time.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Therefore, we made it so that dogs could smell it. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JL: That is, if you hide behind a box, people will not find you, and dogs can ...</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> KN: That's because it happens in reality, and we thought it would be an interesting gameplay aspect. </font><font style="vertical-align: inherit;">However, it seems, in the end he was cut out. </font><font style="vertical-align: inherit;">Since there was no graphic feedback, this concept has proved difficult to explain to the player.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/605/448/926/60544892660a19903315768d38943b3b.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/613/7aa/65d/6137aa65defd9bc60db855804c5ee518.png"></div><br> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[We are opening the Intro level, in which there is one of the most iconic objects in the game - a big frightening hall with a statue of a huge hand holding a rotating globe. </font><font style="vertical-align: inherit;">She is shown in the introductory video of the game] </font></font></em> <br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DL: I have a question. </font><font style="vertical-align: inherit;">I do not see the mirror of this geometry under the floor. </font><font style="vertical-align: inherit;">In other games, mirrors were simulated by placing duplicate geometry on the back side of the floor ...</font></font></strong> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e3/6d6/a8c/3e36d6a8c8d266a122d6ee4d154e38e3.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/259/aa8/0f2/259aa80f21859a71272b05f38c9ac9b5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KN: No, the mirrors were real! </font><font style="vertical-align: inherit;">They were very slow, so we asked designers to use them rarely, however, these are real mirrors. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In fact, when I wrote the laser code ... [laughs] </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DL: [laughs] I see what you are driving at ...</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> KN: ... I actually had to check for the presence of mirrors. </font><font style="vertical-align: inherit;">I had a test level where I tested the code for all devices. </font><font style="vertical-align: inherit;">When I wrote the laser pointer code, I created a reflective mirror disco ball, and then built a room with mirrors at both ends. </font><font style="vertical-align: inherit;">I took the laser pointer, sent it to the disco ball, and it worked! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, the frame rate fell below nowhere, because you had to trace all the lines ...</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> See the light wave: command line tool LWO23D </font></font></h1><br> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Author's Note: LWO stands for Lightwave Object. </font><font style="vertical-align: inherit;">This is the 3D geometry format </font><font style="vertical-align: inherit;">of </font><a href="https://en.wikipedia.org/wiki/NewTek"><font style="vertical-align: inherit;">Newtek's </font></a></font><a href="https://en.wikipedia.org/wiki/LightWave_3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lightwave 3D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> software package </font><font style="vertical-align: inherit;">, also in Texas, just like the Deus Ex team at the time]</font></font><a href="https://en.wikipedia.org/wiki/NewTek"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fa/d70/be0/0fad70be097f6fa284061cc63db765e2.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d94/c6f/e4f/d94c6fe4fd7ba73a296b0d90c07631a7.jpg"></div><br>  <em>Screenshot from Tack's Deus Ex Lab</em> <br><br>  <strong>JL: Why did your team decide to use Lightwave?</strong> <br><br>  KN: Our artists knew him well.  Therefore, we had to adapt. <br><br>  <strong>DL: Tell me more about why you wrote the exporter as a command line tool.</strong> <br><br>  KN: At that time, and even now I often write small command line tools to automate tasks.  I‚Äôm an old school programmer and I don‚Äôt like unnecessary complications.  I mostly don't like C ++.  I do not like templates.  I do not like all that time is wasting. <br><br>  When I write command line tools, I create a Win32 batch file, get rid of everything built in, start with an empty file, with <code>int main()</code> , and just move on.  It is a fast and portable solution that doesn‚Äôt cause problems. <br><br>  <strong>JL: I think exporting static meshes was a fairly standard process.</strong>  <strong>But tell us how you exported the animation.</strong> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c5/97d/5e1/1c597d5e156d4afac24f048ba6d8d68e.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/994/4d1/cc5/9944d1cc57a38dcaca02e63a67e22189.jpg"></div><br>  <em>Screenshot from Tack's Deus Ex Lab</em> <br><br>  KN: There was no skeletal animation in the game.  I do not know a single engine of the era in which it is implemented.  Therefore, everything was done by mixing vertices.  At the time, skinning was very expensive.  No GPUs, everything needed to be calculated on the CPU and to avoid floating-point calculations by any means. <br><br>  Inside Lightwave, the designers created skeletal animation, and then displayed its keyframes.  It was necessary to create a T-pose, because in order to mix animations it was necessary to start from a common basis.  That is, for proper mixing, the animation was essentially offsets from the T-pose.  Mixing was performed on the side of the engine. <br><br>  <strong>JL: So in the Unreal game, everything was the same?</strong> <br><br>  KN: Probably yes.  I don‚Äôt think Tim added skeletal animation to the next version. <br><br><h1>  Talking heads: ConvEdit and Lipsink </h1><br>  <em>[Now we open the folder ConvEdit]</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c6/383/2df/9c63832df1704ffc9f85de88bcd99149.png"></div><br>  <strong>JL: Tell us about ConvEdit</strong> <br><br>  KN: It was Al's brainchild, he wrote it in Visual Basic. <br><br>  <strong>JL: Like UnrealEd at the time.</strong> <br><br>  Yes, in those days there were not many possibilities for a simple interface implementation.  There was Delphi and several other UI frameworks.  If you do not use them, then you have to write it all natively, for example on the Win32 API, GDI, and all that.  It was a huge problem. <br><br>  That is, Visual Basic, which today seems rather primitive, was very good at that time - a simple visual framework with its own programming language, similar to Basic, the predecessor of C #.  He allowed us to very quickly prototype functions and write tools. <br><br>  <em>[Note: If you are interested in how Visual Basic was used in game development tools of that era, then read <a href="https://www.gamasutra.com/blogs/DavidLightbown/20180109/309414/Classic_Tools_Retrospective_Tim_Sweeney_on_the_first_version_of_the_Unreal_Editor.php">my interview with Tim Sweeney about the Unreal Editor</a> ]</em> <br><br>  Sheldon basically used it.  He needed tools to control the camera, tools to control the sounds.  He wanted to use many cinematic tools that no one had used before.  I first learned what a rostrum zoom is when working on this game with Sheldon. <br><br>  I think even today this tool is still in use. <br><br>  By the way, Sheldon had carpal tunnel syndrome (RSI, Repetitive Strain Injury), so the seal became a torture for him.  He worked almost entirely on Deus Ex using voice transcription in the Dragon Dictate package, which at the time was much worse than today.  Sheldon even had to wear orthoses, because the syndrome was very strong. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed2/00e/6a0/ed200e6a06365323d3842b8d0fa90d52.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/55e/11d/2cf/55e11d2cf825bdecebe4c41e9af52a73.png"></div><br><br>  <strong>JL: Wow!</strong>  <strong>I did not know.</strong>  <strong>The game had a lot of dialogue and a bunch of branches ...</strong> <br><br>  KN: A huge amount of data even for one mission. <br><br>  Sheldon wanted to have strong control over the game and many interactive dialogues.  He wanted the player to make a meaningful choice.  He and Warren hated when it was necessary to click dialogs without having a choice.  They wanted the player to interact with the characters and choose meaningful things, so that the game would flag and remember how he communicated with the characters and behaved when passing. <br><br>  <strong>JL: From the first passage of Deus Ex, I remember Anna Navarre's briefing at her office.</strong>  <strong>As usual in any video game, I began to run around the office, doing all sorts of nonsense, while the NPC finished their dialogue.</strong>  <strong>Suddenly she stopped her dialogue, turned to me and asked: ‚ÄúWhat the hell are you doing?‚Äù</strong> <br><br>  KN: [laughs] <br><br>  <strong>JL: For a second I froze, and asked myself: ‚ÄúDid this really happen?‚Äù It was such a significant event for me from the point of view of immersion in the game.</strong>  <strong>None of the games before this did not occur.</strong>  <strong>I suspect this is partly due to the Conversation Editor.</strong> <br><br>  KN: One of Warren‚Äôs commandments said: ‚ÄúIf a player is in someone‚Äôs office, behaves like a cattle and smashes things, then the character must say something!  He should not ignore the player because it is unrealistic. ‚Äù <br><br>  <strong>JL: Were there any aspects related to cutscenes for which it turned out to be particularly difficult to create tools?</strong> <br><br>  KN: We had a lot of dialogue, and they were all voiced.  We spent weeks in a recording studio, recording dialogues with actors.  This meant that we needed to think about synchronization of lip movement (lip liner).  I thought: ‚ÄúHow to create a lip-link for such a number of dialogues?‚Äù After all, we had not only a bunch of phrases, but also several languages. <br><br>  At that time there were not so many tools to help in lip-liners.  Most developers performed pre-processing: they ran the dialog in the tool, output the data file, and then reproduce it.  But I decided: "We will not have time for this, and if we have to re-record the voice, then we will have to rework everything again." <br><br>  So I began to think that there must be some way to do it in real time using dynamic sound analysis.  In college, I studied electrical engineering, and decided to sort it out myself, without telling anyone. <br><br>  <strong>JL: [laughs]</strong> <br><br>  KN: I thought: "See if I can do this and surprise everyone."  Again, I do not think that someone has done something similar before, but today this technique is found everywhere. <br><br>  At that time, of all that I saw, Half-Life was the closest to such a system.  The developers used the Envelope Following technique, which literally was this: open and close the mouth depending on the volume of the sound.  The system worked, but it didn‚Äôt look very realistic. <br><br>  <strong>JL: In fact, it was a jerking twitch.</strong> <br><br>  KN: Yes, exactly, exactly. <br><br>  I remember, I once discussed with Gabe Newell how they did this task, and he said: ‚ÄúOh, just use the <a href="http://msp.ucsd.edu/techniques/v0.11/book-html/node153.html">Envelope Following</a> , and that will be enough.  Everything else will be too complicated. ‚Äù <br><br>  Then I returned home and began to figure out mathematical calculations, and then I wrote a system that performed FFT ( <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D1%258B%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25B5%25D0%25BE%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25A4%25D1%2583%25D1%2580%25D1%258C%25D0%25B5">Fast Fourier Transform</a> ).  Once again, floating-point calculations were very expensive at that time, and I probably wrote a simulated integer approximation. <br><br>  She analyzed in real time a short excerpt of audio recordings and extracted the main frequency components, and then tied them to six or seven different phonemes. <br><br>  I secretly asked one of the artists to model several blending shapes: I needed ‚Äúo‚Äù, ‚Äúa‚Äù, closed lips and the like.  He asked why, and I answered that he would just do it and give me the data. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e10/4ef/24d/e104ef24d5f65ec4254894105db14b0e.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e9/033/97e/2e903397ef2635a7d6a0a2e42dfc89f5.gif"></div><br>  <i>Fast Fourier Transform (Wikipedia image) and a series of Preston Blair phonemes</i> <br><br>  <strong>JL: [laughs] Looks like this solution ideally suited the mix of animations that you used in Deus Ex.</strong> <br><br>  KN: Yes, exactly, perfect. <br><br>  So, he gave me the data, I wrote mathematical calculations and, as I could, I manually attached the forms.  I did not conduct serious research, and the system was quite expensive in terms of performance. <br><br>  I created a test level with a huge head in the middle, and fed her a couple of lines.  I checked the phrase in German, in English, in French, and everything was synchronized perfectly.  I thought, ‚ÄúDamn, this is awesome!  Actually it worked! ‚Äù <br><br>  I found Warren and told him: "I want to show you something cool."  Looks like he was dumbfounded.  [Laughs] He asked me: ‚ÄúWhat the hell can we put this into the game?  It's just awesome! ‚Äù <br><br>  As a result, we released a game with this system, but for the sake of performance I had to cut it down severely, which caused a decrease in visual quality.  But my first test level was great.  I still think that it was the very first real-time lip synchronization system.  I do not remember that before someone did something like that. <br><br>  Perhaps it was worth patent it.  But I do not believe in software patents, because I think this is a vicious practice ... <br><br>  I also had a big argument with one of the artistic directors in Dallas, who wanted to use this system in Anacronox.  She should have quit before our game.  I said: "I will not mind sharing, but I want Deus Ex to be the first game in which it will appear."  He said: ‚ÄúNo, you must give it to us!‚Äù He practically yelled at us in the hall.  I replied, ‚ÄúNo, I shouldn't,‚Äù and Warren supported me.  It turned out that we released the game first, so it didn't matter anyway.  In fact, I think that as a result, they independently implemented their own version of the system, because we did not want to give it away.  It may have been selfish, but I wanted us to be the first to be able to demonstrate this function. <br><br>  All the rest, produced by Ion Storm, was developed in Dallas: <a href="https://en.wikipedia.org/wiki/Dominion:_Storm_Over_Gift_3">Dominion: Storm Over Gift 3</a> , <a href="https://en.wikipedia.org/wiki/Daikatana">Daikatana</a> , <a href="https://en.wikipedia.org/wiki/Anachronox">Anacronox</a> - everything is made in Dallas.  In Austin, only Deus Ex was created, and there was only our team, no one else.  We were in a bubble, quite isolated from the office in Dallas, and this was done on purpose.  We did not want to mess with a bunch ... I will be frank, with a bunch of all their garbage.  This separation was completely intentional and very important for us.  Our team and their teams did not exchange technologies, no real contacts. <br><br><h1>  Conclusion </h1><br>  <strong>DL: So, to summarize, I want to ask: if you could give advice to tool developers reading this article, what would you say?</strong> <br><br>  KN: Listen to your customer.  Never write tools "in vacuum".  As an engineer, you can think: ‚ÄúI can use this tool in this way, and this method is most effective, so I‚Äôll write it that way.‚Äù <br><br>  But almost always you are mistaken.  You should listen to designers and artists because their work process is very different.  They work completely differently than others.  The tool will not use you, most often it is for them. <br><br>  <strong>JL: Have you ever met with such a mentality in the teams with which you worked?</strong>  <strong>And how did you deal with it?</strong> <br><br>  KN: You just need to tell the programmers: ‚ÄúWhat do you think, why does the user have this problem?  What do you think the problem is in the code?  Or maybe the problem is in the structure of the screen?  Maybe the font is too small?  Wrong button color?  Perhaps you are doing something non-standard? " <br><br>  Because if you look at most of the tools with a professional design, they are usually quite consistent.  There are design guidelines for how things should work. <br><br>  A creative team should be able to use these tools.  It should not be so that they had to read the documentation.  In an ideal world, everything should be obvious. <br><br>  Today, there are designers of UX / UI, but at the time they were not, so we had to create the interface design ourselves, but with feedback from users. <br><br>  Therefore, sit next to users and see how they use the tool.  We watched them work in Lightwave.  When we wrote the first version of the tool, we sat side by side without prompting what to do, and looked at them, making notes, such as ‚Äúthere were difficulties with this‚Äù or ‚Äúthey constantly have to climb into the menu to find that‚Äù, or ‚Äúmaybe it‚Äôs worth the hot key. ‚Äù  Just look at them, learn and adapt. <br><br>  So you really need to think about the workflow of designers.  It is necessary to minimize unnecessary movement, minimize crawling on the menu, try to add hot keys.  We actively promoted shortcuts for all functions, because they speed up the workflow.  In the process of studying the tool you greatly speed up the work with the help of hot keys, and you do not need to climb the menu. <br><br>  You do not need to fall into the classic trap for engineers: ‚ÄúI know better, I wrote down the instrument, I know how it works.  If you can't use it, then you're just an idiot. ‚Äù  This is the worst thing to do when designing a tool. <br><br>  <strong>JL: Excellent advice.</strong>  <strong>Thank you very much, Chris!</strong> </div><p>Source: <a href="https://habr.com/ru/post/427733/">https://habr.com/ru/post/427733/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427721/index.html">Walmart will begin to train their cashiers in virtual reality. Why this could be the future</a></li>
<li><a href="../427723/index.html">DataIncrement 2 - resolving contradictions, TRIZ in actual development</a></li>
<li><a href="../427727/index.html">How NASA Contractor Employees Use Microsoft AR HoloLens Augmented Reality Glasses to Build Orion Nodes</a></li>
<li><a href="../427729/index.html">How to set up a firewall on the server with Zimbra?</a></li>
<li><a href="../427731/index.html">Linus Torvalds back into service after the release of the 4.19 kernel version</a></li>
<li><a href="../427735/index.html">Analysis of the game from classmates on Joker 2018</a></li>
<li><a href="../427737/index.html">Journey to the Land of Giants: ONYX BOOX Gulliver Overview</a></li>
<li><a href="../427739/index.html">DDD, Hexagonal, Onion, Clean, CQRS ... how I put it all together</a></li>
<li><a href="../427741/index.html">Code Generator for Laravel - input OAS, output JSON-API</a></li>
<li><a href="../427743/index.html">Funny and strange: we collected search queries that we like.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>