<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VKontakte without jabber and again with him</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a story about how to use VK chat in the messenger that you like. 
 Let this news for several months, but not always good news in time receive ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VKontakte without jabber and again with him</h1><div class="post__text post__text-html js-mediator-article">  <i>This is a story about how to use VK chat in the messenger that you like.</i> <i><br></i>  <i>Let this news for several months, but not always good news in time receive due attention.</i> <i><br></i>  <i>In the middle of the article is a manual for admins of Jabber servers, in the end - an appeal to Pythonists.</i> <i><br></i>  <i>References to proofs.</i> <br><br>  As you know, in early September, VKontakte finished supporting XMPP to access private messages.  Jabber community <a href="">resented</a> and decided this question differently. <br><br>  Picture about Jabber and VKontakte from Pavel Durov: <br><img src="https://habrastorage.org/getpro/habr/post_images/ed2/980/867/ed298086702d364afca609b93b05bf8e.jpg"><br><a name="habracut"></a><br>  Simultaneously with the closure of XMPP, VK chat has ceased to be available for many instant messengers. <br>  Let's call these "lucky ones." <br><table><tbody><tr><td width="185"><h4><img src="https://habrastorage.org/getpro/habr/post_images/1f5/9d1/ef7/1f59d1ef7fcf700909b3d050ebc0126c.png">  Mobile </h4></td><td>  iOS, Android: Talkonaut, Mail.ru Agent, Jasmine IM, IM +, Imo.im, Bombus, Jimm (Aspro, Multi), all old J2ME clients (including the ones mentioned above), all Symbian, Maemo &amp; Meego clients (Bayan ICQ, QIP PDA 2xxx, etc, except qutIM) and many others <br></td></tr><tr><td width="185"><h4><img src="https://habrastorage.org/getpro/habr/post_images/cbe/9c9/bbf/cbe9c9bbfae9235d166b406257785aac.png">  Desktop </h4></td><td>  Pidgin, Adium, Miranda NG, old versions of QIP (QIP Infium and QIP 2010), qutIM * <br></td></tr><tr><td width="185"><h4><img src="https://habrastorage.org/getpro/habr/post_images/20e/40a/ec0/20e40aec05c26fa04480d7fa440687f5.png">  Web clients </h4></td><td>  IM + Web, IMO, Jappix // there seems to be no other for an arbitrary XMPP account? <br></td></tr></tbody></table>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Before the advent of Jabber, there was pyvk-t transport on VKontakte.  Its development was actively pursued until the appearance of the <a href="http://habrahabr.ru/company/vkontakte/blog/98907/">native XMPP</a> on VKontakte in the 2010th year.  By 2013, it turned out to be abandoned, and the last developers who were <s>digging</s> it <s>were</s> developing, reported that in recent versions the transport worked with errors and they did not know its condition. <br>  The issue of using VC messages without having to open the browser has risen with a new force. <br><br><h3>  1. Native Protocols (VK API) </h3><br>  At the moment, VKontakte messages are supported by three well-known multi-protocol clients, two of them are Windows only. <br>  These are QIP 2012 (QIP IM), Miranda NG and qutIM.  If you are lucky to love one of these messengers, then you probably will not need XMPP for VKontakte. <br>  <a href="http://wiki.qip.ru/%25D0%2592%25D0%259A%25D0%25BE%25D0%25BD%25D1%2582%25D0%25B0%25D0%25BA%25D1%2582%25D0%25B5">The protocol in QIP</a> was made long before XMPP was canceled, <br>  <a href="http://wiki.miranda-ng.org/index.php%3Ftitle%3DPlugin:VKontakte/ru">the protocol for Miranda</a> appeared literally a month ago (strongly after XMPP was closed), <a href="http://forum.miranda-ng.org/index.php%3Ftopic%3D28.msg457">rewritten</a> from scratch. <br>  The protocol in qutIM was implemented for quite a long time (almost earlier than in QIP?). <br><br>  From mobile clients - only QIP IM (for iOS and Android) has support for VK messages.  Moreover, applications for both platforms support only messages (photo support, audio, transfers, etc. are not implemented) and will not be actively developed in the foreseeable future. <br>  A month ago, the <a href="http://habrahabr.ru/post/180493/">M ++ messenger</a> appeared and is actively developing, which supports XMPP, SMS and VKontakte (via API). <br><br><h3>  2. Transport VK4XMPP </h3><br>  As I already mentioned, the pyvk-t transport was abandoned, irrelevant, and did not implement additional VKontakte messages ‚Äî transport developers, and the community as a whole, expected this in their native implementation from VKontakte.  Did not happen. <br><br>  Therefore, when in 2013, the year VKontakte closed XMPP, it turned out to be easier to write a new transport, from scratch. <br>  So <a href="https://github.com/mrDoctorWho/vk4xmpp">VK4XMPP</a> appeared. <br>  Friendship python and XMPP continues.  But not just python. <br><br>  <i>A little later, the second transport appeared - VKXMPPGATE.</i>  <i><a href="https://github.com/vsevols/VkXmppGate">Github</a> <a href="http://vsevols.livejournal.com/11841.html">Description</a> .</i>  <i><a href="">Information about the author</a> .</i> <i><br></i>  <i>It is written in Delphi / Pascal and probably works faster.</i>  <i>However, the last commit was made 3 months ago.</i>  <i>Therefore, in this article we will discuss VK4XMPP, as the only active project.</i> <br><br>  According to the author, VK4XMPP is a transport from VK to XMPP and back.  Unlike the previously existing pyvk-t, it does not parse the page, but works entirely with the VKontakte API, which significantly increases its reliability and stability.  Transport does not store passwords, but uses access-token for authorization. <br><br>  Currently, the transport boasts the following features: <br><ul><li>  Receive and send messages; </li><li>  Does not store password.  Authorization by the key ‚Äúaccess-token‚Äù issued by VKontakte; </li><li>  Automatic key receipt when entering a password (for inexperienced users, the password is not saved) </li><li>  Attachments in messages (reception only); </li><li>  Forwarded messages and attachments to them (pictures, music, documents, tags on the map); </li><li>  List of friends in the roster; </li><li>  VCard support for contacts; </li><li>  Conference support (group dialogs; test); </li><li>  Auto-add friends that you added through the site (only if you were online); </li><li>  Statistics of transport. </li></ul><br>  Not bad, right?  I remember that the XMPP server from VKontakte could not boast of such features. <br><br><h3>  check in </h3><br>  In general terms, the registration process for vehicles is always the same.  Instructions for connecting popular customers: <br>  <a href="http://jabberon.ru/index.php%3Foption%3Dcom_content%26amp%3Bview%3Darticle%26amp%3Bid%3D138:2013-09-04-08-27-31%26amp%3BItemid%3D57">Psi +</a> |  <a href="http://dsy.name/%3Fq%3Dvk4xmpp">Tkabber</a> |  <a href="http://xmppserv.ru/gajim/">Gajim</a> |  <a href="http://jabberon.ru/index.php%3Foption%3Dcom_content%26amp%3Bview%3Darticle%26amp%3Bid%3D141:vktransportmiranda%26amp%3BItemid%3D57">Miranda</a> |  <a href="http://jabberon.ru/index.php%3Foption%3Dcom_content%26amp%3Bview%3Darticle%26amp%3Bid%3D140:---qip-2012%26amp%3BItemid%3D57">QIP</a> |  <a href="http://jabberon.ru/index.php%3Foption%3Dcom_content%26amp%3Bview%3Darticle%26amp%3Bid%3D142:vktransportjtalk%26amp%3BItemid%3D57">jTalk</a> |  <a href="http://xmppserv.ru/jimm/">Jimm</a> |  <a href="http://xmppserv.ru/jasmine/">JasmineIM</a> |  <a href="http://xmppserv.ru/pidgin/">Pidgin</a> <br>  Rays of good administration jabberon.ru and other enthusiasts. <br><br>  After successful registration in your jabber account contacts of all friends with their names and online status from VKontakte will appear. <br>  In case of problems, the author recommends to cancel the registration and pass it through Psi +. <br><br>  To register, you need to select one of the existing servers.  <a href="https://github.com/mrDoctorWho/vk4xmpp/wiki/%25D0%25A1%25D0%25BF%25D0%25B8%25D1%2581%25D0%25BE%25D0%25BA-%25D0%25B4%25D0%25BE%25D1%2581%25D1%2582%25D1%2583%25D0%25BF%25D0%25BD%25D1%258B%25D1%2585-%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B5%25D1%2580%25D0%25BE%25D0%25B2-(%25D0%25B4%25D0%25BB%25D1%258F-%25D0%25BF%25D0%25BE%25D0%25BB%25D1%258C%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25B9)">A list of available servers</a> can be found in the wiki project on github. <br><br><h3>  Vehicle installation </h3><br>  If you have a jabber server, you can pick up the transport at your place.  Then even the VK token will be under your control.  <abbr title="Thanks, Cap!">Jabber server</abbr> and Python 2.7 are <abbr title="Thanks, Cap!">required</abbr> .  The remaining libraries are contained in the repository. <br><br>  It is recommended to use git for installation and updates. <br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> github.com/mrDoctorWho/vk4xmpp.git</code> </pre> <br>  Next you need to copy the default config and change a few values. <br>  Go to the folder with the transport and copy the configuration file: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> vk4xmpp cp Config_example.txt Config.txt</code> </pre> <br><br>  The config is well commented, and there are several installation instructions: <br>  <a href="https://github.com/mrDoctorWho/vk4xmpp/wiki/%25D0%25A3%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B0-(%25D1%2582%25D0%25BE%25D0%25BB%25D1%258C%25D0%25BA%25D0%25BE-%25D0%25B4%25D0%25BB%25D1%258F-%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B5%25D1%2580%25D0%25BE%25D0%25B2)">Ubuntu / Debian / etc + Ejabberd</a> <br>  <a href="https://github.com/mrDoctorWho/vk4xmpp/wiki/%25D0%25A3%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B0-%25D0%25BD%25D0%25B0-ArchLinux-%25D1%2581-Prosody">Arch + Prosody</a> <br>  <a href="https://github.com/mrDoctorWho/vk4xmpp/wiki/%25D0%25A3%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B0-VK4XMPP-%25D0%25BD%25D0%25B0-Prosody">Prosody</a> <br><br>  For a snack, if your workloads are quite large, <a href="https://github.com/mrDoctorWho/vk4xmpp/wiki/%25D0%259E%25D0%25BF%25D1%2582%25D0%25B8%25D0%25BC%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F-%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D1%2581%25D0%25BF%25D0%25BE%25D1%2580%25D1%2582%25D0%25B0">instructions on optimizing the</a> speed of operation and RAM consumption will come in handy. <br><br>  You can <a href="http://xmpp:simpleapps%40conference.jabber.ru/%3Fjoin">contact the</a> developer for support and other issues in the conference <a href="http://xmpp:simpleapps%40conference.jabber.ru/%3Fjoin">simpleapps@conference.jabber.ru</a> <br><br><h3>  How can I help you </h3><br>  If you have read this far, then your help would be most welcome. <br><br>  1. The simplest thing: <a href="https://vk.com/bugs%3Fact%3Dshow%26id%3D26250615_1">subscribe to</a> the VK API <a href="https://vk.com/bugs%3Fact%3Dshow%26id%3D26250615_1">bug</a> , help the developer get a response from the VK administration.  Both VK4XMPP developer and VKXMPPGATE developer encountered this bug. <br><br>  2. Chat in the conference.  Wish features and good luck! <br><br>  3. Look at <a href="https://github.com/mrDoctorWho/vk4xmpp/issues">open requests</a> and, in particular, <a href="https://github.com/mrDoctorWho/vk4xmpp/issues/21">about user-friendly</a> behavior.  Describe the behavior that you would like. <br><br>  4. Python-programmers!  To be honest, it would be great if someone joins the project.  Developers-developers-developers! <br>  However, help with the design (at least icons) will also be very useful;) <br><br><h3>  Links </h3><br>  <a href="http://roem.ru/2013/07/24/xmpp76818/">VKontakte will disable XMPP support on August 31</a> - a conversation on Roem with VKontakte comments, my questions to them, as well as comments from the developer QIP <a href="http://habrahabr.ru/users/segazero/" class="user_link">SegaZero</a> and MRA Java <a href="http://habrahabr.ru/users/bachin/" class="user_link">Bachin</a> . <br><br>  Proofs as <a href="http://help.trillian.im/discussions/suggestions/5700-plugin-for-vkcom-with-using-api">Trillian</a> <a href="http://forum.miranda.im/showthread.php%3Fp%3D54597">Miranda</a> <a href="">qutIM</a> , <a href="">IM + Web</a> died (mobile late, but switched to API), <a href="">Imo.im</a> <br><br><h5>  Do you know rule 34? </h5><br><h4>  Everything is XMPP.  There are no exceptions. </h4><br><br>  VK4XMPP repository on github: <a href="https://github.com/mrDoctorWho/vk4xmpp">github.com/mrDoctorWho/vk4xmpp</a> </div><p>Source: <a href="https://habr.com/ru/post/178317/">https://habr.com/ru/post/178317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../178305/index.html">JQuery Popup Fixed Navigation</a></li>
<li><a href="../178307/index.html">Options in css 3 and a little about the possibilities for rubber sites</a></li>
<li><a href="../178309/index.html">Population algorithm based on fish school behavior</a></li>
<li><a href="../178311/index.html">The implementation of the stack due to ... call stack</a></li>
<li><a href="../178313/index.html">Autostart PPPoE connection without logging in to your account</a></li>
<li><a href="../17832/index.html">Search internet explorer on apple</a></li>
<li><a href="../178321/index.html">Automated testing of a web application (MS Unit Testing Framework + Selenium WebDriver C #). Part 1: Introduction</a></li>
<li><a href="../178323/index.html">Arduino Artificial Intelligence</a></li>
<li><a href="../178325/index.html">How we made the connection at the Grib diamond deposit</a></li>
<li><a href="../178327/index.html">Re: Find out the white IP-address of the router from the server, which is behind the NAT-ohm</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>