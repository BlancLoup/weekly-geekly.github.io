<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google AdWords API Example</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many advertisers are aware of the benefits of using the API in contextual advertising. Suppose you need to run an advertising campaign with a large nu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google AdWords API Example</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/e41bb6ee/01d0758f/7085f737/1a400f6d.png" align="left"><br>  Many advertisers are aware of the benefits of using the API in contextual advertising.  Suppose you need to run an advertising campaign with a large number of similar ads, but for different products.  In this case, the API comes to the rescue.  You easily and quickly transfer data from the MySQL database to an advertising campaign.  And that's it!  It is done.  You can edit and run a little.  This is the scheme we have repeatedly used to advertise our bookstore in Yandex.Direct. <br><br>  But with Google Adwords, everything was far from easy.  We tried for a long time to use this scheme in Adwords, turned over a lot of information on the Internet, until we learned the following from Google support: <br><a name="habracut"></a><br> <code>   AdWords API     .    .&lt;br&gt; <br>         .     ,        .&lt;br&gt; <br></code> <br>  Very, very sorry.  But we do not lose hope that sooner or later Google will open the possibility to use the API-interface in Russia as well.  For such a case, we decided to tell in detail about our example of using the API in Adwords.  Our example with a bang worked on a test server of Google, but did not earn on a working server for the above reasons. <br>  This scheme is rather nontrivial, so in the future (when the API for Adwods in Russia will be open) many will make life easier. <br><br><h4>  Step 1. Create PHP code </h4><br>  First, we create PHP code to transfer data from the MySQL database to AdWords.  The latest version of the PHP library can be downloaded <a href="http://code.google.com/p/google-api-adwords-php/">from this page</a> .  Also, by this link you can find a lot of useful information that is needed in the process of writing code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Our example of using the Google AdWords API to transfer data from the MySQL base of the site to AdWords can be downloaded <a href="">here</a> as an archive.  Note: when downloading this archive to Windows, the NOD antivirus may think for a long time. <br>  This archive contains the following files: <br><ul><li>  aw_api_php_lib_2.2.0 - PHP Library from Google </li><li>  example.php - executable file containing sample code </li><li>  logfile_2011_01_26_13_58_09.txt - an example of a log as a result of example.php </li></ul><br>  It is worth paying attention that at the moment the latest version of the library is 2.4.1 <br>  The example uses the older version - 2.2.0 <br><br>  The code in example.php has comments that should help in developing your version of the exporter.  The following describes the basic steps that are performed in the example. <br><br><h5>  1.1 Initialization of initial parameters </h5><br>  The code block contains the initialization of parameters and the creation of the necessary objects from the aw_api_php_lib_2.2.0 library.  While the program is running, the library writes its logs to the ./aw_api_php_lib_2.2.0/src/Logs directory. In addition, the example.php script writes the workflow to its own log file. <br><br><h5>  1.2 Retrieving data from SQL and populating $ booksArray </h5><br>  In our opinion, this block of code is the most difficult part of the work.  In it, you need to implement an algorithm that will turn product information into an AdWords ad.  The difficulty lies in applying the same algorithm to generate effective ads for all products. <br>  The example uses the following data export algorithm: <br><ol><li>  From SQL, information about the book is taken: author, title, url. </li><li>  From the information about the author formed the title for the announcement. </li><li>  From the information on the title of the book are formed two text fields for the body of the ad. </li><li>  From the information about the author and the title of the book, key phrases are formed for the announcement. </li><li>  The generated information is stored in the $ booksArray array for further sending to the server. </li></ol><br>  When forming the ad, we do not forget about the Adwords rules: <br><ul><li>  The ad title must be less than 25 characters.  <a href="http://adwords.google.com/support/aw/bin/answer.py%3Fhl%3Dru%26answer%3D6095">More details</a> . </li><li>  The length of one block in the body of the ad must be less than 35 characters.  There should be two blocks. </li><li>  Words in the phrase for the ad must be less than 10. </li><li>  Some characters can not be used in the ad.  <a href="http://adwords.google.com/support/aw/bin/answer.py%3Fhl%3Dru%26answer%3D53539">More details</a> . </li></ul><br><br><h5>  1.3 Remaining code blocks </h5><br>  The remaining blocks of code in the example, based on the generated data in $ booksArray, create aw_api_php_lib_2.2.0 library objects and send them to the Google server. <br>  The procedure for creating and sending information is as follows: <br><ol><li>  If necessary, create a campaign or use an existing one. </li><li>  Create groups that will contain ads. </li><li>  We add announcements to groups. </li><li>  In groups add key phrases for ads. </li></ol><br><br><h4>  Step 2. Testing the code </h4><br>  For testing, Google provides a special test server on which to test the operation of scripts.  To use the test server, do the following: <br><ol><li>  <a href="https://www.google.com/accounts/NewAccount">Create a</a> Google account with a specific email. <br><br></li><li>  Determine which server to use (test or work) in the file ./aw_api_php_lib_2.2.0/src/Google/Api/Ads/AdWords/settings.ini <br><br>  To work with the test server you need to put <br> <code>DEFAULT_SERVER = "https://adwords-sandbox.google.com"</code> <br> <br>  To work with a working server you need to put <br> <code>DEFAULT_SERVER = "https://adwords.google.com"</code> <br> <br>  It is worth paying attention to the parameter <code>DEFAULT_VERSION = "v200909"</code> .  It determines the version of the library to be used. <br><br></li><li>  Authentication library takes data from the file ./aw_api_php_lib_2.2.0/src/Google/Api/Ads/AdWords/auth.ini <br>  Sample file content for test server: <br><br> <code>email = "adwords@rekomenda.ru"&lt;br&gt; <br> password = "password"&lt;br&gt; <br> userAgent = "Rekomenda"&lt;br&gt; <br> applicationToken = "ignored"&lt;br&gt; <br> developerToken = "adwords@rekomenda.ru++RUB"&lt;br&gt; <br> &lt;br&gt; <br> ; Uncomment to make requests against a client account.&lt;br&gt; <br> clientId = "client_1+adwords@rekomenda.ru"&lt;br&gt; <br></code> <br><br>  Sample file content for production server: <br><br> <code>email = "adwords@rekomenda.ru"&lt;br&gt; <br> password = "password"&lt;br&gt; <br> userAgent = "Rekomenda"&lt;br&gt; <br> applicationToken = "ignored"&lt;br&gt; <br> developerToken = "ro_GxDwRQebsFELl34jknEVg"&lt;br&gt; <br> &lt;br&gt; <br> ; Uncomment to make requests against a client account.&lt;br&gt; <br> clientId = "123-456-7890"&lt;br&gt; <br></code> <br><br></li><li>  <a href="http://code.google.com/apis/adwords/docs/sandbox.html">Create an</a> account My Client Center (MCC) in the test server.  To do this, call the GetCampaignService () method.  This method is in the example, so you can not call it separately. <br><br></li></ol><br><br><h4>  Step 3. Creating My Client Center </h4><br>  We already have a regular AdWords account.  But as it turned out, a regular AdWords account is not enough to use the API.  To use the AdWords API, you need to create a <a href="http://adwords.google.com/support/aw/bin/answer.py%3Fhl%3Den%26answer%3D7725">My Client Center (MCC)</a> and link it to a regular AdWords account. <br><br><ol><li>  Create an MCC on this <a href="http://www.google.com/intl/en/adwords/myclientcenter/">page</a> . </li><li>  <a href="http://adwords.google.com/support/aw/bin/answer.py%3Fhl%3Den%26answer%3D7732">Associate a</a> regular AdWords account with MCC. </li><li>  At MCC, we set up and activate the <a href="https://adwords.google.com/support/aw/adwordsapi/bin/answer.py%3Fhl%3Dru%26answer%3D15104">AdWords API Center</a> .  It is worth noting that when you activate, you can specify that you use the API for your personal business.  In this case, you may be provided with free API units.  Read more about the cost of units <a href="http://adwords.google.com/support/aw/bin/answer.py%3Fhl%3Den%26answer%3D152597">here</a> . </li></ol><br><br>  After activating the MCC, the AdWords API Center will look something like this: <br><img src="https://habrastorage.org/storage/b9c87936/cc12e1b1/6484fb26/2ec9f7d5.png"><br><br>  The resulting Developer token must be specified in the auth.ini file. <br>  We change the settings of the settings.ini and auth.ini files to use the working server (as mentioned above) and in theory you can start exporting data to the working AdWords. <br><br><h4>  Step 4. Waiting at the sea weather </h4><br><br>  When trying to export data not to the test server, but to the working server, an error occurs: INCOMPLETE_SIGNUP_LATEST_NETAPI_TNC_NOT_AGREED <br><br>  This error just means that the Google Adwords API is not supported in Russia. <br>  Let's hope that the opportunity to use the AdWords API will still appear in Russia. <br>  In future posts, we plan to describe a more successful example of exporting data using the Yandex.Direct API. <br><br>  <b>UPD</b> In the comments to this topic I was told that in fact the AdWords API in the Russian Federation is available and actively used by many companies.  And the support service misled me. <br>  However, it is not possible to pay for the use of the API by credit card.  To access, you need to contact those support and arrange a credit line.  To do this, you will have to sign the agreement (Terms and Conditions) on paper, in Russian.  The agreement can be sent by mail.  Those.  support then includes manual access. <br>  There is no strictly list of requirements for opening a credit line, part of the requirements can be found <a href="http://adwords.google.com/support/aw/bin/topic.py%3Fhl%3Dru%26topic%3D15960">here</a> .  The decision is made individually, upon request. <br><br>  <b>UPD 2</b> This topic was deleted by mistake, but since the information was useful for some users, and besides, new relevant information appeared in the article, I decided to publish the topic again. </div><p>Source: <a href="https://habr.com/ru/post/112603/">https://habr.com/ru/post/112603/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112597/index.html">The first and important post</a></li>
<li><a href="../112599/index.html">Introduction to the OCR tessnet2 library (C # language)</a></li>
<li><a href="../112600/index.html">Writing software for financial accounting: Open API</a></li>
<li><a href="../112601/index.html">The future of web standards</a></li>
<li><a href="../112602/index.html">Internet Product keyword: a new form of online fraud is spreading in Russia</a></li>
<li><a href="../112604/index.html">Some thoughts on the future of the Java platform</a></li>
<li><a href="../112606/index.html">SurroundBAR 6000 IHT. Big PS and an invitation to open testing and a press conference for bloggers</a></li>
<li><a href="../112607/index.html">Life in one day (Life in a day)</a></li>
<li><a href="../112608/index.html">Extreme Review DESTEN Cyberbook U872</a></li>
<li><a href="../112609/index.html">What is behind the asterisks?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>