<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenWeatherMap - how enthusiasts make the weather</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We live in an amazing time, something that used to seem very difficult suddenly becomes accessible and simple. The tasks for the solution of which it ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenWeatherMap - how enthusiasts make the weather</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/47a/b8e/4b9/47ab8e4b951c173d0ea2e9bf40e9c15b.png"><br>  We live in an amazing time, something that used to seem very difficult suddenly becomes accessible and simple.  The tasks for the solution of which it was necessary to create scientific institutes and large organizations are now being solved by self-organized groups of enthusiasts.  Enthusiasts create maps and encyclopedias make films and develop software.  I want to talk about the area in which this fresh wind of change has not yet blown in full force - this is the weather.  And our project - <a href="http://openweathermap.org/">OpenWeatherMap</a> - we want to change this situation! <br><br><a name="habracut"></a><br><br><h4>  Why are we used to the fact that the weather forecast is the lot of specialized organizations? </h4><br>  It happened in our world that the institutes, laboratories and large state organizations, which are isolated from the outside world, have always been engaged in the weather.  Who and how creates weather forecasts has always remained a mystery, covered with a touch of mysticism.  Most of them are large state organizations united in the <a href="http://www.wmo.int/">World Meteorological Organization.</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And everyone knows how fantastically accurate forecasts are, and we rejoice like children when this is so.  And how unpleasant and even dangerous are misses.  In the end, the correct weather forecast does not only affect our daily mood.  Our lives depend on it!  In short, the weather is everything.  Therefore, we thought and decided that such a vital topic as the weather should be accessible to all.  It belongs to people and should be created by the same people who need it! <br>  It should be available, convenient, and, most importantly, free! <br><br>  We are inspired by the example of strikingly successful Wikipedia and OpenStreetMap.  We believe that enthusiasts united by one idea can always achieve better results than large bureaucratic organizations. <br><br>  So the <a href="http://openweathermap.org/">OpenWeatherMap</a> project appeared. <br><br><h4>  The goal of the project is a free API. </h4><br><br>  The idea of ‚Äã‚Äãfree and accessible weather information led us to create and provide all application developers with a free API to get a variety of weather data, such as: <br>  - Interactive <a href="http://openweathermap.org/Maps">map</a> with current weather data <br>  - The <a href="http://openweathermap.org/city/524901">forecast for the week in the city</a> <br>  - Historical data in 120,000 cities of the world. <br>  - Data from 40,000 <a href="http://openweathermap.org/maps%3Fzoom%3D10%26lat%3D55.72669%26lon%3D37.58264%26layers%3DBTFFFFT">weather stations all over the world</a> obtained almost online.  (Delay from seconds to an hour) <br>  - Many different <a href="http://openweathermap.org/hugemaps">web maps</a> , including maps of clouds, precipitation, wind, temperature, etc. <br><br><h4>  How it works? </h4><br><img src="https://habrastorage.org/storage2/406/e22/266/406e22266304cd21d5b6dfe3e2319e29.png"><br><br>  At the entrance we have (1) data from weather stations, as well as (2) forecasts of meteorological services and scientific laboratories.  This data is stored in the OWM database, and after processing using <strike>unique mathematical algorithms</strike> <br>  street magic they turn into interpolated data about current weather anywhere in the world, as well as a set of maps with weather phenomena (3).  And finally, (4) API is provided for all weather data, including maps with weather events.  And now a little more about each of the 4 points. <br><br><h5>  What is at the entrance? </h5><br><h6>  Weather station data </h6><br><br>  The OpenWeatherMap service receives data from professional and private weather stations.  Today, there are more than 40 thousand such stations.  Most of them are professional stations that are installed in airports and major cities of the world.  But also equally important for the service are data from non-professional stations, which are collected and installed by amateurs wherever possible.  And it is very important for us, because  The level of amateur stations is now very high, the accuracy and, most importantly, the efficiency of the transmitted information are also at a very high level.  And the more such stations will be connected to OWM, the higher will be the accuracy of both current weather information and forecasts.  Amateur weather stations are generally a separate topic.  But in this article I would like to emphasize that the range of such stations is very wide.  And it will be interesting to establish such a station at home or at the dacha not only for a serious radio amateur, but also, for example, for father and son.  You can buy a ready-made station costing from $ 100 to $ 1000, or you can collect it yourself, for example, on Arduino. <br><img src="https://habrastorage.org/storage2/08c/8b4/43a/08c8b443ab1584ff4252cca7e2e278f9.png"><br><br><h6>  Forecasts </h6><br>  In addition to weather stations, the OWM service collects already processed weather forecast data.  Calculating the global forecast for the whole world requires incredible computer capacity, and, alas, as long as we do not have our own IBM Deep Thunder.  Fortunately, many weather services share our love for free data and the results of their systems are available.  We use data from two weather services - the American NOAA, which drive the GFS model, and the Canadian one from Environment Canada.  Both models are global and are aimed not at predicting a specific weather situation at a particular point on the earth, but at determining the general atmospheric dynamics on the planet as a whole.  They have a big grid step - about 50 km and a large time range of the forecast - 5-7 days. <br>  In addition, more detailed, with a smaller step, models are calculated for individual regions. <br>  We combine data of different-scale forecasts - from the average and global, to local and more accurate, respectively.  As a result, the OpenWeatherMap web maps work very conveniently - global forecasts are used for large scale, and in the process of increasing more and more detailed data is loaded. <br><br><img src="https://habrastorage.org/storage2/d69/05f/990/d6905f990ca62ffd47408b177e220e84.png"><br><br>  But all this would not be so interesting if meteorologists would not share our love for free software!  Some models used by major weather services are available in OpenSource - for example, the WRF model. <br><br>  For example, a group of French enthusiasts has deployed a similar data processing system on their home servers and provides detailed and accurate forecasts throughout France.  By the way, the cost of their entire system was 5 thousand dollars (Blade server for 16 cores), which does not look inaccessible. <br><br><img src="https://habrastorage.org/storage2/79a/269/4b4/79a2694b4479ce136ea5e9a1b9efd713.png"><br><br>  The OpenWeatherMap service combines such accurate local models together with global ones.  After that, we assimilate super-operative data from weather stations.  And already on the basis of all this data, interactive maps are constructed, in which the degree of detail of the data depends on the scale of the map. <br><br><h5>  What is the output? </h5><br><br><h6>  Maps - a variety of species </h6><br><br>  After processing the raw data that OWM receives from weather stations and meteorological institutes, various interactive maps are created with data on weather and weather phenomena.  These are maps of clouds, pressure, temperature, precipitation, wind.  Also, this data radar, weather stations and just the current weather anywhere in the world. <br>  <a href="http://openweathermap.org/hugemaps">More about maps</a> <br><img src="https://habrastorage.org/storage2/f8a/8a7/639/f8a8a763977c26d77d79c66d54edeb6b.png"><br><br><h6>  API </h6><br>  The OpenWeatherMap service provides a free API to all weather data, their history, forecasts and all the variety of weather maps. <br>  There are two types of APIs - JSON for receiving data and Tile / WMS for cartography. <br><br>  Using JSON you can get: <br>  - Weather data in more than 120 thousand cities.  At the same time cities do not need to choose from a strictly limited list, they can be found on the map and see the estimated weather forecasts both in the city itself and in the nearest regions. <br>  - Current weather data at the selected point in lat / lon coordinates <br>  - The forecast for 7 days in a compact or full form <br>  - ‚ÄúRaw‚Äù data received from meteorological stations <br>  - Weather data for past periods <br>  <a href="http://openweathermap.org/API">More about Meteo API</a> <br><br><h6>  How to use our API </h6><br>  The range of API applications is infinitely wide.  These are mobile applications for all platforms.  These are various websites that can use the API to display current weather, various weather charts, widgets, etc. These are smart home systems. <br>  For example, one of the users of the OpenWeatherMap from the UK organized an automatic watering system for their English garden.  For planning the amount of water and irrigation mode, he uses data on precipitation forecast. <br><br><img src="https://habrastorage.org/storage2/8a9/898/bb5/8a9898bb5f23947e00c120be28e1530b.png"><br><br><img src="https://habrastorage.org/storage2/ca6/d0b/317/ca6d0b3176e4a00f467fb17c45f7730e.png"><br><br><h4>  Why is everything in Russia as always? </h4><br>  I will say right away that we do not provide what is called a weather forecast on the territory of Russia.  And in general, we do not conduct any activities in the country.  This type of activity in Russia requires licensing. <br><br>  However, let's see what happens with weather stations and weather enthusiasm in Russia.  In the illustration below you can see the current picture of the distribution of weather stations.  Compared to the dense coverage of the entire European part, Russia looks more than modest.  And this is one of the reasons for the inaccuracy of weather forecasts in our vast territory. <br><br><img src="https://habrastorage.org/storage2/060/b4d/715/060b4d71523896a256aa3403a66319af.png"><br><br><h5>  And what can we change? </h5><br><br>  We are confident that with the help of enthusiasts you can make a difference.  If you are interested in this topic and you want to help the project, then there are so many possibilities. <br>  You can, for example, the following: <br>  - connect your weather station <br>  - if you are a developer - use our data in your projects <br>  - or finish our mobile version - m.openweathermap.org <br>  - yes, just write about us in your blog <br><br>  Or if you are interested in mathematics - there are a lot of tasks around this.  For example - one of the most important tasks in the system is the definition of current weather.  As I mentioned above, we receive operational data from weather stations, which need to be interpolated into a grid of important for geographical points - cities or individual regions.  The data from the stations is heterogeneous and not received regularly.  Moreover, a lot of garbage comes from erroneous and incorrect measurements, they must be sifted out.  And errors can appear in the data from quite reliable weather stations. <br>  Now we are using a fairly rigid and non-adaptive algorithm.  I would love to try some learning algorithm in this problem. <br>  It is very interesting to try a neural network in a similar task. <br><br>  Or, for example, the appearance of maps.  I'd like to make my own layer based on OpenStreetMap data with fewer details, but more natural looking.  If you have ideas, we will be very happy, especially if you know how to implement them at mapnik. <br><br>  <b>We need everything capable of holding a weapon!</b> <br><br><h4>  Architecture </h4><br>  I will not dwell on the system architecture in detail; I will conduct a general picture for illustration: <br><img src="https://habrastorage.org/storage2/a7c/8d1/391/a7c8d1391383609896b4a8b1e6e3b07c.png"><br>  Architecture - one piece. <br><br>  We use only Open Source software, including NgInx, Apache, PHP, Tilecache, OpenLayers, Leaflet, Mapnik, PostGIS, Memcache, MongoDB, Gearman, MySQL, Python and more. <br><br><h4>  PS </h4><br>  A small lyrical digression. <br>  Now the fashionable term bigdata is becoming a selling brand that is actively used by all sharks of the IT market.  But apart from pure marketing, this has a huge impact on the entire industry - the point is that the cost of a transaction and the cost of storing large amounts of information are falling at a tremendous pace, and practically tends to zero.  This opens up extraordinary opportunities not only for large market players, but also for small ones.  Roughly speaking, several years ago the cost of developing and maintaining a system with a data volume of several terabytes and a load of thousands of transactions per second was too heavy for a small company, and even more so for enthusiasts.  Now everything is changing! <br>  Bigdata becomes available.  This is a revolution in which everyone can participate! <br><br>  Actually from here and the answer to the question that I often ask - and why is it free?  We believe that building a business with a paid API is a way to hell, both technologically and commercially.  Our API will always remain free - this is the main idea and goal of the project. <br><br><h4>  What will happen next? </h4><br>  The idea of ‚Äã‚Äãfree weather itself provides opportunities for the development of the project.  At the moment we are already working on new directions and functions, such as: <br>  ‚Ä¢ Sociality.  This is an opportunity to say - no, in our city now the snow is not falling, but the sun is shining and flowers are blooming.  This means that the weather station in the city gives incorrect data, and we will look for other possibilities to support accurate weather in this city.  Automatic algorithms are good, but people are better. <br>  ‚Ä¢ We will continue to connect external settlement modules to the project for detailed information by region. <br>  ‚Ä¢ Promotion of the idea of ‚Äã‚Äãamateur weather stations and connecting them to the OpenWeatherMap <br>  ‚Ä¢ Using OpenWeatherMap for the agro-industrial industry, the need for local forecasts is very high here. <br>  ‚Ä¢ Development of specialized meteorological applications <br>  ‚Ä¢ And of course we really hope for YOUR help! <br><br></div><p>Source: <a href="https://habr.com/ru/post/164045/">https://habr.com/ru/post/164045/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164035/index.html">Android: Quick control menu</a></li>
<li><a href="../164037/index.html">Using unions in constant expressions for C ++ 11</a></li>
<li><a href="../164039/index.html">Sudden 2012: what will happen to security in OS X next?</a></li>
<li><a href="../164041/index.html">Summing up 2012 on disk storage</a></li>
<li><a href="../164043/index.html">Windows Azure December News: Platform Update, TechEd Russia Video, New Training Kit</a></li>
<li><a href="../164047/index.html">Another 10 thousand free Leap Motion controllers for developers</a></li>
<li><a href="../164053/index.html">Authentication of SUSE Linux file servers in an AD-based Windows domain</a></li>
<li><a href="../164055/index.html">Anatomy of a gadget: digging into the filling of Samsung GALAXY Note II</a></li>
<li><a href="../164057/index.html">PHDays CTF Quals: BINARY 500, or how to hide the flag below the baseboard</a></li>
<li><a href="../164059/index.html">How I paid for my free Android application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>