<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Apple Watch: how to make an application under the clock and not screw it up</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today launched the official sale of Apple Watch. 90% of mind-blowing app concepts for them, which can be found on the Web, are unrealizable - for thos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Apple Watch: how to make an application under the clock and not screw it up</h1><div class="post__text post__text-html js-mediator-article">  Today launched the official sale of Apple Watch.  90% of mind-blowing app concepts for them, which can be found on the Web, are unrealizable - for those who are familiar with Apple's guidelines, this is well known.  What can be realized on the watch is still possible and how best to do it in terms of development and design - under the screen. <br> <a href="http://habrahabr.ru/company/redmadrobot/blog/256501/"><img src="https://habrastorage.org/files/47f/99f/f6a/47f99ff6ae9b41c7b26cec67ca91d12f.jpg" alt="Such coveted"></a> <br><a name="habracut"></a><br>  Our team made one of the first applications in Russia <sup>¬©</sup> under the watch.  When the developer and designer understand the features of each other's work, the likelihood of the appearance of fantastic design concepts tends to zero, and the development time - to several days.  We, Grigory Matvievich ( <a href="https://habrahabr.ru/users/fountainhead/" class="user_link">fountainhead</a> , developer) and Ekaterina Sotova ( <a href="https://habrahabr.ru/users/lost_in_purple/" class="user_link">lost_in_purple</a> , designer), tell us what you should pay attention to if you are making an application for Apple Watch. <br><br>  It will be about: <br><ol><li>  WatchKit application architecture </li><li>  Interacting with the main application on the phone </li><li>  Glances </li><li>  Notifications </li><li>  Identity of the application: fonts, icons, colors </li><li>  Navigation </li><li>  User interactions via interfaces </li><li>  Images and animations </li><li>  Layout / Layout </li></ol><br><h4>  <font color="red"><b>Ideology: personalization, integrity, lightness</b></font> </h4><br>  ‚ÄúApple Watch is our most personal device,‚Äù they say at Apple.  And this is true - the gadget, which is constantly on the hand of its owner, suggests new formats of user interaction, which were impossible or not needed on the smartphone.  Watch applications must be adapted to the context in which their owner is located.  First of all, this means that the clock should display only the most useful information in a very condensed form, as the person uses them on the go.  The main task of watches and good applications for them is to be unobtrusive and useful.  Apple focused on tactility (Taptic Engine provides tactile response when notifications come or interaction with the clock occurs) and tried to literally ‚Äúblur‚Äù the boundaries between applications and physical objects: the background of the application imperceptibly flows into the display frame, visually merging into a single unit .  The watch does not replace the application on the smartphone, but complements it.  Apps on Apple Watch should be as easy as possible to interact.  Information should be viewed simply and quickly and depend on the context in which the owner is located, without becoming intrusive.  So, for example, the notification is displayed completely if the user has fixed his eyes on it, and Glances show the most relevant and necessary.  If user interaction scripts with an application on the iPhone can be measured in minutes, then the duration of interaction with the clock does not exceed, as a rule, several seconds.  All this must be kept in mind when designing your applications. <br><br><h4>  <font color="red"><b>1. Architecture of WatchKit application</b></font> </h4><br>  In the first version of the smart watch, Apple allowed third-party developers to create applications that are extensions of the main application (hereinafter, an application running on the iPhone, we will call it the <i>‚Äúmain application‚Äù</i> ).  And the application that runs on the watch is <i>‚ÄúWatchKit-application‚Äù</i> , or simply <i>‚Äúapplication‚Äù</i> on the iPhone.  Development exclusively under the Apple Watch promise to do in the future.  Now the watch functionality is available through the WatchKit framework and is very limited compared to what you could see at the presentation of the watch itself.  It can be seen that the developers at Apple and at several other ‚Äúselected‚Äù companies have more opportunities than others. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We will understand how the application is arranged on the Apple Watch.  From the point of view of the interface, applications on Apple Watch consist of the following parts: <br><ol><li>  An application that has an icon and runs from the watch's main screen </li><li>  Glance (preview) - analog widgets on the iPhone </li><li>  Notifications </li></ol><br>  From an architectural point of view, everything is different.  Application files are divided into two parts: WatchKit App and WatchKit Extension.  The WatchKit App is stored directly on the clock and consists of a storyboard (interface description) and resources.  WatchKit Extension is stored on the iPhone and contains code and resources.  Thus, all the code is executed on the phone, and without the iPhone nearby your application on the clock will not start.  The interaction between the phone and the clock is carried out through the WatchKit framework and is hidden from the developer. <br><img src="https://habrastorage.org/files/0a2/dd5/a73/0a2dd5a738444b0bbac1a7440464bafd.jpg"><br>  Each screen of the application is controlled by a WKInterfaceController class controller object.  All controllers, including Glance and notifications, must be executed in the WatchKit App.  When the user opens the application on the clock, WatchKit finds the initial controller in the storyboard and tells the iPhone that it is necessary to launch WatchKit Extension and create an object of the desired controller class.  Similar actions will occur if the user opens Glance or receives a notification. <br><br>  The life cycle of a controller is similar to that of its older brother, UIViewController.  The init, awakeWithContext:, willActivate methods are used to perform the following tasks: <br><ul><li>  Get the data you want to display. </li><li>  Set initial values ‚Äã‚Äãand configurations for labels, images, buttons and other interface objects. </li><li>  Hide unnecessary part of the interface and show the desired one. </li></ul><br><img src="https://habrastorage.org/files/067/64d/746/06764d746f9f43b8a04bf7dd7c0f27f7.jpg"><br>  The initial controller plays a crucial role.  Despite the fact that it is essentially a screen controller, it has functions similar to the delegate of the application on the iPhone.  It is always created and launched first, it processes transitions from Glance and notifications in the WatchKit application.  The initial controller initialization methods are the first entry point into the application.  It is there that the application can first look at what data it has and display a suitable interface.  If classes, number, order of internal screens can be set from the code, then choose which controller will be initial only in the storyboard during the design of the application. <br><br>  The WatchKit Extension is launched only when the user interacts directly with the clock, and ends as soon as the user exits the application or simply drops his hand.  The concept of working in the background for the WatchKit application does not exist.  However, the system can make a ‚Äúscreenshot‚Äù of the application.  If you lower your hand or exit the application, and then after a short time start it again, you will be taken to the same screen where you‚Äôve finished.  Only the corresponding controller willActivate is called. <br><br>  <b>Differences from the development of the main iOS-application</b> <br>  <i>The essential difference</i> from the development of the main iOS application is that the init controller initialization method is not called by the developer, but by the system.  Parameters and data are transferred from the controller to the controller through the context.  Any transition from the screen to the screen occurs either automatically by segway or from the code by the controller ID in the storyboard.  In both cases, WatchKit finds the desired screen in the storyboard, after which the WatchKit Extension creates an object of the class specified in the storyboard at the screen with the given identifier (for the given segway) and calls its init method.  Stack controllers remain ‚Äúunder the hood‚Äù of the system.  The developer does not see it and works with the code of the controllers, as with abstract and isolated entities. <br><br>  Another <i>important difference</i> is that all interface elements are proxy objects that are write-only.  It is impossible to find out from the label which text it displays, which font and color it uses.  Therefore, it is sometimes necessary to store the state of objects in separate variables.  In addition, you cannot inherit from the WKInterfaceObject base class, which complicates the design of the application and makes it impossible to create custom interface objects. <br>  There is not even the usual hierarchy of View.  You cannot dynamically create and add interface objects.  The entire interface must be defined in a storyboard, that is, at the design stage of the application.  Linking occurs via IBOutlet.  Unnecessary part of the interface is hidden.  But we must <i>try to avoid situations</i> where there are two completely alternative interfaces on one screen, one of which is hidden depending on the context.  But in some cases, like for example in Glance, this is the only solution. <br><br>  The didDeactivate method is called by the system to inform the controller that it is no longer on the screen.  At the same time, in the body of this method and after its call it is useless to make any changes to the interface - the system will ignore them.  It can be very inconvenient when, upon the occurrence of a certain event, it is necessary, for example, to change the displayed text on the screen, which is not currently displayed.  It is necessary in some way to postpone event handling until the call willActivate.  Because of this, willActivate can turn into a string of conditional checks "but do we need to reconfigure the interface again." <br>  Apple advises "lazy" data loading, where appropriate.  In willActivate, you can use dispatch_async and dispatch_after on the main thread. <br><br><h4>  <font color="red"><b>2. Interaction with the main application on the phone</b></font> </h4><br>  The main difficulty lies in the fact that the main application on the iPhone and the WatchKit Extension are two different isolated processes with their sandbox.  On the other hand, it is logical to assume that if the application on the clock is a supplement to the main one, then it should receive data from its older brother.  And here Apple offers several ways: <br><br>  <b>1. Using App Groups, which allow you to have shared NSUserDefaults and save files in a shared container for a group of applications and their extensions.</b> <br>  This method allows you to get data almost instantly.  The main application can write to the group, both in the course of its work, and in background fetch mode.  There are some limitations: firstly, the main application cannot simply inform the clock that the data has been updated.  Simple KVO to shared NSNotificationCenter does not work.  Solution: use in conjunction with the second method or organize data transfer through <a href="https://github.com/mutualmobile/MMWormhole">one well-known pod</a> , which archives data into files and uses the Darwinian notification center;  secondly, when recording files, you should pay attention to <a href="https://developer.apple.com/library/ios/technotes/tn2408/_index.html">this warning</a> from Apple. <br><br>  <b>2. Interact with the main application on the iPhone directly.</b> <br>  The WKInterfaceController class has an openParentApplication: reply: method that, when called, launches the main application on the iPhone.  It calls the delegate method application: handleWatchKitExtensionRequest: reply:, which processes the incoming request.  From WatchKitExtension, the request completion block is transmitted, which takes the NSDictionary as the response of the main application.  In addition to the completion block from WatchKit Extension, you can transfer a dictionary with any information so that the main application on the iPhone can handle different requests depending on the context. <br><br>  If the main application needs to perform an asynchronous request, for example, request fresh data from the server, it is recommended to register the background task, otherwise iOS can complete it without waiting for the completion.  The main <i>limitation of this method</i> : it takes time.  Of course, blocking the main thread while waiting for a response is unacceptable, so the question is how to show old data, how to show the user something is happening, how to visually update the data, what to do if an error returns, etc.  <i>Another serious limitation</i> : complex objects are not transmitted, it is necessary to serialize them.  When designing an application, it is very important to remember that data must be received from somewhere.  The creators of some concepts of WatchKit applications clearly did not think about it.  Still need to consider security issues.  If the displayed data is confidential, then you just can not store them.  In this matter, it is better for the main application and the WatchKit application to act in the same way. <br><br>  <b>3. Handoff as a way to start watching information on the clock, and continue on the phone.</b> <br>  Handoff is implemented very simply.  NSUserActivity type names are added to * -Info.plist of the main application.  The updateUserActivity method is called on the controller object: userInfo: webpageURL: with a parameter - the name of the required type NSUserActivity.  You can pass the necessary additional information to userInfo.  At this time, the icon of your application appears on the phone screen in the lower left corner and if you pull it up, the main application will start.  The application delegate will invoke the application: willContinueUserActivity and application: continueUserActivity: restorationHandler methods, where you can process userActivity and display the necessary information.  At the same time, if the user does not get the phone out of his pocket and tries to unlock it, the system will take care of itself to disable the activity after some time. <br><br>  Apple Watch itself does not recognize or handle NSUserActivities, with the exception of those generated in Glance.  But more about that in the next section. <br><br><blockquote>  <b>To conclude the paragraph, here are some more tips from Apple:</b> <br><ul><li>  Make out all the common code in the framework. </li><li>  Traffic between the iPhone and Apple Watch needs to be minimized. </li><li>  "Hard" work should perform the main application on the iPhone. </li></ul></blockquote><br><h4>  <font color="red"><b>3. Glances</b></font> </h4><br><img src="https://habrastorage.org/files/c1f/f36/d46/c1ff36d46edd45c3a4da8b0252390257.gif"><br>  Glances is an application designed to quickly display important information, which is invoked directly from the watch screen with a swipe from the bottom up.  In essence, these are flipped application widgets showing the most up-to-date information, such as weather, stock indexes, calendar information, missed calls, fitness goals and achievements.  The order of the application cards is customizable.  By the way, the application may not have a display in Glance, if this is not necessary <br><blockquote>  <b>Features: Design</b> <br><ul><li>  Does not have vertical scrolling. </li><li>  Does not support interactive elements: buttons, switches, sliders and menus. </li><li>  It allows you to work only with the San Francisco system font, but there are different styles: regular, semibold, medium, light and others. </li><li>  Built on a special template consisting of two parts. </li><li>  Background Glance - Blurry Clock. </li><li>  Apple does not recommend the use of maps and tables, but they are not prohibited. </li><li>  Gloss is not always updated before the show, sometimes the system displays a screenshot and the inscription "Last updated on ***" </li></ul><br>  <b>Features: development</b> <br><ul><li>  A tap on the glance opens the corresponding application on the clock and loads the initial controller.  Through the user activity, you can process the transition from the glance and show the desired interface from the initial controller. </li><li>  The base class of the glance screen controller is the standard WKInterfaceController.  Glans has an absolutely identical life cycle, except that a non-trivial amount of time can pass between the init call and the willActivate.  Therefore, in willActivate, you should check the relevance of the data. </li></ul></blockquote><br>  The configuration of the glance is two parts, the upper one is offset from the center: <br><img src="https://habrastorage.org/files/d1d/b30/e65/d1db30e6556248be92ea527955460f47.png"><br><h4>  <font color="red"><b>4. Notifications</b></font> </h4><br>  The system will provide a universal interface for your notifications, even if you do not implement any interface controller for them in a storyboard.  But, of course, I want to make them beautiful and comfortable.  Here it is necessary to find the right balance so that notifications do not disturb the user too often, but at the same time provide him with relevant information for the current context.  The wording of notifications should be as clear and short as possible, because the clock screen is very tiny.  This is especially true for Cyrillic.  Russian words are placed on the screen with great difficulty. <br><br>  Notifications are shown in two stages: <i>Short Look</i> and <i>Long Look</i> .  When you receive a notification watch gently vibrates.  Raising a hand, the user sees the ‚Äúshort view‚Äù of the notification - ShortLook, which is immediately animated in LongLook, if the user has kept his eyes on it: <br><img src="https://habrastorage.org/files/156/287/c69/156287c698e84845896bf4e1e194f7b9.png"><br>  Long Look contains the full text of the notification, the icon and the name of the application, as well as the button ‚ÄúSkip‚Äù the notification.  Right here you can shove up to four contextual actions - in the case of our application, for example, ‚Äúextend speed‚Äù.  The ‚ÄúDismiss‚Äù button is always provided by the system.  Other possible buttons and their corresponding actions must be registered in the code of the main application on the iPhone via UIUserNotificationSettings for certain categories of notifications.  That is, they are defined at the design stage of the application, and do not come along with the push.  Therefore, it is sometimes useful to create a universal category for notifications, if we want to always show a custom interface. <br><br>  Button actions can have two types of activation mode: background and foreground.  Clicking on the button with the foreground action opens the WatchKit application and calls one of the methods handleActionWithIdentifier: forLocalNotification or handleActionWithIdentifier: forRemoteNotification, to which the identifier of the selected button is transmitted.  By clicking on the button with the background action, the main application on the iPhone starts up in the background, and one of the appropriate delegate methods of the application is called. <br><br><blockquote>  <b>Layout notification features: design</b> <br><ul><li>  Use different system font styles in LongLook. </li><li>  Change the color of the plate with the name of the application in LongLook. </li><li>  Set the color of the application name via GlobalTintColor in ShortLook. </li></ul><br>  But you cannot use interactive elements - buttons, sliders and switches - in notifications. </blockquote><br>  There are two types of notification interface: <i>static</i> and <i>dynamic</i> .  If you implement a custom interface, then you need to create a controller for a static type.  The static type of interface is a simplified, generalized type of notification compared to a dynamic one.  The system will automatically determine which interface to select, depending on the battery charge and user settings.  Dynamic type can not be implemented. <br><br><blockquote>  <b>Static Interface Features</b> <br><ul><li>  All pictures must be contained in the WatchKit App. </li><li>  The interface does not contain tables and maps. </li><li>  The entire interface is static, except for one label that will display a notification message. </li></ul><br>  <b>Features of the dynamic interface</b> <br><ul><li>  You can use and change labels, images, groups and separators depending on the content of the notification. </li><li>  You can add tables and maps as needed. </li></ul></blockquote><br><br><h4>  <font color="red"><b>5. Application Identity: Fonts, Icons, Colors</b></font> </h4><br>  Inside the WatchKit application on the clock, it is possible to change any font except the title and time, as well as the context menu called via ForceTouch.  Despite the fact that the San Francisco system font package does not have a Cyrillic style, everything is in order on the clock itself and in Xcode.  In Glance and Notifications, however, you cannot use custom fonts. <br><br>  Inside the main application for all headers is set to Global tint color.  It cannot be changed during execution depending on the context or data, it is set at the design stage of the application once and performs the function of the header colors in the application and the application name in the ‚Äúshort view‚Äù notifications.  Color PageControl, unfortunately, can not be changed either, do not believe the concepts.  Do not make users of your application feel as if they are watching an advertisement.  <i>For branding it is better to use unobtrusive means</i> : color, fonts, images. <br><blockquote>  <b>Tips: Design</b> <br><ul><li>  Do not insert a logo everywhere, it eats the usable space of the screen, while not carrying any functionality. </li><li>  Colors should be bright and contrasty for easy reading in extreme conditions like bright sun. </li><li>  Do not limit color to display interactivity controls - use standard buttons or animation. </li><li>  Texts need to pay special attention.  They should be well read in any situations: on the go, on the run, somehow.  Do not make the text too small or pale. </li><li>  It is recommended to use a black background on the watch - not pictures and not bright colors.  The picture on the screen does not have indents, thus continuing the application already in the physical product - in the clock.  Due to the fact that a large black frame around the display, it seems that both the application and the physical clock themselves are a single whole. </li></ul><br></blockquote><br><h4>  <font color="red"><b>6. Navigation</b></font> </h4><br>  Applications support two types of navigation, which, unfortunately, can not be combined with each other. <br><br>  <i>Hierarchical navigation</i> is a classic application management method, similar to navigation in iPhone applications using UINavigationController, where the user ‚Äúgoes deeper‚Äù into the application.  This type of navigation is the most convenient and flexible in technical terms, because it allows you to transfer information to the user in portions and have an unlimited number of nesting levels. <br><br>  <i>Page navigation</i> (PageControl) allows the user to navigate between the swipe screens.  This navigation model is suitable for small applications with a simple data model.  When using page-by-page navigation, the content of all pages is loaded at a time, and the dynamic increase in the number of pages is not implemented without a number of tweaks. <br><br><img src="https://habrastorage.org/files/d35/c8c/9ca/d35c8c9ca5454a118faaca85e5c7f551.jpg"><br><blockquote>  <b>Tips: Development</b> <br><ul><li>  In page navigation, it is better to configure the interface in willActivate, and not in init or awakeWithContext.  When loading multiple screens with PageControl, they are all created before the first one is shown.  This means that all controllers will call init, awakeWithContext :, and then only the first controller, willActivate.  And if you put a lot of action in the initialization, the user will see a long indicator of activity before the first screen appears. </li><li>  If the initial controller of the storyboard is connected with page navigation, then the context between the screens cannot be transferred, which forces you to invent your own way of data sharing. </li><li>  You can not dynamically change the number of screens that are interconnected through Page Control.  To do this, you need to ‚Äúrestart‚Äù the application completely (the reloadRootControllersWithNames: contexts: class of the WKInterfaceController method), which in the eyes of the user looks like some kind of error has occurred. </li></ul></blockquote><br>  Also, in any type of navigation, a modal display of content is possible to attract the user's attention or to resolve issues that require the user to make an unambiguous decision without interacting with the main part of the application.  In this case, you can show both one window and several windows connected via Page Control.  In the left corner of the modal window, the default header is.  <i>Abuse of modal mode is not recommended.</i> <br>  The transition between the screens is entirely processed by the system, and it cannot be customized or animated in any way.  In the page navigation, the screens appear to the right and left, in the hierarchical one - the next screen slides from the right edge of the screen, like on an iPhone or iPad, and the modal screen pops up from below. <br><br><h4>  <font color="red"><b>7. User interaction through interfaces</b></font> </h4><br>  <b>Gestures</b> <br>  The clock screen is too small for a complete list of gestures used in iOS.  Here is what is available to the user: <br><ul><li>  Single tapas. </li><li>  Vertical scrolling for long screens. </li><li>  Swipe left and right in page navigation. </li><li>  Force Touch to call the context menu. </li><li>  Wheel Digital Crown.  In Apple's applications from Apple, for example, you can zoom.  But for developers, only the scroll function is available: in order not to block the screen with your finger, you can simply turn the wheel. </li><li>  A gesture from the left edge that returns to the previous screen in hierarchical navigation. </li></ul><br>  Custom gestures can not be. <br><br>  <b>Context menu</b> <br>  The context menu is called up by a Force Touch gesture.  It can hide from one to four minor actions.  The screen as if is really pressed, and the context menu runs from above.  It has a translucent background and from one to four buttons of the system view. <br><blockquote>  <b>Features: Design</b> <br><ul><li>  You can customize the context menu only with the icon, while it is impossible to change either the color of the icon or the color of the circle. </li><li>  The font is also not customized, the length of the inscription is limited to two lines. </li><li>  The user can interact with the following objects: button, switch, slider, table (row selection), context menu. </li><li>  Tap on the map opens the map application on the clock. </li><li>  While the application is running, objects can change configuration (for example, text with a label), you can change the width and height, as well as the hidden and alpha properties. </li><li>  Moving objects (changing origin) is difficult and it is better not to do it. </li></ul></blockquote><br><h4>  <font color="red"><b>8. Images and animations</b></font> </h4><br><img src="https://habrastorage.org/files/ce2/6f4/52a/ce26f452a4ab407bb6ed9e349b574ffe.gif"><br>  There is a misconception that Apple Watch will have many beautiful animations.  Not really, at least in the third-party applications definitely not.  If there is a need for animation, forget about the software (or almost forget).  You can only animate images.  Frame by frame  That is, get ready to cut all the frames of the animation separately, just like for old cartoons.  Objects cannot be moved.  It is impossible to animate transitions between interface states, parallax effect, transitions between screens.  Only change image frame.  <b>Everything.</b> <br><img src="https://habrastorage.org/files/05b/50a/6e1/05b50a6e106c4d568a00b5669744a1cc.jpg"><br>  You can set an image on the background of the WKInterfaceController controller, the WKInterfaceButton buttons, the WKInterfaceGroup group.  And there is a special object for displaying WKinterfaceImage images. <br><br>  When specifying the image name in the storyboard and in the parameters of the methods ending with imageNamed, the system looks for a picture in the WatchKit App, that is, among those stored on the clock.  Methods ending in image and imageData imply that the image is stored in WatchKit Extension, that is, physically on the phone.  Therefore, when you use them, the picture is transferred from the iPhone to the clock, which will cause some delay.  Animation frames must be named with the same name plus the frame number: for example, ‚Äúimage0@2x.png‚Äù, ‚Äúimage1@2x.png‚Äù, ..., ‚Äúimage256@2x.png‚Äù.  In this case, the name of the picture that you specify in the storyboard or transfer in the parameter of the animation start methods will be considered ‚Äúimage‚Äù. <br><br>  Programmatically, you can start and stop the WKInterfaceImage animation and the background of the WKInterfaceGroup group.  The best place for this is in willActivate.  Moreover, if you want the animation to start already after the user sees the screen, the start call can be wrapped in dispatch_async or dispatch_after.  If you want the animation to run periodically, you can use NSTimer to do this. <br><br>  <b>In the start parameters of the animation, you can specify:</b> <br><ul><li>  The initial frame of the animation and the number of frames, that is, for example, specify "scroll 10 frames starting from 23" </li><li>  The time over which the animation should go.  And if you specify a negative value, the animation will start in the opposite direction (from 32 frames to 23 for the previous example) </li><li>  The number of repetitions, where zero means "continue until you stop" </li></ul><br><blockquote>  <b>Features: development</b> <br><ul><li>  Due to delays in transferring images from the phone to the watch while the application is running, the best scenario now is creating animation for all occasions at the design stage and storing it in resources on the watch. </li><li>  There are already projects on github, which allow you to create an iOS animation, convert it into a series of pictures and transmit in real time to the clock.  But so far this does not seem to be the optimal work scenario. </li><li>     ,    5MB.    ,            Apple Watch   ,         WKInterfaceDevice.     ,  ,   . </li><li>           .     Devices,   ‚Äî  Apple Watch,       iOS       . </li></ul></blockquote><br>        ‚Äî      .         ,      ,  ,   .      Apple Watch,        . <br><br><h4> <font color="red"><b>9. /Layout</b></font> </h4><br>         html,    .    ,     .     .  ‚Äî     .   ,    . <br><br><img src="https://habrastorage.org/files/857/9c9/255/8579c925584944389ce2940ffddcb556.png"><br><br> ,       ,    .        .  <i>  </i> :         ,          .       ,        .     origin,         .             ,       .       .      . <br><br><img src="https://habrastorage.org/files/d32/351/2ad/d323512ad3e94d5b912c2d5460fee8ac.png"><br><br>          .        storyboard. ,  Glance           ‚Äî       .           ,   .     ‚Äî    . <br><blockquote> <b>: </b> <br><ul><li> Apple Watch    ,  ‚Äî 38mm,   ‚Äî 42mm.            . </li><li>          . </li><li>       ‚Äî       . </li><li>      ,       ,             . </li></ul></blockquote><br><h4> <font color="red"><b></b></font> </h4><br> ,     ,     .      ,       ,          .   ,      ‚Äî      ,       . <br><br> ,         iOS ,        . ,       WWDC       ,      ,             . ,    .        :  ,  . <br><br>       ,     Apple Watch ‚Äî " <a href="https://itunes.apple.com/ru/app/moj-bilajn/id569251594%3Fmt%3D8"> </a> ". <br><br>  <i>See also:</i> <br> <a href="http://habrahabr.ru/company/redmadrobot/blog/252773/">Material Design:    </a> <br>  <a href="http://habrahabr.ru/company/redmadrobot/blog/255381/">Styling iOS Applications: How We Stretch Fonts, Colors, and Images</a> <br> <a href="http://habrahabr.ru/company/redmadrobot/blog/228915/">  : </a> </div><p>Source: <a href="https://habr.com/ru/post/256501/">https://habr.com/ru/post/256501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../256489/index.html">Video reports from MoscowJS Meetup</a></li>
<li><a href="../256491/index.html">Cloud infrastructure: 7 interesting services and technologies (and their analogues)</a></li>
<li><a href="../256493/index.html">CAN-USB adapter from stm32vldiscovery</a></li>
<li><a href="../256495/index.html">Designing a Web API in 7 steps</a></li>
<li><a href="../256497/index.html">Monitoring-as-a-service for infrastructures on the example of the Anturis service</a></li>
<li><a href="../256503/index.html">Write under that, I don‚Äôt know what: development features for Apple Watch using Mail.Ru Mail as an example</a></li>
<li><a href="../256505/index.html">Webix. The first acquaintance with the JavaScript framework</a></li>
<li><a href="../256509/index.html">Subject-event approach to modeling complex systems</a></li>
<li><a href="../256513/index.html">The challenge of a hundred boxes and the rescue of prisoners - the final chord</a></li>
<li><a href="../256515/index.html">Script to backup EC2-instance to AMI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>