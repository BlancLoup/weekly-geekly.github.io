<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Preparing reports for the board of directors in 20 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I will continue the story about the capabilities of the platform Ultima Businessware . Today - about our tool for the preparation of special reporting...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Preparing reports for the board of directors in 20 minutes</h1><div class="post__text post__text-html js-mediator-article">  I will continue the story about the capabilities of the <a href="http://www.ultimabusinessware.com/">platform Ultima Businessware</a> .  Today - about our tool for the preparation of special reporting.  This tool really arose as a response to the need to promptly receive a report in the form familiar to top managers.  And the first reports made with it were P &amp; L and Balance. <br><a name="habracut"></a><br>  For a better understanding of this article, it is very useful to read my article <a href="http://habrahabr.ru/company/ultima/blog/243743/">about the system structure</a> and a <a href="http://www.ultimabusinessware.com/architecture/">small introductory from the documentation</a> on our site. <br>  Just in case, I will try to briefly repeat the necessary minimum. <br>  Data on measurable indicators we store in the so-called totals.  In a sense, this is an analogue of the cube from OLAP.  Or register for those familiar with 1C.  The total has dimensions and variables.  Totals change their value by <i>transactions</i> that are generated by documents.  All transactions are saved, and you can calculate the status of the total at any time.  The transaction in turn contains the measurements and the delta for each of the variables. <br>  Based on the description of the total, the system can build an arbitrary report.  Data can be grouped by measurements (or related directories), and each variable is decomposed into 4 components: Incoming and outgoing balance (the value of the variable at the beginning and end of the period) and debit and credit (the sum of positive and negative deltas). <br><br>  For example, in the system there is a summary Implementation with the dimensions customer, product, warehouse, and variables the quantity and amount. <br>  Accordingly, we know from it how much goods were sold to which client and from which warehouse and at what price (to be exact, with what cost price and with what profit).  The second important outcome is the Costs with the measurement of the cost item and the variable amount.  In the simplest case, these two totals are enough to build a profit and loss statement (P &amp; L). <br><br>  The profit and loss statement has a very specific form in IFRS.  Accordingly, a tool is needed to convert the data from the totals to the specified form.  This, of course, is easy to do with a printed form, but we wanted to be able to expand the articles of this report.  And for this we already have a form of analysis of the results!  This means, it is necessary to describe what transformations should be carried out with the results and how to combine the variables and measurements of different totals.  SQL does a great job with this relational algebra, but we wanted to give the system users the ability to customize such reports.  We called this mechanism virtual results. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, here is an example of a description of the income statement: <br><pre><code class="bash hljs">// dimensions and variables dim AgentID (Agent): ru() dim CostItemID (CostItem): ru( ) dim OfficeID (Office): ru() dim FrcID (FRC): ru() var Amount: ru() // calculated groups group Income: ru() var Amount total Expense: -Amount.Sub total Sale: -Amount.Sub end group Outcome: ru() var Amount total Expense: Amount.Add end group Profit: ru() no details var Amount group Income: Amount group Outcome: -Amount end</code> </pre> <br>  Yes, this report is described in synthetic language.  As practice has shown, it is more convenient to do this in text form than in any (invented by us) designer. <br>  So, since we are describing a new total, the dimensions and variables of this total are listed at the beginning. <br>  Dim, according to dimension, is the name of the dimension, then the reference book is indicated in parentheses, from which values ‚Äã‚Äãare taken for the given dimension and finally localization. <br>  Variables are described in the same way, here it is one - Amount. <br><br>  Primitive income statement should be <br>  Total: <br>  Income: <br>  Consumption: <br>  Accordingly, in the Revenue group, we include the debit component of the Amount variable of the Sale (Implementation) and Expense totals (Costs). <br>  All positive costs fall into the expense group. <br>  Finally, the Profit group consists of (the sum) of two groups Expense (with the opposite sign) and income. <br>  As a result, the system generates the following form for setting up the report: <br><img src="https://habrastorage.org/files/794/92c/0c3/79492c0c39e54f03b83216a268f8bd36.png"><br>  And this will be the result: <br><img src="https://habrastorage.org/files/efb/9cc/4e4/efb9cc4e47a645cda61df748093074c5.png"><br>  However, we after all added measurements to this result, let's see which documents formed these figures: <br><img src="https://habrastorage.org/files/b40/a09/ea7/b40a09ea7e4d49a98ae3e9f6409f1afd.png"><br>  Similarly, we can split up the report on cost items and other measurements. <br><br>  To simplify the syntax, we had to go through a large number of agreements.  For example, by default, measurements are matched simply by matching the names. <br>  Consider a more complex example.  There is a result on which currency conversion takes place and, accordingly, the loss from conversion operations is accumulated.  We (as top managers) want to treat this loss as a loss item from conversion.  However, in the end, the conversion is not one of the measurements of our total.  It does not matter, you can specify from: <br><pre> <code class="bash hljs">group Outcome: ru() var Amount total Expense: Amount.Add total Convertation: Amount value CostItemID: 192 value OfficeID: none value FrcID: none value AgentID: none end</code> </pre><br>  Fixing the cost item in this way, we can see the loss from the conversion operations on the corresponding line of the cost item. <br><br>  Syntax allows you to overlay filters.  For example, you can make the ‚ÄúSupplier Balance‚Äù group which will only include contractors that are in the Suppliers folder.  The filter is specified by the filter keyword and then the filtering dimension and condition are specified. <br><br>  However, sometimes there are conditions that are inexpressible within the framework of this simple query language and then it can be expanded to include predicates.  In this case, the predicate is an SQL expression formulated by the developer that can be integrated into the virtual total description language.  For example, to create a group on the basis of counterparty balances, where only those who have unpaid orders, taking into account commodity loans and payment delays, will fall. <br><br>  I do not set out to describe in detail the whole mechanism and syntax of the language in this article (there is documentation for this).  However, I hope to shed light on the capabilities of the system and ease of development.  The described mechanisms allow doing without third-party data analysis tools, which significantly reduces the implementation budget.  But the main thing is prompt and well-detailed access to data from analysts and company management.  This is a real competitive advantage! </div><p>Source: <a href="https://habr.com/ru/post/259923/">https://habr.com/ru/post/259923/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259911/index.html">How we tested a static analysis on our project of a training simulator of endovascular surgery</a></li>
<li><a href="../259915/index.html">Processing Russian text data in Azure Machine Learning</a></li>
<li><a href="../259917/index.html">Welcome to the Softlayer Workshop June 16</a></li>
<li><a href="../259919/index.html">USB adapter for a B7-28 digital voltmeter based on Arduino Mega</a></li>
<li><a href="../259921/index.html">Typical billing scheme</a></li>
<li><a href="../259925/index.html">Arduino + ESP8266 from scratch on the example of a Wi-Fi thermometer, part one</a></li>
<li><a href="../259927/index.html">‚ÄúAlfa-Bank, Microsoft, VISA and IIDF gather developers for the 8-week hackaton‚Äú AlfaCamp 2.0 ‚Äù</a></li>
<li><a href="../259929/index.html">Video of reports from Golang Moscow</a></li>
<li><a href="../259937/index.html">Limiting outgoing messages on a server with postfix and postfwd</a></li>
<li><a href="../259939/index.html">Is ReactJS so fast?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>