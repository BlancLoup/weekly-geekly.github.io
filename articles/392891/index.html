<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Goodbye reading heads! Or how flash memory works</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Geektimes! We often talk about the benefits of SSD, debunking the myths about solid-state drives, just recently, we have been in production. But h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Goodbye reading heads! Or how flash memory works</h1><div class="post__text post__text-html js-mediator-article">  Hi, Geektimes!  We often talk about the benefits of SSD, <a href="https://geektimes.ru/company/ocz/blog/267914/">debunking the myths</a> about solid-state drives, just recently, we have been in production.  But how does flash memory actually work?  What is the difference between different types of NAND?  All those wishing to understand these issues are welcome under the cat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/124/168/dce/124168dcefd03ac517313fcf3de8f778.jpg"></div><a name="habracut"></a><br><h2>  <font color="#0a548b">A look into the past</font> </h2><br>  Before we begin our conversation, let's briefly recall the hard drives.  As is known, the latter store information on several magnetic plates, which are popularly called platters.  In a simplified form, the actuator with reading heads receives information, and the disk rotates all the time to complete the read / write processes.  It hardly makes sense to stop here for a long time, but it is important to capture the essence. <br><br>  Since the disk head block must coincide with a certain area (track) for reading or writing data, and the disk rotates constantly, it takes some time before they can access the information and the sector will be under the head, especially if the requests are chaotic.  And although the HDD delay is measured in milliseconds, this is enough to make the CPU wait, the delay of which is measured in nanoseconds.  In one millisecond, one million nanoseconds, and on average a hard disk needs from 10 to 15 milliseconds to search for information and start reading it.  Yes, now there are solutions whose rotational speed reaches 15 thousand revolutions per minute, but even the fastest HDD will not be as fast as we would like. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <font color="#0a548b">Some theory</font> </h2><br>  Maybe we would be content with ‚Äúvery‚Äù fast HDDs (as Henry Ford said: ‚Äúif I asked people what they wanted, they would ask me to create fast horses‚Äù), but the manufacturers of drives, among which are yours humble servant, the benefit <a href="https://geektimes.ru/company/ocz/blog/270512/">does not stand still</a> .  Appeared SSD (Solid-state drives or solid-state drives), where information is not stored on rotating disks, but with the help of NAND flash memory.  We will dwell on it in detail. <br><br>  In the case of NAND, the information is stored in an array of memory cells ‚Äî these are floating gate transistors.  Depending on the direction of the voltage, the electrons move between the Control Gate (control gate) and the NAND channel. <br><br>  As soon as voltage is applied to the control gate, the electrons begin to be attracted upwards - the resulting electric field helps them to reach the floating gate, overcoming an oxide obstacle.  The latter acts as an insulator, since it is thanks to him that the electrons do not move further than the floating gate.  This is how cell programming occurs. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/cc4/ab5/7e5/cc4ab57e59124c6e7896d8c2ad667f59.png" width="600"></div><br>  The process of erasing the cell looks exactly the opposite - the voltage is applied to the channel, the electrons are moved from the floating gate through the oxide back by grounding the control gate. <br><br>  The cell with one transistor operates as follows.  Depending on the presence or absence of a charge on the floating gate, the state of the transistor is determined - whether it is open or closed.  When considering the supply voltage to the control gate as the initialization of the memory cell, it is possible to judge whether there is a charge on the floating gate by the voltage between the source and the drain.  If you place an electron on the floating gate and apply voltage to the control gate, the transistor will be closed.  Get a memory cell that is capable of storing one bit.  When using the hot-electron injection method, a voltage is applied to the drain and the control gate, which causes electrons to move through the barrier. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/dd8/8ac/0b3/dd88ac0b3daa4a800566b7906cd125f0.jpg"></div><br>  A cell with two transistors is a modification of a single-transistor.  In this case, the transistor (normal) isolates the bit line from the floating gate transistor. <br><br>  The charge is removed from the floating gate by applying a negative voltage to the control gate (a positive voltage is applied to the source).  As a result, we have the Fowler ‚Äì Nordheim tunneling: electrons move (tunnel) from the area of ‚Äã‚Äãthe floating gate to the source. <br><br>  Rewrite cycle  Before programming a new cell with new electrons, you must first clean the old ones.  In practice, most users do not have to pay attention to the number of rewriting cycles, because the SSD resource is easily enough for any amount of recorded data.  True, there are annoying exceptions, but this is what the <a href="https://geektimes.ru/company/ocz/blog/267398/">manufacturer‚Äôs warranty is for</a> . <br><br>  In solid-state drives, flash memory consists of blocks, and the latter are made up of pages.  Information is recorded in these pages, and to update the data it is not enough to simply overwrite irrelevant pages.  So, first the data is moved from the old pages to the new ones, then sent to another block, and only after that the block is deleted with irrelevant data.  Once the block is erased, it will be free to write new data.  Such a tricky process - in a visual format, it seems much more understandable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/282/0f1/7ca/2820f17cad8ce6f0643fe2738e7d40b2.png"></div><br>  Obviously, the absence of moving disks (and indeed moving parts) is one of the main advantages of SSD over hard disks, and this is what makes solid-state drives work at speeds that are noticeably superior to HDD.  For clarity, here is a summary table of the latency times of various types of NAND and HDD. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/f7d/2c3/559/f7d2c35597ae866aaebd709585cd943a.png"></div><br>  SLC, MLC, TLC are not just abbreviations, they denote the number of bits in each cell.  For SLC (Single) it is one bit, for MLC (Multi) - two bits, for TLC (Triple) - respectively, three bits.  Due to this, the MLC stores twice as much information as the SLC, and this despite the fact that the number of cells is the same.  In general, the principle of operation for these types of NAND is the same, which cannot be said about endurance. <br><br>  For a certain time, the physical structure of the cells may be subject to wear by reducing the oxide layer caused by the activity of the electrons.  As a result, the electrons accumulate a negative charge and get stuck, a higher voltage is applied, the oxide layer decreases again.  Such a vicious circle is obtained. <br><br>  SLC, MLC and TLC differ in endurance.  If, for example, we take a 16 Gbps NAND crystal, we get a 16 Gbps SLC, with one bit in each cell.  Accordingly, it will be 32 Gbps for the MLC and 48 Gbps for the TLC.  However, in the latter case, the NAND crystal still has to be cut, as a result, the equivalent of 32 Gbps for the MLC is obtained.  Who do you think can withstand the biggest changes in tension? <br><br>  With two levels (0.1), SLC in this parameter is the best indicator - this type of NAND withstands a wide range of voltage fluctuations.  With increasing levels, this range decreases, so TLC with its 8 levels and 3 bits in the cell has the smallest number of rewrite cycles. <br><br>  Since the reduction of the crystal has long been a problem, to replace the modern planar flash NAND comes 3D NAND.  It is less susceptible to wear due to the absence of the need to supply high voltage when writing data to the cell.  Manufacturers are actively developing this area and give the technology their own names (for Samsung - 3D V-NAND, for Toshiba - BiCS 3D NAND, and so on).  The point is that in this case we get a cylinder with the upper layer in the role of the control gate, while the inner layer acts as an insulator.  The cells themselves are located under each other, forming a stack.  The control logic is located under the memory array, the chip area is freed, where subsequently the ‚Äúhome‚Äù of the memory cell is found. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/d24/af7/d00/d24af7d00c79b438a3259a39cfffe2d4.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/1e6/ce7/439/1e6ce74399ca31c2928c7f536a239f40.jpg"></div><br><h2>  <font color="#0a548b">Some practice</font> </h2><br>  All of the above, we cannot observe on our own (at least without special equipment).  And this is how it all looks after the manufacture of printed circuit boards, soldering, installation of chips and microcircuits: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/8f1/bd1/27f/8f1bd127fef678d314afef6675465fa1.jpg"></div><br>  <i>OCZ Trion 150</i> <br><br>  Here we see both the flash memory chips and the buffer and the controller, carefully covered with a thermal cutter.  Yes, the topic is not about the SSD device, but the operation of flash memory, but there is nowhere without a controller.  And that's why. <br><br>  The controller distributes the entry to the flash memory cells, ‚Äúdirects‚Äù the reading from the memory cells and TRIM (more on that later) - in general, the phrase ‚Äúwe don't have the irreplaceable‚Äù is not about it.  It is he who controls the transfer of data, both on SATA and PCIe, distributes information over NAND for less wear.  Without the help of the firmware, of course, is not enough. <br><br>  The controller is connected to the flash memory in parallel and, as you can see, it performs one of the key roles.  The Trion 150, for example, uses a Toshiba controller, while the Vertex 460A 0 already uses the Barefoot 3 M10 from OCZ. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/096/03b/9c6/09603b9c63135fb0c078acbba6b11ed8.png"></div><br>  Oh yeah, I almost forgot about the cache.  It is a reliable controller satellite: as soon as a command is given to change the file on the SSD, the unit first gets into the cache memory, where the change occurs.  At this time, irrelevant data in NAND is deleted, and the controller finds where to put the information that was placed in the buffer.  The main principle is to select the cell with the least wear, which is what the controller does; after its command, the changed data is sent to the new ‚Äúhome‚Äù. <br><br>  Now most SSDs, including those from OCZ, also support TRIM, a special technology that marks out irrelevant data.  In this case, unnecessary information is not recorded in other memory blocks, which favorably affects not only the number of rewriting cycles, but also the write speed itself. <br><br><h2>  <font color="#0a548b">Minute of philosophy</font> </h2><br>  Obviously, compared to conventional hard disks, NAND is a real breakthrough, but it also has its own problems and shortcomings.  Yes, NAND has great prospects in terms of storage capacity, but the price per gigabyte leaves much to be desired.  It is unlikely that in the near future this parameter will succeed in ‚Äúcatching‚Äù hard drives. <br><br>  Due to the use of SLC-caches and fast data standards, SSDs have become even more productive, have good bandwidth.  Nevertheless, in the long run, it is assumed that something else will come to replace NAND.  And in fact, 3D NAND - the first "bell", which testifies to this. <br><br>  Now NAND, of course, on horseback - as they say, true king of the hill.  And it will remain this king for at least the next 4-5 years. </div><p>Source: <a href="https://habr.com/ru/post/392891/">https://habr.com/ru/post/392891/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../392881/index.html">The payment system will help to legalize the gambling business.</a></li>
<li><a href="../392883/index.html">Simple and cheap game for Cosmonautics Day</a></li>
<li><a href="../392885/index.html">Hardware informant about new e-mails using TLS secure connection on ESP8266</a></li>
<li><a href="../392887/index.html">Windows operating system BSOD will receive a QR code for each type of problem</a></li>
<li><a href="../392889/index.html">Flappy Bird ported to ... e-cigarette</a></li>
<li><a href="../392893/index.html">Yandex and Google will get only 5 days to remove banned links.</a></li>
<li><a href="../392895/index.html">KA Apollo</a></li>
<li><a href="../392899/index.html">Tesla withdrew 2,700 Model X cars due to a defect in the back row of seats</a></li>
<li><a href="../392901/index.html">Meet the Honor 4C Pro. Real marathon runner</a></li>
<li><a href="../392903/index.html">If google was human [space version]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>