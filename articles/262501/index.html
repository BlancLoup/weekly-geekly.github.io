<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android development best practices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We would like to share with you the experience that we, in Futurice , have gained by developing Android applications. We hope these tips will save you...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android development best practices</h1><div class="post__text post__text-html js-mediator-article">  We would like to share with you the experience that we, in <a href="http://www.futurice.com/">Futurice</a> , have gained by developing Android applications.  We hope these tips will save you from creating your own bikes.  If you are interested in <a href="https://github.com/futurice/ios-good-practices">iOS</a> or <a href="https://github.com/futurice/windows-app-development-best-practices">Windows Phone</a> development, pay attention to the relevant documents on our website. <a name="habracut"></a><br><br><h4>  Briefly about the main thing </h4><br><ul><li>  Use the Gradle build system and standard project structure. </li><li>  Store passwords and other important data in the file gradle.properties </li><li>  Do not write your own HTTP client, better use the Volley or OkHttp libraries. </li><li>  Use the Jackson library to parse JSON data </li><li>  Avoid using Guava and generally save - try not to exceed the limit of 65k methods. </li><li>  Use snippets to display the user interface. </li><li>  Use activity only to manage fragments. </li><li>  XML markup is code, write it neatly </li><li>  Use styles to not duplicate attributes in XML markup. </li><li>  Better a few files with styles than a hefty one that will be hard to read. </li><li>  Try to avoid duplicates in colors.xml and make it shorter - mainly to store the color palette. </li><li>  The same applies to dimens.xml, define only basic constants there </li><li>  Do not make too deep a hierarchy of ViewGroup elements. </li><li>  Avoid running on the client side when using WebView, be careful of possible leaks </li><li>  Use Robolectric for unit testing, and Robotium for testing UI </li><li>  Use Genymotion as an emulator </li><li>  Always use ProGuard or DexGuard </li></ul><br><h4>  Android SDK </h4><br>  Place your Android SDK in your home directory or other place not related to the application.  Some IDEs are bundled with the SDK, and can be installed in their own directory.  This may prevent you from updating (or reinstalling) the IDE, or when you switch to another IDE.  Avoid installing the SDK in a different system directory, as this may require administrative privileges if your IDE is launched with user rights and not administrator privileges. <br><br><h4>  Assembly system </h4><br>  The default selection should be Gradle.  Ant is much more modest in its capabilities, and besides its instructions are less compact.  With Gradle, you can easily: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Create various variations and builds of your application. </li><li>  Create simple tasks in the form of a script </li><li>  Manage dependencies and automatically download them. </li><li>  Customize keystore </li><li>  And many other useful things. </li></ul><br>  Also note that Gradle plugin for Android is actively being developed by Google as a new standard for build systems. <br><br><h4>  Project structure </h4><br>  There are two common options: the old Ant &amp; Eclipse ADT project structure - or the new Gradle &amp; Android Studio.  It is better to choose the second option.  If your project uses the old structure, we recommend porting it. <br><br><div class="spoiler">  <b class="spoiler_title">Old structure</b> <div class="spoiler_text"><pre><code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">old</span></span>-structure ├─ assets ├─ libs ├─ res ├─ src │ └─ com/futurice/project ├─ AndroidManifest.xml ├─ build.gradle ├─ project.properties └─ proguard-rules.pro</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">New structure</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">new</span></span>-structure ├─ library-foobar ├─ app │ ├─ libs │ ├─ src │ │ ├─ androidTest │ │ │ └─ java │ │ │ └─ com/futurice/project │ │ └─ main │ │ ├─ java │ │ │ └─ com/futurice/project │ │ ├─ res │ │ └─ AndroidManifest.xml │ ├─ build.gradle │ └─ proguard-rules.pro ├─ build.gradle └─ settings.gradle</code> </pre><br></div></div><br>  The main difference is that the new structure explicitly shares the 'resource <code>androidTest</code> ' ( <code>main</code> , <code>androidTest</code> ), this is one of the concepts of Gradle.  You can, for example, add the 'paid' and 'free' folders to your 'src' folder, and they will contain the source code for the paid and free versions of your application. <br><br>  Having an <code>app</code> folder at the top of the hierarchy helps separate it from the libraries (for example, <code>library-foobar</code> ) that the application uses.  The <code>settings.gradle</code> file in this case stores a list of these library projects that <code>app/build.gradle</code> can refer to. <br><br><h4>  Gradle configuration </h4><br>  <b>General structure.</b>  Follow <a href="http://tools.android.com/tech-docs/new-build-system/user-guide">the Google instructions for Gradle for Android</a> . <br><br>  <b>Small assembly tasks.</b>  Unlike other scripting languages ​​(shell, Python, Perl, etc.), you can create build tasks in Gradle.  See the <a href="http://www.gradle.org/docs/current/userguide/userguide_single.html">Gradle documentation for</a> details. <br><br>  <b>Passwords</b>  In your <code>build.gradle</code> you need to define signing parameters ( <code>signingConfigs</code> ) for the release build.  You should avoid this error: <br><br>  <i>Do not do this.</i>  This information will appear in the version control system. <br><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">signingConfigs</span></span> { <span class="hljs-section"><span class="hljs-section">release</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">storeFile</span></span> file(<span class="hljs-string"><span class="hljs-string">"myapp.keystore"</span></span>) storePassword <span class="hljs-string"><span class="hljs-string">"password123"</span></span> keyAlias <span class="hljs-string"><span class="hljs-string">"thekey"</span></span> keyPassword <span class="hljs-string"><span class="hljs-string">"password789"</span></span> } }</code> </pre><br>  It would be more correct to create the file <code>gradle.properties</code> , which will not be added under the control of the version control system: <br><br><pre> <code class="hljs">KEYSTORE_PASSWORD=password123 KEY_PASSWORD=password789</code> </pre><br>  This data is automatically imported into gradle, and you can use it in <code>build.gradle</code> as follows: <br><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">signingConfigs</span></span> { <span class="hljs-section"><span class="hljs-section">release</span></span> { <span class="hljs-section"><span class="hljs-section">try</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">storeFile</span></span> file(<span class="hljs-string"><span class="hljs-string">"myapp.keystore"</span></span>) storePassword KEYSTORE_PASSWORD keyAlias <span class="hljs-string"><span class="hljs-string">"thekey"</span></span> keyPassword KEY_PASSWORD } catch (ex) { <span class="hljs-attribute"><span class="hljs-attribute">throw</span></span> new InvalidUserDataException(<span class="hljs-string"><span class="hljs-string">"You should define KEYSTORE_PASSWORD and KEY_PASSWORD in gradle.properties."</span></span>) } } }</code> </pre><br>  <b>Try to use Maven dependencies instead of importing jar files.</b>  If you include external jar files in your project, they will be mothballed in the version at which the import occurred, for example 2.1.1.  Manual loading of jar-files and updating them is quite a time-consuming operation, and Maven can perfectly solve this problem for us by including the result in the assembly.  For example: <br><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">dependencies</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">compile</span></span> <span class="hljs-string"><span class="hljs-string">'com.squareup.okhttp:okhttp:2.2.0'</span></span> compile <span class="hljs-string"><span class="hljs-string">'com.squareup.okhttp:okhttp-urlconnection:2.2.0'</span></span> }</code> </pre><br>  <b>Avoid using dynamic Maven dependencies.</b> Avoid specifying dynamically generated versions, for example <code>2.1.+</code> , As this can lead to instability of assemblies that depend on uncontrolled differences in the interaction of different versions of libraries.  Using static version numbers, such as <code>2.1.1</code> , will help create more stable assemblies with predictable behavior. <br><br><h2>  IDE and text editor </h2><br>  <b>Use any editor you like, but it should be well compatible with the project structure.</b>  The editor is your personal choice, and you should choose one that will be convenient to work with within your project structure and build system. <br><br>  The most popular IDE at the moment is <a href="https://developer.android.com/sdk/installing/studio.html">Android Studio</a> , since it is being developed by Google, integrated with Gradle, uses a new project structure by default, is in a stable build state and sharpened for Android development. <br><br>  You can use Eclipse ADT if you like it, but you have to customize it, because it works by default with the old project structure and the Ant build system.  You can even use text editors Vim, Sublime Text, or Emacs.  In this case, you will have to use Gradle and adb from the command line.  If you don’t manage to make Eclipse friends with Gradle, you’ll also need to use the command line to build.  Given that the ADT plugin has recently been declared obsolete, it is better to simply switch to Android Studio. <br><br>  Whatever you use, keep in mind that Gradle and the new project structure are the officially recommended way to build applications, and do not add your editor-specific configuration files to the version control system.  For example, do not add the Ant <code>build.xml</code> file.  Also do not forget to update <code>build.gradle</code> when you change the build configuration in Ant.  In general, do not force other developers to use unusual tools. <br><br><h2>  Libraries </h2><br>  <b><a href="http://wiki.fasterxml.com/JacksonHome">Jackson</a></b> is a Java library for converting objects to JSON and vice versa.  <a href="https://code.google.com/p/google-gson/">Gson</a> is the most common way to solve this problem, but according to our observations, Jackson is more productive because it supports alternative ways to handle JSON: <a href="https://en.wikipedia.org/wiki/JSON_Streaming">streaming</a> , the in-memory tree model, and the traditional connection of JSON-POJO formats.  Keep in mind, however, that Jackson is larger than GSON in size, so you may prefer GSON in order to avoid the 65k limit.  Other options: <a href="https://code.google.com/p/json-smart/">Json-smart</a> and <a href="https://github.com/RichardHightower/boon/wiki/Boon-JSON-in-five-minutes">Boon JSON</a> . <br><br>  <b>Networking, caching and images.</b>  There are a couple of proven solutions for productive requests to backend servers that you should consider before developing your own client.  Use <a href="https://android.googlesource.com/platform/frameworks/volley">Volley</a> or <a href="http://square.github.io/retrofit/">Retrofit</a> .  Volley also provides image loading and caching tools.  If you choose Retrofit, take <a href="http://square.github.io/picasso/">Picasso</a> to download or cache images, and <a href="http/">OkHttp</a> for effective HTTP requests.  All of these libraries - Retrofit, Picasso and OkHttp are developed by one company, so they complement each other perfectly.  <a href="http-2-0/24951835">OkHttp can also be used with Volley</a> . <br><br>  <b>RxJava</b> is a library for Reactive Programming, in other words, for handling asynchronous events.  This is a powerful and promising concept, which can be confusing.  We recommend that you think carefully before using this library as the foundation of the architecture of the entire application.  There are projects created using RxJava, and you can ask for help from one of these people: Timo Tuominen, Olli Salonen, Andre Medeiros, Mark Voit, Antti Lammi, Vera Izrailit, Juha Ristolainen.  We wrote several articles to our blog about this: <a href="http://blog.futurice.com/tech-pick-of-the-week-rx-for-net-and-rxjava-for-android">[1]</a> , <a href="http://blog.futurice.com/top-7-tips-for-rxjava-on-android">[2]</a> , <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754">[3]</a> , <a href="http://blog.futurice.com/android-development-has-its-own-swift">[4]</a> . <br><br>  If you haven't worked with Rx before, start by using the API.  Or you can start by using it to handle simple user interface events, such as clicking or typing in a search field.  If you are confident in your Rx skills and want to use it in the whole architecture, write Javadocs for the most difficult moments.  Keep in mind that a programmer who does not have experience using RxJava, <s>curses you</s> may have big problems with project support.  Try to help him understand your code and Rx. <br><br>  <b><a href="https://github.com/evant/gradle-retrolambda">Retrolambda</a></b> is a Java library for using lambda expressions on Android and other platforms with a JDK below version 8.  It will help you make your code more compact and readable, especially if you use a functional style, for example, with RxJava.  To use it, install JDK8, enter it in the path to the SDK in Android Studio in the project structure description dialog, and set the <code>JAVA8_HOME</code> and <code>JAVA7_HOME</code> environment variables, then write the following in the root <code>build.gradle</code> project: <br><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">dependencies</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">classpath</span></span> <span class="hljs-string"><span class="hljs-string">'me.tatarka:gradle-retrolambda:2.4.1'</span></span> }</code> </pre><br>  and in the file <code>build.gradle</code> each module add <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">apply</span></span> plugin: <span class="hljs-string"><span class="hljs-string">'retrolambda'</span></span> android { <span class="hljs-section"><span class="hljs-section">compileOptions</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">sourceCompatibility</span></span> JavaVersion.VERSION_1_8 targetCompatibility JavaVersion.VERSION_1_8 } retrolambda { <span class="hljs-attribute"><span class="hljs-attribute">jdk</span></span> System.getenv(<span class="hljs-string"><span class="hljs-string">"JAVA8_HOME"</span></span>) oldJdk System.getenv(<span class="hljs-string"><span class="hljs-string">"JAVA7_HOME"</span></span>) javaVersion JavaVersion.VERSION_1_7 }</code> </pre><br>  Android Studio will begin to support lambda expression syntax.  If you have not used them before, you can start by understanding the statements: <br><br><ul><li>  Any interface with one method is compatible with lambda expressions and can be simplified in writing. </li><li>  If you don’t understand how to describe the parameters, write a regular inner class and let Android Studio translate it into a lambda expression. </li></ul><br>  <b>Remember to limit the dex file to the number of methods, and avoid using a large number of libraries.</b>  Android applications, when packaged in a dex file, have a hard limit of 65,536 reference methods <a href="https://medium.com/%40rotxed/dex-skys-the-limit-no-65k-methods-is-28e6cb40cf71">[1]</a> <a href="http://blog.persistent.info/2014/05/per-package-method-counts-for-androids.html">[2]</a> <a href="http://jakewharton.com/play-services-is-a-monolith/">[3]</a> .  If you exceed the limit, you will get a fatal compilation error.  So we recommend using the minimum possible number of libraries, and pay attention to the <a href="https://github.com/mihaip/dex-method-counts">utility for calculating the number of methods in the dex-file</a> .  It will help determine which set of libraries can be used without exceeding the limit.  Be especially careful when using the Guava library, which contains more than 13k methods. <br><br><h4>  Activity and fragments </h4><br>  In the community of Android developers (as in Futurice) there is no consensus on how best to build an Android application architecture in terms of using fragments and activity.  Square even released a library for building architecture mainly using view, thus minimizing the need for fragments, but this method has not yet become generally accepted. <br><br>  Based on the history of the development of the Android API, you can view the fragments as part of the user interface of the screen.  In other words, fragments usually refer to UI.  Activities are usually considered as controllers, they are especially important from the point of view of their life cycle and for state management.  However, it may be different: activity can perform functions related to UI (state transition between screens), and fragments can only be used as controllers.  We would advise to make an informed decision, bearing in mind that an architecture based on the use of fragments only, or just an activity, or only a view, can have a number of drawbacks.  Here are a couple of tips that you should pay attention to, but be critical to them: <br><br><ul><li>  Avoid intensive use of nested fragments, because of the possibility <a href="http://delyan.me/android-s-matryoshka-problem/">of “matryoshka” type errors</a> .  Use nested fragments only if it makes sense (for example, fragments in a horizontally scrolling ViewPager inside a fragment of the screen) or if you are well aware of what you are doing. </li><li>  Do not put too much code in the activity.  If possible, use them as lightweight containers that exist in your application mainly for lifecycle management and other important Android API functions.  An activity with one fragment is better than just an activity — put code related to the user interface into a fragment.  This will make it possible to reuse it in case you need to place it in the markup with tabs, or on a tablet screen with several fragments.  Avoid creating an activity without associated fragments, except when you do it on purpose. </li><li>  You should not abuse the Android API level, for example, blindly relying on the Intent mechanism for the internal operation of the application.  You can affect the Android operating system or other applications by causing errors or freezes.  For example, it is known that if your application uses the Intent mechanism for internal communication between application packages, you can cause a hangup in a few seconds if the application was opened immediately after loading the operating system. </li></ul><br><h4>  Java package architecture </h4><br>  Java architecture for Android applications resembles the <a href="http://en.wikipedia.org/wiki/Model%25E2%2580%2593view%25E2%2580%2593controller">Model-View-Controller</a> pattern.  In Android, <a href="http://www.informit.com/articles/article.aspx%3Fp%3D2126865">fragments and activity represent Conroller classes</a> .  On the other hand, they are part of the user interface, so they are also part of the View. <br><br>  Therefore, it is difficult to assign fragments (or activity) uniquely to the Controller or View.  Better to put them in your own <code>fragments</code> package.  Activity in this case can be left in the top-level package.  If you have more than two or three activities, you can also put them in a separate package. <br><br>  On the other hand, the architecture may look like a normal MVC, with the <code>models</code> package containing POJOs objects generated using the JSON parser from API responses, and the <code>views</code> package containing author View, alerts, View classes associated with the action bar, widgets, and so on. d.  Adapters are the link between data and views.  Given that they typically use View, exported via the <code>getView()</code> method, you can include adapters as a child package of <code>adapters</code> in <code>views</code> . <br><br>  Some controller classes are used throughout the application and work directly with the Android operating system.  They can be placed in the package <code>managers</code> .  Various data processing classes, such as DateUtils, can be stored in the <code>utils</code> package.  The classes responsible for interacting with the backend are in the <code>network</code> package. <br><br>  All of the above packages, in order from the backend to the user interface: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.futurice</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.project</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">models</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">managers</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">utils</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">fragments</span></span> └─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">views</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">adapters</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">actionbar</span></span> ├─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">widgets</span></span> └─ <span class="hljs-selector-tag"><span class="hljs-selector-tag">notifications</span></span></code> </pre><br><h2>  Resources </h2><br>  <b>Naming</b>  Follow the convention on using an object type as a prefix for a file name, as in <code>type_foo_bar.xml</code> .  Examples: <code>fragment_contact_details.xml</code> , <code>view_primary_button.xml</code> , <code>activity_main.xml</code> . <br><br>  <b>XML markup structure.</b>  If you are not sure how to format XML markup, the following tips may help. <br><br><ul><li>  One attribute per line, indented with 4 spaces </li><li>  <code>android:id</code> always in first place </li><li>  <code>android:layout_****</code> attributes at the beginning </li><li>  <code>style</code> attribute in last place </li><li>  The closing tag <code>/&gt;</code> is on its line to facilitate ordering and adding attributes. </li><li>  Instead of writing <code>android:text</code> manually, you can use the <a href="http://tools.android.com/tips/layout-designtime-attributes">Visual Attribute Editor</a> for Android Studio. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_alignParentRight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/FancyText"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">include</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@layout/reusable_part"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  As experience shows, the <code>android:layout_****</code> attribute must be defined in XML markup, and the remaining <code>android:****</code> attributes must be defined in XML styles.  This rule has exceptions, but in general it works well.  The point is to store only markup attributes (position, margins, size) and content attributes in the markup file, and the details of the visual components (colors, indents, fonts) should be in the style files. <br><br>  Exceptions: <br><ul><li>  <code>android:id</code> surely must be in the markup file </li><li>  <code>android:orientation</code> for a LinearLayout object usually makes sense in a markup file </li><li>  <code>android:text</code> must be in the markup file because it describes the content </li><li>  Sometimes it makes sense to define in the general style <code>android:layout_width</code> and <code>android:layout_height</code> , but by default these attributes should be in the markup file </li></ul><br>  <b>Use styles.</b>  Virtually every project must use styles correctly, since there are usually duplicate display attributes for the view.  At a minimum, you should have a general style for most of the textual content of the application, for example: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ContentText"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:textSize"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@dimen/font_normal</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:textColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/basic_black</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Applicable to TextView: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/price"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/ContentText"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  You will probably have to do the same for the buttons, but don’t stop there.  Develop this concept and bring all groups of duplicate <code>android:****</code> attributes related to certain types of visual components into styles. <br><br>  <b>Split a large file with styles into several smaller ones.</b>  There is no need to store all styles in a single <code>styles.xml</code> .  The Android SDK supports various file names by default, so there is no problem with naming files with styles — they just need to contain the “style” XML tag.  So you can create <code>styles.xml</code> , <code>styles_home.xml</code> , <code>styles_item_details.xml</code> , <code>styles_forms.xml</code> .  Unlike directory names, which are important for the build system, file names in <code>res/values</code> can be arbitrary. <br><br>  <code>colors.xml</code> <b>is a color palette</b> .  Do not put anything in <code>colors.xml</code> , except the connection of the color name with its RGBA value.  Do not use it to determine RGBA values ​​for different types of buttons. <br><br><div class="spoiler">  <b class="spoiler_title">So wrong</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button_foreground"</span></span></span><span class="hljs-tag">&gt;</span></span>#FFFFFF<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button_background"</span></span></span><span class="hljs-tag">&gt;</span></span>#2A91BD<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment_background_inactive"</span></span></span><span class="hljs-tag">&gt;</span></span>#5F5F5F<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment_background_active"</span></span></span><span class="hljs-tag">&gt;</span></span>#939393<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment_foreground"</span></span></span><span class="hljs-tag">&gt;</span></span>#FFFFFF<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment_foreground_important"</span></span></span><span class="hljs-tag">&gt;</span></span>#FF9D2F<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment_shadow"</span></span></span><span class="hljs-tag">&gt;</span></span>#323232<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  With this approach, it is very easy to create duplicate RGBA values, and colors are much more difficult to change.  In addition, these colors refer to specific content, “button” or “comment”, and should be described in the style of the button, not in <code>colors.xml</code> . <br><br><div class="spoiler">  <b class="spoiler_title">And so - right</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- grayscale --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"white"</span></span></span><span class="hljs-tag"> &gt;</span></span>#FFFFFF<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gray_light"</span></span></span><span class="hljs-tag">&gt;</span></span>#DBDBDB<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gray"</span></span></span><span class="hljs-tag"> &gt;</span></span>#939393<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gray_dark"</span></span></span><span class="hljs-tag"> &gt;</span></span>#5F5F5F<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"black"</span></span></span><span class="hljs-tag"> &gt;</span></span>#323232<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- basic colors --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green"</span></span></span><span class="hljs-tag">&gt;</span></span>#27D34D<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"blue"</span></span></span><span class="hljs-tag">&gt;</span></span>#2A91BD<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"orange"</span></span></span><span class="hljs-tag">&gt;</span></span>#FF9D2F<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"red"</span></span></span><span class="hljs-tag">&gt;</span></span>#FF432F<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  The color palette is determined by the application designer.  Colors do not have to be called "green", "blue", etc.  Names like “brand_primary”, “brand_secondary”, “brand_negative” are also quite acceptable.  Such color formatting makes it easy to change or refactor, and also makes it easy to understand how many colors are used.  To create a beautiful user interface, it is important, if possible, to reduce the number of colors used. <br><br>  <b>Design dimensionals.xml as colors.xml</b> .  For the same reason, it is also worth defining a “palette” of typical sizes of objects and fonts. <br><br><div class="spoiler">  <b class="spoiler_title">An example of a good dimens.xml structure</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- font sizes --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"font_larger"</span></span></span><span class="hljs-tag">&gt;</span></span>22sp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"font_large"</span></span></span><span class="hljs-tag">&gt;</span></span>18sp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"font_normal"</span></span></span><span class="hljs-tag">&gt;</span></span>15sp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"font_small"</span></span></span><span class="hljs-tag">&gt;</span></span>12sp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- typical spacing between two views --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spacing_huge"</span></span></span><span class="hljs-tag">&gt;</span></span>40dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spacing_large"</span></span></span><span class="hljs-tag">&gt;</span></span>24dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spacing_normal"</span></span></span><span class="hljs-tag">&gt;</span></span>14dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spacing_small"</span></span></span><span class="hljs-tag">&gt;</span></span>10dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spacing_tiny"</span></span></span><span class="hljs-tag">&gt;</span></span>4dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- typical sizes of views --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button_height_tall"</span></span></span><span class="hljs-tag">&gt;</span></span>60dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button_height_normal"</span></span></span><span class="hljs-tag">&gt;</span></span>40dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button_height_short"</span></span></span><span class="hljs-tag">&gt;</span></span>32dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  We recommend not to write numeric values ​​in duplicate markup attributes (fields and indents), but to use constants of the form <code>spacing_****</code> (approximately the way you usually do for localization of string values). <br>  This will make the markup clearer and make it easier to change. <br><br>  <b>strings.xml</b> <br><br>  Use keys in string naming, as in package naming — this will allow you to solve the problem with the same constant names and better understand the context for their use. <br><br>  <b>Bad example</b> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"network_error"</span></span></span><span class="hljs-tag">&gt;</span></span>Network error<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"call_failed"</span></span></span><span class="hljs-tag">&gt;</span></span>Call failed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map_failed"</span></span></span><span class="hljs-tag">&gt;</span></span>Map loading failed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>Good example</b> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"error.message.network"</span></span></span><span class="hljs-tag">&gt;</span></span>Network error<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"error.message.call"</span></span></span><span class="hljs-tag">&gt;</span></span>Call failed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"error.message.map"</span></span></span><span class="hljs-tag">&gt;</span></span>Map loading failed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Do not write string values ​​in lower case.  You can use regular text conversions (including converting the first letter to uppercase).  If you need to write the entire line in lower case letters - use the <a href="http://developer.android.com/reference/android/widget/TextView.html">textAllCaps</a> attribute of the <a href="http://developer.android.com/reference/android/widget/TextView.html">TextView</a> object. <br><br>  <b>Bad example</b> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"error.message.call"</span></span></span><span class="hljs-tag">&gt;</span></span>CALL FAILED<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>Good example</b> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"error.message.call"</span></span></span><span class="hljs-tag">&gt;</span></span>Call failed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>Avoid deep view hierarchy</b> .  Sometimes you will be tempted to add another LinearLayout to solve your view description task. <br><br><div class="spoiler">  <b class="spoiler_title">As a result, you may get something like</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>           ,       ( Java) view   views. <br><br>     .      ,          . ,    —     <a href="http://stackoverflow.com/questions/2762924/java-lang-stackoverflow-error-suspected-too-many-views">StackOverflowError</a> . <br><br>       view    :    <a href="https://developer.android.com/guide/topics/ui/layout/relative.html">RelativeLayout</a> ,  <a href="http://developer.android.com/training/improving-layouts/optimizing-layout.html">  </a>   <a href="http://stackoverflow.com/questions/8834898/what-is-the-purpose-of-androids-merge-tag-in-xml-layouts"> . <br><br> <b>    WebView.</b>     web-,   ,         HTML,   backend-  «» HTML. WebView          Activity,     ApplicationContext.   WebView      ,    TextView  Button. <br><br></a> <h4> <a href="http://stackoverflow.com/questions/8834898/what-is-the-purpose-of-androids-merge-tag-in-xml-layouts">  </a> </h4> <a href="http://stackoverflow.com/questions/8834898/what-is-the-purpose-of-androids-merge-tag-in-xml-layouts"><br>   Android SDK      ( <i>   </i></a><i><a href="https://code.google.com/p/android-test-kit/">Espresso</a> 2.1 ?!</i> — . .),      . Android Gradle     <a href="http://tools.android.com/tech-docs/new-build-system/user-guide">connectedAndroidTest</a> ,      JUnit,  <a href="http://developer.android.com/reference/android/test/package-summary.html"> JUnit   Android</a> .  ,         .    <a href="http://developer.android.com/tools/testing/testing_android.html">[1]</a> <a href="http://developer.android.com/tools/testing/activity_test.html">[2]</a>  . <br><br> <b> <a href="http://robolectric.org/">Robolectric</a>   unit-,   UI.</b>         ,     ,     unit-    view. ,   Robolectric     .         ,   , ,  ..,      «  » (  ). <br><br> <b><a href="https://code.google.com/p/robotium/">Robotium</a>     .</b>    UI-  Robotium,          view   .      : <br><br><pre> <code class="xml hljs">solo.sendKey(Solo.MENU); solo.clickOnText("More"); // searches for the first occurence of "More" and clicks on it solo.clickOnText("Preferences"); solo.clickOnText("Edit File Extensions"); Assert.assertTrue(solo.searchText("rtf"));</code> </pre><br><h4>  Emulators </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you are engaged in Android development professionally, buy a license for the Genymotion emulator. </font><font style="vertical-align: inherit;">It works faster than a regular AVD emulator. </font><font style="vertical-align: inherit;">Emulator Genymotion allows you to record a video showing the operation of your application, emulates various quality of network connections, GPS signals and much more. </font><font style="vertical-align: inherit;">It is ideal for running tests. </font><font style="vertical-align: inherit;">You will have access to many (although not all) images of devices with Android OS, so the cost of a Genymotion license is much cheaper than buying a lot of devices. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pitfalls: Genymotion does not allow Google services such as the Google Play Store or Maps to be used in an application. </font><font style="vertical-align: inherit;">And if you need to test the functions of the Samsung API, you have to buy a real device.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Proguard Configuration </font></font></h4><br> <a href="http://proguard.sourceforge.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProGuard is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> commonly used in Android projects for compressing and obfuscating code. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terms of use for ProGuard depend on your project settings. Usually you configure gradle to use ProGuard to build the release version.</font></font><br><br><pre> <code class="xml hljs">buildTypes { debug { minifyEnabled false } release { signingConfig signingConfigs.release minifyEnabled true proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' } }</code> </pre><br>  ,       ,        .      , , , ,  ..   ,   Android framework,    <code>SDK_HOME/tools/proguard/proguard-android.txt</code> .         ProGuard,     <code>my-project/app/proguard-rules.pro</code> ,      . <br><br>   ,   ProGuard —       <code>ClassNotFoundException</code>  <code>NoSuchFieldException</code> ,      (, <code>assembleRelease</code> )   .       : <br><br><ul><li> ProGuard  , enum, ,   ,     . </li><li> ProGuard  , enum  ,        ,      Java reflection. </li></ul><br>   <code>app/build/outputs/proguard/release/usage.txt</code>     .    ,      <code>app/build/outputs/proguard/release/mapping.txt</code> . <br><br>  ,        <i></i> ProGuard',      <code>keep</code> : <br><br><pre> <code class="xml hljs">-keep class com.futurice.project.MyClass { *; }</code> </pre><br>    <i></i>   <code>keepnames</code> : <br><br><pre> <code class="xml hljs">-keepnames class com.futurice.project.MyClass { *; }</code> </pre><br>     ProGuard      <a href=""></a> .    Proguard <a href="http://proguard.sourceforge.net/"></a> . <br><br> <b>   ,   </b> ,  ,    ProGuard  .    ,         .    «1.0»    ,              . <br><br> <b>.</b>   mapping.txt   .    mapping.txt   ,        ,          . <br><br> <b>DexGuard.</b>       ,     ,   DexGuard,   ProGuard.     Dex-       65k . <br><br><h4>  Thanks </h4><br> Antti Lammi, Joni Karppinen, Peter Tackage, Timo Tuominen, Vera Izrailit, Vihtori Mäntylä, Mark Voit, Andre Medeiros, Paul Houghton    Futurice  ,        Android. <br><br><h4>  License </h4><br> <a href="http://www.futurice.com/">Futurice Oy</a> Creative Commons Attribution 4.0 International (CC BY 4.0) </div><p>Source: <a href="https://habr.com/ru/post/262501/">https://habr.com/ru/post/262501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262487/index.html">The most boring build Vivaldi 1.0.219.34</a></li>
<li><a href="../262489/index.html">5 reasons for Angular developers to use Meteor</a></li>
<li><a href="../262493/index.html">Creating a map of a comfortable walk</a></li>
<li><a href="../262497/index.html">Magic of tensor algebra: Part 8 - On convolutions of the Levi-Civita tensor</a></li>
<li><a href="../262499/index.html">Quick backup setup for Linux and not only (UrBackup)</a></li>
<li><a href="../262507/index.html">Effective video encoding in Linux with Nvidia NVENC: part 1, general</a></li>
<li><a href="../262509/index.html">Let Docker roam around the cluster on the Raspberry Pi</a></li>
<li><a href="../262511/index.html">Hazardous 0day vulnerabilities discovered in Adobe Flash Player and Oracle Java</a></li>
<li><a href="../262515/index.html">Beginners Ethical Hacking Courses: A New Set</a></li>
<li><a href="../262517/index.html">What is under the hood of virtual disks? (on the example of VHD and VHDX)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>