<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>When you need something almost ready</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, habrazhitel! 

 Just over a year ago I ran into a situation where it was necessary to implement a web application (as usual, in a very short...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>When you need something almost ready</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/fd2/f20/bf5/fd2f20bf569e8cab0818b9324e3099ba.png" alt="image"><br><br>  Good day, habrazhitel! <br><br>  Just over a year ago I ran into a situation where it was necessary to implement a web application (as usual, in a very short time) with rich functionality: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Manage user accounts with different roles </li><li>  Assigning tasks to users and tracking the future life of these tasks </li><li>  User planning (per day, month) </li><li>  Work with the results of the work of employees (recording time and types of work) </li><li>  Formation of various reports, statistical information cuts and TP </li></ol><br>  And this is only the tenth part of what had to be done yesterday.  Immediately make a reservation: I am not a web developer, so I needed a solution on which to build a web application as quickly as possible without deeply immersed in the world of PHP, JS, Java, Ruby, and so on. <br><a name="habracut"></a><br>  I will deliberately skip the analysis and the choice of means of implementation and go straight to the most interesting: <a href="http://koala-framework.org/">Koala Framework</a> was chosen as the platform - an explosive mixture from Zend Framework and ExtJS.  This framework is based on the MVC model (model-view-controller).  But his real strength is autogenerated forms and tables ( <a href="http://www.koala-framework.org/documentation/kwf_general_features/autoform_autogrid/autoform">AutoForm and AutoGrid</a> ). <br><br>  The meaning of auto-forms and auto-tables is that the developer needs to describe the model (database table) and link the model fields / properties to the table columns and form fields.  For example: <br><br>  Let's say we have a table in MySQL: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> <span class="hljs-string"><span class="hljs-string">`tasks`</span></span> (     <span class="hljs-string"><span class="hljs-string">`id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT,     <span class="hljs-string"><span class="hljs-string">`userId`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,     <span class="hljs-string"><span class="hljs-string">`title`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">300</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci,     <span class="hljs-string"><span class="hljs-string">`description`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci,     <span class="hljs-string"><span class="hljs-string">`startDate`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>,     <span class="hljs-string"><span class="hljs-string">`endDate`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>,     <span class="hljs-string"><span class="hljs-string">`status`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>,     PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>),     <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`userId`</span></span> (<span class="hljs-string"><span class="hljs-string">`userId`</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=utf8 <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span>=utf8_unicode_ci;</code> </pre> <br><br>  The model will be: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tasks</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Kwf_Model_Db</span></span></span><span class="hljs-class"> </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_table = <span class="hljs-string"><span class="hljs-string">'tasks'</span></span>; }</code> </pre><br><br>  To display the task list, you need to create a controller (more precisely, AutoGrid Controller): <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TasksController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Kwf_Controller_Action_Auto_Grid</span></span></span><span class="hljs-class"> </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_modelName = <span class="hljs-string"><span class="hljs-string">'Tasks'</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_defaultOrder = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'field'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'id'</span></span>, <span class="hljs-string"><span class="hljs-string">'direction'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'DESC'</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_paging = <span class="hljs-number"><span class="hljs-number">30</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_buttons = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'add'</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">    </span></span>{        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;view-&gt;ext(<span class="hljs-string"><span class="hljs-string">'Tasks'</span></span>);    }       <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_initColumns</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">    </span></span>{        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_columns-&gt;add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Grid_Column(<span class="hljs-string"><span class="hljs-string">'title'</span></span>, trl(<span class="hljs-string"><span class="hljs-string">'Title'</span></span>), <span class="hljs-number"><span class="hljs-number">200</span></span>));        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_columns-&gt;add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Grid_Column_Date(<span class="hljs-string"><span class="hljs-string">'endDate'</span></span>, trl(<span class="hljs-string"><span class="hljs-string">'End Date'</span></span>), <span class="hljs-number"><span class="hljs-number">100</span></span>))-&gt;setRenderer(<span class="hljs-string"><span class="hljs-string">'checkDate'</span></span>);    }   }</code> </pre><br><br>  Here, the class properties describe the behavior: the number of elements per page (yes, paginated output is supported out of the box!), The data model, sorting of the selection (optionally), and possible actions.  Of the actions here, only adding tasks is indicated, but deleting, saving and exporting to Excel / PDF is also available. <br><br>  Now you need to download tasks only for a specific logged in user.  For this, there are global variables in the framework.  Now we can easily set the conditions for selecting tasks in the controller: <br><br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_getWhere</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">    </span></span>{        $users = Kwf_Registry::get(<span class="hljs-string"><span class="hljs-string">'userModel'</span></span>);               $ret = <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::_getWhere();               $ret[<span class="hljs-string"><span class="hljs-string">'status = ?'</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>;        $ret[<span class="hljs-string"><span class="hljs-string">'userId = ?'</span></span>] = $users-&gt;getAuthedUserId();        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $ret;    }</code> </pre><br><br>  Great, now the user sees only his active tasks! <br><br>  So, it remains to add the creation and modification of tasks.  For this we need another controller (AutoForm Controller): <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TaskController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Kwf_Controller_Action_Auto_Form</span></span></span><span class="hljs-class"> </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_modelName = <span class="hljs-string"><span class="hljs-string">'Tasks'</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_permissions = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'save'</span></span>, <span class="hljs-string"><span class="hljs-string">'add'</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_buttons = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'save'</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_initFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">    </span></span>{        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_form-&gt;add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Form_Field_TextField(<span class="hljs-string"><span class="hljs-string">'title'</span></span>, trl(<span class="hljs-string"><span class="hljs-string">'Title'</span></span>)))        -&gt;setWidth(<span class="hljs-number"><span class="hljs-number">400</span></span>)        -&gt;setAllowBlank(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>);               <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_form-&gt;add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Form_Field_DateField(<span class="hljs-string"><span class="hljs-string">'startDate'</span></span>, trl(<span class="hljs-string"><span class="hljs-string">'Start Date'</span></span>)));        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_form-&gt;add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Form_Field_DateField(<span class="hljs-string"><span class="hljs-string">'endDate'</span></span>, trl(<span class="hljs-string"><span class="hljs-string">'End Date'</span></span>)));               <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_form-&gt;add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Form_Field_TextArea(<span class="hljs-string"><span class="hljs-string">'description'</span></span>, trl(<span class="hljs-string"><span class="hljs-string">'Description'</span></span>)))        -&gt;setHeight(<span class="hljs-number"><span class="hljs-number">70</span></span>)        -&gt;setWidth(<span class="hljs-number"><span class="hljs-number">400</span></span>);                       <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_form-&gt;add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Form_Field_Checkbox(<span class="hljs-string"><span class="hljs-string">'status'</span></span>, trl(<span class="hljs-string"><span class="hljs-string">'Done'</span></span>)));    }   }</code> </pre><br><br>  The class properties describe the behavior of the form, and the data connections with the fields are specified in the function initFields ().  But there is a small problem: the userId field is in no way associated with the current user and is not tied to the form fields.  So far ... To free the user from the work of choosing himself as the owner of the task, you need to add a trigger - a function that is triggered during the creation of a new record: <br><br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_beforeInsert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Kwf_Model_Row_Interface $row)</span></span></span><span class="hljs-function">    </span></span>{        $users = Kwf_Registry::get(<span class="hljs-string"><span class="hljs-string">'userModel'</span></span>);               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($row-&gt;startDate == <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>)        {            $row-&gt;startDate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateTime ();        }        $row-&gt;userId = $users-&gt;getAuthedUserId();        $row-&gt;status = <span class="hljs-number"><span class="hljs-number">0</span></span>;    }</code> </pre><br><br>  Other triggers are also available in KWF: to modify and delete data. <br><br>  Now somehow you need to connect both of these controllers to each other.  The code of both controllers generates ExtJS forms.  Consequently, we will link them in JS code: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Tasks = Ext.extend(Ext.Panel, {       <span class="hljs-attr"><span class="hljs-attr">initComponent</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">test</span></span></span><span class="hljs-function">)       </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf.Auto.FormPanel({                                         <span class="hljs-attr"><span class="hljs-attr">controllerUrl</span></span> : <span class="hljs-string"><span class="hljs-string">'/task'</span></span>,                                         <span class="hljs-attr"><span class="hljs-attr">region</span></span> : <span class="hljs-string"><span class="hljs-string">'center'</span></span>                                         });                    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf.Auto.GridPanel({                                         <span class="hljs-attr"><span class="hljs-attr">controllerUrl</span></span> : <span class="hljs-string"><span class="hljs-string">'/tasks'</span></span>,                                         <span class="hljs-attr"><span class="hljs-attr">region</span></span> : <span class="hljs-string"><span class="hljs-string">'west'</span></span>,                                         <span class="hljs-attr"><span class="hljs-attr">width</span></span> : <span class="hljs-number"><span class="hljs-number">400</span></span>,                                         <span class="hljs-attr"><span class="hljs-attr">resizable</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>,                                         <span class="hljs-attr"><span class="hljs-attr">split</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>,                                         <span class="hljs-attr"><span class="hljs-attr">collapsible</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>,                                         <span class="hljs-attr"><span class="hljs-attr">title</span></span> : trl(<span class="hljs-string"><span class="hljs-string">'Tasks'</span></span>),                                         <span class="hljs-attr"><span class="hljs-attr">bindings</span></span>: [{                                                    <span class="hljs-attr"><span class="hljs-attr">queryParam</span></span>: <span class="hljs-string"><span class="hljs-string">'id'</span></span>,                                                    <span class="hljs-attr"><span class="hljs-attr">item</span></span>: form                                                    }]                                         });       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.layout = <span class="hljs-string"><span class="hljs-string">'border'</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.items = [grid, {                     <span class="hljs-attr"><span class="hljs-attr">layout</span></span>: <span class="hljs-string"><span class="hljs-string">'border'</span></span>,                     <span class="hljs-attr"><span class="hljs-attr">region</span></span>: <span class="hljs-string"><span class="hljs-string">'center'</span></span>,                     <span class="hljs-attr"><span class="hljs-attr">items</span></span>: [form]                     }];       Tasks.superclass.initComponent.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);    } });</code> </pre><br><br>  Anyone who has already worked with ExtJS, this code will probably seem very familiar =) <br><br>  It remains only to determine the access point (input) to these controllers.  To do this, KWF has a separate predefined class Kwf_Acl: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Acl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Kwf_Acl</span></span></span><span class="hljs-class"> </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">    </span></span>{        <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct();        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;remove(<span class="hljs-string"><span class="hljs-string">'default_index'</span></span>);        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;addResource(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kwf_Acl_Resource_MenuUrl(<span class="hljs-string"><span class="hljs-string">'default_tasks'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'text'</span></span>=&gt;trl(<span class="hljs-string"><span class="hljs-string">'Tasks'</span></span>), <span class="hljs-string"><span class="hljs-string">'icon'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'time.png'</span></span>), <span class="hljs-string"><span class="hljs-string">'/tasks'</span></span>));        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;addResource(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Zend_Acl_Resource(<span class="hljs-string"><span class="hljs-string">'default_task'</span></span>), <span class="hljs-string"><span class="hljs-string">'default_tasks'</span></span>);        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;addRole(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Zend_Acl_Role(<span class="hljs-string"><span class="hljs-string">'user'</span></span>));        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;allow(<span class="hljs-string"><span class="hljs-string">'user'</span></span>, <span class="hljs-string"><span class="hljs-string">'default_tasks'</span></span>);        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;allow(<span class="hljs-string"><span class="hljs-string">'admin'</span></span>, <span class="hljs-string"><span class="hljs-string">'default_tasks'</span></span>);        <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;allow(<span class="hljs-string"><span class="hljs-string">'admin'</span></span>, <span class="hljs-string"><span class="hljs-string">'default_index'</span></span>);    } }</code> </pre><br><br>  That's all!  The next TO-DO list is ready!  In addition, it is multi-user and, if necessary, tasks such as exporting a list to Excel / PDF, filtering and sorting lists are added a maximum of 5 minutes! <br><br><img src="//habrastorage.org/files/6b5/bed/2c6/6b5bed2c695a46f294d3a8f823da35c5.png"><br><br>  The full application code is available here: <a href="https://github.com/kronik/kwf-app-demo">github.com/kronik/kwf-app-demo</a> <br><br>  Let's create more useful and convenient tools!  =) <br><br>  From myself I also want to add that now the web application on KFW has been successfully developed and implemented in a large Russian company.  User feedback is extremely positive. <br><br>  PS1: Trying to figure out and show the technology is already punishable by losing karma?  Let's better discuss in the comments :) <br><br>  PS 2: The team is looking for developers PHP, ExtJS, MySQL, who want to learn more about the Koala Framework and are ready to help (not for free of course) in the development of the national specialized CIS.  All questions can be answered in the comments or in a personal. </div><p>Source: <a href="https://habr.com/ru/post/228901/">https://habr.com/ru/post/228901/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228881/index.html">We implement pull to refresh and infinite scrolling on Swift</a></li>
<li><a href="../228893/index.html">[Translation] Do not be afraid of functional programming</a></li>
<li><a href="../228895/index.html">Digest of articles on data analysis No. 4 (06.23.2014 ‚Äî06.07.2014)</a></li>
<li><a href="../228897/index.html">FiDELYS: smart watches, fitness tracker and security system</a></li>
<li><a href="../228899/index.html">Elena, "electronic girl" from the support service</a></li>
<li><a href="../228903/index.html">Hackspace (technical creativity club) opened in Nizhnevartovsk</a></li>
<li><a href="../228907/index.html">Four tips from an indie game developer: how to achieve three million downloads</a></li>
<li><a href="../228909/index.html">The future of the Web, which will not be</a></li>
<li><a href="../228911/index.html">Android L ported to Nexus 4 while unofficially</a></li>
<li><a href="../228913/index.html">We invite you to a free school on HPC in biology and medicine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>