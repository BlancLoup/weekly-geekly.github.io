<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Detekt Static Analyzer for Kotlin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's time to love static analyzers! Meet Detekt at Kotlin 
 If you already know what will be discussed and you are only interested in implementation i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Detekt Static Analyzer for Kotlin</h1><div class="post__text post__text-html js-mediator-article"><h2>  It's time to love static analyzers!  Meet Detekt at Kotlin </h2><br>  If you already know what will be discussed and you are only interested in implementation in the project, go directly to the installation point. <br><br><h3>  What is it? </h3><br><img src="https://github.com/arturbosch/detekt/raw/master/docs/images/detekt_in_action.png" alt="image"><br><br>  Analysis of software produced (as opposed to dynamic analysis) without real execution of the studied programs.  <a href="https//ru.wikipedia.org/wiki/%25D0%25A1%25D1%2582%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7_%25D0%25BA%25D0%25BE%25D0%25B4%25D0%25B0">Wikipedia</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And in your own words, this is a handy tool that helps in complying with the rules of good code.  Allowing very flexible configuration of the filter to determine bad code.  Which at each start will generate a certain report, including statistical data on detected conflicts, information about them, allowing to determine where the conflict occurred and its type. <br><br>  Static analyzers facilitate the work of the reviewer and generally save the development team time. <br><a name="habracut"></a><br>  Suppose we have a good PR, but the author gave too long names to variables, wrote code that can be easily simplified or violated one of the many rules that can be set in the Detekt configuration file, the rules are not complicated, but this PR will not work through code-review. <br>  The author will again have to switch between projects, as well as reviewers, I am sure, a little pleasure will be delivered by a second review. <br><blockquote>  Automate if it is fast and not expensive.  (C) Common sense </blockquote><h3>  What are static analyzers? </h3><br>  <b>For java:</b> <br><br><ul><li>  <a href="https://github.com/findbugsproject/findbugs">Find-bugs</a> (Obsolete in 2015) </li><li>  <a href="https://spotbugs.github.io/">Spot-bugs</a> </li></ul><br>  <b>For Kotlin:</b> <br><br><ul><li>  <a href="https://arturbosch.github.io/detekt/">Detekt</a> </li><li>  <a href="https://ktlint.github.io/">Ktlint</a> </li></ul><br>  I answer the question you have in my head, Spot-bugs on Kotlin does not work. <br><br><h3>  Implement Detekt in the project </h3><br>  Detekt can be installed in several ways: <br><br><ol><li>  <a href="https://github.com/arturbosch/detekt-intellij-plugin">Plugin</a> for AndroidStudio </li><li>  Gradle </li></ol><br>  I think the setting through Gradle is more flexible and I‚Äôll tell you about it. <br><br>  On the official website there are several ways to install Detekt into the project, depending on the version of Gradle, whether it is an Android project.  But, in my experience of implementing in android project, <s>some instructions do not work</s> .  At the moment, the project is very close to exit 1.0.  The latest version at the time of writing the article - release candidate 1.0.0-RC14 <br><br>  So. <br><br>  Go to the official website <a href="https://plugins.gradle.org/plugin/io.gitlab.arturbosch.detekt">Gradle</a> and see the instructions for installation. <br><br><pre><code class="kotlin hljs">buildscript { repositories { maven { url <span class="hljs-string"><span class="hljs-string">"https://plugins.gradle.org/m2/"</span></span> } } dependencies { classpath <span class="hljs-string"><span class="hljs-string">"io.gitlab.arturbosch.detekt:detekt-gradle-plugin:1.0.0-RC14"</span></span> } }</code> </pre> <br>  This is the solution that I advise you to stick with for the Android project. <br><br>  You probably noticed that I removed the apply: plugin line, as I advise you to separate Detekt into a separate file and apply apply in it. <br><br><h4>  Stage 1: </h4><br>  So, we copy this code in the application level build.gradle. <br><br>  There, in the <b>allprojects</b> block <b>,</b> we have to write a line for applying our detekt configuration file. <br><br><pre> <code class="kotlin hljs">allprojects { apply from: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$rootDir</span></span></span><span class="hljs-string">/detekt.gradle"</span></span> repositories { maven { url <span class="hljs-string"><span class="hljs-string">"https://plugins.gradle.org/m2/"</span></span> } } }</code> </pre><br><h4>  Stage 2: </h4><br>  Then you need to create the file <b>detekt.gradle</b> <br><br><pre> <code class="kotlin hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">"io.gitlab.arturbosch.detekt"</span></span> detekt { toolVersion = <span class="hljs-string"><span class="hljs-string">"1.0.0-RC14"</span></span> <span class="hljs-comment"><span class="hljs-comment">// Version of the Detekt CLI that will be used. When unspecified the latest detekt version found will be used. Override to stay on the same version. input = files("src/main/java") // The directories where detekt looks for input files. Defaults to `files("src/main/java", "src/main/kotlin")`. parallel = true // Builds the AST in parallel. Rules are always executed in parallel. Can lead to speedups in larger projects. `false` by default. filters = ".*build.*,.*/resources/.*,.*/tmp/.*" // Regular expression of paths that should be excluded separated by `;` or `,`. config = files("$rootDir/detekt-config.yml") // Define the detekt configuration(s) you want to use. Defaults to the default detekt configuration. reports { xml { enabled = true // Enable/Disable XML report (default: true) destination = file("build/reports/detekt.xml") // Path where XML report will be stored (default: `build/reports/detekt/detekt.xml`) } html { enabled = true // Enable/Disable HTML report (default: true) destination = file("build/reports/detekt.html") // Path where HTML report will be stored (default: `build/reports/detekt/detekt.html`) } } }</span></span></code> </pre><br><h4>  Stage 3: </h4><br>  Now you need to create a configuration file <a href="">detekt-config.yml</a> <br><br>  This is the standard configuration file from the <a href="https://arturbosch.github.io/detekt/configurations.html">official site</a> . <br><br><h4>  Stage 4: </h4><br>  Open the console and run the command: <b>gradlew detekt</b> <br><br><h3>  Everything! </h3><br>  Now you have statistics on your project.  They are displayed in the console, and you can also find them along the path: {u_project} \ app \ build \ reports \ detekt <br><br><h3>  Finally </h3><br>  Detekt is very convenient to use when building in <a href="https://jenkins.io/">Jenkins.</a> <br>  The task execution time in the program with more than 2000 classes is 4-7 seconds *. <br><br>  I want to say that using a static analyzer slightly simplifies our work.  Accelerates the development process and saves business money. <br><br>  References: <br><br>  <a href="https://github.com/arturbosch/detekt">Detekt github</a> <br>  <a href="https://arturbosch.github.io/detekt/groovydsl.html">Set up Detekt</a> <br>  <a href="">default-detekt-config.yml</a> </div><p>Source: <a href="https://habr.com/ru/post/442500/">https://habr.com/ru/post/442500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442486/index.html">ReactOS 0.4.11 - one hundred more applications</a></li>
<li><a href="../442492/index.html">Everyone can easily learn English.</a></li>
<li><a href="../442494/index.html">Figma component and organization of instances on the example of Userpic</a></li>
<li><a href="../442496/index.html">Corporate pig</a></li>
<li><a href="../442498/index.html">Top 10 reports of the C ++ Russia 2018 conference: full videos, slides, comments</a></li>
<li><a href="../442502/index.html">We transform the workplace in the recumbent for $ 200</a></li>
<li><a href="../442506/index.html">Is Russia being punished for illegal trade in personal data?</a></li>
<li><a href="../442508/index.html">How do udalenka accelerates innovation on gitlab</a></li>
<li><a href="../442514/index.html">Distributed systems. Design patterns. Book Review</a></li>
<li><a href="../442516/index.html">A guide to using pandas for analyzing large data sets.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>