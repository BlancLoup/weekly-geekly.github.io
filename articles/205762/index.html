<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Launch Ubuntu and watch Torrent and Torrent-TV straight on Samsung SmartTV</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After reading the comment from awoland in yesterday‚Äôs article How SmartTV forgot about the main thing, I immediately got to try to get root-rights and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Launch Ubuntu and watch Torrent and Torrent-TV straight on Samsung SmartTV</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/550/c41/a1f/550c41a1f48335a0675522af0c5307dc.png" alt="image"><br>  After reading the <a href="http://habrahabr.ru/post/205612/">comment</a> from <a href="https://habrahabr.ru/users/awoland/" class="user_link">awoland</a> in yesterday‚Äôs article <a href="http://habrahabr.ru/post/205612/">How SmartTV forgot about the main</a> thing, I immediately got to try to get root-rights and telnet / ssh on my TV.  It turns out that everything is ready for this, and it is easier than ever! <br><br>  It is enough to install <a href="http://forum.ixbt.com/post.cgi%3Fid%3Dannc:62:20973">SamyGo Widget</a> , and he will do everything for you! <br><br><h5>  What does SamyGO give us? </h5><br><ul><li>  Root access to TV via Telnet </li><li>  Virtual flash drive, mounting NFS, Samba, FTP on it </li><li>  Samba FTP servers </li><li>  Apache2 with PHP </li><li>  rtorrent </li><li>  Lots of fun! </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b># - * - DISCLAIMER - * -</b> <br>  <b>Everything you do with your TV, you do at your own peril and risk.</b>  <b>The author of this article is not responsible for your anal.</b> <br><br>  For my TV (E-series), I needed: <br><ol><li>  Install Skype on TV and run it once </li><li>  Download SamyGo widget installer on USB flash drive </li><li>  Run it from a flash drive </li><li>  ??? </li><li>  PROFIT! </li></ol><br><h5>  How did they do it, demons? </h5><br>  Here is the installer script. <a name="habracut"></a>  : <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre><code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Main = { } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> widgetAPI = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Common.API.Widget(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tvKey = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Common.API.TVKeyValue(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> runf1=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> runf2=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> LabelString=<span class="hljs-string"><span class="hljs-string">"Log: "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> usbPlugin; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> FilePlugin; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nUSBCount; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> commonFilePath; Main.onLoad = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">"Main.onLoad()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.enableKeys(); widgetAPI.sendReadyEvent(); Func(); }; Main.onUnload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ }; Main.enableKeys = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"anchor"</span></span>).focus(); }; Main.keyDown = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> keyCode = event.keyCode; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(keyCode) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> tvKey.KEY_RETURN: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> tvKey.KEY_PANEL_RETURN: widgetAPI.sendReturnEvent(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> tvKey.KEY_RED: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(runf2==<span class="hljs-number"><span class="hljs-number">1</span></span>) { runf2=<span class="hljs-number"><span class="hljs-number">0</span></span>; Log (<span class="hljs-string"><span class="hljs-string">" Please Wait 20-30 sec...."</span></span>); setTimeout(<span class="hljs-string"><span class="hljs-string">"Func1(commonFilePath);"</span></span>,<span class="hljs-number"><span class="hljs-number">3000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Log(<span class="hljs-string"><span class="hljs-string">'Activated yet!'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> tvKey.KEY_ENTER: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> tvKey.KEY_PANEL_ENTER: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(runf1==<span class="hljs-number"><span class="hljs-number">1</span></span>) { runf1=<span class="hljs-number"><span class="hljs-number">0</span></span>; Log (<span class="hljs-string"><span class="hljs-string">" Please Wait 20-30 sec...."</span></span>); setTimeout(<span class="hljs-string"><span class="hljs-string">"Func1(commonFilePath);"</span></span>,<span class="hljs-number"><span class="hljs-number">3000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Log(<span class="hljs-string"><span class="hljs-string">'Activated yet!'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: alert(<span class="hljs-string"><span class="hljs-string">"Unhandled key"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Log</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Str</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Label = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"LogLabel"</span></span>); LabelString = LabelString+Str+<span class="hljs-string"><span class="hljs-string">" "</span></span>; widgetAPI.putInnerHTML(Label,LabelString); }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sleep</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ms</span></span></span><span class="hljs-function">) </span></span>{ ms += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>() &lt; ms){} }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Func</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ usbPlugin = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"pluginStorage"</span></span>); FilePlugin = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"pluginObjectFile"</span></span>); nUSBCount = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">"usbPlugin.GetUSBListSize()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Param; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r1=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r2=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r3=<span class="hljs-number"><span class="hljs-number">0</span></span>; Log(<span class="hljs-string"><span class="hljs-string">"Found &lt;b style='font-size:30px; color:green'&gt;"</span></span> + nUSBCount + <span class="hljs-string"><span class="hljs-string">"&lt;/b&gt; USB devices"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; nUSBCount; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nid1 = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">"usbPlugin.GetUSBDeviceID("</span></span>+i+<span class="hljs-string"><span class="hljs-string">")"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nid = <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(nid1); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> VN = <span class="hljs-string"><span class="hljs-string">" Vendor Name = &lt;b style='color:green'&gt;"</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">"usbPlugin.GetUSBVendorName("</span></span>+nid+<span class="hljs-string"><span class="hljs-string">")"</span></span>) + <span class="hljs-string"><span class="hljs-string">"&lt;/b&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MN = <span class="hljs-string"><span class="hljs-string">" Model Name = &lt;b style='color:green'&gt;"</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">"usbPlugin.GetUSBModelName("</span></span>+nid+<span class="hljs-string"><span class="hljs-string">")"</span></span>) + <span class="hljs-string"><span class="hljs-string">"&lt;/b&gt;"</span></span>; nPartition = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">"usbPlugin.GetUSBPartitionNum("</span></span>+nid+<span class="hljs-string"><span class="hljs-string">")"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; nPartition; j++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mntPath = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">"usbPlugin.GetUSBMountPath("</span></span>+nid+<span class="hljs-string"><span class="hljs-string">", "</span></span>+j+<span class="hljs-string"><span class="hljs-string">")"</span></span>); commonFilePath = <span class="hljs-string"><span class="hljs-string">'/dtv/usb/'</span></span> + mntPath; Param = <span class="hljs-string"><span class="hljs-string">"FilePlugin.IsExistedPath(commonFilePath + '/InstallSamygo/data/SamyGO.zip')"</span></span>; r1 = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(Param); Param = <span class="hljs-string"><span class="hljs-string">"FilePlugin.IsExistedPath(commonFilePath + '/InstallSamygo/data/AutoStart')"</span></span>; r2 = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(Param); Param = <span class="hljs-string"><span class="hljs-string">"FilePlugin.IsExistedPath(commonFilePath + '/InstallSamygo/data/libSkype.so')"</span></span>; r3 = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(Param); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r1 == <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; r2 == <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; r3 == <span class="hljs-number"><span class="hljs-number">1</span></span>) { Log(<span class="hljs-string"><span class="hljs-string">"The installation files found on USB: "</span></span> + commonFilePath + VN + MN); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Log(<span class="hljs-string"><span class="hljs-string">"Some installation files not found on USB: "</span></span> + commonFilePath + VN + MN); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } } Log(<span class="hljs-string"><span class="hljs-string">"The installation files not found on USB: error"</span></span>); } }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Func1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Path</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Param; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str =<span class="hljs-string"><span class="hljs-string">''</span></span>; Param=<span class="hljs-string"><span class="hljs-string">"FilePlugin.Copy ('"</span></span>+ Path +<span class="hljs-string"><span class="hljs-string">"/InstallSamygo/data/AutoStart','/mtd_rwcommon/moip/engines/Skype/AutoStart')"</span></span>; r = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(Param); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r==<span class="hljs-number"><span class="hljs-number">1</span></span>) str = <span class="hljs-string"><span class="hljs-string">'OK'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> str = <span class="hljs-string"><span class="hljs-string">'No'</span></span>; Log(<span class="hljs-string"><span class="hljs-string">"Step1: "</span></span> + str) Param=<span class="hljs-string"><span class="hljs-string">"FilePlugin.Copy ('"</span></span>+ Path +<span class="hljs-string"><span class="hljs-string">"/InstallSamygo/data/libSkype.so','/mtd_rwcommon/moip/engines/Skype/libSkype.so')"</span></span>; r = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(Param); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r==<span class="hljs-number"><span class="hljs-number">1</span></span>) str = <span class="hljs-string"><span class="hljs-string">'OK'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> str = <span class="hljs-string"><span class="hljs-string">'No'</span></span>; Log(<span class="hljs-string"><span class="hljs-string">"Step2: "</span></span> + str); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(runf2==<span class="hljs-number"><span class="hljs-number">1</span></span>) { Param=<span class="hljs-string"><span class="hljs-string">"FilePlugin.Unzip('"</span></span>+ Path +<span class="hljs-string"><span class="hljs-string">"/InstallSamygo/data/SamyGO.zip','/mtd_rwcommon/widgets/user/SamyGO/')"</span></span>; r = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(Param); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r==<span class="hljs-number"><span class="hljs-number">1</span></span>) str = <span class="hljs-string"><span class="hljs-string">'OK'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> str = <span class="hljs-string"><span class="hljs-string">'No'</span></span>; Log(<span class="hljs-string"><span class="hljs-string">"Step3: "</span></span> + str); } Log(<span class="hljs-string"><span class="hljs-string">"Now press exit and restart tv"</span></span>); };</code> </pre> </div></div><br>  Vulnerability in FilePlugin.Copy function, called via eval, which allows you to copy anything anywhere.  The script takes and copies the spoofed libSkype.so, which can only run another script, and installs the SamyGo widget itself. <br><br>  So what about the SamyGo widget? <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Main = { } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> widgetAPI = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Common.API.Widget(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tvKey = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Common.API.TVKeyValue(); Main.onLoad = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">"Main.onLoad()"</span></span>); widgetAPI.sendReadyEvent(); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"anchor"</span></span>).focus(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> FilePlugin = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"pluginObjectFile"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Param1=<span class="hljs-string"><span class="hljs-string">"FilePlugin.Copy (\"/proc/self/cmdline\", \"$(sh /mtd_rwcommon/widgets/user/SamyGO/data/run.sh)/tmp/cmdline\")"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(Param1); } Main.keyDown = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> keyCode = event.keyCode; alert(<span class="hljs-string"><span class="hljs-string">"Main Key code : "</span></span> + keyCode); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (keyCode) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> tvKey.KEY_RETURN: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre></div></div><br>  Well, it's all a gun!  We can execute shell commands from the same function using the $ () - syntax. <br>  run.sh installs busybox and other tinsel, mounts data.xfs, runs telnetd and nc, which starts sh when connected (if there are any problems with / dev / pts and you can‚Äôt connect to telnet) . <br><br><h5>  What's inside? </h5><br>  Inside we have a 2-core processor with ARMv7 architecture, with support for NEON, I believe, the Cortex-A8 family, MALI 400 video, 512MB of RAM, 2.6.35.13 kernel.  In general, a rather typical ‚Äútablet‚Äù of 2012. <br><div class="spoiler">  <b class="spoiler_title">cat / proc / cpuinfo</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">VDLinux<span class="hljs-meta"><span class="hljs-meta">#&gt; cat /proc/cpuinfo Processor : ARMv7 Processor rev 0 (v7l) processor : 0 BogoMIPS : 1794.04 processor : 1 BogoMIPS : 1794.04 Features : swp half thumb fastmult vfp edsp neon vfpv3 CPU implementer : 0x41 CPU architecture: 7 CPU variant : 0x3 CPU part : 0xc09 CPU revision : 0 Hardware : amber3 Revision : 0000 Serial : 0000000000000000</span></span></code> </pre> </div></div><br>  The kernel supports SquashFS, FAT32, XFS, RFS (Samsung FS, FAT32 + logging), NTFS (Tuxera tntfs driver).  There is support for modules, several FS modules are supplied in SamyGo, FUSE is being loaded, and, for example, ext2 / 3/4 is not, because  there are no symbols in the kernel for them. <br><br>  The most common X server with xf86-video-mali is running on TV, a 125 megabyte exeDSP file is responsible for the entire SmartTV (loaded into IDA PRO 17 minutes <i>before the analysis started</i> ), but the sound is more interesting: alsa is not, and it looks like exeDSP communicates with / dev / system directly. <br><br><h5>  What can I do? </h5><br>  Yes whatever.  I am lazy, and I try once again not to cross-compile something, so I just took <a href="https://wiki.ubuntu.com/Core">Ubuntu Core</a> , created an XFS partition on a flash drive, unpacked Ubuntu and inserted it into TV.  There were problems with the armhf-version (any unknown instruction, is it compiled with thumb2?), So I found 12.04 armel. <br>  It remains only to insert the USB flash drive into the TV, connect via telnet and do: <br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">chroot</span></span> /dtv/usb/sda1 /bin/bash</code> </pre> <br>  And we get a full ubuntu 12.04. <br>  <b>mount --bind</b> does not work, so if you need proc and sys in chroot (and you will need it), use: <br><pre> <code class="hljs mel">mount -t sysfs sysfs ./sys mount -t <span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> ./<span class="hljs-keyword"><span class="hljs-keyword">proc</span></span></code> </pre> <br><br>  First of all, I, of course, put mplayer.  And you know, it works!  Slowly, of course, and from the conclusions only x11 works, but it shows!  I watched yesterday's opening with subtitles and without sound;) <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/zI5sEgMSQgE%3Ffeature%3Doembed&amp;xid=17259,15700002,15700022,15700186,15700191,15700253&amp;usg=ALkJrhjg7KpUtzpbOoUqWG5DbFmxCUWTzg" frameborder="0" allowfullscreen=""></iframe><br><br>  Screenshots, here, scrot'om removed: <br><img src="https://habrastorage.org/getpro/habr/post_images/108/dd8/670/108dd86701d2d29475eb2d7cb5f70b9d.png" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/df6/a61/fd2/df6a61fd26645eaa7edf50d8cf9db0dc.png" alt="image"><br><br>  I ask you to pay attention, I didn‚Äôt change the resolution of the screenshots, and, in fact, the resolution of the TV (at least at the X-server) is 1280 √ó 720! <br><br>  Well, then I decided to put Ace Stream Engine and AceProxy to watch TV streams and Torrent right on TV.  For this we need Python, because  These two products are written on it.  Since  Ace Stream is not officially released for ARM, and indeed, its developers are <a href="">somewhat wild</a> , then we will take the <a href="http://ru.man.wikia.com/wiki/Raspbmc">unpacked version for Raspberry PI</a> , and AceProxy from <a href="https://github.com/ValdikSS/aceproxy">my repository</a> <br><br>  Actually, the necessary packages for Ace Stream are written in the link, and for AceProxy only python-gevent is needed.  We start the whole thing, you can even open the AceProxy statistics page in the built-in TV browser: <br><img src="https://habrastorage.org/getpro/habr/post_images/a0d/ad2/b49/a0dad2b495bcc598c98147696bb26697.png" alt="image"><br><br>  Surprisingly, Ace Stream does not really load the processor (about 15% from the top), so it can be used on TV. <br>  Now it remains only to take some player (nStreamLmod, for example) and make a playlist for AceProxy. <br><br><h5>  Something else? </h5><br>  This is all proof-of-concept.  I did all this purely from short-term interest and, most likely, I will not continue further.  However, if someone poddoet me how the work with sound, then you can watch videos with FLAC and Vorbis in MKV, just running them together. <br>  Be careful with SamyGo.  By default, it starts many services, and telnet access is performed without a password. <br>  Successes! </div><p>Source: <a href="https://habr.com/ru/post/205762/">https://habr.com/ru/post/205762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../205742/index.html">Using quadtree when calculating 2GIS traffic jams</a></li>
<li><a href="../205746/index.html">How Mosfilm Milks Soviet Copyright Cows</a></li>
<li><a href="../205754/index.html">The best resources to get started with Drupal 8</a></li>
<li><a href="../205756/index.html">Russian AI Cup: technical details</a></li>
<li><a href="../205758/index.html">Dell VRTX is coming to us!</a></li>
<li><a href="../205764/index.html">How to deal with memory leaks in a virtual machine, correctly closing the browser</a></li>
<li><a href="../205766/index.html">SkyDrive in Windows 8.1: a stumbling block. Disable the SkyDrive service</a></li>
<li><a href="../205768/index.html">Video recording of Microsoft product training seminars (Office365, System Center 2012 and Windows Server 2012)</a></li>
<li><a href="../205772/index.html">SFINAE is just</a></li>
<li><a href="../205774/index.html">BioPen's surgical 3D printer allows you to ‚Äúprint‚Äù tissue right during the operation.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>