<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ASP.NET vNext application for Ubuntu</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to tell you about my experience in deploying ASP.NET vNext under Ubuntu 14.04. I myself have been developing for a long time under Windows and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ASP.NET vNext application for Ubuntu</h1><div class="post__text post__text-html js-mediator-article">  I want to tell you about my experience in deploying ASP.NET vNext under Ubuntu 14.04.  I myself have been developing for a long time under Windows and have dealt with Unix systems, then in passing and imperceptibly for me and for Unix systems.  But despite this, the news about the transfer of the .Net part to OpenSource with Unix support pleased me as an occasion for the further development and expansion of knowledge boundaries. <br><br>  As a result of the brief torment and research of various forums and the issue of trackers, I managed something that previously seemed unthinkable.  Code written in C #, which runs in an environment invented and developed in MS, which is an ASP.NET MVC application (!) Is working. <a name="habracut"></a><br><br>  First you need to download and install the OS itself.  I took the image from the official site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="xml hljs">http://www.ubuntu.com/download/desktop/contribute/?version=14.04.1&amp;architecture=amd64</code> </pre> <br><br>  Then I deployed this image on VirtualBox, because it was just an experiment. <br><br>  To run an application on ASP.NET vNext under Ubuntu, we need two things: a project designed in the new ASP.NET vNext style and deployed and launched by KRuntime with the option of raising the Kestrel web server. <br><br><h4>  <b>Create application</b> </h4><br>  The first problem is solved simply.  You can take a very simple example from a githaba: <br><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">https://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">github.com</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">aspnet</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Home</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tree</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">master</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">samples</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HelloWeb</span></span></span><span class="hljs-function">.</span></span></code> </pre><br>  If the git is not installed yet, install it: <br><br><pre> <code class="dos hljs">sudo apt-get install git</code> </pre><br>  Then we clone our repository with examples: <br><br><pre> <code class="dos hljs">git clone https://github.com/aspnet/Home.git</code> </pre><br><br><h4>  <b>Infrastructure</b> </h4><br>  The second task is more difficult, but also solvable.  The process consists of the following steps: <br><br><ol><li><h5>  <b>Mono installation</b> </h5><br><pre> <code class="dos hljs">wget http://download.mono-project.com/repo/xamarin.gpg sudo apt-key add xamarin.gpg <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> "deb http://download.mono-project.com/repo/debian wheezy main" | sudo tee --<span class="hljs-built_in"><span class="hljs-built_in">append</span></span> /etc/apt/sources.list.d/mono-xamarin.list sudo apt-get update sudo apt-get install mono-complete</code> </pre><br></li><li><h5>  <b>KRuntime installation</b> </h5><br>  Allow kvm to climb on their sites for their certificates. <br><pre> <code class="dos hljs">sudo certmgr -ssl -m https://go.microsoft.com sudo certmgr -ssl -m https://nugetgallery.blob.core.windows.<span class="hljs-built_in"><span class="hljs-built_in">net</span></span> sudo certmgr -ssl -m https://nuget.org mozroots --import --sync</code> </pre><br>  Download the kvm installation script and launch it, and then run the kvm upgrade.  Now everything we need is already installed: <br><br><pre> <code class="hljs ruby">curl <span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/raw.githubusercontent.com/aspnet</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Home/master</span></span><span class="hljs-regexp"><span class="hljs-regexp">/kvminstall.sh | sh &amp;&amp; source ~/</span></span>.kre/kvm/kvm.sh &amp;&amp; kvm upgrade</code> </pre><br>  We pull out all the dependencies of KRuntime: <br><br><pre> <code class="dos hljs">kpm <span class="hljs-built_in"><span class="hljs-built_in">restore</span></span></code> </pre><br></li><li><h5>  <b>Install bower</b> </h5><br>  If NPM is not installed, install: <br><br><pre> <code class="dos hljs">sudo apt-get install npm</code> </pre><br></li><li><h5>  <b>Start the web server</b> </h5><br>  Compile libuv, and (hard hack), copy the assembly to the KRuntime folders, because there are incompatible versions by default, because MS has not yet worked on supporting Linux. <br><br>  Currently KRuntime requires version 1.0.0-rc1 and KRuntime itself is in version 1.0.0-beta1.  All this is changing very quickly, so it is always necessary to know which versions were last linking to each other.  (The script was taken and slightly corrected <a href="">from here</a> ). <br><br><pre> <code class="dos hljs">wget http://dist.libuv.org/dist/v1.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-rc1/libuv-v1.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-rc1.tar.gz tar -xvf libuv-v1.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-rc1.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> libuv-v1.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-rc1/ ./gyp_uv.py -f make -Duv_library=shared_library make -C out sudo cp out/Debug/lib.target/libuv.so /usr/lib/libuv.so.<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-rc1 sudo cp out/Debug/lib.target/libuv.so ~/.kpm/packages/Microsoft.AspNet.Server.Kestrel/<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-beta1/native/darwin/universal/libuv.dylib sudo ln -s libuv.so.<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-rc1 /usr/lib/libuv.so.<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  All work with KRuntime is done on the application, so we must be in the directory with the project where project.json is located.  In our case we do: <br><br><pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Home/samples/HelloWeb/</code> </pre><br><br>  We run our application on the kestrel server (all settings in the project.json file): <br><br><pre> <code class="dos hljs">k kestrel</code> </pre><br>  Open the browser and go to: <br><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">http://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">localhost</span></span></span><span class="hljs-function">:5004</span></span></code> </pre><br>  Well, or another address specified in project.json next to kestrel: <br></li></ol><br>  The process is very unusual, much has changed, but the development itself is happy.  It is also nice that restrictions are becoming less and the boundaries are blurred. </div><p>Source: <a href="https://habr.com/ru/post/243773/">https://habr.com/ru/post/243773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243755/index.html">DataTalks 10.25.14: First meeting</a></li>
<li><a href="../243757/index.html">Amazon distributes $ 25 for AWS account for free and launches Russian version of the site.</a></li>
<li><a href="../243761/index.html">How OpenStack Fills the Gap between PaaS and IaaS</a></li>
<li><a href="../243763/index.html">Authentication based on JSON Web Token in Django and AngularJS: part two</a></li>
<li><a href="../243771/index.html">Restoration of three-dimensional models by the active parallax method</a></li>
<li><a href="../243775/index.html">Course pixel art 5</a></li>
<li><a href="../243779/index.html">Highlighting in the browser or writing another extension for Chrome</a></li>
<li><a href="../243781/index.html">Interview marketer. Typical HR errors</a></li>
<li><a href="../243787/index.html">Room weather station with a network interface on the Tibbo Project System</a></li>
<li><a href="../243791/index.html">How rooms in Socket.io work</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>