<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Expanding the canvas of Van Gogh's “Starry Night” with the help of the Wolfram Language (Mathematica)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the post Piotr Wendykier " Extending Van Gogh's Starry Night with Inpainting " 
 Download the translation in the form of a Mathematica ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Expanding the canvas of Van Gogh's “Starry Night” with the help of the Wolfram Language (Mathematica)</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/fff/a07/a5c/fffa07a5c783454ea729c8f9261b6092.jpg" width="700"></div><br>  <i>Translation of the post Piotr Wendykier " <a href="http://blog.wolfram.com/2014/12/01/extending-van-goghs-starry-night-with-inpainting/">Extending Van Gogh's Starry Night with Inpainting</a> "</i> <i><br></i>  <i>Download the translation in the form of a <i>Mathematica</i> document that contains all the code used in the article <a href="http://goo.gl/SK05Nf">here</a> (archive, ~ 8 MB).</i> <br><br>  Can computers learn to draw like Van Gogh?  Definitely yes, to some extent!  For this, like copyist artists, the algorithm will first need to take some original work, and then it will be able to create something based on them.  How well can he handle it?  Please judge for yourself. <br><br><img alt="ExtendingVanGoghStarryNightInpainting_1.gif" height="640" src="https://habrastorage.org/getpro/habr/post_images/ecf/d24/6f9/ecfd246f975299722691c889f24cd2b2.gif" width="409"><br>  <a href="http://www.eng.cam.ac.uk/news/art-engineering-images-frontiers-technology">Second Prize at the ZEISS Photo Contest</a> <br><a name="habracut"></a><br>  Recently, the Faculty of Engineering at the University of Cambridge announced the winners of the annual photo contest entitled “The Art of Engineering: Images from the Frontiers of Technology”.  Second place went to Yarin Gal (Yarin Gal), a graduate student in machine learning, for his extrapolation of Van Gogh's Starry Night picture, which is shown in the image above.  You can view this and similar “enhanced” computer images on the Yarin website <a href="http://extrapolated-art.com/">Extrapolated Art</a> .  The creation of these artificial paintings used an extrapolation sketching algorithm called PatchMatch, and in this post I will tell you how you can create a similar effect using the <a href="http://www.wolfram.com/language">Wolfram Language</a> ( <i>Mathematica</i> ) language. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The term “digital inpainting” was first introduced in the article “ <a href="http://www.dtic.upf.edu/~mbertalmio/bertalmi.pdf">Image Inpainting</a> ” at the SIGGRAPH 2000 conference. The main purpose of “sketching” is to restore damaged parts of images.  However, this algorithm is also widely used to delete or move selected objects in images. <br><br>  The Wolfram Language has a built-in function <a href="http://reference.wolfram.com/language/ref/Inpaint.html%3Fq%3DInpaint">Inpaint</a> , which implements this algorithm.  The region to be “drawn” (retouched) can be given in the form of an image, a set of graphic primitives (vector graphics) or a matrix. <br><br>  <b>In [1]: =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_2.gif" height="172" src="https://habrastorage.org/getpro/habr/post_images/c03/ccb/1d6/c03ccb1d65c659e5b753e6e89551cc9d.gif" width="466"><br><br>  <b>Out [1] =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_3.gif" height="170" src="https://habrastorage.org/getpro/habr/post_images/3f8/353/957/3f83539576b56a3fd6349d2ac4d8c575.gif" width="178"><br><br>  The Inpaint function can work with 5 algorithms, while you can specify a specific algorithm using the <a href="http://reference.wolfram.com/language/ref/Method.html">Method</a> option, this is: “Diffusion,” “TotalVariation,” “FastMarching,” “NavierStokes,” and “TextureSynthesis” (default).  “TextureSynthesis”, unlike other algorithms, does not operate separately with each color channel and does not create any new pixel color values.  In other words, each pixel involved in “sketching” is taken from parts of the original image that have mask zero values ​​(that is, in other words, are black mask pixels).  The example below clearly shows that the TextureSynthesis method is great for removing large objects from an image. <br><br>  <b>In [2]: =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_4.gif" height="152" src="https://habrastorage.org/getpro/habr/post_images/600/fa9/b93/600fa9b93378f406de3c7a66be52e16e.gif" width="608"><br><br>  <b>Out [2] =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_5.gif" height="117" src="https://habrastorage.org/getpro/habr/post_images/91f/9ac/9af/91f9ac9af7faea4a85749cf2c0ff5e88.gif" width="386"><br><br>  The “ <a href="http://www.logarithmic.net/pfh-files/thesis/dissertation.pdf">Texture</a> Synthesis” method is based on the algorithm described in the thesis “ <a href="http://www.logarithmic.net/pfh-files/thesis/dissertation.pdf">Image Texture Tools</a> ” (P. Harrison).  This algorithm is an improvement of the best-fit method, which was proposed in 1981 in the doctoral thesis “ <a href="http://dl.acm.org/citation.cfm%3Fid%3D910609">Computational Models for Texture Analysis and Texture Synthesis</a> ” (D. Garber).  The parameters of the “TextureSynthesis” algorithm can be specified using two suboptions: “NeighborCount” (default, 30) and “MaxSamples” (default, 300).  The first parameter determines the number of nearby pixels that will be used in texture comparison, the second one sets the maximum sample size for the best texture selection. <br><br>  Let's go back to the extrapolation of the Van Gogh paintings.  To begin with, we import its image and remove the frame. <br><br>  <b>In [3]: =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_6.gif" height="65" src="https://habrastorage.org/getpro/habr/post_images/404/964/549/4049645498ade6b050e5329f7ec508c1.gif" width="431"><br><br>  <b>Out [4] =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_7.gif" height="230" src="https://habrastorage.org/getpro/habr/post_images/21b/4c0/d7b/21b4c0d7b0e13d3f5eb8f6be73f6288e.gif" width="293"><br><br>  Now we need to expand the image field by adding a white field to it, and also create a mask for “sketching”. <br><br>  <b>In [5]: =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_8.gif" height="180" src="https://habrastorage.org/getpro/habr/post_images/4c9/08d/b1a/4c908db1abd61f0e36f819722b530b6d.gif" width="562"><br><br>  <b>Out [8] =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_9.gif" height="150" src="https://habrastorage.org/getpro/habr/post_images/395/6b1/f48/3956b1f486a68cde115b04676f69fc30.gif" width="387"><br><br>  Now we can extrapolate the image using the “TextureSynthesis” method. <br><br>  <b>In [9]: =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_11.png" height="88" src="https://habrastorage.org/getpro/habr/post_images/43c/576/899/43c576899d8bffcd9dcceb44e1fa915d.png" width="570"><br><br>  <b>Out [9] =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_12.gif" height="459" src="https://habrastorage.org/getpro/habr/post_images/462/686/b93/462686b93a228eaf37b383693527c0f2.gif" width="585"><br><br>  Not so bad.  You can get a different result by changing the values ​​of the “NeighborCount” and “MaxSamples” parameters. <br><br>  <b>In [10]: =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_13.png" height="111" src="https://habrastorage.org/getpro/habr/post_images/aa2/91a/4f6/aa291a4f6b4af3458ea091c484f9e804.png" width="524"><br><br>  <b>Out [10] =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_14.gif" height="459" src="https://habrastorage.org/getpro/habr/post_images/f9c/4bb/358/f9c4bb3588404553a437ba5ea9a59311.gif" width="585"><br><br>  You can also experiment with other parameter values ​​and other artworks.  <a href="">*</a> <br><br>  <b>In [11]: =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_15.gif" height="364" src="https://habrastorage.org/getpro/habr/post_images/428/681/849/428681849153edb95c4101796a375c38.gif" width="598"><br><br>  <b>Out [16] =</b> <br><br><img alt="ExtendingVanGoghStarryNightInpainting_16.gif" height="424" src="https://habrastorage.org/getpro/habr/post_images/a02/921/dd5/a02921dd5ef6841a97daa79e7639489f.gif" width="585"><br><br>  With the help of this technique you, I think, will be able to create an original gift for the New Year.  From your personal photos or pictures you can make really interesting things.  Or, you can surprise your child by showing him an improvisation on the subject of his <a href="http://en.wikipedia.org/wiki/Child_art">drawing</a> , as was done above based on the drawing of a 14-year-old girl.  It all depends on your imagination! <br><br>  <i>Resources for learning Wolfram Language (Mathematica) in Russian: <a href="http://habrahabr.ru/post/244451">http://habrahabr.ru/post/244451</a></i> </div><p>Source: <a href="https://habr.com/ru/post/244729/">https://habr.com/ru/post/244729/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../244715/index.html">The script collapsing comments on Habré</a></li>
<li><a href="../244721/index.html">Revised Grunt Beginner's Guide</a></li>
<li><a href="../244723/index.html">Hacker's guide to neural networks. Schemes of real values. Strategy # 1: Random local search</a></li>
<li><a href="../244725/index.html">Grunt quick setup for comfortable development</a></li>
<li><a href="../244727/index.html">Why 1C is bad and why 1C programmers don’t like it so much</a></li>
<li><a href="../244731/index.html">GPS monitoring for personal use (part 2. Systems overview)</a></li>
<li><a href="../244735/index.html">Is Telegram Safe? v2</a></li>
<li><a href="../244737/index.html">rusEfi: results of 2014 and plans</a></li>
<li><a href="../244741/index.html">"Iron" vulnerability in DRAM allows you to change the contents of someone else's memory</a></li>
<li><a href="../244743/index.html">Digital Guard Key_P1: creation history and first results</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>