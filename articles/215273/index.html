<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Divide and conquer or how to make your application structured</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As the old saying goes, how many people have so many code-writing styles. In today's article, I would like to reveal all the features of the correct c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Divide and conquer or how to make your application structured</h1><div class="post__text post__text-html js-mediator-article">  As the old saying goes, how many people have so many code-writing styles.  In today's article, I would like to reveal all the features of the correct configuration of the structure of AngularJS. <br>  As in any application, we must have an entry point, the starting point from which our application will start.  For frequent, I use just the app.  In this file, which is not bad to call main.js, we will write the following code: <br><a name="habracut"></a><br><pre><code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ng</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = ng.app(<span class="hljs-string"><span class="hljs-string">'app'</span></span>, []); <span class="hljs-comment"><span class="hljs-comment">// This should be your configuration like a routeProvider or etc. return app; })(angular);</span></span></code> </pre> <br>  Also this module will include other modules in the future due to dependency injection. <br>  What a start was made and it would not be bad to determine the structure of the application.  We define certain entities of our application.  Create folders: animations, controllers, factories, directives.  In fact, now we will form the approach that is used in the Java package. <br>  So, each of the directories we created should also contain its own entry points, again called main.js.  For example, consider the directory with the controllers.  In the main.js we write the following code: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ng</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = ng.app(<span class="hljs-string"><span class="hljs-string">'app.controllers'</span></span>, []); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> app; })(angular);</code> </pre><br>  As you can see, this module will be responsible for the implementation of controllers, which we will announce below.  Now we can also include this module in the dependencies of the main module, which will look like <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ng</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = ng.app(<span class="hljs-string"><span class="hljs-string">'app'</span></span>, [<span class="hljs-string"><span class="hljs-string">'app.controllers'</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// This should be your configuration like a routeProvider or etc. return app; })(angular);</span></span></code> </pre><br>  Now we describe a pair of controllers for our application to show how we can use.  There are certain agreements with the name of the controllers, namely in the style of camel-case as a class.  Let's create a file in the controllers MainCtrl.js directory, which will contain our controller logic.  Its contents will be something like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ng</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = ng.app(<span class="hljs-string"><span class="hljs-string">'app.controllers.MainCtrl'</span></span>, []); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MainCtrl = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$scope</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> localScope = { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Message'</span></span>, <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>] }; ng.extend($scope, localScope); }; app.controller(<span class="hljs-string"><span class="hljs-string">'MainCtrl'</span></span>, [<span class="hljs-string"><span class="hljs-string">'$scope'</span></span>, MainCtrl]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> app; })(angular);</code> </pre><br>  Let's look at why this approach has the right to life.  As before, we have declared a module that will be embedded in the dependencies of the main module of the controllers.  The controller code itself is a separate function.  After that, it is included as a controller and a full record of the controller declaration is used so that it is not broken after minimization and obfuscation.  As you can see, a local variable is created in our controller as localScope.  What is it done for?  With a small number of variables in $ scope this is not particularly noticeable, but when there are a lot of them, the code becomes a bit unreadable and therefore I just took the technique of expanding the main $ scope through the angularjs extend method.  As for me, this method is beautiful, concise and quite readable.  We will also add our controller in dependence of our main module for controllers.  Its code will be: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ng</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = ng.app(<span class="hljs-string"><span class="hljs-string">'app.controllers'</span></span>, [<span class="hljs-string"><span class="hljs-string">'app.controllers.MainCtrl'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> app; })(angular);</code> </pre><br>  By this principle, we will build other dependencies for directives, factories, and so on.  As for me, this approach gives a complete understanding of your application, its structure becomes immediately visible and very easy to upgrade by adding new controllers, services, directives, and so on. <br><br>  In conclusion, I would like to talk a little about the controllers, or rather, about the new syntax ‚Äúas‚Äù <br>  If we do not want our variables or some functions to be observable.  So we can fully use this approach: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ng</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = ng.app(<span class="hljs-string"><span class="hljs-string">'app.controllers.MainCtrl'</span></span>, []); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MainCtrl = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$scope, $log</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> localScope = { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Message'</span></span>, <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>] }; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nonObservableVar = { <span class="hljs-attr"><span class="hljs-attr">one</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">two</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.logger = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function">) </span></span>{ $log.info(obj); }; ng.extend($scope, localScope); }; app.controller(<span class="hljs-string"><span class="hljs-string">'MainCtrl'</span></span>, [<span class="hljs-string"><span class="hljs-string">'$scope'</span></span>, <span class="hljs-string"><span class="hljs-string">'$log'</span></span>, MainCtrl]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> app; })(angular);</code> </pre><br>  And in our view use this code: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-controller</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MainCtrl as main"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main.logger('Test for a one value')"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ main.nonObservableVar.one }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main.logger('Test for a two value')"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ main.nonObservableVar.two }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  What does this give us?  Well, one of the advantages is that there are no angular watchers here.  This speeds up our application, also allows nested controllers to use the context of parental controllers, which makes it possible to build our application more flexibly.  This method is very easy to use.  As before, we can also mix controller variables with $ scope variables so that we can use $ watch, $ apply, etc. <br><br>  If interested, I will continue to write about angular and how to build beautiful and structured applications on it.  In terms of writing an article about the use of angularjs with requirejs and beautiful features requirejs - packages. <br><br>  Leave your comments in the comments. <br><br>  PS: I wrote this post so that your application can be easily maintained in the future, so that those who will modify your application understand what and how you have there =) </div><p>Source: <a href="https://habr.com/ru/post/215273/">https://habr.com/ru/post/215273/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215257/index.html">Vera Hospice Foundation launched its own mobile application</a></li>
<li><a href="../215259/index.html">Telecom operators and providers of Ukraine. Some statistics</a></li>
<li><a href="../215265/index.html">IOS 7.1 update with CarPlay</a></li>
<li><a href="../215267/index.html">Optimizing Gruntfile</a></li>
<li><a href="../215269/index.html">The history of game consoles in advertising. Part 3</a></li>
<li><a href="../215275/index.html">1000+ hours of Java video in Russian</a></li>
<li><a href="../215281/index.html">TeleGeography Underwater Internet Map 2014</a></li>
<li><a href="../215283/index.html">The logic of thinking. Part 9. Patterns of neuron detectors. Reverse projection</a></li>
<li><a href="../215285/index.html">Online City Design Course with Video Games, Board Games and Movies</a></li>
<li><a href="../215287/index.html">The logic of thinking. Part 10. Spatial self-organization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>