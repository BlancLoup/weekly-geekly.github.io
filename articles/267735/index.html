<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android Data Binding in RecyclerView</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Google IO 2015 announced a new library Data Binding Library. Its main task is to render the interaction between the model and the View into xml-fil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android Data Binding in RecyclerView</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ac6/364/b41/ac6364b41862460ab3b24dfe92e5e33e.png"><br><br>  On Google IO 2015 announced a new library Data Binding Library.  Its main task is to render the interaction between the model and the View into xml-files.  It greatly simplifies writing code and eliminates the need to use the methods findByViewId (), adding references to the view-elements inside the Activity / Fragment.  It also allows you to use custom attributes, binding them to static methods.  Since the article is just enough for Data Binding, but for its use in the RecycleView just a little, let's fill this gap. <br><a name="habracut"></a><br><h5>  <b>Customization</b> </h5><br>  To get started, go to the file build.gradle, which lies in the root directory of the project.  In the block dependencies expose: <br><br><pre><code class="java hljs">buildscript { repositories { jcenter() } dependencies { classpath <span class="hljs-string"><span class="hljs-string">"com.android.tools.build:gradle:1.3.0"</span></span> classpath <span class="hljs-string"><span class="hljs-string">"com.android.databinding:dataBinder:1.0-rc1"</span></span> } } allprojects { repositories { jcenter() } }</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Next, connect the Data Binding plugin to the project.  To do this, add a line with the plugin to build.gradle.  We also check that compileSdkVersion is 23. <br><br><pre> <code class="java hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">'com.android.application'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'com.android.databinding'</span></span></code> </pre><br><br><h5>  <b>Binding</b> </h5><br>  Let's proceed to the creation of the xml-file.  As usual, it is created in the res / layoyt package.  We use layout as the root tag.  Android Studio may highlight it in red or offer to set the width and height, but we ignore it. <br><br><pre> <code class="java hljs">&lt;layout xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> xmlns:app=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span>&gt; &lt;data&gt; &lt;/data&gt; &lt;!--    layout --&gt; &lt;/layout&gt;</code> </pre><br><br>  To create a Binder class, which will bind the model to the view, you need to bind xml to the model.  To do this, inside the tag specify the name and path to our model.  As an example, a list of movies will be displayed. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Movie</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isWatched; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String image; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String description; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String title; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Movie</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isWatched, String image, String description, String title)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isWatched = isWatched; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.image = image; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.description = description; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.title = title; } }</code> </pre><br><br><pre> <code class="java hljs">&lt;layout xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> xmlns:app=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span>&gt; &lt;data&gt; &lt;variable name=<span class="hljs-string"><span class="hljs-string">"movie"</span></span> type=<span class="hljs-string"><span class="hljs-string">"com.example.databinding.Movie"</span></span> /&gt; &lt;/data&gt; &lt;!--    layout --&gt; &lt;/layout&gt;</code> </pre><br><br>  It remains to add your layout and attach a model to it.  Let each movie have a picture, a title and a short description.  To indicate that the field will be read from the model, use ‚Äú@ {* which field from the model to use *}‚Äù. <br><br><pre> <code class="java hljs">&lt;?xml version=<span class="hljs-string"><span class="hljs-string">"1.0"</span></span> encoding=<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>?&gt; &lt;layout xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> xmlns:app=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span>&gt; &lt;data&gt; &lt;variable name=<span class="hljs-string"><span class="hljs-string">"movie"</span></span> type=<span class="hljs-string"><span class="hljs-string">"com.example.databinding.Movie"</span></span> /&gt; &lt;/data&gt; &lt;android.support.v7.widget.CardView android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:orientation=<span class="hljs-string"><span class="hljs-string">"vertical"</span></span> android:layout_margin=<span class="hljs-string"><span class="hljs-string">"8dp"</span></span>&gt; &lt;RelativeLayout android:id=<span class="hljs-string"><span class="hljs-string">"@+id/relativeLayout"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span>&gt; &lt;ImageView android:id=<span class="hljs-string"><span class="hljs-string">"@+id/imageView"</span></span> ... app:imageUrl=<span class="hljs-string"><span class="hljs-string">"@{movie.image}"</span></span>/&gt; &lt;TextView android:id=<span class="hljs-string"><span class="hljs-string">"@+id/textView"</span></span> ... android:text=<span class="hljs-string"><span class="hljs-string">"@{movie.title}"</span></span> android:textAppearance=<span class="hljs-string"><span class="hljs-string">"?android:attr/textAppearanceLarge"</span></span> /&gt; &lt;TextView android:id=<span class="hljs-string"><span class="hljs-string">"@+id/textView2"</span></span> ... android:text=<span class="hljs-string"><span class="hljs-string">"@{movie.description}"</span></span> android:textAppearance=<span class="hljs-string"><span class="hljs-string">"?android:attr/textAppearanceSmall"</span></span> /&gt; &lt;/RelativeLayout&gt; &lt;/android.support.v7.widget.CardView&gt; &lt;/layout&gt;</code> </pre><br><br>  With android: text = "@ {movie.title}" and android: text = "@ {movie.description}" everything is clear - the corresponding field will be shown as text, but what about the app: imageUrl = "@ movie .image} "?  This is where the real Data Binding magic begins.  You can add as many custom attributes as you like and not even write them in atts.xml, and the @BindingAdapter () annotation will help you process them.  The following will show how to handle such annotations. <br><br>  Let's go to the adapter.  Let's write a simple RecyclerView.Adapter.  Let's start with the ViewHolder.  What he looked like before: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MovieItemViewHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TextView title, description; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ImageView image; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(v); title = (TextView) v.findViewById(R.id.textView); description = (TextView) v.findViewById(R.id.textView2); image = (ImageView) v.findViewById(R.id.imageView); } }</code> </pre><br><br>  What he looked like after the Butter Knife: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MovieItemViewHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bind</span></span>(R.id.textView) TextView title; <span class="hljs-meta"><span class="hljs-meta">@Bind</span></span>(R.id.textView2) TextView description; <span class="hljs-meta"><span class="hljs-meta">@Bind</span></span>(R.id.imageView) ImageView image; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(v); ButterKnife.bind(v); } }</code> </pre><br><br>  How it looks after databinding: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MovieItemViewHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span></span>{ MovieItemBinding binding; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MovieItemViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(v); binding = DataBindingUtil.bind(v); } }</code> </pre><br><br>  Next, we are interested in two main adapter methods: onCreateViewHolder and onBindViewHolder.  MovieItemBinding will be engaged in creation and bindigom.  It is generated by the name xml, which we wrote above.  In this case, the xml file was called movie_item.xml. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> MovieItemViewHolder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ViewGroup parent, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> viewType)</span></span></span><span class="hljs-function"> </span></span>{ LayoutInflater inflater = LayoutInflater.from(parent.getContext()); MovieItemBinding binding = MovieItemBinding.inflate(inflater, parent, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MovieItemViewHolder(binding.getRoot()); }</code> </pre><br><br>  We now turn to onBindViewHolder, as it looked before: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MovieItemViewHolder holder, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ Movie movie = Movie.ITEMS[position]; holder.title.setText(movie.title); holder.description.setText(movie.description); Picasso.with(holder.image.getContext()).load(movie.image).into(holder.image); }</code> </pre><br><br>  How it looks now: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MovieItemViewHolder holder, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ Movie movie = Movie.ITEMS[position]; holder.binding.setMovie(movie); }</code> </pre><br><br>  But this is not all, what about the custom app: imageUrl = "@ {movie.image}"? .. Again, everything is simple: inside the adapter we make a static method annotated with @BindingAdapter.  Inside the annotation we pass our attribute.  As a result, we get <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindingAdapter</span></span>(<span class="hljs-string"><span class="hljs-string">"bind:imageUrl"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadImage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ImageView imageView, String v)</span></span></span><span class="hljs-function"> </span></span>{ Picasso.with(imageView.getContext()).load(v).into(imageView); }</code> </pre><br><br>  ImageView will come to the input and what will transfer the model as an image.  Now everything will work. <br><br><h5>  <b>The rest of the utility</b> </h5><br>  In the Movie model, the variable wasWatched.  Suppose we want the new and watched movies to have different handlers per click.  With DataBinding, this is now easier than ever.  Let's write a click handler for the movie. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MovieClickHandler</span></span></span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNewClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onWatchedClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span></span>; }</code> </pre><br><br>  Add it to the xml file in the data tag. <br><br><pre> <code class="java hljs">... &lt;data&gt; ... &lt;variable name=<span class="hljs-string"><span class="hljs-string">"click"</span></span> type=<span class="hljs-string"><span class="hljs-string">"com.example.databinding.MovieClickHandler"</span></span> /&gt; &lt;/data&gt; ... &lt;ImageView ... android:onClick=<span class="hljs-string"><span class="hljs-string">"@{movie.isWatched ? click.onWatchedClick : click.onNewClick}"</span></span>/&gt; ...</code> </pre><br><br>  Now on the adapter's onBindViewHolder method you can see our tweeter.  As in the case with a binder, the method name is generated by the appropriate name of the variable in the xml file. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MovieItemViewHolder holder, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ Movie movie = Movie.ITEMS[position]; holder.binding.setMovie(movie); holder.binding.setClick(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MovieClickHandler() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onWatchedClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onOldClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ } }); }</code> </pre><br><br>  Let on loading the picture at the watched films will be black-and-white.  To convert a picture, add a new attribute. <br><br><pre> <code class="java hljs">&lt;ImageView ... app:filter=<span class="hljs-string"><span class="hljs-string">'@{movie.isWatched ? "grey" : null}'</span></span> .../&gt;</code> </pre><br><br>  In the adapter through @BindingAdapter we implement processing <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindingAdapter</span></span>(<span class="hljs-string"><span class="hljs-string">"bind:filter"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">applyFilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ImageView imageView, String v)</span></span></span><span class="hljs-function"> </span></span>{ imageView.setColorFilter(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-string"><span class="hljs-string">"grey"</span></span>.equals(v)){ ColorMatrix matrix = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ColorMatrix(); matrix.setSaturation(<span class="hljs-number"><span class="hljs-number">0</span></span>); ColorMatrixColorFilter cf = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ColorMatrixColorFilter(matrix); imageView.setColorFilter(cf); } }</code> </pre><br><br>  It is also very convenient to use stub values ‚Äã‚Äãif one of the fields is empty. <br><br><pre> <code class="java hljs">&lt;TextView ... android:text=<span class="hljs-string"><span class="hljs-string">'@{movie.title ?? "unknown"}'</span></span> ... /&gt;</code> </pre><br><br>  It is also worth noting that the MovieItemBinding contains links to all the views that have an ID in the xml file. <br><br><img src="https://habrastorage.org/files/939/7f6/809/9397f6809f7f490e96de7e76f6d5fd50.png"><br><br><h5>  <b>Total</b> </h5><br>  The library greatly simplifies working with RecycleView, the amount of code when writing is now reduced by several times, with no if / else for callbacks and data.  With JavaRX, you can further simplify data updates, while the truth is that it works only in one direction: when you change data, the UI is updated, but not vice versa. <br><br>  <b>Useful links</b> : <br><br>  <a href="https://github.com/HellCat24/DataBindingInRecycle">Test project.</a> <br>  <a href="https://developer.android.com/tools/data-binding/guide.html">Official documentation.</a> <br>  <a href="http://habrahabr.ru/post/260317/">Quick start Data Binding in Android.</a> </div><p>Source: <a href="https://habr.com/ru/post/267735/">https://habr.com/ru/post/267735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267725/index.html">Card Design: How and Why</a></li>
<li><a href="../267727/index.html">PHP: programming culture</a></li>
<li><a href="../267729/index.html">Game client download tracking system. Part 2</a></li>
<li><a href="../267731/index.html">13 basic principles of game design. Direction and behavior</a></li>
<li><a href="../267733/index.html">Greenplum db</a></li>
<li><a href="../267737/index.html">ICQuery is a fictional program that communicates with the user and performs tasks described in the natural language of communication.</a></li>
<li><a href="../267743/index.html">Planning resources for Veeam Backup & Replication 8.0: calculating the required place in the repository</a></li>
<li><a href="../267745/index.html">Facebook introduces encryption for Internet.org</a></li>
<li><a href="../267747/index.html">What we should build a plant: EMC solutions for industrial facilities</a></li>
<li><a href="../267749/index.html">Transformation approach Zachman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>