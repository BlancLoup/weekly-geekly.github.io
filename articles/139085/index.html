<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Random Sequence Analysis Using Simple Graphic Tests</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="annotation 
 This article contains a description of the method of graphical testing of random sequences that meet the criteria for truly random sequen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Random Sequence Analysis Using Simple Graphic Tests</h1><div class="post__text post__text-html js-mediator-article"><h4>  annotation </h4><br>  This article contains a description of the method of graphical testing of random sequences that meet the criteria for truly random sequences.  The article provides an overview of the Approximate Entropy method included in the NIST testing package, and a comparative analysis of the sequences obtained using the PRNG described in the <a href="http://habrahabr.ru/users/ocelot/" class="user_link">Ocelot</a> article <a href="http://habrahabr.ru/blogs/controllers/121849/">Generating random numbers on microcontrollers</a> . <br><a name="habracut"></a><br><h4>  Test "Approximate entropy" </h4><br><br>  The calculation of ‚ÄúApproximate Entropy‚Äù (Approximate Entropy) is one of the tests included in the NIST test suite. <br><br>  This test consists in counting the frequency of all possible overlaps of patterns of length m bits during the initial sequence of bits.  The purpose of the test is to compare the overlapping frequencies of two consecutive blocks of the original sequence with the lengths m and m + 1 with the frequencies of overlapping of similar blocks in a completely random sequence.  The probability value p calculated during the test must be at least 0.01.  Otherwise (p &lt;0.01), the binary sequence is not completely arbitrary. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ApEn (m), where n is the length in bits of the incoming sequence;  m is the length in bits of the initial block for testing;  Œµ - bit sequence <br><br><h6>  Step 1 </h6><br>  Complete the n-bit sequence to get exactly n overlaps with the m-bit sequence.  To do this, add m-1 bit from the beginning of the sequence to its end. <br><br>  For example: Œµ = 0100110101 and m = 3, then n = 10. Add 0 and 1 to the beginning of the sequence and to the end of the sequence.  (This is done for each value of m). <br>  The test sequence is 010011010101. <br><br><h6>  Step 2 </h6><br>  The frequency is calculated for n overlapping blocks (for example: if a block containing Œµ <sub>j</sub> and Œµ <sub>j + m-1 is</sub> calculated in position j, then a block containing Œµ <sub>j + 1</sub> and Œµ <sub>j + m is</sub> calculated in position j + 1). <br><br>  Let the number of possible m-bit ((m + 1) -bit) values ‚Äã‚Äãbe represented as C <sub>m</sub> <sup>i</sup> , where i is the m-bit value. <br><br>  For the test sequence obtained in step 1, the overlapping m-bit blocks (with m = 3) will be 010, 100, 001, 011, 110, 101, 010, 101, 010, and 101. The number of occurrences is 2 <sup>m</sup> = 2 <sup>3</sup> = 8 m-bit sequences: <br>  # 000 = 0, # 001 = 1, # 010 = 3, # 011 = 1, # 100 = 1, # 101 = 3, # 110 = 1, # 111 = 0 <br><br><h6>  Step 3 </h6><br>  We calculate C <sub>m</sub> <sup>i</sup> for each value of i. <br>  C <sup>3</sup> <sub>000</sub> = 0, C <sup>3</sup> <sub>001</sub> = 0.1, C <sup>3</sup> <sub>010</sub> = 0.3, C <sup>3</sup> <sub>011</sub> = 0.1, C <sup>3</sup> <sub>100</sub> = 0.1, C <sup>3</sup> <sub>101</sub> = 0.3, C <sup>3</sup> <sub>110</sub> = 0.1, C <sup>3</sup> <sub>111</sub> = 0. <br><br><h6>  Step 4 </h6><br>  Perform the calculation <br><img src="https://habrastorage.org/storage2/442/866/76a/44286676a236537969a5ae54d7335eb1.jpg">  where <br>  œÄ <sub>i</sub> = C <sup>3</sup> <sub>j</sub> , and j = log <sub>2</sub> i <br>  For the current example: œï <sup>(3)</sup> = 0 (log 0) + 0.1 (log 0.1) + 0.3 (log 0.3) + 0.1 (log 0.1) + <br>  0.1 (log 0.1) + 0.3 (log 0.3) + 0.1 (log 0.1) + 0 (log 0) = -1.64341772. <br><br><h6>  Step 5 </h6><br>  Repeat steps 1-4 for m = m + 1 <br><br><h6>  Step 6 </h6><br>  We get the value ApEn (m) = œÜ <sup>(m)</sup> -œÜ <sup>(m + 1)</sup> <br><br>  For the current example, ApEn (3) = -1.643418 - (-1.834372) = 0.190954 <br><br><h4>  Incoming values </h4><br>  You must choose the values ‚Äã‚Äãof n and m such that: m &lt;log <sub>2</sub> n-5 <br><br><h4>  Plotting </h4><br>  To obtain graphs, a series of tests were carried out for calculating ApEn with m = 2.  The value of n varied in the range from 0 to 1,000,000 in increments of 100. A series of tests were also carried out in increments of 1. The results obtained in increments of 1 and increments of 100 did not have significant differences, therefore testing was performed in increments of 100. The approximate calculation time for one sequence is 1,000,000 bits takes about 7 minutes on an Intel Core i3 U380 1.33 GHz in one stream, and about 6:30 minutes in 16 streams.  To display the graphs, a logarithmic Y scale is used, and the results are presented as deviations from the normal distribution.  The calculation principle is described in the article STEVEN M. PINCUS <a href="http://www.pnas.org/content/88/6/2297.full.pdf">Approximate entropy as a measure of system complexity</a> <br><br><h4>  Graphical presentation of results </h4><br><br><h5>  1. Source of entropy on asynchronous timers </h5><br>  Timer 1 - watchdog, clocking from RC generator, period T1 = 15 ms. <br>  Timer 2 - 8 bit, clocking from the crystal oscillator, clock frequency F = 16.0 MHz. <br><br>  rand_async_1_1M - 1 low bit of counter 2 was used as a result. The generation rate is 120 bps <br>  rand_async_4_1M - 4 low bits of counter 2 were used as a result. The generation rate is 280 bps <br>  rand_async_8_1M - all 8 bits of counter 2 were used as a result. The generation rate is 450 bps <br> <a href="https://picasaweb.google.com/lh/photo/b09OtrRoC4ZGv1ft0hFaO7q3tIZNz2x7VLaD8aDagfA%3Ffeat%3Ddirectlink"><img src="https://habrastorage.org/storage2/bce/711/7b9/bce7117b9bd4fe05afb10853afbc0b45.jpg"></a> <br><br><h5>  2. Source of entropy with RC circuit </h5><br>  RC time constant = 5 ms.  The clock frequency of the counter is F = 16.0 MHz. <br>  rand_rc_1_1M - 1 least significant bit of the counter was used as a result.  Generation rate 370 bps <br>  rand_rc_4_1M - 4 low bits of the counter are used as a result.  Generation rate 1500 bps <br>  rand_rc_8_1M - all 8 bits of the counter are used as the result.  The generation rate of 2870 bps <br> <a href="https://picasaweb.google.com/lh/photo/3DdO39DWnCSjMSXZcTR1pLq3tIZNz2x7VLaD8aDagfA%3Ffeat%3Ddirectlink"><img src="https://habrastorage.org/storage2/6f9/d2c/db9/6f9d2cdb9cd9c64e19c26604934ec3e2.jpg"></a> <br><br><h5>  3. Source of entropy on ADC </h5><br>  The measured voltage is VDD = 3.3 V (non-stabilized), the reference voltage is VCC = 5.0 V. The bit width of the ADC is 10 bits, the conversion frequency is 125 kHz. <br>  rand_adc_1_1M - 1 least significant bit of the ADC result was used as a result.  The generation rate of 8.93 kbps <br>  rand_adc_2_1M - 2 low-order bits of the ADC result were used as the result.  Generation rate of 17.9 kbps <br>  rand_adc_4_1M - 4 low-order bits of the ADC result were used as a result.  The generation rate is 29.5 kbps <br> <a href="https://picasaweb.google.com/lh/photo/jUUxiyv-2LulFvwAD8hKPrq3tIZNz2x7VLaD8aDagfA%3Ffeat%3Ddirectlink"><img src="https://habrastorage.org/storage2/bec/427/0e1/bec4270e181a39c3f3a48fa786a5c401.jpg"></a> <br><br><h4>  Conclusion </h4><br>  Looking at the graphical presentation of the results, we can conclude that the quality of random sequences obtained using microcontrollers is several orders of magnitude smaller than random sequences from the <a href="http://www.stat.fsu.edu/pub/diehard/">DIEHARD</a> set and from the sequence obtained when extracting the square root from the number "2". <br><br>  The use of random sequences obtained in modern cryptography is very dangerous, which is also confirmed by the results of the NIST and DIEHARD tests.  A further stage of the study will be the use of undistributed statistical tests to identify truly random sequences. </div><p>Source: <a href="https://habr.com/ru/post/139085/">https://habr.com/ru/post/139085/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139077/index.html">How fraudsters offer "easy money" in RuNet (VIDEO)</a></li>
<li><a href="../139079/index.html">An iOS application can access device photos without notifying a user.</a></li>
<li><a href="../139082/index.html">Total "Gadzhetizatsiya" population</a></li>
<li><a href="../139083/index.html">Testing free Wi-Fi in the Moscow metro</a></li>
<li><a href="../139084/index.html">Preview Parallels Plesk 11: step into the "cloud"</a></li>
<li><a href="../139088/index.html">Live Webcast of the Red Hat Enterprise Linux 6 Review Seminar</a></li>
<li><a href="../139089/index.html">Happy Overclocker! @ 29</a></li>
<li><a href="../139090/index.html">TPB: No more .torrents - Tracker completely switched to magnet links</a></li>
<li><a href="../139091/index.html">Application guide: what to choose</a></li>
<li><a href="../139093/index.html">Creating spring beans from regular classes and unit tests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>