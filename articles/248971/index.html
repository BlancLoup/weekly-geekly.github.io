<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Static analysis of PHP code on the example of symfony2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="annotation 
 The need for static analysis in large projects has already been written more than once and, mainly, with a focus on strongly typed langua...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Static analysis of PHP code on the example of symfony2</h1><div class="post__text post__text-html js-mediator-article"><h2>  annotation </h2><br>  The need for static analysis in large projects has already been written more than once and, mainly, with a focus on strongly typed languages, for example, <a href="http://habrahabr.ru/company/intel/blog/103776/">here</a> and <a href="http://habrahabr.ru/post/135234/">here</a> . <br><br>  With PHP, the situation is more complicated: we <a href="http://habrahabr.ru/post/145683/">have already written</a> about static analysis of PHP code, but in general the tools are much poorer here, and the dynamic nature of the language makes the development and testing process more complicated.  For comparison, in the same Java project compilation itself helps to find errors, and in PHP the typing is weak, so even tests can skip errors. <br><a name="habracut"></a><br>  In our company, we partially solved this problem by including static analysis and strong typing in the process of developing and verifying changes.  After that, I wanted to see what was happening in other projects. <br><br><h2>  Instruments </h2><br>  I‚Äôll skip well-known utilities ( <a href="http://phpmd.org/">PHP Mess Detector</a> , <a href="https://github.com/sebastianbergmann/phpcpd">PHP Copy / Paste Detector</a> , <a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP CodeSniffer</a> , <a href="https://scrutinizer-ci.com/docs/tools/php/php-analyzer/">PHP Analyzer</a> , <a href="https://github.com/facebook/pfff">Pfff</a> ) - we used them at a certain stage, but the results were not worth the effort, so we‚Äôll go straight to the smart tools that will bring benefit almost immediately. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Theoretically, we could use <a href="https://insight.sensiolabs.com/">SensioLabs Insight</a> , but corporate rules do not allow giving the code to a third party.  Thus, our basic requirement returned to the classical integration of static analysis in the IDE.  In our case, this is PhpStorm (you can put a trial version for 30 days if you want to check your project).  By default, a good set of static analysis rules is available, but this, frankly, is not enough for enterprise-level products, so we put the <a href="https://plugins.jetbrains.com/plugin/7622%3Fpr%3DphpStorm">Php Inspections</a> extension <a href="https://plugins.jetbrains.com/plugin/7622%3Fpr%3DphpStorm">(EA Extended)</a> .  This extension is the main tool of our analysis, and all subsequent examples are to them. <br><br><h2>  What is symfony2 </h2><br>  <a href="http://symfony.com/">Symfony</a> is a opensource framework written in PHP5 ( <a href="http://fabien.potencier.org/article/49/what-is-symfony2">more on architecture</a> ).  Version 2.7 was selected for review. <br><br><h2>  Symfony2 code analysis </h2><br>  To analyze the code, we take only the kernel components that are in the src / Symfony / Component folder. <br><br>  Our analysis found 6924 problems of varying degrees of severity and different categories (the extension contains about 40 inspections, but not all of them found problems). <br>  For comparison, in version 2.3, there were 5727 problems (20% less), although this could be either new components or new tests. <br><br><h2>  Debriefing </h2><br>  It makes no sense to consider all cases, and there will be false positives, therefore, we will consider only a few interesting code fragments (in relation to the type of problem). <br><br><h4>  Problem Type - Architecture: class re-implements interface of a superclass </h4><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Translation</span></span>\<span class="hljs-title"><span class="hljs-title">Loader</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   class MoFileLoader extends ArrayLoader implements LoaderInterface { ... } //   class ArrayLoader implements LoaderInterface { ... }</span></span></code> </pre> <br>  It is not clear: either the interface was added to the parent class later, or the developers simply overlooked the inheritance of classes, but re-inheriting the interface in the child class does not make sense. <br><br><h4>  Problem Type - Architecture: class overrides a field of superclass </h4><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Translation</span></span>\<span class="hljs-title"><span class="hljs-title">Dumper</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IcuResFileDumper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FileDumper</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-comment"><span class="hljs-comment">//   protected $relativePathTemplate = '%domain%/%locale%.%extension%'; ... } //   abstract class FileDumper implements DumperInterface { protected $relativePathTemplate = '%domain%.%locale%.%extension%'; ... }</span></span></code> </pre><br>  It was necessary to override the default value, which we see. <br><br>  The problem is that the attribute is duplicated in the child area, although initially it is an attribute of the parent class.  It should be implemented like this: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Translation</span></span>\<span class="hljs-title"><span class="hljs-title">MessageCatalogue</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IcuResFileDumper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FileDumper</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;relativePathTemplate = <span class="hljs-string"><span class="hljs-string">'%domain%/%locale%.%extension%'</span></span>; } ... }</code> </pre><br><br><h4>  Problem Type - Probable bugs: missing parent constructor / clone call </h4><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">HttpFoundation</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FileBag</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ParameterBag</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-comment"><span class="hljs-comment">//   public function __construct(array $parameters = array()) { $this-&gt;replace($parameters); } ... public function replace(array $files = array()) { $this-&gt;parameters = array(); $this-&gt;add($files); } ... } //   class ParameterBag implements \IteratorAggregate, \Countable { ... public function __construct(array $parameters = array()) { $this-&gt;parameters = $parameters; } ... }</span></span></code> </pre><br>  In OOP, calling the parent constructor / destructor is a common practice.  In this case, it seems that the developers simply overlooked the code.  It should be implemented like this: <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FileBag</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ParameterBag</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $parameters = array</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">()</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;add($files); } ... }</code> </pre><br><br><h4>  Problem Type - Control flow: loop which does not loop </h4><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Templating</span></span>\<span class="hljs-title"><span class="hljs-title">Loader</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChainLoader</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Loader</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isFresh</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TemplateReferenceInterface $template, $time)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;loaders <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $loader) { <span class="hljs-comment"><span class="hljs-comment">//   return $loader-&gt;isFresh($template, $time); } return false; } ... }</span></span></code> </pre><br>  It is possible that this is the desired behavior of the method, but the class name and the loop indicate rather an error ‚Äî it will always be checked only at the first iteration. <br><br><h4>  Problem Type - Control flow: ternary operator simplification </h4><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CrawlerTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PHPUnit_Framework_TestCase</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testReduce</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... $nodes = $crawler-&gt;reduce(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($node, $i)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   return $i == 1 ? false : true; }); ... } ... }</span></span></code> </pre><br>  This, of course, is not a mistake, but there is not much point in this code either. <br>  In the test fragment, the return can be simplified like ‚Äúreturn $ i! = 1;‚Äù. <br><br><h4>  Problem Type - Performance: elvis operator can be used </h4><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">HttpKernel</span></span>\<span class="hljs-title"><span class="hljs-title">DataCollector</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RequestDataCollector</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataCollector</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EventSubscriberInterface</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">collect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request $request, Response $response, \Exception $exception = null)</span></span></span><span class="hljs-function"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;data = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( ... <span class="hljs-comment"><span class="hljs-comment">//   'content_type' =&gt; $response-&gt;headers-&gt;get('Content-Type') ? $response-&gt;headers-&gt;get('Content-Type') : 'text/html', ... } ... }</span></span></code> </pre><br>  This is also not an error, but a simplification of the code, and can be rewritten as "'content_type' =&gt; $ response-&gt; headers-&gt; get ('Content-Type')?: 'Text / html'". <br>  Basically, the new Symfony2 code is already using this statement, and this piece of code has simply not been noticed yet. <br><br>  <a href="http://habrahabr.ru/users/alexpts/" class="user_link">AlexPTS</a> suggested a very simple option: <br><pre> <code class="php hljs"> $response-&gt;headers-&gt;get(<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>, <span class="hljs-string"><span class="hljs-string">'text/html'</span></span>)</code> </pre><br><br><h4>  Problem Type - Control flow: not optimal if conditions </h4><br>  This is a separate class of errors and non-optimal code.  There are quite a few variations of problems, since  conditional structures in legacy projects and after active refactoring are the headache of any architect. <br><br>  Here are a couple of examples of what this analyzer finds. <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">HttpKernel</span></span>\<span class="hljs-title"><span class="hljs-title">Profiler</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseMemcacheProfilerStorage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProfilerStorageInterface</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($ip, $url, $limit, $method, $start = null, $end = null)</span></span></span><span class="hljs-function"> </span></span>{ ... <span class="hljs-comment"><span class="hljs-comment">//   if ($ip &amp;&amp; false === strpos($itemIp, $ip) || $url &amp;&amp; false === strpos($itemUrl, $url) || $method &amp;&amp; false === strpos($itemMethod, $method)) { ... } ... } ... }</span></span></code> </pre><br>  A vivid example of how to confuse everyone at once.  In fact, the structure is as follows: <br><pre> <code class="php hljs"> ($ip &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> === strpos($itemIp, $ip)) || ($url &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> === strpos($itemUrl, $url)) || ($method &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> === strpos($itemMethod, $method))</code> </pre><br><br>  Duplicate calls to methods and functions: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Form</span></span>\<span class="hljs-title"><span class="hljs-title">Extension</span></span>\<span class="hljs-title"><span class="hljs-title">Core</span></span>\<span class="hljs-title"><span class="hljs-title">DataMapper</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PropertyPathMapper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataMapperInterface</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mapFormsToData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($forms, &amp;$data)</span></span></span><span class="hljs-function"> </span></span>{ ... <span class="hljs-comment"><span class="hljs-comment">//   if ($form-&gt;getData() instanceof \DateTime &amp;&amp; $form-&gt;getData() == $this-&gt;propertyAccessor-&gt;getValue($data, $propertyPath)) { ... } if (!is_object($data) || !$config-&gt;getByReference() || $form-&gt;getData() !== $this-&gt;propertyAccessor-&gt;getValue($data, $propertyPath)) { $this-&gt;propertyAccessor-&gt;setValue($data, $propertyPath, $form-&gt;getData()); } ... } }</span></span></code> </pre><br>  "$ form-&gt; getData ()" is called several times, although it would be more logical to save the result in a local variable. <br><br><h2>  Instead of conclusion </h2><br>  Static code analysis (including PHP code) is a powerful and useful practice, albeit costly from the standpoint of organizing the development and training of teams. <br><br>  But with daily use, this practice works very effectively: <br><ul><li>  reduces the number of errors; </li><li>  helps to objectively approach the selection of components for projects; </li><li>  evaluate the new project and understand from which side to approach it; </li><li>  tighten the level of their teams. </li></ul><br>  On the example of opensource, all these items are just as relevant as in the enterprise, just a quick glance at the problems found. <br><br>  For PHP, the situation with static analysis tools has improved significantly over the last couple of years and seems to be improving further. </div><p>Source: <a href="https://habr.com/ru/post/248971/">https://habr.com/ru/post/248971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248961/index.html">Vivaldi - what are the features of the new browser</a></li>
<li><a href="../248963/index.html">A brief course of computer graphics: we write a simplified OpenGL do it yourself, article 5 of 6</a></li>
<li><a href="../248965/index.html">Test Case Management Tool: how to make the right choice and not regret it</a></li>
<li><a href="../248967/index.html">HP 3PAR StoreServ Webinar</a></li>
<li><a href="../248969/index.html">Panoramic passive radar</a></li>
<li><a href="../248973/index.html">27 years of Arctic ice in one minute</a></li>
<li><a href="../248975/index.html">Interval repetition on LinguaLeo</a></li>
<li><a href="../248977/index.html">Results of 2014: Windows threats and exploitation</a></li>
<li><a href="../248979/index.html">OpenMP Regions Analysis with Intel¬Æ VTune ‚Ñ¢ Amplifier XE</a></li>
<li><a href="../248981/index.html">Dynamic do-it-yourself java code compilation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>