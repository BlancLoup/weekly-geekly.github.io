<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android Conquering fragmentation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When developing for Android, many newbies face difficulties arising from the huge variety of devices on which this operating system is installed. This...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android Conquering fragmentation</h1><div class="post__text post__text-html js-mediator-article">  When developing for Android, many newbies face difficulties arising from the huge variety of devices on which this operating system is installed.  This post will explain how to eliminate most of the problems associated with fragmentation of the screen resolution, performance, physical size and version of Android. <br><br><img src="https://habrastorage.org/storage2/ef7/27b/cdb/ef727bcdb8897a1cd98e1e6c62d23840.jpg"><br><br><h4>  <b>1. Tablets and phones.</b>  <b>Interface planning</b> </h4><br>  One of the main differences between devices based on Android is the physical size.  The ‚ÄúZoo of Devices‚Äù contains both tiny phones and huge ten-inch tablets.  And about this extremely important moment, many novice developers often forget. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The fundamental difference between phones and tablets is how the user keeps them: <br><br><h5>  Phones in portrait orientation </h5><br>  Usually held in one hand.  Pressing is done with the thumb of the same hand.  The finger reaches everywhere, but the lower half of the screen is intuitively convenient. <br><img src="https://habrastorage.org/storage2/2de/7c2/472/2de7c24728e0aa1c761ccebf05ad3a27.png"><img src="https://habrastorage.org/storage2/7dd/76e/4df/7dd76e4df3a418944cf697ffa7931708.jpg"><br><a name="habracut"></a><br><h5>  Phones in landscape orientation </h5><br>  Usually hold with two hands.  Pressing is done with the thumbs of both hands.  It is convenient to get controls in any part of the screen. <br><img src="https://habrastorage.org/storage2/ab4/dd7/fff/ab4dd7fff5d9631be2a0bcf35742799d.png"><img src="https://habrastorage.org/storage2/deb/b32/cd1/debb32cd1b8ee7747ac5a0ed38196ae0.jpg"><br><br><h5>  Tablets in any orientation </h5><br>  Most often, regardless of the screen orientation, they are held with two hands.  The control comes with thumbs, which cover only two arcs in the corners of the bottom half of the tablet. <br><img src="https://habrastorage.org/storage2/5ab/8f8/ded/5ab8f8dedb5473bd73d4f2806e4856de.png"><img src="https://habrastorage.org/storage2/38d/f1a/537/38df1a537189a4448ab418801e7381cb.png"><img src="https://habrastorage.org/cropped2/35c/47e/6f4/35c47e6f4c1c0258104f776d54c7c4f3.jpg"><br><br><h5>  Small tablets </h5><br>  Sometimes, if the tablet is not very big, it is held with one hand, and control is exercised by the index finger of the other hand.  Pulls out a finger everywhere, but the upper half of the screen is intuitively convenient.  It is worth considering that in this way people hold the tablet rarely. <br><img src="https://habrastorage.org/storage2/ba8/4a0/29a/ba84a029a66dc1c29faecd7539f74db6.png"><img src="https://habrastorage.org/storage2/36f/66f/a42/36f66fa422e088621cb861122684f5c1.jpg"><br><br>  That is, when designing an interface for the convenience of most users, the most important controls should be placed in the lower half of the screen closer to the edges. <br><img src="https://habrastorage.org/storage2/cde/429/cd5/cde429cd5c71058b5849221e4a9079a1.png"><img src="https://habrastorage.org/storage2/156/0ca/95a/1560ca95aaab5728ad2fad428205d313.png"><br><br><h4>  <b>2. Screen resolution.</b>  <b>Texture stretching</b> </h4><br>  This item is important mainly in the development of games, rather than normal applications ... <br><img src="https://habrastorage.org/storage2/122/c33/56c/122c3356c3e8ea0f8c6efbb97e01e7bf.png"><br>  With such a variety of resolutions, several problems arise.  Here are some of them: <br><br><h5>  Problem 1. Image clarity </h5><br>  For the graphics of your game to be good enough on any device, you have two options.  Either you draw vector graphics, or draw, and then stretch the raster.  If you chose the second path, then initially draw it for a large resolution (for example, 1024x768), because when compressing an image, the image sharpness suffers less than when it is stretched. <br><img src="https://habrastorage.org/storage2/ef7/786/a92/ef7786a924f24fc4bba15cba43c18a7a.png"><br><h5>  Problem 2. The correct location </h5><br>  Do not use any "magic numbers" in the code.  The calculation of the location of the object should be carried out after stretching the graphics.  The coordinates of the objects should depend on the coordinates and sizes of other objects.  This is especially important if you want the round to remain round and the square to square. <br>  Here is an example of determining the coordinates of a button from my next game. <br><pre><code class="java hljs">againButton.setPosition(table.getX()+table.getWidth()/<span class="hljs-number"><span class="hljs-number">2</span></span>-againButton.getWidth()/<span class="hljs-number"><span class="hljs-number">2</span></span>,table.getY()+table.getHeight()-<span class="hljs-number"><span class="hljs-number">5</span></span>*againButton.getHeight()/<span class="hljs-number"><span class="hljs-number">4</span></span>);</code> </pre> <br><br><h5>  Problem 3. Box2D physics </h5><br>  In my previous game, I used the physics engine Box2D, and during testing I discovered a bug related to the screen resolution.  In Box2D, the PixelToMeterRatio constant is used when emulating physics.  It determines how objects behave: like a box the size of a box, or like a box the size of a skyscraper.  Initially define this constant depending on the screen resolution. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/b37/201/e5f/b37201e5f5773a512bdf80be876a6580.jpg" alt="image"><br><br><h5>  Problem 4. Proportionality </h5><br>  When compressing or stretching textures, it often happens that the relationships of the parties change.  For example, from 16: 9 to 4: 3.  Because of this, some objects can become ugly.  To avoid this, make the graphics minimalist, cartoon-drawn.  It will help to look like a compressed picture is not so terrible ... <br><br><h4>  <b>3. Performance</b> </h4><br>  If you are going to make a 3D supermaster, then know that not all devices will pull, but most new phones and tablets will cope without difficulty.  Also take into account the fact that not all devices support OPEN GL 2. Approximately 10% of devices support only OPEN GL 1.1. <br>  The main problem with performance lies in another: on different devices, the application has a different FPS.  And if for ordinary applications it is not so critical, then for games it is a very important issue.  In the game that I am developing now, I ran into a problem: on different devices the speed of movement of the main characters of the worms is different.  After long fights and tests, it turned out that this is due to the fact that I move the worms by a certain number of pixels per frame, and with different FPS this gives a different speed ... This bug was fixed by tying the "step" to the current FPS: <br><pre> <code class="java hljs"> shipConfig.setShipSpeed(activity.mCamera.getHeight()/(shipConfig.timePerCameraHeight*fpsCounter.getFPS()));</code> </pre><br>  Again, when developing for Android, make the code extremely soft.  Any "number out of nowhere" is reflected in the most unexpected places. <br><br><h4>  <b>4. Android version</b> </h4><br><img src="https://habrastorage.org/storage2/0f4/188/f5e/0f4188f5e4c935803f34f089ef0093fe.png"><br>  Here are the statistics of the versions of the operating system on which my previous game stood. <br>  As you can see, the majority of users who play games have quite new versions of Android.  So this item does not cause any problems. <br><br><h4>  <b>5. Conclusion</b> </h4><br>  Fragmentation of devices, though it is a developer‚Äôs headache for Android, but if you look, problems can be easily solved.  With the beta test, be prepared that despite the full compatibility declared by Google, on some devices the application will refuse to work at all, do not despair. <br><br>  <b>I hope that at least one of the advice I have outlined will help you not to make mistakes that I encountered.</b> </div><p>Source: <a href="https://habr.com/ru/post/165077/">https://habr.com/ru/post/165077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../165063/index.html">A PC created with Valve will be shown this week.</a></li>
<li><a href="../165067/index.html">Prediction of information epidemics by analyzing the social graph</a></li>
<li><a href="../165069/index.html">PHP class for convenient and safe work with MySQL</a></li>
<li><a href="../165071/index.html">We write the application for Android on Ruby (Ruboto)</a></li>
<li><a href="../165073/index.html">Writing an extension for google chrome</a></li>
<li><a href="../165085/index.html">JS module for Java developers</a></li>
<li><a href="../165087/index.html">The simplest image clustering by the k-means method (k-means)</a></li>
<li><a href="../165089/index.html">XIMA Chronicall emergency troubleshooting telephone monitoring and reporting system</a></li>
<li><a href="../165091/index.html">13 reasons not to be a manager</a></li>
<li><a href="../165093/index.html">A brief, incomplete, and mostly incorrect history of programming languages</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>