<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integrating google maps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google maps is an excellent tool for mapping and now we will integrate it into our site thanks to the open API. We will integrate not only a fixed pos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integrating google maps</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/adc/758/b5d/adc758b5da0111ca348dc6a9c84bc363.gif" align="right">  Google maps is an excellent tool for mapping and now we will integrate it into our site thanks to the open API.  We will integrate not only a fixed position but also an arbitrary one, namely, we will create a ‚Äúlocations‚Äù table in the database, we will enter the title, x, y fields there. <br><br>  Now we need to edit each location.  Create a canvas where the map will be displayed. <br> <code>&lt;div id="map" style="width: 250px; height: 250px"&gt; &lt;/div&gt;</code> <br> <br>  Next - fasten the library call from google.  Since I use smarty, I give the developer key as a variable. <br> <code>&lt;script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key={$google_maps_hash}" type="text/javascript"&gt;&lt;/script&gt; <br></code> <br><br>  Now let's make a function that will do all the different work - create a map in our div element, position it according to the given coordinates, set the bubble.  If we edit these coordinates, then the function will, by feedback, write to the hidden input fields of some form ‚Äúregistration_form‚Äù new coordinates of the transferred pin-pointer. <br> <code>&lt;script type="text/javascript"&gt; <br> function load_map(x,y,title) { <br> <br> if (GBrowserIsCompatible()) { <br> var map = new GMap2(document.getElementById("map")); <br> map.setCenter(new GLatLng(x, y), 13); <br> map.enableScrollWheelZoom(); <br> <br> point = new GLatLng(x, y); <br> marker = new GMarker(point); <br> <br> map.addControl(new GSmallMapControl()); <br> map.addControl(new GMapTypeControl()); <br> map.addOverlay(marker); <br> marker.openInfoWindowHtml(title); <br> /* <br> var mgr = new GMarkerManager(map); <br> <br> GEvent.addListener(marker, "dragend", function() { <br> //var center = map.getCenter(); <br> var strCenter=marker.getPoint(); <br> marker.openInfoWindowHtml(document.forms['registration_form'].title.value); <br> document.forms['registration_form'].geo_x.value=strCenter.lat();//arrCenter[0]; <br> document.forms['registration_form'].geo_y.value=strCenter.lng();//arrCenter[1]; <br> <br> }); <br> */ <br> } <br> } <br> &lt;/script&gt; <br></code> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/12935/">https://habr.com/ru/post/12935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../129342/index.html">LiveStreet and ORM</a></li>
<li><a href="../129343/index.html">Learning to write userscript</a></li>
<li><a href="../129344/index.html">Rendering Python directories with NetworkX</a></li>
<li><a href="../129346/index.html">Analysis of software performance using mathematical experiment planning</a></li>
<li><a href="../129349/index.html">BitTorrent learns to "get out of the way", giving the channel for other purposes</a></li>
<li><a href="../129350/index.html">Samsung Galaxy Tab 7.7 - Attempt # 2</a></li>
<li><a href="../129351/index.html">In Skitch for Android appeared framing and smoothing lines</a></li>
<li><a href="../129355/index.html">Dropad A8X - interesting price / performance ratio</a></li>
<li><a href="../129359/index.html">New hosting formula</a></li>
<li><a href="../12936/index.html">Next big thing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>