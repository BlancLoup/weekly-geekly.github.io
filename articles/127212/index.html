<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>iOs developer takes on Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We recently released an Android version for our location-based application creation platform, Meridian . 



 Without having to use one of the cross-p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>iOs developer takes on Android</h1><div class="post__text post__text-html js-mediator-article"> We recently released an <a href="https://market.android.com/details%3Fid%3Dmeridian.app" rel="nofollow">Android version</a> for our location-based application creation platform, <a href="http://www.meridianapps.com/" rel="nofollow">Meridian</a> . <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/1_2.png"><br><br>  Without having to use one of the cross-platform tools like <a href="http://www.appcelerator.com/" rel="nofollow">Titanium</a> , we wrote it from scratch in Java. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We decided that it is important to keep the native material native and respect the features of each platform to the maximum.  Some such features are easy to follow, for example, adding top bookmarks to the interface window.  Others are peculiar only to Android, for example: handling <code>Intents</code> , <code>Intents</code> old <code>Activities</code> , implementing <code>Search Providers</code> , as well as strict links to help the garbage collector. <br><br>  Now our platform uses HTML5 for branding and displaying content, from here we got most of the interface completely free.  But a lot of code written in Objective-C needed to be translated into Java, for example: map navigation, direction, and location change. <br><br>  So, we rolled up our sleeves, installed the Android SDK and got to work. <br><a name="habracut"></a><br><h2>  Development environment </h2><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/2_1.png"><br><br>  Apple made it easy to develop applications for iOS.  Of course, the first step is ‚ÄúBuy a Mac.‚Äù  Easy!  Now download the free version of Installer Xcode from the Mac App Store App Store and start writing code. <br><br>  Android works a little harder.  You can easily <a href="http://developer.android.com/sdk/index.html" rel="nofollow">download the SDK</a> , but in reality you will need to first install <a href="http://www.eclipse.org/">Eclipse</a> and download Google's <a href="http://developer.android.com/sdk/eclipse-adt.html" rel="nofollow">ADT Plugin</a> . <br><br>  If you want to lose about a week without even starting to work, then you have a great chance to explore the possibility of writing Java code in Eclipse.  You can also download either <a href="http://netbeans.org/">Netbeans</a> , or <a href="http://www.scala-lang.org/">Scala</a> , or, finally, start exploring <a href="http://www.vim.org/" rel="nofollow">VIM</a> . <br><br>  But let's assume that deadlines are tight and you want to do it the way Google approves.  The first thing you need to do is accept Eclipse as it is. <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/3_1.png"><br><br>  Most likely, you will hate Eclipse with unprecedented power.  It will seem slow, cumbersome and far from what you used to call IDE. <br><br>  Eclipse is a world in itself.  This is an IDE to the last detail, which entails certain consequences.  Eclipse has many abstract-sounding concepts that you will have to get used to anyway.  There are Workspace, Perspectives and Run Configurations.  And by itself, Eclipse is just a shell, in which all the basic functionality is provided through the complex interaction of interdependent plug-ins.  This is how it reminds Linux. <br><br>  Of course, the unusual IDE is not alien to Eclipse;  Xcode was also damn unusual at first and it became more and more <i>meta</i> with each release (schemes, anyone?). <br><br>  The advantage is that after acclimatizing to Eclipse, you can enjoy some serious wonders: improved performance of auto-code completion, refactoring, and automatic fixes.  Simply put, it will write code for you ... <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/4_1.png"><br><br>  A great way to learn how to use Eclipse is to spend a few hours, and I will be deadly serious, setting up hundreds of options, checkboxes, checkboxes and all the other painstaking things in Preferences. <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/5.png"><br><br>  Again, seriously, I felt more comfortable, familiar and happy with Eclipse, after having dealt with it in the manner described.  Does this mean that other programs should provide all the possibilities imaginable?  Lord, no.  Are you crazy? <br><br><h2>  Java language </h2><br><br>  Java is a high level programming language.  It is useless to have an opinion on this.  Instead, take a better look at how Android <i>uses</i> Java. <br><br>  <a href="http://developer.android.com/reference/android/os/AsyncTask.html" rel="nofollow">This</a> is how you do something in the background thread.  And <a href="http://developer.android.com/guide/topics/ui/ui-events.html" rel="nofollow">this</a> is how you subscribe to events (in reality, this is similar to the <code>delegate</code> in ObjC).  <a href="http://developer.android.com/reference/android/app/Activity.html" rel="nofollow">This is an</a> explanation of the <code>Activities</code> life cycle, which looks like Cocoa's <code>UIViewControllers</code> . <br><br>  In general, the Android framework is very well designed, not inconsistent and works harmoniously with Java.  At the core, it is very similar that our applications have almost the same class structure on both Android and iOs. <br><br>  At the end of the code was amazingly similar to Android.  Here is a fragment from our ObjC application that draws arrows. <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/gg1.png"><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/gg2.png"><br><br>  Brad, right?  Many of our source codes are like this. <br><br><h2>  Debugging </h2><br><br>  Now that you have written some code, you will want to run it.  In the Apple world, we have an iOs simulator. <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/6.png"><br><br>  It is called the Simulator because it pretends (ha!).  This is not a real iPhone OS.  When you run the application ‚Äúin the simulator,‚Äù Xcode compiles the application to the desktop and runs it in its original format on your Mac.  If you look in the Activity Monitor, you will see that the application works along with Mail, iCal and iTunes. <br><br>  The disadvantage of the Simulator is that it cannot exactly imitate the iOs environment.  And your code is not the same, it should be compiled for x86 / 64 instead of ARM, so there is no guarantee that everything will work as well as on the iOs device. <br><br>  The advantage of the simulator is that it is not an emulator.  And what is an emulator? <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/7.png"><br><br>  Notice the Android emulator.  His goal is noble: launching your application in a complete and unmodified Android OS, in a virtual machine that performs ARM instructions. <br><br>  What is the main quality of the Android emulator? <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/8.png"><br><br>  When I first heard about the iPhone Simulator, I thought that it was just awful, until I remembered that we did the exact same program for Windows Mobile a day ago and it was just darn slow. <br><br>  The Android emulator takes ~ 2 minutes to download on my modern device.  But what really upsets is the editing / debugging cycle.  Every time I changed the Java code a bit and wanted to return to the application, it took me about 30 seconds to restart the application in the emulator.  Compare this with 5 seconds on the iOs simulator.  It may not sound much, but think that you will do it hundreds of times during the day. <br><br>  Fortunately, it turns out that it is much faster to install and download your application to a physical device via USB.  So believe me, just go and <a href="http://stackoverflow.com/questions/1968170/can-i-tweak-my-android-emulator-to-make-it-fast" rel="nofollow">buy an Android phone</a> .  Better yet, buy a few of them, so as not to have problems with <a href="http://stackoverflow.com/questions/2539074/which-android-phone-to-use-for-development" rel="nofollow">fragmentation</a> . <br><br>  Not that fragmentation is unique to Android, it is simply exaggerated in the media.  We also need several devices in our iOs lab.  One tiny and unexpected difference in an OS or device can cause an application to crash on any platform. <br><br><h2>  Interface Development Tools </h2><br><br>  Interface Builder is available for hosting widgets on iOs. <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/9.png"><br><br>  Your experience with Interface Builder may be different from mine, but I learned how to use it very sparingly.  It is good when you want to position elements statically with good accuracy.  But for dynamic content, especially <code>UITableViews</code> , it tends to make everything more complicated than it would be in code.  Especially when you return after a while and forget all the small dependencies between the <code>Controller</code> and your <code>XIB</code> . <br><br>  On Android, you can create a user interface and design in XML format. <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/10.png"><br><br>  It is a bit like HTML, except that it is not HTML.  This is a simple styling system, which is kind of like CSS, except that it is not CSS. <br><br>  Many well-meaning developers have tried to reinvent HTML and CSS over the years.  Mozilla created <a href="https://developer.mozilla.org/En/XUL" rel="nofollow">XUL</a> for the cross-platform interface in Firefox.  Adobe has created <a href="http://learn.adobe.com/wiki/display/Flex/MXML" rel="nofollow">MXML</a> for Flash.  Microsoft created <a href="http://msdn.microsoft.com/en-us/library/ms752059.aspx" rel="nofollow">XAML</a> for Windows. <br><br>  When I had too much free time, I created my own XML system design for Flash called Bent.  So I can tell you that the invention of these systems is the funniest thing you can do as a developer.  It feels like when you create a Single Platform, as soon as you complete it, everyone will be ready to use it, study and develop with it, will not leave you a single step and will even compose epic poems about what a genius you are! <br><br>  But the reality is that it is not HTML and CSS, but another thick layer of material that you need to learn and understand, and struggle with the fact that sometimes it does not work the way you want it. <br><br>  From a positive point of view, you can view XML during development in a visual editor similar to Interface Builder: <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/11_1.png"><br><br>  It is quite extensive. <br><br>  Now, technically, you can write everything in Java, just like in iOs you can completely abandon Interface Builder and write only in Objective-C.  But you will find out that when you find on the Internet how to do something on Android, you will ultimately have to understand all these XML formats in any case, at least in order to understand the code examples on the website. <br><br>  But this is not so bad, because you will also appear ... <br><br><h2>  Real Box Model </h2><br><br>  Here is a list of items in iOs that displays the search results. <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/12_1.png"><br><br>  And here is just a fragment of ObjC that renders this item: <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/13.png"><br><br>  Let's talk about sore.  Of course, you can create the initial layout in Interface Builder, but then you just have to say goodbye to a <a href="http://blog.atebits.com/2008/12/fast-scrolling-in-tweetie-with-uitableview/" rel="nofollow">convenient and smooth scrolling</a> .  Maybe in the future when iOs devices become damn fast. <br><br>  As humans, we usually do not think that "The name should be located at 30 - 40 pixels, with a maximum height of 35 pixels."  Instead, we think "The name should be above the subtitles, as well as to the right of the image, and have no more than 2 lines." <br><br>  Android has a markup container system (similar to HTML) that allows you to describe where content should be relative to something.  Here is a similar snippet from the same Android search result: <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/14.png"><br><br>  Now you have to learn all these types of markup, such as <code>FrameLayout</code> , <code>LinearLayout</code> , <code>RelativeLayout</code> , and learn all their individual features, but in the end you will get a very natural and flexible UI markup system. <br><br>  The best part is that no effort is required in order to automatically resize the device for portrait / landscape orientation and various screen sizes.  This is a great contrast compared to the absolutely primitive Cocoa / iOS <a href="http://developer.apple.com/library/ios/documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/CreatingViews/CreatingViews.html" rel="nofollow">springs and struts</a> system. <br><br>  But the nuance about the simplified design of the system in iOs, which I scoffed at, turned out to be a reasonable compromise when I considered ... <br><br><h2>  Animation </h2><br><br>  What Android should think about is that it usually looks like this: <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/15.png"><br><br>  It was conceived and developed in the days of Blackberry, Windows Mobile, and the run-up to the iPhone.  The influence of these platforms went very deeply into the Android OS. <br><br>  For example.  A display system, that is, a method by which UI widgets, such as menus, buttons, etc.  drawn on the screen, mostly implemented by software. <br><br>  What does it mean?  Let's look at the screenshot above as an example.  If you press the Down button, you expect the entry ‚ÄúHomepage‚Äù to be selected instead of ‚ÄúGo to‚Äù.  So you press Down.  This causes an "invalidate", which means "please redraw the screen."  Thus, the screen will be cleared, then: <br><br><ol><li>  The OS updates the status bar at the top; </li><li>  WebView redraws Google.com; </li><li>  The menu draws a translucent black background and borders; </li><li>  All menus and text are drawn; </li><li>  A blue gradient highlight is drawn over the ‚ÄúHomepage‚Äù. </li></ol><br><br>  All this happens very quickly and you see only the final result, so it may seem as if only a few pixels were changed, but in fact the entire screen should be revised and redrawn. <br><br>  If this sounds familiar to you, it is because this is the main method used in <a href="http://en.wikipedia.org/wiki/Graphics_Device_Interface" rel="nofollow">GDI</a> , the display system introduced in Microsoft Windows 1.0.  It sounds suicidal, but in fact most GUIs are managed in this way. <br><br>  Until the iPhone appeared ... <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/16.png"><br><br>  When you use your iPhone and play hardware accelerated 3D games, you know that everything in 3D is made from hundreds of small triangles. <br><br>  When you abruptly navigate the list of friends in the Contacts application, you force the triangles to move.  And here there is also a ‚Äúcamera‚Äù, as in the 3D shooter, but this camera is fixed above the virtual surface of the Contacts application and therefore it seems that the application is 2D. <br><br>  It was a long way to say that everything on iOs is drawn using OpenGL.  That's why the animation on iOs is so fast.  You may have noticed that <code>-drawRect</code> not called for every frame in the animation.  It is called once, then you draw your lines, circles and text on the OpenGL surface (which you don‚Äôt even realize), then Core Animation moves these surfaces around, like stringing a string on a puppet.  And the final image overlay for each frame is performed by hardware using the GPU. <br><br>  Apparently, Android made the decision earlier that it was not necessary to force its partner manufacturers to add GPUs.  This decision was logical in anticipation of the release of the iPhone, but now it is distressing, as well as a new <a href="http://android-developers.blogspot.com/2011/03/android-30-hardware-acceleration.html" rel="nofollow">hardware acceleration</a> in Android 3.0, which is limited to the initial software build of the system. <br><br>  Thus, in the beautiful flexible layout system in Android, you need to be very careful.  By animating a certain set of properties, you can easily force the processor to make this whimsical and expensive layout on each frame of the animation.  And at this time, the processor is very busy parsing some JSON from the web API or something else, okay? <br><br><h2>  Meridian for Android </h2><br><br>  In general, it took us about 4 months to develop, create and release <a href="https://market.android.com/details%3Fid%3Dmeridian.app" rel="nofollow">Meridian for Android</a> . <img src="http://www.e-legion.ru/uploads/code_mirror_files/17.png"><br><br>  When we first released <a href="http://www.meridianapps.com/">Meridian</a> , the number one comment was: ‚ÄúWill you make an Android version, please?‚Äù.  Even often without the "please". <br><br>  And it turns out that Android is the third platform for Meridian.  The first was Windows Mobile, can you believe it? <br><br><img src="http://www.e-legion.ru/uploads/code_mirror_files/18.png"><br><br>  We began to create what we now call "Meridian" even before the appearance of the iPhone.  At the time, Windows Mobile was the only mobile platform capable of providing us with the desired practical skills. <br><br>  Thus, it can be said that now I have an extensive idea of ‚Äã‚Äãall this.  There will always be new platforms and new paradigms to explore.  The best thing we can do is understand where they came from and take advantage of all the advantages and disadvantages in order to add some amazing features as quickly as possible before they change again. </div><p>Source: <a href="https://habr.com/ru/post/127212/">https://habr.com/ru/post/127212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127203/index.html">Motorola again began to produce its MOTOFONE F3, an inexpensive phone with an e-ink display.</a></li>
<li><a href="../127205/index.html">Autopsy Pentium III, photographs under the microscope</a></li>
<li><a href="../127206/index.html">Unfair competition and the reaction of foreign customers</a></li>
<li><a href="../127207/index.html">Exo-Core: Application-Level Resource Management Operating System Architecture</a></li>
<li><a href="../127210/index.html">HTTP Archive: web trends in nine months</a></li>
<li><a href="../127213/index.html">Git and site publishing</a></li>
<li><a href="../127214/index.html">Sound Design in Cubase 5</a></li>
<li><a href="../127216/index.html">Interview with Ryan Dahl. Part one</a></li>
<li><a href="../127218/index.html">Analysis of the Russian Post site and an attempt to make it better</a></li>
<li><a href="../127220/index.html">Cocos2d-x: Building a project for Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>