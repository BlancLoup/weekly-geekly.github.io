<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Knowledge is power: we analyze product statistics and do not lose customers on the road of progress</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! Today we will talk about why we need statistics on the use of the product, in addition to its obvious benefits in verifying licensing restricti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Knowledge is power: we analyze product statistics and do not lose customers on the road of progress</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/71b/d0d/7ea/71bd0d7eaed0a6a6e4ba4dd66b1a585e.png" alt="image" align="left">  Hello!  Today we will talk about why we need statistics on the use of the product, in addition to its obvious benefits in verifying licensing restrictions and building adequate tests for subsequent product releases.  The subject of the story will be our recent experience. <br><br>  A new version of the Plesk hosting panel called Plesk Onyx will be released very soon.  Starting with this version, Plesk stops supporting 32-bit architecture.  The decision was made after considering several key aspects.  The software development industry is gradually moving to the ubiquitous transition to 64-bit builds.  Many software manufacturers have already abandoned the 32-bit version of their products, and new steps in this direction are taking place continuously.  The RHEL 7 distribution kit used as the CentOS base is only available for 64-bit systems - and yet CentOS is one of the most popular operating systems among Plesk users.  In addition, supporters of 32-bit OSs deprive themselves of the opportunity to take advantage of such Plesk functionality, such as working with Docker and MongoDB, due to the fact that these products can only be installed on 64-bit operating systems. <br><br>  However, the B2B2C market that Plesk is focused on is, by its very nature, rather inert, so it seems expedient to give the entire long chain a chance to orient and move smoothly from one architecture to another.  To do this, we decided to target those of our customers whose business may be most affected by future changes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Okay, google - how to understand who exactly needs to be notified?  "Call out, dinosaurs!" Without statistics on the use of the product you cannot cope here, but you will have to work to get something intelligible from it. <a name="habracut"></a><br><br>  Information about the hardware characteristics of servers with Plesk, including the type of architecture, we store in MongoDB NoSQL-storage.  Having rummaged, we learn that Plesk clients use the 32-bit architecture, but not too actively - only 4% of the servers with the latest Plesk 12.5 version are currently used.  This shows that the most progressive part of our users, regularly updating the product, is consonant with reality and prefers the x64 architecture.  At the same time, servers with Plesk 12.5 make up only 40% of all servers, and the remaining 60% should not be overlooked either.  So, we are interested in all servers on which 32-bit operating systems are installed, and not only their number - it is highly desirable to somehow identify them among the general mass for more detailed study.  To do this, we will use the classical method - we will distinguish the server by the license number of the product.  This is not difficult - license numbers can be found in the same repository, and everything would seem wonderful.  But in fact, the challenge is just beginning - the list of keys to the servers with x32 is not enough. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/19b/8ec/cee/19b8ecceea3744e8a92b94e7f1733c1d.png"></div><br>  The fact is that, as such, the list of license keys for us is completely non-informative.  Yes, we know that on these servers Plesk runs on 32-bit operating systems - but what next?  Are these servers promising in terms of upgrading to the upcoming Plesk Onyx?  Who is the owner of each of them - the system administrator of a lonely site or a major player in the hosting market, turning thousands of domains and subscriptions?  Is it very painful for him to lose this segment of the business - or, as in the song, the squad will not notice the loss of a fighter, because 1, 10 or even 100 servers are nothing compared to the resources he has? <br><br>  All these are questions that require an answer, which means further immersion into the depths of product statistics.  Fortunately, Plesk has the tools for such surveys - in particular, we suddenly found Partner Central very useful, through which Plesk partners can independently acquire licenses and manage them in the future.  It turned out to be useful for us by storing sufficiently detailed information about each license, including the owner's name we are interested in, license status (active, terminated or expired), its type (lease / purchased), Plesk version number, operating system installed on the server and other parameters.  Partner Central is not integrated with NoSQL storage, because it was not originally conceived as a statistics collection tool, but now we are able and able to use the information stored there - namely, the names of the owners of the keys.  You can find them by downloading to Partner Central our list of licenses.  In addition, Partner Central allows you to export information to the xls-file, which in this case makes it very easy for us to process the data.  By default, all fields are exported to the file, but if you wish, you can select them manually: for our task, the key number, the name of the owner, the Plesk version and the operating system will be enough. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d72/b4c/2b0/d72b4c2b07e64aa48e44c946fc06c3f3.png"></div><br>  From the search results presented in the form of an xls-document, we must exclude expired keys.  In addition, keys from old versions of Plesk are excluded from the sample, from which it is impossible to upgrade directly to Plesk Onyx - after all, we are primarily interested in servers that have the ability to upgrade directly.  For the same reason, from the list you should remove the keys that are located on the servers with the OS, whose support ends on the Plesk 12.5 version. <br><br>  After the ownership of each license was established, we were able to understand which Plesk customers are the most ardent supporters of the 32-bit architecture, that is, they use a large number of such machines.  Good, but this is still not enough.  After all, we still do not know whether the entire business of the above-mentioned clients is concentrated in this (albeit very voluminous) set of servers.  Time to grieve?  But no.  Because the characteristics of the licenses, no less important than the hardware characteristics of the servers, are carefully collected and stored in the licensed OLAP-cube implemented on the basis of MySQL.  Through this great tool, sold Plesk licenses can be categorized by the number of domains, mailboxes, customers, resellers, websites created on the server;  virtual servers can be sorted by type of virtualization platform;  You can exclude inactive and expired licenses from the sample, as well as select the sample date of interest.  Information in the OLAP-cube is updated once a month. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8bf/5a2/80d/8bf5a280d274492cb227079cdbaac74f.png"></div><br>  <sup>OLAP-cube keeps a lot of interesting</sup> <br><br>  And of course, OLAP-cube allows you to group licenses by their owner.  And here, finally, the fog dissipates and we can strategically assess which customers will be the most affected by refusing to support 32-bit architecture.  Plesk‚Äôs sales department will send these letters with solutions to the current situation.  And with a sense of accomplishment, we are going to solve new analytical problems and look forward to your comments - share your experience! </div><p>Source: <a href="https://habr.com/ru/post/312162/">https://habr.com/ru/post/312162/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312144/index.html">PHP Digest number 94 - interesting news, materials and tools (September 25 - October 9, 2016)</a></li>
<li><a href="../312146/index.html">Monitor client PCs in Microsoft AD with Zabbix. Part 2 - Template, Scripts and LLD</a></li>
<li><a href="../312148/index.html">We separate the interface and implementation in the functional style in C ++</a></li>
<li><a href="../312154/index.html">Donald Knut: ‚ÄúMy advice to the young‚Äù (93/97) and ‚ÄúFeeling the need to assert oneself‚Äù (9/97)</a></li>
<li><a href="../312158/index.html">Over RethinkDB clouds are gathering?</a></li>
<li><a href="../312164/index.html">CleverStyle Framework 6 Evolution</a></li>
<li><a href="../312166/index.html">VIDEOMOST - VKS server in your pocket</a></li>
<li><a href="../312168/index.html">[Peter] Meeting with Gil Tene from Azul Systems about application response times</a></li>
<li><a href="../312172/index.html">Javascript six-character journey</a></li>
<li><a href="../312174/index.html">Autoscaling - a tool for automatic vertical scaling of resources (CPU | RAM | HDD)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>