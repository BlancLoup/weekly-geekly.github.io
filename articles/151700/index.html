<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yate: Yandex.Mail has moved to a new template engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago we wrote that a new interface had appeared in Yandex.Mail that uses template data in the browser. Few major services dared to do this, b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yate: Yandex.Mail has moved to a new template engine</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/9c3/863/ef7/9c3863ef729ab03d53558b942c8b8c02.png" alt="image">  Some time ago we <a href="http://clubs.ya.ru/company/27150">wrote</a> that a new interface had appeared in Yandex.Mail that uses template data in the browser.  Few major services dared to do this, but we still consider this solution as the most successful.  It not only accelerated the operation of the interface, but also allows you to save user traffic and more efficiently spend the processor time of the servers. <br><br>  Then we used XSL as a template engine, and the data was transmitted in XML format.  Having transferred the project to a new interface, we started looking for other ways to speed up the work of the Yandex.Mail interface. <br><br>  Recently we transferred all Mail to JS template engine and JSON data. <br><a name="habracut"></a><br>  <b>Reasons for not using XML / XSL</b> <br>  We are very fond of XSL, it is expressive, it is really convenient to write templates for large services with complex connections, a large number of reusable blocks and the ability to redefine or extend blocks.  But he has a number of significant drawbacks: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <i>Does not develop</i> <br>  If you look at browser browsers, the latest mentions of XSL mentioned by developers are dated 2004 (the problem in Chrome is especially obvious on the graphs below). <br></li><li><i>       </i><br>
-, ,  ,   IE    IE.       , , ,   <code>xsl:call-template</code>   ,   ‚Äî    .       <code>xsl:output</code>.</li>
<li><i> </i><br>
        .</li>
<li><i> </i><br>
XSL-   ‚Äî  ,    ,    ,   ,      ,   <a href="https://github.com/pasaran/xslt-speed-test"> </a>.</li>
<li><i>C </i><br>
  xslt  ,      <a href="http://www.exslt.org/">exslt</a>,         ,  -   .</li>
<li><i>  XML-  </i><br>
       ,   <a href="https://developer.mozilla.org/en-US/docs/E4X">E4X</a> ‚Äì ,   <a href="https://developer.mozilla.org/en-US/docs/SpiderMonkey">spidermonkey</a>. E4X                 JSON.</li>
</ul><br>
<br>
<b>  </b><br>
   (  ,    ) ,   : <a href="http://github.com/pasaran/yate">yate</a>, <a href="http://handlebarsjs.com/">handlebars</a>, <a href="http://jade-lang.com/">jade</a>, <a href="http://akdubya.github.com/dustjs/">dust</a>  <a href="http://goog-ajaxslt.sourceforge.net/">ajaxslt</a>. <br>
<br>
 json-        ,       .<br>
<br>
             (, , , , ,    ),            /.            .<br>
<br>
   ,    (handlebars, jade, dust)        ,     ¬´¬ª,      .        XSL       ,         .<br>
<br>
 ,    yate  ajaxslt. ,      , ajaxslt      yate    500   .<br>
<br>
       200   : <br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3e5/7b7/040/3e57b7040663e048f56067c4e7261ef3.png" alt="image"><br>
<br>
<b>Yate</b><br>
<a href="http://github.com/pasaran/yate">Yate</a> ‚Äî ,    - .         ,      . Yate    XSL:     js-        (match, apply),  ,    jpath ‚Äî  XPath    JSON.     javascript       ,    .<br>
<br>
         XSL   yate:<br>
<br>
<a href=""> <img src="https://habrastorage.org/getpro/habr/post_images/5b5/873/090/5b5873090323bde0c238bc8d46c9b3dc.png" alt="image"></a><br>
<br>
       ,    ,  yate        ‚Äî ,    JavaScript       XSL-.  , ,       JS     ,    .<br>
<br>
   yate,       40%  ,    .      ‚Ä¶ 1200%!<br>
<br>
  ,   .<br>
   ‚Äì   JS-,    ,    :<br>
<br>
<a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c4f/058/196/c4f0581962eb6b997be30318169f24cf.png" alt="image"></a><br>
<br>
  ,      ,      .<br>
<br>
      ,      ,   ,        ,    ,         :<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/de9/5cc/2f2/de95cc2f287a9557f070867bc203c9a1.png" alt="image"><br>
<br>
 ,            ‚Äì 200.     30   ,        :<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cb6/84e/2a7/cb684e2a7d9436bd00a48cc800bf60f2.png" alt="image"><br>
<br>
    ‚Äî  -   ,   <code>debugger</code>     ,   .      <code>log</code>,     ,    .<br>
<br>
     ,   .  yate           .  ,      ,    ,    ,       HTML.<br>
<br>
<a href=""><img src="https://habrastorage.org/getpro/habr/post_images/89f/bb9/38f/89fbb938f6e1b902cd44b119c12827e1.png" alt="image"></a><br>
<br>
  yate    , ,      .     ,    JavaScript  :<br>
<br>
<a href=""><img src="https://habrastorage.org/getpro/habr/post_images/1be/848/424/1be848424c1d607f594e5c108430f5ae.png" alt="image"></a><br>
<br>
<b></b><br>
.        .<br>
 ,   ,     JSON,      E4X  XML2JSON.       ,  ,     XSL/XML,      .     .  ,      ¬´¬ª    :<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1ed/5e1/168/1ed5e1168e2a1ea540f6a89f26ea9f25.png" alt="image"><br>
<br>
         :<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7ec/c30/8d3/7ecc308d3588a67a5477afa11098c6c6.png" alt="image"><br>
<br>
   ,     ,     .<br>
<br>
<b>DIY</b><br>
  ,   yate   .      yate  ,    <code>npm install yate</code>. <br>
<br>
     <a href="http://pasaran.github.com/slides/yate/"></a>    <a href="https://github.com/pasaran/yate/wiki/syntax"></a>  <a href="https://github.com/pasaran/yate/wiki/jpath">jpath</a>.      XPath  JSON (<a href="https://github.com/artjock/jpath">jpath</a>  <a href="http://github.com/pasaran/nommon">no.path</a>)     <a href="http://github.com/maksimr/vim-yate">vim</a>  <a href="https://github.com/mctep/yate-textmate">Sublime Text</a>.      XSL-,    ,    yate   <a href="https://github.com/artjock/xsl2yate">xsl2yate</a>.</div><p>Source: <a href="https://habr.com/ru/post/151700/">https://habr.com/ru/post/151700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151692/index.html">YouTube in Russia can turn off November 3-5</a></li>
<li><a href="../151694/index.html">Attraction of unprecedented generosity from Amazon. Once again about technical support</a></li>
<li><a href="../151696/index.html">Forced HTTP session breaks with MiTM</a></li>
<li><a href="../151697/index.html">Update banking application. Preview and invitation to implement your ideas in our application (by our developers)</a></li>
<li><a href="../151698/index.html">A simple sms bot on the shell</a></li>
<li><a href="../151703/index.html">Easy walk from functor through monad to arrow</a></li>
<li><a href="../151704/index.html">We punch VMware vCenter</a></li>
<li><a href="../151705/index.html">A new world record for overclocking the Intel Core i7 3770K on the ASRock Z77 OC Formula</a></li>
<li><a href="../151706/index.html">Opus free audio codec officially became IETF standard</a></li>
<li><a href="../151709/index.html">Practical application of MSP430 for web-developer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>