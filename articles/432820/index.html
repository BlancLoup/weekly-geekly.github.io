<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dynamic testing of Android applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dynamic testing is conducted to identify vulnerabilities during the operation of the application. In this article I want to share several ways to test...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dynamic testing of Android applications</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/do/9u/kf/do9ukfkov33tea6kcsyo4aq82to.png"><br>  Dynamic testing is conducted to identify vulnerabilities during the operation of the application.  In this article I want to share several ways to test the application for Android.  Also show how to configure and configure hardware.  Who cares, welcome under cat. <br><a name="habracut"></a><br>  Dynamic testing implies analysis of application logs, analysis of application traffic, search for bugs during operation, etc. For testing, you need to set up a virtual machine for Genimotion, as it is described <a href="https://defcon.ru/mobile-security/1787/">here</a> . <br><br>  What tools are used for dynamic analysis: <br><br><ul><li>  BurpSuite; </li><li>  Inspakage; </li><li>  Pidcat or another application with permissions to read logs. </li></ul><br>  <b>How to test with BurpSuite</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First you need to configure the proxy and import the certificate.  BurpSuite shows application vulnerabilities to SSL pinning and can find vulnerabilities that exist on the server with which the application contacts. <br><br>  1. Installing a proxy <br><br>  First you need to see the interface information for correct proxy settings. <br><br><img src="https://habrastorage.org/webt/g5/fh/dx/g5fhdxb2buc30ujjjkv5lxvqqma.png"><br>  <i>Fig.</i>  <i>1. Information about the interfaces.</i> <br><br>  Configure proxy on BurpSuite. <br><br><img src="https://habrastorage.org/webt/b6/yh/q9/b6yhq9l8ytrnqn2w2w1oxgq6-tu.png"><br>  <i>Fig.</i>  <i>2. Set up a proxy on BurpSuite.</i> <br><br>  Install the proxy on the device on which we will conduct testing. <br><br><img src="https://habrastorage.org/webt/p5/bb/vc/p5bbvckfbzrqueoqunvnc6j7ho8.png"><br>  <i>Fig.</i>  <i>3. Configure the proxy on the device.</i> <br><br>  Enter in the browser http [:] // burp / - this is needed to download the certificate.  And download the certificate for work.  Next, you need to open the ‚ÄúDownloads‚Äù folder, there is a downloaded certificate.  With a long press on the certificate, a menu appears in which we select ‚ÄúRename‚Äù and change the extension to .cer and import the certificate. <br><br><img src="https://habrastorage.org/webt/yr/sy/nu/yrsynuvw_-b41fignmaye8f-fdk.png"><br>  <i>Fig.</i>  <i>4. Download certificate /</i> <br><br>  2. Import certificate <br><br>  Go to the device settings, find the item ‚ÄúSecurity‚Äù, then select ‚ÄúInstall from SD‚Äù.  From the ‚ÄúDownloads‚Äù folder, select the certificate that was downloaded and renamed.  After you need to give the certificate a name. <br><br><img src="https://habrastorage.org/webt/6g/g6/jy/6gg6jy6xnf9oqjfl9ulwnk0kuv4.png"><br>  <i>Fig.</i>  <i>5. Import certificate.</i> <br><br><img src="https://habrastorage.org/webt/vb/x3/7h/vbx37hmiu_bcouf-7fst38dxycq.png"><br>  <i>Fig.</i>  <i>6. Import certificate.</i> <br><br>  3. Verifying the certificate installation and viewing traffic through BurpSuite. <br><br><img src="https://habrastorage.org/webt/n7/fx/y6/n7fxy6vpzrisfk-4qrem9ict2e4.png"><br>  <i>Fig.</i>  <i>7. Testing the correctness of import certificate.</i> <br><br><img src="https://habrastorage.org/webt/ol/fs/bv/olfsbvowvhw1xbvgh3ydohlaaio.png"><br>  <i>Fig.</i>  <i>8. We look at the requests that go with the device.</i> <br><br>  Now you can test interaction with the API. <br><br>  Starting with Android 7, this way of adding a Burp certificate to trusted ones won't work for most applications - by default, user certificates are no longer trusted.  Therefore you have to root, give the certificate the correct name and put it in the system directory. (Comment y4ppieflu) <br>  <b>How to test for Inspakage</b> <br><br>  Inspekage is a tool that allows you to perform dynamic testing of Android applications and helps you understand what the application performs at runtime.  Inspekage shows the operation of the application with: <br><br><ul><li>  files </li><li>  databases </li><li>  cryptography </li><li>  http requests </li><li>  lines </li><li>  logs, etc. </li></ul><br><img src="https://habrastorage.org/webt/ky/xy/wv/kyxywvuczjbvhnnguz0s-txupkk.png"><br>  <i>Fig.</i>  <i>9. Run the application for testing.</i> <br><br><img src="https://habrastorage.org/webt/dg/j-/6-/dgj-6-2qqc80mvysaphcvqdjeew.png"><br>  <i>Fig.</i>  <i>10. Run the application for testing.</i> <br><br>  After launching the application, enter https [:] // 192 [.] 168 [.] 100 [.] 198 [:] 8008 to the application console in the browser (Fig. 11). <br><br><img src="https://habrastorage.org/webt/0n/wq/f3/0nwqf3ay3x3vwmp_8_xyb2ycs5y.png"><br>  <i>Fig.</i>  <i>11. Launch console in browser.</i> <br><br>  Next we go through the tabs in the console: <br><br><ul><li>  Shared Preferences - pic.  12 - demonstrates the interaction of the application with local resources. </li><li>  Serialization - rice.  13 </li><li>  Crypto - rice.  14 - demonstrates work with cryptography (SSL / TLS is not included here) </li><li>  Hash - rice  14 </li><li>  SQLite - fig. 15 </li><li>  HTTP - fig.  16 - in BurpSuite this tab is better disclosed </li><li>  FileSystems - Fig.  17 - application work with files </li><li>  IPC - fig.  18, etc. </li></ul><br><img src="https://habrastorage.org/webt/n_/bq/jm/n_bqjmi2olc3_9tqytsy3kahupc.png"><br>  <i>Fig.</i>  <i>12. Shared Preferences.</i> <br><br><img src="https://habrastorage.org/webt/0j/gp/8n/0jgp8nidflzlqqjgq1job4dtf-m.png"><br>  <i>Fig.</i>  <i>13. Serialization.</i> <br><br><img src="https://habrastorage.org/webt/qr/bx/mf/qrbxmfvkpyzfatgaiiaig7qgweq.png"><br>  <i>Fig.</i>  <i>14. Crypto.</i> <br><br><img src="https://habrastorage.org/webt/bn/c7/w6/bnc7w6dv1m8elwgdgqhppz7jnbc.png"><br>  <i>Fig.</i>  <i>15. Hash.</i> <br><br><img src="https://habrastorage.org/webt/vt/6s/qg/vt6sqgauayoiyzovlk0b26l0qzg.png"><br>  <i>Fig.</i>  <i>16. SQLite.</i> <br><br><img src="https://habrastorage.org/webt/js/a_/qc/jsa_qcyzyjypgr_3p5bgq4mhj1a.png"><br>  <i>Fig.</i>  <i>17. HTTP.</i> <br><br><img src="https://habrastorage.org/webt/zm/gl/w5/zmglw5oozdz3wyooglgagu6tvni.png"><br>  <i>Fig.</i>  <i>18. File system.</i> <br><br><img src="https://habrastorage.org/webt/vv/1t/_b/vv1t_bml5tvt9rjuuh3bvoqacuc.png"><br>  <i>Fig.</i>  <i>19. IPC.</i> <br><br>  <b>Pidcat Testing</b> <br><br>  Pidcat is an application that reads application logs.  When testing, you need to perform the functions of the application and watch what data fall into the logs of work.  Basically, service information is displayed there, it happens that you can get some critical information, such as a backup copy of the private key.  If the device is malvar, then this information may fall into the hands of an attacker. <br><br><img src="https://habrastorage.org/webt/yo/m8/pl/yom8plnsgunhnv-w6ed6aeuvxze.png"><br>  <i>Fig.</i>  <i>20. Backup private key.</i> <br><br><img src="https://habrastorage.org/webt/dv/bo/ck/dvbockh3q81yemwpv1jzv1ep1nk.png"><br>  <i>Fig.</i>  <i>21. Confidential information.</i> <br><br>  <b>Conclusion</b> <br><br>  In practice, the methods of basic dynamic testing of applications for Android, which we use in <a href="https://hub.hacken.io/">Hacken</a> , are <a href="https://hub.hacken.io/">shown</a> .  There is also a module for automated testing in the MobSF framework, but this requires a separate article. </div><p>Source: <a href="https://habr.com/ru/post/432820/">https://habr.com/ru/post/432820/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../432810/index.html">First GDPR penalties: who has already been punished</a></li>
<li><a href="../432812/index.html">We write trading robots using the StockSharp graphic framework. Part 1</a></li>
<li><a href="../432814/index.html">Cake and TeamCity integration</a></li>
<li><a href="../432816/index.html">AXIS M3046-V vs IDIS DC-D3212X: Compare CCTV Cameras</a></li>
<li><a href="../432818/index.html">Homemade plotter: tips for beginners, working with grbl-firmware</a></li>
<li><a href="../432822/index.html">I spoil the development of my life with my code review and I don‚Äôt want to</a></li>
<li><a href="../432824/index.html">Accelerating the creation of ConcurrentReferenceHashMap</a></li>
<li><a href="../432826/index.html">Modern Android development on Kotlin. Part 2</a></li>
<li><a href="../432828/index.html">Testing and debugging MapReduce</a></li>
<li><a href="../432830/index.html">Automated imposition of fines for abandoned garbage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>