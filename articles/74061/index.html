<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ASP.NET MVC 2: areas (areas) - description, use</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The concept of areas ( areas ) for ASP.NET MVC is a new concept. The essence of the regions is to provide an opportunity to divide an overly large pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ASP.NET MVC 2: areas (areas) - description, use</h1><div class="post__text post__text-html js-mediator-article"><img src="http://blogs.gotdotnet.ru/personal/XaocCPS/content/binary/WindowsLiveWriter/ASP.NETMVCFramework_CC57/mvc-logo-landing-page_thumb.png" alt="image" align="left">  The concept of areas ( <i>areas</i> ) for <b>ASP.NET MVC</b> is a new concept.  The essence of the regions is to provide an opportunity to divide an overly large project into several groups that would continue to interact with each other.  For example, the company has several development groups that create a large project that includes: the main site, the store, product reviews, a forum, an internal administration site, and others.  To create such a project in ASP.NET MVC 2, we propose to separate each separate part of the project into an area, which together would continue to be one interconnected project.  Separating individual project areas from a large project will allow different groups of developers to more independently develop their parts of the application. <br><br>  The concept of scopes appeared in ASP.NET MVC 2 Preview 1 as scopes in a solution with several projects.  After the release of ASP.NET MVC 2 Preview 2, the use of areas was enhanced by the ability to create areas in one project.  Consider both options. <br><a name="habracut"></a><br><h3>  <strong>Areas for multiple projects</strong> </h3><br>  When you create a solution using work areas with multiple projects, you must follow these steps: <br><ul><li>  create a project that will be the parent (or principal) in relation to the project-areas; </li><li>  create project areas, for example for a forum, blog, shop, etc.  In these projects, you need to delete the <b>Global.asax</b> files, in addition, you can delete the default files created in the <b>scripts</b> folder, since all scripts will be taken from the parent project; </li><li>  add links to the project area in the parent project; </li><li>  create for each of the projects a class inheriting from the <b>AreaRegistration</b> class in which to overload two elements: the <b>RegisterArea</b> method and the <b>AreaName</b> property.  RegisterArea should implement the logic for registering an area in the context of an application, the AreaName property should return the name of the area; </li><li>  in the parent project in Global.asax, you must call the <b>AreaRegistration.RegisterAllAreas ()</b> method <b>;</b>  to register areas to the application context during startup; </li><li>  The final step, which is required to successfully launch a project with areas, is the modification of the project files <b>* .csproj</b> ( <b>* .vbproj</b> for Visual Basic projects) of each project.  In each such file, it is necessary to uncomment the areas of the code line (shown below). </li></ul>  Consider the steps in a little more detail.  In fig.  <b>Figure</b> 1 shows the structure of the solution, which contains three projects: the parent project <b>AreasProject</b> and two project areas - <b>Forum</b> and <b>Store</b> , which implement the logic of the forum and the store, respectively. <br><br><img src="http://blogs.gotdotnet.ru/personal/XaocCPS/content/binary/WindowsLiveWriter/ASP.NETMVC2areas_D454/1_thumb.png" alt="image"><br>  <strong>Fig.1.</strong>  ASP.NET MVC project structure with areas 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A <b>ForumController</b> controller has been created in the Forum area project, which implements three actions: <b>Index</b> , <b>AddPost</b> , <b>EditPost</b> .  Similarly, a <b>ProductsController</b> controller with <b>List</b> , <b>AddReview,</b> and <b>Details</b> actions is created in the Store project.  Corresponding views have been created to display the results of actions.  After creating the area projects, links to these projects were added to the AreasProject project. <br><br>  In fig.  1 you can see in the projects Store and Forum file <b>Routes.cs</b> .  This file has been added to projects in order to implement the AreaRegistration class.  Consider the contents of the Routes.cs file in the Store project in Listing 1. <br><br>  <strong>Listing 1.</strong> Content of the Store project Routes.cs file <br><blockquote><code><font color="#000000"><font color="#0000ff">namespace</font> Store <br> { <br> <font color="#0000ff">using</font> System.Web.Mvc; <br> <font color="#0000ff">using</font> System.Web.Routing; <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Routes : AreaRegistration <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">override</font> <font color="#0000ff">void</font> RegisterArea(AreaRegistrationContext context) <br> { <br> context.MapRoute( <br> <font color="#a31515">"Store_Default"</font> , <br> <font color="#a31515">"Store/{controller}/{action}/{id}"</font> , <br> <font color="#0000ff">new</font> {controller = <font color="#a31515">"Products"</font> , action = <font color="#a31515">"List"</font> , id = <font color="#a31515">""</font> }, <br> <font color="#0000ff">new</font> <font color="#0000ff">string</font> [] { <font color="#a31515">"Store.Controllers"</font> } <br> ); <br> } <br> <font color="#0000ff">public</font> <font color="#0000ff">override</font> <font color="#0000ff">string</font> AreaName <br> { <br> <font color="#0000ff">get</font> { <font color="#0000ff">return</font> <font color="#a31515">"Store"</font> ; } <br> } <br> } <br> }</font></code> <br> </blockquote><br>  Pay attention, the Routes class is inherited from AreaRegistration, which will allow the ASP.NET MVC subsystem to further initialize the area subsystem with it.  The Routes class contains two overloaded members: the RegisterArea method and the AreaName property. <br><br>  RegisterArea performs registration of routes in the context of an application with areas.  Using <b>context.MapRoute</b> creates a route called <b>Store_Default</b> .  The last value of the parameter <b>new string [] {"Store.Controllers"}</b> defines the namespace in which the controllers are associated with this route. <br><br>  The overloaded property AreaName returns the name of the area.  This name is later used by both ASP.NET MVC and the developer to indicate the area from which the required functionality should be called. <br><br>  Classes like Routes for the Store project must be created for each project in a solution with areas. <br><br>  The next step is to add the next line of code in the parent project AreasProject in Global.asax: <br><blockquote> <code><font color="#000000"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> Application_Start() <br> { <br> AreaRegistration.RegisterAllAreas(); <br> RegisterRoutes(RouteTable.Routes); <br> }</font></code> <br> </blockquote><br>  Calling AreaRegistration.RegisterAllAreas () when starting the application will allow ASP.NET MVC to initialize all available areas and their routes in the application. <br><br>  The final step required to run the project with areas is to modify the project files * .csproj (or * .vbproj, if your projects are written in Visual Basic) for each of the projects in the solution.  To access these files, consistently unload projects from the solution using the <b>UnloadProject command</b> .  In the context menu on the uploaded project, select <b>Edit ***. Csproj</b> (Fig. 2), where *** is the name of the project. <br><br><img src="http://blogs.gotdotnet.ru/personal/XaocCPS/content/binary/WindowsLiveWriter/ASP.NETMVC2areas_D454/2_thumb.png" alt="image"><br>  <strong>Fig.</strong>  <strong>2.</strong> Context menu allowing to edit project file <br><br>  The project files contain some commented definitions that need to be uncommented to use a solution based on domains.  For area projects, these are pieces of code with comments: <br><br>  &lt;! - To enable MVC area support, uncomment the following two lines: -&gt; <br>  and <br>  &lt;! - If this is an area of ‚Äã‚Äãthe child project, uncomment the following line: -&gt; <br><br>  For the parent project, you need to uncomment pieces of code marked with: <br><br>  &lt;! - To enable MVC area support, uncomment the following two lines: -&gt; <br>  and <br>  &lt;! - If this is an area parent project, uncomment the following lines: -&gt; <br><br><blockquote>  <strong>Note</strong> <br>  It is known that in future releases of ASP.NET MVC 2, the action with editing project files will be redundant.  It is expected that work with areas will be supported at the <b>Solution Explorer</b> level, which will facilitate the creation of new areas and projects based on them. </blockquote><br>  Now that the project has been fully prepared, you can use the project area in the parent project as follows.  <b>Let's modify the Site.Master</b> file in the parent project as a block of tab list code so that it looks like on the fragment: <br><br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#ff0000">id</font> <font color="#0000ff">="menu"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <font>&lt;%</font> = Html.ActionLink( <font color="#A31515">"Home"</font> , <font color="#A31515">"Index"</font> , <font color="#A31515">"Home"</font> , <br> <font color="#0000ff">new</font> {area = <font color="#A31515">"AreasProject"</font> }, <font color="#0000ff">null</font> ) <font>%&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <font>&lt;%</font> = Html.ActionLink( <font color="#A31515">"Forum"</font> , <font color="#A31515">"Index"</font> , <font color="#A31515">"Forum"</font> , <br> <font color="#0000ff">new</font> { area = <font color="#A31515">"Forum"</font> }, <font color="#0000ff">null</font> ) <font>%&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <font>&lt;%</font> = Html.ActionLink( <font color="#A31515">"Store"</font> , <font color="#A31515">"List"</font> , <font color="#A31515">"Products"</font> , <br> <font color="#0000ff">new</font> { area = <font color="#A31515">"Store"</font> }, <font color="#0000ff">null</font> ) <font>%&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <font>&lt;%</font> = Html.ActionLink( <font color="#A31515">"About"</font> , <font color="#A31515">"About"</font> , <font color="#A31515">"Home"</font> , <br> <font color="#0000ff">new</font> {area = <font color="#A31515">"AreasProject"</font> }, <font color="#0000ff">null</font> ) <font>%&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font></font> <br></code> </blockquote><br>  Note that link building with <b>Html.ActionLink</b> now requires specifying the area in which you want to find the controller and the action.  If we run the project, we will see the following (Fig. 3): <br><br><img src="http://blogs.gotdotnet.ru/personal/XaocCPS/content/binary/WindowsLiveWriter/ASP.NETMVC2areas_D454/3_thumb.png" alt="image"><br>  <strong>Fig.3.</strong>  Running application <br><br>  The new tabs Store and Forum will work according to the specified rules and display views from the area projects. <br><br><h3>  <strong>Areas in one project</strong> </h3><br>  If in the solution of the previous example areas for several projects include the option to show hidden files for the parent project, we will see the following picture (Fig. 4). <br><br><img src="http://blogs.gotdotnet.ru/personal/XaocCPS/content/binary/WindowsLiveWriter/ASP.NETMVC2areas_D454/4_thumb.png" alt="image"><br>  <strong>Fig.</strong>  <strong>4.</strong> Hidden elements of the solution <br><br>  In the parent project AreasProject in the <b>Views / Areas</b> folder, hidden elements from the area projects are created.  This is required so that the parent project independently displays the views of the project-areas. <br><br>  However, this structure of hidden files can also be used directly.  In ASP.NET MVC 2 Preview 2, it became possible to create solutions with single projects based on regions.  Such solutions contain only one project in which all areas are implemented.  In fig.  Figure 5 shows the structure of a single project that implements the same areas that were implemented in the previous section with the help of several area projects. <br><br><img src="http://blogs.gotdotnet.ru/personal/XaocCPS/content/binary/WindowsLiveWriter/ASP.NETMVC2areas_D454/5_thumb.png" alt="image"><br>  <strong>Fig.5.</strong>  The structure of a single project based on regions. <br><br>  To create such a project, by analogy with the previous example, we have to create instead of several projects a hierarchy of areas in one project.  To do this, you need to create an Areas folder in the root of the project, in which each created folder will be a separate area.  In fig.  5 such folders are Forum and Store.  They need to create Controllers and Views folders for controllers and views and implement them just as we did in the previous section.  Please note that for each of the folder-areas it is also necessary to create a file Routes.cs with the implementation of the AreaRegistration class.  You need to update Global.asax by adding the call to AreaRegistration.RegisterAllAreas ().  After this, you will receive a project similar to the solution with several project areas. <br><br>  The pleasant difference in developing a single project based on domains from a solution with several project domains is that when creating a single ASP.NET MVC project based on domains, there is no need to change its project file, since there is no need to handle dependencies between projects.  In general, this somewhat simplifies the creation of a solution with areas. <br><br>  The functional area is a useful mechanism that allows you to divide in a large solution the logic of the various parts into composite objects - areas.  You can choose how the regions will be represented in your solution: on the basis of several projects or on the basis of only one project.  In any case, the creation of areas is not difficult and will allow you to conveniently separate heterogeneous functions in the application. <br><br>  <b>Addition:</b> solution source codes with the discussed techniques can be downloaded <a href="">from here</a> (Visual Studio 2010 Beta 2 is required).  In case the solution with several project-areas gives 404 when switching to areas, recompile two project-areas. <br><br> <a href="http://progg.ru/ASPNET-MVC-2-%25D0%25BE%25D0%25B1%25D0%25BB%25D0%25B0%25D1%2581%25D1%2582%25D0%25B8-areas-%25E2%2580%2594-%25D0%25BE%25D0%25BF%25D0%25B8%25D1%2581%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5-%25D0%25B8%25D1%2581%25D0%25BF%25D0%25BE%25D0%25BB%25D1%258C%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5-NET-%25D0%25A5%25D0%25B0%25D0%25B1%25D1%2580%25D0%25B0%25D1%2585%25D0%25B0%25D0%25B1%25D1%2580"><img alt="Progg it" src="http://progg.ru/image.axd?url=http%3A%2F%2Fhabrahabr.ru%2Fblogs%2Fnet%2F74061%2F"></a> <br></div><p>Source: <a href="https://habr.com/ru/post/74061/">https://habr.com/ru/post/74061/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../74046/index.html">Daily rent of apartments in Russia, Ukraine and CIS</a></li>
<li><a href="../74047/index.html">Flash programmer site</a></li>
<li><a href="../74052/index.html">My Mir@Mail.Ru: 100% of the money to developers</a></li>
<li><a href="../74056/index.html">Overnight project</a></li>
<li><a href="../74059/index.html">Ericsson Spider Computer</a></li>
<li><a href="../74062/index.html">Jeans on Habr√©</a></li>
<li><a href="../74064/index.html">6 Gigabit SAS for 6th Generation HP ProLiant</a></li>
<li><a href="../74066/index.html">Dimasik collects base addresses</a></li>
<li><a href="../74067/index.html">Using jQuery in GreaseMonkey scripts</a></li>
<li><a href="../74069/index.html">SpiderHolster DSLR Holder</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>