<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Number Theory in TeX-way</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We demonstrate some features of writing TeX macros by embedding a number-theoretic calculator into TeX. 

 Formulation of the problem 
 From time to t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Number Theory in TeX-way</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/c46a7486/6ddd59f7/276145f1/87e603f0.png" alt="   TeX" title="Number Theory and TeX" align="left">  <i>We demonstrate some features of writing TeX macros by embedding a number-theoretic calculator into TeX.</i> <br><br><h4>  Formulation of the problem </h4><br>  From time to time I have to type regular text, followed by examples of calculating number-theoretic functions: <a href="http://ru.wikipedia.org/wiki/%25D0%25A4%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F_%25D0%25AD%25D0%25B9%25D0%25BB%25D0%25B5%25D1%2580%25D0%25B0">the Euler function œÜ</a> , <a href="http://en.wikipedia.org/wiki/Divisor_function">the divisor function œÑ</a> , <a href="http://en.wikipedia.org/wiki/Carmichael_function">the Carmichael function Œª</a> .  Previously, it was done this way: we launch our favorite calculator (my choice is <a href="http://pari.math.u-bordeaux.fr/">PARI / GP</a> ), we consider everything in it and copy the calculations in TeX.  The original data has changed - again to the calculator and back.  A lot of fuss, a lot of chances to forget to replace some intermediate result.  And just waving a mouse bothers.  <b>I want to</b> automate this process at least for the most common functions <b>so that you can write</b> <b><br></b> <pre><code class="tex hljs"><span class="hljs-formula"><span class="hljs-formula">$</span><span class="hljs-tag"><span class="hljs-formula"><span class="hljs-tag">\</span></span><span class="hljs-name"><span class="hljs-formula"><span class="hljs-tag"><span class="hljs-name">phi</span></span></span></span></span><span class="hljs-formula">(1001)=</span><span class="hljs-tag"><span class="hljs-formula"><span class="hljs-tag">\</span></span><span class="hljs-name"><span class="hljs-formula"><span class="hljs-tag"><span class="hljs-name">Phi</span></span></span></span></span><span class="hljs-formula">(1001)$</span></span></code> </pre>  and get on print <br><img src="https://habrastorage.org/storage1/19bccb52/7c9016ba/9a7acb77/87fa9f13.png" alt="\phi(1001)=720" title="\ phi (1001) = 720"><br><a name="habracut"></a><br>  The most common solution is to use an external preprocessor that would bite the necessary fragments of the formulas, pass them on to the external calculator, take the result and insert it into the document.  The main disadvantage is, of course, the loss of compatibility.  Before, we could just send a tex file by email.  Now, in order to be able to compile it into pdf at that end of the wire, we also need a detailed instruction indicating the necessary preprocessor and calculator.  At this stage, we will almost certainly find out that the recipient has a different OS and our dances with a tambourine are not needed for him.  Go to plan B. <br><br><h4>  Plan b </h4><br>  Let's try to do with TeX's own means, the macros of which, as we know, make up the Turing-complete language.  It is not as esoteric as Brainfuck, but very far from C-like syntax and, worse, semantics. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first thing to notice is that the macro can take arguments, but cannot return values ‚Äã‚Äãtransparently.  A pascalist would say that a macro behaves not as a function, but as a procedure.  Here, for example, how you can write a macro that summarizes two numbers: <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">newcount</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">s</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">def</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addition</span></span></span></span>#1#2{<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">s</span></span></span><span class="hljs-tag">=</span></span>#1<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">advance</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">s</span></span></span></span> by#2 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">s</span></span></span></span>}</code> </pre> <br>  Confused?  Let's try again, only with comments and spaces: <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">newcount</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">s</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">%    \def\addition#1#2{ %      \s=#1 %   s   \advance\s by#2 %    \number\s %    }</span></span></code> </pre> <br>  Now <br><pre> <code class="tex hljs">2+3=<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addition</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{2}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{3}</span></span></span></span></code> </pre>  will give the seal "2 + 3 = 5". <br><br>  ( <a href="http://progopedia.ru/language/tex/">A few more examples of mathematical functions</a> ) <br><br><h4>  Division completely </h4><br>  Let's write something more complicated.  Our first goal is a function that checks whether one number divides to another without a remainder. <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">newif</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ifdivisible</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">%    \newcount\testMod@n %    \def\testMod#1#2{ %      \testMod@n=#1 %   testMod@n   \divide\testMod@n by#2 %      \multiply\testMod@n by#2 %      \ifnum#1=\testMod@n %       , \divisibletrue %    , \else %   \divisiblefalse %  \fi% }</span></span></code> </pre> <br>  This macro places divisible truth, if the division has passed without a trace, and false otherwise.  Checking: <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testMod</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{6}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{3}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ifdivisible</span></span></span></span> 1 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">else</span></span></span></span> 0 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fi</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testMod</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{6}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{4}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ifdivisible</span></span></span></span> 1 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">else</span></span></span></span> 0 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fi</span></span></span></span></code> </pre> <br>  should give the output "1 0": 6 divided by 3, but not divided by 4. <br><br>  If you saved this code to a file and compiled it with <b>tex,</b> you probably already saw the error ‚ÄúTeX capacity exceeded‚Äù.  The fact is that we forgot to ask to treat @ as an ordinary symbol, valid in macro names and variables.  This can be done with the command <pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span> `<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>11</code> </pre>  (This is the same macro used in LaTeX under the alias \ makeatletter.) <br><br>  In general, TeX can work with the fields of visibility of variables and macros, but it does not do so much the way it is done in ordinary programming languages.  For example, try <pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">def</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addition</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{\newcount\s}</span></span></span></span></code> </pre>  declare a variable inside a macro to fail: "Forbidden control sequence found while scanning definition of \ a".  There may be several roundabout maneuvers, but it is enough for us to agree to call the ‚Äúlocal‚Äù (actually global) variables as &lt;function name&gt; @ &lt;personal name&gt; and be careful (!).  After all of our macros, we will again make @ a special character using <pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span> `<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>12</code> </pre>  which prevents direct access to these variables from a later document. <br><br>  <a href="http://pastebin.com/AM1fMbjA">Code testing \ testMod</a> <br><br><h4>  Unitary divider and exponentiation </h4><br>  Next step: we will build a macro that calculates the maximum degree of one number, which still divides the other completely (if <i>d</i> is simple, then this is a <i>unitary divisor</i> ): <img src="https://habrastorage.org/storage1/4b5d8b50/d6e3b63b/41f03eb1/0c5c345e.gif" alt=" " title="unitary divider"><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">newcount</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">divisorpower</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">%      , \newcount\getDivisorPower@m %   - n/d^a \def\getDivisorPower#1#2{ \getDivisorPower@m=#1 %   \divisorpower=0 % \testMod{\getDivisorPower@m}{#2} % ,    d \loop\ifdivisible % while-,   divisible \advance\divisorpower by1 %  a  1 \divide\getDivisorPower@m by#2 %   d \testMod{\getDivisorPower@m}{#2} %  ,    d \repeat %     }</span></span></code> </pre> <br>  In C, this code would look like this (we write it intentionally clumsily): <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> divisible; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDivisorPower</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> d)</span></span></span></span>{ m = n; a = <span class="hljs-number"><span class="hljs-number">0</span></span>; divisible = (m % d == <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(divisible){ a++; m /= d; divisible = (m % d == <span class="hljs-number"><span class="hljs-number">0</span></span>); } }</code> </pre> <br>  Now a very easy macro: <img src="https://habrastorage.org/storage1/86455c0c/0828959f/34346aa7/aaf529cb.png" alt="  " title="exponentiation"><br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">newcount</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">numberpower</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">%        \newcount\getNumberPower@pow %   -      \def\getNumberPower#1#2{ \numberpower=1 %   \getNumberPower@pow=#2 \loop\ifnum\getNumberPower@pow&gt;0 %   \multiply\numberpower by#1 \advance\getNumberPower@pow by-1 \repeat }</span></span></code> </pre> <br>  Back to C: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numberpower; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNumberPower</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> d, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a)</span></span></span></span>{ numberpower = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span> = a; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">pow</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ numberpower *= d; <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>--; } }</code> </pre> <br>  It would be possible to implement a <a href="http://en.wikipedia.org/wiki/Exponentiation_by_squaring">more efficient</a> exponentiation <a href="http://en.wikipedia.org/wiki/Exponentiation_by_squaring">algorithm</a> , but this is enough for us. <br><br>  It's time to make a check: <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getDivisorPower</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{600}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{2}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">divisorpower</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getDivisorPower</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{600}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{3}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">divisorpower</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getDivisorPower</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{600}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{5}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">divisorpower</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getDivisorPower</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{600}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{7}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">divisorpower</span></span></span></span></code> </pre> <br>  should output "3 1 2 0", and <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getNumberPower</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{5}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">numberpower</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getNumberPower</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{6}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{1}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">numberpower</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">getNumberPower</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{7}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{2}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">numberpower</span></span></span></span></code> </pre> <br>  will give "1 6 49". <br><br>  <a href="http://pastebin.com/g6iWT38u">Code testing \ getDivisorPower and \ getNumberPower</a> <br><br><h4>  What's next? </h4><br>  <b>Part 2,</b> in which we will build a macro that considers the Euler function.  For the most impatient - the <a href="http://pastebin.com/32Y1NRJ7">working version of the macro</a> .  TeX easily handles calculations when <i>n</i> ~ 10 <sup>9</sup> . <br><br>  <b>Part 3,</b> in which there will be even more sophisticated examples of mathematical calculations in TeX and, of course, benchmarks. </div><p>Source: <a href="https://habr.com/ru/post/122659/">https://habr.com/ru/post/122659/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122650/index.html">Creating language extensions in RASE. Part 2. Create an expression</a></li>
<li><a href="../122652/index.html">Sandbox broken</a></li>
<li><a href="../122653/index.html">Mark the Day of the system administrator in Odessa!</a></li>
<li><a href="../122657/index.html">Is there phonetic sorting?</a></li>
<li><a href="../122658/index.html">Browser Market in Runet</a></li>
<li><a href="../122661/index.html">FBI mistakenly stole Instapaper server</a></li>
<li><a href="../122664/index.html">Pavel Vrublevsky, director of ChronoPay, was arrested</a></li>
<li><a href="../122665/index.html">The dangers of learning in Java</a></li>
<li><a href="../122666/index.html">Publishing world</a></li>
<li><a href="../122667/index.html">rescue initrd in cloud selective</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>