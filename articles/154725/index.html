<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FitNesse + TeamCity - add tone to the project</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, lovers clamp the constructed system in a variety of tests! Many of you use the tools to create system tests. Someone even uses FitNesse , wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FitNesse + TeamCity - add tone to the project</h1><div class="post__text post__text-html js-mediator-article">  Good day, lovers clamp the constructed system in a variety of tests!  Many of you use the tools to create system tests.  Someone even uses <a href="http://fitnesse.org/">FitNesse</a> , which <a href="http://habrahabr.ru/post/85831/">was talked a bit</a> about in Habr√©.  Therefore, I will not repeat and write about what FitNesse is and what it is eaten with.  I'd better tell you how to make the project ‚Äúdo fitness‚Äù during the build process, which proceeds with the help of <a href="http://www.jetbrains.com/teamcity/">TeamCity</a> . <br>  Interesting?  Then welcome under cat. <br><a name="habracut"></a><br><h5>  So, given: </h5><br><ol><li>  A project written in PHP that needs an external framework of tests.  The developer wants to be sure that after making changes, the end user will see exactly what he has seen before, plus a new feature.  And not a new thing and a sharp UOS of the neighboring module for managing reports. <br></li><li>  System tests for controlling UI via Selenium Webdriver, written on the basis of PHPUnit.  They have 2 flaws, namely: <br><ul><li>  The tester must know PHP, PHPUnit, Webdriver API.  And at the same time write clean code that can read not only him. <br><img src="https://habrastorage.org/storage2/8e4/fd1/d34/8e4fd1d34ca312d4280be36181bffc48.png"><br>  Let's make life easier for him already :) <br></li><li>  Therefore, the existing tests are written in such a way that supporting them is a dark and ungrateful business.  Even darker and more ungrateful is the situation when programmers fail to understand right away, and why, in fact, the test failed.  And you have to spend time ... <br></li></ul><br></li><li>  Automatically build a project and run all the tests with TeamCity <br></li><li>  A number of UI tests managed by FitNesse.  More readable than written in PHP, and anyone can open our FitNesse-wiki and run any test.  And even the managers understand what is happening on the screen there :).  However, when building a project, these tests do not automatically run. <br></li></ol><br><h5>  Decision. </h5><br>  We will decide the last fad by crossing TeamCity Buildrunner and FitNesse.  You can do this in different ways: you can independently <a href="http://stas-blogspot.blogspot.com/2011/07/integration-of-teamcity-6x-and-fitnesse.html">configure a bunch of FitNesse runner + TeamCity</a> , or you can go in a simple way and use a <a href="https://github.com/EKibort/TeamCityFitnessePlugin">specially trained plug-in</a> .  From the box, the plugin is able to run FitNesse at the path specified in the settings, run the tests and issue brief statistics.  In general, a miracle, but frustrating as follows: <br><ul><li>  Having trouble running on BuildAgent, which runs on Linux </li><li>  FitNesse runs every time you start the assembly.  And cut down on its completion.  And sometimes you want to go to the page of a specific test and look into his eyes :) </li></ul><br>  Therefore, our team decided to take the plugin, finish it under our fantastic requirements and share it with the community.  <a href="https://github.com/elgris/TeamCityFitnessePlugin">A sawn-through plugin is available on GitHub</a> . <br>  I will briefly describe the installation and configuration process.  In general, it is similar to the one described in the README of the original plug-in, but now FitNesse should be run by someone on BuilAgent in advance.  And since  He will rustle there all the time, at any moment you can go in and run any test you like with your hands. <br><ul><li>  With the help of ant we collect the project in the archive Fitnesse.zip, intended for feeding the TeamCity server. <br></li><li>  We slip TeamCity server our archive into the plugins folder.  And restart the server. <br></li><li>  Now TeamCity has to update its BuildAgents with a new plugin.  If something went wrong with the agents, reboot them. <br></li><li>  A new runner appeared on TeamCity server - Fitnesse runner.  Now you can add another build step.  It is configured simply, in 2 parameters: <br>  <i>FitNesse host</i> - in fact, the address where you can open our FitNesse wiki. <br>  <i>Test names</i> - an enumeration of tests that must be run.  The names of the tests are written in a line, the separator - a semicolon. <br></li><li>  On BuildAgent, we run FitNesse and configure it so that it picks up the tests that BuilAgent collects.  In our case, this was solved by setting the $ FITNESSE_ROOTPATH ‚Äã‚Äãvariable when running via the -d parameter: <br><pre><code class="bash hljs">java -jar fitnesse-standalone.jar -p 8080 -d ~/BuildAgent/work/branch/<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>/src/Fitnesse</code> </pre> <br>  And since  when building BuildAgent updates the <code>branch/test/src/Fitnesse</code> , then FitNesse will always have tests of the branch being built. <br></li><li>  All, you can run the assembly. </li></ul><br><h5>  Answer. </h5><br>  Approximately such pictures we will be able to observe at the exit.  This will be seen in the test results: <br><img src="https://habrastorage.org/storage2/201/77f/fb2/20177ffb201c0a7083afc54766128f52.png"><br><br>  And this is in the buil logs: <br><img src="https://habrastorage.org/storage2/6d5/bfc/f06/6d5bfcf06fbfca88a8d1151ec8d2cd7b.png"><br>  For complete happiness, it remains to make the links work ‚Äúas links,‚Äù in which <a href="http://atombrenner.blogspot.com/2012/09/embed-url-links-in-teamcity-build-logs.html">this article</a> can help.  But this is a discussion of another plan. <br><br><h5>  What is the profit from FitNesse? </h5><br>  First, once having developed and documented the API that is available from FitNesse, the tester will no longer have to ask to write PHP code.  He has a single tool - Wiki markup, which he writes test scripts and documentation at the same time.  If you need a new API handle, it will not be written by the tester, but by the development team.  Which actually pay money for the code :). <br>  Secondly, you can maintain documentation on the system directly on the page with tests.  New employees will be useful to dig deeper with such a knowledge base.  Yes, and the style of writing FitNesse tests is much more convenient for perception by a person familiar with the English language.  If you wish, you can even show to managers ‚Äî let them see that ‚ÄúPANIC !!‚Äù, ‚Äúand it really works :). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  To the community. </h5><br>  Please do not judge the plugin too strictly - it is still ‚Äúyoung and inexperienced‚Äù :) If you are interested in someone, do not hesitate to finish / hang it up as your heart desires.  And let all be good. </div><p>Source: <a href="https://habr.com/ru/post/154725/">https://habr.com/ru/post/154725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../154701/index.html">Perl6 - Conditional Operators, Loops</a></li>
<li><a href="../154709/index.html">Linus Torvalds compared hard drives with Satan</a></li>
<li><a href="../154713/index.html">Real-time Windows Memory Management</a></li>
<li><a href="../154719/index.html">Beautiful checkboxes and radio buttons on CSS3 without JavaScript</a></li>
<li><a href="../154723/index.html">Monitoring of switches Cisco, D-Link, 3Com, Zyxel in the Zabbix system</a></li>
<li><a href="../154727/index.html">The founder of QNX is confident that the BlackBerry 10 will be impressive</a></li>
<li><a href="../154729/index.html">Adventure Design Patterns: Part One</a></li>
<li><a href="../154731/index.html">Monoblock Acer Aspire 5600U: outside, inside and under Windows 8</a></li>
<li><a href="../154735/index.html">Apple will pay the Swiss railway workers for the right to use the clock icon in iOS 6</a></li>
<li><a href="../154739/index.html">Red Bull Stratos, live broadcast: take 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>