<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data-mining and Twitter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Among social networks, Twitter is more suitable for extracting text data due to the hard limit on the length of the message in which users are forced ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data-mining and Twitter</h1><div class="post__text post__text-html js-mediator-article"><p>  Among social networks, Twitter is more suitable for extracting text data due to the hard limit on the length of the message in which users are forced to put all the most essential. </p><br><p>  <em>I suggest to guess what technology is framed by this cloud of words?</em> </p><br><p><img src="https://habrastorage.org/webt/bk/lk/fr/bklkfremupdgq9qu0sl1qwtg5rs.png" alt="Cloud"></p><br><p>  Using the Twitter API you can extract and analyze a wide variety of information.  An article on how to do this using the R programming language. </p><a name="habracut"></a><br><p>  Writing the code takes not so much time, difficulties may arise due to changes and <a href="https://github.com/r-lib/httr/issues/156">toughening of the</a> Twitter API, the company seems to be seriously concerned about security issues after <a href="https://goo.gl/u2NrFE">dragging out the US Congress</a> following the investigation into the influence of ‚ÄúRussian hackers‚Äù on the US elections in 2016. </p><br><h1 id="poluchenie-dostupa-k-api">  Accessing API </h1><br><p>  Why would someone need to commercially extract data from Twitter?  Well, for example, it helps to make <a href="https://arxiv.org/pdf/1411.1243.pdf">more accurate</a> predictions about the outcome of sporting events.  But I'm sure there are other user scripts. </p><br><p>  For a start, it is clear that you need to have a Twitter account with the phone number.  It is necessary to create an application, this step gives access to the API. </p><br><p>  Go to the <a href="https://developer.twitter.com/en/apps">developer</a> page and click on the button <a href="https://developer.twitter.com/en/apps/create">Create an app</a> .  The following is a page where you need to fill out information about the application.  At the moment the page consists of the following fields. </p><br><p><img src="https://habrastorage.org/webt/ub/vq/bm/ubvqbmq-rsv1kxgmxiwvm1v-ux0.png" alt="apps"></p><br><ul><li>  <strong>AppName</strong> - the name of the application (required). </li><li>  <strong>Application description</strong> - description of the application (required). </li><li>  <strong>Website URL</strong> - application site page (required), you can enter anything that looks like a URL. </li><li>  <strong>Enable Sign in with Twitter</strong> (check box) - Login from the application page to Twitter, you can skip. </li><li> <strong>Callback URLs</strong> - <strong>Callback</strong> application for authentication (required) and <em>necessary</em> , you can leave <code>http://127.0.0.1:1410</code> . </li></ul><br><p>  The following are optional fields: the address of the terms of service page, the name of the organization, and so on. </p><br><p>  When creating a developer account, select one of three options. </p><br><ul><li>  <strong>Standard</strong> - Basic option, you can search for entries to a depth of ‚â§ 7 days, free. </li><li>  <strong>Premium</strong> - A more advanced option, you can search for records to a depth of ‚â§ 30 days and since 2006. Free, but they do not give immediately after consideration of the application. </li><li>  <strong>Enterprise</strong> - Business class, paid and reliable rate. </li></ul><br><p>  I chose <strong>Premium</strong> , I had to wait for approval for about a week.  I can not say to everyone, whether they are giving it in a row, but it is worth trying in any case, and <strong>Standard</strong> will not go anywhere. </p><br><h1 id="podklyuchenie-k-tvitteru">  Connect to Twitter </h1><br><p>  After you have created an application in the <em>Keys and tokens</em> tab, a set containing the following elements will appear.  The names below and the corresponding variables are R. </p><br><p>  <em>Consumer API keys</em> </p><br><ul><li>  <strong>API key</strong> - <code>api_key</code> </li><li>  <strong>API secret key</strong> - <code>api_secret</code> </li></ul><br><p>  <em>Access token &amp; access token secret</em> </p><br><ul><li>  <strong>Access token</strong> - <code>access_token</code> </li><li>  <strong>Access token secret</strong> - <code>access_token_secret</code> </li></ul><br><p>  Install the necessary packages. </p><br><pre> <code class="hljs cmake"><span class="hljs-keyword"><span class="hljs-keyword">install</span></span>.packages(<span class="hljs-string"><span class="hljs-string">"rtweet"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">install</span></span>.packages(<span class="hljs-string"><span class="hljs-string">"tm"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">install</span></span>.packages(<span class="hljs-string"><span class="hljs-string">"wordcloud"</span></span>)</code> </pre> <br><p>  This part of the code will look like this. </p><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">library</span></span>(<span class="hljs-string"><span class="hljs-string">"rtweet"</span></span>) api_key &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> api_secret &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> access_token &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> access_token_secret &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> appname=<span class="hljs-string"><span class="hljs-string">""</span></span> setup_twitter_oauth ( api_key, api_secret, access_token, access_token_secret)</code> </pre> <br><p>  After authentication, R will offer to save <code>OAuth</code> codes to disk for later use. </p><br><pre> <code class="hljs sql">[1] "Using direct authentication" <span class="hljs-keyword"><span class="hljs-keyword">Use</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">cache</span></span> OAuth <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> credentials <span class="hljs-keyword"><span class="hljs-keyword">between</span></span> R sessions? <span class="hljs-number"><span class="hljs-number">1</span></span>: Yes <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">No</span></span></code> </pre> <br><p>  Both options are acceptable, I chose the 1st. </p><br><h1 id="poisk-i-filtraciya-rezultatov">  Search and filter results </h1><br><pre> <code class="hljs objectivec">tweets &lt;- search_tweets(<span class="hljs-string"><span class="hljs-string">"hadoop"</span></span>, include_rts=<span class="hljs-literal"><span class="hljs-literal">FALSE</span></span>, n=<span class="hljs-number"><span class="hljs-number">600</span></span>)</code> </pre> <br><p>  The <code>include_rts</code> key allows you to control the inclusion of retweets in the search or exclusion from it.  At the output we get a table with many fields in which there are details and details of each record.  Here are the first 20. </p><br><pre> <code class="hljs objectivec">&gt; head(names(tweets), n=<span class="hljs-number"><span class="hljs-number">20</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-string"><span class="hljs-string">"user_id"</span></span> <span class="hljs-string"><span class="hljs-string">"status_id"</span></span> <span class="hljs-string"><span class="hljs-string">"created_at"</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-string"><span class="hljs-string">"screen_name"</span></span> <span class="hljs-string"><span class="hljs-string">"text"</span></span> <span class="hljs-string"><span class="hljs-string">"source"</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>] <span class="hljs-string"><span class="hljs-string">"display_text_width"</span></span> <span class="hljs-string"><span class="hljs-string">"reply_to_status_id"</span></span> <span class="hljs-string"><span class="hljs-string">"reply_to_user_id"</span></span> [<span class="hljs-number"><span class="hljs-number">10</span></span>] <span class="hljs-string"><span class="hljs-string">"reply_to_screen_name"</span></span> <span class="hljs-string"><span class="hljs-string">"is_quote"</span></span> <span class="hljs-string"><span class="hljs-string">"is_retweet"</span></span> [<span class="hljs-number"><span class="hljs-number">13</span></span>] <span class="hljs-string"><span class="hljs-string">"favorite_count"</span></span> <span class="hljs-string"><span class="hljs-string">"retweet_count"</span></span> <span class="hljs-string"><span class="hljs-string">"hashtags"</span></span> [<span class="hljs-number"><span class="hljs-number">16</span></span>] <span class="hljs-string"><span class="hljs-string">"symbols"</span></span> <span class="hljs-string"><span class="hljs-string">"urls_url"</span></span> <span class="hljs-string"><span class="hljs-string">"urls_t.co"</span></span> [<span class="hljs-number"><span class="hljs-number">19</span></span>] <span class="hljs-string"><span class="hljs-string">"urls_expanded_url"</span></span> <span class="hljs-string"><span class="hljs-string">"media_url"</span></span></code> </pre> <br><p>  You can make a more complex search string. </p><br><pre> <code class="hljs lisp">search_string &lt;- paste0(<span class="hljs-name"><span class="hljs-name">c</span></span>(<span class="hljs-string"><span class="hljs-string">"data mining"</span></span>,<span class="hljs-string"><span class="hljs-string">"#bigdata"</span></span>),collapse = <span class="hljs-string"><span class="hljs-string">"+"</span></span>) search_tweets(<span class="hljs-name"><span class="hljs-name">search_string</span></span>, include_rts=FALSE, n=100)</code> </pre> <br><p>  Search results can be saved in a text file. </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">write</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">table</span></span>(tweets$<span class="hljs-type"><span class="hljs-type">text</span></span>, file="datamine.txt")</code> </pre> <br><p>  We merge into the corpus of texts, filter out the official words, punctuation marks, and translate everything into lower case. </p><br><p>  There is another search function - <code>searchTwitter</code> , which requires the <code>twitteR</code> library.  In some ways, it is more convenient to <code>search_tweets</code> , but in some ways it is inferior to it. </p><br><p>  <strong>Plus</strong> - the presence of a filter in time. </p><br><pre> <code class="hljs lisp"> tweets &lt;- searchTwitter(<span class="hljs-string"><span class="hljs-string">"hadoop"</span></span>, since=<span class="hljs-string"><span class="hljs-string">"2017-09-01"</span></span>, n=500) text = sapply(<span class="hljs-name"><span class="hljs-name">tweets</span></span>, function(<span class="hljs-name"><span class="hljs-name">x</span></span>) x$getText())</code> </pre> <br><p>  <strong>Minus</strong> - the output is not a table, but an object of type <code>status</code> .  In order to use it in our example, you need to isolate the text field from the output.  This makes <code>sapply</code> in the second line. </p><br><pre> <code class="hljs lisp">corpus &lt;- Corpus(<span class="hljs-name"><span class="hljs-name">VectorSource</span></span>(<span class="hljs-name"><span class="hljs-name">tweets</span></span>$text)) clearCorpus &lt;- tm_map(<span class="hljs-name"><span class="hljs-name">corpus</span></span>, function(<span class="hljs-name"><span class="hljs-name">x</span></span>) iconv(<span class="hljs-name"><span class="hljs-name">enc2utf8</span></span>(<span class="hljs-name"><span class="hljs-name">x</span></span>), sub = <span class="hljs-string"><span class="hljs-string">"byte"</span></span>)) tdm &lt;- TermDocumentMatrix(<span class="hljs-name"><span class="hljs-name">clearCorpus</span></span>, control = list(<span class="hljs-name"><span class="hljs-name">removePunctuation</span></span> = TRUE, stopwords = c(<span class="hljs-string"><span class="hljs-string">"com"</span></span>, <span class="hljs-string"><span class="hljs-string">"https"</span></span>, <span class="hljs-string"><span class="hljs-string">"hadoop"</span></span>, stopwords(<span class="hljs-string"><span class="hljs-string">"english"</span></span>)), removeNumbers = TRUE, tolower = TRUE))</code> </pre> <br><p>  In the second line, the <code>tm_map</code> function <code>tm_map</code> needed in order to translate any Emodzhi characters into lowercase, otherwise the conversion to lower case using <code>tolower</code> will end with an error. </p><br><h1 id="postroenie-oblaka-slov">  Build a word cloud </h1><br><p>  Word clouds first appeared on <a href="http://flickr.com/">Flickr</a> photo hosting, as far as I know, and have since gained popularity.  For this task we need a <code>wordcloud</code> library. </p><br><pre> <code class="hljs django"><span class="xml"><span class="xml">m </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">as.matrix</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">tdm</span></span></span></span><span class="xml"><span class="hljs-tag">) </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">word_freqs</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">sort</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">rowSums</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">m</span></span></span></span><span class="xml"><span class="hljs-tag">), </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">decreasing</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">TRUE)</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dm</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">data.frame</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">word</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">names(word_freqs),</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">freq</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">word_freqs)</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">wordcloud</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dm</span></span></span></span><span class="xml"><span class="hljs-tag">$</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">word</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dm</span></span></span></span><span class="xml"><span class="hljs-tag">$</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">freq</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">scale</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">c(3,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.5</span></span></span></span><span class="xml"><span class="hljs-tag">), </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">random.order</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">FALSE,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">colors</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">brewer.pal(8,</span></span></span></span><span class="xml"><span class="hljs-tag"> "</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Dark2</span></span></span></span><span class="xml"><span class="hljs-tag">"))</span></span></span></span></code> </pre> <br><p>  The <code>search_string</code> function allows you to set a language as a parameter. </p><br><pre> <code class="hljs lisp">search_tweets(<span class="hljs-name"><span class="hljs-name">search_string</span></span>, include_rts=FALSE, n=100, lang=<span class="hljs-string"><span class="hljs-string">"ru"</span></span>)</code> </pre> <br><p>  However, since the NLP package for R is poorly Russified, in particular, there is no list of service or stop words, I could not build a word cloud with the search in Russian.  I would be glad if you find the best solution in the comments. </p><br><p>  Well, actually ... </p><br><div class="spoiler">  <b class="spoiler_title">whole script</b> <div class="spoiler_text"><pre> <code class="hljs php">library(<span class="hljs-string"><span class="hljs-string">"rtweet"</span></span>) library(<span class="hljs-string"><span class="hljs-string">"tm"</span></span>) library(<span class="hljs-string"><span class="hljs-string">"wordcloud"</span></span>) api_key &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> api_secret &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> access_token &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> access_token_secret &lt;- <span class="hljs-string"><span class="hljs-string">""</span></span> appname=<span class="hljs-string"><span class="hljs-string">""</span></span> setup_twitter_oauth ( api_key, api_secret, access_token, access_token_secret) oauth_callback &lt;- <span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:1410"</span></span> setup_twitter_oauth (api_key, api_secret, access_token, access_token_secret) appname=<span class="hljs-string"><span class="hljs-string">"my_app"</span></span> twitter_token &lt;- create_token(app = appname, consumer_key = api_key, consumer_secret = api_secret) tweets &lt;- search_tweets(<span class="hljs-string"><span class="hljs-string">"devops"</span></span>, include_rts=<span class="hljs-keyword"><span class="hljs-keyword">FALSE</span></span>, n=<span class="hljs-number"><span class="hljs-number">600</span></span>) corpus &lt;- Corpus(VectorSource(tweets$text)) clearCorpus &lt;- tm_map(corpus, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iconv</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(enc2utf8</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(x)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, sub = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"byte"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tdm</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TermDocumentMatrix</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(clearCorpus, control = list</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(removePunctuation = TRUE, stopwords = c</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(</span></span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"com"</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">, </span></span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"https"</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">, </span></span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"drupal"</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">, stopwords</span></span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">(</span></span></span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"english"</span></span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, removeNumbers = TRUE, tolower = TRUE)</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">as</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">matrix</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(tdm)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">word_freqs</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sort</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rowSums</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(m)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, decreasing=TRUE)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dm</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">data</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(word=names</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(word_freqs)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, freq=word_freqs)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wordcloud</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dm$word, dm$freq, scale=c</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">.5</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, random.order=FALSE, colors=brewer.pal</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">8</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-string">"Dark2"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span></code> </pre> </div></div><br><h2 id="ispolzovannye-materialy">  Used materials. </h2><br><p>  Short links: </p><br><ul><li>  <a href="https://goo.gl/52po2q">Collecting Twitter Data: Getting Started</a> </li><li>  <a href="https://goo.gl/53U87V">Using R to Mine and Analyze Popular Sentiments</a> </li><li>  <a href="https://goo.gl/UUWfDz">Using Twitter API to collect data</a> </li><li>  <a href="https://goo.gl/JcHtSC">Explore Twitter Data Using R</a> </li><li>  <a href="https://goo.gl/mhN1Ei">Introduction to the tm Package, Text Mining in R</a> </li></ul><br><p>  Original links: </p><br><p>  <a href="https://stats.seandolinar.com/collecting-twitter-data-getting-started/">https://stats.seandolinar.com/collecting-twitter-data-getting-started/</a> <br>  <a href="https://opensourceforu.com/2018/07/using-r-to-mine-and-analyse-popular-sentiments/">https://opensourceforu.com/2018/07/using-r-to-mine-and-analyse-popular-sentiments/</a> <br>  <a href="http://dkhramov.dp.ua/images/edu/Stu.WebMining/ch17_twitter.pdf">http://dkhramov.dp.ua/images/edu/Stu.WebMining/ch17_twitter.pdf</a> <br>  <a href="http://opensourceforu.com/2018/02/explore-twitter-data-using-r/">http://opensourceforu.com/2018/02/explore-twitter-data-using-r/</a> <br>  <a href="https://cran.r-project.org/web/packages/tm/vignettes/tm.pdf">https://cran.r-project.org/web/packages/tm/vignettes/tm.pdf</a> </p><br><p>  PS Hint, the cloud keyword on KDPV is not used in the program, it is related to my <a href="https://habr.com/post/425649/">previous article</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/426657/">https://habr.com/ru/post/426657/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../426641/index.html">The basics of the shop</a></li>
<li><a href="../426645/index.html">Validation of electronic signatures on C # using CRIPTO PRO</a></li>
<li><a href="../426647/index.html">Automating Google BigQuery Data Import with Google Cloud Functions</a></li>
<li><a href="../426649/index.html">Low Level Brainfuck. Continuing ...</a></li>
<li><a href="../426651/index.html">MongoDB is changing its Open Source license</a></li>
<li><a href="../426659/index.html">DJI Phantom 4 RTK - cartography of a new generation</a></li>
<li><a href="../426661/index.html">How to enter the magistracy or graduate school without exams: the new track - ‚ÄúRobotics‚Äù at the Olympiad ‚ÄúI am a Professional‚Äù</a></li>
<li><a href="../426663/index.html">Ruby Developer Cookbook: Domain Driven Design Recipes (Part I, Scope)</a></li>
<li><a href="../426665/index.html">Paul Graham debriefing: Viaweb June 1998</a></li>
<li><a href="../426667/index.html">Seymour Papert: ‚ÄúComputer as a condom‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>