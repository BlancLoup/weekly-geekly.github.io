<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Raspberry Pi in the hands of an amateur or home rocking torrent</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, comrades. 
 After a month of using RasPi *, I matured to write instructions for beginners on how to turn RasPi into a home mini torrent rock...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Raspberry Pi in the hands of an amateur or home rocking torrent</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage3/8f6/f34/445/8f6f34445ce14f719b60f1b8099acf40.png" align="right">  Good day, comrades. <br>  After a month of using <abbr title="Raspberry pi">RasPi *,</abbr> I matured to write instructions for beginners on how to turn RasPi into a home mini torrent rocking server. <br>  And now I present to your attention a three-step instruction. <br><a name="habracut"></a><br><br><h4>  Step one.  Training. </h4><br>  For the server, and work in general, we will need: <br><ul><li>  <abbr title="MMC or microSD (with adapter)">memory card*</abbr> </li><li>  Power Supply </li><li>  microUSB cable to power the board </li><li>  HDMI cable or <abbr title="composite, bell or tulip, whatever">AV cable</abbr> </li><li>  Usb keyboard </li><li>  <abbr title="Our downloads will be saved to it.">Portable Hard Drive*</abbr> </li></ul><br><table><tbody><tr><td><img src="https://habrastorage.org/storage3/e44/c6f/f39/e44c6ff3918c6ff372f01ad9423553fb.jpeg" alt="image"></td><td><img src="https://habrastorage.org/storage3/4f1/47c/3d8/4f147c3d8f4c0f8881e4e75631a75fb8.jpg" alt="image"></td></tr><tr><td colspan="2">  The RasPi itself doesn‚Äôt eat much, but we‚Äôll have a hard drive connected, which means we need more powerful <u>power</u> . <br>  More specifically, a voltage of <u>5 volts</u> and a current of <u>2 amps</u> .  I took the usual power supply from the computer. <br>  On my PSU was a <abbr title="(fig.1) on the right, (fig.1) on the left a 24-pin power connector">20-pin main power connector</abbr> .  For the board, you need a +5 VSB contact, purple in the picture.  I connected two USB to it - one will power the board and the other hard drive. <br><blockquote>  In the photo, from the purple wire is powered to two USB, blue - ground, two closed connectors - so that the PSU works without a motherboard.  <abbr title="For a 24-pin connector, everything is the same.">(?)</abbr> <abbr title="For a 24-pin connector, everything is the same."><br></abbr> <hr>  +5 VSB is the ‚ÄúStand By‚Äù channel, that is, the voltage on it is even when the power supply is turned off, i.e.  <abbr title="but if it is not there, then the BP cooler will not function.">jumper not needed *</abbr> .  But the load capacity of this channel is usually small. <br>  It is better to use the ‚Äúnormal‚Äù channel + 5V (red wire), with a jumper on the leg PS_ON. <br>  <i>Thanks for clarifying to <a href="https://habrahabr.ru/users/ocelot/" class="user_link">Ocelot</a></i> </blockquote>  Hint: Usually, the red wire on the USB is power, the black is ground. <br></td></tr></tbody></table>  With power figured out, you can now connect the screen to the RasPi.  It is better to use an HDMI cable for this and connect the board to a monitor or TV.  HDMI is better because  The picture will be clear. <br>  I connected my board via AV to the TV tuner on the computer. <br><br><h4>  Step two.  Installing the distribution on the map and setting. </h4><br>  To install, we need the Win32DiskImager utility.  You can download <a href="http://sourceforge.net/projects/win32diskimager/">from here</a> . <br>  And the image of the Raspbian ‚Äúwheezy‚Äù system.  You can download <a href="http://www.raspberrypi.org/downloads">from here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      (!) There is an image of an already installed system with a configured torrent.  You can only put on a card with a capacity of at least 8Gb.  You can download it <a href="https://mega.co.nz/">from here</a> , but it‚Äôs better to install a clean system. <br><br>  So let's get started: <br><ol><li>  Connect the memory card to the computer </li><li>  Run Win32DiskImager </li><li>  In the Image File field, enter the path in the downloaded <abbr title="Or already to the finished image">Raspbian ‚Äúwheezy‚Äù image *</abbr> </li><li>  Select the letter of your card in the Device section. </li><li>  Click the Write button and wait until the image has been written. </li><li>  Safely remove the card </li></ol><br><br>  Now insert the memory card in RasPi and run.  As a result, this menu appears before us: <br><img src="https://habrastorage.org/storage3/c93/cb8/234/c93cb823433b21b63924b2a2aa54f123.png"><br><br>  Consider its points: <br><ol><li>  <b>Expand Filesystem</b> - increase the size of the main partition for the entire map.  We start right away. </li><li>  <b>Change User Password</b> - set an account password.  The default account is ‚Äúpi‚Äù. </li><li>  <b>Enable Boot to Desktop</b> - boot into the graphical interface.  You can disable, because  everything is done through the console. </li><li>  <b>Internationalization Options</b> - setting the system language.  Russian is present. </li><li>  <b>Enable Camera</b> - enable / disable camera support. </li><li>  <b>Add to Rastrack</b> - add your device to the common database.  Not necessary. </li><li>  <b>Overclock</b> - increase processor power.  It is better not to touch, although nothing terrible will happen.  <abbr title="Overheating can cause crashes.">(?)</abbr> </li><li>  <b>Advanced Options</b> - advanced settings. <br><ol><li>  Overscan - configure the departure sweep. </li><li>  Hostname is the name of your mini-server on the network. </li><li>  Memoy Split - memory allocation for the graphics processor <abbr title="16, 32, 64, 128 or 256 MB">(?)</abbr> .  If the graph.  interface disabled - 16Mb. </li><li>  SSH - remote control.  Enable. </li><li>  Update - update the current distribution. </li></ol></li><li>  <b>About raspi-config</b> - information about this settings menu. </li></ol><br>  After changing the settings you need, click <abbr title="You can select it with the Tab key.">Finish *</abbr> . <br>  The system goes into reboot, and then asks to enter the user name - "pi" and password.  If you have not set your own, then the <b>default password is</b> ‚Äúraspberry‚Äù. <br><br><h4>  Step three.  Installing a torrent and connecting HDD. </h4><br><h5>  First, increase the size of the <abbr title="Paging file">swap *</abbr> </h5><a name="up"></a><br>  Enter: <table><tbody><tr><td>  <a href="https://habr.com/ru/post/191854/">sudo</a> <a href="https://habr.com/ru/post/191854/">nano</a> / etc / dphys-swapfile <br></td></tr></tbody></table>  The file opens.  In it, the value of <b>CONF_SWAPSIZE is</b> changed to <b>256</b> and press [Ctrl + <abbr title="it's a letter">O</abbr> ], then [Enter] and to exit [Ctrl + X]. <br><br><h5>  Now mount the disk. </h5>  Since  I sometimes disable the portable HDD from the RasPi and use it for its intended purpose, I have it in the NTFS file system.  What is not good, because we are on Linux, then the disk must be in the linux file system, but then the HDD will be unavailable in windows. <br>  You can independently format the disk to another file system according to the instructions located <a href="http://www.fight.org.ua/hdddrives/hdd_installation_linux.html">here</a> . <br><br><a name="up1"></a>  Let's go back to the mount. <br>  1. Enter into the console: <table><tbody><tr><td>  sudo <a href="https://habr.com/ru/post/191854/">apt-get</a> install ntfs-3g <br></td></tr></tbody></table><a name="up2"></a><br>  2. Create a folder to mount the HDD <br><table><tbody><tr><td>  sudo <a href="https://habr.com/ru/post/191854/">mkdir</a> / mnt / usb_hdd <br></td></tr></tbody></table><a name="up3"></a><br>  3. We give full access to the folder to all groups. <br><table><tbody><tr><td>  sudo <a href="https://habr.com/ru/post/191854/">chmod</a> 777 / mnt / usb_hdd <br></td></tr></tbody></table><br>  4. Open the file: <br><table><tbody><tr><td>  sudo nano / etc / fstab <br></td></tr></tbody></table><br>  5. Register at the end of the file: <br><table><tbody><tr><td>  / dev / sda1 / mnt / usb_hdd ntfs-3g defaults, rw 0 1 <br></td></tr></tbody></table>  This gives automatic HDD mounting at system startup. <br>  And press [Ctrl + <abbr title="it's a letter">O</abbr> ], then [Enter] and exit [Ctrl + X]. <br><br><br><h5>  Install the Transmission torrent client. </h5><br>  In the console: <br><pre><code class="bash hljs">sudo apt-get install transmission-daemon</code> </pre> <br>  Now we change the settings, but for this the torrent needs to be stopped: <br><pre> <code class="bash hljs">sudo /etc/init.d/transmission-daemon stop</code> </pre>  Now open the configuration file: <pre> <code class="bash hljs">sudo nano /etc/transmission-daemon/settings.json</code> </pre><br><br>  Basic options: <br><table><tbody><tr><td><ol><li>  <b>download-dir</b> - <u>change to "/ mnt / usb_hdd" and the files will be uploaded to the HDD</u> . </li><li>  <b>download-limit</b> - download speed limit in Kb / s. </li><li>  <b>rpc-enabled</b> - remote control.  Set "true" </li><li>  <b>rpc-authentication-required</b> - authentication for remote control.  I turned off, from whom to hide in the local network? </li><li>  <b>rpc-usernam</b> - login for remote control.  Make blank if authentication is disabled. </li><li>  <b>rpc-password</b> - password for remote control.  When you start the torrent password is encrypted.  Make blank if authentication is disabled. </li><li>  <b>rpc-whitelist-enabled</b> - enable the list of allowed IP addresses.  Change to false. </li><li>  <b>rpc-port</b> - port for access to remote control.  Change to 9091. </li><li>  <b>peer-limit-global</b> - maximum number of connected peers for all torrents. </li><li>  <b>peer-limit-per-torrent</b> - the number of peers per torrent. </li><li>  <b>peer-port</b> - port for distributions.  You can change it to your own, but in any case you need to open it in the modem settings. </li><li>  <b>download-queue-size</b> - the number of simultaneous downloads.  There is a possibility of transmission hangs with a large number. </li></ol></td></tr></tbody></table><br>  After changing the settings, press [Ctrl + <abbr title="it's a letter">O</abbr> ], then [Enter] and exit [Ctrl + X].  And run the Transmission command: <br><pre> <code class="bash hljs">sudo /etc/init.d/transmission-daemon start</code> </pre><br>  Now reboot: <br><pre> <code class="bash hljs">sudo reboot</code> </pre><br><br><h6>  How to manage the torrent? </h6>  You can access the web interface for this you need to enter in the address bar of the browser the RasPi ip-address and, through a colon, the transmission port.  For example: <br><pre> <code class="html hljs xml">http://192.168.1.42:9091</code> </pre><br>  You can also use the program Transmission Remote GUI (there is below). <br>  It also needs to register the IP and port.  And also login and password, if you set their request in the settings of the transmission earlier. <br><br><h4>  Afterword. </h4><br><br><h6>  What if there is no network and cable is plugged in? </h6>  You can check the availability of the network using the <b>ping</b> command. <br>  For example: <pre> <code class="bash hljs">ping habrahabr.ru</code> </pre><br>  You can exit with the command [Ctrl + C]. <br>  If nothing happens, then you have no network.  Then we write: <pre> <code class="bash hljs">sudo nano /etc/network/interfaces</code> </pre><br>  And we change <pre> <code class="bash hljs">iface eth0 inet dhcp</code> </pre> <br>  on <pre> <code class="bash hljs">iface eth0 inet static</code> </pre> <br>  and add after this: <pre> <code class="bash hljs">address 192.168.1.42 netmask 255.255.255.0 gateway 192.168.1.1</code> </pre><br>  address - IP address <br>  netmask - subnet mask <br>  gateway - the main gateway <br><br><h6>  Commands: </h6><a name="sudo"></a>  <b>sudo</b> - placed in front of the teams, and runs them on behalf of the administrator.  <a href="https://habr.com/ru/post/191854/">{return}</a> <br>  <b>sudo reboot</b> - reboot. <br>  <b>sudo halt</b> - shutdown. <br>  <b>Ctrl + C</b> - exit from an open console program. <br>  <b>Shift + Ins</b> - paste text into the console. <br>  <b>Ctrl + Ins</b> - copy selected text from the console. <br>  <b>Up and down arrows</b> - scroll through previously typed commands. <br><a name="nano"></a>  <b>nano</b> is a console text editor.  <a href="https://habr.com/ru/post/191854/">{return}</a> <br><a name="apt-get"></a>  sudo <b>apt-get install</b> [package name] - <abbr title="programs">package</abbr> installation <abbr title="programs">*</abbr> .  <a href="https://habr.com/ru/post/191854/">{return}</a> <br><a name="mkdir"></a>  sudo <b>mkdir</b> [folder name] - create a folder.  <a href="https://habr.com/ru/post/191854/">{return}</a> <br><a name="chmod"></a>  sudo <b>chmod</b> [value] - change group permissions for a folder.  <a href="http://ru.wikipedia.org/wiki/Chmod">[more]</a> <a href="https://habr.com/ru/post/191854/">{return}</a> <br>  sudo <b>raspi-config</b> - open system settings. <br><br><h6>  The list of programs for managing RasPi from Windows: </h6><ul><li>  <b>WinSCP</b> is a client for connecting to the file system of our mini-server via SFTP.  <a href="http://winscp.net/eng/download.php">[Download]</a> </li><li>  <b>PuTTY</b> is a client for remote connection to the OS console via SSH protocol.  <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">[Download]</a> </li><li>  <b>Transmission Remote GUI</b> - a graphical client for remote control transmission GUI.  <a href="https://code.google.com/p/transmisson-remote-gui/downloads/list">[Download]</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/191854/">https://habr.com/ru/post/191854/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191842/index.html">Custom layouts. Part 2. CellLayout</a></li>
<li><a href="../191844/index.html">Panorama of the solar halo</a></li>
<li><a href="../191848/index.html">Bur. Module for mass registration of users</a></li>
<li><a href="../191850/index.html">Make a "mindmap" on Javascript with local storage in the browser database</a></li>
<li><a href="../191852/index.html">Using the Aastra 6725ip and Aastra 6721ip IP terminals in the MS Lync 2013 Server infrastructure</a></li>
<li><a href="../191856/index.html">Is cloudy IP PBX suitable for small companies?</a></li>
<li><a href="../191858/index.html">Another JavaScript preprocessor</a></li>
<li><a href="../191860/index.html">The attacker got caught selling root accesses to supercomputers</a></li>
<li><a href="../191862/index.html">A little bit about how we wrote a photo mosaic generator for Android</a></li>
<li><a href="../191864/index.html">The use of IT in the search for new drugs: an overview of areas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>