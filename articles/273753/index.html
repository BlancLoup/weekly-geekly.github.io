<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ASP.NET 5 Identity 3 and new authentication / authorization toolkit</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Life in Las Vegas is not limited to gambling. Despite the glory of the gambling capital, events are taking place here entirely from other spheres of l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ASP.NET 5 Identity 3 and new authentication / authorization toolkit</h1><div class="post__text post__text-html js-mediator-article">  Life in Las Vegas is not limited to gambling.  Despite the glory of the gambling capital, events are taking place here entirely from other spheres of life.  In particular, the annual <a href="https://www.devintersection.com/">DEVIntersection</a> conference, which this year was attended by a team of our developers.  And here we want to talk about all the most important and interesting things that they learned at the conference. <br><a name="habracut"></a><br><h3>  ASP.NET 5 Changes </h3><br>  In the context of ASP.NET 5, all components of the stack have been updated or completely rewritten.  Changes are not spared and ASP.NET Identity, which can not but rejoice.  In particular, the authorization system has been updated, and these are really qualitative changes (IMHO).  Next, we consider exactly what changes were made to the authentication and authorization systems. <br><br><h3>  ASP.NET Identity </h3><br>  On Habr√© was already an <a href="http://habrahabr.ru/post/227351/">overview article</a> on the topic of ASP.NET Identity, so skip the introductory part. <br><br>  ASP.NET Identity provides tools for working with users and their authentication.  This system consists of the <i>Microsoft.AspNet.Identity</i> library with a description of the main classes and abstractions in the form of user store interfaces, etc.  <i>Microsoft.AspNet.Identity.EntityFramework</i> is a library that contains the user / role implementation and repositories based on the Entity Framework 7. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first thing you want to pay attention to is the lack of interfaces for users and roles.  Identity does not dictate to us what our user should be.  When setting up, it is enough to indicate which user classes and roles we want to use.  This is achieved due to the fact that the UserManager class delegates the user‚Äôs read / write properties to the repository.  For example, such operations of the <code>UserManager</code> class as <code>GetUserName</code> , <code>SetUserName</code> and <code>ChangePassword <br></code> <code>ChangePassword <br></code>  lead to calls of the same type from UserStore. <br><br>  The repositories of users and roles do not have to describe all possible operations.  In one application, a user only needs to have a name, password and the ability to log in using them, while in the other one it is necessary to have various authentication options and support a lot of other possibilities.  For our application, we just need to choose the appropriate storage interface and implement only it. <br><br>  List of user storage interfaces: <br><br><ul><li> <code>IUserLoginStore</code> <br> <code>IUserRoleStore</code> <br> <code>IUserClaimStore</code> <br> <code>IUserPasswordStore</code> <br> <code>IUserSecurityStampStore</code> <br> <code>IUserEmailStore</code> <br> <code>IUserLockoutStore</code> <br> <code>IUserPhoneNumberStore</code> <br> <code>IQueryableUserStore</code> <br> <code>IUserTwoFactorStore</code> <br> <br>  In the simple case, we only <code>IUserStore <br></code> <code>IUserStore <br></code>  and <code>IUserPasswordStore</code> . <br><ul><li>  IUserStore - user name and ID management. </li><li>  IUserPasswordStore - set and read the password. </li></ul><br>  ASP.NET 5 provides its infrastructure for configuring the <a href="http://habrahabr.ru/post/255463/">application pipeline</a> and its services (built-in <a href="https://docs.asp.net/en/latest/fundamentals/dependency-injection.html">DI container</a> ). <br><br>  Connecting services: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConfigureServices</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IServiceCollection services</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// more here //   Identity services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;() //  UserStore/RoleStore   EF .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;() //     .AddDefaultTokenProviders(); // more here }</span></span></code> </pre><br>  Activation of middleware authentication: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Configure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// more here app.UseIdentity(); //  Cookie Auth Middleware // more here }</span></span></code> </pre><br>  This is the default setting. <br><br>  Due to the modularity and use of ASP.NET DI itself, Identity allows you to replace your components without complete rewriting.  For example, we want to change password hashing, user validator (verifying uniqueness, etc.), connect our user and role repositories, and also specify your Claim type for storing roles: <br><br><pre> <code class="cs hljs">services.AddScoped&lt;IPasswordHasher&lt;User&gt;, MyPasswordHasher&gt;(); services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;(options =&gt; { options.Password.RequireDigit = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; options.Password.RequiredLength = <span class="hljs-number"><span class="hljs-number">8</span></span>; options.SignIn.RequireConfirmedEmail = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; options.ClaimsIdentity.RoleClaimType = <span class="hljs-string"><span class="hljs-string">"MyRoleClaimType"</span></span>; }) .AddUserStore&lt;MyStore&gt;() .AddRoleStore&lt;MyRoleStore&gt;() .AddUserValidator&lt;MyUserValidator&gt;() .AddDefaultTokenProviders();</code> </pre><br><br>  Many Identity components have a separate extension method for customization, but not all.  As with <code>IPasswordHasher</code> , we have no extension method.  In this case, to register, we need to register the password hash service before Identity does it. <br><br>  Configuring Identity is now done using <code><code>Action,     . <br> <br>  ,    . UserManager    ,      ,    ,  ,  .       ,     <code>IdentityOptions</code> . <br> <br>      Identity:   Identity 2  <a href="https://github.com/aspnet/Identity/issues/351">  </a>   ,      <code>NameNormilized</code>  <code>EmailNormalized</code> .  <code>UserManager</code>        ,   <code>IUserStore</code> .    ,     <code>UPPER()</code>   .   ,      ,             . <br> <br>    ,   Identity    .      /     ASP.NET 5.    ,     ,   ,    .     :   ,     <code>MembershipProvider</code> (.NET 2.0):      -  ,       <code>UserManager</code>   <i>NotSupportedException</i> . <br> <br></code></code> <code><code>Action,     . <br> <br>  ,    . UserManager</code>    ,      ,    ,  ,  .       ,     <code>IdentityOptions</code> . <br> <br>      Identity:   Identity 2  <a href="https://github.com/aspnet/Identity/issues/351">  </a>   ,      <code>NameNormilized</code>  <code>EmailNormalized</code> .  <code>UserManager</code>        ,   <code>IUserStore</code> .    ,     <code>UPPER()</code>   .   ,      ,             . <br> <br>    ,   Identity    .      /     ASP.NET 5.    ,     ,   ,    .     :   ,     <code>MembershipProvider</code> (.NET 2.0):      -  ,       <code>UserManager</code>   <i>NotSupportedException</i> . <br> <br></code> <h3>  Next, we proceed to authentication. </h3><br>  In the example above, in the <code>Configure</code> method, we call the <code>app.UseIdentity()</code> extension method.  Under the hood of this method, middleware is connected, setting up the authentication cookie pipeline: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = app.ApplicationServices.GetRequiredService&lt;IOptions&lt;IdentityOptions&gt;&gt;().Value; app.UseCookieAuthentication(options.Cookies.ExternalCookie); app.UseCookieAuthentication(options.Cookies.TwoFactorRememberMeCookie); app.UseCookieAuthentication(options.Cookies.TwoFactorUserIdCookie); app.UseCookieAuthentication(options.Cookies.ApplicationCookie);</code> </pre><br>  In turn, <code>UseCookieAuthentication</code> connects middleware: <br><br><pre> <code class="cs hljs">app.UseMiddleware&lt;CookieAuthenticationMiddleware&gt;(options);</code> </pre><br>  To interact with middleware authentication, you must use the <code>AuthenticationManager</code> class, which hangs on the <code>HttpContext</code> .  Suppose we do not want to use Identity to manage our users, but prefer to do it ourselves: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// SignOut    var authenticationDescriptions = HttpContext.Authentication.GetAuthenticationSchemes(); foreach (var authenticationDescription in authenticationDescriptions) { HttpContext.Authentication.SignOutAsync(authenticationDescription.AuthenticationScheme); } //    ASP.NET    ClaimsIdentity //  ClaimsIdentity     var claims = new List&lt;Claim&gt; { new Claim(ClaimTypes.NameIdentifier, "123"), new Claim(ClaimsIdentity.DefaultNameClaimType, "MyUserName"), new Claim(ClaimTypes.Role, "Administrators"), new Claim("Lastname", "MyLastName"), new Claim("email", "bob@smith.com") }; var id = new ClaimsIdentity(claims, "MyCookiesScheme", ClaimsIdentity.DefaultNameClaimType, ClaimTypes.Role); var principal = new ClaimsPrincipal(id); //  ClaimsPrincipal HttpContext.Authentication.SignInAsync("MyCookiesScheme", new ClaimsPrincipal(id));</span></span></code> </pre><br>  <code>SignInManager</code> from ASP.NET Identity also operates in approximately the same way.  During authentication, we need to indicate with what kind of authentication scheme we log in the user.  Based on this parameter, the <code>AuthenticationManager</code> determines which middleware to interact with. <br><br>  The scheme of work is almost identical to MVC 5 and OWIN. <br><br><h3>  Authorization </h3><br>  If for Identity and authentication, the general principle of use remains about the same, then authorization has undergone much more significant changes.  And for the better! <br><br>  In applications with a large number of roles, there is the problem of using the <code>[Authorize]</code> attribute and checks of the type <code>user.IsInRole</code> .  When security requirements change, making changes to the application is an extremely time-consuming and error-prone process.  It is necessary to find all the places where this or that role is used, or it is necessary to find and change all the places where a particular function of the application is accessed.  Those.  authorization code is blurred by application. <br><br>  Let's get started  In addition to checks on user membership, we have new authorization tools in the roles.  By default, the <code>[Authorize]</code> attribute now accepts not a list of roles, but ‚Äúpolicies‚Äù. <br><br>  <i>(attribute <code>[Authorize(Roles=‚Äù‚Äù)]</code> supported for backward compatibility)</i> <br><br><pre> <code class="cs hljs">services.AddAuthorization(options =&gt; { options.AddPolicy(<span class="hljs-string"><span class="hljs-string">"SuperAdministrationPolicy"</span></span>, policy =&gt; { policy.RequireRole(<span class="hljs-string"><span class="hljs-string">"Admins"</span></span>); policy.RequireClaim(<span class="hljs-string"><span class="hljs-string">"adminlevel"</span></span>, <span class="hljs-string"><span class="hljs-string">"Level1"</span></span>, <span class="hljs-string"><span class="hljs-string">"Level2"</span></span>); }); options.AddPolicy(<span class="hljs-string"><span class="hljs-string">"RegularAdministrationPolicy"</span></span>, policy =&gt; { policy.RequireRole(<span class="hljs-string"><span class="hljs-string">"Admins"</span></span>); }); });</code> </pre><br>  <code>AuthorizationPolicy</code> contains a set of <code>Requirements</code> (requirements).  By default, we have <code>Requirements</code> for checking roles, brands and usernames.  You can also describe <code>Requirement</code> as a separate class: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">AdminLevelRequirement</span></span> : <span class="hljs-title"><span class="hljs-title">AuthorizationHandler</span></span>&lt;<span class="hljs-title"><span class="hljs-title">AdminLevelRequirement</span></span>&gt;, <span class="hljs-title"><span class="hljs-title">IAuthorizationRequirement</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _adminLevel; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AdminLevelRequirement</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> adminLevel</span></span></span><span class="hljs-function">)</span></span> { _adminLevel = adminLevel; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Handle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AuthorizationContext context, AdminLevelRequirement requirement</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> user = context.User; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (user.IsInRole(<span class="hljs-string"><span class="hljs-string">"Admins"</span></span>) &amp;&amp; user.HasClaim(<span class="hljs-string"><span class="hljs-string">"adminlevel"</span></span>, _adminLevel)) { context.Succeed(requirement); } } } <span class="hljs-comment"><span class="hljs-comment">//  requirement     options.AddPolicy("AdminLevel1Policy", policy =&gt; { policy.AddRequirements(new AdminLevelRequirement("Level1")); });</span></span></code> </pre><br>  In this example, we inherit <code>AuthorizationHandler&lt;&gt;</code> and <code>IAuthorizationRequirement</code> , but this is not necessary.  Here, the <code>AdminLevelRequirement</code> describes both the request and the request handler.  In the simple case, this is quite a suitable solution.  But if you need more flexibility, then we can separate the requirements and processors.  The class of our requirement (Requirement) must be inherited from the <code>IAuthorizationRequirement</code> (marker interface), and it will carry only the description of the parameters of the requirement.  For example, the administrator level, his access level.  In turn, the classes for processing requests inherit <code>AuthorizationHandler&lt;&gt;</code> and contain only methods <code>Handle()</code> . <br><br>  Example: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//    public class AdminLevelRequirement : IAuthorizationRequirement { public string AdminLevel { get; } public AdminLevelRequirement(string adminLevel) { AdminLevel = adminLevel; } } //   public class AdminLevelRequirementHandler : AuthorizationHandler&lt;AdminLevelRequirement&gt; { protected override void Handle(AuthorizationContext context, AdminLevelRequirement requirement) { var user = context.User; if (user.IsInRole("Admins") &amp;&amp; user.HasClaim("adminlevel", requirement.AdminLevel)) { context.Succeed(requirement); } } } //     policy.AddRequirements(new AdminLevelRequirement("Level1")); //        services.AddInstance&lt;IAuthorizationHandler&gt;(new AdminLevelRequirementHandler());</span></span></code> </pre><br>  The handler can return <code>AuthorizationContext.Suceed()</code> or <code>AuthorizationContext.Fail()</code> .  If we have described several handlers for one requirement, we can perform them on the principle of OR or AND.  For execution in the OR style, handlers can only return <code>Succeed()</code> .  If you need AND processing logic, then we can use the <code>Fail()</code> return.  Those.  if <code>Fail()</code> never called in the handlers, then if any of the handlers are successfully tested, the user will be granted access. <br><br>  We proceed to use. <br><br>  Using authorization policies in a declarative way using an attribute: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Authorize(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"PoliyName"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ActionName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span></code> </pre><br>  An authorization service has been added to the toolkit, which can be obtained by declaring a dependency in its class: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//    public class HomeController : Controller { private readonly IAuthorizationService _authorizationService; public HomeController(IAuthorizationService authorizationService) { _authorizationService = authorizationService; } }</span></span></code> </pre><br>  Let's use the service to check the user's compliance with the authorization policy: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _authorizationService.AuthorizeAsync(User, <span class="hljs-string"><span class="hljs-string">"MyPolicy"</span></span>))</code> </pre><br>  In addition to security policies, we have access to resources based authorization (Resource Based Authorization).  It applies in cases where authorization depends on the object to which access is provided.  To use this type of authorization, we need to implement our own handler, which handles a specific Requirement / Policy and resource: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TenantAuthorizationHandler</span></span> : <span class="hljs-title"><span class="hljs-title">AuthorizationHandler</span></span>&lt;<span class="hljs-title"><span class="hljs-title">OperationAuthorizationRequirement</span></span>, <span class="hljs-title"><span class="hljs-title">Tenant</span></span>&gt; { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Handle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AuthorizationContext context, OperationAuthorizationRequirement requirement, Tenant resource</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (requirement.Name == <span class="hljs-string"><span class="hljs-string">"Update"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!context.User.HasClaim(<span class="hljs-string"><span class="hljs-string">"adminlevel"</span></span>, <span class="hljs-string"><span class="hljs-string">"Level1"</span></span>)) { context.Fail(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!context.User.HasClaim(<span class="hljs-string"><span class="hljs-string">"region"</span></span>, resource.Region)) { context.Fail(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } context.Succeed(requirement); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } context.Fail(); } }</code> </pre><br>  Such a handler differs from the usual only in that it also accepts an instance of the resource to which it is being accessed. <br><br>  <code>OperationAuthorizationRequirement</code> is the default requirement class that has only the Name property.  This class can be used for simple scripts and user access checks for named operations, for example, <code>Read</code> , <code>Update</code> , <code>Delete</code> and so on.  Of course, in this case we can also describe our own classes of requirements. <br><br>  The new approach allows you to centrally manage authorization and minimizes the need to change the code of the main application when changing security requirements.  All code with access rules can be put into a separate assembly and encapsulated authorization logic. <br><br>  Useful links: <br><ul><li>  <a href="https://docs.asp.net/">docs.asp.net</a> </li><li>  <a href="http://leastprivilege.com/">leastprivilege.com</a> </li><li>  <a href="https://github.com/aspnet/identity">github.com/aspnet/identity</a> </li><li>  <a href="https://github.com/aspnet/security">github.com/aspnet/security</a> </li></ul></li></ul></div><p>Source: <a href="https://habr.com/ru/post/273753/">https://habr.com/ru/post/273753/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273743/index.html">QThread + QtSql the right way</a></li>
<li><a href="../273745/index.html">History of the 5th place in the Russian AI Cup 2015</a></li>
<li><a href="../273747/index.html">IBM is working on a project to create an open-source blockchain for business representatives.</a></li>
<li><a href="../273749/index.html">Weather Station on Arduino with data visualization</a></li>
<li><a href="../273751/index.html">bala.js - jQuery killer in less than 400 characters of code *</a></li>
<li><a href="../273755/index.html">Why I love so much EF, or features that are hard to give up</a></li>
<li><a href="../273757/index.html">Veeam Backup: nice little tricks</a></li>
<li><a href="../273759/index.html">Budget homemade TCP "on the knees" (mobile television station). Part 1</a></li>
<li><a href="../273765/index.html">As I wrote and published a book based on my posts with Habr</a></li>
<li><a href="../273771/index.html">Parallel calculations on CPU and GPU</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>