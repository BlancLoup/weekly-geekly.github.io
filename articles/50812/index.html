<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Signals and Slots in Qt</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Signals and slots are used for communication between objects. The mechanism of signals and slots is the main feature of Qt and probably the part that ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Signals and Slots in Qt</h1><div class="post__text post__text-html js-mediator-article">  Signals and slots are used for communication between objects.  The mechanism of signals and slots is the main feature of Qt and probably the part that differs from the features provided by other frameworks. <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  In GUI programming, when we change one widget, we often want another widget to get a notification about it.  In general, we want objects of any type to communicate with others.  For example, if the user clicks the Close button, we probably want the window's close () function to be called. <br>  Other libraries seek this kind of communication using a callback.  A callback is a pointer to a function, so if we want the function to notify us of any events, we pass the pointer to another function (callback) to this function.  The function in this case makes a callback when necessary.  Callback has two major drawbacks.  First, it is not type safe.  We can never be sure that the function makes a callback with the correct arguments.  Secondly, the callback is rigidly connected to its calling function, since this function must know exactly which callback to do. <br><br><h4>  Signals and Slots </h4><br>  Qt uses a different technique ‚Äî signals and slots.  A signal is generated when a certain event occurs.  A slot is a function that is called in response to a specific signal.  Qt widgets have many predefined signals and slots, but we can always make a child class and add our signals and slots in it. <br><br><img src="http://doc.trolltech.com/4.4/images/abstract-connections.png" alt="Signals and Slots">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The signal and slot mechanism is type safe.  The signal signature must match the signature of the destination slot.  (In fact, a slot can have a shorter signature than the signal it receives, since it can ignore additional arguments).  Since the signatures are comparable, the compiler can help us detect a type mismatch.  Signals and slots are loosely coupled.  The class that produces the signal does not know and does not care about which slots it will receive.  The signal and slot mechanism of Qt ensures that if we connect the signal to the slot, the slot will be called with the signal parameters at the right time.  Signals and slots can take any number of arguments of any type.  They are completely type safe. <br>  All classes inherited from QObject or its child classes (for example, QWidget) can contain signals and slots.  Signals are produced by objects when they change their state so that it may interest other objects.  At the same time, he doesn‚Äôt know and doesn‚Äôt care that his signal may not have a receiver. <br>  Slots can be used to receive signals, but they are also normal member functions.  As well as the object does not know anything about the recipients of its signals, the slot does not know anything about the signals that are connected to it.  This ensures that fully independent components can be created with Qt. <br>  We can connect as many signals to one slot as we want, and one signal can be connected to as many slots as necessary.  It is also possible to connect a signal to another signal (this will cause the generation of a second signal immediately after the appearance of the first). <br>  Signals and slots together constitute a powerful mechanism for creating components. <br><br><h4>  Small example </h4><br>  A class description in C ++ might look like this: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; };</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; }; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> Counter { <font color="#0000ff">public</font> : Counter() { m_value = 0; } <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value; } <font color="#0000ff">void</font> setValue( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); <font color="#0000ff">private</font> : <font color="#0000ff">int</font> m_value; };</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  A class inherited from QObject will look like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  #include &lt;QObject&gt; </li><li>  <font color="#0000ff">class</font> Counter: <font color="#0000ff">public</font> QObject </li><li>  { </li><li>  Q_OBJECT </li><li>  <font color="#0000ff">public</font> : </li><li>  Counter () {m_value = 0;  } </li><li>  <font color="#0000ff">int</font> <font color="#0000ff">value</font> () <font color="#0000ff">const</font> { <font color="#0000ff">return</font> m_value;  } </li><li>  <font color="#0000ff">public</font> slots: </li><li>  <font color="#0000ff">void</font> setValue ( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ); </li><li>  signals: </li><li>  <font color="#0000ff">void</font> valueChanged ( <font color="#0000ff">int</font> newValue); </li><li>  <font color="#0000ff">private</font> : </li><li>  <font color="#0000ff">int</font> m_value; </li><li>  }; </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  A class inherited from QObject has the same internal state and provides public methods for accessing this state, but it also has support for using signals and slots.  This class can tell the outside world that its state has changed by generating a valueChanged () signal and it has a slot to which other objects can send signals. <br>  All classes containing signals and slots must specify the Q_OBJECT macro at the beginning of their description.  They must also be descendants (directly or indirectly) of a QObject. <br>  Slots are implemented by the programmer.  A possible implementation of the Counter :: setValue () slot is as follows: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">void</font> Counter :: setValue ( <font color="#0000ff">int</font> <font color="#0000ff">value</font> ) </li><li>  { </li><li>  <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> ! = m_value) { </li><li>  m_value = <font color="#0000ff">value</font> ; </li><li>  emit valueChanged ( <font color="#0000ff">value</font> ); </li><li>  } </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  The emit keyword generates an object's valueChanged () signal with a new value as an argument. <br>  In the following example, we create two objects of type Counter and connect the valueChanged () signal of the first with the setValue () slot of the second using the static QObject :: connect () function: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  Counter a, b; </li><li>  QObject :: connect (&amp; a, SIGNAL (valueChanged ( <font color="#0000ff">int</font> )), </li><li>  &amp; b, SLOT (setValue ( <font color="#0000ff">int</font> ))); </li><li>  a.setValue (12);  <font color="#008000">// a.value () == 12, b.value () == 12</font> </li><li>  b.setValue (48);  <font color="#008000">// a.value () == 12, b.value () == 48</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  Calling a.setValue (12) generates a valueChanged (12) signal, which will receive object b in its setValue () slot, i.e.  b.setValue (12) will be called.  Then b produces the same valueChanged () signal, but since it is not connected to any slot, this signal will be ignored. <br>  I note that the setValue () function sets a new value and only generates a signal value! = M_value.  This prevents an infinite loop in the case of a circular connection (for example, if b.valueChanged () were connected to a.setValue ()). <br>  A signal is generated for each connection.  If the connection is duplicated, two signals will be generated.  A connection can always be broken using the QObject :: disconnect () function. <br>  The above example shows how objects can work together without needing to know something about each other.  To enable this, objects must be connected together and this can be achieved by simply calling the QObject :: connect () function or using the automatic connection property of the uic program. <br><br><h4>  Compile example </h4><br>  The meta-object compiler (meta-object compiler, moc) scans the class descriptions in source files and generates C ++ code that initializes the meta objects.  Meta-objects contain the names of all signals and slots, as well as pointers to these functions. <br>  By running the moc program to describe the class containing signals and slots, we get the source code file, which should be compiled and linked to other application object files.  When using qmake, the rules for automatically calling moc will be added to the project's Makefile. <br><br><h4>  Signals </h4><br>  Signals are produced by objects when they change their state so that it may interest other objects.  Only the class that defines the signal or its descendants can produce a signal. <br>  When a signal is generated, the slot to which it is connected is usually executed immediately, just like a normal procedure call.  When this happens, the signals and signals and slots mechanism is completely independent of any GUI event cycle.  The execution of the code following the release of the signal will occur immediately after exiting all slots.  The situation is slightly different when using queued connections;  in this case, the code after the emit keyword continues execution immediately, and the slots will be executed later. <br>  If several slots are connected to the same signal, the slots will be executed one after the other in a random order after generating a signal. <br>  The signals are automatically generated by the moc program and should not be implemented in the source code.  They may not return a value (i.e., use the void type). <br>  Comment on arguments: experience shows that signals and slots are easier to reuse when writing programs if they do not use special types.  For example, if the signal QScrollBar :: valueChanged () would use a special type like the hypothetical QScrollBar :: Range, it could only be connected to slots designed specifically for it. <br><br><h4>  Slots </h4><br>  A slot is called when a signal is produced with which it is connected.  A slot is a normal function in C ++ and can be called in the usual way;  its only feature is that signals can be connected to it. <br>  Since slots are normal member functions, they follow the usual C ++ rules in a direct call.  However, as slots, they can be called by any component, regardless of their access levels, via a signal-slot connection.  This means that a signal produced by an object of an arbitrary class can call a protected slot of an object of an unrelated class. <br>  Slots can also be declared virtual, which is sometimes quite convenient. <br>  Compared to callbacks, signals and slots are slightly slower due to the increased flexibility they provide, although the difference for real applications is not noticeable.  In general, generating a signal that is connected to some slots is, on average, 10 times slower than calling the receiver directly, when calling a non-virtual function.  These overheads are required to locate the object, to safely iterate through all its connections (i.e., verify that the subsequent recipient was not destroyed during the release of the signal) and transfer any parameters in general.  Although calling ten non-virtual procedures may seem expensive, it is less expensive than, for example, creating or deleting an object.  While we are creating a string, vector or list, which implicitly requires the creation of an object, the costs of signals and slots are responsible for a very small fraction of the costs among all procedure calls. <br>  The same is true whether you make a system call to the slot or indirectly call more than ten functions.  On the i586-500, we can generate about 2,000,000 signals per second, connected to one slot, or 1,200,000 signals per second, when connected in two slots.  The simplicity and flexibility of the signals and slots mechanism pays for additional costs that the user of the program will not even notice. <br>  It should be noted that libraries that define variables with the names signal or slot can cause warnings or compiler errors when compiling with a program written in Qt.  To solve this problem, it is necessary to remove the definition of the interfering preprocessor character using the #undef directive. <br><br><h4>  Meta-object information </h4><br>  The meta object contains additional information, such as the name of the object.  You can also check whether an object inherits a particular class, for example: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">if</font> (widget-&gt; inherits ( <font color="#A31515">"QAbstractButton"</font> )) { </li><li>  QAbstractButton * button = static_cast &lt;QAbstractButton *&gt; (widget); </li><li>  button-&gt; toggle (); </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  Meta-object information is also used by qobject_cast &lt;T&gt; (), which is similar to QObject :: inherits (), but less prone to errors: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">if</font> (QAbstractButton * button = qobject_cast &lt;QAbstractButton *&gt; (widget)) </li><li>  button-&gt; toggle (); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br><h4>  Real example </h4><br>  Below is a simple example of a widget with comments. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  #ifndef LCDNUMBER_H </li><li>  <font color="#0000ff">#define</font> LCDNUMBER_H </li><li>  #include &lt;QFrame&gt; </li><li>  <font color="#0000ff">class</font> LcdNumber: <font color="#0000ff">public</font> QFrame </li><li>  { </li><li>  Q_OBJECT </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  The LcdNumber class inherits QObject, which has most information about signals and slots through the QFrame and QWidget classes.  It is similar to the built-in QLCDNumber widget. <br>  The Q_OBJECT macro tells the preprocessor to declare several member functions that will be implemented by the moc program;  if, when compiling, among other things, the entry ‚Äúundefined reference to vtable for LcdNumber‚Äù appears, then you most likely forgot to run moc or add the result of its work to the link command. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">public</font> : </li><li>  LcdNumber (QWidget * parent = 0); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  This is not explicitly related to moc, but if we inherit a Qwidget class, we most likely want to have a parent argument in the constructor and pass it to the constructor of the parent class. <br>  Some destructors and member functions are omitted here;  moc ignores member functions. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  signals: </li><li>  <font color="#0000ff">void</font> overflow (); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  LcdNumber generates a signal when it is asked to show an impossible value. <br>  If we do not care about overflow or we know that it cannot happen, we can ignore this signal, i.e.  Do not connect it anywhere. <br>  On the other hand, if we want to call two different functions to react to this error, then we simply connect this function to two different slots.  Qt will call both of them (in no particular order). <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">public</font> slots: </li><li>  <font color="#0000ff">void</font> display ( <font color="#0000ff">int</font> num); </li><li>  <font color="#0000ff">void</font> display ( <font color="#0000ff">double</font> num); </li><li>  <font color="#0000ff">void</font> display ( <font color="#0000ff">const</font> QString &amp; str); </li><li>  <font color="#0000ff">void</font> setHexMode (); </li><li>  <font color="#0000ff">void</font> setDecMode (); </li><li>  <font color="#0000ff">void</font> setOctMode (); </li><li>  <font color="#0000ff">void</font> setBinMode (); </li><li>  <font color="#0000ff">void</font> setSmallDecimalPoint ( <font color="#0000ff">bool</font> point); </li><li>  }; </li><li>  <font color="#0000ff">#endif</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  Slots are functions used to obtain information about changes in the state of other widgets.  LcdNumber uses them, as shown in the code above, to set the displayed number.  Since the display () function is part of the class interface with the rest of the program, this slot is public. <br>  It is worth noting that the display () function is overloaded.  Qt will select the appropriate version when connecting the signal and slot.  With a callback, we would have to look for five different names and control the types ourselves. <br>  Some minor member functions have been omitted in this example. <br><br><h4>  Advanced use of signals and slots </h4><br>  In some cases, information about the sender may be required.  Qt provides the Qobject :: sender () function, which returns a pointer to the object that sent the signal. <br>  The QSignalMapper class is required in situations where many signals are connected to the same slot, and this slot must respond to each signal differently. <br>  Suppose we have three buttons that determine which file we want to open: ‚ÄúTax File‚Äù, ‚ÄúAccounts File‚Äù, or ‚ÄúReport File‚Äù. <br>  To open the desired file, we connect their QPushButton :: clicked () signal to the readFile () slot.  Now we use the function of the QSignalMapper class ‚Äî setMapping () ‚Äîto convert all signals into a QSignalMapper object. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  signalMapper = <font color="#0000ff">new</font> QSignalMapper ( <font color="#0000ff">this</font> ); </li><li>  signalMapper-&gt; setMapping (taxFileButton, QString ( <font color="#A31515">"taxfile.txt"</font> )); </li><li>  signalMapper-&gt; setMapping (accountFileButton, QString ( <font color="#A31515">"accountsfile.txt"</font> )); </li><li>  signalMapper-&gt; setMapping (reportFileButton, QString ( <font color="#A31515">"reportfile.txt"</font> )); </li><li>  connect (taxFileButton, SIGNAL (clicked ()), </li><li>  signalMapper, SLOT (map ())); </li><li>  connect (accountFileButton, SIGNAL (clicked ()), </li><li>  signalMapper, SLOT (map ())); </li><li>  connect (reportFileButton, SIGNAL (clicked ()), </li><li>  signalMapper, SLOT (map ())); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  Now we connect the mapped () signal to the readFile () slot in which different files will be opened depending on the button pressed. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  connect (signalMapper, SIGNAL (mapped ( <font color="#0000ff">const</font> QString &amp;)), </li><li>  <font color="#0000ff">this</font> , SLOT (readFile ( <font color="#0000ff">const</font> QString &amp;))); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br><h4>  Using Qt with third-party signals and slots </h4><br>  Qt can be used with a third-party signal and slot mechanism.  You can use several mechanisms in one project.  To do this, add the following line to the project file (.pro): <br><blockquote> <code>CONFIG += no_keywords</code> </blockquote> <br>  This option tells Qt not to define the moc'a keywords - signals, slots, and emit, since these names will be used by the third-party library, for example, Boost.  To use Qt signals and slots with the no_keywords flag set, you simply need to replace all the Qt moc keywords in the source files with the corresponding macros Q_SIGNALS, Q_SLOTS, and Q_EMIT. </div><p>Source: <a href="https://habr.com/ru/post/50812/">https://habr.com/ru/post/50812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../50803/index.html">Russian "Fisbook" will contextual advertising</a></li>
<li><a href="../50808/index.html">The beginning of a scientific career (part 3)</a></li>
<li><a href="../50809/index.html">Simple implementation of the scheme of the stepping motor on the micron</a></li>
<li><a href="../50810/index.html">Ubuntu Open Week: Encrypted Private Directories</a></li>
<li><a href="../50811/index.html">Quoting great</a></li>
<li><a href="../50813/index.html">Parking winchester heads on a laptop under FreeBSD</a></li>
<li><a href="../50816/index.html">New light bulb</a></li>
<li><a href="../50817/index.html">New paid service on LovePlanet.ru - "Improving photos."</a></li>
<li><a href="../50818/index.html">Comments Ideas for the site.</a></li>
<li><a href="../50819/index.html">4. Metaprogramming patterns. 19 Kyu. Salvation of drowning business of the hands of drowning people</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>