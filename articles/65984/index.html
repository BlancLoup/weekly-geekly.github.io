<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing a Google Wave server (FedOne) on a local Windows machine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I wanted to try the Google Wave Federation Prototype Server (FedOne) and I decided to install it on my laptop running Windows XP SP2. 

 What for? Wel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing a Google Wave server (FedOne) on a local Windows machine</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/643/3d9/936/6433d99368bb80e912fed2a58933eaf1.png" alt="image">  I wanted to try the <a href="http://code.google.com/p/wave-protocol/">Google Wave Federation Prototype Server</a> (FedOne) and I decided to install it on my laptop running Windows XP SP2. <br><br>  What for?  Well, I already had the experience of comfortable website development on my ‚Äúlocal Internet‚Äù ( <a href="http://denwer.ru/">Denwer</a> package includes Apache, PHP, MySQl, etc.).  Why not work in the same way with a local wave server, I thought? <br>  Said and done, that's what I did.  It took about three hours to do everything, and most of this time was fussing about installing additional software. <br><br>  The installation procedure of the wave server is described in detail with pictures.  There is also a <a href="http://groups.google.com/group/google-wave-russia/web/fedone-google-wave-server">Russian translation of this instruction</a> (made by Ivo Dimitrov aka Darwin). <br>  But installing under Windows has some features that I want to write about. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Details - under the cut. <br><br>  ps If Wave is interested, come to our <a href="http://groups.google.com/group/google-wave-russia%3Fhl%3Dru">group ‚ÄúGoogle Wave Russia‚Äù</a> . <br><a name="habracut"></a><br><h4>  A. Required software </h4><br><br>  I must say that to install the wave server I needed to download: <br><br><h5>  a1.  source for FedOne. </h5><br>  They can be viewed and <a href="http://code.google.com/p/wave-protocol/source/browse/">obtained here</a> . <br><br><h6>  a1.1.  Mercurial </h6><br>  Since the sources are stored in the Mercurial source control system, I had to install <a href="http://bitbucket.org/tortoisehg/stable/downloads/">the TortoiseHg client program for Windows</a> to download them. <br>  Currently it is version 0.8.1.  - <a href="">TortoiseHg-0.8.1-hg-1.3.1.exe</a> (14.4Mb) <br><br>  After installation, the TortoiseHg submenu appears in the context menu of Windows Explorer.  Create a folder on your disk, place the cursor on it, click the right mouse button and declare this folder as a local repository (repository) of source codes.  Then sync it with the FedOne online code repository - in the Repository Settings, select the online <a href="http://code.google.com/p/wave-protocol/source">code.google.com/p/wave-protocol/source</a> and upload the files.  And finally, make a working copy of these codes.  To do this, select Clone Repository, specify in which folder to put the source code. <br><br><h5>  a2.  Openfire </h5><br>  This is a real-time, cross-platform, XMPP (Jabber) protocol based, interoperability server. <br>  For Windows, there is currently <a href="http://www.igniterealtime.org/downloads/index.jsp">version 3.6.4</a> . <br>  There are two options for downloading, I chose the one in which Java RE is included (openfire_3_6_4.exe, 20.9Mb).  But you can probably download a more compact (7.49Mb) archive without JRE (and install Java separately in the next step). <br><br><h5>  a3.  Openssl </h5><br>  We need it to create certificates for our server.  I took the <a href="http://www.slproweb.com/products/Win32OpenSSL.html">Windows version of OpenSSL</a> .  Namely, the <a href="">Light version</a> (weighs 1Mb, there is also a 7-megabyte version for software developers, but for our purposes it is now superfluous). <br><br><h6>  a3.1.Visual C ++ 2008 Redistributables </h6><br>  When installing, it required installing Visual C ++ 2008 Redistributables, I had to download and install this package (1.7Mb) as well.  To do this, go <a href="http://www.microsoft.com/downloads/details.aspx%3Ffamilyid%3D9B2DA534-3E03-4391-8A4D-074B9F2BC1BF">to the server Microsoft</a> . <br>  I note that after installing the VCR and rebooting the system, the OpenSSL installer still cursed and assured that VCR was not installed in the system and it would not work without it.  But after clicking "OK" everything is fine and set to work. <br><br><h5>  a4.  Java </h5><br>  JavaRE6 was on my system along with Eclipse (possibly updated when installing OpenFire).  But when building Ant source codes, the tools.jar file was also required (about 13Mb).  He, as it turned out, comes with a package for developers JavaJDK.  Well, we will put also JavaJDK. <br><br><h6>  a4.1.  Java jdk </h6><br>  The currently available version of Java6 Update14 (75Mb) <a href="http://javadl.sun.com/webapps/download/AutoDL%3FBundleId%3D33403">is available for download</a> .  (You can <a href="http://cleansofts.org/download/java-runtime-environment.html">take it here</a> ). <br><br><h5>  a5.  Java Ant utility to build </h5><br>  I downloaded <a href="http://ant.apache.org/bindownload.cgi">version 1.7.1.</a>  (10Mb). <br><br>  I had to tinker with Ant for the reason that he, as I wrote above, needed tools.jar.  In addition, I work in Windows under the account "Vadim" written in Cyrillic.  Accordingly, the directories for this Windows account does with Cyrillic (Russian) names.  Ant at the assembly considered these ways erroneous and did not want to collect the project in any way. <br>  I solved this problem by installing the "correct" paths (without the "crocodile") in the variables ANT_HOME, JAVA_HOME, etc.  By the way, in the docks it is recommended to install such a string in config.sys to work with long paths: <i>shell = c: \ command.com c: \ / p / e: 32768</i> <br>  Variables in Windows can be set as follows: right-click on the ‚ÄúMy Computer‚Äù icon, select ‚ÄúProperties‚Äù.  Advanced tab, Environment Variables button. <br><br><h4>  B. So now the actual installation of the wave server. </h4><br><br>  The whole process is divided into four stages: <br>  b1.  setting up and running an XMPP OpenFire server <br>  b2.  OpenSSL certificate generation <br>  b3.  setting wave extension for OpenFire, i.e.  actually setting up your copy of the FedOne server and building it <br>  b4.  launch server and client to it <br><br>  Let's go this way: <br><h5>  b1.  Installing and configuring the OpenFire server </h5><br>  Setting up OpenFire is probably the easiest part of installing a server.  Run the installer and follow the instructions.  <a href="http://code.google.com/p/wave-protocol/wiki/Installation">In English</a> or <a href="http://groups.google.com/group/google-wave-russia/web/fedone-google-wave-server">in Russian</a> . <br><br>  Therefore, I will not repeat, but for our case there are two subtleties - a) specify " <i>localhost</i> " as the domain of your XMPP server, b) remember the name of the subdomain used by your FedOne (I called it " <i>wave</i> ") and the secret word (shared secret) to him (in my example - " <i>foobar</i> ").  We will need this when compiling and running the server. <br><br><h5>  b2.  Certificate Generation </h5><br>  In English <a href="http://code.google.com/p/wave-protocol/wiki/Certificates">described here</a> . <br><br>  Everything is elementary, Watson.  Go to C: \ OpenSSL \ bin \ and run openssl.exe with parameters (see below).  It will be necessary to answer a few questions - country code, city name, etc.  and get a total of 2 files. <br><br>  You can make such a genss.bat file: <br> <code>openssl genrsa 1024 | openssl pkcs8 -topk8 -nocrypt -out %1.key <br> openssl req -new -x509 -nodes -sha1 -days 365 -key %1.key -out %1.cert</code> <br>  and run it like this: genssl.bat wave, where wave is the name for the generated key and certificate files (wave.cert and wave.key). <br>  We put the generated files in the directory with the source of the wave server. <br><br><h5>  b3.  Compiling server and client </h5><br>  Just go to the server source folder and say: "ant".  (You can run the test beforehand - ‚Äúant test‚Äù). <br>  If you have correctly specified variables and paths, then after compilation you will receive 2 files (fedone-0.2.jar and fedone-client-0.2.jar) in the folder / dist <br><br><h5>  b4.  Run your server and client to it </h5><br>  An exciting moment.  :) Make a 2 bat file to run the server run-server.bat and to run the client run-client.bat. <br><br>  run-server.bat: <br> <code>java -jar dist/fedone-0.2.jar --client_frontend_hostname=127.0.0.1 --client_frontend_port=9876 --xmpp_component_name=wave --xmpp_server_hostname=localhost --xmpp_server_ip=localhost --xmpp_server_port=5275 --xmpp_server_secret "foobar" --xmpp_server_ping="" --certificate_private_key=wave.key --certificate_files=wave.cert --certificate_domain=localhost --waveserver_disable_verification=true</code> <br> <br>  ps A few explanations: ‚Äúlocalhost‚Äù (our local domain), ‚Äúwave‚Äù (extension name for OpenFire) and ‚Äúfoobar‚Äù (secret word) came in handy. <br><br>  run-client.bat: <br> <code>java -jar dist/fedone-client-0.2.jar %1@localhost 127.0.0.1 9876</code> <br> <br>  Client launch: run-client.bat username, for example: run-client.bat vadbars <br><br><h5>  So, is everything ready?  He said, "Let's go!" </h5><br>  Time.  Launch OpenFire.  In the tray - a yellow light bulb. <br>  Two.  Run the run-server.  Dosovsky window with the launch protocol.  Look in the messages that the server found OpenFire and connected to it.  You can see the same in the admin of the OpenFire (section "Extentions"). <br>  Three.  Run the run-client.  Also black and white dosovsky window with some obscure icons.  And what were you waiting for?  :) <br><br>  You can <a href="http://code.google.com/p/wave-protocol/wiki/ConsoleClient">admire the screenshots</a> .  Well, here's one for example at the beginning of this text (in Windows, all this looks even less glamorous, since there is no color, and instead there are text-control codes for the Unix-console, they look like arrows and numbers). <br><br><h4>  C. Working with waves on your server and with your client </h4><br><br>  At the moment (August 2009) FedOne supports only a few commands (yes, as long as there is no GUI!): <br><br>  <i>/ connect user @ domain server port</i> Connect to server: port as a user @ domain member <br>  <i>/ open entry open</i> Open the wave that you have in the Inbox.  You must specify the number of the wave (from 0).  For example: / open 1 <br>  <i>/ new</i> Create and open a new wave <br>  <i>/ add participantId</i> Add a participant to the wave <br>  <i>/ remove participantId</i> Remove a participant from the wave (hehe, this is not yet in the Gogoole Wave Sandbox client! Our server is cooler. :) <br>  <i>/ quit</i> shut down client <br><br>  Voila  Now you can drive a wave by running several clients with different participants, and then go on to explore the source code of FedOne to make something of your own.  For example, some kind of gui interface to it.  Good luck! <br><br>  If Wave is interested - come to our <a href="http://groups.google.com/group/google-wave-russia%3Fhl%3Dru">group ‚ÄúGoogle Wave Russia‚Äù</a> . </div><p>Source: <a href="https://habr.com/ru/post/65984/">https://habr.com/ru/post/65984/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../65972/index.html">Evolution of technology</a></li>
<li><a href="../65973/index.html">New build Opera 10b2 build 1679 (Win), 4520 (UNIX), 6595 (Mac)</a></li>
<li><a href="../65974/index.html">Meet Windows Phone</a></li>
<li><a href="../65976/index.html">Analog to Skype from Megaphone - MultiFon: first impressions</a></li>
<li><a href="../65978/index.html">The LG CC - headset phone</a></li>
<li><a href="../65985/index.html">VimpelCom and its 3G (three G)</a></li>
<li><a href="../65987/index.html">Live on the bright side or die trying</a></li>
<li><a href="../65988/index.html">New version of CMS / CMF MODx Evolution 1.0</a></li>
<li><a href="../65989/index.html">Comparison of JSON processing speed by different parsers and browsers</a></li>
<li><a href="../65993/index.html">What is transactional memory and how is it useful?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>