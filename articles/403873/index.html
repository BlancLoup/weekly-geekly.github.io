<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Balcony Solar Panel: Battery and BMS Testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello geektimes! In the previous part we briefly talked about the components necessary for the accumulation of energy from the solar battery, now we w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Balcony Solar Panel: Battery and BMS Testing</h1><div class="post__text post__text-html js-mediator-article">  Hello geektimes!  In the <a href="https://geektimes.ru/post/288945/">previous part we</a> briefly talked about the components necessary for the accumulation of energy from the solar battery, now we will move on to testing the components.  I wanted to test both main parts - the solar panel controller (Solar charge controller) and the BMS (Battery Management System), but the speed of the mail operation made its adjustments.  Therefore, we begin only with BMS, and the rest of the details had to be taken from those that were found at hand. <br><br>  What happened, the details under the cut. <br><a name="habracut"></a><br><h2>  Battery charge </h2><br>  As mentioned earlier, the Battery Management System is used to work with the battery - it is a board that does several useful functions at once: <br><br>  - provides uniform charge of cells, <br>  - protects the battery from overcharging, which is extremely harmful and even fire hazardous for lithium batteries, <br>  - protects the battery from overdischarge, which is also harmful to the battery, although not flammable. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In my case, the 18650 Protection Balance Board was ordered (again, it is important to note the presence of <b>both</b> protection and balance components on the board, there are boards where there is one thing), which looks like this: <br><div style="text-align:center;"><img src="https://habrastorage.org/web/a2a/c0d/e51/a2ac0de5186a4bd59f99c8467abf9d0e.jpg" alt="image"></div><br>  The cost of the fee is $ 8, and some readers have expressed doubts about the quality of its work.  This we also check.  In the previous part there were questions, so once again I will explain that the 3 ‚Äúbatteries‚Äù on the diagram are shown conditionally, each cell in real life may consist of several parallel (as is actually done in laptops). <br><br><h3>  Components </h3><br>  To connect the BMS in the old stocks were missing components. <br><br>  1) Lithium-ion 3S1P battery with Hobbyking capacity 2.1Ah: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/2b1/2bd/643/2b12bd643c5b4b7cb1c0d9962678df65.jpg"></div><br>  This is not the 18650 form factor, but the cell chemistry is the same, so there is essentially no difference. <br><br>  2) Step-down dc-dc converter: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/ae6/949/46f/ae694946f8f94346b5ac15a6827353fb.jpg"></div><br>  With this converter, the voltage will be applied to the BMS.  The power of the converter is 15W, so by and large, it does not fit the 100-watt panel.  However, the weather was overcast, so that the test will come down.  The maximum value for LiPo 4.2 * 3 = 12.6V was set on the converter. <br><br>  The correct LiPo charge algorithm looks like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/c32/fd1/302/c32fd1302401458d9744efd04dd5798b.jpg"></div><br>  In the first phase, the battery is charged with a constant current (CC, constant current) until it reaches a voltage of 4.2V per cell.  Then this voltage is maintained by the charger (CV mode, constant voltage), until the charge current drops to the minimum value. <br><br>  Our charge algorithm will be ‚Äúslightly‚Äù more simplified.  Only the first phase of the SS remains, in which the current will only conditionally be constant, since  current from solar panels is constantly changing.  However, there is nothing wrong with this; on the contrary, charging with lower currents prolongs the life of the battery.  The absence of the second phase of the CV will only lead to the fact that the battery will be charged at about 80%, but this will not worsen other battery parameters.  Harm to the battery from undercharging is also not, rather the opposite. <br><br><h3>  Charge </h3><br>  For testing, a lithium-ion battery was taken, the cell voltage was different, and was respectively 3.13, 3.47 and 3.44V.  "On the knee" all the above components were assembled and connected together. <br><br><img src="https://habrastorage.org/web/879/40a/c28/87940ac286a04484b0afcea50d89e215.jpg"><br><br>  Cloud cover was variable, and even with intermittent rain.  The power received from the solar panel ranged from 2 to 18W.  There were concerns about the operation of the converter, which was very warm to the touch, but in fact its temperature turned out to be quite low. <br><br><img src="https://habrastorage.org/web/e3b/603/65a/e3b60365a9e34832b149a06b19f93533.jpg"><br><br>  BMS did not warm up at all, the elements were only 1-2 degrees warmer than the background.  The battery was also cold. <br><br>  Finally, somewhere in 3.5 hours the voltage on the indicator reached 12.5V, and the current consumed became zero - BMS disconnected the battery from the charge.  For those who did not believe in the possibility of BMS operation for $ 8 - the voltage measured on the cells by a multimeter was 4.18, 4.18 and 4.18V.  This is slightly less than 4.2 V, but it fits into the declared for LiPo tolerance +/‚Äì 50mV / cell. <br><br><h3>  Discharge </h3><br>  For discharge, a piece of LED strip was connected to the battery, also through BMS, as ‚Äúevening‚Äù lighting: <br><br><img src="https://habrastorage.org/web/0f6/3c8/7a7/0f63c87a7884436b8d2173fd54172a6d.jpg"><br><br>  Of course, a 12V LED lamp would be more convenient, but I don't have one.  The tape luminescent about 2.5 hours in the evening, as a background light.  In the morning, a smart phone was turned on for charging to the battery via dc-dc converter with built-in USB output: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d85/0ec/49f/d850ec49f8b941f4bb8e29b556ab3385.jpg"></div><br>  The remaining charge in the battery was enough to charge the smartphone from 15% to 75%, then BMS disconnected the battery.  The voltage remaining on the battery cells after disconnection was 3.18, 3.51 and 3.45V, respectively, which again complies with the norms.  As you can see, the BMS disconnected the battery as soon as the voltage on at least one cell dropped below normal. <br><br><h3>  Conclusion </h3><br>  We can say that BMS works as expected - it aligns the voltage of the cells during charging, and does not allow deep discharge.  However, taking into account the parameters stated by the manufacturer ‚Äú3S 12.6V 25A‚Äù, it would be strange if it did not work - the current from the solar panels is noticeably less (even taking into account the likely marketing and ‚ÄúChinese watts‚Äù). <br><br>  Even in such a ‚Äútest‚Äù form, the system is already working, allowing us to accumulate solar energy during the day and use it in the evening.  The peak power per watt meter was about 30W with a current of about 2A, you can roughly estimate that in half a day you can charge a 12Ah battery, i.e.  with some reserve, there will be enough batteries for 20 Ah (again, there is not a lot of batteries, on cloudy days the output is less).  This is enough for evening lighting with a 1-3W LED-lamp and for charging all gadgets. <br><br>  A battery from rc-models with Hobbyking was delivered as a temporary solution, exclusively for the test.  These batteries have not been tested in continuous mode, so I cannot recommend it for purchase in this capacity.  At the same time, there were no problems in her work either - discharge currents 1-2A for these batteries are simply ridiculous (for comparison, in a quadcopter during flight the current is 20-25A). <br><br>  The <a href="https://geektimes.ru/post/289337/">next part</a> will cover Solar Charge Controller, and how it all works together.  Stay tuned. </div><p>Source: <a href="https://habr.com/ru/post/403873/">https://habr.com/ru/post/403873/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../403861/index.html">Something wrong is happening to Masterhost.</a></li>
<li><a href="../403865/index.html">Auchan LED Bulbs</a></li>
<li><a href="../403867/index.html">Freedom of information</a></li>
<li><a href="../403869/index.html">My experience of creating "without smart" at home</a></li>
<li><a href="../403871/index.html">BBC Micro - the computer that beat ZX Spectrum</a></li>
<li><a href="../403875/index.html">Smart watches and neural networks detect atrial fibrillation with an accuracy of 97%</a></li>
<li><a href="../403877/index.html">NASA's extra heavy booster will cost at least $ 500 million, and its launch will be postponed for another year</a></li>
<li><a href="../403879/index.html">Self-employed citizens will not be prohibited from traveling abroad</a></li>
<li><a href="../403881/index.html">The most wonderful rocket</a></li>
<li><a href="../403883/index.html">Ask Ethan: Is it true that there is evidence of the existence of a new, fifth interaction?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>