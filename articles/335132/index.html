<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dedicated servers based on Intel Xeon processors Skylake-SP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On July 12, Intel introduced a new line of server processors, code-named Skylake-SP. The letters SP in the name of the line is an abbreviation for Sca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dedicated servers based on Intel Xeon processors Skylake-SP</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/00c/e1b/552/00ce1b552419f1eb1f76ece148e1f95c.png" width="100%" height="100%"><br><br>  On July 12, Intel introduced a new line of server processors, code-named Skylake-SP.  The letters SP in the name of the line is an abbreviation for Scalable Processors ("scalable processors" in Russian).  Such a name is not accidental: Intel implemented many interesting innovations and, as noted in <a href="https://servernews.ru/955164" rel="nofollow noopener noreferrer">one review</a> , "they tried to please almost everyone." <br><a name="habracut"></a><br>  SP line processors are part of the Purley server platform, which is called the ‚Äú <a href="https://newsroom.intel.com/editorials/re-architecting-data-center-intel-xeon-processor-scalable-family/" rel="nofollow noopener noreferrer">platform of the decade</a> ‚Äù. <br><br>  Servers based on new processors are <a href="https://selectel.ru/promo/intel-skylake/" rel="noopener noreferrer">already available for order in our data centers</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What innovations are implemented in Intel Skylake-SP?  What are the technical specifications of these processors?  What are their advantages compared with previous models?  All this we will describe in detail in this article. <br><br><h2>  New processors - new names </h2><br>  Previous lines of Xeon processors received names of the Exvx type: E3v3, E3v5, etc.  The SP line uses a different naming scheme: all processors are divided into four series under the code names Bronze, Silver, Gold and Platinum.  All these series differ in the number of cores and a set of technologies. <br><br>  Bronze are the simplest processors: they can have up to 8 cores and do not support hyper-threading.  Platinum, as the name implies, is designed to work under high loads and have the largest (up to 28) number of cores. <br><br>  The names of some models have new indexes.  Thus, the letter F indicates the presence of the built-in controller <a href="https://www.intel.ru/content/www/ru/ru/high-performance-computing-fabrics/omni-path-architecture-fabric-overview.html" rel="nofollow noopener noreferrer">Omni-Path</a> , M indicates support for a larger memory size (up to 1.5 TB per socket), and T indicates support for the <a href="https://en.wikipedia.org/wiki/Network_Equipment-Building_System" rel="nofollow noopener noreferrer">NEBS</a> standard <a href="https://en.wikipedia.org/wiki/Network_Equipment-Building_System" rel="nofollow noopener noreferrer">(Network Equipment Building System)</a> .  Processors with an index T in the name can withstand high temperature loads, and their service life is much longer compared to other models. <br><br><h2>  Specifications </h2><br>  For our configurations, we chose Intel Xeon Silver 4114 and Intel Xeon Gold 6140. Their main technical characteristics are presented in the table below. <br><table><tbody><tr><th>  Characteristic </th><th>  Intel Xeon Silver 4114 </th><th>  Intel Xeon Gold 6140 </th></tr><tr><td>  Technological process </td><td>  14 nm </td><td>  14 nm </td></tr><tr><td>  Number of Cores </td><td>  ten </td><td>  18 </td></tr><tr><td>  Number of threads </td><td>  20 </td><td>  36 </td></tr><tr><td>  Base frequency </td><td>  2.20 GHz </td><td>  2.30 GHz </td></tr><tr><td>  Maximum Turbo Frequency </td><td>  3.00 GHz </td><td>  3.70 GHz </td></tr><tr><td>  L3 cache </td><td>  13.75 MB </td><td>  24.75 MB </td></tr><tr><td>  Number of UPI lines </td><td>  2 </td><td>  3 </td></tr><tr><td>  TDP (thermal design power) </td><td>  85 W </td><td>  140 W </td></tr></tbody></table><br><h2>  Major innovations </h2><br>  Here is a list of the most significant innovations implemented in Skylake-SP processors: <br><br><ul><li>  thanks to the AVX-512 instruction set, the performance of integer and floating-point calculations has been significantly improved; </li><li>  the presence of a six-channel memory controller (in the previous line was a four-channel); </li><li>  communication between cores is accelerated thanks to UPI (Ultra Path Interconnect) technology; </li><li>  increased number of PCI lines (up to 48); </li><li>  modified topology: mesh architecture has replaced the ring bus. </li></ul><br><h2>  Microarchitecture </h2><br>  The basic structure of the core of the SP line processors remains exactly the same as that of previous models of Skylake.  However, there are some differences and improvements.  Increased L2 cache: it is 1 MB.  The L3 cache is 1.375 MB per core.  The L2 cache is populated directly from RAM, and then unused lines are pushed out into L3.  Data common to several cores is stored in L3. <br><br>  Note one more thing: the volume of the L3 cache does not depend on the number of cores.  The 24.75 MB cache is equipped with both eight-core, and twelve, and even eighteen-core (see table above) models. <br><br>  As noted in many reviews (see, for example, <a href="https://servernews.ru/955164" rel="nofollow noopener noreferrer">here</a> ), the emphasis is placed on working with the L2 cache.  The built-in eDRAM memory in Skylake processors is completely absent. <br><br><h2>  New topology </h2><br>  An important innovation in Intel Skylake-SP processors is the abandonment of the internal circuit bus, which has been used for communication between the cores for almost 10 years. <br><br>  The ring bus first appeared in 2009 in eight-core <a href="http://semiaccurate.com/2009/08/25/intel-details-becton-8-cores-and-all/" rel="nofollow noopener noreferrer">Nehalem-EX processors</a> .  She worked very quickly (up to 3 GHz).  L3 cache latency was minimal.  If the kernel found data in its cache fragment, only one additional cycle was required.  It took up to 12 cycles to get the cache line from another fragment (6 cycles on average). <br><br>  Subsequently, the ring bus technology has undergone many changes and improvements.  Thus, in the processors Ivy Bridge, presented in 2012, three rows of cores were combined with two ring buses.  They moved data in two directions (clockwise and counterclockwise), which allowed them to be delivered along the shortest route and reduce the delay time.  After the data arrived at the ring structure, it was necessary to coordinate their route in order to avoid confusion with previous data. <br><br>  In the <a href="https://blog.selectel.ru/vydelennye-servery-na-baze-processorov-intel-xeon-e5v3/" rel="noopener noreferrer">Intel Xeon E5v3 processors</a> (2014), everything has become much more complicated: four rows of cores, two ring buses that are independent of each other, a buffer switch (for more on this, see the article on the link just provided). <br><br>  The ring bus technology has become widespread when the processors had a maximum of 8 cores.  And when there were more than 20 cores, it became clear: the limit of its capabilities is near.  Of course, it would be possible to go the simplest way and add another, third, ring.  But Intel decided to go the other way and move on to the new topology of the tire structure - the mesh.  This approach has already been tested on Xeon Phi processors (for more details, see <a href="http://www.anandtech.com/show/11550/the-intel-skylakex-review-core-i9-7900x-i7-7820x-and-i7-7800x-tested/5" rel="nofollow noopener noreferrer">this article</a> . <br>  Schematically, the cellular topology of the structure of tires can be represented as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0f3/240/216/0f32402166662c18ed3074607df1f7fb.png" width="100%" height="100%"><br>  <i><a href="https://itpeernetwork.intel.com/intel-mesh-architecture-data-center/" rel="nofollow noopener noreferrer">Intel</a> illustration</i> <br><br>  Thanks to the new topology, it was possible to significantly increase the speed of interaction between the cores, as well as to increase the efficiency of working with memory. <br><br><h2>  New AVX-512 instruction set </h2><br>  The performance of computational operations in Skylake-SP processors was improved thanks to the use of the new instruction set AVX-512.  It extends 32-bit and 64-bit AVX instructions using 512-bit vectors. <br><br>  Programs can now package either 8 double-precision floating-point numbers, or 16 single-precision floating-point numbers, or 8 64-bit integers, or 16 32-bit integers inside a 512-bit vector.  This allows you to increase the number of processed items for one instruction twice as compared with Intel AVX / AVX2 and four times as compared with Intel SSE. <br><br>  The AVX-512 is fully compatible with the AVX instruction set.  This, in particular, means that both instruction sets can be used in one program without sacrificing performance (this problem was observed when SSE and AVX were used together).  The AVX registers (YMM0 ‚Äî YMM15) refer to the lower parts of the AVX-512 registers (ZMM0 ‚Äî ZMM15) by analogy with the SSE and AVX registers.  Therefore, in processors with support for the AVX-512, the AVX and AVX2 instructions are executed on the lower 128 or 256 bits of the first 16 ZMM registers. <br><br><h2>  Performance tests </h2><br><h3>  Sysbench tests </h3><br>  A description of the capabilities of the new processors would be incomplete without the results of performance tests.  We conducted such tests and compared two servers: based on the <a href="https://ark.intel.com/products/120506/Intel-Xeon-Platinum-8170-Processor-35_75M-Cache-2_10-GHz" rel="nofollow noopener noreferrer">Intel Xeon 8170 Platinum processor</a> and based on the <a href="https://ark.intel.com/ru/products/91754/Intel-Xeon-Processor-E5-2680-v4-35M-Cache-2_40-GHz" rel="nofollow noopener noreferrer">Intel Xeon E5-2680v4 processor</a> .  On both servers was installed OC Ubuntu 16.04. <br><br>  Let's start with the tests from the popular sysbench package. <br><br>  The first benchmark we conducted was a primer search test. <br><br>  On both servers we installed sysbench and executed the command: <br><br><pre><code class="bash hljs">sysbench --<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>=cpu --cpu-max-prime=200000 --num-thread=1 run</code> </pre> <br>  During the test, we increased the number of threads (parameter --num-threads) from 1 to 100. <br><br>  The test result is graphically presented (the lower the number, the better the result): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce5/c45/153/ce5c451537ac871866eb259596ed941a.png" width="100%" height="100%"><br><br>  As the number of threads increases, Intel Xeon Platinum 8170 performs better. <br><br>  Let us now consider the test results for the speed of read-write operations from the memory buffer (the lower the number, the better the result): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b3/5f4/b61/2b35f4b61f1d4a00cc1217e57188d83b.png" width="100%" height="100%"><br><br>  Here we see a similar picture: with an increase in the number of threads, Intel Xeon 8170 Platinum takes the lead. <br><br>  The threads test checks work with a large number of concurrent threads.  During our experiments, we increased the number of threads from 1 to 120. <br><br>  The results of this test are presented below (the smaller the numbers, the better the result): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b11/902/40d/b1190240d541fea86b5e92edab0deb19.png" width="100%" height="100%"><br><br>  As can be seen from the graph, as the number of streams increases, the results for Intel Xeon Skylake-SP Platinum are higher. <br><br><h3>  Linpack test </h3><br><br>  The next test we did was <a href="https://en.wikipedia.org/wiki/LINPACK_benchmarks" rel="nofollow noopener noreferrer">Linpack</a> .  This test is used to measure the performance of floating-point calculations and is the de facto standard in the field of testing computing systems.  According to its results, a <a href="https://www.top500.org/" rel="nofollow noopener noreferrer">list of the most productive systems in the world</a> is compiled. <br><br>  The meaning of the test is to solve a dense system of linear algebraic equations (SLAE) using the <a href="https://ru.wikipedia.org/wiki/LU-%25D1%2580%25D0%25B0%25D0%25B7%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5" rel="nofollow noopener noreferrer">LU-decomposition</a> method.  Performance is measured in flops - this is short for floating point per second, that is, the number of floating point operations per second.  For the Linpack algorithm, read more <a href="http://www.netlib.org/benchmark/hpl/algorithm.html" rel="noopener noreferrer">here</a> . <br><br>  Linpack test benchmark can be downloaded <a href="https://software.intel.com/en-us/articles/intel-mkl-benchmarks-suite" rel="noopener noreferrer">from the Intel website</a> .  During the test, the program solves 15 systems of equations with a matrix of different dimensions (from 1000 to 45000).  The results of the test conducted by us are graphically presented (the higher the number, the better the result): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e9/fbb/c06/3e9fbbc063bd07fc7275dca4f5bbbe23.png" width="100%" height="100%"><br><br>  As you can see, the new processor shows much higher results.  In the test with the maximum matrix size (45,000), the performance of Intel Xeon E5-2680v4 is 948.9728 Gflops, and Intel Xeon Platinum - 1233.2960 Gflops. <br><br><h3>  Build a speed boost </h3><br>  To evaluate the performance of processors, it is highly desirable to conduct not only benchmarks, but also tests that are as close as possible to actual practice.  Therefore, we decided to see the speed with which our servers will assemble a set of C ++ <a href="http://www.boost.org/" rel="nofollow noopener noreferrer">Boost</a> libraries from source code. <br>  We used the latest stable version of Boost - 1.64.0;  We downloaded the archive with the source code from the <a href="http://www.boost.org/users/download/" rel="nofollow noopener noreferrer">official site</a> . <br><br>  On a server with an Intel Xeon E5-2680v4 processor, the build took <b>12 minutes and 25 seconds</b> .  The server based on Intel Xeon Platinum coped with the task even faster - in <b>9 minutes 16 seconds</b> . <br><br><h2>  Conclusion </h2><br>  In this article, we have reviewed the major innovations that have appeared in Intel Skylake-SP processors.  For those who want to learn more, here is a selection of useful links on the topic: <br><br><ul><li>  <a href="http://www.anandtech.com/show/11544/intel-skylake-ep-vs-amd-epyc-7000-cpu-battle-of-the-decade" rel="nofollow">http://www.anandtech.com/show/11544/intel-skylake-ep-vs-amd-epyc-7000-cpu-battle-of-the-decade</a> ; </li><li>  <a href="https://servernews.ru/955164" rel="nofollow">https://servernews.ru/955164</a> ; </li><li>  <a href="https://itpeernetwork.intel.com/intel-mesh-architecture-data-center">https://itpeernetwork.intel.com/intel-mesh-architecture-data-center</a> ; </li><li>  <a href="https://software.intel.com/en-us/node/683422" rel="nofollow">https://software.intel.com/en-us/node/683422</a> ; </li></ul><br>  Servers based on new processors are already available for ordering at data centers in St. Petersburg and Moscow. <br><br>  We offer the following configurations: <br><table><tbody><tr><th>  CPU </th><th>  Memory </th><th>  Discs </th></tr><tr><td>  Intel Xeon Silver 4114 </td><td>  96 GB DDR4 </td><td>  2 √ó 480 GB SSD + 2 √ó 4 TB SATA </td></tr><tr><td>  Intel Xeon Silver 4114 </td><td>  192 GB DDR4 </td><td>  2 √ó 480 GB SSD </td></tr><tr><td>  Intel Xeon Silver 4114 </td><td>  384 GB DDR4 </td><td>  2 √ó 480 GB SSD </td></tr><tr><td>  Intel Xeon Gold 6140 2.1 </td><td>  384 GB DDR4 </td><td>  2 √ó 800 GB SSD </td></tr></tbody></table><br>  To rent servers on the basis of new processors, you need to pre-order, but soon they will be available on an ongoing basis. </div><p>Source: <a href="https://habr.com/ru/post/335132/">https://habr.com/ru/post/335132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335112/index.html">Model-View-Intent and Load / Update Indicator</a></li>
<li><a href="../335114/index.html">Interactive recommenders: how to create, how to work</a></li>
<li><a href="../335120/index.html">RailsClub 2017: we are waiting for all rubists on September 23 in Moscow</a></li>
<li><a href="../335122/index.html">Speed ‚Äã‚Äãup your website using machine learning.</a></li>
<li><a href="../335128/index.html">Getting started with Wagtail CMS (Django) and GraphQL</a></li>
<li><a href="../335134/index.html">WiFiBeat: We detect suspicious traffic in a wireless network</a></li>
<li><a href="../335136/index.html">Intelligent Automatic Pet Feeder Based on Arduino - STEP 1</a></li>
<li><a href="../335138/index.html">RequestQueueLimitPerSession and its distribution to older versions of .net</a></li>
<li><a href="../335140/index.html">Optimization and automation of web application testing</a></li>
<li><a href="../335142/index.html">About PKI "on the fingers" in 10 minutes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>