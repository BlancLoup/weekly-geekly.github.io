<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easy walk from functor through monad to arrow</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let's take a walk through the chain of Pointed, Functor, Applicative Functor, Monad, Category, Arrow, during which I will try to show that all this is...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easy walk from functor through monad to arrow</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/d7c/b99/ca3/d7cb99ca30a926a6ae226c504cfc3441.jpg" align="right"><br>  Let's take a walk through the chain of Pointed, Functor, Applicative Functor, Monad, Category, Arrow, during which I will try to show that all this is not in order to blow the brain, but to solve very real problems, moreover, existing not only in haskell.  Most of the code is written in C #, but I think without his knowledge it will be possible to understand what's what. <br><a name="habracut"></a><br><h4>  Examples </h4><br>  Although the examples use primitive operations on int, if you prefer, you can think of something more vital in their place, for example, in an applicative functor, you can consider this <br><pre><code class="cs hljs">Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; userId = UserService.GetUserId(email)
Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; productId = ProductService.GetProductId(productCode)
Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; discount = Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Nothing;
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(userId.HasValue &amp;&amp; porductId.HasValue)
    discount = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Maybe(DiscountService.GetDiscount(userId.Value, productId.Value));
</code></pre><br>
<br>
<h4></h4><br>
    ,      ,         Maybe,         ,       null   . <br>
<br>
<pre><code class="cs hljs">	<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Maybe</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Maybe&lt;T&gt; Nothing = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Maybe&lt;T&gt;();
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> HasValue { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }

		<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Maybe</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { }

		<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Maybe</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">T </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> {
			Value = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>;
			HasValue = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;
		}

		<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
			<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (HasValue)
				<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Value.ToString();
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Nothing"</span></span>;
		}
	}

</code></pre><br>
<h5></h5><br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-function">Maybe&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetUserById</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id</span></span></span><span class="hljs-function">)</span></span>{...}
</code></pre><br>
   <code>Maybe&lt;A&gt;</code>?      ,     A     <code>Maybe&lt;A&gt;, int -&gt; Maybe&lt;int&gt;</code>,    ,   ‚Äî   .<br>
<br>
<h4>Pointed</h4><br>
  :        <code>A -&gt; Maybe&lt;A&gt;</code>,  .<br>
<pre><code class="cs hljs">
	<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Pointed</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Maybe&lt;A&gt; Pure&lt;A&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> A <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) {
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Maybe&lt;A&gt;(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>);
		}
	}
</code></pre><br>
<br>
      C#,   this        <br>
<br>
<h5></h5><br>
<pre><code class="cs hljs">	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Pointed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span>;
		Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; y = x.Pure();
	}
</code></pre><br>
<br>
         Maybe.<br>
<br>
<h4></h4><br>
,   ,           ,      A ‚Üí B,         .   ? ,        Maybe  ,   ,        ,  ,  Nothing,          null.    DRY      .<br>
<br>
<pre><code class="cs hljs">	<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Functor</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Maybe&lt;B&gt; Map&lt;A,B&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Maybe&lt;A&gt; maybe, Func&lt;A,B&gt; f) {
			<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(maybe.HasValue) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> f(maybe.Value).Pure();
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Maybe&lt;B&gt;.Nothing;
		}
	}
</code></pre><br>
<br>
<h5></h5><br>
 <pre><code class="cs hljs">	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Functor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; inc = y =&gt; y + <span class="hljs-number"><span class="hljs-number">1</span></span>;<span class="hljs-comment"><span class="hljs-comment">//  int -&gt; int</span></span>
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">1.</span></span>Pure();<span class="hljs-comment"><span class="hljs-comment">//    Maybe</span></span>
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = x.Map(inc); <span class="hljs-comment"><span class="hljs-comment">//       , r == Some(2)</span></span>
	}

</code></pre><br>
<br>
        .<br>
<br>
<h4> </h4><br>
    ,        (A,B) ‚Üí C?  map     .  ,        ‚Äî                  . add(x,y) = x + y; inc = add(1); inc(10) == 11;<br>
     Func   .<br>
<br>
<pre><code class="cs hljs">	<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CurryFunc</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Func&lt;T1,Func&lt;T2,R&gt;&gt; Curry&lt;T1,T2,R&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Func&lt;T1,T2,R&gt; f) {
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x =&gt; y =&gt; f(x, y);
		}
	}
</code></pre><br>
<h5></h5><br>
<pre><code class="cs hljs">	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Curry</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> = (y,z) =&gt; y + z;
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> inc = <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.Curry()(<span class="hljs-number"><span class="hljs-number">1</span></span>);
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = inc(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">// r == 2</span></span>
	}
</code></pre><br>
<br>
   apply      . <br>
<br>
<pre><code class="cs hljs">	<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Applicative</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Maybe&lt;B&gt; Apply&lt;A,B&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Maybe&lt;Func&lt;A,B&gt;&gt; f, Maybe&lt;A&gt; maybe) {
			<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(f.HasValue) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe.Map(f.Value); <span class="hljs-comment"><span class="hljs-comment">//   ,      Map</span></span>
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Maybe&lt;B&gt;.Nothing;
		}
	}
</code></pre><br>
<br>
<h5></h5><br>
 <pre><code class="cs hljs">	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Applicative</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; addF = (y,z) =&gt; y + z;
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> = addF.Curry();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x1 = <span class="hljs-number"><span class="hljs-number">1.</span></span>Pure();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x2 = <span class="hljs-number"><span class="hljs-number">2.</span></span>Pure();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.Pure().Apply(x1).Apply(x2); <span class="hljs-comment"><span class="hljs-comment">//       Maybe    ,  r == Some(3)</span></span>
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; f = DiscountService.GetDiscount;
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> discount = f.Curry().Pure().Apply(userId).Apply(productId); <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
	}
</code></pre><br>
<br>
     ,     curry.<br>
<pre><code class="cs hljs">Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; addF = (a,b,c,d) =&gt; a + b + c + d;
addF.Curry().Apply(x1).Apply(x2).Apply(x3).Apply(x4);
</code></pre><br>
<br>
<h4></h4><br>
    ,       ,      <code><code> A ‚Üí Maybe   GetUserById :: int -&gt; Maybe&lt;User&gt;</code><br>
   map  .      <code>Maybe&lt;Maybe&lt;B&gt;&gt;</code>,      <br>
<br>
<pre><code class="cs hljs">	<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Monad</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Maybe&lt;B&gt; Bind&lt;A,B&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Maybe&lt;A&gt; maybe, Func&lt;A,Maybe&lt;B&gt;&gt; f) {
			<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(maybe.HasValue) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> f(maybe.Value);
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Maybe&lt;B&gt;.Nothing;
		}
	}
</code></pre><br>
<h5></h5><br>
 <pre><code class="cs hljs">	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Monad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&gt; solve = y =&gt; y == <span class="hljs-number"><span class="hljs-number">0</span></span> ? Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Nothing : (y + <span class="hljs-number"><span class="hljs-number">1</span></span>).Pure();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">1.</span></span>Pure();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = <span class="hljs-number"><span class="hljs-number">0.</span></span>Pure();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r1 = x.Bind(solve); <span class="hljs-comment"><span class="hljs-comment">// r1 == Some(2)</span></span>
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r2 = y.Bind(solve); <span class="hljs-comment"><span class="hljs-comment">// r2 == Nothing</span></span>
	}

</code></pre><br>
<br>
,         ,    Maybe. <br>
<br>
<h4></h4><br>
      .       Maybe     .<br>
   ?               ,             , <br>
<pre><code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">f</span></span> = length . filter (&gt;<span class="hljs-number"><span class="hljs-number">3</span></span>) . map (+<span class="hljs-number"><span class="hljs-number">1</span></span>) . skip <span class="hljs-number"><span class="hljs-number">3</span></span>  
</code></pre><br>
(.)    .<br>
f -     ,  1   ,          .<br>
    ,     .<br>
<br>
          ,     .       .      ,        .        .       ,    ,    .          , f: A ‚Üí B, g:B ‚Üí C  f compose g: A ‚Üí C.      ,     ,    .<br>
<br>
   .        . <br>
<br>
<pre><code class="cs hljs">	<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Category</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Func&lt;A,C&gt; Compose&lt;A,B,C&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Func&lt;B,C&gt;f1, Func&lt;A,B&gt; f2) {
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x =&gt; f1(f2(x));
		}
	}
</code></pre><br>
<h5></h5><br>
<pre><code class="cs hljs">	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Category</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; f1 = y =&gt; y + <span class="hljs-number"><span class="hljs-number">1</span></span>;
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; f2 = y =&gt; y * <span class="hljs-number"><span class="hljs-number">2</span></span>;
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fr = f2.Compose(f1);
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = fr(<span class="hljs-number"><span class="hljs-number">1</span></span>);<span class="hljs-comment"><span class="hljs-comment">// r == 4</span></span>
	}
</code></pre><br>
<br>
    <code>A ‚Üí Maybe&lt;B&gt;, B ‚Üí Maybe&lt;C&gt;</code>               .<br>
<br>
         <code>A ‚Üí Maybe&lt;B&gt; </code>    .    ,       .   -     <code> A ‚Üí M&lt;B&gt;</code><br>
 <br>
<pre><code class="cs hljs">	<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Kleisli</span></span>&lt;<span class="hljs-title"><span class="hljs-title">A</span></span>,<span class="hljs-title"><span class="hljs-title">B</span></span>&gt; {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Func&lt;A,Maybe&lt;B&gt;&gt; Func { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }
		<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Kleisli</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;A,Maybe&lt;B&gt;&gt; f</span></span></span><span class="hljs-function">)</span></span> {
			Func = f;
		}
	}


</code></pre><br>
    .<br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Category</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Kleisli&lt;A,B&gt; ToKleisli&lt;A,B&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Func&lt;A,Maybe&lt;B&gt;&gt; f) {
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Kleisli&lt;A, B&gt;(f);
		}

		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Kleisli&lt;A,C&gt; Compose&lt;A,B,C&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Kleisli&lt;B,C&gt; f1, 
			Kleisli&lt;A,B&gt; f2) {
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ToKleisli&lt;A,C&gt;(x =&gt; f2.Func(x).Bind(f1.Func));
		}
	}

</code></pre><br>
<h5></h5><br>
<pre><code class="cs hljs">
	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Category2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&gt; f1 = y =&gt; (y + <span class="hljs-number"><span class="hljs-number">1</span></span>).Pure();
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&gt; f2 = y =&gt; (y * <span class="hljs-number"><span class="hljs-number">2</span></span>).Pure();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fr = f2.ToKleisli().Compose(f1.ToKleisli());
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = fr.Func(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//r == Some(4)</span></span>
	}
</code></pre><br>
   ,            f2.Compose(f1)<br>
       .<br>
<br>
<h4></h4><br>
      .       <code> -&gt; B, B -&gt; Maybe&lt;C&gt;</code>       .        ,           <br>
<pre><code class="cs hljs">
	<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Arrow</span></span> {
		<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Kleisli&lt;A,B&gt; Arr&lt;A,B&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Func&lt;A,B&gt; f) {
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Category.ToKleisli&lt;A,B&gt;(x =&gt; f(x).Pure());<span class="hljs-comment"><span class="hljs-comment">//     </span></span>
		}
	}

</code></pre><br>
<h5></h5><br>
 <pre><code class="cs hljs">	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Arrow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; f1 = y =&gt; y + <span class="hljs-number"><span class="hljs-number">1</span></span>;
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; f2 = y =&gt; y * <span class="hljs-number"><span class="hljs-number">10</span></span>;

		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&gt; fm1 = y =&gt; (y * <span class="hljs-number"><span class="hljs-number">2</span></span>).Pure();
		Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&gt; fm2 = y =&gt; (y - <span class="hljs-number"><span class="hljs-number">5</span></span>).Pure();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fa1 = f1.Arr();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fa2 = f2.Arr();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fk1 = fm1.ToKleisli();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fk2 = fm2.ToKleisli();
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fr = fk2.Compose(fa1).Compose(fk1).Compose(fa2);
		<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r1 = fr.Func(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-comment"><span class="hljs-comment">// r1 == Some(36)</span></span>
		<span class="hljs-comment"><span class="hljs-comment">//         var r1 = f2.Compose(f1.Arr()).Compose(f1).Compose(f2.Arr())(2)</span></span>
	}
</code></pre><br>
:      ,   .<br>
<br>
      ,          . ,   compose    ,       : (&amp;&amp;&amp;) -  , (***) -     .      .<br>
<br>
<h4></h4><br>
          ,      ,           .      ,            C#.         ,         <code>A -&gt; List&lt;A&gt;</code>,     ~90% ,        .           ,             ,        Maybe       <code>M&lt;A&gt;</code> M        <code>Maybe&lt;A&gt; List&lt;A&gt;</code>  .<br>
<br>
     ,   <a href="http://anton-k.github.com/ru-haskell-book/book/toc.html">http://anton-k.github.com/ru-haskell-book/book/toc.html</a>,        ,    ,     (       )         .<br>
<br>
<h4>  haskell</h4><br>
<br>
<pre><code class="haskell hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Prelude <span class="hljs-keyword"><span class="hljs-keyword">hiding</span></span> (<span class="hljs-type"><span class="hljs-type">Functor</span></span>,<span class="hljs-title"><span class="hljs-title">map</span></span>,<span class="hljs-type"><span class="hljs-type">Monad</span></span>)
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Pointed</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	pure :: a -&gt; f a
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Pointed</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	pure = <span class="hljs-type"><span class="hljs-type">Just</span></span>
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	map :: (a -&gt; b) -&gt; f a -&gt; f b
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>  
	map f (<span class="hljs-type"><span class="hljs-type">Just</span></span> x) = <span class="hljs-type"><span class="hljs-type">Just</span></span> (f x)  
	map f <span class="hljs-type"><span class="hljs-type">Nothing</span></span> = <span class="hljs-type"><span class="hljs-type">Nothing</span></span>  
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">f</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Pointed</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">f</span></span></span><span class="hljs-class">) =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	apply :: f (a -&gt; b) -&gt; f a -&gt; f b
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>  
	apply <span class="hljs-type"><span class="hljs-type">Nothing</span></span>  _ = <span class="hljs-type"><span class="hljs-type">Nothing</span></span>  
	apply (<span class="hljs-type"><span class="hljs-type">Just</span></span> f) something = map f something  
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> f =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Monad</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	bind :: f a -&gt; (a -&gt; f b) -&gt; f b
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Monad</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class">  </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	bind (<span class="hljs-type"><span class="hljs-type">Just</span></span> x)  k      = k x
	bind <span class="hljs-type"><span class="hljs-type">Nothing</span></span>   _      = <span class="hljs-type"><span class="hljs-type">Nothing</span></span>

<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">newtype</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Kleisli</span></span></span><span class="hljs-class"> m a b = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Kleisli</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">runKleisli</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">m</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class"> }</span></span>
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Category</span></span></span><span class="hljs-class"> cat </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	compose :: cat b c -&gt; cat a b -&gt; cat a c
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Category</span></span></span><span class="hljs-class"> (-&gt;) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	compose f g = \x -&gt; f (g x) 
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Monad</span></span></span><span class="hljs-class"> m =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Category</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Kleisli</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">m</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	compose (<span class="hljs-type"><span class="hljs-type">Kleisli</span></span> f) (<span class="hljs-type"><span class="hljs-type">Kleisli</span></span> g) = <span class="hljs-type"><span class="hljs-type">Kleisli</span></span> (\b -&gt; bind (g b) f)
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Category</span></span></span><span class="hljs-class"> a =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Arrow</span></span></span><span class="hljs-class"> a </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	arr :: (b -&gt; c) -&gt; a b c
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Arrow</span></span></span><span class="hljs-class"> (-&gt;) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	arr f = f
<span class="hljs-class"><span class="hljs-class">
</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Monad</span></span></span><span class="hljs-class"> m =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Arrow</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Kleisli</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">m</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span>
	arr f = <span class="hljs-type"><span class="hljs-type">Kleisli</span></span> (compose pure f)

</code></pre><br>
<br>
Upd:                .<br>
   :<br>
<pre><code class="cs hljs">Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; userId = UserService.GetUserId(email);
Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; productId = ProductService.GetProductId(productCode);
Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; discount = Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Nothing;
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(userId.HasValue &amp;&amp; porductId.HasValue)
    discount = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Maybe(DiscountService.GetDiscount(userId.Value, productId.Value));
</code></pre><br>
   ?     if,    .<br>
    :<br>
<pre><code class="cs hljs">Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; f = DiscountService.GetDiscount;
Maybe&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; discount = f.Curry().Pure().Apply(userId).Apply(productId);
</code></pre><br>
   ?         ,       userId  productId,    .</code></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/151703/">https://habr.com/ru/post/151703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151694/index.html">Attraction of unprecedented generosity from Amazon. Once again about technical support</a></li>
<li><a href="../151696/index.html">Forced HTTP session breaks with MiTM</a></li>
<li><a href="../151697/index.html">Update banking application. Preview and invitation to implement your ideas in our application (by our developers)</a></li>
<li><a href="../151698/index.html">A simple sms bot on the shell</a></li>
<li><a href="../151700/index.html">Yate: Yandex.Mail has moved to a new template engine</a></li>
<li><a href="../151704/index.html">We punch VMware vCenter</a></li>
<li><a href="../151705/index.html">A new world record for overclocking the Intel Core i7 3770K on the ASRock Z77 OC Formula</a></li>
<li><a href="../151706/index.html">Opus free audio codec officially became IETF standard</a></li>
<li><a href="../151709/index.html">Practical application of MSP430 for web-developer</a></li>
<li><a href="../151712/index.html">Using Visual Studio 2010 shell to compile projects using gcc on Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>