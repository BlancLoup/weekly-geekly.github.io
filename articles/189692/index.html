<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Starry Sky on Canvas</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why 
 In this article I want to talk in more detail about the example of Starry Sky (Starry Sky), implemented using dbCartajs scripts (written in the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Starry Sky on Canvas</h1><div class="post__text post__text-html js-mediator-article"><h4>  Why </h4><br>  In this article I want to talk in more detail about the example of <a href="http://dbcartajs.appspot.com/starry.html">Starry Sky</a> (Starry Sky), implemented using <b>dbCartajs</b> scripts (written <a href="http://habrahabr.ru/post/187176/">in the previous article</a> ).  It includes ideas from other star projects that have been ported to JavaScript.  Consider them in more detail.  The starry sky formation algorithm was borrowed from the stars <b>Marble KDE</b> project (stars plugin), the calculation of the position of the planets is based on the <a href="http://stjarnhimlen.se/comp/ppcomp.html">wonderful article by the</a> Swedish astronomer <b>Paul Schleter</b> , the motion model of the spacecraft SGP4 / SDP4 is provided by the <a href="https://github.com/shashwatak/satellite-js">satellite-js</a> module, the solar terminator formula (night zone) taken from the <a href="http://www.astronomy.ru/forum/index.php/topic,70976.msg1145154.html">astronomical forum</a> .  The view of the orbits as ellipses (instantaneous orbit) is <b>overlooked</b> by <b>Celestia</b> . <br><img src="https://habrastorage.org/getpro/habr/post_images/489/0ad/882/4890ad882b20b097f5b185ad634374f5.png" alt="Starry Sky" title="Starry sky"><br><a name="habracut"></a><br>  The <b>Starry Sky</b> demo has a purely technological purpose: to output at a given time the position point of the spacecraft with the specified orbital parameters.  In Canvas, this was relatively simple and beautiful, and I decided to write more about it.  If you need to change something in the output of objects, the settings do not need to recompile the program as <b>Marble</b> or <b>Xephem</b> (and install the compiler or development environment accordingly), just have a browser.  In Mozilla or Chrome, there are already built-in debug panels where you can see, say, an array of trajectory points of the device.  It is much more convenient than "pull out" them from the C-th. <br><br>  Why demo?  Because it does not take into account the size of the planets, their own movement of stars, the size of the sky and the size of the Earth.  You need to add the appropriate formulas.  But the position of stars, planets and the radius of spacecraft relative to the Earth are taken into account.  Also, the view of the Earth changes with the change in height above the surface (due to the projection nsper). <br><br><h4>  Control </h4><br>  The rotation of the Earth occurs by clicking anywhere in the globe.  The demo has an auto mode with time acceleration (1 second ~ 15 minutes, <b>play</b> button next to the date).  Animation with a daily period can be viewed <a href="http://img-fotki.yandex.ru/get/9115/136640652.0/0_bf3ec_c1eb0a8_orig">here</a> . </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/189692/">https://habr.com/ru/post/189692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189682/index.html">Gauss machine gun - a real weapon for the boom (and not only)</a></li>
<li><a href="../189684/index.html">Learn English: movies, books, dictionaries</a></li>
<li><a href="../189686/index.html">The petition against the anti-piracy law gained 100 thousand votes!</a></li>
<li><a href="../189688/index.html">Vim 7.4 released</a></li>
<li><a href="../189690/index.html">Import data online store in 1C: Trade Management</a></li>
<li><a href="../189696/index.html">Absolute horizontal and vertical centering</a></li>
<li><a href="../189700/index.html">Emotiv Insight - $ 229 Neuro Interface</a></li>
<li><a href="../189702/index.html">External voting service aka like-dislike feature</a></li>
<li><a href="../189706/index.html">Children don't know how to use computers ... And this is why it should bother you.</a></li>
<li><a href="../189710/index.html">C ++ Concurrency Cheat Sheet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>