<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Badoo development process</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will conduct a tour of the development department of Badoo, in which a new functionality of our site is created, we will tell you about the p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Badoo development process</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/b62/dba/9f8/b62dba9f85de3251c03e8d370f5f97a8.jpg" align="left">  Today we will conduct a tour of the development department of Badoo, in which a new functionality of our site is created, we will tell you about the process itself - from setting the task to the moment it is displayed in the combat environment. <br><br>  During the existence of the company, its workflow has evolved from stochastic to well-controlled and understandable.  One and a half or two years ago, no one could exactly answer the question of which tasks were in today's calculation, and the manager interviewed the programmers who laid out what.  Now the process is as automated as possible, the task tracker is closely connected with the version control system, the tasks go through several stages of testing.  At the same time, high development speed was preserved: the situation when the task appeared in the morning is considered normal, and after lunch the new functionality is already available to users on the site. <br><a name="habracut"></a><br><h4>  Main steps </h4><br>  The whole process can be divided into stages: <br><ol><li>  Work on the product: the idea, the preparation of TK. </li><li>  Technical implementation: decomposition, development. </li><li>  Testing and translations in different languages. </li><li>  Release for some users. </li><li>  Release for all. </li></ol><br><br><img src="https://habrastorage.org/storage2/6cd/2d1/4a0/6cd2d14a03a240f0aac74f861e92d57d.jpeg" align="left">  As you know, any process rests on the people involved in it.  Let's calculate how many people participate in the typical case of the process described above: product manager, designer, copywriter, project manager, developer, layout designer, developer reviewer, QA engineer.  This list lacks one actor.  Who we intentionally did not mention?  Write your version in the comments! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Nine people is the minimum number of participants in the process when we develop new functionality in one language only.  This is usually a test release for a specific user group or a special promotion for a specific country.  When we make a release for all users, the process also includes translators who translate into 40 languages.  Some languages ‚Äã‚Äãare supported in several dialects, for example, American English and British English. <br><br>  The whole process is controlled and formalized using a well-designed workflow in the task tracker (we use JIRA, <a href="http://www.atlassian.com/software/jira/">www.atlassian.com/software/jira</a> ). <br><br><h4>  Work on the product </h4><br>  It all starts with an idea.  Usually, it appears either as part of the ‚ÄúHow to increase such an indicator‚Äù research, or as an improvement to the existing functionality.  The development of the idea is entrusted to a specific product manager, for example, who is responsible only for postal and push notifications, who draws it up as a task for his team with the status of ‚ÄúIdea‚Äù. <br><br>  Accumulated ideas are periodically reviewed and a detailed study of the most important of them begins.  At this point, the task is transferred to the ‚ÄúPRD Preparation‚Äù status, after which the product manager prepares a short description of the proposed addition and sends it to the designer and copywriter.  More precisely, the task in the task tracker is transferred to them, and all those who are interested subscribe to its updates in order to be aware of its current status. <br><br>  PRD (Product Requirements Document) is a cross between a technical task and a sufficient description of the new functionality.  Usually, the final PRD gives an overview of how it will look and how it should work.  All implementation details are specified during the development process. <br><br>  As soon as the design and texts are ready, the manager collects all the elements (layouts, text files) in the PRD and completes the detailed description of the new service.  As a result, when the manager believes that his task becomes as clear and autonomous as possible, she is assigned the status ‚ÄúReady for development‚Äù and is transferred to the project manager from the Features Team.  Often, the task is not accepted from the first due to an incomplete description, a large technical complexity, or other nuances that are discovered when it is checked by the project manager. <br><br><h4>  Prioritization of the task and the performer </h4><br>  The priority of the tasks sent to the development is determined by the general manager of the Product Team.  In this case, preference is given to those of them that are an integral part of large-scale projects to change certain parts of the site.  The importance of infrastructure tasks (bugs, research, etc.) is determined by the developers themselves. <br><br>  In turn, the developers put the correction of critical bugs and the minimization of errors in the logs in the first place - for each QA-department it gets a new task with high priority.  Moreover, the monitoring team monitors the state of the site around the clock and can contact the developer during off-hours to fix a broken important component. <br><br>  Creating a new functional is engaged in a special team of PHP-programmers, which is divided into groups of 2-4 people.  Each group is responsible for its own set of components.  Since the task is necessarily attached to a specific component, the group that will perform it is automatically determined. <br><br>  All developers see their tasks on a dashboard (an English dashboard - a page with a set of different filters for tasks, set up specifically for each group) in the task tracker, where they are grouped and sorted in a certain way.  There is a pool of tasks per group and there is a list of tasks to which the developer is directly related (author, performer, reviewer).  A situation where a person has nothing to do is impossible in principle.  Below is a schedule of tasks set and completed from task tracker for November, from which it is clear that the work really boils! <br><br><img src="https://habrastorage.org/storage2/ffa/545/aa9/ffa545aa9cf88fef61262a84c965332a.png"><br><br>  Below is a schedule of tasks in production.  Using it, you can estimate the daily volume of fixes and improvements in Badoo: <br><br><img src="https://habrastorage.org/storage2/1f2/c31/af0/1f2c31af01ac15aefb302a422ced55c0.jpg"><br><br><h4>  Technical implementation </h4><br>  From the moment of development and up to the calculation of the combat servers, the task, regardless of its complexity, is fully led by one PHP programmer.  If necessary, he puts a subtask on other components to colleagues from his department, and also collaborates with other specialists (layout designers or system programmers).  If the task is non-trivial and requires specific architectural solutions, a working group of several of the most experienced developers is assembled, who together determine what will be done and how. <br><br>  Consider this step on the example of creating a photo-rating ( <a href="http://badoo.com/vote/">badoo.com/vote/</a> ), the new version of which was recently launched.  From the Product Team, developers received a document containing the following items: <br><br><ul><li>  general description, project objectives (for example, to encourage users to upload new photos); </li><li>  a detailed description of the nuances (how the rating of the photos is calculated, how the following photos are selected, etc.); </li><li>  Layouts of interface elements of all necessary pages and blocks with a description of what each button means, what should happen when clicking on links, where and which menu items should be added; </li><li>  Description of what the unauthorized version of the service looks like. </li></ul><br><br>  Based on this document, tasks were assigned to different departments: layout of templates, development of C services and infrastructure on the site (interface elements, new blocks, interaction with services, etc.). <br><br>  Verification of each completed task is rather formalized: there is a certain checklist and an automated process.  Each task is developed in its branch of the version control system (we use Git, <a href="http://git-scm.com/">git-scm.com</a> ).  The branches have special naming rules ( <i>example:</i> BFG-123_another_cool_ticket), all commits automatically get the task number at the beginning of the description ( <i>example:</i> [BFG-123]: great improvement on photo rating) - this helps to track the movement of the code from the developer to build and final hitting the master branch. <br><br>  Each time changes are sent from the local copy to the general repository, hooks are triggered, which check the formatting and formatting of the code.  To format the code for our internal standards, a special phpcf utility was created that can both check and correctly format the code (manually, only those sections of code that, according to the developer, are more logical to rewrite than leave in the form of cumbersome but properly formatted construction). <br><br>  After the developer completes the development of the task, it gets to the code-review person responsible or having a good understanding of the component.  To make a review, we finalized the gitphp utility ( <a href="http://www.gitphp.org/">www.gitphp.org/</a> ) so that it became possible to view the general diff branches, leave comments on the code, which are subsequently sent as a single comment to the task in JIRA.  Usually the reviewer checks whether the task is implemented in accordance with the rules adopted by the company, whether there are any obvious errors in the form of abandoned debag;  may indicate the feasibility of using another design pattern or suggest a more optimal implementation. <br><br>  The task must necessarily include unit tests for the changes made, while existing tests should not be broken (!).  After completion, all tests are run on the appropriate branch using TeamCity ( <a href="http://www.jetbrains.com/teamcity/">www.jetbrains.com/teamcity/</a> ), and if some of them fail, the developer will receive a notification about this.  For a number of tasks, monitoring of important indicators is pre-configured.  After checking by the reviewer, the task falls into the quality control department. <br><br><h4>  Testing and translation </h4><br><img src="https://habrastorage.org/storage2/5f5/d9f/dfd/5f5d9fdfd39e4e26f41de891156ea580.jpg" align="left">  The completed task falls into the pool of the quality control team and is assigned to any free tester.  Usually there are no responsible for the components, everything is testing everything, but for particularly important or urgent tasks, developers can agree with the testing department and transfer the task to a more experienced tester in a certain direction. <br><br>  It is considered a good practice for a developer to write instructions on how a completed task works, and what needs to be tested.  Best practices for testing critical components are described on the wiki (we conduct all similar documentation using Confluence, <a href="http://www.atlassian.com/software/confluence/">www.atlassian.com/software/confluence</a> ). <br><br>  During testing, all new and modified words and phrases from the templates fall into a special translation system (the developer can start this process in advance).  From it, when displaying templates are generated for each of the supported languages. <br><br>  To test tasks, our infrastructure supports several possible environments: <br><br><ul><li>  local domains on development servers that emulate the combat infrastructure.  Each developer conducts work on his domain, and the tester checks the tasks on his own; </li><li>  individual test combat environment: you can simultaneously check an unlimited number of tasks independently of each other; </li><li>  the general test combat environment in which the build gets is a set of tasks ready for display.  In such a set, tasks are tested in complex, so that one does not break the other. </li></ul><br><br>  When a task receives the status ‚ÄúTested‚Äù, it will automatically fall into the next build (if there are no unfinished child tasks and all translations are ready).  Of course, conflicts are resolved manually - an alert comes about it.  Non-working tasks are rolled back and the build leaves without them. <br><br><h4>  Release </h4><br><img src="https://habrastorage.org/storage2/dd5/d6a/951/dd5d6a95106396255f572c0f4694f8d3.jpg" align="left">  After all the checks, the task along with the build is decomposed on the combat servers.  This happens 2 times a day (morning and evening).  Often, it is required to test a new functionality on a small group of real users, to evaluate the efficiency and load, before enabling it for the entire site.  Usually the inclusion is done for a few countries or only for the development office.  Most tasks are developed immediately with the possibility of partial inclusion and fast rollback. <br><br>  But sometimes after the calculation it happens that our innovation does not work.  Suppose that an unverified code was quickly laid out, or somewhere a logical error was made.  Even the most experienced developers sometimes make mistakes that lead to the inoperability of some parts of the system, and sometimes it even takes shape according to the principle of dominoes. <br><br>  Each of these incidents is composed of a ‚Äúpost-mortem‚Äù ‚Äîa document that details the causes of the problem, what it affected, how quickly it was corrected, and, most importantly, what was done to prevent such a problem from occurring.  After this, the post-mortem is put up for general discussion and everyone can speak out and express their vision of the situation. <br><br>  In order to minimize such incidents, we try to automate and improve as much as possible our development processes, code management, control over calculations, as well as monitoring tools. <br><br><h4>  Total </h4><br><img src="https://habrastorage.org/storage2/d22/254/e64/d22254e64ea2eab3b6b7909dbe4fbb0a.jpg" align="left">  The result of a lot of discussion, automation, the introduction of preventive measures, the constant audit of our systems is that now the whole development process in Badoo is understandable, effective and, quite importantly, fairly safe.  Of course, it is impossible to exclude all possible errors, but I, as a developer, feel comfortable and confident when I edit and develop a new code, knowing that it will be repeatedly checked.  On the one hand, it is somewhat relaxing, but on the other hand, it is possible that a programmer should feel that way in order to really devote himself not only to development, but to the creative process? <br><br>  Alexander treg Treger, developer. <br>  Andrey uni Sas, manager of offline notifications. </div><p>Source: <a href="https://habr.com/ru/post/170951/">https://habr.com/ru/post/170951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../170933/index.html">Fenwick tree with a modification on the segment</a></li>
<li><a href="../170935/index.html"># MBLT13 - International Mobile Conference in Moscow</a></li>
<li><a href="../170937/index.html">Migration to Grunt v0.4</a></li>
<li><a href="../170945/index.html">Mobile Development Tools</a></li>
<li><a href="../170949/index.html">Wi-Fi with username and password for each user or do WPA2-EAP / TLS with improvised tools</a></li>
<li><a href="../170953/index.html">Pantech Burst - androidphone at a nice price</a></li>
<li><a href="../170957/index.html">DMARC: protect your newsletter from fakes</a></li>
<li><a href="../170959/index.html">Railgun protocol for traffic compression</a></li>
<li><a href="../170967/index.html">Color Management and UI Design</a></li>
<li><a href="../170975/index.html">QR Ladybird miniature unmanned multi-rotor ‚ÄúBug‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>