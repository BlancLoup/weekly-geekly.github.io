<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Big Data at Raiffeisenbank</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! In this article we will talk about Big Data in Raiffeisenbank. But before we get to the point, I would like to clarify the very definition of B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Big Data at Raiffeisenbank</h1><div class="post__text post__text-html js-mediator-article">  Hello!  In this article we will talk about Big Data in Raiffeisenbank.  But before we get to the point, I would like to clarify the very definition of Big Data.  Indeed, in the past few years, this term has been used in a variety of contexts, which has led to a blurring of the boundaries of the term itself and the loss of the substantive part.  We at Raiffeisenbank identified three areas that we relate to Big Data: <br><a name="habracut"></a><br><img src="https://habrastorage.org/web/65f/887/476/65f887476ae84b5f83e90cd653fc1f93.PNG"><br><br>  (Note that despite the fact that this scheme looks quite simple, there are a lot of ‚Äúborderline‚Äù cases. If they occur, then we resort to peer review to evaluate whether Big Data technologies are needed to solve incoming problems or you can get by. based on the "classic" technologies RDBMS). <br><br>  In this article, we will focus primarily on the technologies used and the solutions developed with their help. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, a few words about the prerequisites of interest in technology.  By the time of the start of work on Big Data, the bank had several solutions for working with data: <br><br><ul><li>  Data Warehouse (DWH, Corporate Data Warehouse) </li><li>  Operational Data Store (ODS, Operational Data Storage) </li></ul><br><h2>  What made us look in the direction of Big Data? </h2><br>  In IT, we were expected of a universal solution that would allow for the most efficient analysis of all data available for the bank in order to create digital products and to improve customer experience. <br><br>  At that time, DWH and ODS had some limitations that made it impossible to develop these solutions as universal tools for analyzing all the data: <br><br><ol><li>  The stringent data quality requirements imposed on DWH strongly influence the relevance of data in the repository (data is available for analysis the next day). </li><li>  Lack of historical data in ODS (by definition). </li><li>  The use of relational DBMS in ODS and DWH allows you to work only with structured data.  The need to define a data model while writing to DWH / ODS (Schema on write) incurs additional development costs. </li><li>  Lack of possibility of horizontal scaling of the solution, limited vertical scaling. </li></ol><br>  When we realized these limitations, we decided to look towards Big Data technologies.  At that moment, it was clear that competencies in this area in the future give a competitive advantage, so it is necessary to increase the internal expertise.  Since there was no practical competence at the Bank at that time, we actually had two options: <br><br>  - or form a team from the market (from the outside); <br>  - or find enthusiasts through internal transitions, without actual expansion. <br><br>  We chose the second option, because  he seemed to us more conservative. <br><br>  Further, we came to understand that Big Data is just a tool, and there are many possible solutions to a specific task with the help of this tool.  The problem to be solved presented the following requirements: <br><br><ol><li>  You need to be able to analyze the data together in a variety of forms and formats. </li><li>  You need to be able to solve a wide range of analytical tasks - from flat deterministic reports to exotic types of visualization and predictive analytics. </li><li>  We need to find a compromise between large amounts of data and the need to analyze them online. </li><li>  You need to have (ideally) an unlimited scalable solution that will be ready to fulfill requests from a large number of employees. </li></ol><br>  After studying the literature, reading the forums and reading the available information, we found that a solution that meets these requirements already exists in the form of a well-established architectural pattern and is called ‚ÄúData Lake‚Äù.  By deciding to implement Data Lake, we thus aimed to get a self-sufficient ‚ÄúDWH + ODS + Data Lake‚Äù ecosystem that is capable of solving any data-related tasks, be it management reporting, operational integration, or predictive analytics. <br><br>  Our Data Lake variant implements a typical <b>lambda architecture</b> , in which the input data is divided into two layers: <br><br><img src="https://habrastorage.org/web/c94/e92/8e5/c94e928e57524ea6ac9f312e887dfd51.PNG"><br><br>  - the ‚Äúfast‚Äù (speed) layer, in which mainly streaming data is processed, the data volumes are small, the transformations are minimal, but the minimum latency time between the occurrence of the event and its display in the analytical system is reached.  For data processing, we use Spark Streaming, and for storing the result - Hbase. <br><br>  - a ‚Äúbatch‚Äù layer in which data is processed in batches (batch files), which can include several million records at once (for example, balances on all accounts as a result of closing the trading day), this may take some time, but we can process sufficiently large amounts of data (throughput).  The data in the batch layer is stored in HDFS, and to access it we use Hive or Spark, depending on the task. <br><br>  Separately want to mention Spark.  We widely use it for data processing and for us the most significant benefits are the following: <br><br><ul><li>  Can be used as an ETL tool. </li><li>  Faster than standard Jobs on MapReduce. </li><li>  Higher code writing speed compared to Hive / MapReduce, because  The code turns out less verbose, including at the expense of DataFrame'ov and library SparkSQL. </li><li>  More flexible, supports more complex processing pipelines than the MapReduce paradigm. </li><li>  Python and JVM languages ‚Äã‚Äãare supported. </li><li>  Built-in machine learning library. </li></ul><br>  We try to store the data in Data Lake in its original, <b>‚Äúraw‚Äù form</b> , implementing the <b>‚Äúschema on read‚Äù</b> approach.  We use Oozie to manage our processes as a task scheduler. <br><br>  Structured input data is stored in AVRO format.  This gives us advantages: <br><br><ul><li>  The data scheme may change during the life cycle, but this will not interfere with the functionality of the applications reading these files. </li><li>  The data schema is stored with the data, it is not necessary to describe separately. </li><li>  Native support for many frameworks. </li></ul><br>  For data marts that users will work with via BI-tools, we plan to use the formats Parquet or ORC, since  In most cases, this will speed up data retrieval through column storage. <br><br>  Cloudera and Hortonworks were considered as Hadoop assembly.  chose Hortonworks because its distribution does not contain proprietary components.  In addition, the 2nd version of Spark is available for the Hortonworks out of the box, and only 1.6 for the Cloudera. <br><br>  Among the analytical applications that use Data Lake data, note two. <br><br>  The first is the Jupyter Hub with Python and installed machine learning libraries that our Data Scientists use for predictive analytics and model building. <br><br>  For the second role, we are now considering an application of the Self-Service BI class, with which users can independently prepare most standard retrospective reports - tables, graphs, pie charts, histograms, etc.  This implies that the role of IT will be to add data to Data Lake, provide data and access for the application and users, and ... everything.  Users will be able to do the rest themselves, due to which, in particular, we expect a reduction in the final search time for answers to interesting questions. <br><br>  In conclusion, I would like to tell you what we <b>have achieved</b> so far: <br><br><ul><li>  They brought the Batch Layer branch to the Prod, load the data that is used for both retrospective analysis (ie, analysts use data to answer the question ‚Äúhow we send it here‚Äù) and predictive analysis: a daily forecast based on machine learning demand for cash withdrawals at ATMs and optimization of the collection service. </li><li>  Raised Jupyter Hub, gave users the opportunity to analyze data with the most modern tools: scikit learn, XGBoost, Vowpal Wabbit. </li><li>  We are actively developing and preparing to launch the Speed ‚Äã‚ÄãLayer branch in the Prod, implementing a Real Time Decision Making class on Data Lake. </li><li>  We made a grocery back-log, the implementation of which will allow the fastest pace to increase the maturity of the solution.  In the planned number: <br><br><ol><li>  Disaster.  Now the solution is deployed in one data center, and in fact we do not guarantee the continuity of the service, and we can also irreversibly lose the accumulated data, should it happen with the data center (this probability is small, but it still exists).  We are faced with a problem: the built-in HDFS cannot ensure guaranteed data storage in different data centers.  There is a <a href="https://issues.apache.org/jira/browse/HDFS-5442">revision</a> to this effect, its fate is not yet clear, we plan to implement our own decision. </li><li>  Metadata enrichment (Atlas), Data Management / Governance based on metadata, role-based access based on metadata. </li><li>  Explore alternatives to selected architectural components.  First candidates: Airflow as an alternative to Oozie, more advanced CDCs as an alternative to Scoop for uploading data from relational databases. </li><li>  Introduction of the CI / CD pipeline.  With all the variety of technologies and tools we use, we want to ensure that any code change can be automatically rolled out as quickly as possible into the production environment, while guaranteeing the quality of delivery. </li></ol></li><br>  There are still a lot of plans to use Big Data in Raiffeisenbank and we will definitely tell about it. <br>  Thanks for attention! </ul></div><p>Source: <a href="https://habr.com/ru/post/332496/">https://habr.com/ru/post/332496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332486/index.html">Programming and martial art: what is common?</a></li>
<li><a href="../332488/index.html">New pack of Otus coding Owl stickers</a></li>
<li><a href="../332490/index.html">The main problem of CG in Russia and the first step towards its solution</a></li>
<li><a href="../332492/index.html">PHDays HackBattle: breaking one by one</a></li>
<li><a href="../332494/index.html">Postquantum reincarnation of the Diffie-Hellman algorithm: probable future (isogeny)</a></li>
<li><a href="../332500/index.html">Core ML Testing and Review</a></li>
<li><a href="../332502/index.html">Linux log files in order</a></li>
<li><a href="../332504/index.html">Who owns the data generated by devices from the Internet of things?</a></li>
<li><a href="../332506/index.html">How to confuse the analyst. Part Three Verbs and numerals</a></li>
<li><a href="../332508/index.html">Automata programming. Part 2. State and transition diagrams</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>