<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing in Java. Spock framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In previous articles, using JUnit and TestNG as examples, I mentioned test-driven development (TDD) and data-driven testing (DDT) . But there is anoth...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing in Java. Spock framework</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/storage2/9a8/94f/3cc/9a894f3cc2204d959c37766c57cbd806.png"><br>  In previous articles, using <a href="http://habrahabr.ru/blogs/java/120101/">JUnit</a> and <a href="http://habrahabr.ru/blogs/java/121234/">TestNG</a> as examples, I mentioned <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D1%2587%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B7_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">test-driven development (TDD)</a> and <a href="http://en.wikipedia.org/wiki/Data-driven_testing">data-driven testing (DDT)</a> .  But there is another actively gaining popularity approach, <a href="http://en.wikipedia.org/wiki/Behavior_Driven_Development">behavior-driven development (BDD)</a> .  This is a development of TDD technology, in which the test is not looked at as testing some components of the system, but as the requirements for functionality.  If TDD operates with such concepts as a test or a method, then for BDD it is the specification and requirements.  About this technique already talked about Habr√© earlier: <br><ul><li>  <a href="http://habrahabr.ru/blogs/tdd/107262/">Evolution of unit test</a> , </li><li>  <a href="http://habrahabr.ru/blogs/testing/52929/">Extreme programming, familiarity with Behavior Driven Development and RSpec</a> </li></ul><br>  This approach is applicable using both JUnit and TestNG.  But there are other tools sharpened just under BDD.  In this article I will talk about such a framework.  It is called <a href="http://code.google.com/p/spock/">Spock Framework</a> and combines not only the principles of BDD, but also the merits of <a href="http://groovy.codehaus.org/">Groovy</a> .  Yes, yes, exactly Groovy.  Although Groovy is used, it is also used to test Java code.  Examples of use are Spring, Grails, Tapestry5.  Interesting?  Then read on. <br><a name="habracut"></a><br><br><h2>  Behavior-driven development </h2><br>  So let me remind you what it is.  Consider an example.  There is a utility that works with ant templates (these are the ones for selecting files).?  - any 1 and only 1 character, * - any number of any characters, ** - any way.  It looks something like this: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtils</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">matchAntPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String path, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String pattern)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } public static boolean matchAntPattern(final String path, final String pattern) { // ... } }</span></span></code> </pre> <br>  Both methods check whether the passed string matches the pattern or not, but the <i>matchAntPattern</i> method <i>only</i> considers the local pattern without the path, <i>matchAntPath</i> takes the full path into account.  Following the principles of TDD, a test will be created for each method with some set of input data and some set of expected results. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestPathUtils</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Assert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(dataProvider = <span class="hljs-string"><span class="hljs-string">"matchAntPatternData"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testMatchAntPattern</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String pattern, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String text, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> expected)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> actual = PathUtils.matchAntPattern(text, pattern); assertEquals(actual, expected); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(dataProvider = <span class="hljs-string"><span class="hljs-string">"matchAntPathData"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testMatchAntPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String pattern, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String path, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> expected)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> actual = PathUtils.matchAntPath(path, pattern); assertEquals(actual, expected); } }</code> </pre><br>  Perhaps there will also be added tests for incorrect parameters when exceptions should be thrown.  Now let's look at it from the point of view of BDD. <br>  A test is not just a test, but a specification, and consists not of methods, but of requirements.  <i>Select the</i> requirements for <i>PathUtils</i> : <br><ul><li>  Symbol?  in the pattern must be equivalent to any character in the string to be checked </li><li>  Symbol?  in the pattern should be equivalent to 1 and only 1 character in the string to be checked </li><li>  The * character in the pattern must be equivalent to any character in the string to be checked. </li><li>  The * character in the pattern must be equivalent to any number of characters in the string to be checked. </li><li>  The values ‚Äã‚Äãof the pattern and the string being checked should not be null. </li></ul><br>  Further, each requirement has its own verification script, usually using the terms given-once (given-when-then).  Given - settings for the beginning of the script, when - the reason, then - the condition of the script.  For example: <br><br><pre> <code class="hljs vbscript">Given: PathUtils --- When: matchAntPattern(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"some string"</span></span>) --- <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span>: NullPointerException should be thrown</code> </pre><br>  So the test will look something like this: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Assert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">question_character_should_mean_any_character</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ assertTrue(PathUtils.matchAntPattern(<span class="hljs-string"><span class="hljs-string">"abb"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>)); assertTrue(PathUtils.matchAntPattern(<span class="hljs-string"><span class="hljs-string">"a1b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>)); assertTrue(PathUtils.matchAntPattern(<span class="hljs-string"><span class="hljs-string">"a@b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>)); assertTrue(PathUtils.matchAntPath(<span class="hljs-string"><span class="hljs-string">"abb"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>)); assertTrue(PathUtils.matchAntPath(<span class="hljs-string"><span class="hljs-string">"a1b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>)); assertTrue(PathUtils.matchAntPath(<span class="hljs-string"><span class="hljs-string">"a@b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ... } @Test public void question_character_should_mean_only_one_character() { assertFalse(PathUtils.matchAntPattern("ab", "a?b")); assertFalse(PathUtils.matchAntPattern("aabb", "a?b")); assertFalse(PathUtils.matchAntPath("ab", "a?b")); assertFalse(PathUtils.matchAntPath("aabb", "a?b")); // ... } @Test public void asterisk_character_should_mean_any_character() { assertTrue(PathUtils.matchAntPattern("abb", "a*b")); assertTrue(PathUtils.matchAntPattern("a1b", "a*b")); assertTrue(PathUtils.matchAntPattern("a@b", "a*b")); assertTrue(PathUtils.matchAntPath("abb", "a*b")); assertTrue(PathUtils.matchAntPath("a1b", "a*b")); assertTrue(PathUtils.matchAntPath("a@b", "a*b")); // ... } @Test public void asterisk_character_should_mean_any_number_of_characters() { assertTrue(PathUtils.matchAntPattern("ab", "a*b")); assertTrue(PathUtils.matchAntPattern("aabb", "a*b")); assertTrue(PathUtils.matchAntPath("ab", "a*b")); assertTrue(PathUtils.matchAntPath("aabb", "a*b")); // ... } @Test public void double_asterisk_character_should_mean_any_path() { assertTrue(PathUtils.matchAntPath("aaa/bbb", "aaa/**/bbb")); assertTrue(PathUtils.matchAntPath("aaa/ccc/bbb", "aaa/**/bbb")); assertTrue(PathUtils.matchAntPath("aaa/c/c/c/bbb", "aaa/**/bbb")); // ... } }</span></span></code> </pre><br>  Now more about the Spock Framework. <br><br><h2>  Main features </h2><br>  As I said before, scripts are written in Groovy.  Is it good or bad?  Solve it yourself, beginners can read <a href="http://habrahabr.ru/blogs/java/122127/">Groovy in 15 minutes - a quick overview</a> . <br><br>  The specification must be inherited from the <i>spock.lang.Specification</i> .  It may contain fields, installation methods (fixture methods), requirement scripts (feature methods), and helper methods. <br><br>  The default fields are not scrambled between scripts, i.e.  changes to a field from one script will not be visible from another script.  To share you can zannotirovat using <i>@Shared</i> . <br><br>  Installation methods are: <br><ul><li>  <i>setup ()</i> is an analogue of <i>@Before</i> in JUnit, is executed before each script </li><li>  <i>cleanup ()</i> is an analogue of <i>@After</i> in JUnit, is executed after each script </li><li>  <i>setupSpec ()</i> is an analogue of <i>@BeforeClass</i> in JUnit, executed before the first script in the specification </li><li>  <i>cleanupSpec ()</i> is an analogue of <i>@AfterClass</i> in JUnit, it is executed after the last script in the specification </li></ul><br>  As in other test frameworks, these methods are used to not write the same installation code for each script. <br><br>  Requirement scenarios are the main part of the specification.  This is where the behavior of the component is described.  It is customary to call them using string literals, and you can use any characters, the main thing is that this name describes as clearly as possible what this script does.  For example, in our case: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">?</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function">"</span></span>() { <span class="hljs-comment"><span class="hljs-comment">// ... } def "? character should mean only one character"() { // ... } def "* character should mean any character"() { // ... } def "* character should mean any number of characters"() { // ... } def "** character should mean any path"() { // ... } }</span></span></code> </pre><br>  Each script consists of blocks, which are labeled: <br><ul><li>  <i>setup</i> is the same as the <i>setup () setup</i> method, only applied to a specific script.  Must be located before the remaining blocks and should not be repeated.  The <i>setup</i> label may be absent, you can also write instead of the <i>setup</i> <i>given</i> , this is done for better readability (given-when-then) </li><li>  <i>cleanup</i> is the same as the <i>cleanup ()</i> method, only applied to a specific script.  Must be at the end of the script before the <i>where</i> block, if any, and should not be repeated </li><li>  <i>when-then</i> is the cause and condition of the execution.  In the <i>when</i> parts are usually declared variables, the necessary actions are performed, in the <i>then</i> part some conditions are checked.  These can be verification of conditions, verification of the elimination of an exception, or waiting for the execution of some methods on a mock object.  This block can be repeated, but the authors of the framework recommend not to get carried away, a good script should contain from 1 to 5 such blocks </li><li>  <i>expect</i> is a simplified <i>when-then</i> block, where the action and the check are in the same expression </li><li>  <i>where</i> is an analogue of <i>@DataProvider</i> from TestNG, designed to create a test dataset </li></ul><br>  Now about everything in more detail.  Consider another example.  <i>PathSearcher</i> , designed to find files, uses ant-templates as a filter for files. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathSearcher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PathSearcher</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String path)</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PathSearcher </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">include</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String... patterns)</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PathSearcher </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exclude</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String... patterns)</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Set&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">search</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{...} }</code> </pre><br>  Let us write to it the requirement ‚Äúmust search for files on the file system‚Äù: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathSearcherSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">it</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">search</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">files</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">under</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">the</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">file</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">system</span></span></span><span class="hljs-function">"</span></span>() { given: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">searcher</span></span></span><span class="hljs-function"> </span></span>= <span class="hljs-type"><span class="hljs-type">PathSearcher</span></span>.create(inClasspath(<span class="hljs-string"><span class="hljs-string">"test1"</span></span>)) when: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">results</span></span></span><span class="hljs-function"> </span></span>= searcher.search(); then: results.containsAll([<span class="hljs-string"><span class="hljs-string">"1.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.txt"</span></span>]); results.size() == <span class="hljs-number"><span class="hljs-number">2</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span> inClasspath(path) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">ClassLoader</span></span>.getSystemResource(path).toExternalForm() } }</code> </pre><br>  So, given - the search engine that searches the <i>test1</i> folder from the <i>classpath</i> , we check the search, the execution condition - the search engine must find our files.  <i>inClasspath</i> is a helper method that returns the absolute path of the file from the <i>classpath</i> . <br><br>  Another example for <i>PathUtils</i> "The pattern values ‚Äã‚Äãand the string being checked should not be null." <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">null</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parameter</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">values</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">are</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">not</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">allowed</span></span></span><span class="hljs-function">"</span></span>() { when: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"some string"</span></span>) then: thrown(<span class="hljs-type"><span class="hljs-type">NullPointerException</span></span>) when: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(<span class="hljs-string"><span class="hljs-string">"some string"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>) then: thrown(<span class="hljs-type"><span class="hljs-type">NullPointerException</span></span>) when: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"some string"</span></span>) then: thrown(<span class="hljs-type"><span class="hljs-type">NullPointerException</span></span>) when: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(<span class="hljs-string"><span class="hljs-string">"some string"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>) then: thrown(<span class="hljs-type"><span class="hljs-type">NullPointerException</span></span>) } }</code> </pre><br>  Here we see the <i>thrown (...)</i> method, this is the expectation of the specified exception, there is also the <i>notThrown (...)</i> method and <i>noExceptionThrown ()</i> .  They are to verify that the specified / no exception is thrown.  Also in <i>then</i> parts there can be expectations of execution of some methods for mock objects, but about them a bit later.  One more example: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">?</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function">"</span></span>() { expect: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(<span class="hljs-string"><span class="hljs-string">"abb"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(<span class="hljs-string"><span class="hljs-string">"a1b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(<span class="hljs-string"><span class="hljs-string">"a@b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(<span class="hljs-string"><span class="hljs-string">"abb"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(<span class="hljs-string"><span class="hljs-string">"a1b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(<span class="hljs-string"><span class="hljs-string">"a@b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>) } }</code> </pre><br>  As you can see from the example, if both <i>when</i> and <i>then</i> parts can be combined into one condition, it is more convenient to use the <i>expect</i> block.  This scenario can be improved by making it parameterizable using the <i>where</i> block: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">?</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function">"</span></span>() { expect: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(text, pattern) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(text, pattern) where: pattern | text <span class="hljs-string"><span class="hljs-string">"ab?"</span></span> | <span class="hljs-string"><span class="hljs-string">"abc"</span></span> <span class="hljs-string"><span class="hljs-string">"ab?"</span></span> | <span class="hljs-string"><span class="hljs-string">"ab1"</span></span> <span class="hljs-string"><span class="hljs-string">"ab?"</span></span> | <span class="hljs-string"><span class="hljs-string">"ab@"</span></span> <span class="hljs-string"><span class="hljs-string">"a?b"</span></span> | <span class="hljs-string"><span class="hljs-string">"abb"</span></span> <span class="hljs-string"><span class="hljs-string">"a?b"</span></span> | <span class="hljs-string"><span class="hljs-string">"a1b"</span></span> <span class="hljs-string"><span class="hljs-string">"a?b"</span></span> | <span class="hljs-string"><span class="hljs-string">"a@b"</span></span> <span class="hljs-string"><span class="hljs-string">"?ab"</span></span> | <span class="hljs-string"><span class="hljs-string">"aab"</span></span> <span class="hljs-string"><span class="hljs-string">"?ab"</span></span> | <span class="hljs-string"><span class="hljs-string">"1ab"</span></span> <span class="hljs-string"><span class="hljs-string">"?ab"</span></span> | <span class="hljs-string"><span class="hljs-string">"@ab"</span></span> } }</code> </pre><br>  Or so: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">?</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function">"</span></span>() { expect: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(text, pattern) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(text, pattern) where: pattern &lt;&lt; [<span class="hljs-string"><span class="hljs-string">"ab?"</span></span>, <span class="hljs-string"><span class="hljs-string">"ab?"</span></span>, <span class="hljs-string"><span class="hljs-string">"ab?"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a?b"</span></span>, <span class="hljs-string"><span class="hljs-string">"?ab"</span></span>, <span class="hljs-string"><span class="hljs-string">"?ab"</span></span>, <span class="hljs-string"><span class="hljs-string">"?ab"</span></span>] text &lt;&lt; [<span class="hljs-string"><span class="hljs-string">"abc"</span></span>, <span class="hljs-string"><span class="hljs-string">"ab1"</span></span>, <span class="hljs-string"><span class="hljs-string">"ab@"</span></span>, <span class="hljs-string"><span class="hljs-string">"abb"</span></span>, <span class="hljs-string"><span class="hljs-string">"a1b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a@b"</span></span>, <span class="hljs-string"><span class="hljs-string">"aab"</span></span>, <span class="hljs-string"><span class="hljs-string">"1ab"</span></span>, <span class="hljs-string"><span class="hljs-string">"@ab"</span></span>] } }</code> </pre><br>  Or so: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">?</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function">"</span></span>() { expect: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(text, pattern) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(text, pattern) where: [pattern, text] &lt;&lt; [ [<span class="hljs-string"><span class="hljs-string">"ab?"</span></span>, <span class="hljs-string"><span class="hljs-string">"abc"</span></span>], [<span class="hljs-string"><span class="hljs-string">"ab?"</span></span>, <span class="hljs-string"><span class="hljs-string">"ab1"</span></span>], [<span class="hljs-string"><span class="hljs-string">"ab?"</span></span>, <span class="hljs-string"><span class="hljs-string">"ab@"</span></span>], [<span class="hljs-string"><span class="hljs-string">"a?b"</span></span>, <span class="hljs-string"><span class="hljs-string">"abb"</span></span>], [<span class="hljs-string"><span class="hljs-string">"a?b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a1b"</span></span>], [<span class="hljs-string"><span class="hljs-string">"a?b"</span></span>, <span class="hljs-string"><span class="hljs-string">"a@b"</span></span>], [<span class="hljs-string"><span class="hljs-string">"?ab"</span></span>, <span class="hljs-string"><span class="hljs-string">"aab"</span></span>], [<span class="hljs-string"><span class="hljs-string">"?ab"</span></span>, <span class="hljs-string"><span class="hljs-string">"1ab"</span></span>], [<span class="hljs-string"><span class="hljs-string">"?ab"</span></span>, <span class="hljs-string"><span class="hljs-string">"@ab"</span></span>] ] } }</code> </pre><br>  Or even like this: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PathUtilsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">?</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">character</span></span></span><span class="hljs-function">"</span></span>() { expect: <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPattern(text, pattern) <span class="hljs-type"><span class="hljs-type">PathUtils</span></span>.matchAntPath(text, pattern) where: [pattern, text] = sql.execute(<span class="hljs-string"><span class="hljs-string">"select pattern, text from path_utils_test"</span></span>) } }</code> </pre><br>  I think everything is clear from the examples, so I will not focus on this.  I will just note that in the <i>where</i> block you cannot use fields that are not marked as <i>@Shared</i> . <br><br><h2>  Interactions </h2><br>  In addition, the framework allows you to work with the mock objects without additional dependencies.  Moki can be created for interfaces and non-final classes.  The creation looks like this: <br><br><pre> <code class="hljs lisp"> def dao1 = Mock(<span class="hljs-name"><span class="hljs-name">UserDAO</span></span>) UserDAO dao2 = Mock()</code> </pre><br>  You can override the return values ‚Äã‚Äãor the methods of such objects themselves.  Authors call this interactions. <br><br><pre> <code class="hljs pgsql"> dao1.findAll() &gt;&gt; [ <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>(<span class="hljs-type"><span class="hljs-type">name</span></span>: "test1", description: "Test User"), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>(<span class="hljs-type"><span class="hljs-type">name</span></span>: "test2", description: "Test User"), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>(<span class="hljs-type"><span class="hljs-type">name</span></span>: "test3", description: "Test User") ] dao2.findAll() &gt;&gt; { throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> UnsupportedOperationException() }</code> </pre><br>  Interactions are local (defined in the <i>then</i> block) and global (defined elsewhere).  Local ones are available only in the <i>then</i> block, global ones are available everywhere, starting from the point of their definition.  Also for local interactions, you can specify their power, this is the expected number of method calls. <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserCacheSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">users</span></span></span><span class="hljs-function"> </span></span>= [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">User</span></span>(name: <span class="hljs-string"><span class="hljs-string">"test1"</span></span>, description: <span class="hljs-string"><span class="hljs-string">"Test User"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">User</span></span>(name: <span class="hljs-string"><span class="hljs-string">"test2"</span></span>, description: <span class="hljs-string"><span class="hljs-string">"Test User"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">User</span></span>(name: <span class="hljs-string"><span class="hljs-string">"test3"</span></span>, description: <span class="hljs-string"><span class="hljs-string">"Test User"</span></span>) ] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dao</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">be</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">used</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">only</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">once</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">user</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">searches</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">until</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">invalidated</span></span></span><span class="hljs-function">"</span></span>() { setup: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dao</span></span></span><span class="hljs-function"> </span></span>= <span class="hljs-type"><span class="hljs-type">Mock</span></span>(<span class="hljs-type"><span class="hljs-type">UserDAO</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cache</span></span></span><span class="hljs-function"> </span></span>= <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">UserCacheImpl</span></span>(dao) when: cache.getUser(<span class="hljs-string"><span class="hljs-string">"test1"</span></span>) cache.getUser(<span class="hljs-string"><span class="hljs-string">"test2"</span></span>) cache.getUser(<span class="hljs-string"><span class="hljs-string">"test3"</span></span>) cache.getUser(<span class="hljs-string"><span class="hljs-string">"test4"</span></span>) then: <span class="hljs-number"><span class="hljs-number">1</span></span> * dao.findAll() &gt;&gt; users } }</code> </pre><br>  In this example, we create a mock for <i>UserDAO</i> and a real <i>UserCache</i> object using this mock (setup block).  Then we search for several users by name ( <i>when</i> -block) and finally check that the <i>findAll</i> method, which returns a previously prepared result, is called only once. <br>  Describing the interaction, you can use templates: <br><br><pre> <code class="hljs markdown"> 1 <span class="hljs-bullet"><span class="hljs-bullet">* dao.findAll() &gt;&gt; users (1..4) *</span></span> dao.findAll() &gt;&gt; users (2..<span class="hljs-emphasis"><span class="hljs-emphasis">_) * dao.findAll() &gt;&gt; users (_</span></span>..4) <span class="hljs-bullet"><span class="hljs-bullet">* dao.findAll() &gt;&gt; users _.findAll() &gt;&gt; users dao./find.*</span></span>/(_) &gt;&gt; users</code> </pre><br>  You can read more <a href="http://code.google.com/p/spock/wiki/Interactions">here</a> . <br><br><h2>  Additional features </h2><br>  As you can see, the framework already has a lot of features.  But like other frameworks there is the possibility of expanding the functionality.  Examples include embedded extensions: <br><ul><li>  <i>@Timeout</i> - sets the maximum wait time for the script, analogous to the <i>timeout</i> attribute of the <i>@Test</i> from JUnit </li><li>  <i>@Ignore</i> - disables the script, similar to <i>@Ignore</i> from JUnit </li><li>  <i>@IgnoreRest</i> - disables all scripts except those that are enchanted, useful if you only need to test 1 test. </li><li>  <i>@FailsWith</i> - sets the expected exception, analogous to the <i>expected</i> attribute of <i>@Test</i> from JUnit </li><li>  <i>@Unroll</i> - indicates that parameterized scripts should be specified as separate scripts for each iteration, here you can also specify a template for the name of the requirement, the default is <i>"#featureName [#iterationCount]"</i> </li></ul><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InternalExtensionsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@FailsWith</span></span>(<span class="hljs-type"><span class="hljs-type">NumberFormatException</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Unroll</span></span>(<span class="hljs-string"><span class="hljs-string">"#featureName (#data)"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">integer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">method</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">throw</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exception</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wrong</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parameters</span></span></span><span class="hljs-function">"</span></span>() { <span class="hljs-type"><span class="hljs-type">Integer</span></span>.parseInt(data) where: data &lt;&lt; [<span class="hljs-string"><span class="hljs-string">"Hello, World!!!"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x245"</span></span>, <span class="hljs-string"><span class="hljs-string">"1798237199878129387197238"</span></span>] } <span class="hljs-meta"><span class="hljs-meta">@Ignore</span></span> <span class="hljs-meta"><span class="hljs-meta">@Timeout</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">temporary</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">disabled</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">feature</span></span></span><span class="hljs-function">"</span></span>() { setup: sleep(<span class="hljs-number"><span class="hljs-number">20000</span></span>) } }</code> </pre><br>  Integration with other frameworks made in separate modules: <br><ul><li>  Spring - the specification is annotated using <i>@ContextConfiguration (locations = "application_context_xml")</i> and dependencies can be embedded into fields using <i>@Autowired</i> <br><br><pre> <code class="hljs scala"><span class="hljs-meta"><span class="hljs-meta">@ContextConfiguration</span></span>(locations = <span class="hljs-string"><span class="hljs-string">"context.xml"</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpringIntegrationSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span> testSymbol <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test-symbol</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">be</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">spring</span></span></span><span class="hljs-function">"</span></span>() { expect: testSymbol == <span class="hljs-string"><span class="hljs-string">"spring"</span></span> } }</code> </pre><br></li><li>  Guice - the specification is annotated with <i>@UseModules (guice_module_class)</i> and dependencies can be embedded into fields using <i>@Inject</i> <br><br><pre> <code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GuiceModule</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractModule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> void configure() { bind(<span class="hljs-type"><span class="hljs-type">String</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>).annotatedWith(<span class="hljs-type"><span class="hljs-type">Names</span></span>.named(<span class="hljs-string"><span class="hljs-string">"test-symbol"</span></span>)).toInstance(<span class="hljs-string"><span class="hljs-string">"guice"</span></span>); } } <span class="hljs-meta"><span class="hljs-meta">@UseModules</span></span>(<span class="hljs-type"><span class="hljs-type">GuiceModule</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GuiceIntegrationSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-meta"><span class="hljs-meta">@Named</span></span>(<span class="hljs-string"><span class="hljs-string">"test-symbol"</span></span>) <span class="hljs-type"><span class="hljs-type">String</span></span> testSymbol <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test-symbol</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">be</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">guice</span></span></span><span class="hljs-function">"</span></span>() { expect: testSymbol == <span class="hljs-string"><span class="hljs-string">"guice"</span></span> } }</code> </pre><br></li><li>  Tapestry - the specification is annotated using <i>@SubModule (tapestry_module_class)</i> and you can embed dependencies in the fields using the <i>@Inject</i> annotation <br><br><pre> <code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TapestryModule</span></span></span><span class="hljs-class"> </span></span>{ public void contributeApplicationDefaults(<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-type"><span class="hljs-type">MappedConfiguration</span></span>&lt;<span class="hljs-type"><span class="hljs-type">String</span></span>, <span class="hljs-type"><span class="hljs-type">String</span></span>&gt; configuration) { configuration.add(<span class="hljs-string"><span class="hljs-string">"test-symbol"</span></span>, <span class="hljs-string"><span class="hljs-string">"tapestry"</span></span>); } } <span class="hljs-meta"><span class="hljs-meta">@SubModule</span></span>(<span class="hljs-type"><span class="hljs-type">TapestryModule</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TapestryIntegrationSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-meta"><span class="hljs-meta">@Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">"test-symbol"</span></span>) <span class="hljs-type"><span class="hljs-type">String</span></span> testSymbol <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test-symbol</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">be</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tapestry</span></span></span><span class="hljs-function">"</span></span>() { expect: testSymbol == <span class="hljs-string"><span class="hljs-string">"tapestry"</span></span> } }</code> </pre><br></li></ul><br>  And most importantly, if you need your own functionality, you can add your own extensions.  Key classes for extending the functionality: <br><ul><li>  <i>IMethodInterceptor, IMethodInvocation</i> is the first for proxying specification methods, allows you to add your code before and after calling a method, to simplify work, you can use the <i>AbstractMethodInterceptor</i> class.  The second one is accessible from the first one and serves to work with the original (proxied) method. </li><li>  <i>IGlobalExtension</i> - allows you to work with specification metadata ( <i>SpecInfo</i> ), here you can look at the metadata for any components of the specification (fields, installation methods, requirements scenarios) and add your own interceptors to them </li><li>  <i>IAnnotationDrivenExtension</i> - the same as the previous one, only simplifies the task, if our extension is tied to a specific annotation, to simplify the work, you can use the <i>AbstractAnnotationDrivenExtension</i> class </li></ul><br>  To create your own extension, you need to create a descendant class <i>IGlobalExtension</i> or <i>IAnnotationDrivenExtension</i> , in which your <i>IMethodInterceptor</i> will most likely be added to the components of the specification, and in the end for <i>IGlobalExtension</i> you need to add the <a href="http://habrahabr.ru/blogs/java/118488/">spi extension</a> to <i>META-INF / services / orgpopoframework.runtime.extension.IGlobalExtension</i> , for <i>IAnnotationDrivenExtension,</i> our annotation needs to be annotated using <i>@ExtensionAnnotation (extension_class)</i> . <br>  An example of an extension that runs a script a specified number of times: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Retention</span></span>(RetentionPolicy.RUNTIME) <span class="hljs-meta"><span class="hljs-meta">@Target</span></span>({ElementType.METHOD, ElementType.TYPE}) <span class="hljs-meta"><span class="hljs-meta">@ExtensionAnnotation</span></span>(RepeatExtension.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-meta"><span class="hljs-meta">@interface</span></span> Repeat { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">value</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">default</span></span></span><span class="hljs-function"> 1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepeatExtension</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractAnnotationDrivenExtension</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Repeat</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitFeatureAnnotation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Repeat annotation, FeatureInfo feature)</span></span></span><span class="hljs-function"> </span></span>{ feature.addInterceptor(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RepeatInterceptor(annotation.value())); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepeatInterceptor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractMethodInterceptor</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RepeatInterceptor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.count = count; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interceptFeatureExecution</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IMethodInvocation invocation)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Throwable </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; count; i++) { invocation.proceed(); } } }</code> </pre><br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomExtensionsSpec</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Specification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Repeat</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">custom</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extension</span></span></span><span class="hljs-function">"</span></span>() { expect: <span class="hljs-type"><span class="hljs-type">Integer</span></span>.parseInt(<span class="hljs-string"><span class="hljs-string">"123"</span></span>) == <span class="hljs-number"><span class="hljs-number">123</span></span> } }</code> </pre><br><br><h2>  Running tests </h2><br>  Due to the fact that Spock tests are run using JUnit launchers ( <i>Sputnik</i> ), they work fine under various IDEs (as the authors say, I checked only under the idea).  You can also configure the test run from ant, maven, gradle.  All the necessary information about the settings can be found <a href="http://code.google.com/p/spock/wiki/GettingStarted">here</a> . <br>  I will also add that for myself I‚Äôm a little podshamanil configuration under maven, because  proposed by the authors did not work under maven3.  Here is my configuration option: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span>4.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>testing-example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0-SNAPSHOT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>testing-spock<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0-SNAPSHOT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span>jar<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Testing Spock Framework Example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> This is an example application that demonstrates Spock Framework usage. <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.codehaus.groovy<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>groovy-all<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>${groovy-version}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>test<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.spockframework<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spock-core<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>${spock.version}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>test<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span>src/test/groovy<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span>src/test/resources<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.apache.maven.plugins<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>maven-surefire-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">includes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">include</span></span></span><span class="hljs-tag">&gt;</span></span>**/*Spec.groovy<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">include</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">includes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.codehaus.gmaven<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>gmaven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>${gmaven-version}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">providerSelection</span></span></span><span class="hljs-tag">&gt;</span></span>${gmaven-provider}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">providerSelection</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goals</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goal</span></span></span><span class="hljs-tag">&gt;</span></span>testCompile<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goals</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.codehaus.groovy<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>groovy-all<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>${groovy-version}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">properties</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groovy-version</span></span></span><span class="hljs-tag">&gt;</span></span>1.7.10<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groovy-version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gmaven-version</span></span></span><span class="hljs-tag">&gt;</span></span>1.3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gmaven-version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gmaven-provider</span></span></span><span class="hljs-tag">&gt;</span></span>1.7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gmaven-provider</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spock.version</span></span></span><span class="hljs-tag">&gt;</span></span>0.5-groovy-1.7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spock.version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">properties</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h2>  Conclusion </h2><br>  Despite the fact that I got acquainted with this wonderful framework quite recently and practically have no experience of using it, I can say with confidence that it is not inferior in its capabilities, and in some moments even surpasses other frameworks.  I really liked to write tests on Groovy, I liked to write tests guided by BDD.  Therefore, I advise you to try. <br><br>  Examples can be found <a href="https://github.com/sody/samples/tree/master/testing/testing-spock">here</a> . <br><br><h2>  Literature </h2><br><ul><li>  <a href="http://behaviour-driven.org/">Behavior-Driven Development</a> </li><li>  <a href="http://en.wikipedia.org/wiki/Behavior_Driven_Development">Behavior Driven Development</a> </li><li>  <a href="http://code.google.com/p/spock/wiki/SpockBasics">Spock basics</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/137561/">https://habr.com/ru/post/137561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137552/index.html">How we designed themes for Mail</a></li>
<li><a href="../137554/index.html">Free ebook on agile development methodologies</a></li>
<li><a href="../137557/index.html">The first "StartupDay" in Chelyabinsk</a></li>
<li><a href="../137558/index.html">How to implement the HMVC pattern in Rails</a></li>
<li><a href="../137560/index.html">Android, Huawei and logs</a></li>
<li><a href="../137562/index.html">We test the browser for support of CSS3</a></li>
<li><a href="../137563/index.html">Last year in ITMO or writing a diploma at the Faculty of IT & P</a></li>
<li><a href="../137564/index.html">Cut the Rope: how we make updates to the game</a></li>
<li><a href="../137565/index.html">Fantasy or reality? Samsung concept hit parade</a></li>
<li><a href="../137566/index.html">The Little Redis Book Translation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>