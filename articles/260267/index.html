<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating multiplatform games using Cocos2d-x version 3.0 and higher</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this guide, you will learn how to create a simple game using Cocos2d-x 3.0 or later in the Windows development environment and how to compile it fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating multiplatform games using Cocos2d-x version 3.0 and higher</h1><div class="post__text post__text-html js-mediator-article">  In this guide, you will learn how to create a simple game using Cocos2d-x 3.0 or later in the Windows development environment and how to compile it for running on Windows and Android. <br><br><img src="https://habrastorage.org/files/513/c5c/4ed/513c5c4ed88b4cb5ba63195a16d5a744.jpg"><br><a name="habracut"></a><br><h2>  <font color="#0071c5">What is Cocos2d-x?</font> </h2><br>  Cocos2d-x is a cross-platform framework for games (and other graphical applications, such as interactive books), based on cocos2d for iOS, but using C ++, JavaScript or Lua instead of Objective-C. <br><br>  One of the advantages of this framework is the ability to create games for different platforms (Android, iOS, Win32, Windows Phone, Mac, Linux and others).  At the same time, the basis of the program remains the same - only a slight adaptation is required for a specific platform. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <font color="#0071c5">Cocos2d-x console</font> </h2><br>  The cocos2d-console appeared in version 3.0.  This command line provides the same functions as the project management tools in Cocos2d-x or Cocos2d-JS - creating, executing, building, debugging, etc. <br><br><h2>  <font color="#0071c5">Create your first game</font> </h2><br>  <b>1.</b> <a href="http://www.cocos2d-x.org/download">Download the</a> latest version of the framework and unpack the archive.  In this tutorial, version <a href="">3.3rc0 was used</a> , and the framework archive was unpacked to the desktop (C: \ Users \ intel-user \ Desktop \ cocos2d-x-3.3rc0). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e72/747/c7e/e72747c7e3aa34b1984517d85c134c74.png" alt="image"><br>  <i>Directory structure of Cocos2d-x version 3.3 RC0</i> <br><br>  <b>2.</b> To create a new project in cocos2d-x, use setup.py (Python script), which is located in the framework folder.  It will allow you to configure all variable environments for Win32 and Android platforms.  Before you run setup.py, you will need to download, install, and configure the following items: <br><br><ul><li>  <a href="http://developer.android.com/sdk/index.html">Android SDK</a> </li><li>  <a href="http://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a> </li><li>  <a href="http://ant.apache.org/bindownload.cgi">Apache ant</a> </li></ul><br>  If you have not installed Python Runtime, download version 2.7.6 from here: <a href="http://www.python.org/download/">www.python.org/download</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1dd/933/6c7/1dd9336c79da610b6d8b8233027b46b5.png" alt="image"><br>  <i>Location setup.py</i> <br><br>  <b>3.</b> Open a command prompt (cmd.exe) and run the following commands: <br><br>  - Go to the script folder (framework folder): <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> C:\Users\intel-user\Desktop\cocos2d-x-3.3rc0</code> </pre> <br>  - Run the setup.py script: <br><br><pre> <code class="bash hljs">python setup.py (or setup.py only)</code> </pre> <br>  <b>Note:</b> To run the Python command from the command line, <a href="http://stackoverflow.com/questions/6318156/adding-python-path-on-windows-7">add the folder where Python is installed to the path environment variable</a> .  The script will require installation paths for the Android SDK, Android NDK and ANT. <br><br>  - Android NDK folder: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f9/f55/c19/9f9f55c1919e9ff5e2267da06c4db3d6.png" alt="image"><br>  <i>Cocos2d-console requires the path to the NDK folder</i> <br><br>  - Path to the Android SDK folder: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0d5/d31/a7f/0d5d31a7fadccd149f608a2a3b5e4909.png" alt="image"><br>  <i>Cocos2d-console requires SDK folder path</i> <br><br>  - Path to the Apache ANT folder: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/09b/a0e/829/09ba0e8298ee41e90ef76913eeb01a4c.png" alt="image"><br>  <i>Cocos2d-console requires ANT folder path</i> <br><br>  After specifying all paths, re-open the command prompt (cmd.exe).  <b>This action is required to use the cocos2d-console commands</b> . <br><br>  <b>4.</b> Type cmd.exe to exit to the command line (you can enter cocos2d-console commands only here) and open the framework folder again: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> C:\Users\intel-user\Desktop\cocos2d-x-3.3rc0</code> </pre> <br>  In the next step, we will create a new Cocos2d-x project: <br><br><pre> <code class="bash hljs">cocos new MyGame ‚Äìp com.Project.MyGame ‚Äìl cpp ‚Äìd Project</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/005/2a3/c92/0052a3c92fe63c53e529089d64a92874.png"><br>  <i>Creating a Cocos2d-x project</i> <br><br>  A brief explanation of the parameters: <br><ul><li>  <b>new:</b> creates a new project;  it should be followed by the name of the project (in this example, MyGame); </li><li>  <b>-p:</b> sets the name of the package; </li><li>  <b>-l:</b> selects the programming language;  value can be cpp or lua; </li><li>  <b>-d:</b> directory in which the framework creates the project structure. </li></ul><br>  If everything is fine, then the project is created in the Project folder - in the directory where the framework was unpacked. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/36d/143/43b/36d14343b91263806b6ccc28c096a4c2.png"><br>  <i>MyGame directory structure</i> <br><br>  The created project contains the base code of the game (classes), resources (images, audio, etc.) and one project for each platform supported by the framework. <br><br><h2>  <font color="#0071c5">Create an Android application</font> </h2><br>  Requirements: <br><ul><li>  To create gaming applications for Android, you need to configure all environment variables (Android SDK, Android NDK and ANT).  If you haven‚Äôt completed this step yet, see the ‚ÄúCreating Your First Game‚Äù section above. <br></li><li>  Installed <a href="http://www.oracle.com/technetwork/java/javase/downloads">Java Development Kit (JDK)</a> </li></ul><br>  <b>Note:</b> Cocos2d-console uses the javac command to create Android applications, so you need to <a href="http://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7">add the</a> JAVA_HOME <a href="http://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7">environment variable</a> (path for the JDK). <br><br>  <b>1.</b> We will compile the game program for several architectures, and the framework does not compile by default for x86 and armeabi-v7a.  Edit the Application.mk file in C: \ Users \ intel-user \ Desktop \ cocos2d-x-3.3rc0 \ Project \ MyGame \ proj.android \ jni <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e12/6f2/2ac/e126f22ac73be11ee76c88af10c42de3.png"><br>  <i>Location of the Application.mk file</i> <br><br>  <b>2.</b> Add the following line to this file: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">APP_ABI</span></span> := armeabi armeabi-v7a x86</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/fd9/557/390/fd95573900446512f4bf8f4727993e42.png"><br>  <i>Application.mk after adding the line APP_ABI</i> <br><br>  Now, after adding target architectures, let's compile our game! <br><br>  <b>3.</b> Using the command line prompt, go to the framework folder: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> C:\Users\intel-user\Desktop\cocos2d-x-3.3rc0</code> </pre> <br>  <b>4.</b> Run the command shown below and run the game for Android: <br><br><pre> <code class="bash hljs">cocos run ‚Äìs Project\MyGame ‚Äìp android</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/91b/74f/473/91b74f4734fa1c36f91bf6d135350275.png"><br>  <i>Running a command to compile and execute an Android game</i> <br><br><ul><li>  <b>run:</b> compiles and runs the project; </li><li>  <b>-s:</b> path to the project folder; </li><li>  <b>-p:</b> selected platform. </li></ul><br>  <b>Note:</b> if only compilation is required, enter: <br><br><pre> <code class="bash hljs">cocos compile ‚Äìs Project\MyGame ‚Äìp android</code> </pre> <br>  If everything works correctly, the <b>cocos2d-console</b> command will use adb (if this is set in the environment variables) to install the APK file on the connected device or initialized emulator.  If they are not available, the command will wait for the availability of the device or emulator, as shown below: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a07/bfd/e7a/a07bfde7ac84c13a2394bd35a7951a03.png"><br>  <i>Command expects device or initialized emulator</i> <br><br>  If there is a connected device or an initialized emulator, the following screen will appear: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c90/0d5/64c/c900d564c2506eed0677ea2e0e0836db.png"><br>  <i>Game screen on the Android platform</i> <br><br><h2>  <font color="#0071c5">Creating Win32 Applications (for PCs running Windows 7 or Windows 8)</font> </h2><br>  We will need <a href="http://www.visualstudio.com/">Visual Studio 2012</a> or later. <br><br>  <b>1.</b> Using the command line prompt (cmd.exe), go to the folder where the framework was unpacked: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> C:\Users\intel-user\Desktop\cocos2d-x-3.3rc0</code> </pre> <br>  <b>2.</b> To compile and run the game for execution in a Windows environment, enter the following command: <br><br><pre> <code class="bash hljs">cocos run ‚Äìs Project\MyGame ‚Äìp win32</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/e5a/3f3/6ec/e5a3f36ec0992ff9a29abc5ea74b0098.png"><br>  <i>Running the command to compile and run the game in Windows</i> <br><br>  Briefly about the parameters: <br><ul><li>  <b>run:</b> compiling and running the selected project </li><li>  <b>-s:</b> path to the project folder </li><li>  <b>-p:</b> platform selected </li></ul><br>  <b>Note:</b> if only compilation is required, use ‚Äúcompile‚Äù instead of ‚Äúrun‚Äù, as in the following example: <br><br><pre> <code class="bash hljs">cocos compile ‚Äìs Project\MyGame ‚Äìp win32</code> </pre> <br>  If everything works correctly, then after executing the run command you will see the following screen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/591/a23/926/591a239267700ed811c68d5da233d98a.png"><br>  <i>Game screen on the Windows platform</i> <br><br>  To compile and run a game project, you can use Visual Studio: <br><br>  <b>1.</b> In the Project directory, open the Visual Studio <em>MyGame.sln file</em> in the ‚Äúproj.win32‚Äù folder. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f4c/6e3/894/f4c6e3894f17ab66fe8085b6546659f7.png"><br>  <i>Win32 project directory structure</i> <br><br>  <b>2.</b> To compile the project, press F6 (or use the Build -&gt; Build Solution menu) and F5 to start it (or the Debug menu -&gt; Start Debugging).  After building and running, you should see the same screen as after performing the steps for the console. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/810/8ca/974/8108ca9743a86b441d9c0a3fc214437d.png"><br>  <i>Win32 project opened in Visual Studio</i> <br><br>  So, now you know how to create and compile a game for Android (x86 and ARM), Windows 7 and Windows 8 (in desktop mode), bravo :) <br><br><h2>  <font color="#0071c5">Almost forgotten</font> </h2><br>  Currently, Cocos2d-x 3.3 has a problem ‚Äî the toolkit does not allow you to create projects (see details <a href="https://github.com/cocos2d/cocos2d-x/issues/9716">here</a> ).  This problem is fixed in the latest preliminary edition, but still remains in the latest release of Cocos2d-x. <br><br>  For details on compiling optimization, see our <a href="https://software.intel.com/en-us/articles/optimization-notice">optimization notes</a> . <br><br><h2>  <font color="#0071c5">Mistress note</font> </h2><br>  The source code of the Cocos2d-x framework is licensed under the <a href="http://en.wikipedia.org/wiki/MIT_License">MIT License</a> , and you can download it <a href="https://github.com/cocos2d/cocos2d-x">here</a> . <br>  ¬ª <a href="http://www.cocos2d-x.org/">Cocos2d-x and documentation</a> <br>  ¬ª <a href="http://www.cocos2d-x.org/wiki/Cocos2d-console">Cocos2d-console console</a> </div><p>Source: <a href="https://habr.com/ru/post/260267/">https://habr.com/ru/post/260267/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../26025/index.html">ROTOR-2008 competition completed</a></li>
<li><a href="../260253/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ164 (June 8 - 14, 2015)</a></li>
<li><a href="../260255/index.html">"Big battalions" in continuous time (battle simulation)</a></li>
<li><a href="../260257/index.html">PHP Digest 64 - interesting news, materials and tools (June 1 - 14, 2015)</a></li>
<li><a href="../260259/index.html">Ingredients of IoT Fast Food Delicacies: Intel Edison + Intel XDK + JavaScript + Grove Kit</a></li>
<li><a href="../260269/index.html">Antivirus Self-Defense</a></li>
<li><a href="../26027/index.html">Wordpress 2.6 will remember everything</a></li>
<li><a href="../260271/index.html">Salad "Microsoft Guide for SymbolTable with a delicate aftertaste Antlr4"</a></li>
<li><a href="../260273/index.html">Challenge the tradition of hi-fi. Digital potentiometers in detail. Part two</a></li>
<li><a href="../260275/index.html">How we made the best release tracker tracker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>