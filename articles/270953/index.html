<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How does the Code Game Challenge</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Code Game Challenge (CGC) is a competition format in which players practice writing game strategies that determine the behavior of unit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How does the Code Game Challenge</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/351/c63/875/351c638752ab487881f4014a9a3d20b4.png"><br><br><h3>  Introduction </h3><br>  <strong>Code Game Challenge</strong> (CGC) is a competition format in which players practice writing game strategies that determine the behavior of units under their control in a certain game world.  This type of competition is an eternal frequenter of more or less large programming olympiads. <br><br>  In this article I will describe my vision of the device systems that make the holding of these competitions possible.  I gained this knowledge when developing a similar project, which will be discussed in the second part of the article. <br><a name="habracut"></a><br><h3>  Vocabulary articles </h3><br>  <strong>Strategy</strong> - the player's code that determines the behavior of the unit. <br>  <strong>Tact</strong> - time for which the code of all strategies will be executed exactly 1 time. <br>  <strong>Simulator</strong> - a system that simulates the state of the game world, based on the code of strategies. <br>  <strong>List of actions</strong> (unit intentions) - a list containing actions that the unit ‚Äúwould like‚Äù to perform on the current turn. <br><hr><br><h3>  Content </h3><br><ul><li>  About Simulators <br><ul><li>  Clock </li><li>  Real time </li></ul></li><li>  AI - Project </li></ul><br><hr><br><h3>  About Simulators </h3><br>  I found 2 main approaches to the development of such systems.  I worked directly with one of them.  I'll start with him: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1) Clock </h4><br>  <b>Feature:</b> There is a system that processes each player code: <br><br><img src="https://habrastorage.org/files/d63/4ae/e38/d634aee38c644c96973c42a8883535fb.png"><br><br><h4>  Upper level </h4><br>  It lies in the fact that the code of all players is sent through each simulator through a simulator that simulates the behavior of units and calculates the state of the game world.  Further, the state of the game world is remembered and everything starts from the beginning.  This continues until the condition for the continuation of the game is violated (a winner has been found or the bar limit has been exceeded). <br><br><h4>  Lower level </h4><br>  Strategy code, as a rule, has access to 2 interfaces: <br><br><ol><li>  For information on the state of the game world </li><li>  To control a controlled unit </li></ol><br>  Analyzing the state of the game world and giving commands to the unit, the player‚Äôs strategy fills out the list of unit actions.  The simulator, using these lists and information about the game world, models the game tact (performs a certain number of actions from the lists), periodically fixing the state of the game world.  And so in a circle to the bitter end. <br><br>  The data accumulated by the simulator can then be used to display the game match in an acceptable form. <br><br><h4>  Implementation options </h4><br><h5>  1) Strategy format </h5><br><h6>  <strong>Function</strong> </h6><br><pre><code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(    ,    )</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( -  )  -   <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  + Relative ease of implementation <br>  - Where are the strategies to store data between measures? <br><br><h6>  <strong>Class</strong> </h6><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Strategy</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">init</span></span></span><span class="hljs-class">() </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#      #         end def move() #        , #     end end</span></span></span></span></code> </pre><br>  + Easier to understand <br>  + Just implement data storage between requests (object variables) <br><br><h5>  2) "Wrapper" strategy </h5><br><h6>  <strong>Process</strong> </h6><br>  The code is wrapped in a process shell.  The server asks for data from the process - strategy. <br><br>  + This approach makes it relatively easy to implement multi-language support for writing strategies. <br>  + Reduces the number of ways to harm the server <br>  - Difficulty of implementation <br><br><h6>  <strong>Connectable code</strong> </h6><br>  The code connects to the processing system (like .h files in C ++). <br><br>  + Ease of relization <br>  - Complicated support for third-party languages ‚Äã‚Äã(the strategy is written in the language of the processing system) <br>  (A possible solution to the problem is the use of translators) <br>  - The enemy is already inside (requires a complex architecture to protect the simulator) <br><br><h5>  Features of the "clock" approach </h5><br><ul><li>  The complexity of the development script processing system </li><li>  All strategies, regardless of execution time, have equal chances for success. </li><li>  Great for match games </li></ul><br><h4>  2) Real time </h4><br>  <b>Feature</b> : there is a resource to which the player‚Äôs code can access during its execution. <br><br>  The strategy is executed in a loop on the client or server, requesting data and sending commands as needed. <br><br><img src="https://habrastorage.org/files/9dd/e83/c6a/9dde83c6a7894e64b44ba2a278c09ab5.png"><br><br>  <strong>Example strategy:</strong> <br><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Strategy def initialize ... <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> def move <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> # ,      <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><h4>  Features of the approach </h4><br><ul><li>  Strategy time affects your chances of winning </li><li>  The main difficulty is solving synchronization problems. </li></ul><br><h4>  pros </h4><br>  + Regarding the first method, the player is more difficult to harm the server <br>  + A good platform for gaming sessions, not limited by time frame. <br><br><h3>  AI - Project </h3><br><h4>  Story </h4><br>  Half a year ago, I accidentally stumbled upon a post that Code Game Challenge format competitions were held in my city.  They were one-time and dated 2010.  This prompted the creation of an application in which you could participate in competitions of this kind anywhere and anytime. <br><br>  So AI - Project was born. <br><br><h4>  Specifications </h4><br>  <b>Type of strategy:</b> Class <br>  <b>Strategy Writing Language:</b> Ruby <br>  <b>Method for specifying a position in space:</b> (x, y) <br>  <b>Game world:</b> square field, magicians and fireballs <br><br><h4>  What technologies were used </h4><br><ul><li>  <i>PIXI.js</i> to visualize the results of the simulator </li><li>  <i>CodeMirror</i> for easy browser-based code editor.  The developers of this miracle gave it a very user-friendly interface. </li><li>  <i>JQuery</i> for exchanging code with the server and various small things </li><li>  <i>Ruby on Rails</i> for writing server logic and simulator </li></ul><br><h4>  About architecture </h4><hr><br><h4>  About simulator </h4><br>  <b>View:</b> ‚ÄúClock‚Äù <br><br>  One of the main tasks of the simulator is to simulate the game world.  The complexity of this module of the simulator depends only on the ultimate goal (to take into account physics or not, how complicated this physics should be, etc.).  In the AI ‚Äã‚Äã- Project simulator, this module is implemented relatively simply.  Below is a simplified scheme invented for this algorithm. <br><br><img src="https://habrastorage.org/files/920/6ff/f9e/9206fff9e22c4afd903c5f91dde6bdab.png"><br><br><h4>  About game sessions </h4><br>  A similar in functionality mechanism is implemented in almost all match online games.  It is necessary to recruit players, create a game for them, limit them in time, issue statistics at the end. <br><br>  The game session is implemented in the form of a model that stores player code, status and statistics.  Session is active until time runs out and exists until it is time until the last player leaves it. <br><br>  The greatest difficulty in the implementation for me was the creation of a game session.  Namely, how to combine N players into a game session and redirect them to their game pages. <br><br>  How to do it all in one action, I at that time represented very vaguely.  My solution for 2 players: <br><br><img src="https://habrastorage.org/files/df8/228/3f7/df82283f75254d3bb2bb7a8d49cb61c3.png"><br><br><h4>  Player Code Execution </h4><br>  About a week ago, I, having corrected the last bug that hindered my work, decided once again to test the mechanism of the game sessions.  After running the code that contained the string <strong>Game.delete_all</strong> , something went wrong.  Without going into details, I‚Äôll say that Ruby has the means to solve such problems in the form of 5-6 gems and its own defense mechanism ( <a href="http://phrogz.net/programmingruby/taint.html">$ SAFE</a> ). <br><br><h4>  Time limit </h4><br>  The task with a time limit was solved with the help of an advanced JavaScript timer (displaying the remaining time for the client) and a self-made <i>Back Ground Worker</i> for Ruby on Rails.  When creating a game session, a stream is created, which, after the time allotted for the game, makes it inactive.  After that, the client cannot perform some actions (for example, sending a code). <br><br><h4>  Happy end </h4><br>  <a href="https://ai-project.herokuapp.com/">AI_Project</a> </div><p>Source: <a href="https://habr.com/ru/post/270953/">https://habr.com/ru/post/270953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../27094/index.html">Extensions for OpenOffice</a></li>
<li><a href="../270943/index.html">Concurrent programming in Java8. Creating multi-threaded programs using the Fork / Join Framework</a></li>
<li><a href="../270949/index.html">Factorization of numbers (option 2)</a></li>
<li><a href="../27095/index.html">Brain training</a></li>
<li><a href="../270951/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 17. Pizza and Plastic</a></li>
<li><a href="../270955/index.html">What's New in Veeam Backup & Replication 9.0: New Products of the Veeam Explorers Line to Recover Application Objects</a></li>
<li><a href="../270957/index.html">Telegram Bots: Experience, Revelations, Design Tips</a></li>
<li><a href="../27096/index.html">idea: commenting on all news in one space for all</a></li>
<li><a href="../270961/index.html">Financial Transmission Ways # 4: ASTS Bridge Protocol</a></li>
<li><a href="../270965/index.html">Those village from zero to one. Now and with reviews of companies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>